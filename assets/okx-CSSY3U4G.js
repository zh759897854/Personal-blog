const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-D6bl7fvD.js","assets/index-DulRoDIR.js","assets/index-BIYRm5Aj.css"])))=>i.map(i=>d[i]);
import{_ as __vitePreload,a as _export_sfc,o as onMounted,c as createElementBlock,b as createBaseVNode,F as Fragment$1,d as openBlock}from"./index-DulRoDIR.js";const _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";class Base64{encode(t){let et="",ms,ws,vs,_s,Es,Ts,Ss,Rs=0;for(;Rs<t.length;)ms=t.charCodeAt(Rs++),ws=t.charCodeAt(Rs++),vs=t.charCodeAt(Rs++),_s=ms>>2,Es=(ms&3)<<4|ws>>4,Ts=(ws&15)<<2|vs>>6,Ss=vs&63,isNaN(ws)?Ts=Ss=64:isNaN(vs)&&(Ss=64),et=et+_keyStr.charAt(_s)+_keyStr.charAt(Es)+_keyStr.charAt(Ts)+_keyStr.charAt(Ss);return et}encodeIgnoreUtf8(t){let et="",ms,ws,vs,_s,Es,Ts,Ss,Rs=0;for(;Rs<t.length;)ms=t[Rs++],ws=t[Rs++],vs=t[Rs++],_s=ms>>2,Es=(ms&3)<<4|ws>>4,Ts=(ws&15)<<2|vs>>6,Ss=vs&63,isNaN(ws)?Ts=Ss=64:isNaN(vs)&&(Ss=64),et=et+_keyStr.charAt(_s)+_keyStr.charAt(Es)+_keyStr.charAt(Ts)+_keyStr.charAt(Ss);return et}decode(t){let et="",ms,ws,vs,_s,Es,Ts,Ss,Rs=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");Rs<t.length;)_s=_keyStr.indexOf(t.charAt(Rs++)),Es=_keyStr.indexOf(t.charAt(Rs++)),Ts=_keyStr.indexOf(t.charAt(Rs++)),Ss=_keyStr.indexOf(t.charAt(Rs++)),ms=_s<<2|Es>>4,ws=(Es&15)<<4|Ts>>2,vs=(Ts&3)<<6|Ss,et=et+String.fromCharCode(ms),Ts!=64&&(et=et+String.fromCharCode(ws)),Ss!=64&&(et=et+String.fromCharCode(vs));return this._utf8_decode(et)}decodeToByteArray(t){let et="",ms,ws,vs,_s,Es,Ts,Ss,Rs=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");Rs<t.length;)_s=_keyStr.indexOf(t.charAt(Rs++)),Es=_keyStr.indexOf(t.charAt(Rs++)),Ts=_keyStr.indexOf(t.charAt(Rs++)),Ss=_keyStr.indexOf(t.charAt(Rs++)),ms=_s<<2|Es>>4,ws=(Es&15)<<4|Ts>>2,vs=(Ts&3)<<6|Ss,et=et+String.fromCharCode(ms),Ts!=64&&(et=et+String.fromCharCode(ws)),Ss!=64&&(et=et+String.fromCharCode(vs));return this._out2ByteArray(et)}_out2ByteArray(t){const et=new Array(t.length);let ms=0,ws=0;for(;ms<t.length;)ws=t.charCodeAt(ms),et[ms]=ws,ms++;return et}_utf8_encode(t){t=t.replace(/\r\n/g,`
`);let et="";for(let ms=0;ms<t.length;ms++){const ws=t.charCodeAt(ms);ws<128?et+=String.fromCharCode(ws):ws>127&&ws<2048?(et+=String.fromCharCode(ws>>6|192),et+=String.fromCharCode(ws&63|128)):(et+=String.fromCharCode(ws>>12|224),et+=String.fromCharCode(ws>>6&63|128),et+=String.fromCharCode(ws&63|128))}return et}_utf8_decode(t){let et="",ms=0,ws=0,vs=0,_s=0;for(;ms<t.length;)ws=t.charCodeAt(ms),ws<128?(et+=String.fromCharCode(ws),ms++):ws>191&&ws<224?(vs=t.charCodeAt(ms+1),et+=String.fromCharCode((ws&31)<<6|vs&63),ms+=2):(vs=t.charCodeAt(ms+1),_s=t.charCodeAt(ms+2),et+=String.fromCharCode((ws&15)<<12|(vs&63)<<6|_s&63),ms+=3);return et}}function byte2hexStr(st){if(st<0||st>255)throw new Error("Input must be a byte");const t="0123456789ABCDEF";let et="";return et+=t.charAt(st>>4),et+=t.charAt(st&15),et}function bytesToString(st){let t="";for(let et=0;et<st.length;et++){const ms=st[et].toString(2),ws=ms.match(/^1+?(?=0)/);if(ws&&ms.length===8){const vs=ws[0].length;let _s=st[et].toString(2).slice(7-vs);for(let Es=1;Es<vs;Es++)_s+=st[Es+et].toString(2).slice(2);t+=String.fromCharCode(parseInt(_s,2)),et+=vs-1}else t+=String.fromCharCode(st[et])}return t}function hextoString(st){const t=st.replace(/^0x/,"").split("");let et="";for(let ms=0;ms<t.length/2;ms++){const ws=`0x${t[ms*2]}${t[ms*2+1]}`;et+=String.fromCharCode(parseInt(ws))}return et}function byteArray2hexStr(st){let t="";for(let et=0;et<st.length;et++)t+=byte2hexStr(st[et]);return t}function base64DecodeFromString(st){return new Base64().decodeToByteArray(st)}function base64EncodeToString(st){return new Base64().encodeIgnoreUtf8(st)}const bytes$3=Object.freeze(Object.defineProperty({__proto__:null,base64DecodeFromString,base64EncodeToString,byte2hexStr,byteArray2hexStr,bytesToString,hextoString},Symbol.toStringTag,{value:"Module"}));var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len=code$3.length;i$3<len;++i$3)lookup[i$3]=code$3[i$3],revLookup[code$3.charCodeAt(i$3)]=i$3;revLookup[45]=62;revLookup[95]=63;function getLens(st){var t=st.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var et=st.indexOf("=");et===-1&&(et=t);var ms=et===t?0:4-et%4;return[et,ms]}function byteLength(st){var t=getLens(st),et=t[0],ms=t[1];return(et+ms)*3/4-ms}function _byteLength(st,t,et){return(t+et)*3/4-et}function toByteArray(st){var t,et=getLens(st),ms=et[0],ws=et[1],vs=new Arr(_byteLength(st,ms,ws)),_s=0,Es=ws>0?ms-4:ms,Ts;for(Ts=0;Ts<Es;Ts+=4)t=revLookup[st.charCodeAt(Ts)]<<18|revLookup[st.charCodeAt(Ts+1)]<<12|revLookup[st.charCodeAt(Ts+2)]<<6|revLookup[st.charCodeAt(Ts+3)],vs[_s++]=t>>16&255,vs[_s++]=t>>8&255,vs[_s++]=t&255;return ws===2&&(t=revLookup[st.charCodeAt(Ts)]<<2|revLookup[st.charCodeAt(Ts+1)]>>4,vs[_s++]=t&255),ws===1&&(t=revLookup[st.charCodeAt(Ts)]<<10|revLookup[st.charCodeAt(Ts+1)]<<4|revLookup[st.charCodeAt(Ts+2)]>>2,vs[_s++]=t>>8&255,vs[_s++]=t&255),vs}function tripletToBase64(st){return lookup[st>>18&63]+lookup[st>>12&63]+lookup[st>>6&63]+lookup[st&63]}function encodeChunk(st,t,et){for(var ms,ws=[],vs=t;vs<et;vs+=3)ms=(st[vs]<<16&16711680)+(st[vs+1]<<8&65280)+(st[vs+2]&255),ws.push(tripletToBase64(ms));return ws.join("")}function fromByteArray(st){for(var t,et=st.length,ms=et%3,ws=[],vs=16383,_s=0,Es=et-ms;_s<Es;_s+=vs)ws.push(encodeChunk(st,_s,_s+vs>Es?Es:_s+vs));return ms===1?(t=st[et-1],ws.push(lookup[t>>2]+lookup[t<<4&63]+"==")):ms===2&&(t=(st[et-2]<<8)+st[et-1],ws.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),ws.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(st,t,et,ms,ws){var vs,_s,Es=ws*8-ms-1,Ts=(1<<Es)-1,Ss=Ts>>1,Rs=-7,Bs=et?ws-1:0,Is=et?-1:1,Ws=st[t+Bs];for(Bs+=Is,vs=Ws&(1<<-Rs)-1,Ws>>=-Rs,Rs+=Es;Rs>0;vs=vs*256+st[t+Bs],Bs+=Is,Rs-=8);for(_s=vs&(1<<-Rs)-1,vs>>=-Rs,Rs+=ms;Rs>0;_s=_s*256+st[t+Bs],Bs+=Is,Rs-=8);if(vs===0)vs=1-Ss;else{if(vs===Ts)return _s?NaN:(Ws?-1:1)*(1/0);_s=_s+Math.pow(2,ms),vs=vs-Ss}return(Ws?-1:1)*_s*Math.pow(2,vs-ms)};ieee754.write=function(st,t,et,ms,ws,vs){var _s,Es,Ts,Ss=vs*8-ws-1,Rs=(1<<Ss)-1,Bs=Rs>>1,Is=ws===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ws=ms?0:vs-1,Hs=ms?1:-1,Ns=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(Es=isNaN(t)?1:0,_s=Rs):(_s=Math.floor(Math.log(t)/Math.LN2),t*(Ts=Math.pow(2,-_s))<1&&(_s--,Ts*=2),_s+Bs>=1?t+=Is/Ts:t+=Is*Math.pow(2,1-Bs),t*Ts>=2&&(_s++,Ts/=2),_s+Bs>=Rs?(Es=0,_s=Rs):_s+Bs>=1?(Es=(t*Ts-1)*Math.pow(2,ws),_s=_s+Bs):(Es=t*Math.pow(2,Bs-1)*Math.pow(2,ws),_s=0));ws>=8;st[et+Ws]=Es&255,Ws+=Hs,Es/=256,ws-=8);for(_s=_s<<ws|Es,Ss+=ws;Ss>0;st[et+Ws]=_s&255,Ws+=Hs,_s/=256,Ss-=8);st[et+Ws-Hs]|=Ns*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(st){const t=base64Js,et=ieee754,ms=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;st.Buffer=Rs,st.SlowBuffer=Bc,st.INSPECT_MAX_BYTES=50;const ws=2147483647;st.kMaxLength=ws;const{Uint8Array:vs,ArrayBuffer:_s,SharedArrayBuffer:Es}=globalThis;Rs.TYPED_ARRAY_SUPPORT=Ts(),!Rs.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ts(){try{const Bu=new vs(1),pu={foo:function(){return 42}};return Object.setPrototypeOf(pu,vs.prototype),Object.setPrototypeOf(Bu,pu),Bu.foo()===42}catch{return!1}}Object.defineProperty(Rs.prototype,"parent",{enumerable:!0,get:function(){if(Rs.isBuffer(this))return this.buffer}}),Object.defineProperty(Rs.prototype,"offset",{enumerable:!0,get:function(){if(Rs.isBuffer(this))return this.byteOffset}});function Ss(Bu){if(Bu>ws)throw new RangeError('The value "'+Bu+'" is invalid for option "size"');const pu=new vs(Bu);return Object.setPrototypeOf(pu,Rs.prototype),pu}function Rs(Bu,pu,xu){if(typeof Bu=="number"){if(typeof pu=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Hs(Bu)}return Bs(Bu,pu,xu)}Rs.poolSize=8192;function Bs(Bu,pu,xu){if(typeof Bu=="string")return Ns(Bu,pu);if(_s.isView(Bu))return ha(Bu);if(Bu==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Bu);if(hl(Bu,_s)||Bu&&hl(Bu.buffer,_s)||typeof Es<"u"&&(hl(Bu,Es)||Bu&&hl(Bu.buffer,Es)))return pa(Bu,pu,xu);if(typeof Bu=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const qu=Bu.valueOf&&Bu.valueOf();if(qu!=null&&qu!==Bu)return Rs.from(qu,pu,xu);const Pu=za(Bu);if(Pu)return Pu;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Bu[Symbol.toPrimitive]=="function")return Rs.from(Bu[Symbol.toPrimitive]("string"),pu,xu);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Bu)}Rs.from=function(Bu,pu,xu){return Bs(Bu,pu,xu)},Object.setPrototypeOf(Rs.prototype,vs.prototype),Object.setPrototypeOf(Rs,vs);function Is(Bu){if(typeof Bu!="number")throw new TypeError('"size" argument must be of type number');if(Bu<0)throw new RangeError('The value "'+Bu+'" is invalid for option "size"')}function Ws(Bu,pu,xu){return Is(Bu),Bu<=0?Ss(Bu):pu!==void 0?typeof xu=="string"?Ss(Bu).fill(pu,xu):Ss(Bu).fill(pu):Ss(Bu)}Rs.alloc=function(Bu,pu,xu){return Ws(Bu,pu,xu)};function Hs(Bu){return Is(Bu),Ss(Bu<0?0:Ya(Bu)|0)}Rs.allocUnsafe=function(Bu){return Hs(Bu)},Rs.allocUnsafeSlow=function(Bu){return Hs(Bu)};function Ns(Bu,pu){if((typeof pu!="string"||pu==="")&&(pu="utf8"),!Rs.isEncoding(pu))throw new TypeError("Unknown encoding: "+pu);const xu=Qa(Bu,pu)|0;let qu=Ss(xu);const Pu=qu.write(Bu,pu);return Pu!==xu&&(qu=qu.slice(0,Pu)),qu}function Js(Bu){const pu=Bu.length<0?0:Ya(Bu.length)|0,xu=Ss(pu);for(let qu=0;qu<pu;qu+=1)xu[qu]=Bu[qu]&255;return xu}function ha(Bu){if(hl(Bu,vs)){const pu=new vs(Bu);return pa(pu.buffer,pu.byteOffset,pu.byteLength)}return Js(Bu)}function pa(Bu,pu,xu){if(pu<0||Bu.byteLength<pu)throw new RangeError('"offset" is outside of buffer bounds');if(Bu.byteLength<pu+(xu||0))throw new RangeError('"length" is outside of buffer bounds');let qu;return pu===void 0&&xu===void 0?qu=new vs(Bu):xu===void 0?qu=new vs(Bu,pu):qu=new vs(Bu,pu,xu),Object.setPrototypeOf(qu,Rs.prototype),qu}function za(Bu){if(Rs.isBuffer(Bu)){const pu=Ya(Bu.length)|0,xu=Ss(pu);return xu.length===0||Bu.copy(xu,0,0,pu),xu}if(Bu.length!==void 0)return typeof Bu.length!="number"||cl(Bu.length)?Ss(0):Js(Bu);if(Bu.type==="Buffer"&&Array.isArray(Bu.data))return Js(Bu.data)}function Ya(Bu){if(Bu>=ws)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ws.toString(16)+" bytes");return Bu|0}function Bc(Bu){return+Bu!=Bu&&(Bu=0),Rs.alloc(+Bu)}Rs.isBuffer=function(pu){return pu!=null&&pu._isBuffer===!0&&pu!==Rs.prototype},Rs.compare=function(pu,xu){if(hl(pu,vs)&&(pu=Rs.from(pu,pu.offset,pu.byteLength)),hl(xu,vs)&&(xu=Rs.from(xu,xu.offset,xu.byteLength)),!Rs.isBuffer(pu)||!Rs.isBuffer(xu))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pu===xu)return 0;let qu=pu.length,Pu=xu.length;for(let xf=0,nl=Math.min(qu,Pu);xf<nl;++xf)if(pu[xf]!==xu[xf]){qu=pu[xf],Pu=xu[xf];break}return qu<Pu?-1:Pu<qu?1:0},Rs.isEncoding=function(pu){switch(String(pu).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Rs.concat=function(pu,xu){if(!Array.isArray(pu))throw new TypeError('"list" argument must be an Array of Buffers');if(pu.length===0)return Rs.alloc(0);let qu;if(xu===void 0)for(xu=0,qu=0;qu<pu.length;++qu)xu+=pu[qu].length;const Pu=Rs.allocUnsafe(xu);let xf=0;for(qu=0;qu<pu.length;++qu){let nl=pu[qu];if(hl(nl,vs))xf+nl.length>Pu.length?(Rs.isBuffer(nl)||(nl=Rs.from(nl)),nl.copy(Pu,xf)):vs.prototype.set.call(Pu,nl,xf);else if(Rs.isBuffer(nl))nl.copy(Pu,xf);else throw new TypeError('"list" argument must be an Array of Buffers');xf+=nl.length}return Pu};function Qa(Bu,pu){if(Rs.isBuffer(Bu))return Bu.length;if(_s.isView(Bu)||hl(Bu,_s))return Bu.byteLength;if(typeof Bu!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Bu);const xu=Bu.length,qu=arguments.length>2&&arguments[2]===!0;if(!qu&&xu===0)return 0;let Pu=!1;for(;;)switch(pu){case"ascii":case"latin1":case"binary":return xu;case"utf8":case"utf-8":return Ju(Bu).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xu*2;case"hex":return xu>>>1;case"base64":return el(Bu).length;default:if(Pu)return qu?-1:Ju(Bu).length;pu=(""+pu).toLowerCase(),Pu=!0}}Rs.byteLength=Qa;function tu(Bu,pu,xu){let qu=!1;if((pu===void 0||pu<0)&&(pu=0),pu>this.length||((xu===void 0||xu>this.length)&&(xu=this.length),xu<=0)||(xu>>>=0,pu>>>=0,xu<=pu))return"";for(Bu||(Bu="utf8");;)switch(Bu){case"hex":return fu(this,pu,xu);case"utf8":case"utf-8":return Za(this,pu,xu);case"ascii":return nu(this,pu,xu);case"latin1":case"binary":return uu(this,pu,xu);case"base64":return Wa(this,pu,xu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hu(this,pu,xu);default:if(qu)throw new TypeError("Unknown encoding: "+Bu);Bu=(Bu+"").toLowerCase(),qu=!0}}Rs.prototype._isBuffer=!0;function eu(Bu,pu,xu){const qu=Bu[pu];Bu[pu]=Bu[xu],Bu[xu]=qu}Rs.prototype.swap16=function(){const pu=this.length;if(pu%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let xu=0;xu<pu;xu+=2)eu(this,xu,xu+1);return this},Rs.prototype.swap32=function(){const pu=this.length;if(pu%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let xu=0;xu<pu;xu+=4)eu(this,xu,xu+3),eu(this,xu+1,xu+2);return this},Rs.prototype.swap64=function(){const pu=this.length;if(pu%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let xu=0;xu<pu;xu+=8)eu(this,xu,xu+7),eu(this,xu+1,xu+6),eu(this,xu+2,xu+5),eu(this,xu+3,xu+4);return this},Rs.prototype.toString=function(){const pu=this.length;return pu===0?"":arguments.length===0?Za(this,0,pu):tu.apply(this,arguments)},Rs.prototype.toLocaleString=Rs.prototype.toString,Rs.prototype.equals=function(pu){if(!Rs.isBuffer(pu))throw new TypeError("Argument must be a Buffer");return this===pu?!0:Rs.compare(this,pu)===0},Rs.prototype.inspect=function(){let pu="";const xu=st.INSPECT_MAX_BYTES;return pu=this.toString("hex",0,xu).replace(/(.{2})/g,"$1 ").trim(),this.length>xu&&(pu+=" ... "),"<Buffer "+pu+">"},ms&&(Rs.prototype[ms]=Rs.prototype.inspect),Rs.prototype.compare=function(pu,xu,qu,Pu,xf){if(hl(pu,vs)&&(pu=Rs.from(pu,pu.offset,pu.byteLength)),!Rs.isBuffer(pu))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof pu);if(xu===void 0&&(xu=0),qu===void 0&&(qu=pu?pu.length:0),Pu===void 0&&(Pu=0),xf===void 0&&(xf=this.length),xu<0||qu>pu.length||Pu<0||xf>this.length)throw new RangeError("out of range index");if(Pu>=xf&&xu>=qu)return 0;if(Pu>=xf)return-1;if(xu>=qu)return 1;if(xu>>>=0,qu>>>=0,Pu>>>=0,xf>>>=0,this===pu)return 0;let nl=xf-Pu,wl=qu-xu;const Il=Math.min(nl,wl),Rl=this.slice(Pu,xf),fl=pu.slice(xu,qu);for(let Ml=0;Ml<Il;++Ml)if(Rl[Ml]!==fl[Ml]){nl=Rl[Ml],wl=fl[Ml];break}return nl<wl?-1:wl<nl?1:0};function ru(Bu,pu,xu,qu,Pu){if(Bu.length===0)return-1;if(typeof xu=="string"?(qu=xu,xu=0):xu>2147483647?xu=2147483647:xu<-2147483648&&(xu=-2147483648),xu=+xu,cl(xu)&&(xu=Pu?0:Bu.length-1),xu<0&&(xu=Bu.length+xu),xu>=Bu.length){if(Pu)return-1;xu=Bu.length-1}else if(xu<0)if(Pu)xu=0;else return-1;if(typeof pu=="string"&&(pu=Rs.from(pu,qu)),Rs.isBuffer(pu))return pu.length===0?-1:cu(Bu,pu,xu,qu,Pu);if(typeof pu=="number")return pu=pu&255,typeof vs.prototype.indexOf=="function"?Pu?vs.prototype.indexOf.call(Bu,pu,xu):vs.prototype.lastIndexOf.call(Bu,pu,xu):cu(Bu,[pu],xu,qu,Pu);throw new TypeError("val must be string, number or Buffer")}function cu(Bu,pu,xu,qu,Pu){let xf=1,nl=Bu.length,wl=pu.length;if(qu!==void 0&&(qu=String(qu).toLowerCase(),qu==="ucs2"||qu==="ucs-2"||qu==="utf16le"||qu==="utf-16le")){if(Bu.length<2||pu.length<2)return-1;xf=2,nl/=2,wl/=2,xu/=2}function Il(fl,Ml){return xf===1?fl[Ml]:fl.readUInt16BE(Ml*xf)}let Rl;if(Pu){let fl=-1;for(Rl=xu;Rl<nl;Rl++)if(Il(Bu,Rl)===Il(pu,fl===-1?0:Rl-fl)){if(fl===-1&&(fl=Rl),Rl-fl+1===wl)return fl*xf}else fl!==-1&&(Rl-=Rl-fl),fl=-1}else for(xu+wl>nl&&(xu=nl-wl),Rl=xu;Rl>=0;Rl--){let fl=!0;for(let Ml=0;Ml<wl;Ml++)if(Il(Bu,Rl+Ml)!==Il(pu,Ml)){fl=!1;break}if(fl)return Rl}return-1}Rs.prototype.includes=function(pu,xu,qu){return this.indexOf(pu,xu,qu)!==-1},Rs.prototype.indexOf=function(pu,xu,qu){return ru(this,pu,xu,qu,!0)},Rs.prototype.lastIndexOf=function(pu,xu,qu){return ru(this,pu,xu,qu,!1)};function ou(Bu,pu,xu,qu){xu=Number(xu)||0;const Pu=Bu.length-xu;qu?(qu=Number(qu),qu>Pu&&(qu=Pu)):qu=Pu;const xf=pu.length;qu>xf/2&&(qu=xf/2);let nl;for(nl=0;nl<qu;++nl){const wl=parseInt(pu.substr(nl*2,2),16);if(cl(wl))return nl;Bu[xu+nl]=wl}return nl}function Ga(Bu,pu,xu,qu){return il(Ju(pu,Bu.length-xu),Bu,xu,qu)}function Xa(Bu,pu,xu,qu){return il(vf(pu),Bu,xu,qu)}function Fa(Bu,pu,xu,qu){return il(el(pu),Bu,xu,qu)}function Zs(Bu,pu,xu,qu){return il(wf(pu,Bu.length-xu),Bu,xu,qu)}Rs.prototype.write=function(pu,xu,qu,Pu){if(xu===void 0)Pu="utf8",qu=this.length,xu=0;else if(qu===void 0&&typeof xu=="string")Pu=xu,qu=this.length,xu=0;else if(isFinite(xu))xu=xu>>>0,isFinite(qu)?(qu=qu>>>0,Pu===void 0&&(Pu="utf8")):(Pu=qu,qu=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xf=this.length-xu;if((qu===void 0||qu>xf)&&(qu=xf),pu.length>0&&(qu<0||xu<0)||xu>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pu||(Pu="utf8");let nl=!1;for(;;)switch(Pu){case"hex":return ou(this,pu,xu,qu);case"utf8":case"utf-8":return Ga(this,pu,xu,qu);case"ascii":case"latin1":case"binary":return Xa(this,pu,xu,qu);case"base64":return Fa(this,pu,xu,qu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zs(this,pu,xu,qu);default:if(nl)throw new TypeError("Unknown encoding: "+Pu);Pu=(""+Pu).toLowerCase(),nl=!0}},Rs.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Wa(Bu,pu,xu){return pu===0&&xu===Bu.length?t.fromByteArray(Bu):t.fromByteArray(Bu.slice(pu,xu))}function Za(Bu,pu,xu){xu=Math.min(Bu.length,xu);const qu=[];let Pu=pu;for(;Pu<xu;){const xf=Bu[Pu];let nl=null,wl=xf>239?4:xf>223?3:xf>191?2:1;if(Pu+wl<=xu){let Il,Rl,fl,Ml;switch(wl){case 1:xf<128&&(nl=xf);break;case 2:Il=Bu[Pu+1],(Il&192)===128&&(Ml=(xf&31)<<6|Il&63,Ml>127&&(nl=Ml));break;case 3:Il=Bu[Pu+1],Rl=Bu[Pu+2],(Il&192)===128&&(Rl&192)===128&&(Ml=(xf&15)<<12|(Il&63)<<6|Rl&63,Ml>2047&&(Ml<55296||Ml>57343)&&(nl=Ml));break;case 4:Il=Bu[Pu+1],Rl=Bu[Pu+2],fl=Bu[Pu+3],(Il&192)===128&&(Rl&192)===128&&(fl&192)===128&&(Ml=(xf&15)<<18|(Il&63)<<12|(Rl&63)<<6|fl&63,Ml>65535&&Ml<1114112&&(nl=Ml))}}nl===null?(nl=65533,wl=1):nl>65535&&(nl-=65536,qu.push(nl>>>10&1023|55296),nl=56320|nl&1023),qu.push(nl),Pu+=wl}return au(qu)}const iu=4096;function au(Bu){const pu=Bu.length;if(pu<=iu)return String.fromCharCode.apply(String,Bu);let xu="",qu=0;for(;qu<pu;)xu+=String.fromCharCode.apply(String,Bu.slice(qu,qu+=iu));return xu}function nu(Bu,pu,xu){let qu="";xu=Math.min(Bu.length,xu);for(let Pu=pu;Pu<xu;++Pu)qu+=String.fromCharCode(Bu[Pu]&127);return qu}function uu(Bu,pu,xu){let qu="";xu=Math.min(Bu.length,xu);for(let Pu=pu;Pu<xu;++Pu)qu+=String.fromCharCode(Bu[Pu]);return qu}function fu(Bu,pu,xu){const qu=Bu.length;(!pu||pu<0)&&(pu=0),(!xu||xu<0||xu>qu)&&(xu=qu);let Pu="";for(let xf=pu;xf<xu;++xf)Pu+=ul[Bu[xf]];return Pu}function hu(Bu,pu,xu){const qu=Bu.slice(pu,xu);let Pu="";for(let xf=0;xf<qu.length-1;xf+=2)Pu+=String.fromCharCode(qu[xf]+qu[xf+1]*256);return Pu}Rs.prototype.slice=function(pu,xu){const qu=this.length;pu=~~pu,xu=xu===void 0?qu:~~xu,pu<0?(pu+=qu,pu<0&&(pu=0)):pu>qu&&(pu=qu),xu<0?(xu+=qu,xu<0&&(xu=0)):xu>qu&&(xu=qu),xu<pu&&(xu=pu);const Pu=this.subarray(pu,xu);return Object.setPrototypeOf(Pu,Rs.prototype),Pu};function Eu(Bu,pu,xu){if(Bu%1!==0||Bu<0)throw new RangeError("offset is not uint");if(Bu+pu>xu)throw new RangeError("Trying to access beyond buffer length")}Rs.prototype.readUintLE=Rs.prototype.readUIntLE=function(pu,xu,qu){pu=pu>>>0,xu=xu>>>0,qu||Eu(pu,xu,this.length);let Pu=this[pu],xf=1,nl=0;for(;++nl<xu&&(xf*=256);)Pu+=this[pu+nl]*xf;return Pu},Rs.prototype.readUintBE=Rs.prototype.readUIntBE=function(pu,xu,qu){pu=pu>>>0,xu=xu>>>0,qu||Eu(pu,xu,this.length);let Pu=this[pu+--xu],xf=1;for(;xu>0&&(xf*=256);)Pu+=this[pu+--xu]*xf;return Pu},Rs.prototype.readUint8=Rs.prototype.readUInt8=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,1,this.length),this[pu]},Rs.prototype.readUint16LE=Rs.prototype.readUInt16LE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,2,this.length),this[pu]|this[pu+1]<<8},Rs.prototype.readUint16BE=Rs.prototype.readUInt16BE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,2,this.length),this[pu]<<8|this[pu+1]},Rs.prototype.readUint32LE=Rs.prototype.readUInt32LE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,4,this.length),(this[pu]|this[pu+1]<<8|this[pu+2]<<16)+this[pu+3]*16777216},Rs.prototype.readUint32BE=Rs.prototype.readUInt32BE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,4,this.length),this[pu]*16777216+(this[pu+1]<<16|this[pu+2]<<8|this[pu+3])},Rs.prototype.readBigUInt64LE=yl(function(pu){pu=pu>>>0,sl(pu,"offset");const xu=this[pu],qu=this[pu+7];(xu===void 0||qu===void 0)&&gl(pu,this.length-8);const Pu=xu+this[++pu]*2**8+this[++pu]*2**16+this[++pu]*2**24,xf=this[++pu]+this[++pu]*2**8+this[++pu]*2**16+qu*2**24;return BigInt(Pu)+(BigInt(xf)<<BigInt(32))}),Rs.prototype.readBigUInt64BE=yl(function(pu){pu=pu>>>0,sl(pu,"offset");const xu=this[pu],qu=this[pu+7];(xu===void 0||qu===void 0)&&gl(pu,this.length-8);const Pu=xu*2**24+this[++pu]*2**16+this[++pu]*2**8+this[++pu],xf=this[++pu]*2**24+this[++pu]*2**16+this[++pu]*2**8+qu;return(BigInt(Pu)<<BigInt(32))+BigInt(xf)}),Rs.prototype.readIntLE=function(pu,xu,qu){pu=pu>>>0,xu=xu>>>0,qu||Eu(pu,xu,this.length);let Pu=this[pu],xf=1,nl=0;for(;++nl<xu&&(xf*=256);)Pu+=this[pu+nl]*xf;return xf*=128,Pu>=xf&&(Pu-=Math.pow(2,8*xu)),Pu},Rs.prototype.readIntBE=function(pu,xu,qu){pu=pu>>>0,xu=xu>>>0,qu||Eu(pu,xu,this.length);let Pu=xu,xf=1,nl=this[pu+--Pu];for(;Pu>0&&(xf*=256);)nl+=this[pu+--Pu]*xf;return xf*=128,nl>=xf&&(nl-=Math.pow(2,8*xu)),nl},Rs.prototype.readInt8=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,1,this.length),this[pu]&128?(255-this[pu]+1)*-1:this[pu]},Rs.prototype.readInt16LE=function(pu,xu){pu=pu>>>0,xu||Eu(pu,2,this.length);const qu=this[pu]|this[pu+1]<<8;return qu&32768?qu|4294901760:qu},Rs.prototype.readInt16BE=function(pu,xu){pu=pu>>>0,xu||Eu(pu,2,this.length);const qu=this[pu+1]|this[pu]<<8;return qu&32768?qu|4294901760:qu},Rs.prototype.readInt32LE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,4,this.length),this[pu]|this[pu+1]<<8|this[pu+2]<<16|this[pu+3]<<24},Rs.prototype.readInt32BE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,4,this.length),this[pu]<<24|this[pu+1]<<16|this[pu+2]<<8|this[pu+3]},Rs.prototype.readBigInt64LE=yl(function(pu){pu=pu>>>0,sl(pu,"offset");const xu=this[pu],qu=this[pu+7];(xu===void 0||qu===void 0)&&gl(pu,this.length-8);const Pu=this[pu+4]+this[pu+5]*2**8+this[pu+6]*2**16+(qu<<24);return(BigInt(Pu)<<BigInt(32))+BigInt(xu+this[++pu]*2**8+this[++pu]*2**16+this[++pu]*2**24)}),Rs.prototype.readBigInt64BE=yl(function(pu){pu=pu>>>0,sl(pu,"offset");const xu=this[pu],qu=this[pu+7];(xu===void 0||qu===void 0)&&gl(pu,this.length-8);const Pu=(xu<<24)+this[++pu]*2**16+this[++pu]*2**8+this[++pu];return(BigInt(Pu)<<BigInt(32))+BigInt(this[++pu]*2**24+this[++pu]*2**16+this[++pu]*2**8+qu)}),Rs.prototype.readFloatLE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,4,this.length),et.read(this,pu,!0,23,4)},Rs.prototype.readFloatBE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,4,this.length),et.read(this,pu,!1,23,4)},Rs.prototype.readDoubleLE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,8,this.length),et.read(this,pu,!0,52,8)},Rs.prototype.readDoubleBE=function(pu,xu){return pu=pu>>>0,xu||Eu(pu,8,this.length),et.read(this,pu,!1,52,8)};function $u(Bu,pu,xu,qu,Pu,xf){if(!Rs.isBuffer(Bu))throw new TypeError('"buffer" argument must be a Buffer instance');if(pu>Pu||pu<xf)throw new RangeError('"value" argument is out of bounds');if(xu+qu>Bu.length)throw new RangeError("Index out of range")}Rs.prototype.writeUintLE=Rs.prototype.writeUIntLE=function(pu,xu,qu,Pu){if(pu=+pu,xu=xu>>>0,qu=qu>>>0,!Pu){const wl=Math.pow(2,8*qu)-1;$u(this,pu,xu,qu,wl,0)}let xf=1,nl=0;for(this[xu]=pu&255;++nl<qu&&(xf*=256);)this[xu+nl]=pu/xf&255;return xu+qu},Rs.prototype.writeUintBE=Rs.prototype.writeUIntBE=function(pu,xu,qu,Pu){if(pu=+pu,xu=xu>>>0,qu=qu>>>0,!Pu){const wl=Math.pow(2,8*qu)-1;$u(this,pu,xu,qu,wl,0)}let xf=qu-1,nl=1;for(this[xu+xf]=pu&255;--xf>=0&&(nl*=256);)this[xu+xf]=pu/nl&255;return xu+qu},Rs.prototype.writeUint8=Rs.prototype.writeUInt8=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,1,255,0),this[xu]=pu&255,xu+1},Rs.prototype.writeUint16LE=Rs.prototype.writeUInt16LE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,2,65535,0),this[xu]=pu&255,this[xu+1]=pu>>>8,xu+2},Rs.prototype.writeUint16BE=Rs.prototype.writeUInt16BE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,2,65535,0),this[xu]=pu>>>8,this[xu+1]=pu&255,xu+2},Rs.prototype.writeUint32LE=Rs.prototype.writeUInt32LE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,4,4294967295,0),this[xu+3]=pu>>>24,this[xu+2]=pu>>>16,this[xu+1]=pu>>>8,this[xu]=pu&255,xu+4},Rs.prototype.writeUint32BE=Rs.prototype.writeUInt32BE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,4,4294967295,0),this[xu]=pu>>>24,this[xu+1]=pu>>>16,this[xu+2]=pu>>>8,this[xu+3]=pu&255,xu+4};function Ou(Bu,pu,xu,qu,Pu){tl(pu,qu,Pu,Bu,xu,7);let xf=Number(pu&BigInt(4294967295));Bu[xu++]=xf,xf=xf>>8,Bu[xu++]=xf,xf=xf>>8,Bu[xu++]=xf,xf=xf>>8,Bu[xu++]=xf;let nl=Number(pu>>BigInt(32)&BigInt(4294967295));return Bu[xu++]=nl,nl=nl>>8,Bu[xu++]=nl,nl=nl>>8,Bu[xu++]=nl,nl=nl>>8,Bu[xu++]=nl,xu}function gu(Bu,pu,xu,qu,Pu){tl(pu,qu,Pu,Bu,xu,7);let xf=Number(pu&BigInt(4294967295));Bu[xu+7]=xf,xf=xf>>8,Bu[xu+6]=xf,xf=xf>>8,Bu[xu+5]=xf,xf=xf>>8,Bu[xu+4]=xf;let nl=Number(pu>>BigInt(32)&BigInt(4294967295));return Bu[xu+3]=nl,nl=nl>>8,Bu[xu+2]=nl,nl=nl>>8,Bu[xu+1]=nl,nl=nl>>8,Bu[xu]=nl,xu+8}Rs.prototype.writeBigUInt64LE=yl(function(pu,xu=0){return Ou(this,pu,xu,BigInt(0),BigInt("0xffffffffffffffff"))}),Rs.prototype.writeBigUInt64BE=yl(function(pu,xu=0){return gu(this,pu,xu,BigInt(0),BigInt("0xffffffffffffffff"))}),Rs.prototype.writeIntLE=function(pu,xu,qu,Pu){if(pu=+pu,xu=xu>>>0,!Pu){const Il=Math.pow(2,8*qu-1);$u(this,pu,xu,qu,Il-1,-Il)}let xf=0,nl=1,wl=0;for(this[xu]=pu&255;++xf<qu&&(nl*=256);)pu<0&&wl===0&&this[xu+xf-1]!==0&&(wl=1),this[xu+xf]=(pu/nl>>0)-wl&255;return xu+qu},Rs.prototype.writeIntBE=function(pu,xu,qu,Pu){if(pu=+pu,xu=xu>>>0,!Pu){const Il=Math.pow(2,8*qu-1);$u(this,pu,xu,qu,Il-1,-Il)}let xf=qu-1,nl=1,wl=0;for(this[xu+xf]=pu&255;--xf>=0&&(nl*=256);)pu<0&&wl===0&&this[xu+xf+1]!==0&&(wl=1),this[xu+xf]=(pu/nl>>0)-wl&255;return xu+qu},Rs.prototype.writeInt8=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,1,127,-128),pu<0&&(pu=255+pu+1),this[xu]=pu&255,xu+1},Rs.prototype.writeInt16LE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,2,32767,-32768),this[xu]=pu&255,this[xu+1]=pu>>>8,xu+2},Rs.prototype.writeInt16BE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,2,32767,-32768),this[xu]=pu>>>8,this[xu+1]=pu&255,xu+2},Rs.prototype.writeInt32LE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,4,2147483647,-2147483648),this[xu]=pu&255,this[xu+1]=pu>>>8,this[xu+2]=pu>>>16,this[xu+3]=pu>>>24,xu+4},Rs.prototype.writeInt32BE=function(pu,xu,qu){return pu=+pu,xu=xu>>>0,qu||$u(this,pu,xu,4,2147483647,-2147483648),pu<0&&(pu=4294967295+pu+1),this[xu]=pu>>>24,this[xu+1]=pu>>>16,this[xu+2]=pu>>>8,this[xu+3]=pu&255,xu+4},Rs.prototype.writeBigInt64LE=yl(function(pu,xu=0){return Ou(this,pu,xu,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Rs.prototype.writeBigInt64BE=yl(function(pu,xu=0){return gu(this,pu,xu,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function yu(Bu,pu,xu,qu,Pu,xf){if(xu+qu>Bu.length)throw new RangeError("Index out of range");if(xu<0)throw new RangeError("Index out of range")}function Tu(Bu,pu,xu,qu,Pu){return pu=+pu,xu=xu>>>0,Pu||yu(Bu,pu,xu,4),et.write(Bu,pu,xu,qu,23,4),xu+4}Rs.prototype.writeFloatLE=function(pu,xu,qu){return Tu(this,pu,xu,!0,qu)},Rs.prototype.writeFloatBE=function(pu,xu,qu){return Tu(this,pu,xu,!1,qu)};function du(Bu,pu,xu,qu,Pu){return pu=+pu,xu=xu>>>0,Pu||yu(Bu,pu,xu,8),et.write(Bu,pu,xu,qu,52,8),xu+8}Rs.prototype.writeDoubleLE=function(pu,xu,qu){return du(this,pu,xu,!0,qu)},Rs.prototype.writeDoubleBE=function(pu,xu,qu){return du(this,pu,xu,!1,qu)},Rs.prototype.copy=function(pu,xu,qu,Pu){if(!Rs.isBuffer(pu))throw new TypeError("argument should be a Buffer");if(qu||(qu=0),!Pu&&Pu!==0&&(Pu=this.length),xu>=pu.length&&(xu=pu.length),xu||(xu=0),Pu>0&&Pu<qu&&(Pu=qu),Pu===qu||pu.length===0||this.length===0)return 0;if(xu<0)throw new RangeError("targetStart out of bounds");if(qu<0||qu>=this.length)throw new RangeError("Index out of range");if(Pu<0)throw new RangeError("sourceEnd out of bounds");Pu>this.length&&(Pu=this.length),pu.length-xu<Pu-qu&&(Pu=pu.length-xu+qu);const xf=Pu-qu;return this===pu&&typeof vs.prototype.copyWithin=="function"?this.copyWithin(xu,qu,Pu):vs.prototype.set.call(pu,this.subarray(qu,Pu),xu),xf},Rs.prototype.fill=function(pu,xu,qu,Pu){if(typeof pu=="string"){if(typeof xu=="string"?(Pu=xu,xu=0,qu=this.length):typeof qu=="string"&&(Pu=qu,qu=this.length),Pu!==void 0&&typeof Pu!="string")throw new TypeError("encoding must be a string");if(typeof Pu=="string"&&!Rs.isEncoding(Pu))throw new TypeError("Unknown encoding: "+Pu);if(pu.length===1){const nl=pu.charCodeAt(0);(Pu==="utf8"&&nl<128||Pu==="latin1")&&(pu=nl)}}else typeof pu=="number"?pu=pu&255:typeof pu=="boolean"&&(pu=Number(pu));if(xu<0||this.length<xu||this.length<qu)throw new RangeError("Out of range index");if(qu<=xu)return this;xu=xu>>>0,qu=qu===void 0?this.length:qu>>>0,pu||(pu=0);let xf;if(typeof pu=="number")for(xf=xu;xf<qu;++xf)this[xf]=pu;else{const nl=Rs.isBuffer(pu)?pu:Rs.from(pu,Pu),wl=nl.length;if(wl===0)throw new TypeError('The value "'+pu+'" is invalid for argument "value"');for(xf=0;xf<qu-xu;++xf)this[xf+xu]=nl[xf%wl]}return this};const wu={};function Ru(Bu,pu,xu){wu[Bu]=class extends xu{constructor(){super(),Object.defineProperty(this,"message",{value:pu.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Bu}]`,this.stack,delete this.name}get code(){return Bu}set code(Pu){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Pu,writable:!0})}toString(){return`${this.name} [${Bu}]: ${this.message}`}}}Ru("ERR_BUFFER_OUT_OF_BOUNDS",function(Bu){return Bu?`${Bu} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ru("ERR_INVALID_ARG_TYPE",function(Bu,pu){return`The "${Bu}" argument must be of type number. Received type ${typeof pu}`},TypeError),Ru("ERR_OUT_OF_RANGE",function(Bu,pu,xu){let qu=`The value of "${Bu}" is out of range.`,Pu=xu;return Number.isInteger(xu)&&Math.abs(xu)>2**32?Pu=Ku(String(xu)):typeof xu=="bigint"&&(Pu=String(xu),(xu>BigInt(2)**BigInt(32)||xu<-(BigInt(2)**BigInt(32)))&&(Pu=Ku(Pu)),Pu+="n"),qu+=` It must be ${pu}. Received ${Pu}`,qu},RangeError);function Ku(Bu){let pu="",xu=Bu.length;const qu=Bu[0]==="-"?1:0;for(;xu>=qu+4;xu-=3)pu=`_${Bu.slice(xu-3,xu)}${pu}`;return`${Bu.slice(0,xu)}${pu}`}function Zu(Bu,pu,xu){sl(pu,"offset"),(Bu[pu]===void 0||Bu[pu+xu]===void 0)&&gl(pu,Bu.length-(xu+1))}function tl(Bu,pu,xu,qu,Pu,xf){if(Bu>xu||Bu<pu){const nl=typeof pu=="bigint"?"n":"";let wl;throw pu===0||pu===BigInt(0)?wl=`>= 0${nl} and < 2${nl} ** ${(xf+1)*8}${nl}`:wl=`>= -(2${nl} ** ${(xf+1)*8-1}${nl}) and < 2 ** ${(xf+1)*8-1}${nl}`,new wu.ERR_OUT_OF_RANGE("value",wl,Bu)}Zu(qu,Pu,xf)}function sl(Bu,pu){if(typeof Bu!="number")throw new wu.ERR_INVALID_ARG_TYPE(pu,"number",Bu)}function gl(Bu,pu,xu){throw Math.floor(Bu)!==Bu?(sl(Bu,xu),new wu.ERR_OUT_OF_RANGE("offset","an integer",Bu)):pu<0?new wu.ERR_BUFFER_OUT_OF_BOUNDS:new wu.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${pu}`,Bu)}const Fu=/[^+/0-9A-Za-z-_]/g;function Mu(Bu){if(Bu=Bu.split("=")[0],Bu=Bu.trim().replace(Fu,""),Bu.length<2)return"";for(;Bu.length%4!==0;)Bu=Bu+"=";return Bu}function Ju(Bu,pu){pu=pu||1/0;let xu;const qu=Bu.length;let Pu=null;const xf=[];for(let nl=0;nl<qu;++nl){if(xu=Bu.charCodeAt(nl),xu>55295&&xu<57344){if(!Pu){if(xu>56319){(pu-=3)>-1&&xf.push(239,191,189);continue}else if(nl+1===qu){(pu-=3)>-1&&xf.push(239,191,189);continue}Pu=xu;continue}if(xu<56320){(pu-=3)>-1&&xf.push(239,191,189),Pu=xu;continue}xu=(Pu-55296<<10|xu-56320)+65536}else Pu&&(pu-=3)>-1&&xf.push(239,191,189);if(Pu=null,xu<128){if((pu-=1)<0)break;xf.push(xu)}else if(xu<2048){if((pu-=2)<0)break;xf.push(xu>>6|192,xu&63|128)}else if(xu<65536){if((pu-=3)<0)break;xf.push(xu>>12|224,xu>>6&63|128,xu&63|128)}else if(xu<1114112){if((pu-=4)<0)break;xf.push(xu>>18|240,xu>>12&63|128,xu>>6&63|128,xu&63|128)}else throw new Error("Invalid code point")}return xf}function vf(Bu){const pu=[];for(let xu=0;xu<Bu.length;++xu)pu.push(Bu.charCodeAt(xu)&255);return pu}function wf(Bu,pu){let xu,qu,Pu;const xf=[];for(let nl=0;nl<Bu.length&&!((pu-=2)<0);++nl)xu=Bu.charCodeAt(nl),qu=xu>>8,Pu=xu%256,xf.push(Pu),xf.push(qu);return xf}function el(Bu){return t.toByteArray(Mu(Bu))}function il(Bu,pu,xu,qu){let Pu;for(Pu=0;Pu<qu&&!(Pu+xu>=pu.length||Pu>=Bu.length);++Pu)pu[Pu+xu]=Bu[Pu];return Pu}function hl(Bu,pu){return Bu instanceof pu||Bu!=null&&Bu.constructor!=null&&Bu.constructor.name!=null&&Bu.constructor.name===pu.name}function cl(Bu){return Bu!==Bu}const ul=function(){const Bu="0123456789abcdef",pu=new Array(256);for(let xu=0;xu<16;++xu){const qu=xu*16;for(let Pu=0;Pu<16;++Pu)pu[qu+Pu]=Bu[xu]+Bu[Pu]}return pu}();function yl(Bu){return typeof BigInt>"u"?Cl:Bu}function Cl(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer;function bin2String(st){return bytesToString(st)}function arrayEquals(st,t,et=!1){if(st.length!=t.length)return!1;for(let ms=0;ms<st.length;ms++)if(et){if(st[ms]!=t[ms])return!1}else if(JSON.stringify(st[ms])!=JSON.stringify(t[ms]))return!1;return!0}function stringToBytes$1(st){const t=[],et=st.length;let ms;for(let ws=0;ws<et;ws++)ms=st.charCodeAt(ws),ms>=65536&&ms<=1114111?(t.push(ms>>18&7|240),t.push(ms>>12&63|128),t.push(ms>>6&63|128),t.push(ms&63|128)):ms>=2048&&ms<=65535?(t.push(ms>>12&15|224),t.push(ms>>6&63|128),t.push(ms&63|128)):ms>=128&&ms<=2047?(t.push(ms>>6&31|192),t.push(ms&63|128)):t.push(ms&255);return t}function hexChar2byte(st){let t;if(st>="A"&&st<="F"?t=st.charCodeAt(0)-65+10:st>="a"&&st<="f"?t=st.charCodeAt(0)-97+10:st>="0"&&st<="9"&&(t=st.charCodeAt(0)-48),typeof t=="number")return t;throw new Error("The passed hex char is not a valid hex char")}function isHexChar(st){return st>="A"&&st<="F"||st>="a"&&st<="f"||st>="0"&&st<="9"?1:0}function hexStr2byteArray(st,t=!1){let et=st.length;t&&et%2&&(st=`0${st}`,et++);const ms=[];let ws=0,vs=0,_s=0;for(let Es=0;Es<et;Es++){const Ts=st.charAt(Es);if(isHexChar(Ts))ws<<=4,ws+=hexChar2byte(Ts),vs++,vs%2===0&&(ms[_s++]=ws,ws=0);else throw new Error("The passed hex char is not a valid hex string")}return ms}function strToDate(st){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(st))throw new Error("The passed date string is not valid");const t=st.split(" "),et=t[0].split("-"),ms=parseInt(et[0],10),ws=parseInt(et[1],10)-1,vs=parseInt(et[2],10);if(t.length>1){const _s=t[1].split("-"),Es=parseInt(_s[0],10),Ts=parseInt(_s[1],10),Ss=parseInt(_s[2],10);return new Date(ms,ws,vs,Es,Ts,Ss)}return new Date(ms,ws,vs)}function isNumber$1(st){return st>="0"&&st<="9"?1:0}function getStringType(st){if(st==null||st.length==0||st=="")return-1;let t=0;if(st.length==40)for(;t<40;t++){const et=st.charAt(t);if(!isHexChar(et))break}if(t==40)return 1;for(t=0;t<st.length;t++){const et=st.charAt(t);if(!isNumber$1(et))break}if(t==st.length)return 2;for(t=0;t<st.length;t++)if(st.charAt(t)>" ")return 3;return-1}const code$2=Object.freeze(Object.defineProperty({__proto__:null,arrayEquals,base64DecodeFromString,base64EncodeToString,bin2String,byte2hexStr,byteArray2hexStr,bytesToString,getStringType,hexChar2byte,hexStr2byteArray,hextoString,isHexChar,isNumber:isNumber$1,strToDate,stringToBytes:stringToBytes$1},Symbol.toStringTag,{value:"Module"}));var isNumeric$1=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE$1=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(st){var t,et,ms,ws=pa.prototype={constructor:pa,toString:null,valueOf:null},vs=new pa(1),_s=20,Es=4,Ts=-7,Ss=21,Rs=-1e7,Bs=1e7,Is=!1,Ws=1,Hs=0,Ns={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},Js="0123456789abcdefghijklmnopqrstuvwxyz",ha=!0;function pa(eu,ru){var cu,ou,Ga,Xa,Fa,Zs,Wa,Za,iu=this;if(!(iu instanceof pa))return new pa(eu,ru);if(ru==null){if(eu&&eu._isBigNumber===!0){iu.s=eu.s,!eu.c||eu.e>Bs?iu.c=iu.e=null:eu.e<Rs?iu.c=[iu.e=0]:(iu.e=eu.e,iu.c=eu.c.slice());return}if((Zs=typeof eu=="number")&&eu*0==0){if(iu.s=1/eu<0?(eu=-eu,-1):1,eu===~~eu){for(Xa=0,Fa=eu;Fa>=10;Fa/=10,Xa++);Xa>Bs?iu.c=iu.e=null:(iu.e=Xa,iu.c=[eu]);return}Za=String(eu)}else{if(!isNumeric$1.test(Za=String(eu)))return ms(iu,Za,Zs);iu.s=Za.charCodeAt(0)==45?(Za=Za.slice(1),-1):1}(Xa=Za.indexOf("."))>-1&&(Za=Za.replace(".","")),(Fa=Za.search(/e/i))>0?(Xa<0&&(Xa=Fa),Xa+=+Za.slice(Fa+1),Za=Za.substring(0,Fa)):Xa<0&&(Xa=Za.length)}else{if(intCheck(ru,2,Js.length,"Base"),ru==10&&ha)return iu=new pa(eu),Qa(iu,_s+iu.e+1,Es);if(Za=String(eu),Zs=typeof eu=="number"){if(eu*0!=0)return ms(iu,Za,Zs,ru);if(iu.s=1/eu<0?(Za=Za.slice(1),-1):1,pa.DEBUG&&Za.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+eu)}else iu.s=Za.charCodeAt(0)===45?(Za=Za.slice(1),-1):1;for(cu=Js.slice(0,ru),Xa=Fa=0,Wa=Za.length;Fa<Wa;Fa++)if(cu.indexOf(ou=Za.charAt(Fa))<0){if(ou=="."){if(Fa>Xa){Xa=Wa;continue}}else if(!Ga&&(Za==Za.toUpperCase()&&(Za=Za.toLowerCase())||Za==Za.toLowerCase()&&(Za=Za.toUpperCase()))){Ga=!0,Fa=-1,Xa=0;continue}return ms(iu,String(eu),Zs,ru)}Zs=!1,Za=et(Za,ru,10,iu.s),(Xa=Za.indexOf("."))>-1?Za=Za.replace(".",""):Xa=Za.length}for(Fa=0;Za.charCodeAt(Fa)===48;Fa++);for(Wa=Za.length;Za.charCodeAt(--Wa)===48;);if(Za=Za.slice(Fa,++Wa)){if(Wa-=Fa,Zs&&pa.DEBUG&&Wa>15&&(eu>MAX_SAFE_INTEGER||eu!==mathfloor(eu)))throw Error(tooManyDigits+iu.s*eu);if((Xa=Xa-Fa-1)>Bs)iu.c=iu.e=null;else if(Xa<Rs)iu.c=[iu.e=0];else{if(iu.e=Xa,iu.c=[],Fa=(Xa+1)%LOG_BASE,Xa<0&&(Fa+=LOG_BASE),Fa<Wa){for(Fa&&iu.c.push(+Za.slice(0,Fa)),Wa-=LOG_BASE;Fa<Wa;)iu.c.push(+Za.slice(Fa,Fa+=LOG_BASE));Fa=LOG_BASE-(Za=Za.slice(Fa)).length}else Fa-=Wa;for(;Fa--;Za+="0");iu.c.push(+Za)}}else iu.c=[iu.e=0]}pa.clone=clone,pa.ROUND_UP=0,pa.ROUND_DOWN=1,pa.ROUND_CEIL=2,pa.ROUND_FLOOR=3,pa.ROUND_HALF_UP=4,pa.ROUND_HALF_DOWN=5,pa.ROUND_HALF_EVEN=6,pa.ROUND_HALF_CEIL=7,pa.ROUND_HALF_FLOOR=8,pa.EUCLID=9,pa.config=pa.set=function(eu){var ru,cu;if(eu!=null)if(typeof eu=="object"){if(eu.hasOwnProperty(ru="DECIMAL_PLACES")&&(cu=eu[ru],intCheck(cu,0,MAX,ru),_s=cu),eu.hasOwnProperty(ru="ROUNDING_MODE")&&(cu=eu[ru],intCheck(cu,0,8,ru),Es=cu),eu.hasOwnProperty(ru="EXPONENTIAL_AT")&&(cu=eu[ru],cu&&cu.pop?(intCheck(cu[0],-MAX,0,ru),intCheck(cu[1],0,MAX,ru),Ts=cu[0],Ss=cu[1]):(intCheck(cu,-MAX,MAX,ru),Ts=-(Ss=cu<0?-cu:cu))),eu.hasOwnProperty(ru="RANGE"))if(cu=eu[ru],cu&&cu.pop)intCheck(cu[0],-MAX,-1,ru),intCheck(cu[1],1,MAX,ru),Rs=cu[0],Bs=cu[1];else if(intCheck(cu,-MAX,MAX,ru),cu)Rs=-(Bs=cu<0?-cu:cu);else throw Error(bignumberError+ru+" cannot be zero: "+cu);if(eu.hasOwnProperty(ru="CRYPTO"))if(cu=eu[ru],cu===!!cu)if(cu)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Is=cu;else throw Is=!cu,Error(bignumberError+"crypto unavailable");else Is=cu;else throw Error(bignumberError+ru+" not true or false: "+cu);if(eu.hasOwnProperty(ru="MODULO_MODE")&&(cu=eu[ru],intCheck(cu,0,9,ru),Ws=cu),eu.hasOwnProperty(ru="POW_PRECISION")&&(cu=eu[ru],intCheck(cu,0,MAX,ru),Hs=cu),eu.hasOwnProperty(ru="FORMAT"))if(cu=eu[ru],typeof cu=="object")Ns=cu;else throw Error(bignumberError+ru+" not an object: "+cu);if(eu.hasOwnProperty(ru="ALPHABET"))if(cu=eu[ru],typeof cu=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(cu))ha=cu.slice(0,10)=="0123456789",Js=cu;else throw Error(bignumberError+ru+" invalid: "+cu)}else throw Error(bignumberError+"Object expected: "+eu);return{DECIMAL_PLACES:_s,ROUNDING_MODE:Es,EXPONENTIAL_AT:[Ts,Ss],RANGE:[Rs,Bs],CRYPTO:Is,MODULO_MODE:Ws,POW_PRECISION:Hs,FORMAT:Ns,ALPHABET:Js}},pa.isBigNumber=function(eu){if(!eu||eu._isBigNumber!==!0)return!1;if(!pa.DEBUG)return!0;var ru,cu,ou=eu.c,Ga=eu.e,Xa=eu.s;e:if({}.toString.call(ou)=="[object Array]"){if((Xa===1||Xa===-1)&&Ga>=-MAX&&Ga<=MAX&&Ga===mathfloor(Ga)){if(ou[0]===0){if(Ga===0&&ou.length===1)return!0;break e}if(ru=(Ga+1)%LOG_BASE,ru<1&&(ru+=LOG_BASE),String(ou[0]).length==ru){for(ru=0;ru<ou.length;ru++)if(cu=ou[ru],cu<0||cu>=BASE$1||cu!==mathfloor(cu))break e;if(cu!==0)return!0}}}else if(ou===null&&Ga===null&&(Xa===null||Xa===1||Xa===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+eu)},pa.maximum=pa.max=function(){return Ya(arguments,-1)},pa.minimum=pa.min=function(){return Ya(arguments,1)},pa.random=function(){var eu=9007199254740992,ru=Math.random()*eu&2097151?function(){return mathfloor(Math.random()*eu)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(cu){var ou,Ga,Xa,Fa,Zs,Wa=0,Za=[],iu=new pa(vs);if(cu==null?cu=_s:intCheck(cu,0,MAX),Fa=mathceil(cu/LOG_BASE),Is)if(crypto.getRandomValues){for(ou=crypto.getRandomValues(new Uint32Array(Fa*=2));Wa<Fa;)Zs=ou[Wa]*131072+(ou[Wa+1]>>>11),Zs>=9e15?(Ga=crypto.getRandomValues(new Uint32Array(2)),ou[Wa]=Ga[0],ou[Wa+1]=Ga[1]):(Za.push(Zs%1e14),Wa+=2);Wa=Fa/2}else if(crypto.randomBytes){for(ou=crypto.randomBytes(Fa*=7);Wa<Fa;)Zs=(ou[Wa]&31)*281474976710656+ou[Wa+1]*1099511627776+ou[Wa+2]*4294967296+ou[Wa+3]*16777216+(ou[Wa+4]<<16)+(ou[Wa+5]<<8)+ou[Wa+6],Zs>=9e15?crypto.randomBytes(7).copy(ou,Wa):(Za.push(Zs%1e14),Wa+=7);Wa=Fa/7}else throw Is=!1,Error(bignumberError+"crypto unavailable");if(!Is)for(;Wa<Fa;)Zs=ru(),Zs<9e15&&(Za[Wa++]=Zs%1e14);for(Fa=Za[--Wa],cu%=LOG_BASE,Fa&&cu&&(Zs=POWS_TEN[LOG_BASE-cu],Za[Wa]=mathfloor(Fa/Zs)*Zs);Za[Wa]===0;Za.pop(),Wa--);if(Wa<0)Za=[Xa=0];else{for(Xa=-1;Za[0]===0;Za.splice(0,1),Xa-=LOG_BASE);for(Wa=1,Zs=Za[0];Zs>=10;Zs/=10,Wa++);Wa<LOG_BASE&&(Xa-=LOG_BASE-Wa)}return iu.e=Xa,iu.c=Za,iu}}(),pa.sum=function(){for(var eu=1,ru=arguments,cu=new pa(ru[0]);eu<ru.length;)cu=cu.plus(ru[eu++]);return cu},et=function(){var eu="0123456789";function ru(cu,ou,Ga,Xa){for(var Fa,Zs=[0],Wa,Za=0,iu=cu.length;Za<iu;){for(Wa=Zs.length;Wa--;Zs[Wa]*=ou);for(Zs[0]+=Xa.indexOf(cu.charAt(Za++)),Fa=0;Fa<Zs.length;Fa++)Zs[Fa]>Ga-1&&(Zs[Fa+1]==null&&(Zs[Fa+1]=0),Zs[Fa+1]+=Zs[Fa]/Ga|0,Zs[Fa]%=Ga)}return Zs.reverse()}return function(cu,ou,Ga,Xa,Fa){var Zs,Wa,Za,iu,au,nu,uu,fu,hu=cu.indexOf("."),Eu=_s,$u=Es;for(hu>=0&&(iu=Hs,Hs=0,cu=cu.replace(".",""),fu=new pa(ou),nu=fu.pow(cu.length-hu),Hs=iu,fu.c=ru(toFixedPoint(coeffToString(nu.c),nu.e,"0"),10,Ga,eu),fu.e=fu.c.length),uu=ru(cu,ou,Ga,Fa?(Zs=Js,eu):(Zs=eu,Js)),Za=iu=uu.length;uu[--iu]==0;uu.pop());if(!uu[0])return Zs.charAt(0);if(hu<0?--Za:(nu.c=uu,nu.e=Za,nu.s=Xa,nu=t(nu,fu,Eu,$u,Ga),uu=nu.c,au=nu.r,Za=nu.e),Wa=Za+Eu+1,hu=uu[Wa],iu=Ga/2,au=au||Wa<0||uu[Wa+1]!=null,au=$u<4?(hu!=null||au)&&($u==0||$u==(nu.s<0?3:2)):hu>iu||hu==iu&&($u==4||au||$u==6&&uu[Wa-1]&1||$u==(nu.s<0?8:7)),Wa<1||!uu[0])cu=au?toFixedPoint(Zs.charAt(1),-Eu,Zs.charAt(0)):Zs.charAt(0);else{if(uu.length=Wa,au)for(--Ga;++uu[--Wa]>Ga;)uu[Wa]=0,Wa||(++Za,uu=[1].concat(uu));for(iu=uu.length;!uu[--iu];);for(hu=0,cu="";hu<=iu;cu+=Zs.charAt(uu[hu++]));cu=toFixedPoint(cu,Za,Zs.charAt(0))}return cu}}(),t=function(){function eu(ou,Ga,Xa){var Fa,Zs,Wa,Za,iu=0,au=ou.length,nu=Ga%SQRT_BASE,uu=Ga/SQRT_BASE|0;for(ou=ou.slice();au--;)Wa=ou[au]%SQRT_BASE,Za=ou[au]/SQRT_BASE|0,Fa=uu*Wa+Za*nu,Zs=nu*Wa+Fa%SQRT_BASE*SQRT_BASE+iu,iu=(Zs/Xa|0)+(Fa/SQRT_BASE|0)+uu*Za,ou[au]=Zs%Xa;return iu&&(ou=[iu].concat(ou)),ou}function ru(ou,Ga,Xa,Fa){var Zs,Wa;if(Xa!=Fa)Wa=Xa>Fa?1:-1;else for(Zs=Wa=0;Zs<Xa;Zs++)if(ou[Zs]!=Ga[Zs]){Wa=ou[Zs]>Ga[Zs]?1:-1;break}return Wa}function cu(ou,Ga,Xa,Fa){for(var Zs=0;Xa--;)ou[Xa]-=Zs,Zs=ou[Xa]<Ga[Xa]?1:0,ou[Xa]=Zs*Fa+ou[Xa]-Ga[Xa];for(;!ou[0]&&ou.length>1;ou.splice(0,1));}return function(ou,Ga,Xa,Fa,Zs){var Wa,Za,iu,au,nu,uu,fu,hu,Eu,$u,Ou,gu,yu,Tu,du,wu,Ru,Ku=ou.s==Ga.s?1:-1,Zu=ou.c,tl=Ga.c;if(!Zu||!Zu[0]||!tl||!tl[0])return new pa(!ou.s||!Ga.s||(Zu?tl&&Zu[0]==tl[0]:!tl)?NaN:Zu&&Zu[0]==0||!tl?Ku*0:Ku/0);for(hu=new pa(Ku),Eu=hu.c=[],Za=ou.e-Ga.e,Ku=Xa+Za+1,Zs||(Zs=BASE$1,Za=bitFloor(ou.e/LOG_BASE)-bitFloor(Ga.e/LOG_BASE),Ku=Ku/LOG_BASE|0),iu=0;tl[iu]==(Zu[iu]||0);iu++);if(tl[iu]>(Zu[iu]||0)&&Za--,Ku<0)Eu.push(1),au=!0;else{for(Tu=Zu.length,wu=tl.length,iu=0,Ku+=2,nu=mathfloor(Zs/(tl[0]+1)),nu>1&&(tl=eu(tl,nu,Zs),Zu=eu(Zu,nu,Zs),wu=tl.length,Tu=Zu.length),yu=wu,$u=Zu.slice(0,wu),Ou=$u.length;Ou<wu;$u[Ou++]=0);Ru=tl.slice(),Ru=[0].concat(Ru),du=tl[0],tl[1]>=Zs/2&&du++;do{if(nu=0,Wa=ru(tl,$u,wu,Ou),Wa<0){if(gu=$u[0],wu!=Ou&&(gu=gu*Zs+($u[1]||0)),nu=mathfloor(gu/du),nu>1)for(nu>=Zs&&(nu=Zs-1),uu=eu(tl,nu,Zs),fu=uu.length,Ou=$u.length;ru(uu,$u,fu,Ou)==1;)nu--,cu(uu,wu<fu?Ru:tl,fu,Zs),fu=uu.length,Wa=1;else nu==0&&(Wa=nu=1),uu=tl.slice(),fu=uu.length;if(fu<Ou&&(uu=[0].concat(uu)),cu($u,uu,Ou,Zs),Ou=$u.length,Wa==-1)for(;ru(tl,$u,wu,Ou)<1;)nu++,cu($u,wu<Ou?Ru:tl,Ou,Zs),Ou=$u.length}else Wa===0&&(nu++,$u=[0]);Eu[iu++]=nu,$u[0]?$u[Ou++]=Zu[yu]||0:($u=[Zu[yu]],Ou=1)}while((yu++<Tu||$u[0]!=null)&&Ku--);au=$u[0]!=null,Eu[0]||Eu.splice(0,1)}if(Zs==BASE$1){for(iu=1,Ku=Eu[0];Ku>=10;Ku/=10,iu++);Qa(hu,Xa+(hu.e=iu+Za*LOG_BASE-1)+1,Fa,au)}else hu.e=Za,hu.r=+au;return hu}}();function za(eu,ru,cu,ou){var Ga,Xa,Fa,Zs,Wa;if(cu==null?cu=Es:intCheck(cu,0,8),!eu.c)return eu.toString();if(Ga=eu.c[0],Fa=eu.e,ru==null)Wa=coeffToString(eu.c),Wa=ou==1||ou==2&&(Fa<=Ts||Fa>=Ss)?toExponential(Wa,Fa):toFixedPoint(Wa,Fa,"0");else if(eu=Qa(new pa(eu),ru,cu),Xa=eu.e,Wa=coeffToString(eu.c),Zs=Wa.length,ou==1||ou==2&&(ru<=Xa||Xa<=Ts)){for(;Zs<ru;Wa+="0",Zs++);Wa=toExponential(Wa,Xa)}else if(ru-=Fa,Wa=toFixedPoint(Wa,Xa,"0"),Xa+1>Zs){if(--ru>0)for(Wa+=".";ru--;Wa+="0");}else if(ru+=Xa-Zs,ru>0)for(Xa+1==Zs&&(Wa+=".");ru--;Wa+="0");return eu.s<0&&Ga?"-"+Wa:Wa}function Ya(eu,ru){for(var cu,ou,Ga=1,Xa=new pa(eu[0]);Ga<eu.length;Ga++)ou=new pa(eu[Ga]),(!ou.s||(cu=compare(Xa,ou))===ru||cu===0&&Xa.s===ru)&&(Xa=ou);return Xa}function Bc(eu,ru,cu){for(var ou=1,Ga=ru.length;!ru[--Ga];ru.pop());for(Ga=ru[0];Ga>=10;Ga/=10,ou++);return(cu=ou+cu*LOG_BASE-1)>Bs?eu.c=eu.e=null:cu<Rs?eu.c=[eu.e=0]:(eu.e=cu,eu.c=ru),eu}ms=function(){var eu=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ru=/^([^.]+)\.$/,cu=/^\.([^.]+)$/,ou=/^-?(Infinity|NaN)$/,Ga=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Xa,Fa,Zs,Wa){var Za,iu=Zs?Fa:Fa.replace(Ga,"");if(ou.test(iu))Xa.s=isNaN(iu)?null:iu<0?-1:1;else{if(!Zs&&(iu=iu.replace(eu,function(au,nu,uu){return Za=(uu=uu.toLowerCase())=="x"?16:uu=="b"?2:8,!Wa||Wa==Za?nu:au}),Wa&&(Za=Wa,iu=iu.replace(ru,"$1").replace(cu,"0.$1")),Fa!=iu))return new pa(iu,Za);if(pa.DEBUG)throw Error(bignumberError+"Not a"+(Wa?" base "+Wa:"")+" number: "+Fa);Xa.s=null}Xa.c=Xa.e=null}}();function Qa(eu,ru,cu,ou){var Ga,Xa,Fa,Zs,Wa,Za,iu,au=eu.c,nu=POWS_TEN;if(au){e:{for(Ga=1,Zs=au[0];Zs>=10;Zs/=10,Ga++);if(Xa=ru-Ga,Xa<0)Xa+=LOG_BASE,Fa=ru,Wa=au[Za=0],iu=mathfloor(Wa/nu[Ga-Fa-1]%10);else if(Za=mathceil((Xa+1)/LOG_BASE),Za>=au.length)if(ou){for(;au.length<=Za;au.push(0));Wa=iu=0,Ga=1,Xa%=LOG_BASE,Fa=Xa-LOG_BASE+1}else break e;else{for(Wa=Zs=au[Za],Ga=1;Zs>=10;Zs/=10,Ga++);Xa%=LOG_BASE,Fa=Xa-LOG_BASE+Ga,iu=Fa<0?0:mathfloor(Wa/nu[Ga-Fa-1]%10)}if(ou=ou||ru<0||au[Za+1]!=null||(Fa<0?Wa:Wa%nu[Ga-Fa-1]),ou=cu<4?(iu||ou)&&(cu==0||cu==(eu.s<0?3:2)):iu>5||iu==5&&(cu==4||ou||cu==6&&(Xa>0?Fa>0?Wa/nu[Ga-Fa]:0:au[Za-1])%10&1||cu==(eu.s<0?8:7)),ru<1||!au[0])return au.length=0,ou?(ru-=eu.e+1,au[0]=nu[(LOG_BASE-ru%LOG_BASE)%LOG_BASE],eu.e=-ru||0):au[0]=eu.e=0,eu;if(Xa==0?(au.length=Za,Zs=1,Za--):(au.length=Za+1,Zs=nu[LOG_BASE-Xa],au[Za]=Fa>0?mathfloor(Wa/nu[Ga-Fa]%nu[Fa])*Zs:0),ou)for(;;)if(Za==0){for(Xa=1,Fa=au[0];Fa>=10;Fa/=10,Xa++);for(Fa=au[0]+=Zs,Zs=1;Fa>=10;Fa/=10,Zs++);Xa!=Zs&&(eu.e++,au[0]==BASE$1&&(au[0]=1));break}else{if(au[Za]+=Zs,au[Za]!=BASE$1)break;au[Za--]=0,Zs=1}for(Xa=au.length;au[--Xa]===0;au.pop());}eu.e>Bs?eu.c=eu.e=null:eu.e<Rs&&(eu.c=[eu.e=0])}return eu}function tu(eu){var ru,cu=eu.e;return cu===null?eu.toString():(ru=coeffToString(eu.c),ru=cu<=Ts||cu>=Ss?toExponential(ru,cu):toFixedPoint(ru,cu,"0"),eu.s<0?"-"+ru:ru)}return ws.absoluteValue=ws.abs=function(){var eu=new pa(this);return eu.s<0&&(eu.s=1),eu},ws.comparedTo=function(eu,ru){return compare(this,new pa(eu,ru))},ws.decimalPlaces=ws.dp=function(eu,ru){var cu,ou,Ga,Xa=this;if(eu!=null)return intCheck(eu,0,MAX),ru==null?ru=Es:intCheck(ru,0,8),Qa(new pa(Xa),eu+Xa.e+1,ru);if(!(cu=Xa.c))return null;if(ou=((Ga=cu.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,Ga=cu[Ga])for(;Ga%10==0;Ga/=10,ou--);return ou<0&&(ou=0),ou},ws.dividedBy=ws.div=function(eu,ru){return t(this,new pa(eu,ru),_s,Es)},ws.dividedToIntegerBy=ws.idiv=function(eu,ru){return t(this,new pa(eu,ru),0,1)},ws.exponentiatedBy=ws.pow=function(eu,ru){var cu,ou,Ga,Xa,Fa,Zs,Wa,Za,iu,au=this;if(eu=new pa(eu),eu.c&&!eu.isInteger())throw Error(bignumberError+"Exponent not an integer: "+tu(eu));if(ru!=null&&(ru=new pa(ru)),Zs=eu.e>14,!au.c||!au.c[0]||au.c[0]==1&&!au.e&&au.c.length==1||!eu.c||!eu.c[0])return iu=new pa(Math.pow(+tu(au),Zs?eu.s*(2-isOdd(eu)):+tu(eu))),ru?iu.mod(ru):iu;if(Wa=eu.s<0,ru){if(ru.c?!ru.c[0]:!ru.s)return new pa(NaN);ou=!Wa&&au.isInteger()&&ru.isInteger(),ou&&(au=au.mod(ru))}else{if(eu.e>9&&(au.e>0||au.e<-1||(au.e==0?au.c[0]>1||Zs&&au.c[1]>=24e7:au.c[0]<8e13||Zs&&au.c[0]<=9999975e7)))return Xa=au.s<0&&isOdd(eu)?-0:0,au.e>-1&&(Xa=1/Xa),new pa(Wa?1/Xa:Xa);Hs&&(Xa=mathceil(Hs/LOG_BASE+2))}for(Zs?(cu=new pa(.5),Wa&&(eu.s=1),Za=isOdd(eu)):(Ga=Math.abs(+tu(eu)),Za=Ga%2),iu=new pa(vs);;){if(Za){if(iu=iu.times(au),!iu.c)break;Xa?iu.c.length>Xa&&(iu.c.length=Xa):ou&&(iu=iu.mod(ru))}if(Ga){if(Ga=mathfloor(Ga/2),Ga===0)break;Za=Ga%2}else if(eu=eu.times(cu),Qa(eu,eu.e+1,1),eu.e>14)Za=isOdd(eu);else{if(Ga=+tu(eu),Ga===0)break;Za=Ga%2}au=au.times(au),Xa?au.c&&au.c.length>Xa&&(au.c.length=Xa):ou&&(au=au.mod(ru))}return ou?iu:(Wa&&(iu=vs.div(iu)),ru?iu.mod(ru):Xa?Qa(iu,Hs,Es,Fa):iu)},ws.integerValue=function(eu){var ru=new pa(this);return eu==null?eu=Es:intCheck(eu,0,8),Qa(ru,ru.e+1,eu)},ws.isEqualTo=ws.eq=function(eu,ru){return compare(this,new pa(eu,ru))===0},ws.isFinite=function(){return!!this.c},ws.isGreaterThan=ws.gt=function(eu,ru){return compare(this,new pa(eu,ru))>0},ws.isGreaterThanOrEqualTo=ws.gte=function(eu,ru){return(ru=compare(this,new pa(eu,ru)))===1||ru===0},ws.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},ws.isLessThan=ws.lt=function(eu,ru){return compare(this,new pa(eu,ru))<0},ws.isLessThanOrEqualTo=ws.lte=function(eu,ru){return(ru=compare(this,new pa(eu,ru)))===-1||ru===0},ws.isNaN=function(){return!this.s},ws.isNegative=function(){return this.s<0},ws.isPositive=function(){return this.s>0},ws.isZero=function(){return!!this.c&&this.c[0]==0},ws.minus=function(eu,ru){var cu,ou,Ga,Xa,Fa=this,Zs=Fa.s;if(eu=new pa(eu,ru),ru=eu.s,!Zs||!ru)return new pa(NaN);if(Zs!=ru)return eu.s=-ru,Fa.plus(eu);var Wa=Fa.e/LOG_BASE,Za=eu.e/LOG_BASE,iu=Fa.c,au=eu.c;if(!Wa||!Za){if(!iu||!au)return iu?(eu.s=-ru,eu):new pa(au?Fa:NaN);if(!iu[0]||!au[0])return au[0]?(eu.s=-ru,eu):new pa(iu[0]?Fa:Es==3?-0:0)}if(Wa=bitFloor(Wa),Za=bitFloor(Za),iu=iu.slice(),Zs=Wa-Za){for((Xa=Zs<0)?(Zs=-Zs,Ga=iu):(Za=Wa,Ga=au),Ga.reverse(),ru=Zs;ru--;Ga.push(0));Ga.reverse()}else for(ou=(Xa=(Zs=iu.length)<(ru=au.length))?Zs:ru,Zs=ru=0;ru<ou;ru++)if(iu[ru]!=au[ru]){Xa=iu[ru]<au[ru];break}if(Xa&&(Ga=iu,iu=au,au=Ga,eu.s=-eu.s),ru=(ou=au.length)-(cu=iu.length),ru>0)for(;ru--;iu[cu++]=0);for(ru=BASE$1-1;ou>Zs;){if(iu[--ou]<au[ou]){for(cu=ou;cu&&!iu[--cu];iu[cu]=ru);--iu[cu],iu[ou]+=BASE$1}iu[ou]-=au[ou]}for(;iu[0]==0;iu.splice(0,1),--Za);return iu[0]?Bc(eu,iu,Za):(eu.s=Es==3?-1:1,eu.c=[eu.e=0],eu)},ws.modulo=ws.mod=function(eu,ru){var cu,ou,Ga=this;return eu=new pa(eu,ru),!Ga.c||!eu.s||eu.c&&!eu.c[0]?new pa(NaN):!eu.c||Ga.c&&!Ga.c[0]?new pa(Ga):(Ws==9?(ou=eu.s,eu.s=1,cu=t(Ga,eu,0,3),eu.s=ou,cu.s*=ou):cu=t(Ga,eu,0,Ws),eu=Ga.minus(cu.times(eu)),!eu.c[0]&&Ws==1&&(eu.s=Ga.s),eu)},ws.multipliedBy=ws.times=function(eu,ru){var cu,ou,Ga,Xa,Fa,Zs,Wa,Za,iu,au,nu,uu,fu,hu,Eu,$u=this,Ou=$u.c,gu=(eu=new pa(eu,ru)).c;if(!Ou||!gu||!Ou[0]||!gu[0])return!$u.s||!eu.s||Ou&&!Ou[0]&&!gu||gu&&!gu[0]&&!Ou?eu.c=eu.e=eu.s=null:(eu.s*=$u.s,!Ou||!gu?eu.c=eu.e=null:(eu.c=[0],eu.e=0)),eu;for(ou=bitFloor($u.e/LOG_BASE)+bitFloor(eu.e/LOG_BASE),eu.s*=$u.s,Wa=Ou.length,au=gu.length,Wa<au&&(fu=Ou,Ou=gu,gu=fu,Ga=Wa,Wa=au,au=Ga),Ga=Wa+au,fu=[];Ga--;fu.push(0));for(hu=BASE$1,Eu=SQRT_BASE,Ga=au;--Ga>=0;){for(cu=0,nu=gu[Ga]%Eu,uu=gu[Ga]/Eu|0,Fa=Wa,Xa=Ga+Fa;Xa>Ga;)Za=Ou[--Fa]%Eu,iu=Ou[Fa]/Eu|0,Zs=uu*Za+iu*nu,Za=nu*Za+Zs%Eu*Eu+fu[Xa]+cu,cu=(Za/hu|0)+(Zs/Eu|0)+uu*iu,fu[Xa--]=Za%hu;fu[Xa]=cu}return cu?++ou:fu.splice(0,1),Bc(eu,fu,ou)},ws.negated=function(){var eu=new pa(this);return eu.s=-eu.s||null,eu},ws.plus=function(eu,ru){var cu,ou=this,Ga=ou.s;if(eu=new pa(eu,ru),ru=eu.s,!Ga||!ru)return new pa(NaN);if(Ga!=ru)return eu.s=-ru,ou.minus(eu);var Xa=ou.e/LOG_BASE,Fa=eu.e/LOG_BASE,Zs=ou.c,Wa=eu.c;if(!Xa||!Fa){if(!Zs||!Wa)return new pa(Ga/0);if(!Zs[0]||!Wa[0])return Wa[0]?eu:new pa(Zs[0]?ou:Ga*0)}if(Xa=bitFloor(Xa),Fa=bitFloor(Fa),Zs=Zs.slice(),Ga=Xa-Fa){for(Ga>0?(Fa=Xa,cu=Wa):(Ga=-Ga,cu=Zs),cu.reverse();Ga--;cu.push(0));cu.reverse()}for(Ga=Zs.length,ru=Wa.length,Ga-ru<0&&(cu=Wa,Wa=Zs,Zs=cu,ru=Ga),Ga=0;ru;)Ga=(Zs[--ru]=Zs[ru]+Wa[ru]+Ga)/BASE$1|0,Zs[ru]=BASE$1===Zs[ru]?0:Zs[ru]%BASE$1;return Ga&&(Zs=[Ga].concat(Zs),++Fa),Bc(eu,Zs,Fa)},ws.precision=ws.sd=function(eu,ru){var cu,ou,Ga,Xa=this;if(eu!=null&&eu!==!!eu)return intCheck(eu,1,MAX),ru==null?ru=Es:intCheck(ru,0,8),Qa(new pa(Xa),eu,ru);if(!(cu=Xa.c))return null;if(Ga=cu.length-1,ou=Ga*LOG_BASE+1,Ga=cu[Ga]){for(;Ga%10==0;Ga/=10,ou--);for(Ga=cu[0];Ga>=10;Ga/=10,ou++);}return eu&&Xa.e+1>ou&&(ou=Xa.e+1),ou},ws.shiftedBy=function(eu){return intCheck(eu,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER),this.times("1e"+eu)},ws.squareRoot=ws.sqrt=function(){var eu,ru,cu,ou,Ga,Xa=this,Fa=Xa.c,Zs=Xa.s,Wa=Xa.e,Za=_s+4,iu=new pa("0.5");if(Zs!==1||!Fa||!Fa[0])return new pa(!Zs||Zs<0&&(!Fa||Fa[0])?NaN:Fa?Xa:1/0);if(Zs=Math.sqrt(+tu(Xa)),Zs==0||Zs==1/0?(ru=coeffToString(Fa),(ru.length+Wa)%2==0&&(ru+="0"),Zs=Math.sqrt(+ru),Wa=bitFloor((Wa+1)/2)-(Wa<0||Wa%2),Zs==1/0?ru="5e"+Wa:(ru=Zs.toExponential(),ru=ru.slice(0,ru.indexOf("e")+1)+Wa),cu=new pa(ru)):cu=new pa(Zs+""),cu.c[0]){for(Wa=cu.e,Zs=Wa+Za,Zs<3&&(Zs=0);;)if(Ga=cu,cu=iu.times(Ga.plus(t(Xa,Ga,Za,1))),coeffToString(Ga.c).slice(0,Zs)===(ru=coeffToString(cu.c)).slice(0,Zs))if(cu.e<Wa&&--Zs,ru=ru.slice(Zs-3,Zs+1),ru=="9999"||!ou&&ru=="4999"){if(!ou&&(Qa(Ga,Ga.e+_s+2,0),Ga.times(Ga).eq(Xa))){cu=Ga;break}Za+=4,Zs+=4,ou=1}else{(!+ru||!+ru.slice(1)&&ru.charAt(0)=="5")&&(Qa(cu,cu.e+_s+2,1),eu=!cu.times(cu).eq(Xa));break}}return Qa(cu,cu.e+_s+1,Es,eu)},ws.toExponential=function(eu,ru){return eu!=null&&(intCheck(eu,0,MAX),eu++),za(this,eu,ru,1)},ws.toFixed=function(eu,ru){return eu!=null&&(intCheck(eu,0,MAX),eu=eu+this.e+1),za(this,eu,ru)},ws.toFormat=function(eu,ru,cu){var ou,Ga=this;if(cu==null)eu!=null&&ru&&typeof ru=="object"?(cu=ru,ru=null):eu&&typeof eu=="object"?(cu=eu,eu=ru=null):cu=Ns;else if(typeof cu!="object")throw Error(bignumberError+"Argument not an object: "+cu);if(ou=Ga.toFixed(eu,ru),Ga.c){var Xa,Fa=ou.split("."),Zs=+cu.groupSize,Wa=+cu.secondaryGroupSize,Za=cu.groupSeparator||"",iu=Fa[0],au=Fa[1],nu=Ga.s<0,uu=nu?iu.slice(1):iu,fu=uu.length;if(Wa&&(Xa=Zs,Zs=Wa,Wa=Xa,fu-=Xa),Zs>0&&fu>0){for(Xa=fu%Zs||Zs,iu=uu.substr(0,Xa);Xa<fu;Xa+=Zs)iu+=Za+uu.substr(Xa,Zs);Wa>0&&(iu+=Za+uu.slice(Xa)),nu&&(iu="-"+iu)}ou=au?iu+(cu.decimalSeparator||"")+((Wa=+cu.fractionGroupSize)?au.replace(new RegExp("\\d{"+Wa+"}\\B","g"),"$&"+(cu.fractionGroupSeparator||"")):au):iu}return(cu.prefix||"")+ou+(cu.suffix||"")},ws.toFraction=function(eu){var ru,cu,ou,Ga,Xa,Fa,Zs,Wa,Za,iu,au,nu,uu=this,fu=uu.c;if(eu!=null&&(Zs=new pa(eu),!Zs.isInteger()&&(Zs.c||Zs.s!==1)||Zs.lt(vs)))throw Error(bignumberError+"Argument "+(Zs.isInteger()?"out of range: ":"not an integer: ")+tu(Zs));if(!fu)return new pa(uu);for(ru=new pa(vs),Za=cu=new pa(vs),ou=Wa=new pa(vs),nu=coeffToString(fu),Xa=ru.e=nu.length-uu.e-1,ru.c[0]=POWS_TEN[(Fa=Xa%LOG_BASE)<0?LOG_BASE+Fa:Fa],eu=!eu||Zs.comparedTo(ru)>0?Xa>0?ru:Za:Zs,Fa=Bs,Bs=1/0,Zs=new pa(nu),Wa.c[0]=0;iu=t(Zs,ru,0,1),Ga=cu.plus(iu.times(ou)),Ga.comparedTo(eu)!=1;)cu=ou,ou=Ga,Za=Wa.plus(iu.times(Ga=Za)),Wa=Ga,ru=Zs.minus(iu.times(Ga=ru)),Zs=Ga;return Ga=t(eu.minus(cu),ou,0,1),Wa=Wa.plus(Ga.times(Za)),cu=cu.plus(Ga.times(ou)),Wa.s=Za.s=uu.s,Xa=Xa*2,au=t(Za,ou,Xa,Es).minus(uu).abs().comparedTo(t(Wa,cu,Xa,Es).minus(uu).abs())<1?[Za,ou]:[Wa,cu],Bs=Fa,au},ws.toNumber=function(){return+tu(this)},ws.toPrecision=function(eu,ru){return eu!=null&&intCheck(eu,1,MAX),za(this,eu,ru,2)},ws.toString=function(eu){var ru,cu=this,ou=cu.s,Ga=cu.e;return Ga===null?ou?(ru="Infinity",ou<0&&(ru="-"+ru)):ru="NaN":(eu==null?ru=Ga<=Ts||Ga>=Ss?toExponential(coeffToString(cu.c),Ga):toFixedPoint(coeffToString(cu.c),Ga,"0"):eu===10&&ha?(cu=Qa(new pa(cu),_s+Ga+1,Es),ru=toFixedPoint(coeffToString(cu.c),cu.e,"0")):(intCheck(eu,2,Js.length,"Base"),ru=et(toFixedPoint(coeffToString(cu.c),Ga,"0"),10,eu,ou,!0)),ou<0&&cu.c[0]&&(ru="-"+ru)),ru},ws.valueOf=ws.toJSON=function(){return tu(this)},ws._isBigNumber=!0,ws[Symbol.toStringTag]="BigNumber",ws[Symbol.for("nodejs.util.inspect.custom")]=ws.valueOf,st!=null&&pa.set(st),pa}function bitFloor(st){var t=st|0;return st>0||st===t?t:t-1}function coeffToString(st){for(var t,et,ms=1,ws=st.length,vs=st[0]+"";ms<ws;){for(t=st[ms++]+"",et=LOG_BASE-t.length;et--;t="0"+t);vs+=t}for(ws=vs.length;vs.charCodeAt(--ws)===48;);return vs.slice(0,ws+1||1)}function compare(st,t){var et,ms,ws=st.c,vs=t.c,_s=st.s,Es=t.s,Ts=st.e,Ss=t.e;if(!_s||!Es)return null;if(et=ws&&!ws[0],ms=vs&&!vs[0],et||ms)return et?ms?0:-Es:_s;if(_s!=Es)return _s;if(et=_s<0,ms=Ts==Ss,!ws||!vs)return ms?0:!ws^et?1:-1;if(!ms)return Ts>Ss^et?1:-1;for(Es=(Ts=ws.length)<(Ss=vs.length)?Ts:Ss,_s=0;_s<Es;_s++)if(ws[_s]!=vs[_s])return ws[_s]>vs[_s]^et?1:-1;return Ts==Ss?0:Ts>Ss^et?1:-1}function intCheck(st,t,et,ms){if(st<t||st>et||st!==mathfloor(st))throw Error(bignumberError+(ms||"Argument")+(typeof st=="number"?st<t||st>et?" out of range: ":" not an integer: ":" not a primitive number: ")+String(st))}function isOdd(st){var t=st.c.length-1;return bitFloor(st.e/LOG_BASE)==t&&st.c[t]%2!=0}function toExponential(st,t){return(st.length>1?st.charAt(0)+"."+st.slice(1):st)+(t<0?"e":"e+")+t}function toFixedPoint(st,t,et){var ms,ws;if(t<0){for(ws=et+".";++t;ws+=et);st=ws+st}else if(ms=st.length,++t>ms){for(ws=et,t-=ms;--t;ws+=et);st+=ws}else t<ms&&(st=st.slice(0,t)+"."+st.slice(t));return st}var BigNumber=clone();function getDefaultExportFromCjs$1(st){return st&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st}function getAugmentedNamespace(st){if(Object.prototype.hasOwnProperty.call(st,"__esModule"))return st;var t=st.default;if(typeof t=="function"){var et=function ms(){var ws=!1;try{ws=this instanceof ms}catch{}return ws?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};et.prototype=t.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(st).forEach(function(ms){var ws=Object.getOwnPropertyDescriptor(st,ms);Object.defineProperty(et,ms,ws.get?ws:{enumerable:!0,get:function(){return st[ms]}})}),et}var validator$2={exports:{}},toDate={exports:{}},assertString={exports:{}},hasRequiredAssertString;function requireAssertString(){return hasRequiredAssertString||(hasRequiredAssertString=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ms;function et(ws){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vs){return typeof vs}:function(vs){return vs&&typeof Symbol=="function"&&vs.constructor===Symbol&&vs!==Symbol.prototype?"symbol":typeof vs},et(ws)}function ms(ws){var vs=typeof ws=="string"||ws instanceof String;if(!vs){var _s=et(ws);throw ws===null?_s="null":_s==="object"&&(_s=ws.constructor.name),new TypeError("Expected a string but received a ".concat(_s))}}st.exports=t.default,st.exports.default=t.default}(assertString,assertString.exports)),assertString.exports}var hasRequiredToDate;function requireToDate(){return hasRequiredToDate||(hasRequiredToDate=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs),vs=Date.parse(vs),isNaN(vs)?null:new Date(vs)}st.exports=t.default,st.exports.default=t.default}(toDate,toDate.exports)),toDate.exports}var toFloat={exports:{}},isFloat={},alpha={},hasRequiredAlpha;function requireAlpha(){if(hasRequiredAlpha)return alpha;hasRequiredAlpha=1,Object.defineProperty(alpha,"__esModule",{value:!0}),alpha.farsiLocales=alpha.englishLocales=alpha.dotDecimal=alpha.decimal=alpha.commaDecimal=alpha.bengaliLocales=alpha.arabicLocales=alpha.alphanumeric=alpha.alpha=void 0;for(var st=alpha.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZÃÆÄÄ°Ä±ÃÅÃ]+$/i,"bg-BG":/^[Ð-Ð¯]+$/i,"cs-CZ":/^[A-ZÃÄÄÃÄÃÅÃÅÅ Å¤ÃÅ®ÃÅ½]+$/i,"da-DK":/^[A-ZÃÃÃ]+$/i,"de-DE":/^[A-ZÃÃÃÃ]+$/i,"el-GR":/^[Î-Ï]+$/i,"es-ES":/^[A-ZÃÃÃÃÃÃÃ]+$/i,"fa-IR":/^[Ø§Ø¨Ù¾ØªØ«Ø¬ÚØ­Ø®Ø¯Ø°Ø±Ø²ÚØ³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÚ©Ú¯ÙÙÙÙÙÛ]+$/i,"fi-FI":/^[A-ZÃÃÃ]+$/i,"fr-FR":/^[A-ZÃÃÃÃÃÃÃÃÃÃÃÅÃÃÃÅ¸]+$/i,"it-IT":/^[A-ZÃÃÃÃÃÃÃÃ]+$/i,"ja-JP":/^[ã-ãã¡-ã¶ï½¦-ï¾ä¸-é¾ ã¼ã»ãã]+$/i,"nb-NO":/^[A-ZÃÃÃ]+$/i,"nl-NL":/^[A-ZÃÃÃÃÃÃÃÃ]+$/i,"nn-NO":/^[A-ZÃÃÃ]+$/i,"hu-HU":/^[A-ZÃÃÃÃÃÅÃÃÅ°]+$/i,"pl-PL":/^[A-ZÄÄÄÅÅÅÃÅ»Å¹]+$/i,"pt-PT":/^[A-ZÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]+$/i,"ru-RU":/^[Ð-Ð¯Ð]+$/i,"kk-KZ":/^[Ð-Ð¯Ð\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-ZÄÄÄÅ Å½]+$/i,"sk-SK":/^[A-ZÃÄÄÃÃÅÃÅ Å¤ÃÃÅ½Ä¹ÅÄ½ÃÃ]+$/i,"sr-RS@latin":/^[A-ZÄÄÅ½Å Ä]+$/i,"sr-RS":/^[Ð-Ð¯ÐÐÐÐÐÐ]+$/i,"sv-SE":/^[A-ZÃÃÃ]+$/i,"th-TH":/^[à¸-à¹\s]+$/i,"tr-TR":/^[A-ZÃÄÄ°Ä±ÃÅÃ]+$/i,"uk-UA":/^[Ð-Ð©Ð¬Ð®Ð¯ÐIÐÒÑ]+$/i,"vi-VN":/^[A-ZÃÃáº áº¢ÃÃáº¦áº¤áº¬áº¨áºªÄáº°áº®áº¶áº²áº´ÄÃÃáº¸áººáº¼Ãá»áº¾á»á»á»ÃÃá»á»Ä¨ÃÃá»á»ÃÃá»á»á»á»á»Æ á»á»á»¢á»á» ÃÃá»¤á»¦Å¨Æ¯á»ªá»¨á»°á»¬á»®á»²Ãá»´á»¶á»¸]+$/i,"ko-KR":/^[ã±-ãã-ã£ê°-í£]*$/,"ku-IQ":/^[Ø¦Ø§Ø¨Ù¾ØªØ¬ÚØ­Ø®Ø¯Ø±ÚØ²ÚØ³Ø´Ø¹ØºÙÚ¤ÙÚ©Ú¯ÙÚµÙÙÙÛÚ¾ÛÛÛÙØ·Ø¤Ø«Ø¢Ø¥Ø£ÙØ¶ØµØ©Ø¸Ø°]+$/i,ar:/^[Ø¡Ø¢Ø£Ø¤Ø¥Ø¦Ø§Ø¨Ø©ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙ°]+$/,he:/^[×-×ª]+$/,fa:/^['Ø¢Ø§Ø¡Ø£Ø¤Ø¦Ø¨Ù¾ØªØ«Ø¬ÚØ­Ø®Ø¯Ø°Ø±Ø²ÚØ³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÚ©Ú¯ÙÙÙÙÙØ©Û']+$/i,bn:/^['à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦ à¦¡à¦¢à¦£à¦¤à¦¥à¦¦à¦§à¦¨à¦ªà¦«à¦¬à¦­à¦®à¦¯à¦°à¦²à¦¶à¦·à¦¸à¦¹à¦¼à¦½à¦¾à¦¿à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§ à§¡à§¢à§£à§°à§±à§²à§³à§´à§µà§¶à§·à§¸à§¹à§ºà§»']+$/,eo:/^[ABCÄD-GÄHÄ¤IJÄ´K-PRSÅTUÅ¬VZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},t=alpha.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZÃÆÄÄ°Ä±ÃÅÃ]+$/i,"bg-BG":/^[0-9Ð-Ð¯]+$/i,"cs-CZ":/^[0-9A-ZÃÄÄÃÄÃÅÃÅÅ Å¤ÃÅ®ÃÅ½]+$/i,"da-DK":/^[0-9A-ZÃÃÃ]+$/i,"de-DE":/^[0-9A-ZÃÃÃÃ]+$/i,"el-GR":/^[0-9Î-Ï]+$/i,"es-ES":/^[0-9A-ZÃÃÃÃÃÃÃ]+$/i,"fi-FI":/^[0-9A-ZÃÃÃ]+$/i,"fr-FR":/^[0-9A-ZÃÃÃÃÃÃÃÃÃÃÃÅÃÃÃÅ¸]+$/i,"it-IT":/^[0-9A-ZÃÃÃÃÃÃÃÃ]+$/i,"ja-JP":/^[0-9ï¼-ï¼ã-ãã¡-ã¶ï½¦-ï¾ä¸-é¾ ã¼ã»ãã]+$/i,"hu-HU":/^[0-9A-ZÃÃÃÃÃÅÃÃÅ°]+$/i,"nb-NO":/^[0-9A-ZÃÃÃ]+$/i,"nl-NL":/^[0-9A-ZÃÃÃÃÃÃÃÃ]+$/i,"nn-NO":/^[0-9A-ZÃÃÃ]+$/i,"pl-PL":/^[0-9A-ZÄÄÄÅÅÅÃÅ»Å¹]+$/i,"pt-PT":/^[0-9A-ZÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]+$/i,"ru-RU":/^[0-9Ð-Ð¯Ð]+$/i,"kk-KZ":/^[0-9Ð-Ð¯Ð\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-ZÄÄÄÅ Å½]+$/i,"sk-SK":/^[0-9A-ZÃÄÄÃÃÅÃÅ Å¤ÃÃÅ½Ä¹ÅÄ½ÃÃ]+$/i,"sr-RS@latin":/^[0-9A-ZÄÄÅ½Å Ä]+$/i,"sr-RS":/^[0-9Ð-Ð¯ÐÐÐÐÐÐ]+$/i,"sv-SE":/^[0-9A-ZÃÃÃ]+$/i,"th-TH":/^[à¸-à¹\s]+$/i,"tr-TR":/^[0-9A-ZÃÄÄ°Ä±ÃÅÃ]+$/i,"uk-UA":/^[0-9Ð-Ð©Ð¬Ð®Ð¯ÐIÐÒÑ]+$/i,"ko-KR":/^[0-9ã±-ãã-ã£ê°-í£]*$/,"ku-IQ":/^[Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©0-9Ø¦Ø§Ø¨Ù¾ØªØ¬ÚØ­Ø®Ø¯Ø±ÚØ²ÚØ³Ø´Ø¹ØºÙÚ¤ÙÚ©Ú¯ÙÚµÙÙÙÛÚ¾ÛÛÛÙØ·Ø¤Ø«Ø¢Ø¥Ø£ÙØ¶ØµØ©Ø¸Ø°]+$/i,"vi-VN":/^[0-9A-ZÃÃáº áº¢ÃÃáº¦áº¤áº¬áº¨áºªÄáº°áº®áº¶áº²áº´ÄÃÃáº¸áººáº¼Ãá»áº¾á»á»á»ÃÃá»á»Ä¨ÃÃá»á»ÃÃá»á»á»á»á»Æ á»á»á»¢á»á» ÃÃá»¤á»¦Å¨Æ¯á»ªá»¨á»°á»¬á»®á»²Ãá»´á»¶á»¸]+$/i,ar:/^[Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©0-9Ø¡Ø¢Ø£Ø¤Ø¥Ø¦Ø§Ø¨Ø©ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙ°]+$/,he:/^[0-9×-×ª]+$/,fa:/^['0-9Ø¢Ø§Ø¡Ø£Ø¤Ø¦Ø¨Ù¾ØªØ«Ø¬ÚØ­Ø®Ø¯Ø°Ø±Ø²ÚØ³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÚ©Ú¯ÙÙÙÙÙØ©ÛÛ±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹Û°']+$/i,bn:/^['à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦ à¦¡à¦¢à¦£à¦¤à¦¥à¦¦à¦§à¦¨à¦ªà¦«à¦¬à¦­à¦®à¦¯à¦°à¦²à¦¶à¦·à¦¸à¦¹à¦¼à¦½à¦¾à¦¿à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§ à§¡à§¢à§£à§¦à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§°à§±à§²à§³à§´à§µà§¶à§·à§¸à§¹à§ºà§»']+$/,eo:/^[0-9ABCÄD-GÄHÄ¤IJÄ´K-PRSÅTUÅ¬VZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},et=alpha.decimal={"en-US":".",ar:"Ù«"},ms=alpha.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],ws,vs=0;vs<ms.length;vs++)ws="en-".concat(ms[vs]),st[ws]=st["en-US"],t[ws]=t["en-US"],et[ws]=et["en-US"];for(var _s=alpha.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],Es,Ts=0;Ts<_s.length;Ts++)Es="ar-".concat(_s[Ts]),st[Es]=st.ar,t[Es]=t.ar,et[Es]=et.ar;for(var Ss=alpha.farsiLocales=["IR","AF"],Rs,Bs=0;Bs<Ss.length;Bs++)Rs="fa-".concat(Ss[Bs]),t[Rs]=t.fa,et[Rs]=et.ar;for(var Is=alpha.bengaliLocales=["BD","IN"],Ws,Hs=0;Hs<Is.length;Hs++)Ws="bn-".concat(Is[Hs]),st[Ws]=st.bn,t[Ws]=t.bn,et[Ws]=et["en-US"];for(var Ns=alpha.dotDecimal=["ar-EG","ar-LB","ar-LY"],Js=alpha.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],ha=0;ha<Ns.length;ha++)et[Ns[ha]]=et["en-US"];for(var pa=0;pa<Js.length;pa++)et[Js[pa]]=",";return st["fr-CA"]=st["fr-FR"],t["fr-CA"]=t["fr-FR"],st["pt-BR"]=st["pt-PT"],t["pt-BR"]=t["pt-PT"],et["pt-BR"]=et["pt-PT"],st["pl-Pl"]=st["pl-PL"],t["pl-Pl"]=t["pl-PL"],et["pl-Pl"]=et["pl-PL"],st["fa-AF"]=st.fa,alpha}var hasRequiredIsFloat;function requireIsFloat(){if(hasRequiredIsFloat)return isFloat;hasRequiredIsFloat=1,Object.defineProperty(isFloat,"__esModule",{value:!0}),isFloat.default=ms,isFloat.locales=void 0;var st=et(requireAssertString()),t=requireAlpha();function et(ws){return ws&&ws.__esModule?ws:{default:ws}}function ms(ws,vs){(0,st.default)(ws),vs=vs||{};var _s=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(vs.locale?t.decimal[vs.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(ws===""||ws==="."||ws===","||ws==="-"||ws==="+")return!1;var Es=parseFloat(ws.replace(",","."));return _s.test(ws)&&(!vs.hasOwnProperty("min")||Es>=vs.min)&&(!vs.hasOwnProperty("max")||Es<=vs.max)&&(!vs.hasOwnProperty("lt")||Es<vs.lt)&&(!vs.hasOwnProperty("gt")||Es>vs.gt)}return isFloat.locales=Object.keys(t.decimal),isFloat}var hasRequiredToFloat;function requireToFloat(){return hasRequiredToFloat||(hasRequiredToFloat=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireIsFloat());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs)?parseFloat(vs):NaN}st.exports=t.default,st.exports.default=t.default}(toFloat,toFloat.exports)),toFloat.exports}var toInt={exports:{}},hasRequiredToInt;function requireToInt(){return hasRequiredToInt||(hasRequiredToInt=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){return(0,et.default)(vs),parseInt(vs,_s||10)}st.exports=t.default,st.exports.default=t.default}(toInt,toInt.exports)),toInt.exports}var toBoolean={exports:{}},hasRequiredToBoolean;function requireToBoolean(){return hasRequiredToBoolean||(hasRequiredToBoolean=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){return(0,et.default)(vs),_s?vs==="1"||/^true$/i.test(vs):vs!=="0"&&!/^false$/i.test(vs)&&vs!==""}st.exports=t.default,st.exports.default=t.default}(toBoolean,toBoolean.exports)),toBoolean.exports}var equals$2={exports:{}},hasRequiredEquals;function requireEquals(){return hasRequiredEquals||(hasRequiredEquals=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){return(0,et.default)(vs),vs===_s}st.exports=t.default,st.exports.default=t.default}(equals$2,equals$2.exports)),equals$2.exports}var contains={exports:{}},toString$6={exports:{}},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ms;function et(ws){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vs){return typeof vs}:function(vs){return vs&&typeof Symbol=="function"&&vs.constructor===Symbol&&vs!==Symbol.prototype?"symbol":typeof vs},et(ws)}function ms(ws){return et(ws)==="object"&&ws!==null?typeof ws.toString=="function"?ws=ws.toString():ws="[object Object]":(ws===null||typeof ws>"u"||isNaN(ws)&&!ws.length)&&(ws=""),String(ws)}st.exports=t.default,st.exports.default=t.default}(toString$6,toString$6.exports)),toString$6.exports}var merge$1={exports:{}},hasRequiredMerge;function requireMerge(){return hasRequiredMerge||(hasRequiredMerge=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=et;function et(){var ms=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ws=arguments.length>1?arguments[1]:void 0;for(var vs in ws)typeof ms[vs]>"u"&&(ms[vs]=ws[vs]);return ms}st.exports=t.default,st.exports.default=t.default}(merge$1,merge$1.exports)),merge$1.exports}var hasRequiredContains;function requireContains(){return hasRequiredContains||(hasRequiredContains=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=vs(requireAssertString()),ms=vs(requireToString()),ws=vs(requireMerge());function vs(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var _s={ignoreCase:!1,minOccurrences:1};function Es(Ts,Ss,Rs){return(0,et.default)(Ts),Rs=(0,ws.default)(Rs,_s),Rs.ignoreCase?Ts.toLowerCase().split((0,ms.default)(Ss).toLowerCase()).length>Rs.minOccurrences:Ts.split((0,ms.default)(Ss)).length>Rs.minOccurrences}st.exports=t.default,st.exports.default=t.default}(contains,contains.exports)),contains.exports}var matches={exports:{}},hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s,Es){return(0,et.default)(vs),Object.prototype.toString.call(_s)!=="[object RegExp]"&&(_s=new RegExp(_s,Es)),!!vs.match(_s)}st.exports=t.default,st.exports.default=t.default}(matches,matches.exports)),matches.exports}var isEmail={exports:{}},isByteLength={exports:{}},hasRequiredIsByteLength;function requireIsByteLength(){return hasRequiredIsByteLength||(hasRequiredIsByteLength=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}function ws(_s){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Es){return typeof Es}:function(Es){return Es&&typeof Symbol=="function"&&Es.constructor===Symbol&&Es!==Symbol.prototype?"symbol":typeof Es},ws(_s)}function vs(_s,Es){(0,et.default)(_s);var Ts,Ss;ws(Es)==="object"?(Ts=Es.min||0,Ss=Es.max):(Ts=arguments[1],Ss=arguments[2]);var Rs=encodeURI(_s).split(/%..|./).length-1;return Rs>=Ts&&(typeof Ss>"u"||Rs<=Ss)}st.exports=t.default,st.exports.default=t.default}(isByteLength,isByteLength.exports)),isByteLength.exports}var isFQDN={exports:{}},hasRequiredIsFQDN;function requireIsFQDN(){return hasRequiredIsFQDN||(hasRequiredIsFQDN=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=ws(requireMerge());function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}var vs={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function _s(Es,Ts){(0,et.default)(Es),Ts=(0,ms.default)(Ts,vs),Ts.allow_trailing_dot&&Es[Es.length-1]==="."&&(Es=Es.substring(0,Es.length-1)),Ts.allow_wildcard===!0&&Es.indexOf("*.")===0&&(Es=Es.substring(2));var Ss=Es.split("."),Rs=Ss[Ss.length-1];return Ts.require_tld&&(Ss.length<2||!Ts.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(Rs)||/\s/.test(Rs))||!Ts.allow_numeric_tld&&/^\d+$/.test(Rs)?!1:Ss.every(function(Bs){return!(Bs.length>63&&!Ts.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(Bs)||/[\uff01-\uff5e]/.test(Bs)||/^-|-$/.test(Bs)||!Ts.allow_underscores&&/_/.test(Bs))})}st.exports=t.default,st.exports.default=t.default}(isFQDN,isFQDN.exports)),isFQDN.exports}var isIP={exports:{}},hasRequiredIsIP;function requireIsIP(){return hasRequiredIsIP||(hasRequiredIsIP=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ss;var et=ms(requireAssertString());function ms(Rs){return Rs&&Rs.__esModule?Rs:{default:Rs}}var ws="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",vs="(".concat(ws,"[.]){3}").concat(ws),_s=new RegExp("^".concat(vs,"$")),Es="(?:[0-9a-fA-F]{1,4})",Ts=new RegExp("^("+"(?:".concat(Es,":){7}(?:").concat(Es,"|:)|")+"(?:".concat(Es,":){6}(?:").concat(vs,"|:").concat(Es,"|:)|")+"(?:".concat(Es,":){5}(?::").concat(vs,"|(:").concat(Es,"){1,2}|:)|")+"(?:".concat(Es,":){4}(?:(:").concat(Es,"){0,1}:").concat(vs,"|(:").concat(Es,"){1,3}|:)|")+"(?:".concat(Es,":){3}(?:(:").concat(Es,"){0,2}:").concat(vs,"|(:").concat(Es,"){1,4}|:)|")+"(?:".concat(Es,":){2}(?:(:").concat(Es,"){0,3}:").concat(vs,"|(:").concat(Es,"){1,5}|:)|")+"(?:".concat(Es,":){1}(?:(:").concat(Es,"){0,4}:").concat(vs,"|(:").concat(Es,"){1,6}|:)|")+"(?::((?::".concat(Es,"){0,5}:").concat(vs,"|(?::").concat(Es,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function Ss(Rs){var Bs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,et.default)(Rs),Bs=String(Bs),Bs?Bs==="4"?_s.test(Rs):Bs==="6"?Ts.test(Rs):!1:Ss(Rs,4)||Ss(Rs,6)}st.exports=t.default,st.exports.default=t.default}(isIP,isIP.exports)),isIP.exports}var hasRequiredIsEmail;function requireIsEmail(){return hasRequiredIsEmail||(hasRequiredIsEmail=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ha;var et=Es(requireAssertString()),ms=Es(requireIsByteLength()),ws=Es(requireIsFQDN()),vs=Es(requireIsIP()),_s=Es(requireMerge());function Es(pa){return pa&&pa.__esModule?pa:{default:pa}}var Ts={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},Ss=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,Rs=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,Bs=/^[a-z\d]+$/,Is=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,Ws=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,Hs=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,Ns=254;function Js(pa){var za=pa.replace(/^"(.+)"$/,"$1");if(!za.trim())return!1;var Ya=/[\.";<>]/.test(za);if(Ya){if(za===pa)return!1;var Bc=za.split('"').length===za.split('\\"').length;if(!Bc)return!1}return!0}function ha(pa,za){if((0,et.default)(pa),za=(0,_s.default)(za,Ts),za.require_display_name||za.allow_display_name){var Ya=pa.match(Ss);if(Ya){var Bc=Ya[1];if(pa=pa.replace(Bc,"").replace(/(^<|>$)/g,""),Bc.endsWith(" ")&&(Bc=Bc.slice(0,-1)),!Js(Bc))return!1}else if(za.require_display_name)return!1}if(!za.ignore_max_length&&pa.length>Ns)return!1;var Qa=pa.split("@"),tu=Qa.pop(),eu=tu.toLowerCase();if(za.host_blacklist.includes(eu)||za.host_whitelist.length>0&&!za.host_whitelist.includes(eu))return!1;var ru=Qa.join("@");if(za.domain_specific_validation&&(eu==="gmail.com"||eu==="googlemail.com")){ru=ru.toLowerCase();var cu=ru.split("+")[0];if(!(0,ms.default)(cu.replace(/\./g,""),{min:6,max:30}))return!1;for(var ou=cu.split("."),Ga=0;Ga<ou.length;Ga++)if(!Bs.test(ou[Ga]))return!1}if(za.ignore_max_length===!1&&(!(0,ms.default)(ru,{max:64})||!(0,ms.default)(tu,{max:254})))return!1;if(!(0,ws.default)(tu,{require_tld:za.require_tld,ignore_max_length:za.ignore_max_length,allow_underscores:za.allow_underscores})){if(!za.allow_ip_domain)return!1;if(!(0,vs.default)(tu)){if(!tu.startsWith("[")||!tu.endsWith("]"))return!1;var Xa=tu.slice(1,-1);if(Xa.length===0||!(0,vs.default)(Xa))return!1}}if(ru[0]==='"')return ru=ru.slice(1,ru.length-1),za.allow_utf8_local_part?Hs.test(ru):Is.test(ru);for(var Fa=za.allow_utf8_local_part?Ws:Rs,Zs=ru.split("."),Wa=0;Wa<Zs.length;Wa++)if(!Fa.test(Zs[Wa]))return!1;return!(za.blacklisted_chars&&ru.search(new RegExp("[".concat(za.blacklisted_chars,"]+"),"g"))!==-1)}st.exports=t.default,st.exports.default=t.default}(isEmail,isEmail.exports)),isEmail.exports}var isURL={exports:{}},hasRequiredIsURL;function requireIsURL(){return hasRequiredIsURL||(hasRequiredIsURL=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ha;var et=_s(requireAssertString()),ms=_s(requireIsFQDN()),ws=_s(requireIsIP()),vs=_s(requireMerge());function _s(pa){return pa&&pa.__esModule?pa:{default:pa}}function Es(pa,za){return Is(pa)||Bs(pa,za)||Ss(pa,za)||Ts()}function Ts(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ss(pa,za){if(pa){if(typeof pa=="string")return Rs(pa,za);var Ya=Object.prototype.toString.call(pa).slice(8,-1);if(Ya==="Object"&&pa.constructor&&(Ya=pa.constructor.name),Ya==="Map"||Ya==="Set")return Array.from(pa);if(Ya==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ya))return Rs(pa,za)}}function Rs(pa,za){(za==null||za>pa.length)&&(za=pa.length);for(var Ya=0,Bc=new Array(za);Ya<za;Ya++)Bc[Ya]=pa[Ya];return Bc}function Bs(pa,za){var Ya=pa==null?null:typeof Symbol<"u"&&pa[Symbol.iterator]||pa["@@iterator"];if(Ya!=null){var Bc,Qa,tu,eu,ru=[],cu=!0,ou=!1;try{if(tu=(Ya=Ya.call(pa)).next,za!==0)for(;!(cu=(Bc=tu.call(Ya)).done)&&(ru.push(Bc.value),ru.length!==za);cu=!0);}catch(Ga){ou=!0,Qa=Ga}finally{try{if(!cu&&Ya.return!=null&&(eu=Ya.return(),Object(eu)!==eu))return}finally{if(ou)throw Qa}}return ru}}function Is(pa){if(Array.isArray(pa))return pa}var Ws={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},Hs=/^\[([^\]]+)\](?::([0-9]+))?$/;function Ns(pa){return Object.prototype.toString.call(pa)==="[object RegExp]"}function Js(pa,za){for(var Ya=0;Ya<za.length;Ya++){var Bc=za[Ya];if(pa===Bc||Ns(Bc)&&Bc.test(pa))return!0}return!1}function ha(pa,za){if((0,et.default)(pa),!pa||/[\s<>]/.test(pa)||pa.indexOf("mailto:")===0||(za=(0,vs.default)(za,Ws),za.validate_length&&pa.length>=2083)||!za.allow_fragments&&pa.includes("#")||!za.allow_query_components&&(pa.includes("?")||pa.includes("&")))return!1;var Ya,Bc,Qa,tu,eu,ru,cu,ou;if(cu=pa.split("#"),pa=cu.shift(),cu=pa.split("?"),pa=cu.shift(),cu=pa.split("://"),cu.length>1){if(Ya=cu.shift().toLowerCase(),za.require_valid_protocol&&za.protocols.indexOf(Ya)===-1)return!1}else{if(za.require_protocol)return!1;if(pa.slice(0,2)==="//"){if(!za.allow_protocol_relative_urls)return!1;cu[0]=pa.slice(2)}}if(pa=cu.join("://"),pa==="")return!1;if(cu=pa.split("/"),pa=cu.shift(),pa===""&&!za.require_host)return!0;if(cu=pa.split("@"),cu.length>1){if(za.disallow_auth||cu[0]===""||(Bc=cu.shift(),Bc.indexOf(":")>=0&&Bc.split(":").length>2))return!1;var Ga=Bc.split(":"),Xa=Es(Ga,2),Fa=Xa[0],Zs=Xa[1];if(Fa===""&&Zs==="")return!1}tu=cu.join("@"),ru=null,ou=null;var Wa=tu.match(Hs);if(Wa?(Qa="",ou=Wa[1],ru=Wa[2]||null):(cu=tu.split(":"),Qa=cu.shift(),cu.length&&(ru=cu.join(":"))),ru!==null&&ru.length>0){if(eu=parseInt(ru,10),!/^[0-9]+$/.test(ru)||eu<=0||eu>65535)return!1}else if(za.require_port)return!1;return za.host_whitelist?Js(Qa,za.host_whitelist):Qa===""&&!za.require_host?!0:!(!(0,ws.default)(Qa)&&!(0,ms.default)(Qa,za)&&(!ou||!(0,ws.default)(ou,6))||(Qa=Qa||ou,za.host_blacklist&&Js(Qa,za.host_blacklist)))}st.exports=t.default,st.exports.default=t.default}(isURL,isURL.exports)),isURL.exports}var isMACAddress={exports:{}},hasRequiredIsMACAddress;function requireIsMACAddress(){return hasRequiredIsMACAddress||(hasRequiredIsMACAddress=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Rs;var et=ms(requireAssertString());function ms(Bs){return Bs&&Bs.__esModule?Bs:{default:Bs}}var ws=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,vs=/^([0-9a-fA-F]){12}$/,_s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,Es=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,Ts=/^([0-9a-fA-F]){16}$/,Ss=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function Rs(Bs,Is){return(0,et.default)(Bs),Is!=null&&Is.eui&&(Is.eui=String(Is.eui)),Is!=null&&Is.no_colons||Is!=null&&Is.no_separators?Is.eui==="48"?vs.test(Bs):Is.eui==="64"?Ts.test(Bs):vs.test(Bs)||Ts.test(Bs):Is?.eui==="48"?ws.test(Bs)||_s.test(Bs):Is?.eui==="64"?Es.test(Bs)||Ss.test(Bs):Rs(Bs,{eui:"48"})||Rs(Bs,{eui:"64"})}st.exports=t.default,st.exports.default=t.default}(isMACAddress,isMACAddress.exports)),isMACAddress.exports}var isIPRange={exports:{}},hasRequiredIsIPRange;function requireIsIPRange(){return hasRequiredIsIPRange||(hasRequiredIsIPRange=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ts;var et=ws(requireAssertString()),ms=ws(requireIsIP());function ws(Ss){return Ss&&Ss.__esModule?Ss:{default:Ss}}var vs=/^\d{1,3}$/,_s=32,Es=128;function Ts(Ss){var Rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,et.default)(Ss);var Bs=Ss.split("/");if(Bs.length!==2||!vs.test(Bs[1])||Bs[1].length>1&&Bs[1].startsWith("0"))return!1;var Is=(0,ms.default)(Bs[0],Rs);if(!Is)return!1;var Ws=null;switch(String(Rs)){case"4":Ws=_s;break;case"6":Ws=Es;break;default:Ws=(0,ms.default)(Bs[0],"6")?Es:_s}return Bs[1]<=Ws&&Bs[1]>=0}st.exports=t.default,st.exports.default=t.default}(isIPRange,isIPRange.exports)),isIPRange.exports}var isDate$1={exports:{}},hasRequiredIsDate;function requireIsDate(){return hasRequiredIsDate||(hasRequiredIsDate=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Hs;var et=ms(requireMerge());function ms(Ns){return Ns&&Ns.__esModule?Ns:{default:Ns}}function ws(Ns,Js){return Es(Ns)||_s(Ns,Js)||Ss(Ns,Js)||vs()}function vs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _s(Ns,Js){var ha=Ns==null?null:typeof Symbol<"u"&&Ns[Symbol.iterator]||Ns["@@iterator"];if(ha!=null){var pa,za,Ya,Bc,Qa=[],tu=!0,eu=!1;try{if(Ya=(ha=ha.call(Ns)).next,Js!==0)for(;!(tu=(pa=Ya.call(ha)).done)&&(Qa.push(pa.value),Qa.length!==Js);tu=!0);}catch(ru){eu=!0,za=ru}finally{try{if(!tu&&ha.return!=null&&(Bc=ha.return(),Object(Bc)!==Bc))return}finally{if(eu)throw za}}return Qa}}function Es(Ns){if(Array.isArray(Ns))return Ns}function Ts(Ns,Js){var ha=typeof Symbol<"u"&&Ns[Symbol.iterator]||Ns["@@iterator"];if(!ha){if(Array.isArray(Ns)||(ha=Ss(Ns))||Js){ha&&(Ns=ha);var pa=0,za=function(){};return{s:za,n:function(){return pa>=Ns.length?{done:!0}:{done:!1,value:Ns[pa++]}},e:function(eu){throw eu},f:za}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ya=!0,Bc=!1,Qa;return{s:function(){ha=ha.call(Ns)},n:function(){var eu=ha.next();return Ya=eu.done,eu},e:function(eu){Bc=!0,Qa=eu},f:function(){try{!Ya&&ha.return!=null&&ha.return()}finally{if(Bc)throw Qa}}}}function Ss(Ns,Js){if(Ns){if(typeof Ns=="string")return Rs(Ns,Js);var ha=Object.prototype.toString.call(Ns).slice(8,-1);if(ha==="Object"&&Ns.constructor&&(ha=Ns.constructor.name),ha==="Map"||ha==="Set")return Array.from(Ns);if(ha==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ha))return Rs(Ns,Js)}}function Rs(Ns,Js){(Js==null||Js>Ns.length)&&(Js=Ns.length);for(var ha=0,pa=new Array(Js);ha<Js;ha++)pa[ha]=Ns[ha];return pa}var Bs={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function Is(Ns){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(Ns)}function Ws(Ns,Js){for(var ha=[],pa=Math.min(Ns.length,Js.length),za=0;za<pa;za++)ha.push([Ns[za],Js[za]]);return ha}function Hs(Ns,Js){if(typeof Js=="string"?Js=(0,et.default)({format:Js},Bs):Js=(0,et.default)(Js,Bs),typeof Ns=="string"&&Is(Js.format)){var ha=Js.delimiters.find(function(Zs){return Js.format.indexOf(Zs)!==-1}),pa=Js.strictMode?ha:Js.delimiters.find(function(Zs){return Ns.indexOf(Zs)!==-1}),za=Ws(Ns.split(pa),Js.format.toLowerCase().split(ha)),Ya={},Bc=Ts(za),Qa;try{for(Bc.s();!(Qa=Bc.n()).done;){var tu=ws(Qa.value,2),eu=tu[0],ru=tu[1];if(eu.length!==ru.length)return!1;Ya[ru.charAt(0)]=eu}}catch(Zs){Bc.e(Zs)}finally{Bc.f()}var cu=Ya.y;if(cu.startsWith("-"))return!1;if(Ya.y.length===2){var ou=parseInt(Ya.y,10);if(isNaN(ou))return!1;var Ga=new Date().getFullYear()%100;ou<Ga?cu="20".concat(Ya.y):cu="19".concat(Ya.y)}var Xa=Ya.m;Ya.m.length===1&&(Xa="0".concat(Ya.m));var Fa=Ya.d;return Ya.d.length===1&&(Fa="0".concat(Ya.d)),new Date("".concat(cu,"-").concat(Xa,"-").concat(Fa,"T00:00:00.000Z")).getUTCDate()===+Ya.d}return Js.strictMode?!1:Object.prototype.toString.call(Ns)==="[object Date]"&&isFinite(Ns)}st.exports=t.default,st.exports.default=t.default}(isDate$1,isDate$1.exports)),isDate$1.exports}var isTime={exports:{}},hasRequiredIsTime;function requireIsTime(){return hasRequiredIsTime||(hasRequiredIsTime=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ms(requireMerge());function ms(Es){return Es&&Es.__esModule?Es:{default:Es}}var ws={hourFormat:"hour24",mode:"default"},vs={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function _s(Es,Ts){return Ts=(0,et.default)(Ts,ws),typeof Es!="string"?!1:vs[Ts.hourFormat][Ts.mode].test(Es)}st.exports=t.default,st.exports.default=t.default}(isTime,isTime.exports)),isTime.exports}var isBoolean$2={exports:{}},hasRequiredIsBoolean;function requireIsBoolean(){return hasRequiredIsBoolean||(hasRequiredIsBoolean=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ms(requireAssertString());function ms(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var ws={loose:!1},vs=["true","false","1","0"],_s=[].concat(vs,["yes","no"]);function Es(Ts){var Ss=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ws;return(0,et.default)(Ts),Ss.loose?_s.includes(Ts.toLowerCase()):vs.includes(Ts)}st.exports=t.default,st.exports.default=t.default}(isBoolean$2,isBoolean$2.exports)),isBoolean$2.exports}var isLocale={exports:{}},hasRequiredIsLocale;function requireIsLocale(){return hasRequiredIsLocale||(hasRequiredIsLocale=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=pa;var et=ms(requireAssertString());function ms(za){return za&&za.__esModule?za:{default:za}}var ws="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",vs="(([a-zA-Z]{2,3}(-".concat(ws,")?)|([a-zA-Z]{5,8}))"),_s="([A-Za-z]{4})",Es="([A-Za-z]{2}|\\d{3})",Ts="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",Ss="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",Rs="(".concat(Ss,"(-[A-Za-z0-9]{2,8})+)"),Bs="(x(-[A-Za-z0-9]{1,8})+)",Is="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",Ws="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",Hs="(".concat(Is,"|").concat(Ws,")"),Ns="(-|_)",Js="".concat(vs,"(").concat(Ns).concat(_s,")?(").concat(Ns).concat(Es,")?(").concat(Ns).concat(Ts,")*(").concat(Ns).concat(Rs,")*(").concat(Ns).concat(Bs,")?"),ha=new RegExp("(^".concat(Bs,"$)|(^").concat(Hs,"$)|(^").concat(Js,"$)"));function pa(za){return(0,et.default)(za),ha.test(za)}st.exports=t.default,st.exports.default=t.default}(isLocale,isLocale.exports)),isLocale.exports}var isAbaRouting={exports:{}},hasRequiredIsAbaRouting;function requireIsAbaRouting(){return hasRequiredIsAbaRouting||(hasRequiredIsAbaRouting=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function vs(_s){if((0,et.default)(_s),!ws.test(_s))return!1;for(var Es=0,Ts=0;Ts<_s.length;Ts++)Ts%3===0?Es+=_s[Ts]*3:Ts%3===1?Es+=_s[Ts]*7:Es+=_s[Ts]*1;return Es%10===0}st.exports=t.default,st.exports.default=t.default}(isAbaRouting,isAbaRouting.exports)),isAbaRouting.exports}var isAlpha={},hasRequiredIsAlpha;function requireIsAlpha(){if(hasRequiredIsAlpha)return isAlpha;hasRequiredIsAlpha=1,Object.defineProperty(isAlpha,"__esModule",{value:!0}),isAlpha.default=ms,isAlpha.locales=void 0;var st=et(requireAssertString()),t=requireAlpha();function et(ws){return ws&&ws.__esModule?ws:{default:ws}}function ms(ws){var vs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",_s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,st.default)(ws);var Es=ws,Ts=_s.ignore;if(Ts)if(Ts instanceof RegExp)Es=Es.replace(Ts,"");else if(typeof Ts=="string")Es=Es.replace(new RegExp("[".concat(Ts.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(vs in t.alpha)return t.alpha[vs].test(Es);throw new Error("Invalid locale '".concat(vs,"'"))}return isAlpha.locales=Object.keys(t.alpha),isAlpha}var isAlphanumeric={},hasRequiredIsAlphanumeric;function requireIsAlphanumeric(){if(hasRequiredIsAlphanumeric)return isAlphanumeric;hasRequiredIsAlphanumeric=1,Object.defineProperty(isAlphanumeric,"__esModule",{value:!0}),isAlphanumeric.default=ms,isAlphanumeric.locales=void 0;var st=et(requireAssertString()),t=requireAlpha();function et(ws){return ws&&ws.__esModule?ws:{default:ws}}function ms(ws){var vs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",_s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,st.default)(ws);var Es=ws,Ts=_s.ignore;if(Ts)if(Ts instanceof RegExp)Es=Es.replace(Ts,"");else if(typeof Ts=="string")Es=Es.replace(new RegExp("[".concat(Ts.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(vs in t.alphanumeric)return t.alphanumeric[vs].test(Es);throw new Error("Invalid locale '".concat(vs,"'"))}return isAlphanumeric.locales=Object.keys(t.alphanumeric),isAlphanumeric}var isNumeric={exports:{}},hasRequiredIsNumeric;function requireIsNumeric(){return hasRequiredIsNumeric||(hasRequiredIsNumeric=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=requireAlpha();function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}var vs=/^[0-9]+$/;function _s(Es,Ts){return(0,et.default)(Es),Ts&&Ts.no_symbols?vs.test(Es):new RegExp("^[+-]?([0-9]*[".concat((Ts||{}).locale?ms.decimal[Ts.locale]:".","])?[0-9]+$")).test(Es)}st.exports=t.default,st.exports.default=t.default}(isNumeric,isNumeric.exports)),isNumeric.exports}var isPassportNumber={exports:{}},hasRequiredIsPassportNumber;function requireIsPassportNumber(){return hasRequiredIsPassportNumber||(hasRequiredIsPassportNumber=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};function vs(_s,Es){(0,et.default)(_s);var Ts=_s.replace(/\s/g,"").toUpperCase();return Es.toUpperCase()in ws&&ws[Es].test(Ts)}st.exports=t.default,st.exports.default=t.default}(isPassportNumber,isPassportNumber.exports)),isPassportNumber.exports}var isPort={exports:{}},isInt={exports:{}},hasRequiredIsInt;function requireIsInt(){return hasRequiredIsInt||(hasRequiredIsInt=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ms(requireAssertString());function ms(Es){return Es&&Es.__esModule?Es:{default:Es}}var ws=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,vs=/^[-+]?[0-9]+$/;function _s(Es,Ts){(0,et.default)(Es),Ts=Ts||{};var Ss=Ts.allow_leading_zeroes===!1?ws:vs,Rs=!Ts.hasOwnProperty("min")||Es>=Ts.min,Bs=!Ts.hasOwnProperty("max")||Es<=Ts.max,Is=!Ts.hasOwnProperty("lt")||Es<Ts.lt,Ws=!Ts.hasOwnProperty("gt")||Es>Ts.gt;return Ss.test(Es)&&Rs&&Bs&&Is&&Ws}st.exports=t.default,st.exports.default=t.default}(isInt,isInt.exports)),isInt.exports}var hasRequiredIsPort;function requireIsPort(){return hasRequiredIsPort||(hasRequiredIsPort=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireIsInt());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs,{allow_leading_zeroes:!1,min:0,max:65535})}st.exports=t.default,st.exports.default=t.default}(isPort,isPort.exports)),isPort.exports}var isLowercase={exports:{}},hasRequiredIsLowercase;function requireIsLowercase(){return hasRequiredIsLowercase||(hasRequiredIsLowercase=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs),vs===vs.toLowerCase()}st.exports=t.default,st.exports.default=t.default}(isLowercase,isLowercase.exports)),isLowercase.exports}var isUppercase={exports:{}},hasRequiredIsUppercase;function requireIsUppercase(){return hasRequiredIsUppercase||(hasRequiredIsUppercase=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs),vs===vs.toUpperCase()}st.exports=t.default,st.exports.default=t.default}(isUppercase,isUppercase.exports)),isUppercase.exports}var isIMEI={exports:{}},hasRequiredIsIMEI;function requireIsIMEI(){return hasRequiredIsIMEI||(hasRequiredIsIMEI=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ms(requireAssertString());function ms(Es){return Es&&Es.__esModule?Es:{default:Es}}var ws=/^[0-9]{15}$/,vs=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function _s(Es,Ts){(0,et.default)(Es),Ts=Ts||{};var Ss=ws;if(Ts.allow_hyphens&&(Ss=vs),!Ss.test(Es))return!1;Es=Es.replace(/-/g,"");for(var Rs=0,Bs=2,Is=14,Ws=0;Ws<Is;Ws++){var Hs=Es.substring(Is-Ws-1,Is-Ws),Ns=parseInt(Hs,10)*Bs;Ns>=10?Rs+=Ns%10+1:Rs+=Ns,Bs===1?Bs+=1:Bs-=1}var Js=(10-Rs%10)%10;return Js===parseInt(Es.substring(14,15),10)}st.exports=t.default,st.exports.default=t.default}(isIMEI,isIMEI.exports)),isIMEI.exports}var isAscii={exports:{}},hasRequiredIsAscii;function requireIsAscii(){return hasRequiredIsAscii||(hasRequiredIsAscii=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^[\x00-\x7F]+$/;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isAscii,isAscii.exports)),isAscii.exports}var isFullWidth={},hasRequiredIsFullWidth;function requireIsFullWidth(){if(hasRequiredIsFullWidth)return isFullWidth;hasRequiredIsFullWidth=1,Object.defineProperty(isFullWidth,"__esModule",{value:!0}),isFullWidth.default=ms,isFullWidth.fullWidth=void 0;var st=t(requireAssertString());function t(ws){return ws&&ws.__esModule?ws:{default:ws}}var et=isFullWidth.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function ms(ws){return(0,st.default)(ws),et.test(ws)}return isFullWidth}var isHalfWidth={},hasRequiredIsHalfWidth;function requireIsHalfWidth(){if(hasRequiredIsHalfWidth)return isHalfWidth;hasRequiredIsHalfWidth=1,Object.defineProperty(isHalfWidth,"__esModule",{value:!0}),isHalfWidth.default=ms,isHalfWidth.halfWidth=void 0;var st=t(requireAssertString());function t(ws){return ws&&ws.__esModule?ws:{default:ws}}var et=isHalfWidth.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function ms(ws){return(0,st.default)(ws),et.test(ws)}return isHalfWidth}var isVariableWidth={exports:{}},hasRequiredIsVariableWidth;function requireIsVariableWidth(){return hasRequiredIsVariableWidth||(hasRequiredIsVariableWidth=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=vs(requireAssertString()),ms=requireIsFullWidth(),ws=requireIsHalfWidth();function vs(Es){return Es&&Es.__esModule?Es:{default:Es}}function _s(Es){return(0,et.default)(Es),ms.fullWidth.test(Es)&&ws.halfWidth.test(Es)}st.exports=t.default,st.exports.default=t.default}(isVariableWidth,isVariableWidth.exports)),isVariableWidth.exports}var isMultibyte={exports:{}},hasRequiredIsMultibyte;function requireIsMultibyte(){return hasRequiredIsMultibyte||(hasRequiredIsMultibyte=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/[^\x00-\x7F]/;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isMultibyte,isMultibyte.exports)),isMultibyte.exports}var isSemVer={exports:{}},multilineRegex={exports:{}},hasRequiredMultilineRegex;function requireMultilineRegex(){return hasRequiredMultilineRegex||(hasRequiredMultilineRegex=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=et;function et(ms,ws){var vs=ms.join("");return new RegExp(vs,ws)}st.exports=t.default,st.exports.default=t.default}(multilineRegex,multilineRegex.exports)),multilineRegex.exports}var hasRequiredIsSemVer;function requireIsSemVer(){return hasRequiredIsSemVer||(hasRequiredIsSemVer=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=ws(requireMultilineRegex());function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}var vs=(0,ms.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function _s(Es){return(0,et.default)(Es),vs.test(Es)}st.exports=t.default,st.exports.default=t.default}(isSemVer,isSemVer.exports)),isSemVer.exports}var isSurrogatePair={exports:{}},hasRequiredIsSurrogatePair;function requireIsSurrogatePair(){return hasRequiredIsSurrogatePair||(hasRequiredIsSurrogatePair=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isSurrogatePair,isSurrogatePair.exports)),isSurrogatePair.exports}var isDecimal={exports:{}},includes={exports:{}},hasRequiredIncludes;function requireIncludes(){return hasRequiredIncludes||(hasRequiredIncludes=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var et=function(ws,vs){return ws.some(function(_s){return vs===_s})};t.default=et,st.exports=t.default,st.exports.default=t.default}(includes,includes.exports)),includes.exports}var hasRequiredIsDecimal;function requireIsDecimal(){return hasRequiredIsDecimal||(hasRequiredIsDecimal=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Rs;var et=_s(requireMerge()),ms=_s(requireAssertString()),ws=_s(requireIncludes()),vs=requireAlpha();function _s(Bs){return Bs&&Bs.__esModule?Bs:{default:Bs}}function Es(Bs){var Is=new RegExp("^[-+]?([0-9]+)?(\\".concat(vs.decimal[Bs.locale],"[0-9]{").concat(Bs.decimal_digits,"})").concat(Bs.force_decimal?"":"?","$"));return Is}var Ts={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},Ss=["","-","+"];function Rs(Bs,Is){if((0,ms.default)(Bs),Is=(0,et.default)(Is,Ts),Is.locale in vs.decimal)return!(0,ws.default)(Ss,Bs.replace(/ /g,""))&&Es(Is).test(Bs);throw new Error("Invalid locale '".concat(Is.locale,"'"))}st.exports=t.default,st.exports.default=t.default}(isDecimal,isDecimal.exports)),isDecimal.exports}var isHexadecimal={exports:{}},hasRequiredIsHexadecimal;function requireIsHexadecimal(){return hasRequiredIsHexadecimal||(hasRequiredIsHexadecimal=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^(0x|0h)?[0-9A-F]+$/i;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isHexadecimal,isHexadecimal.exports)),isHexadecimal.exports}var isOctal={exports:{}},hasRequiredIsOctal;function requireIsOctal(){return hasRequiredIsOctal||(hasRequiredIsOctal=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^(0o)?[0-7]+$/i;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isOctal,isOctal.exports)),isOctal.exports}var isDivisibleBy={exports:{}},hasRequiredIsDivisibleBy;function requireIsDivisibleBy(){return hasRequiredIsDivisibleBy||(hasRequiredIsDivisibleBy=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ws(requireAssertString()),ms=ws(requireToFloat());function ws(_s){return _s&&_s.__esModule?_s:{default:_s}}function vs(_s,Es){return(0,et.default)(_s),(0,ms.default)(_s)%parseInt(Es,10)===0}st.exports=t.default,st.exports.default=t.default}(isDivisibleBy,isDivisibleBy.exports)),isDivisibleBy.exports}var isHexColor={exports:{}},hasRequiredIsHexColor;function requireIsHexColor(){return hasRequiredIsHexColor||(hasRequiredIsHexColor=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isHexColor,isHexColor.exports)),isHexColor.exports}var isRgbColor={exports:{}},hasRequiredIsRgbColor;function requireIsRgbColor(){return hasRequiredIsRgbColor||(hasRequiredIsRgbColor=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ts;var et=ms(requireAssertString());function ms(Ss){return Ss&&Ss.__esModule?Ss:{default:Ss}}var ws=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,vs=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,_s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,Es=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;function Ts(Ss){var Rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,et.default)(Ss),Rs?ws.test(Ss)||vs.test(Ss)||_s.test(Ss)||Es.test(Ss):ws.test(Ss)||vs.test(Ss)}st.exports=t.default,st.exports.default=t.default}(isRgbColor,isRgbColor.exports)),isRgbColor.exports}var isHSL={exports:{}},hasRequiredIsHSL;function requireIsHSL(){return hasRequiredIsHSL||(hasRequiredIsHSL=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ms(requireAssertString());function ms(Es){return Es&&Es.__esModule?Es:{default:Es}}var ws=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,vs=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function _s(Es){(0,et.default)(Es);var Ts=Es.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return Ts.indexOf(",")!==-1?ws.test(Ts):vs.test(Ts)}st.exports=t.default,st.exports.default=t.default}(isHSL,isHSL.exports)),isHSL.exports}var isISRC={exports:{}},hasRequiredIsISRC;function requireIsISRC(){return hasRequiredIsISRC||(hasRequiredIsISRC=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isISRC,isISRC.exports)),isISRC.exports}var isIBAN={},hasRequiredIsIBAN;function requireIsIBAN(){if(hasRequiredIsIBAN)return isIBAN;hasRequiredIsIBAN=1,Object.defineProperty(isIBAN,"__esModule",{value:!0}),isIBAN.default=_s,isIBAN.locales=void 0;var st=t(requireAssertString());function t(Es){return Es&&Es.__esModule?Es:{default:Es}}var et={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function ms(Es){var Ts=Es.filter(function(Ss){return!(Ss in et)});return!(Ts.length>0)}function ws(Es,Ts){var Ss=Es.replace(/[\s\-]+/gi,"").toUpperCase(),Rs=Ss.slice(0,2).toUpperCase(),Bs=Rs in et;if(Ts.whitelist){if(!ms(Ts.whitelist))return!1;var Is=Ts.whitelist.includes(Rs);if(!Is)return!1}if(Ts.blacklist){var Ws=Ts.blacklist.includes(Rs);if(Ws)return!1}return Bs&&et[Rs].test(Ss)}function vs(Es){var Ts=Es.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),Ss=Ts.slice(4)+Ts.slice(0,4),Rs=Ss.replace(/[A-Z]/g,function(Is){return Is.charCodeAt(0)-55}),Bs=Rs.match(/\d{1,7}/g).reduce(function(Is,Ws){return Number(Is+Ws)%97},"");return Bs===1}function _s(Es){var Ts=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,st.default)(Es),ws(Es,Ts)&&vs(Es)}return isIBAN.locales=Object.keys(et),isIBAN}var isBIC={exports:{}},isISO31661Alpha2={},hasRequiredIsISO31661Alpha2;function requireIsISO31661Alpha2(){if(hasRequiredIsISO31661Alpha2)return isISO31661Alpha2;hasRequiredIsISO31661Alpha2=1,Object.defineProperty(isISO31661Alpha2,"__esModule",{value:!0}),isISO31661Alpha2.CountryCodes=void 0,isISO31661Alpha2.default=ms;var st=t(requireAssertString());function t(ws){return ws&&ws.__esModule?ws:{default:ws}}var et=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function ms(ws){return(0,st.default)(ws),et.has(ws.toUpperCase())}return isISO31661Alpha2.CountryCodes=et,isISO31661Alpha2}var hasRequiredIsBIC;function requireIsBIC(){return hasRequiredIsBIC||(hasRequiredIsBIC=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=requireIsISO31661Alpha2();function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}var vs=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function _s(Es){(0,et.default)(Es);var Ts=Es.slice(4,6).toUpperCase();return!ms.CountryCodes.has(Ts)&&Ts!=="XK"?!1:vs.test(Es)}st.exports=t.default,st.exports.default=t.default}(isBIC,isBIC.exports)),isBIC.exports}var isMD5={exports:{}},hasRequiredIsMD5;function requireIsMD5(){return hasRequiredIsMD5||(hasRequiredIsMD5=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^[a-f0-9]{32}$/;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isMD5,isMD5.exports)),isMD5.exports}var isHash={exports:{}},hasRequiredIsHash;function requireIsHash(){return hasRequiredIsHash||(hasRequiredIsHash=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function vs(_s,Es){(0,et.default)(_s);var Ts=new RegExp("^[a-fA-F0-9]{".concat(ws[Es],"}$"));return Ts.test(_s)}st.exports=t.default,st.exports.default=t.default}(isHash,isHash.exports)),isHash.exports}var isJWT={exports:{}},isBase64={exports:{}},hasRequiredIsBase64;function requireIsBase64(){return hasRequiredIsBase64||(hasRequiredIsBase64=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ts;var et=ws(requireAssertString()),ms=ws(requireMerge());function ws(Ss){return Ss&&Ss.__esModule?Ss:{default:Ss}}var vs=/[^A-Z0-9+\/=]/i,_s=/^[A-Z0-9_\-]*$/i,Es={urlSafe:!1};function Ts(Ss,Rs){(0,et.default)(Ss),Rs=(0,ms.default)(Rs,Es);var Bs=Ss.length;if(Rs.urlSafe)return _s.test(Ss);if(Bs%4!==0||vs.test(Ss))return!1;var Is=Ss.indexOf("=");return Is===-1||Is===Bs-1||Is===Bs-2&&Ss[Bs-1]==="="}st.exports=t.default,st.exports.default=t.default}(isBase64,isBase64.exports)),isBase64.exports}var hasRequiredIsJWT;function requireIsJWT(){return hasRequiredIsJWT||(hasRequiredIsJWT=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ws(requireAssertString()),ms=ws(requireIsBase64());function ws(_s){return _s&&_s.__esModule?_s:{default:_s}}function vs(_s){(0,et.default)(_s);var Es=_s.split("."),Ts=Es.length;return Ts!==3?!1:Es.reduce(function(Ss,Rs){return Ss&&(0,ms.default)(Rs,{urlSafe:!0})},!0)}st.exports=t.default,st.exports.default=t.default}(isJWT,isJWT.exports)),isJWT.exports}var isJSON={exports:{}},hasRequiredIsJSON;function requireIsJSON(){return hasRequiredIsJSON||(hasRequiredIsJSON=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ws(requireAssertString()),ms=ws(requireMerge());function ws(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}function vs(Ts){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ss){return typeof Ss}:function(Ss){return Ss&&typeof Symbol=="function"&&Ss.constructor===Symbol&&Ss!==Symbol.prototype?"symbol":typeof Ss},vs(Ts)}var _s={allow_primitives:!1};function Es(Ts,Ss){(0,et.default)(Ts);try{Ss=(0,ms.default)(Ss,_s);var Rs=[];Ss.allow_primitives&&(Rs=[null,!1,!0]);var Bs=JSON.parse(Ts);return Rs.includes(Bs)||!!Bs&&vs(Bs)==="object"}catch{}return!1}st.exports=t.default,st.exports.default=t.default}(isJSON,isJSON.exports)),isJSON.exports}var isEmpty={exports:{}},hasRequiredIsEmpty;function requireIsEmpty(){return hasRequiredIsEmpty||(hasRequiredIsEmpty=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=ws(requireMerge());function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}var vs={ignore_whitespace:!1};function _s(Es,Ts){return(0,et.default)(Es),Ts=(0,ms.default)(Ts,vs),(Ts.ignore_whitespace?Es.trim().length:Es.length)===0}st.exports=t.default,st.exports.default=t.default}(isEmpty,isEmpty.exports)),isEmpty.exports}var isLength={exports:{}},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}function ws(_s){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Es){return typeof Es}:function(Es){return Es&&typeof Symbol=="function"&&Es.constructor===Symbol&&Es!==Symbol.prototype?"symbol":typeof Es},ws(_s)}function vs(_s,Es){(0,et.default)(_s);var Ts,Ss;ws(Es)==="object"?(Ts=Es.min||0,Ss=Es.max):(Ts=arguments[1]||0,Ss=arguments[2]);var Rs=_s.match(/(\uFE0F|\uFE0E)/g)||[],Bs=_s.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],Is=_s.length-Rs.length-Bs.length;return Is>=Ts&&(typeof Ss>"u"||Is<=Ss)}st.exports=t.default,st.exports.default=t.default}(isLength,isLength.exports)),isLength.exports}var isUUID={exports:{}},hasRequiredIsUUID;function requireIsUUID(){return hasRequiredIsUUID||(hasRequiredIsUUID=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function vs(_s,Es){(0,et.default)(_s);var Ts=ws[[void 0,null].includes(Es)?"all":Es];return!!Ts&&Ts.test(_s)}st.exports=t.default,st.exports.default=t.default}(isUUID,isUUID.exports)),isUUID.exports}var isMongoId={exports:{}},hasRequiredIsMongoId;function requireIsMongoId(){return hasRequiredIsMongoId||(hasRequiredIsMongoId=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ws(requireAssertString()),ms=ws(requireIsHexadecimal());function ws(_s){return _s&&_s.__esModule?_s:{default:_s}}function vs(_s){return(0,et.default)(_s),(0,ms.default)(_s)&&_s.length===24}st.exports=t.default,st.exports.default=t.default}(isMongoId,isMongoId.exports)),isMongoId.exports}var isAfter={exports:{}},hasRequiredIsAfter;function requireIsAfter(){return hasRequiredIsAfter||(hasRequiredIsAfter=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireToDate());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){var Es=_s?.comparisonDate||_s||Date().toString(),Ts=(0,et.default)(Es),Ss=(0,et.default)(vs);return!!(Ss&&Ts&&Ss>Ts)}st.exports=t.default,st.exports.default=t.default}(isAfter,isAfter.exports)),isAfter.exports}var isBefore={exports:{}},hasRequiredIsBefore;function requireIsBefore(){return hasRequiredIsBefore||(hasRequiredIsBefore=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ws(requireAssertString()),ms=ws(requireToDate());function ws(_s){return _s&&_s.__esModule?_s:{default:_s}}function vs(_s){var Es=arguments.length>1&&arguments[1]!==void 0?arguments[1]:String(new Date);(0,et.default)(_s);var Ts=(0,ms.default)(Es),Ss=(0,ms.default)(_s);return!!(Ss&&Ts&&Ss<Ts)}st.exports=t.default,st.exports.default=t.default}(isBefore,isBefore.exports)),isBefore.exports}var isIn={exports:{}},hasRequiredIsIn;function requireIsIn(){return hasRequiredIsIn||(hasRequiredIsIn=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=ws(requireToString());function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}function vs(Es){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ts){return typeof Ts}:function(Ts){return Ts&&typeof Symbol=="function"&&Ts.constructor===Symbol&&Ts!==Symbol.prototype?"symbol":typeof Ts},vs(Es)}function _s(Es,Ts){(0,et.default)(Es);var Ss;if(Object.prototype.toString.call(Ts)==="[object Array]"){var Rs=[];for(Ss in Ts)({}).hasOwnProperty.call(Ts,Ss)&&(Rs[Ss]=(0,ms.default)(Ts[Ss]));return Rs.indexOf(Es)>=0}else{if(vs(Ts)==="object")return Ts.hasOwnProperty(Es);if(Ts&&typeof Ts.indexOf=="function")return Ts.indexOf(Es)>=0}return!1}st.exports=t.default,st.exports.default=t.default}(isIn,isIn.exports)),isIn.exports}var isLuhnNumber={exports:{}},hasRequiredIsLuhnNumber;function requireIsLuhnNumber(){return hasRequiredIsLuhnNumber||(hasRequiredIsLuhnNumber=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){(0,et.default)(vs);for(var _s=vs.replace(/[- ]+/g,""),Es=0,Ts,Ss,Rs,Bs=_s.length-1;Bs>=0;Bs--)Ts=_s.substring(Bs,Bs+1),Ss=parseInt(Ts,10),Rs?(Ss*=2,Ss>=10?Es+=Ss%10+1:Es+=Ss):Es+=Ss,Rs=!Rs;return!!(Es%10===0&&_s)}st.exports=t.default,st.exports.default=t.default}(isLuhnNumber,isLuhnNumber.exports)),isLuhnNumber.exports}var isCreditCard={exports:{}},hasRequiredIsCreditCard;function requireIsCreditCard(){return hasRequiredIsCreditCard||(hasRequiredIsCreditCard=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ws(requireAssertString()),ms=ws(requireIsLuhnNumber());function ws(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var vs={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},_s=function(){var Ts=[];for(var Ss in vs)vs.hasOwnProperty(Ss)&&Ts.push(vs[Ss]);return Ts}();function Es(Ts){var Ss=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,et.default)(Ts);var Rs=Ss.provider,Bs=Ts.replace(/[- ]+/g,"");if(Rs&&Rs.toLowerCase()in vs){if(!vs[Rs.toLowerCase()].test(Bs))return!1}else{if(Rs&&!(Rs.toLowerCase()in vs))throw new Error("".concat(Rs," is not a valid credit card provider."));if(!_s.some(function(Is){return Is.test(Bs)}))return!1}return(0,ms.default)(Ts)}st.exports=t.default,st.exports.default=t.default}(isCreditCard,isCreditCard.exports)),isCreditCard.exports}var isIdentityCard={exports:{}},hasRequiredIsIdentityCard;function requireIsIdentityCard(){return hasRequiredIsIdentityCard||(hasRequiredIsIdentityCard=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ws(requireAssertString()),ms=ws(requireIsInt());function ws(Es){return Es&&Es.__esModule?Es:{default:Es}}var vs={PL:function(Ts){(0,et.default)(Ts);var Ss={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(Ts!=null&&Ts.length===11&&(0,ms.default)(Ts,{allow_leading_zeroes:!0})){var Rs=Ts.split("").slice(0,-1),Bs=Rs.reduce(function(Hs,Ns,Js){return Hs+Number(Ns)*Ss[Js+1]},0),Is=Bs%10,Ws=Number(Ts.charAt(Ts.length-1));if(Is===0&&Ws===0||Ws===10-Is)return!0}return!1},ES:function(Ts){(0,et.default)(Ts);var Ss=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,Rs={X:0,Y:1,Z:2},Bs=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],Is=Ts.trim().toUpperCase();if(!Ss.test(Is))return!1;var Ws=Is.slice(0,-1).replace(/[X,Y,Z]/g,function(Hs){return Rs[Hs]});return Is.endsWith(Bs[Ws%23])},FI:function(Ts){if((0,et.default)(Ts),Ts.length!==11||!Ts.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var Ss="0123456789ABCDEFHJKLMNPRSTUVWXY",Rs=parseInt(Ts.slice(0,6),10)*1e3+parseInt(Ts.slice(7,10),10),Bs=Rs%31,Is=Ss[Bs];return Is===Ts.slice(10,11)},IN:function(Ts){var Ss=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,Rs=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],Bs=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],Is=Ts.trim();if(!Ss.test(Is))return!1;var Ws=0,Hs=Is.replace(/\s/g,"").split("").map(Number).reverse();return Hs.forEach(function(Ns,Js){Ws=Rs[Ws][Bs[Js%8][Ns]]}),Ws===0},IR:function(Ts){if(!Ts.match(/^\d{10}$/)||(Ts="0000".concat(Ts).slice(Ts.length-6),parseInt(Ts.slice(3,9),10)===0))return!1;for(var Ss=parseInt(Ts.slice(9,10),10),Rs=0,Bs=0;Bs<9;Bs++)Rs+=parseInt(Ts.slice(Bs,Bs+1),10)*(10-Bs);return Rs%=11,Rs<2&&Ss===Rs||Rs>=2&&Ss===11-Rs},IT:function(Ts){return Ts.length!==9||Ts==="CA00000AA"?!1:Ts.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(Ts){var Ss=Ts.trim();if(isNaN(Number(Ss))||Ss.length!==11||Ss==="00000000000")return!1;var Rs=Ss.split("").map(Number),Bs=(11-(3*Rs[0]+7*Rs[1]+6*Rs[2]+1*Rs[3]+8*Rs[4]+9*Rs[5]+4*Rs[6]+5*Rs[7]+2*Rs[8])%11)%11,Is=(11-(5*Rs[0]+4*Rs[1]+3*Rs[2]+2*Rs[3]+7*Rs[4]+6*Rs[5]+5*Rs[6]+4*Rs[7]+3*Rs[8]+2*Bs)%11)%11;return!(Bs!==Rs[9]||Is!==Rs[10])},TH:function(Ts){if(!Ts.match(/^[1-8]\d{12}$/))return!1;for(var Ss=0,Rs=0;Rs<12;Rs++)Ss+=parseInt(Ts[Rs],10)*(13-Rs);return Ts[12]===((11-Ss%11)%10).toString()},LK:function(Ts){var Ss=/^[1-9]\d{8}[vx]$/i,Rs=/^[1-9]\d{11}$/i;return Ts.length===10&&Ss.test(Ts)?!0:!!(Ts.length===12&&Rs.test(Ts))},"he-IL":function(Ts){var Ss=/^\d{9}$/,Rs=Ts.trim();if(!Ss.test(Rs))return!1;for(var Bs=Rs,Is=0,Ws,Hs=0;Hs<Bs.length;Hs++)Ws=Number(Bs[Hs])*(Hs%2+1),Is+=Ws>9?Ws-9:Ws;return Is%10===0},"ar-LY":function(Ts){var Ss=/^(1|2)\d{11}$/,Rs=Ts.trim();return!!Ss.test(Rs)},"ar-TN":function(Ts){var Ss=/^\d{8}$/,Rs=Ts.trim();return!!Ss.test(Rs)},"zh-CN":function(Ts){var Ss=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],Rs=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],Bs=["1","0","X","9","8","7","6","5","4","3","2"],Is=function(Ya){return Ss.includes(Ya)},Ws=function(Ya){var Bc=parseInt(Ya.substring(0,4),10),Qa=parseInt(Ya.substring(4,6),10),tu=parseInt(Ya.substring(6),10),eu=new Date(Bc,Qa-1,tu);return eu>new Date?!1:eu.getFullYear()===Bc&&eu.getMonth()===Qa-1&&eu.getDate()===tu},Hs=function(Ya){for(var Bc=Ya.substring(0,17),Qa=0,tu=0;tu<17;tu++)Qa+=parseInt(Bc.charAt(tu),10)*parseInt(Rs[tu],10);var eu=Qa%11;return Bs[eu]},Ns=function(Ya){return Hs(Ya)===Ya.charAt(17).toUpperCase()},Js=function(Ya){var Bc=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(Ya);if(!Bc)return!1;var Qa=Ya.substring(0,2);if(Bc=Is(Qa),!Bc)return!1;var tu="19".concat(Ya.substring(6,12));return Bc=Ws(tu),!!Bc},ha=function(Ya){var Bc=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(Ya);if(!Bc)return!1;var Qa=Ya.substring(0,2);if(Bc=Is(Qa),!Bc)return!1;var tu=Ya.substring(6,14);return Bc=Ws(tu),Bc?Ns(Ya):!1},pa=function(Ya){var Bc=/^\d{15}|(\d{17}(\d|x|X))$/.test(Ya);return Bc?Ya.length===15?Js(Ya):ha(Ya):!1};return pa(Ts)},"zh-HK":function(Ts){Ts=Ts.trim();var Ss=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,Rs=/^[0-9]$/;if(Ts=Ts.toUpperCase(),!Ss.test(Ts))return!1;Ts=Ts.replace(/\[|\]|\(|\)/g,""),Ts.length===8&&(Ts="3".concat(Ts));for(var Bs=0,Is=0;Is<=7;Is++){var Ws=void 0;Rs.test(Ts[Is])?Ws=Ts[Is]:Ws=(Ts[Is].charCodeAt(0)-55)%11,Bs+=Ws*(9-Is)}Bs%=11;var Hs;return Bs===0?Hs="0":Bs===1?Hs="A":Hs=String(11-Bs),Hs===Ts[Ts.length-1]},"zh-TW":function(Ts){var Ss={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},Rs=Ts.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(Rs)?Array.from(Rs).reduce(function(Bs,Is,Ws){if(Ws===0){var Hs=Ss[Is];return Hs%10*9+Math.floor(Hs/10)}return Ws===9?(10-Bs%10-Number(Is))%10===0:Bs+Number(Is)*(9-Ws)},0):!1}};function _s(Es,Ts){if((0,et.default)(Es),Ts in vs)return vs[Ts](Es);if(Ts==="any"){for(var Ss in vs)if(vs.hasOwnProperty(Ss)){var Rs=vs[Ss];if(Rs(Es))return!0}return!1}throw new Error("Invalid locale '".concat(Ts,"'"))}st.exports=t.default,st.exports.default=t.default}(isIdentityCard,isIdentityCard.exports)),isIdentityCard.exports}var isEAN={exports:{}},hasRequiredIsEAN;function requireIsEAN(){return hasRequiredIsEAN||(hasRequiredIsEAN=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ss;var et=ms(requireAssertString());function ms(Rs){return Rs&&Rs.__esModule?Rs:{default:Rs}}var ws=8,vs=14,_s=/^(\d{8}|\d{13}|\d{14})$/;function Es(Rs,Bs){return Rs===ws||Rs===vs?Bs%2===0?3:1:Bs%2===0?1:3}function Ts(Rs){var Bs=Rs.slice(0,-1).split("").map(function(Ws,Hs){return Number(Ws)*Es(Rs.length,Hs)}).reduce(function(Ws,Hs){return Ws+Hs},0),Is=10-Bs%10;return Is<10?Is:0}function Ss(Rs){(0,et.default)(Rs);var Bs=Number(Rs.slice(-1));return _s.test(Rs)&&Bs===Ts(Rs)}st.exports=t.default,st.exports.default=t.default}(isEAN,isEAN.exports)),isEAN.exports}var isISIN={exports:{}},hasRequiredIsISIN;function requireIsISIN(){return hasRequiredIsISIN||(hasRequiredIsISIN=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function vs(_s){if((0,et.default)(_s),!ws.test(_s))return!1;for(var Es=!0,Ts=0,Ss=_s.length-2;Ss>=0;Ss--)if(_s[Ss]>="A"&&_s[Ss]<="Z")for(var Rs=_s[Ss].charCodeAt(0)-55,Bs=Rs%10,Is=Math.trunc(Rs/10),Ws=0,Hs=[Bs,Is];Ws<Hs.length;Ws++){var Ns=Hs[Ws];Es?Ns>=5?Ts+=1+(Ns-5)*2:Ts+=Ns*2:Ts+=Ns,Es=!Es}else{var Js=_s[Ss].charCodeAt(0)-48;Es?Js>=5?Ts+=1+(Js-5)*2:Ts+=Js*2:Ts+=Js,Es=!Es}var ha=Math.trunc((Ts+9)/10)*10-Ts;return+_s[_s.length-1]===ha}st.exports=t.default,st.exports.default=t.default}(isISIN,isISIN.exports)),isISIN.exports}var isISBN={exports:{}},hasRequiredIsISBN;function requireIsISBN(){return hasRequiredIsISBN||(hasRequiredIsISBN=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ms(requireAssertString());function ms(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var ws=/^(?:[0-9]{9}X|[0-9]{10})$/,vs=/^(?:[0-9]{13})$/,_s=[1,3];function Es(Ts,Ss){(0,et.default)(Ts);var Rs=String(Ss?.version||Ss);if(!(Ss!=null&&Ss.version||Ss))return Es(Ts,{version:10})||Es(Ts,{version:13});var Bs=Ts.replace(/[\s-]+/g,""),Is=0;if(Rs==="10"){if(!ws.test(Bs))return!1;for(var Ws=0;Ws<Rs-1;Ws++)Is+=(Ws+1)*Bs.charAt(Ws);if(Bs.charAt(9)==="X"?Is+=10*10:Is+=10*Bs.charAt(9),Is%11===0)return!0}else if(Rs==="13"){if(!vs.test(Bs))return!1;for(var Hs=0;Hs<12;Hs++)Is+=_s[Hs%2]*Bs.charAt(Hs);if(Bs.charAt(12)-(10-Is%10)%10===0)return!0}return!1}st.exports=t.default,st.exports.default=t.default}(isISBN,isISBN.exports)),isISBN.exports}var isISSN={exports:{}},hasRequiredIsISSN;function requireIsISSN(){return hasRequiredIsISSN||(hasRequiredIsISSN=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws="^\\d{4}-?\\d{3}[\\dX]$";function vs(_s){var Es=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,et.default)(_s);var Ts=ws;if(Ts=Es.require_hyphen?Ts.replace("?",""):Ts,Ts=Es.case_sensitive?new RegExp(Ts):new RegExp(Ts,"i"),!Ts.test(_s))return!1;for(var Ss=_s.replace("-","").toUpperCase(),Rs=0,Bs=0;Bs<Ss.length;Bs++){var Is=Ss[Bs];Rs+=(Is==="X"?10:+Is)*(8-Bs)}return Rs%11===0}st.exports=t.default,st.exports.default=t.default}(isISSN,isISSN.exports)),isISSN.exports}var isTaxID={exports:{}},algorithms={},hasRequiredAlgorithms;function requireAlgorithms(){if(hasRequiredAlgorithms)return algorithms;hasRequiredAlgorithms=1,Object.defineProperty(algorithms,"__esModule",{value:!0}),algorithms.iso7064Check=st,algorithms.luhnCheck=t,algorithms.reverseMultiplyAndSum=et,algorithms.verhoeffCheck=ms;function st(ws){for(var vs=10,_s=0;_s<ws.length-1;_s++)vs=(parseInt(ws[_s],10)+vs)%10===0?10*2%11:(parseInt(ws[_s],10)+vs)%10*2%11;return vs=vs===1?0:11-vs,vs===parseInt(ws[10],10)}function t(ws){for(var vs=0,_s=!1,Es=ws.length-1;Es>=0;Es--){if(_s){var Ts=parseInt(ws[Es],10)*2;Ts>9?vs+=Ts.toString().split("").map(function(Ss){return parseInt(Ss,10)}).reduce(function(Ss,Rs){return Ss+Rs},0):vs+=Ts}else vs+=parseInt(ws[Es],10);_s=!_s}return vs%10===0}function et(ws,vs){for(var _s=0,Es=0;Es<ws.length;Es++)_s+=ws[Es]*(vs-Es);return _s}function ms(ws){for(var vs=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],_s=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],Es=ws.split("").reverse().join(""),Ts=0,Ss=0;Ss<Es.length;Ss++)Ts=vs[Ts][_s[Ss%8][parseInt(Es[Ss],10)]];return Ts===0}return algorithms}var hasRequiredIsTaxID;function requireIsTaxID(){return hasRequiredIsTaxID||(hasRequiredIsTaxID=1,function(st,t){function et(Fu){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mu){return typeof Mu}:function(Mu){return Mu&&typeof Symbol=="function"&&Mu.constructor===Symbol&&Mu!==Symbol.prototype?"symbol":typeof Mu},et(Fu)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=gl;var ms=Ts(requireAssertString()),ws=Es(requireAlgorithms()),vs=Ts(requireIsDate());function _s(Fu){if(typeof WeakMap!="function")return null;var Mu=new WeakMap,Ju=new WeakMap;return(_s=function(wf){return wf?Ju:Mu})(Fu)}function Es(Fu,Mu){if(Fu&&Fu.__esModule)return Fu;if(Fu===null||et(Fu)!="object"&&typeof Fu!="function")return{default:Fu};var Ju=_s(Mu);if(Ju&&Ju.has(Fu))return Ju.get(Fu);var vf={__proto__:null},wf=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var el in Fu)if(el!=="default"&&{}.hasOwnProperty.call(Fu,el)){var il=wf?Object.getOwnPropertyDescriptor(Fu,el):null;il&&(il.get||il.set)?Object.defineProperty(vf,el,il):vf[el]=Fu[el]}return vf.default=Fu,Ju&&Ju.set(Fu,vf),vf}function Ts(Fu){return Fu&&Fu.__esModule?Fu:{default:Fu}}function Ss(Fu){return Ws(Fu)||Is(Fu)||Bs(Fu)||Rs()}function Rs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bs(Fu,Mu){if(Fu){if(typeof Fu=="string")return Hs(Fu,Mu);var Ju=Object.prototype.toString.call(Fu).slice(8,-1);if(Ju==="Object"&&Fu.constructor&&(Ju=Fu.constructor.name),Ju==="Map"||Ju==="Set")return Array.from(Fu);if(Ju==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ju))return Hs(Fu,Mu)}}function Is(Fu){if(typeof Symbol<"u"&&Fu[Symbol.iterator]!=null||Fu["@@iterator"]!=null)return Array.from(Fu)}function Ws(Fu){if(Array.isArray(Fu))return Hs(Fu)}function Hs(Fu,Mu){(Mu==null||Mu>Fu.length)&&(Mu=Fu.length);for(var Ju=0,vf=new Array(Mu);Ju<Mu;Ju++)vf[Ju]=Fu[Ju];return vf}function Ns(Fu){var Mu=Fu.slice(0,2),Ju=parseInt(Fu.slice(2,4),10);Ju>40?(Ju-=40,Mu="20".concat(Mu)):Ju>20?(Ju-=20,Mu="18".concat(Mu)):Mu="19".concat(Mu),Ju<10&&(Ju="0".concat(Ju));var vf="".concat(Mu,"/").concat(Ju,"/").concat(Fu.slice(4,6));if(!(0,vs.default)(vf,"YYYY/MM/DD"))return!1;for(var wf=Fu.split("").map(function(cl){return parseInt(cl,10)}),el=[2,4,8,5,10,9,7,3,6],il=0,hl=0;hl<el.length;hl++)il+=wf[hl]*el[hl];return il=il%11===10?0:il%11,il===wf[9]}function Js(Fu){var Mu=Fu.split(""),Ju=Mu.filter(function(wf,el){return el%2}).map(function(wf){return Number(wf)*2}).join("").split(""),vf=Mu.filter(function(wf,el){return!(el%2)}).concat(Ju).map(function(wf){return Number(wf)}).reduce(function(wf,el){return wf+el});return vf%10===0}function ha(Fu){Fu=Fu.replace(/\W/,"");var Mu=parseInt(Fu.slice(0,2),10);if(Fu.length===10)Mu<54?Mu="20".concat(Mu):Mu="19".concat(Mu);else{if(Fu.slice(6)==="000")return!1;if(Mu<54)Mu="19".concat(Mu);else return!1}Mu.length===3&&(Mu=[Mu.slice(0,2),"0",Mu.slice(2)].join(""));var Ju=parseInt(Fu.slice(2,4),10);if(Ju>50&&(Ju-=50),Ju>20){if(parseInt(Mu,10)<2004)return!1;Ju-=20}Ju<10&&(Ju="0".concat(Ju));var vf="".concat(Mu,"/").concat(Ju,"/").concat(Fu.slice(4,6));if(!(0,vs.default)(vf,"YYYY/MM/DD"))return!1;if(Fu.length===10&&parseInt(Fu,10)%11!==0){var wf=parseInt(Fu.slice(0,9),10)%11;if(parseInt(Mu,10)<1986&&wf===10){if(parseInt(Fu.slice(9),10)!==0)return!1}else return!1}return!0}function pa(Fu){return ws.luhnCheck(Fu)}function za(Fu){for(var Mu=Fu.split("").map(function(cl){return parseInt(cl,10)}),Ju=[],vf=0;vf<Mu.length-1;vf++){Ju.push("");for(var wf=0;wf<Mu.length-1;wf++)Mu[vf]===Mu[wf]&&(Ju[vf]+=wf)}if(Ju=Ju.filter(function(cl){return cl.length>1}),Ju.length!==2&&Ju.length!==3)return!1;if(Ju[0].length===3){for(var el=Ju[0].split("").map(function(cl){return parseInt(cl,10)}),il=0,hl=0;hl<el.length-1;hl++)el[hl]+1===el[hl+1]&&(il+=1);if(il===2)return!1}return ws.iso7064Check(Fu)}function Ya(Fu){Fu=Fu.replace(/\W/,"");var Mu=parseInt(Fu.slice(4,6),10),Ju=Fu.slice(6,7);switch(Ju){case"0":case"1":case"2":case"3":Mu="19".concat(Mu);break;case"4":case"9":Mu<37?Mu="20".concat(Mu):Mu="19".concat(Mu);break;default:if(Mu<37)Mu="20".concat(Mu);else if(Mu>58)Mu="18".concat(Mu);else return!1;break}Mu.length===3&&(Mu=[Mu.slice(0,2),"0",Mu.slice(2)].join(""));var vf="".concat(Mu,"/").concat(Fu.slice(2,4),"/").concat(Fu.slice(0,2));if(!(0,vs.default)(vf,"YYYY/MM/DD"))return!1;for(var wf=Fu.split("").map(function(cl){return parseInt(cl,10)}),el=0,il=4,hl=0;hl<9;hl++)el+=wf[hl]*il,il-=1,il===1&&(il=7);return el%=11,el===1?!1:el===0?wf[9]===0:wf[9]===11-el}function Bc(Fu){for(var Mu=Fu.slice(0,8).split("").map(function(el){return parseInt(el,10)}),Ju=0,vf=1;vf<Mu.length;vf+=2)Ju+=Mu[vf];for(var wf=0;wf<Mu.length;wf+=2)Mu[wf]<2?Ju+=1-Mu[wf]:(Ju+=2*(Mu[wf]-2)+5,Mu[wf]>4&&(Ju+=2));return String.fromCharCode(Ju%26+65)===Fu.charAt(8)}function Qa(Fu){for(var Mu=Fu.split("").map(function(wf){return parseInt(wf,10)}),Ju=0,vf=0;vf<8;vf++)Ju+=Mu[vf]*Math.pow(2,8-vf);return Ju%11%10===Mu[8]}function tu(Fu){var Mu=ws.reverseMultiplyAndSum(Fu.split("").slice(0,7).map(function(Ju){return parseInt(Ju,10)}),8);return Fu.length===9&&Fu[8]!=="W"&&(Mu+=(Fu[8].charCodeAt(0)-64)*9),Mu%=23,Mu===0?Fu[7].toUpperCase()==="W":Fu[7].toUpperCase()===String.fromCharCode(64+Mu)}var eu={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function ru(){var Fu=[];for(var Mu in eu)eu.hasOwnProperty(Mu)&&Fu.push.apply(Fu,Ss(eu[Mu]));return Fu}function cu(Fu){return ru().indexOf(Fu.slice(0,2))!==-1}function ou(Fu){for(var Mu=0,Ju=Fu.split(""),vf=parseInt(Ju.pop(),10),wf=0;wf<Ju.length;wf++)Mu+=Ju[9-wf]*(2+wf%6);var el=11-Mu%11;return el===11?el=0:el===10&&(el=9),vf===el}function Ga(Fu){var Mu=Fu.toUpperCase().split("");if(isNaN(parseInt(Mu[0],10))&&Mu.length>1){var Ju=0;switch(Mu[0]){case"Y":Ju=1;break;case"Z":Ju=2;break}Mu.splice(0,1,Ju)}else for(;Mu.length<9;)Mu.unshift(0);var vf=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];Mu=Mu.join("");var wf=parseInt(Mu.slice(0,8),10)%23;return Mu[8]===vf[wf]}function Xa(Fu){var Mu=Fu.slice(1,3),Ju=Fu.slice(0,1);switch(Ju){case"1":case"2":Mu="18".concat(Mu);break;case"3":case"4":Mu="19".concat(Mu);break;default:Mu="20".concat(Mu);break}var vf="".concat(Mu,"/").concat(Fu.slice(3,5),"/").concat(Fu.slice(5,7));if(!(0,vs.default)(vf,"YYYY/MM/DD"))return!1;for(var wf=Fu.split("").map(function(ul){return parseInt(ul,10)}),el=0,il=1,hl=0;hl<10;hl++)el+=wf[hl]*il,il+=1,il===10&&(il=1);if(el%11===10){el=0,il=3;for(var cl=0;cl<10;cl++)el+=wf[cl]*il,il+=1,il===10&&(il=1);if(el%11===10)return wf[10]===0}return el%11===wf[10]}function Fa(Fu){var Mu=Fu.slice(4,6),Ju=Fu.slice(6,7);switch(Ju){case"+":Mu="18".concat(Mu);break;case"-":Mu="19".concat(Mu);break;default:Mu="20".concat(Mu);break}var vf="".concat(Mu,"/").concat(Fu.slice(2,4),"/").concat(Fu.slice(0,2));if(!(0,vs.default)(vf,"YYYY/MM/DD"))return!1;var wf=parseInt(Fu.slice(0,6)+Fu.slice(7,10),10)%31;if(wf<10)return wf===parseInt(Fu.slice(10),10);wf-=10;var el=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return el[wf]===Fu.slice(10)}function Zs(Fu){if(Fu.slice(2,4)!=="00"||Fu.slice(4,6)!=="00"){var Mu="".concat(Fu.slice(0,2),"/").concat(Fu.slice(2,4),"/").concat(Fu.slice(4,6));if(!(0,vs.default)(Mu,"YY/MM/DD"))return!1}var Ju=97-parseInt(Fu.slice(0,9),10)%97,vf=parseInt(Fu.slice(9,11),10);return!(Ju!==vf&&(Ju=97-parseInt("2".concat(Fu.slice(0,9)),10)%97,Ju!==vf))}function Wa(Fu){Fu=Fu.replace(/\s/g,"");var Mu=parseInt(Fu.slice(0,10),10)%511,Ju=parseInt(Fu.slice(10,13),10);return Mu===Ju}function Za(Fu){var Mu="".concat(Fu.slice(0,4),"/").concat(Fu.slice(4,6),"/").concat(Fu.slice(6,8));return!(0,vs.default)(Mu,"YYYY/MM/DD")||!ws.luhnCheck(Fu.slice(0,12))?!1:ws.verhoeffCheck("".concat(Fu.slice(0,11)).concat(Fu[12]))}function iu(Fu){return ws.iso7064Check(Fu)}function au(Fu){for(var Mu=Fu.split("").map(function(wf){return parseInt(wf,10)}),Ju=8,vf=1;vf<9;vf++)Ju+=Mu[vf]*(vf+1);return Ju%11===Mu[9]}function nu(Fu){for(var Mu=!1,Ju=!1,vf=0;vf<3;vf++)if(!Mu&&/[AEIOU]/.test(Fu[vf]))Mu=!0;else if(!Ju&&Mu&&Fu[vf]==="X")Ju=!0;else if(vf>0&&(Mu&&!Ju&&!/[AEIOU]/.test(Fu[vf])||Ju&&!/X/.test(Fu[vf])))return!1;return!0}function uu(Fu){var Mu=Fu.toUpperCase().split("");if(!nu(Mu.slice(0,3))||!nu(Mu.slice(3,6)))return!1;for(var Ju=[6,7,9,10,12,13,14],vf={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},wf=0,el=Ju;wf<el.length;wf++){var il=el[wf];Mu[il]in vf&&Mu.splice(il,1,vf[Mu[il]])}var hl={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},cl=hl[Mu[8]],ul=parseInt(Mu[9]+Mu[10],10);ul>40&&(ul-=40),ul<10&&(ul="0".concat(ul));var yl="".concat(Mu[6]).concat(Mu[7],"/").concat(cl,"/").concat(ul);if(!(0,vs.default)(yl,"YY/MM/DD"))return!1;for(var Cl=0,Bu=1;Bu<Mu.length-1;Bu+=2){var pu=parseInt(Mu[Bu],10);isNaN(pu)&&(pu=Mu[Bu].charCodeAt(0)-65),Cl+=pu}for(var xu={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},qu=0;qu<Mu.length-1;qu+=2){var Pu=0;if(Mu[qu]in xu)Pu=xu[Mu[qu]];else{var xf=parseInt(Mu[qu],10);Pu=2*xf+1,xf>4&&(Pu+=2)}Cl+=Pu}return String.fromCharCode(65+Cl%26)===Mu[15]}function fu(Fu){Fu=Fu.replace(/\W/,"");var Mu=Fu.slice(0,2);if(Mu!=="32"){var Ju=Fu.slice(2,4);if(Ju!=="00"){var vf=Fu.slice(4,6);switch(Fu[6]){case"0":vf="18".concat(vf);break;case"1":vf="19".concat(vf);break;default:vf="20".concat(vf);break}var wf="".concat(vf,"/").concat(Fu.slice(2,4),"/").concat(Mu);if(!(0,vs.default)(wf,"YYYY/MM/DD"))return!1}for(var el=1101,il=[1,6,3,7,9,10,5,8,4,2],hl=0;hl<Fu.length-1;hl++)el-=parseInt(Fu[hl],10)*il[hl];return parseInt(Fu[10],10)===el%11}return!0}function hu(Fu){if(Fu.length!==9){for(var Mu=Fu.toUpperCase().split("");Mu.length<8;)Mu.unshift(0);switch(Fu[7]){case"A":case"P":if(parseInt(Mu[6],10)===0)return!1;break;default:{var Ju=parseInt(Mu.join("").slice(0,5),10);if(Ju>32e3)return!1;var vf=parseInt(Mu.join("").slice(5,7),10);if(Ju===vf)return!1}}}return!0}function Eu(Fu){return ws.reverseMultiplyAndSum(Fu.split("").slice(0,8).map(function(Mu){return parseInt(Mu,10)}),9)%11===parseInt(Fu[8],10)}function $u(Fu){if(Fu.length===10){for(var Mu=[6,5,7,2,3,4,5,6,7],Ju=0,vf=0;vf<Mu.length;vf++)Ju+=parseInt(Fu[vf],10)*Mu[vf];return Ju%=11,Ju===10?!1:Ju===parseInt(Fu[9],10)}var wf=Fu.slice(0,2),el=parseInt(Fu.slice(2,4),10);el>80?(wf="18".concat(wf),el-=80):el>60?(wf="22".concat(wf),el-=60):el>40?(wf="21".concat(wf),el-=40):el>20?(wf="20".concat(wf),el-=20):wf="19".concat(wf),el<10&&(el="0".concat(el));var il="".concat(wf,"/").concat(el,"/").concat(Fu.slice(4,6));if(!(0,vs.default)(il,"YYYY/MM/DD"))return!1;for(var hl=0,cl=1,ul=0;ul<Fu.length-1;ul++)hl+=parseInt(Fu[ul],10)*cl%10,cl+=2,cl>10?cl=1:cl===5&&(cl+=2);return hl=10-hl%10,hl===parseInt(Fu[10],10)}function Ou(Fu){if(Fu.length===11){var Mu,Ju;if(Mu=0,Fu==="11111111111"||Fu==="22222222222"||Fu==="33333333333"||Fu==="44444444444"||Fu==="55555555555"||Fu==="66666666666"||Fu==="77777777777"||Fu==="88888888888"||Fu==="99999999999"||Fu==="00000000000")return!1;for(var vf=1;vf<=9;vf++)Mu+=parseInt(Fu.substring(vf-1,vf),10)*(11-vf);if(Ju=Mu*10%11,Ju===10&&(Ju=0),Ju!==parseInt(Fu.substring(9,10),10))return!1;Mu=0;for(var wf=1;wf<=10;wf++)Mu+=parseInt(Fu.substring(wf-1,wf),10)*(12-wf);return Ju=Mu*10%11,Ju===10&&(Ju=0),Ju===parseInt(Fu.substring(10,11),10)}if(Fu==="00000000000000"||Fu==="11111111111111"||Fu==="22222222222222"||Fu==="33333333333333"||Fu==="44444444444444"||Fu==="55555555555555"||Fu==="66666666666666"||Fu==="77777777777777"||Fu==="88888888888888"||Fu==="99999999999999")return!1;for(var el=Fu.length-2,il=Fu.substring(0,el),hl=Fu.substring(el),cl=0,ul=el-7,yl=el;yl>=1;yl--)cl+=il.charAt(el-yl)*ul,ul-=1,ul<2&&(ul=9);var Cl=cl%11<2?0:11-cl%11;if(Cl!==parseInt(hl.charAt(0),10))return!1;el+=1,il=Fu.substring(0,el),cl=0,ul=el-7;for(var Bu=el;Bu>=1;Bu--)cl+=il.charAt(el-Bu)*ul,ul-=1,ul<2&&(ul=9);return Cl=cl%11<2?0:11-cl%11,Cl===parseInt(hl.charAt(1),10)}function gu(Fu){var Mu=11-ws.reverseMultiplyAndSum(Fu.split("").slice(0,8).map(function(Ju){return parseInt(Ju,10)}),9)%11;return Mu>9?parseInt(Fu[8],10)===0:Mu===parseInt(Fu[8],10)}function yu(Fu){if(Fu.slice(0,4)!=="9000"){var Mu=Fu.slice(1,3);switch(Fu[0]){case"1":case"2":Mu="19".concat(Mu);break;case"3":case"4":Mu="18".concat(Mu);break;case"5":case"6":Mu="20".concat(Mu);break}var Ju="".concat(Mu,"/").concat(Fu.slice(3,5),"/").concat(Fu.slice(5,7));if(Ju.length===8){if(!(0,vs.default)(Ju,"YY/MM/DD"))return!1}else if(!(0,vs.default)(Ju,"YYYY/MM/DD"))return!1;for(var vf=Fu.split("").map(function(hl){return parseInt(hl,10)}),wf=[2,7,9,1,4,6,3,5,8,2,7,9],el=0,il=0;il<wf.length;il++)el+=vf[il]*wf[il];return el%11===10?vf[12]===1:vf[12]===el%11}return!0}function Tu(Fu){if(Fu.length===9){if(Fu=Fu.replace(/\W/,""),Fu.slice(6)==="000")return!1;var Mu=parseInt(Fu.slice(0,2),10);if(Mu>53)return!1;Mu<10?Mu="190".concat(Mu):Mu="19".concat(Mu);var Ju=parseInt(Fu.slice(2,4),10);Ju>50&&(Ju-=50),Ju<10&&(Ju="0".concat(Ju));var vf="".concat(Mu,"/").concat(Ju,"/").concat(Fu.slice(4,6));if(!(0,vs.default)(vf,"YYYY/MM/DD"))return!1}return!0}function du(Fu){var Mu=11-ws.reverseMultiplyAndSum(Fu.split("").slice(0,7).map(function(Ju){return parseInt(Ju,10)}),8)%11;return Mu===10?parseInt(Fu[7],10)===0:Mu===parseInt(Fu[7],10)}function wu(Fu){var Mu=Fu.slice(0);Fu.length>11&&(Mu=Mu.slice(2));var Ju="",vf=Mu.slice(2,4),wf=parseInt(Mu.slice(4,6),10);if(Fu.length>11)Ju=Fu.slice(0,4);else if(Ju=Fu.slice(0,2),Fu.length===11&&wf<60){var el=new Date().getFullYear().toString(),il=parseInt(el.slice(0,2),10);if(el=parseInt(el,10),Fu[6]==="-")parseInt("".concat(il).concat(Ju),10)>el?Ju="".concat(il-1).concat(Ju):Ju="".concat(il).concat(Ju);else if(Ju="".concat(il-1).concat(Ju),el-parseInt(Ju,10)<100)return!1}wf>60&&(wf-=60),wf<10&&(wf="0".concat(wf));var hl="".concat(Ju,"/").concat(vf,"/").concat(wf);if(hl.length===8){if(!(0,vs.default)(hl,"YY/MM/DD"))return!1}else if(!(0,vs.default)(hl,"YYYY/MM/DD"))return!1;return ws.luhnCheck(Fu.replace(/\W/,""))}function Ru(Fu){for(var Mu=Fu.split("").map(function(el){return parseInt(el,10)}),Ju=[-1,5,7,9,4,6,10,5,7],vf=0,wf=0;wf<Ju.length;wf++)vf+=Mu[wf]*Ju[wf];return vf%11===10?Mu[9]===0:Mu[9]===vf%11}var Ku={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};Ku["lb-LU"]=Ku["fr-LU"],Ku["lt-LT"]=Ku["et-EE"],Ku["nl-BE"]=Ku["fr-BE"],Ku["fr-CA"]=Ku["en-CA"];var Zu={"bg-BG":Ns,"cs-CZ":ha,"de-AT":pa,"de-DE":za,"dk-DK":Ya,"el-CY":Bc,"el-GR":Qa,"en-CA":Js,"en-IE":tu,"en-US":cu,"es-AR":ou,"es-ES":Ga,"et-EE":Xa,"fi-FI":Fa,"fr-BE":Zs,"fr-FR":Wa,"fr-LU":Za,"hr-HR":iu,"hu-HU":au,"it-IT":uu,"lv-LV":fu,"mt-MT":hu,"nl-NL":Eu,"pl-PL":$u,"pt-BR":Ou,"pt-PT":gu,"ro-RO":yu,"sk-SK":Tu,"sl-SI":du,"sv-SE":wu,"uk-UA":Ru};Zu["lb-LU"]=Zu["fr-LU"],Zu["lt-LT"]=Zu["et-EE"],Zu["nl-BE"]=Zu["fr-BE"],Zu["fr-CA"]=Zu["en-CA"];var tl=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,sl={"de-AT":tl,"de-DE":/[\/\\]/g,"fr-BE":tl};sl["nl-BE"]=sl["fr-BE"];function gl(Fu){var Mu=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,ms.default)(Fu);var Ju=Fu.slice(0);if(Mu in Ku)return Mu in sl&&(Ju=Ju.replace(sl[Mu],"")),Ku[Mu].test(Ju)?Mu in Zu?Zu[Mu](Ju):!0:!1;throw new Error("Invalid locale '".concat(Mu,"'"))}st.exports=t.default,st.exports.default=t.default}(isTaxID,isTaxID.exports)),isTaxID.exports}var isMobilePhone={},hasRequiredIsMobilePhone;function requireIsMobilePhone(){if(hasRequiredIsMobilePhone)return isMobilePhone;hasRequiredIsMobilePhone=1,Object.defineProperty(isMobilePhone,"__esModule",{value:!0}),isMobilePhone.default=ms,isMobilePhone.locales=void 0;var st=t(requireAssertString());function t(ws){return ws&&ws.__esModule?ws:{default:ws}}var et={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};et["en-CA"]=et["en-US"],et["fr-CA"]=et["en-CA"],et["fr-BE"]=et["nl-BE"],et["zh-HK"]=et["en-HK"],et["zh-MO"]=et["en-MO"],et["ga-IE"]=et["en-IE"],et["fr-CH"]=et["de-CH"],et["it-CH"]=et["fr-CH"];function ms(ws,vs,_s){if((0,st.default)(ws),_s&&_s.strictMode&&!ws.startsWith("+"))return!1;if(Array.isArray(vs))return vs.some(function(Ss){if(et.hasOwnProperty(Ss)){var Rs=et[Ss];if(Rs.test(ws))return!0}return!1});if(vs in et)return et[vs].test(ws);if(!vs||vs==="any"){for(var Es in et)if(et.hasOwnProperty(Es)){var Ts=et[Es];if(Ts.test(ws))return!0}return!1}throw new Error("Invalid locale '".concat(vs,"'"))}return isMobilePhone.locales=Object.keys(et),isMobilePhone}var isEthereumAddress={exports:{}},hasRequiredIsEthereumAddress;function requireIsEthereumAddress(){return hasRequiredIsEthereumAddress||(hasRequiredIsEthereumAddress=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^(0x)[0-9a-f]{40}$/i;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isEthereumAddress,isEthereumAddress.exports)),isEthereumAddress.exports}var isCurrency={exports:{}},hasRequiredIsCurrency;function requireIsCurrency(){return hasRequiredIsCurrency||(hasRequiredIsCurrency=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ws(requireMerge()),ms=ws(requireAssertString());function ws(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}function vs(Ts){var Ss="\\d{".concat(Ts.digits_after_decimal[0],"}");Ts.digits_after_decimal.forEach(function(pa,za){za!==0&&(Ss="".concat(Ss,"|\\d{").concat(pa,"}"))});var Rs="(".concat(Ts.symbol.replace(/\W/,function(pa){return"\\".concat(pa)}),")").concat(Ts.require_symbol?"":"?"),Bs="-?",Is="[1-9]\\d*",Ws="[1-9]\\d{0,2}(\\".concat(Ts.thousands_separator,"\\d{3})*"),Hs=["0",Is,Ws],Ns="(".concat(Hs.join("|"),")?"),Js="(\\".concat(Ts.decimal_separator,"(").concat(Ss,"))").concat(Ts.require_decimal?"":"?"),ha=Ns+(Ts.allow_decimal||Ts.require_decimal?Js:"");return Ts.allow_negatives&&!Ts.parens_for_negatives&&(Ts.negative_sign_after_digits?ha+=Bs:Ts.negative_sign_before_digits&&(ha=Bs+ha)),Ts.allow_negative_sign_placeholder?ha="( (?!\\-))?".concat(ha):Ts.allow_space_after_symbol?ha=" ?".concat(ha):Ts.allow_space_after_digits&&(ha+="( (?!$))?"),Ts.symbol_after_digits?ha+=Rs:ha=Rs+ha,Ts.allow_negatives&&(Ts.parens_for_negatives?ha="(\\(".concat(ha,"\\)|").concat(ha,")"):Ts.negative_sign_before_digits||Ts.negative_sign_after_digits||(ha=Bs+ha)),new RegExp("^(?!-? )(?=.*\\d)".concat(ha,"$"))}var _s={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function Es(Ts,Ss){return(0,ms.default)(Ts),Ss=(0,et.default)(Ss,_s),vs(Ss).test(Ts)}st.exports=t.default,st.exports.default=t.default}(isCurrency,isCurrency.exports)),isCurrency.exports}var isBtcAddress={exports:{}},hasRequiredIsBtcAddress;function requireIsBtcAddress(){return hasRequiredIsBtcAddress||(hasRequiredIsBtcAddress=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_s;var et=ms(requireAssertString());function ms(Es){return Es&&Es.__esModule?Es:{default:Es}}var ws=/^(bc1)[a-z0-9]{25,39}$/,vs=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function _s(Es){return(0,et.default)(Es),ws.test(Es)||vs.test(Es)}st.exports=t.default,st.exports.default=t.default}(isBtcAddress,isBtcAddress.exports)),isBtcAddress.exports}var isISO6346={},hasRequiredIsISO6346;function requireIsISO6346(){if(hasRequiredIsISO6346)return isISO6346;hasRequiredIsISO6346=1,Object.defineProperty(isISO6346,"__esModule",{value:!0}),isISO6346.isFreightContainerID=void 0,isISO6346.isISO6346=ws;var st=t(requireAssertString());function t(vs){return vs&&vs.__esModule?vs:{default:vs}}var et=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,ms=/^[0-9]$/;function ws(vs){if((0,st.default)(vs),vs=vs.toUpperCase(),!et.test(vs))return!1;if(vs.length===11){for(var _s=0,Es=0;Es<vs.length-1;Es++)if(ms.test(vs[Es]))_s+=vs[Es]*Math.pow(2,Es);else{var Ts=void 0,Ss=vs.charCodeAt(Es)-55;Ss<11?Ts=Ss:Ss>=11&&Ss<=20?Ts=12+Ss%11:Ss>=21&&Ss<=30?Ts=23+Ss%21:Ts=34+Ss%31,_s+=Ts*Math.pow(2,Es)}var Rs=_s%11;return Number(vs[vs.length-1])===Rs}return!0}return isISO6346.isFreightContainerID=ws,isISO6346}var isISO6391={exports:{}},hasRequiredIsISO6391;function requireIsISO6391(){return hasRequiredIsISO6391||(hasRequiredIsISO6391=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function vs(_s){return(0,et.default)(_s),ws.has(_s)}st.exports=t.default,st.exports.default=t.default}(isISO6391,isISO6391.exports)),isISO6391.exports}var isISO8601={exports:{}},hasRequiredIsISO8601;function requireIsISO8601(){return hasRequiredIsISO8601||(hasRequiredIsISO8601=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ms(requireAssertString());function ms(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var ws=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,vs=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,_s=function(Ss){var Rs=Ss.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(Rs){var Bs=Number(Rs[1]),Is=Number(Rs[2]);return Bs%4===0&&Bs%100!==0||Bs%400===0?Is<=366:Is<=365}var Ws=Ss.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),Hs=Ws[1],Ns=Ws[2],Js=Ws[3],ha=Ns&&"0".concat(Ns).slice(-2),pa=Js&&"0".concat(Js).slice(-2),za=new Date("".concat(Hs,"-").concat(ha||"01","-").concat(pa||"01"));return Ns&&Js?za.getUTCFullYear()===Hs&&za.getUTCMonth()+1===Ns&&za.getUTCDate()===Js:!0};function Es(Ts){var Ss=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,et.default)(Ts);var Rs=Ss.strictSeparator?vs.test(Ts):ws.test(Ts);return Rs&&Ss.strict?_s(Ts):Rs}st.exports=t.default,st.exports.default=t.default}(isISO8601,isISO8601.exports)),isISO8601.exports}var isRFC3339={exports:{}},hasRequiredIsRFC3339;function requireIsRFC3339(){return hasRequiredIsRFC3339||(hasRequiredIsRFC3339=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ha;var et=ms(requireAssertString());function ms(pa){return pa&&pa.__esModule?pa:{default:pa}}var ws=/[0-9]{4}/,vs=/(0[1-9]|1[0-2])/,_s=/([12]\d|0[1-9]|3[01])/,Es=/([01][0-9]|2[0-3])/,Ts=/[0-5][0-9]/,Ss=/([0-5][0-9]|60)/,Rs=/(\.[0-9]+)?/,Bs=new RegExp("[-+]".concat(Es.source,":").concat(Ts.source)),Is=new RegExp("([zZ]|".concat(Bs.source,")")),Ws=new RegExp("".concat(Es.source,":").concat(Ts.source,":").concat(Ss.source).concat(Rs.source)),Hs=new RegExp("".concat(ws.source,"-").concat(vs.source,"-").concat(_s.source)),Ns=new RegExp("".concat(Ws.source).concat(Is.source)),Js=new RegExp("^".concat(Hs.source,"[ tT]").concat(Ns.source,"$"));function ha(pa){return(0,et.default)(pa),Js.test(pa)}st.exports=t.default,st.exports.default=t.default}(isRFC3339,isRFC3339.exports)),isRFC3339.exports}var isISO31661Alpha3={exports:{}},hasRequiredIsISO31661Alpha3;function requireIsISO31661Alpha3(){return hasRequiredIsISO31661Alpha3||(hasRequiredIsISO31661Alpha3=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function vs(_s){return(0,et.default)(_s),ws.has(_s.toUpperCase())}st.exports=t.default,st.exports.default=t.default}(isISO31661Alpha3,isISO31661Alpha3.exports)),isISO31661Alpha3.exports}var isISO4217={},hasRequiredIsISO4217;function requireIsISO4217(){if(hasRequiredIsISO4217)return isISO4217;hasRequiredIsISO4217=1,Object.defineProperty(isISO4217,"__esModule",{value:!0}),isISO4217.CurrencyCodes=void 0,isISO4217.default=ms;var st=t(requireAssertString());function t(ws){return ws&&ws.__esModule?ws:{default:ws}}var et=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function ms(ws){return(0,st.default)(ws),et.has(ws.toUpperCase())}return isISO4217.CurrencyCodes=et,isISO4217}var isBase32={exports:{}},hasRequiredIsBase32;function requireIsBase32(){return hasRequiredIsBase32||(hasRequiredIsBase32=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ts;var et=ws(requireAssertString()),ms=ws(requireMerge());function ws(Ss){return Ss&&Ss.__esModule?Ss:{default:Ss}}var vs=/^[A-Z2-7]+=*$/,_s=/^[A-HJKMNP-TV-Z0-9]+$/,Es={crockford:!1};function Ts(Ss,Rs){if((0,et.default)(Ss),Rs=(0,ms.default)(Rs,Es),Rs.crockford)return _s.test(Ss);var Bs=Ss.length;return!!(Bs%8===0&&vs.test(Ss))}st.exports=t.default,st.exports.default=t.default}(isBase32,isBase32.exports)),isBase32.exports}var isBase58={exports:{}},hasRequiredIsBase58;function requireIsBase58(){return hasRequiredIsBase58||(hasRequiredIsBase58=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^[A-HJ-NP-Za-km-z1-9]*$/;function vs(_s){return(0,et.default)(_s),!!ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isBase58,isBase58.exports)),isBase58.exports}var isDataURI={exports:{}},hasRequiredIsDataURI;function requireIsDataURI(){return hasRequiredIsDataURI||(hasRequiredIsDataURI=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ms(requireAssertString());function ms(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var ws=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,vs=/^[a-z\-]+=[a-z0-9\-]+$/i,_s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function Es(Ts){(0,et.default)(Ts);var Ss=Ts.split(",");if(Ss.length<2)return!1;var Rs=Ss.shift().trim().split(";"),Bs=Rs.shift();if(Bs.slice(0,5)!=="data:")return!1;var Is=Bs.slice(5);if(Is!==""&&!ws.test(Is))return!1;for(var Ws=0;Ws<Rs.length;Ws++)if(!(Ws===Rs.length-1&&Rs[Ws].toLowerCase()==="base64")&&!vs.test(Rs[Ws]))return!1;for(var Hs=0;Hs<Ss.length;Hs++)if(!_s.test(Ss[Hs]))return!1;return!0}st.exports=t.default,st.exports.default=t.default}(isDataURI,isDataURI.exports)),isDataURI.exports}var isMagnetURI={exports:{}},hasRequiredIsMagnetURI;function requireIsMagnetURI(){return hasRequiredIsMagnetURI||(hasRequiredIsMagnetURI=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function vs(_s){return(0,et.default)(_s),_s.indexOf("magnet:?")!==0?!1:ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isMagnetURI,isMagnetURI.exports)),isMagnetURI.exports}var isMailtoURI={exports:{}},trim$1={exports:{}},rtrim={exports:{}},hasRequiredRtrim;function requireRtrim(){return hasRequiredRtrim||(hasRequiredRtrim=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){if((0,et.default)(vs),_s){var Es=new RegExp("[".concat(_s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return vs.replace(Es,"")}for(var Ts=vs.length-1;/\s/.test(vs.charAt(Ts));)Ts-=1;return vs.slice(0,Ts+1)}st.exports=t.default,st.exports.default=t.default}(rtrim,rtrim.exports)),rtrim.exports}var ltrim={exports:{}},hasRequiredLtrim;function requireLtrim(){return hasRequiredLtrim||(hasRequiredLtrim=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){(0,et.default)(vs);var Es=_s?new RegExp("^[".concat(_s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return vs.replace(Es,"")}st.exports=t.default,st.exports.default=t.default}(ltrim,ltrim.exports)),ltrim.exports}var hasRequiredTrim;function requireTrim(){return hasRequiredTrim||(hasRequiredTrim=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ws(requireRtrim()),ms=ws(requireLtrim());function ws(_s){return _s&&_s.__esModule?_s:{default:_s}}function vs(_s,Es){return(0,et.default)((0,ms.default)(_s,Es),Es)}st.exports=t.default,st.exports.default=t.default}(trim$1,trim$1.exports)),trim$1.exports}var hasRequiredIsMailtoURI;function requireIsMailtoURI(){return hasRequiredIsMailtoURI||(hasRequiredIsMailtoURI=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Hs;var et=vs(requireTrim()),ms=vs(requireIsEmail()),ws=vs(requireAssertString());function vs(Ns){return Ns&&Ns.__esModule?Ns:{default:Ns}}function _s(Ns,Js){return Ss(Ns)||Ts(Ns,Js)||Bs(Ns,Js)||Es()}function Es(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ts(Ns,Js){var ha=Ns==null?null:typeof Symbol<"u"&&Ns[Symbol.iterator]||Ns["@@iterator"];if(ha!=null){var pa,za,Ya,Bc,Qa=[],tu=!0,eu=!1;try{if(Ya=(ha=ha.call(Ns)).next,Js!==0)for(;!(tu=(pa=Ya.call(ha)).done)&&(Qa.push(pa.value),Qa.length!==Js);tu=!0);}catch(ru){eu=!0,za=ru}finally{try{if(!tu&&ha.return!=null&&(Bc=ha.return(),Object(Bc)!==Bc))return}finally{if(eu)throw za}}return Qa}}function Ss(Ns){if(Array.isArray(Ns))return Ns}function Rs(Ns,Js){var ha=typeof Symbol<"u"&&Ns[Symbol.iterator]||Ns["@@iterator"];if(!ha){if(Array.isArray(Ns)||(ha=Bs(Ns))||Js){ha&&(Ns=ha);var pa=0,za=function(){};return{s:za,n:function(){return pa>=Ns.length?{done:!0}:{done:!1,value:Ns[pa++]}},e:function(eu){throw eu},f:za}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ya=!0,Bc=!1,Qa;return{s:function(){ha=ha.call(Ns)},n:function(){var eu=ha.next();return Ya=eu.done,eu},e:function(eu){Bc=!0,Qa=eu},f:function(){try{!Ya&&ha.return!=null&&ha.return()}finally{if(Bc)throw Qa}}}}function Bs(Ns,Js){if(Ns){if(typeof Ns=="string")return Is(Ns,Js);var ha=Object.prototype.toString.call(Ns).slice(8,-1);if(ha==="Object"&&Ns.constructor&&(ha=Ns.constructor.name),ha==="Map"||ha==="Set")return Array.from(Ns);if(ha==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ha))return Is(Ns,Js)}}function Is(Ns,Js){(Js==null||Js>Ns.length)&&(Js=Ns.length);for(var ha=0,pa=new Array(Js);ha<Js;ha++)pa[ha]=Ns[ha];return pa}function Ws(Ns){var Js=new Set(["subject","body","cc","bcc"]),ha={cc:"",bcc:""},pa=!1,za=Ns.split("&");if(za.length>4)return!1;var Ya=Rs(za),Bc;try{for(Ya.s();!(Bc=Ya.n()).done;){var Qa=Bc.value,tu=Qa.split("="),eu=_s(tu,2),ru=eu[0],cu=eu[1];if(ru&&!Js.has(ru)){pa=!0;break}cu&&(ru==="cc"||ru==="bcc")&&(ha[ru]=cu),ru&&Js.delete(ru)}}catch(ou){Ya.e(ou)}finally{Ya.f()}return pa?!1:ha}function Hs(Ns,Js){if((0,ws.default)(Ns),Ns.indexOf("mailto:")!==0)return!1;var ha=Ns.replace("mailto:","").split("?"),pa=_s(ha,2),za=pa[0],Ya=pa[1],Bc=Ya===void 0?"":Ya;if(!za&&!Bc)return!0;var Qa=Ws(Bc);return Qa?"".concat(za,",").concat(Qa.cc,",").concat(Qa.bcc).split(",").every(function(tu){return tu=(0,et.default)(tu," "),tu?(0,ms.default)(tu,Js):!0}):!1}st.exports=t.default,st.exports.default=t.default}(isMailtoURI,isMailtoURI.exports)),isMailtoURI.exports}var isMimeType={exports:{}},hasRequiredIsMimeType;function requireIsMimeType(){return hasRequiredIsMimeType||(hasRequiredIsMimeType=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Es;var et=ms(requireAssertString());function ms(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var ws=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,vs=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,_s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function Es(Ts){return(0,et.default)(Ts),ws.test(Ts)||vs.test(Ts)||_s.test(Ts)}st.exports=t.default,st.exports.default=t.default}(isMimeType,isMimeType.exports)),isMimeType.exports}var isLatLong={exports:{}},hasRequiredIsLatLong;function requireIsLatLong(){return hasRequiredIsLatLong||(hasRequiredIsLatLong=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Rs;var et=ws(requireAssertString()),ms=ws(requireMerge());function ws(Bs){return Bs&&Bs.__esModule?Bs:{default:Bs}}var vs=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,_s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,Es=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,Ts=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,Ss={checkDMS:!1};function Rs(Bs,Is){if((0,et.default)(Bs),Is=(0,ms.default)(Is,Ss),!Bs.includes(","))return!1;var Ws=Bs.split(",");return Ws[0].startsWith("(")&&!Ws[1].endsWith(")")||Ws[1].endsWith(")")&&!Ws[0].startsWith("(")?!1:Is.checkDMS?Es.test(Ws[0])&&Ts.test(Ws[1]):vs.test(Ws[0])&&_s.test(Ws[1])}st.exports=t.default,st.exports.default=t.default}(isLatLong,isLatLong.exports)),isLatLong.exports}var isPostalCode={},hasRequiredIsPostalCode;function requireIsPostalCode(){if(hasRequiredIsPostalCode)return isPostalCode;hasRequiredIsPostalCode=1,Object.defineProperty(isPostalCode,"__esModule",{value:!0}),isPostalCode.default=Es,isPostalCode.locales=void 0;var st=t(requireAssertString());function t(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}}var et=/^\d{3}$/,ms=/^\d{4}$/,ws=/^\d{5}$/,vs=/^\d{6}$/,_s={AD:/^AD\d{3}$/,AT:ms,AU:ms,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:ms,BG:ms,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:ms,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:ws,DK:ms,DO:ws,DZ:ws,EE:ws,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:ws,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:ms,ID:ws,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:et,IT:ws,JP:/^\d{3}\-\d{4}$/,KE:ws,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:ms,LV:/^LV\-\d{4}$/,LK:ws,MG:et,MX:ws,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:ws,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:ms,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:ms,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:vs,RU:vs,SA:ws,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:vs,SI:ms,SK:/^\d{3}\s?\d{2}$/,TH:ws,TN:ms,TW:/^\d{3}(\d{2})?$/,UA:ws,US:/^\d{5}(-\d{4})?$/,ZA:ms,ZM:ws};isPostalCode.locales=Object.keys(_s);function Es(Ts,Ss){if((0,st.default)(Ts),Ss in _s)return _s[Ss].test(Ts);if(Ss==="any"){for(var Rs in _s)if(_s.hasOwnProperty(Rs)){var Bs=_s[Rs];if(Bs.test(Ts))return!0}return!1}throw new Error("Invalid locale '".concat(Ss,"'"))}return isPostalCode}var _escape={exports:{}},hasRequired_escape;function require_escape(){return hasRequired_escape||(hasRequired_escape=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs),vs.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}st.exports=t.default,st.exports.default=t.default}(_escape,_escape.exports)),_escape.exports}var _unescape={exports:{}},hasRequired_unescape;function require_unescape(){return hasRequired_unescape||(hasRequired_unescape=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs){return(0,et.default)(vs),vs.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}st.exports=t.default,st.exports.default=t.default}(_unescape,_unescape.exports)),_unescape.exports}var stripLow={exports:{}},blacklist={exports:{}},hasRequiredBlacklist;function requireBlacklist(){return hasRequiredBlacklist||(hasRequiredBlacklist=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){return(0,et.default)(vs),vs.replace(new RegExp("[".concat(_s,"]+"),"g"),"")}st.exports=t.default,st.exports.default=t.default}(blacklist,blacklist.exports)),blacklist.exports}var hasRequiredStripLow;function requireStripLow(){return hasRequiredStripLow||(hasRequiredStripLow=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ws(requireAssertString()),ms=ws(requireBlacklist());function ws(_s){return _s&&_s.__esModule?_s:{default:_s}}function vs(_s,Es){(0,et.default)(_s);var Ts=Es?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,ms.default)(_s,Ts)}st.exports=t.default,st.exports.default=t.default}(stripLow,stripLow.exports)),stripLow.exports}var whitelist={exports:{}},hasRequiredWhitelist;function requireWhitelist(){return hasRequiredWhitelist||(hasRequiredWhitelist=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){return(0,et.default)(vs),vs.replace(new RegExp("[^".concat(_s,"]+"),"g"),"")}st.exports=t.default,st.exports.default=t.default}(whitelist,whitelist.exports)),whitelist.exports}var isWhitelisted={exports:{}},hasRequiredIsWhitelisted;function requireIsWhitelisted(){return hasRequiredIsWhitelisted||(hasRequiredIsWhitelisted=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=ws;var et=ms(requireAssertString());function ms(vs){return vs&&vs.__esModule?vs:{default:vs}}function ws(vs,_s){(0,et.default)(vs);for(var Es=vs.length-1;Es>=0;Es--)if(_s.indexOf(vs[Es])===-1)return!1;return!0}st.exports=t.default,st.exports.default=t.default}(isWhitelisted,isWhitelisted.exports)),isWhitelisted.exports}var normalizeEmail={exports:{}},hasRequiredNormalizeEmail;function requireNormalizeEmail(){return hasRequiredNormalizeEmail||(hasRequiredNormalizeEmail=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Rs;var et=ms(requireMerge());function ms(Bs){return Bs&&Bs.__esModule?Bs:{default:Bs}}var ws={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},vs=["icloud.com","me.com"],_s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],Es=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],Ts=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function Ss(Bs){return Bs.length>1?Bs:""}function Rs(Bs,Is){Is=(0,et.default)(Is,ws);var Ws=Bs.split("@"),Hs=Ws.pop(),Ns=Ws.join("@"),Js=[Ns,Hs];if(Js[1]=Js[1].toLowerCase(),Js[1]==="gmail.com"||Js[1]==="googlemail.com"){if(Is.gmail_remove_subaddress&&(Js[0]=Js[0].split("+")[0]),Is.gmail_remove_dots&&(Js[0]=Js[0].replace(/\.+/g,Ss)),!Js[0].length)return!1;(Is.all_lowercase||Is.gmail_lowercase)&&(Js[0]=Js[0].toLowerCase()),Js[1]=Is.gmail_convert_googlemaildotcom?"gmail.com":Js[1]}else if(vs.indexOf(Js[1])>=0){if(Is.icloud_remove_subaddress&&(Js[0]=Js[0].split("+")[0]),!Js[0].length)return!1;(Is.all_lowercase||Is.icloud_lowercase)&&(Js[0]=Js[0].toLowerCase())}else if(_s.indexOf(Js[1])>=0){if(Is.outlookdotcom_remove_subaddress&&(Js[0]=Js[0].split("+")[0]),!Js[0].length)return!1;(Is.all_lowercase||Is.outlookdotcom_lowercase)&&(Js[0]=Js[0].toLowerCase())}else if(Es.indexOf(Js[1])>=0){if(Is.yahoo_remove_subaddress){var ha=Js[0].split("-");Js[0]=ha.length>1?ha.slice(0,-1).join("-"):ha[0]}if(!Js[0].length)return!1;(Is.all_lowercase||Is.yahoo_lowercase)&&(Js[0]=Js[0].toLowerCase())}else Ts.indexOf(Js[1])>=0?((Is.all_lowercase||Is.yandex_lowercase)&&(Js[0]=Js[0].toLowerCase()),Js[1]="yandex.ru"):Is.all_lowercase&&(Js[0]=Js[0].toLowerCase());return Js.join("@")}st.exports=t.default,st.exports.default=t.default}(normalizeEmail,normalizeEmail.exports)),normalizeEmail.exports}var isSlug={exports:{}},hasRequiredIsSlug;function requireIsSlug(){return hasRequiredIsSlug||(hasRequiredIsSlug=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function vs(_s){return(0,et.default)(_s),ws.test(_s)}st.exports=t.default,st.exports.default=t.default}(isSlug,isSlug.exports)),isSlug.exports}var isLicensePlate={exports:{}},hasRequiredIsLicensePlate;function requireIsLicensePlate(){return hasRequiredIsLicensePlate||(hasRequiredIsLicensePlate=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=vs;var et=ms(requireAssertString());function ms(_s){return _s&&_s.__esModule?_s:{default:_s}}var ws={"cs-CZ":function(Es){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(Es)},"de-DE":function(Es){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|AÃ|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|BÃ|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|FÃ|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|GÃ|GP|GR|GS|GT|GÃ|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|LÃ|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|MÃ|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|NÃ|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|TÃ|ÃB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|WÃ|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BÃD|BUL|BÃR|BÃS|BÃZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DÃW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FLÃ|FOR|FRG|FRI|FRW|FTL|FÃS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HMÃ|HOG|HOH|HOL|HOM|HOR|HÃS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JÃL|KEH|KEL|KEM|KIB|KLE|KLZ|KÃN|KÃT|KÃZ|KRU|KÃN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LÃB|LOS|LRO|LSZ|LÃN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MÃB|MÃR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|ÃHR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PLÃ|PRÃ|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RÃD|RÃG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SLÃ|SLZ|SMÃ|SOB|SOG|SOK|SÃM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SÃW|SWA|SZB|TBB|TDO|TET|TIR|TÃL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WÃM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(Es)},"de-LI":function(Es){return/^FL[- ]?\d{1,5}[UZ]?$/.test(Es)},"en-IN":function(Es){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(Es)},"es-AR":function(Es){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(Es)},"fi-FI":function(Es){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(Es)},"hu-HU":function(Es){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(Es)},"pt-BR":function(Es){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(Es)},"pt-PT":function(Es){return/^([A-Z]{2}|[0-9]{2})[ -Â·]?([A-Z]{2}|[0-9]{2})[ -Â·]?([A-Z]{2}|[0-9]{2})$/.test(Es)},"sq-AL":function(Es){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(Es)},"sv-SE":function(Es){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-ZÃÃÃ ]{2,7}$)/.test(Es.trim())},"en-PK":function(Es){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(Es.trim())}};function vs(_s,Es){if((0,et.default)(_s),Es in ws)return ws[Es](_s);if(Es==="any"){for(var Ts in ws){var Ss=ws[Ts];if(Ss(_s))return!0}return!1}throw new Error("Invalid locale '".concat(Es,"'"))}st.exports=t.default,st.exports.default=t.default}(isLicensePlate,isLicensePlate.exports)),isLicensePlate.exports}var isStrongPassword={exports:{}},hasRequiredIsStrongPassword;function requireIsStrongPassword(){return hasRequiredIsStrongPassword||(hasRequiredIsStrongPassword=1,function(st,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ws;var et=ws(requireMerge()),ms=ws(requireAssertString());function ws(Hs){return Hs&&Hs.__esModule?Hs:{default:Hs}}var vs=/^[A-Z]$/,_s=/^[a-z]$/,Es=/^[0-9]$/,Ts=/^[-#!$@Â£%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,Ss={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function Rs(Hs){var Ns={};return Array.from(Hs).forEach(function(Js){var ha=Ns[Js];ha?Ns[Js]+=1:Ns[Js]=1}),Ns}function Bs(Hs){var Ns=Rs(Hs),Js={length:Hs.length,uniqueChars:Object.keys(Ns).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(Ns).forEach(function(ha){vs.test(ha)?Js.uppercaseCount+=Ns[ha]:_s.test(ha)?Js.lowercaseCount+=Ns[ha]:Es.test(ha)?Js.numberCount+=Ns[ha]:Ts.test(ha)&&(Js.symbolCount+=Ns[ha])}),Js}function Is(Hs,Ns){var Js=0;return Js+=Hs.uniqueChars*Ns.pointsPerUnique,Js+=(Hs.length-Hs.uniqueChars)*Ns.pointsPerRepeat,Hs.lowercaseCount>0&&(Js+=Ns.pointsForContainingLower),Hs.uppercaseCount>0&&(Js+=Ns.pointsForContainingUpper),Hs.numberCount>0&&(Js+=Ns.pointsForContainingNumber),Hs.symbolCount>0&&(Js+=Ns.pointsForContainingSymbol),Js}function Ws(Hs){var Ns=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,ms.default)(Hs);var Js=Bs(Hs);return Ns=(0,et.default)(Ns||{},Ss),Ns.returnScore?Is(Js,Ns):Js.length>=Ns.minLength&&Js.lowercaseCount>=Ns.minLowercase&&Js.uppercaseCount>=Ns.minUppercase&&Js.numberCount>=Ns.minNumbers&&Js.symbolCount>=Ns.minSymbols}st.exports=t.default,st.exports.default=t.default}(isStrongPassword,isStrongPassword.exports)),isStrongPassword.exports}var isVAT={},hasRequiredIsVAT;function requireIsVAT(){if(hasRequiredIsVAT)return isVAT;hasRequiredIsVAT=1;function st(Bs){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Is){return typeof Is}:function(Is){return Is&&typeof Symbol=="function"&&Is.constructor===Symbol&&Is!==Symbol.prototype?"symbol":typeof Is},st(Bs)}Object.defineProperty(isVAT,"__esModule",{value:!0}),isVAT.default=Rs,isVAT.vatMatchers=void 0;var t=vs(requireAssertString()),et=ws(requireAlgorithms());function ms(Bs){if(typeof WeakMap!="function")return null;var Is=new WeakMap,Ws=new WeakMap;return(ms=function(Ns){return Ns?Ws:Is})(Bs)}function ws(Bs,Is){if(Bs&&Bs.__esModule)return Bs;if(Bs===null||st(Bs)!="object"&&typeof Bs!="function")return{default:Bs};var Ws=ms(Is);if(Ws&&Ws.has(Bs))return Ws.get(Bs);var Hs={__proto__:null},Ns=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Js in Bs)if(Js!=="default"&&{}.hasOwnProperty.call(Bs,Js)){var ha=Ns?Object.getOwnPropertyDescriptor(Bs,Js):null;ha&&(ha.get||ha.set)?Object.defineProperty(Hs,Js,ha):Hs[Js]=Bs[Js]}return Hs.default=Bs,Ws&&Ws.set(Bs,Hs),Hs}function vs(Bs){return Bs&&Bs.__esModule?Bs:{default:Bs}}var _s=function(Is){var Ws=Is.match(/^(AU)?(\d{11})$/);if(!Ws)return!1;var Hs=[10,1,3,5,7,9,11,13,15,17,19];Is=Is.replace(/^AU/,"");for(var Ns=(parseInt(Is.slice(0,1),10)-1).toString()+Is.slice(1),Js=0,ha=0;ha<11;ha++)Js+=Hs[ha]*Ns.charAt(ha);return Js!==0&&Js%89===0},Es=function(Is){var Ws=function(Ns){var Js=Ns.pop(),ha=[5,4,3,2,7,6,5,4],pa=(11-Ns.reduce(function(za,Ya,Bc){return za+Ya*ha[Bc]},0)%11)%11;return Js===pa};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(Is)&&Ws(Is.match(/\d/g).map(function(Hs){return+Hs}))},Ts=function(Is){var Ws=Is.match(/^(PT)?(\d{9})$/);if(!Ws)return!1;var Hs=Ws[2],Ns=11-et.reverseMultiplyAndSum(Hs.split("").slice(0,8).map(function(Js){return parseInt(Js,10)}),9)%11;return Ns>9?parseInt(Hs[8],10)===0:Ns===parseInt(Hs[8],10)},Ss=isVAT.vatMatchers={AT:function(Is){return/^(AT)?U\d{8}$/.test(Is)},BE:function(Is){return/^(BE)?\d{10}$/.test(Is)},BG:function(Is){return/^(BG)?\d{9,10}$/.test(Is)},HR:function(Is){return/^(HR)?\d{11}$/.test(Is)},CY:function(Is){return/^(CY)?\w{9}$/.test(Is)},CZ:function(Is){return/^(CZ)?\d{8,10}$/.test(Is)},DK:function(Is){return/^(DK)?\d{8}$/.test(Is)},EE:function(Is){return/^(EE)?\d{9}$/.test(Is)},FI:function(Is){return/^(FI)?\d{8}$/.test(Is)},FR:function(Is){return/^(FR)?\w{2}\d{9}$/.test(Is)},DE:function(Is){return/^(DE)?\d{9}$/.test(Is)},EL:function(Is){return/^(EL)?\d{9}$/.test(Is)},HU:function(Is){return/^(HU)?\d{8}$/.test(Is)},IE:function(Is){return/^(IE)?\d{7}\w{1}(W)?$/.test(Is)},IT:function(Is){return/^(IT)?\d{11}$/.test(Is)},LV:function(Is){return/^(LV)?\d{11}$/.test(Is)},LT:function(Is){return/^(LT)?\d{9,12}$/.test(Is)},LU:function(Is){return/^(LU)?\d{8}$/.test(Is)},MT:function(Is){return/^(MT)?\d{8}$/.test(Is)},NL:function(Is){return/^(NL)?\d{9}B\d{2}$/.test(Is)},PL:function(Is){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(Is)},PT:Ts,RO:function(Is){return/^(RO)?\d{2,10}$/.test(Is)},SK:function(Is){return/^(SK)?\d{10}$/.test(Is)},SI:function(Is){return/^(SI)?\d{8}$/.test(Is)},ES:function(Is){return/^(ES)?\w\d{7}[A-Z]$/.test(Is)},SE:function(Is){return/^(SE)?\d{12}$/.test(Is)},AL:function(Is){return/^(AL)?\w{9}[A-Z]$/.test(Is)},MK:function(Is){return/^(MK)?\d{13}$/.test(Is)},AU:_s,BY:function(Is){return/^(Ð£ÐÐ )?\d{9}$/.test(Is)},CA:function(Is){return/^(CA)?\d{9}$/.test(Is)},IS:function(Is){return/^(IS)?\d{5,6}$/.test(Is)},IN:function(Is){return/^(IN)?\d{15}$/.test(Is)},ID:function(Is){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(Is)},IL:function(Is){return/^(IL)?\d{9}$/.test(Is)},KZ:function(Is){return/^(KZ)?\d{12}$/.test(Is)},NZ:function(Is){return/^(NZ)?\d{9}$/.test(Is)},NG:function(Is){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(Is)},NO:function(Is){return/^(NO)?\d{9}MVA$/.test(Is)},PH:function(Is){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(Is)},RU:function(Is){return/^(RU)?(\d{10}|\d{12})$/.test(Is)},SM:function(Is){return/^(SM)?\d{5}$/.test(Is)},SA:function(Is){return/^(SA)?\d{15}$/.test(Is)},RS:function(Is){return/^(RS)?\d{9}$/.test(Is)},CH:Es,TR:function(Is){return/^(TR)?\d{10}$/.test(Is)},UA:function(Is){return/^(UA)?\d{12}$/.test(Is)},GB:function(Is){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(Is)},UZ:function(Is){return/^(UZ)?\d{9}$/.test(Is)},AR:function(Is){return/^(AR)?\d{11}$/.test(Is)},BO:function(Is){return/^(BO)?\d{7}$/.test(Is)},BR:function(Is){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(Is)},CL:function(Is){return/^(CL)?\d{8}-\d{1}$/.test(Is)},CO:function(Is){return/^(CO)?\d{10}$/.test(Is)},CR:function(Is){return/^(CR)?\d{9,12}$/.test(Is)},EC:function(Is){return/^(EC)?\d{13}$/.test(Is)},SV:function(Is){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(Is)},GT:function(Is){return/^(GT)?\d{7}-\d{1}$/.test(Is)},HN:function(Is){return/^(HN)?$/.test(Is)},MX:function(Is){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(Is)},NI:function(Is){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(Is)},PA:function(Is){return/^(PA)?$/.test(Is)},PY:function(Is){return/^(PY)?\d{6,8}-\d{1}$/.test(Is)},PE:function(Is){return/^(PE)?\d{11}$/.test(Is)},DO:function(Is){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(Is)},UY:function(Is){return/^(UY)?\d{12}$/.test(Is)},VE:function(Is){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(Is)}};function Rs(Bs,Is){if((0,t.default)(Bs),(0,t.default)(Is),Is in Ss)return Ss[Is](Bs);throw new Error("Invalid country code: '".concat(Is,"'"))}return isVAT}var hasRequiredValidator;function requireValidator(){return hasRequiredValidator||(hasRequiredValidator=1,function(st,t){function et(xl){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tl){return typeof Tl}:function(Tl){return Tl&&typeof Symbol=="function"&&Tl.constructor===Symbol&&Tl!==Symbol.prototype?"symbol":typeof Tl},et(xl)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var ms=ll(requireToDate()),ws=ll(requireToFloat()),vs=ll(requireToInt()),_s=ll(requireToBoolean()),Es=ll(requireEquals()),Ts=ll(requireContains()),Ss=ll(requireMatches()),Rs=ll(requireIsEmail()),Bs=ll(requireIsURL()),Is=ll(requireIsMACAddress()),Ws=ll(requireIsIP()),Hs=ll(requireIsIPRange()),Ns=ll(requireIsFQDN()),Js=ll(requireIsDate()),ha=ll(requireIsTime()),pa=ll(requireIsBoolean()),za=ll(requireIsLocale()),Ya=ll(requireIsAbaRouting()),Bc=Ol(requireIsAlpha()),Qa=Ol(requireIsAlphanumeric()),tu=ll(requireIsNumeric()),eu=ll(requireIsPassportNumber()),ru=ll(requireIsPort()),cu=ll(requireIsLowercase()),ou=ll(requireIsUppercase()),Ga=ll(requireIsIMEI()),Xa=ll(requireIsAscii()),Fa=ll(requireIsFullWidth()),Zs=ll(requireIsHalfWidth()),Wa=ll(requireIsVariableWidth()),Za=ll(requireIsMultibyte()),iu=ll(requireIsSemVer()),au=ll(requireIsSurrogatePair()),nu=ll(requireIsInt()),uu=Ol(requireIsFloat()),fu=ll(requireIsDecimal()),hu=ll(requireIsHexadecimal()),Eu=ll(requireIsOctal()),$u=ll(requireIsDivisibleBy()),Ou=ll(requireIsHexColor()),gu=ll(requireIsRgbColor()),yu=ll(requireIsHSL()),Tu=ll(requireIsISRC()),du=Ol(requireIsIBAN()),wu=ll(requireIsBIC()),Ru=ll(requireIsMD5()),Ku=ll(requireIsHash()),Zu=ll(requireIsJWT()),tl=ll(requireIsJSON()),sl=ll(requireIsEmpty()),gl=ll(requireIsLength()),Fu=ll(requireIsByteLength()),Mu=ll(requireIsUUID()),Ju=ll(requireIsMongoId()),vf=ll(requireIsAfter()),wf=ll(requireIsBefore()),el=ll(requireIsIn()),il=ll(requireIsLuhnNumber()),hl=ll(requireIsCreditCard()),cl=ll(requireIsIdentityCard()),ul=ll(requireIsEAN()),yl=ll(requireIsISIN()),Cl=ll(requireIsISBN()),Bu=ll(requireIsISSN()),pu=ll(requireIsTaxID()),xu=Ol(requireIsMobilePhone()),qu=ll(requireIsEthereumAddress()),Pu=ll(requireIsCurrency()),xf=ll(requireIsBtcAddress()),nl=requireIsISO6346(),wl=ll(requireIsISO6391()),Il=ll(requireIsISO8601()),Rl=ll(requireIsRFC3339()),fl=ll(requireIsISO31661Alpha2()),Ml=ll(requireIsISO31661Alpha3()),Ul=ll(requireIsISO4217()),kl=ll(requireIsBase32()),Fl=ll(requireIsBase58()),Pl=ll(requireIsBase64()),Wl=ll(requireIsDataURI()),jl=ll(requireIsMagnetURI()),Nu=ll(requireIsMailtoURI()),mu=ll(requireIsMimeType()),_u=ll(requireIsLatLong()),Lu=Ol(requireIsPostalCode()),Vu=ll(requireLtrim()),vu=ll(requireRtrim()),Su=ll(requireTrim()),Iu=ll(require_escape()),bu=ll(require_unescape()),Wu=ll(requireStripLow()),Xu=ll(requireWhitelist()),Qu=ll(requireBlacklist()),ol=ll(requireIsWhitelisted()),vl=ll(requireNormalizeEmail()),_l=ll(requireIsSlug()),rl=ll(requireIsLicensePlate()),Al=ll(requireIsStrongPassword()),$l=ll(requireIsVAT());function Dl(xl){if(typeof WeakMap!="function")return null;var Tl=new WeakMap,dl=new WeakMap;return(Dl=function(Sl){return Sl?dl:Tl})(xl)}function Ol(xl,Tl){if(xl&&xl.__esModule)return xl;if(xl===null||et(xl)!="object"&&typeof xl!="function")return{default:xl};var dl=Dl(Tl);if(dl&&dl.has(xl))return dl.get(xl);var Bl={__proto__:null},Sl=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ja in xl)if(Ja!=="default"&&{}.hasOwnProperty.call(xl,Ja)){var su=Sl?Object.getOwnPropertyDescriptor(xl,Ja):null;su&&(su.get||su.set)?Object.defineProperty(Bl,Ja,su):Bl[Ja]=xl[Ja]}return Bl.default=xl,dl&&dl.set(xl,Bl),Bl}function ll(xl){return xl&&xl.__esModule?xl:{default:xl}}var ju="13.12.0",Ll={version:ju,toDate:ms.default,toFloat:ws.default,toInt:vs.default,toBoolean:_s.default,equals:Es.default,contains:Ts.default,matches:Ss.default,isEmail:Rs.default,isURL:Bs.default,isMACAddress:Is.default,isIP:Ws.default,isIPRange:Hs.default,isFQDN:Ns.default,isBoolean:pa.default,isIBAN:du.default,isBIC:wu.default,isAbaRouting:Ya.default,isAlpha:Bc.default,isAlphaLocales:Bc.locales,isAlphanumeric:Qa.default,isAlphanumericLocales:Qa.locales,isNumeric:tu.default,isPassportNumber:eu.default,isPort:ru.default,isLowercase:cu.default,isUppercase:ou.default,isAscii:Xa.default,isFullWidth:Fa.default,isHalfWidth:Zs.default,isVariableWidth:Wa.default,isMultibyte:Za.default,isSemVer:iu.default,isSurrogatePair:au.default,isInt:nu.default,isIMEI:Ga.default,isFloat:uu.default,isFloatLocales:uu.locales,isDecimal:fu.default,isHexadecimal:hu.default,isOctal:Eu.default,isDivisibleBy:$u.default,isHexColor:Ou.default,isRgbColor:gu.default,isHSL:yu.default,isISRC:Tu.default,isMD5:Ru.default,isHash:Ku.default,isJWT:Zu.default,isJSON:tl.default,isEmpty:sl.default,isLength:gl.default,isLocale:za.default,isByteLength:Fu.default,isUUID:Mu.default,isMongoId:Ju.default,isAfter:vf.default,isBefore:wf.default,isIn:el.default,isLuhnNumber:il.default,isCreditCard:hl.default,isIdentityCard:cl.default,isEAN:ul.default,isISIN:yl.default,isISBN:Cl.default,isISSN:Bu.default,isMobilePhone:xu.default,isMobilePhoneLocales:xu.locales,isPostalCode:Lu.default,isPostalCodeLocales:Lu.locales,isEthereumAddress:qu.default,isCurrency:Pu.default,isBtcAddress:xf.default,isISO6346:nl.isISO6346,isFreightContainerID:nl.isFreightContainerID,isISO6391:wl.default,isISO8601:Il.default,isRFC3339:Rl.default,isISO31661Alpha2:fl.default,isISO31661Alpha3:Ml.default,isISO4217:Ul.default,isBase32:kl.default,isBase58:Fl.default,isBase64:Pl.default,isDataURI:Wl.default,isMagnetURI:jl.default,isMailtoURI:Nu.default,isMimeType:mu.default,isLatLong:_u.default,ltrim:Vu.default,rtrim:vu.default,trim:Su.default,escape:Iu.default,unescape:bu.default,stripLow:Wu.default,whitelist:Xu.default,blacklist:Qu.default,isWhitelisted:ol.default,normalizeEmail:vl.default,toString,isSlug:_l.default,isStrongPassword:Al.default,isTaxID:pu.default,isDate:Js.default,isTime:ha.default,isLicensePlate:rl.default,isVAT:$l.default,ibanLocales:du.locales};t.default=Ll,st.exports=t.default,st.exports.default=t.default}(validator$2,validator$2.exports)),validator$2.exports}var validatorExports=requireValidator();const validator$1=getDefaultExportFromCjs$1(validatorExports);function isValidURL(st){return typeof st!="string"?!1:validator$1.isURL(st.toString(),{protocols:["http","https"],require_tld:!1})}function isObject$1(st){return st===Object(st)&&Object.prototype.toString.call(st)!=="[object Array]"}function isArray$1(st){return Array.isArray(st)}function isJson(st){try{return!!JSON.parse(st)}catch{return!1}}function isBoolean$1(st){return typeof st=="boolean"}function isBigNumber(st){return!!st&&(st instanceof BigNumber||st.constructor&&st.constructor.name==="BigNumber")}function isString$1(st){return typeof st=="string"||!!st&&st.constructor&&st.constructor.name==="String"}function isFunction$1(st){return typeof st=="function"}function isHex$1(st){return typeof st=="string"&&!isNaN(parseInt(st,16))&&/^(0x|)[a-fA-F0-9]+$/.test(st)}function isInteger(st){return st===null?!1:Number.isInteger(Number(st))}function hasProperty(st,t){return Object.prototype.hasOwnProperty.call(st,t)}function hasProperties(st,...t){return t.length&&!t.map(et=>hasProperty(st,et)).includes(!1)}function mapEvent(st){const t={block:st.block_number,timestamp:st.block_timestamp,contract:st.contract_address,name:st.event_name,transaction:st.transaction_id,result:st.result,resourceNode:st.resource_Node||(st._unconfirmed?"fullNode":"solidityNode")};return st._unconfirmed&&(t.unconfirmed=st._unconfirmed),st._fingerprint&&(t.fingerprint=st._fingerprint),t}function parseEvent(st,{inputs:t}){if(!st.result)return st;if(isObject$1(st.result))for(let et=0;et<t.length;et++){const ms=t[et];ms.type=="address"&&ms.name in st.result&&(st.result[ms.name]=ADDRESS_PREFIX+st.result[ms.name].substr(2).toLowerCase())}else isArray$1(st.result)&&(st.result=st.result.reduce((et,ms,ws)=>{const{name:vs,type:_s}=t[ws];return _s=="address"&&(ms=ADDRESS_PREFIX+ms.substr(2).toLowerCase()),et[vs]=ms,et},{}));return st}function padLeft(st,t,et){let ms=st.toString();for(;ms.length<et;)ms=t+ms;return ms}function isNotNullOrUndefined(st){return st!==null&&typeof st<"u"}async function sleep(st=1e3){return new Promise(t=>setTimeout(t,st))}const validations=Object.freeze(Object.defineProperty({__proto__:null,hasProperties,hasProperty,isArray:isArray$1,isBigNumber,isBoolean:isBoolean$1,isFunction:isFunction$1,isHex:isHex$1,isInteger,isJson,isNotNullOrUndefined,isObject:isObject$1,isString:isString$1,isValidURL,mapEvent,padLeft,parseEvent,sleep},Symbol.toStringTag,{value:"Module"})),version$5="6.13.5";function checkType(st,t,et){const ms=t.split("|").map(vs=>vs.trim());for(let vs=0;vs<ms.length;vs++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof st===t)return}const ws=new Error(`invalid value for type ${t}`);throw ws.code="INVALID_ARGUMENT",ws.argument=`value.${et}`,ws.value=st,ws}async function resolveProperties(st){const t=Object.keys(st);return(await Promise.all(t.map(ms=>Promise.resolve(st[ms])))).reduce((ms,ws,vs)=>(ms[t[vs]]=ws,ms),{})}function defineProperties(st,t,et){for(let ms in t){let ws=t[ms];const vs=et?et[ms]:null;vs&&checkType(ws,vs,ms),Object.defineProperty(st,ms,{enumerable:!0,value:ws,writable:!1})}}function stringify$1(st){if(st==null)return"null";if(Array.isArray(st))return"[ "+st.map(stringify$1).join(", ")+" ]";if(st instanceof Uint8Array){const t="0123456789abcdef";let et="0x";for(let ms=0;ms<st.length;ms++)et+=t[st[ms]>>4],et+=t[st[ms]&15];return et}if(typeof st=="object"&&typeof st.toJSON=="function")return stringify$1(st.toJSON());switch(typeof st){case"boolean":case"symbol":return st.toString();case"bigint":return BigInt(st).toString();case"number":return st.toString();case"string":return JSON.stringify(st);case"object":{const t=Object.keys(st);return t.sort(),"{ "+t.map(et=>`${stringify$1(et)}: ${stringify$1(st[et])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function isError(st,t){return st&&st.code===t}function makeError(st,t,et){let ms=st;{const vs=[];if(et){if("message"in et||"code"in et||"name"in et)throw new Error(`value will overwrite populated values: ${stringify$1(et)}`);for(const _s in et){if(_s==="shortMessage")continue;const Es=et[_s];vs.push(_s+"="+stringify$1(Es))}}vs.push(`code=${t}`),vs.push(`version=${version$5}`),vs.length&&(st+=" ("+vs.join(", ")+")")}let ws;switch(t){case"INVALID_ARGUMENT":ws=new TypeError(st);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":ws=new RangeError(st);break;default:ws=new Error(st)}return defineProperties(ws,{code:t}),et&&Object.assign(ws,et),ws.shortMessage==null&&defineProperties(ws,{shortMessage:ms}),ws}function assert(st,t,et,ms){if(!st)throw makeError(t,et,ms)}function assertArgument(st,t,et,ms){assert(st,t,"INVALID_ARGUMENT",{argument:et,value:ms})}function assertArgumentCount(st,t,et){et==null&&(et=""),et&&(et=": "+et),assert(st>=t,"missing argument"+et,"MISSING_ARGUMENT",{count:st,expectedCount:t}),assert(st<=t,"too many arguments"+et,"UNEXPECTED_ARGUMENT",{count:st,expectedCount:t})}const _normalizeForms=["NFD","NFC","NFKD","NFKC"].reduce((st,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"Ã©".normalize("NFD")!=="eÌ")throw new Error("broken");st.push(t)}catch{}return st},[]);function assertNormalize(st){assert(_normalizeForms.indexOf(st)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:st}})}function assertPrivate(st,t,et){if(et==null&&(et=""),st!==t){let ms=et,ws="new";et&&(ms+=".",ws+=" "+et),assert(!1,`private constructor; use ${ms}from* methods`,"UNSUPPORTED_OPERATION",{operation:ws})}}function _getBytes(st,t,et){if(st instanceof Uint8Array)return et?new Uint8Array(st):st;if(typeof st=="string"&&st.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const ms=new Uint8Array((st.length-2)/2);let ws=2;for(let vs=0;vs<ms.length;vs++)ms[vs]=parseInt(st.substring(ws,ws+2),16),ws+=2;return ms}assertArgument(!1,"invalid BytesLike value",t||"value",st)}function getBytes(st,t){return _getBytes(st,t,!1)}function getBytesCopy(st,t){return _getBytes(st,t,!0)}function isHexString(st,t){return!(typeof st!="string"||!st.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&st.length!==2+2*t||t===!0&&st.length%2!==0)}function isBytesLike(st){return isHexString(st,!0)||st instanceof Uint8Array}const HexCharacters="0123456789abcdef";function hexlify(st){const t=getBytes(st);let et="0x";for(let ms=0;ms<t.length;ms++){const ws=t[ms];et+=HexCharacters[(ws&240)>>4]+HexCharacters[ws&15]}return et}function concat$1(st){return"0x"+st.map(t=>hexlify(t).substring(2)).join("")}function dataLength(st){return isHexString(st,!0)?(st.length-2)/2:getBytes(st).length}function dataSlice(st,t,et){const ms=getBytes(st);return et!=null&&et>ms.length&&assert(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:ms,length:ms.length,offset:et}),hexlify(ms.slice(t??0,et??ms.length))}function zeroPad(st,t,et){const ms=getBytes(st);assert(t>=ms.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(ms),length:t,offset:t+1});const ws=new Uint8Array(t);return ws.fill(0),ws.set(ms,t-ms.length),hexlify(ws)}function zeroPadValue(st,t){return zeroPad(st,t)}const BN_0$7=BigInt(0),BN_1$4=BigInt(1),maxValue=9007199254740991;function fromTwos(st,t){const et=getUint(st,"value"),ms=BigInt(getNumber(t,"width"));if(assert(et>>ms===BN_0$7,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:st}),et>>ms-BN_1$4){const ws=(BN_1$4<<ms)-BN_1$4;return-((~et&ws)+BN_1$4)}return et}function toTwos(st,t){let et=getBigInt(st,"value");const ms=BigInt(getNumber(t,"width")),ws=BN_1$4<<ms-BN_1$4;if(et<BN_0$7){et=-et,assert(et<=ws,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:st});const vs=(BN_1$4<<ms)-BN_1$4;return(~et&vs)+BN_1$4}else assert(et<ws,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:st});return et}function mask(st,t){const et=getUint(st,"value"),ms=BigInt(getNumber(t,"bits"));return et&(BN_1$4<<ms)-BN_1$4}function getBigInt(st,t){switch(typeof st){case"bigint":return st;case"number":return assertArgument(Number.isInteger(st),"underflow",t||"value",st),assertArgument(st>=-maxValue&&st<=maxValue,"overflow",t||"value",st),BigInt(st);case"string":try{if(st==="")throw new Error("empty string");return st[0]==="-"&&st[1]!=="-"?-BigInt(st.substring(1)):BigInt(st)}catch(et){assertArgument(!1,`invalid BigNumberish string: ${et.message}`,t||"value",st)}}assertArgument(!1,"invalid BigNumberish value",t||"value",st)}function getUint(st,t){const et=getBigInt(st,t);return assert(et>=BN_0$7,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:st}),et}const Nibbles$1="0123456789abcdef";function toBigInt(st){if(st instanceof Uint8Array){let t="0x0";for(const et of st)t+=Nibbles$1[et>>4],t+=Nibbles$1[et&15];return BigInt(t)}return getBigInt(st)}function getNumber(st,t){switch(typeof st){case"bigint":return assertArgument(st>=-maxValue&&st<=maxValue,"overflow",t||"value",st),Number(st);case"number":return assertArgument(Number.isInteger(st),"underflow",t||"value",st),assertArgument(st>=-maxValue&&st<=maxValue,"overflow",t||"value",st),st;case"string":try{if(st==="")throw new Error("empty string");return getNumber(BigInt(st),t)}catch(et){assertArgument(!1,`invalid numeric string: ${et.message}`,t||"value",st)}}assertArgument(!1,"invalid numeric value",t||"value",st)}function toNumber(st){return getNumber(toBigInt(st))}function toBeHex(st,t){let ms=getUint(st,"value").toString(16);if(t==null)ms.length%2&&(ms="0"+ms);else{const ws=getNumber(t,"width");for(assert(ws*2>=ms.length,`value exceeds width (${ws} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:st});ms.length<ws*2;)ms="0"+ms}return"0x"+ms}function toBeArray(st){const t=getUint(st,"value");if(t===BN_0$7)return new Uint8Array([]);let et=t.toString(16);et.length%2&&(et="0"+et);const ms=new Uint8Array(et.length/2);for(let ws=0;ws<ms.length;ws++){const vs=ws*2;ms[ws]=parseInt(et.substring(vs,vs+2),16)}return ms}function toQuantity(st){let t=hexlify(isBytesLike(st)?st:toBeArray(st)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const Alphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Lookup=null;function getAlpha(st){if(Lookup==null){Lookup={};for(let et=0;et<Alphabet.length;et++)Lookup[Alphabet[et]]=BigInt(et)}const t=Lookup[st];return assertArgument(t!=null,"invalid base58 value","letter",st),t}const BN_0$6=BigInt(0),BN_58=BigInt(58);function encodeBase58(st){const t=getBytes(st);let et=toBigInt(t),ms="";for(;et;)ms=Alphabet[Number(et%BN_58)]+ms,et/=BN_58;for(let ws=0;ws<t.length&&!t[ws];ws++)ms=Alphabet[0]+ms;return ms}function decodeBase58(st){let t=BN_0$6;for(let et=0;et<st.length;et++)t*=BN_58,t+=getAlpha(st[et]);return t}function errorFunc(st,t,et,ms,ws){assertArgument(!1,`invalid codepoint at offset ${t}; ${st}`,"bytes",et)}function ignoreFunc(st,t,et,ms,ws){if(st==="BAD_PREFIX"||st==="UNEXPECTED_CONTINUE"){let vs=0;for(let _s=t+1;_s<et.length&&et[_s]>>6===2;_s++)vs++;return vs}return st==="OVERRUN"?et.length-t-1:0}function replaceFunc(st,t,et,ms,ws){return st==="OVERLONG"?(assertArgument(typeof ws=="number","invalid bad code point for replacement","badCodepoint",ws),ms.push(ws),0):(ms.push(65533),ignoreFunc(st,t,et))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(st,t){t==null&&(t=Utf8ErrorFuncs.error);const et=getBytes(st,"bytes"),ms=[];let ws=0;for(;ws<et.length;){const vs=et[ws++];if(vs>>7===0){ms.push(vs);continue}let _s=null,Es=null;if((vs&224)===192)_s=1,Es=127;else if((vs&240)===224)_s=2,Es=2047;else if((vs&248)===240)_s=3,Es=65535;else{(vs&192)===128?ws+=t("UNEXPECTED_CONTINUE",ws-1,et,ms):ws+=t("BAD_PREFIX",ws-1,et,ms);continue}if(ws-1+_s>=et.length){ws+=t("OVERRUN",ws-1,et,ms);continue}let Ts=vs&(1<<8-_s-1)-1;for(let Ss=0;Ss<_s;Ss++){let Rs=et[ws];if((Rs&192)!=128){ws+=t("MISSING_CONTINUE",ws,et,ms),Ts=null;break}Ts=Ts<<6|Rs&63,ws++}if(Ts!==null){if(Ts>1114111){ws+=t("OUT_OF_RANGE",ws-1-_s,et,ms,Ts);continue}if(Ts>=55296&&Ts<=57343){ws+=t("UTF16_SURROGATE",ws-1-_s,et,ms,Ts);continue}if(Ts<=Es){ws+=t("OVERLONG",ws-1-_s,et,ms,Ts);continue}ms.push(Ts)}}return ms}function toUtf8Bytes(st,t){assertArgument(typeof st=="string","invalid string value","str",st),t!=null&&(assertNormalize(t),st=st.normalize(t));let et=[];for(let ms=0;ms<st.length;ms++){const ws=st.charCodeAt(ms);if(ws<128)et.push(ws);else if(ws<2048)et.push(ws>>6|192),et.push(ws&63|128);else if((ws&64512)==55296){ms++;const vs=st.charCodeAt(ms);assertArgument(ms<st.length&&(vs&64512)===56320,"invalid surrogate pair","str",st);const _s=65536+((ws&1023)<<10)+(vs&1023);et.push(_s>>18|240),et.push(_s>>12&63|128),et.push(_s>>6&63|128),et.push(_s&63|128)}else et.push(ws>>12|224),et.push(ws>>6&63|128),et.push(ws&63|128)}return new Uint8Array(et)}function _toUtf8String(st){return st.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function toUtf8String(st,t){return _toUtf8String(getUtf8CodePoints(st,t))}function hexlifyByte(st){let t=st.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function unarrayifyInteger(st,t,et){let ms=0;for(let ws=0;ws<et;ws++)ms=ms*256+st[t+ws];return ms}function _decodeChildren(st,t,et,ms){const ws=[];for(;et<t+1+ms;){const vs=_decode(st,et);ws.push(vs.result),et+=vs.consumed,assert(et<=t+1+ms,"child data too short","BUFFER_OVERRUN",{buffer:st,length:ms,offset:t})}return{consumed:1+ms,result:ws}}function _decode(st,t){assert(st.length!==0,"data too short","BUFFER_OVERRUN",{buffer:st,length:0,offset:1});const et=ms=>{assert(ms<=st.length,"data short segment too short","BUFFER_OVERRUN",{buffer:st,length:st.length,offset:ms})};if(st[t]>=248){const ms=st[t]-247;et(t+1+ms);const ws=unarrayifyInteger(st,t+1,ms);return et(t+1+ms+ws),_decodeChildren(st,t,t+1+ms,ms+ws)}else if(st[t]>=192){const ms=st[t]-192;return et(t+1+ms),_decodeChildren(st,t,t+1,ms)}else if(st[t]>=184){const ms=st[t]-183;et(t+1+ms);const ws=unarrayifyInteger(st,t+1,ms);et(t+1+ms+ws);const vs=hexlify(st.slice(t+1+ms,t+1+ms+ws));return{consumed:1+ms+ws,result:vs}}else if(st[t]>=128){const ms=st[t]-128;et(t+1+ms);const ws=hexlify(st.slice(t+1,t+1+ms));return{consumed:1+ms,result:ws}}return{consumed:1,result:hexlifyByte(st[t])}}function decodeRlp(st){const t=getBytes(st,"data"),et=_decode(t,0);return assertArgument(et.consumed===t.length,"unexpected junk after rlp payload","data",st),et.result}function arrayifyInteger(st){const t=[];for(;st;)t.unshift(st&255),st>>=8;return t}function _encode(st){if(Array.isArray(st)){let ms=[];if(st.forEach(function(vs){ms=ms.concat(_encode(vs))}),ms.length<=55)return ms.unshift(192+ms.length),ms;const ws=arrayifyInteger(ms.length);return ws.unshift(247+ws.length),ws.concat(ms)}const t=Array.prototype.slice.call(getBytes(st,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const et=arrayifyInteger(t.length);return et.unshift(183+et.length),et.concat(t)}const nibbles="0123456789abcdef";function encodeRlp(st){let t="0x";for(const et of _encode(st))t+=nibbles[et>>4],t+=nibbles[et&15];return t}function uuidV4(st){const t=getBytes(st,"randomBytes");t[6]=t[6]&15|64,t[8]=t[8]&63|128;const et=hexlify(t);return[et.substring(2,10),et.substring(10,14),et.substring(14,18),et.substring(18,22),et.substring(22,34)].join("-")}const WordSize=32,Padding=new Uint8Array(WordSize),passProperties=["then"],_guard$5={},resultNames=new WeakMap;function getNames(st){return resultNames.get(st)}function setNames(st,t){resultNames.set(st,t)}function throwError(st,t){const et=new Error(`deferred error during ABI decoding triggered accessing ${st}`);throw et.error=t,et}function toObject(st,t,et){return st.indexOf(null)>=0?t.map((ms,ws)=>ms instanceof Result?toObject(getNames(ms),ms,et):ms):st.reduce((ms,ws,vs)=>{let _s=t.getValue(ws);return ws in ms||(et&&_s instanceof Result&&(_s=toObject(getNames(_s),_s,et)),ms[ws]=_s),ms},{})}class Result extends Array{#e;constructor(...t){const et=t[0];let ms=t[1],ws=(t[2]||[]).slice(),vs=!0;et!==_guard$5&&(ms=t,ws=[],vs=!1),super(ms.length),ms.forEach((Ts,Ss)=>{this[Ss]=Ts});const _s=ws.reduce((Ts,Ss)=>(typeof Ss=="string"&&Ts.set(Ss,(Ts.get(Ss)||0)+1),Ts),new Map);if(setNames(this,Object.freeze(ms.map((Ts,Ss)=>{const Rs=ws[Ss];return Rs!=null&&_s.get(Rs)===1?Rs:null}))),this.#e=[],this.#e==null&&this.#e,!vs)return;Object.freeze(this);const Es=new Proxy(this,{get:(Ts,Ss,Rs)=>{if(typeof Ss=="string"){if(Ss.match(/^[0-9]+$/)){const Is=getNumber(Ss,"%index");if(Is<0||Is>=this.length)throw new RangeError("out of result range");const Ws=Ts[Is];return Ws instanceof Error&&throwError(`index ${Is}`,Ws),Ws}if(passProperties.indexOf(Ss)>=0)return Reflect.get(Ts,Ss,Rs);const Bs=Ts[Ss];if(Bs instanceof Function)return function(...Is){return Bs.apply(this===Rs?Ts:this,Is)};if(!(Ss in Ts))return Ts.getValue.apply(this===Rs?Ts:this,[Ss])}return Reflect.get(Ts,Ss,Rs)}});return setNames(Es,getNames(this)),Es}toArray(t){const et=[];return this.forEach((ms,ws)=>{ms instanceof Error&&throwError(`index ${ws}`,ms),t&&ms instanceof Result&&(ms=ms.toArray(t)),et.push(ms)}),et}toObject(t){const et=getNames(this);return et.reduce((ms,ws,vs)=>(assert(ws!=null,`value at index ${vs} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),toObject(et,this,t)),{})}slice(t,et){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),et==null&&(et=this.length),et<0&&(et+=this.length,et<0&&(et=0)),et>this.length&&(et=this.length);const ms=getNames(this),ws=[],vs=[];for(let _s=t;_s<et;_s++)ws.push(this[_s]),vs.push(ms[_s]);return new Result(_guard$5,ws,vs)}filter(t,et){const ms=getNames(this),ws=[],vs=[];for(let _s=0;_s<this.length;_s++){const Es=this[_s];Es instanceof Error&&throwError(`index ${_s}`,Es),t.call(et,Es,_s,this)&&(ws.push(Es),vs.push(ms[_s]))}return new Result(_guard$5,ws,vs)}map(t,et){const ms=[];for(let ws=0;ws<this.length;ws++){const vs=this[ws];vs instanceof Error&&throwError(`index ${ws}`,vs),ms.push(t.call(et,vs,ws,this))}return ms}getValue(t){const et=getNames(this).indexOf(t);if(et===-1)return;const ms=this[et];return ms instanceof Error&&throwError(`property ${JSON.stringify(t)}`,ms.error),ms}static fromItems(t,et){return new Result(_guard$5,t,et)}}function getValue(st){let t=toBeArray(st);return assert(t.length<=WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:WordSize,offset:t.length}),t.length!==WordSize&&(t=getBytesCopy(concat$1([Padding.slice(t.length%WordSize),t]))),t}class Coder{name;type;localName;dynamic;constructor(t,et,ms,ws){defineProperties(this,{name:t,type:et,localName:ms,dynamic:ws},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,et){assertArgument(!1,t,this.localName,et)}}class Writer{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return concat$1(this.#e)}get length(){return this.#t}#r(t){return this.#e.push(t),this.#t+=t.length,t.length}appendWriter(t){return this.#r(getBytesCopy(t.data))}writeBytes(t){let et=getBytesCopy(t);const ms=et.length%WordSize;return ms&&(et=getBytesCopy(concat$1([et,Padding.slice(ms)]))),this.#r(et)}writeValue(t){return this.#r(getValue(t))}writeUpdatableValue(){const t=this.#e.length;return this.#e.push(Padding),this.#t+=WordSize,et=>{this.#e[t]=getValue(et)}}}class Reader{allowLoose;#e;#t;#r;#n;#i;constructor(t,et,ms){defineProperties(this,{allowLoose:!!et}),this.#e=getBytesCopy(t),this.#r=0,this.#n=null,this.#i=ms??1024,this.#t=0}get data(){return hexlify(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(t){if(this.#n)return this.#n.#o(t);this.#r+=t,assert(this.#i<1||this.#r<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy(this.#e),offset:this.#t,length:t,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#a(t,et,ms){let ws=Math.ceil(et/WordSize)*WordSize;return this.#t+ws>this.#e.length&&(this.allowLoose&&ms&&this.#t+et<=this.#e.length?ws=et:assert(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy(this.#e),length:this.#e.length,offset:this.#t+ws})),this.#e.slice(this.#t,this.#t+ws)}subReader(t){const et=new Reader(this.#e.slice(this.#t+t),this.allowLoose,this.#i);return et.#n=this,et}readBytes(t,et){let ms=this.#a(0,t,!!et);return this.#o(t),this.#t+=ms.length,ms.slice(0,t)}readValue(){return toBigInt(this.readBytes(WordSize))}readIndex(){return toNumber(this.readBytes(WordSize))}}function number$1(st){if(!Number.isSafeInteger(st)||st<0)throw new Error(`Wrong positive integer: ${st}`)}function bytes$2(st,...t){if(!(st instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(st.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${st.length}`)}function hash$3(st){if(typeof st!="function"||typeof st.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(st.outputLen),number$1(st.blockLen)}function exists$1(st,t=!0){if(st.destroyed)throw new Error("Hash instance has been destroyed");if(t&&st.finished)throw new Error("Hash#digest() has already been called")}function output$1(st,t){bytes$2(st);const et=t.outputLen;if(st.length<et)throw new Error(`digestInto() expects output buffer of length at least ${et}`)}const crypto$7=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=st=>st instanceof Uint8Array,u32$1=st=>new Uint32Array(st.buffer,st.byteOffset,Math.floor(st.byteLength/4)),createView$2=st=>new DataView(st.buffer,st.byteOffset,st.byteLength),rotr$2=(st,t)=>st<<32-t|st>>>t,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");const nextTick=async()=>{};async function asyncLoop(st,t,et){let ms=Date.now();for(let ws=0;ws<st;ws++){et(ws);const vs=Date.now()-ms;vs>=0&&vs<t||(await nextTick(),ms+=vs)}}function utf8ToBytes$4(st){if(typeof st!="string")throw new Error(`utf8ToBytes expected string, got ${typeof st}`);return new Uint8Array(new TextEncoder().encode(st))}function toBytes$3(st){if(typeof st=="string"&&(st=utf8ToBytes$4(st)),!u8a$1(st))throw new Error(`expected Uint8Array, got ${typeof st}`);return st}function concatBytes$4(...st){const t=new Uint8Array(st.reduce((ms,ws)=>ms+ws.length,0));let et=0;return st.forEach(ms=>{if(!u8a$1(ms))throw new Error("Uint8Array expected");t.set(ms,et),et+=ms.length}),t}let Hash$2=class{clone(){return this._cloneInto()}};const toStr={}.toString;function checkOpts(st,t){if(t!==void 0&&toStr.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(st,t)}function wrapConstructor$1(st){const t=ms=>st().update(toBytes$3(ms)).digest(),et=st();return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=()=>st(),t}function randomBytes$4(st=32){if(crypto$7&&typeof crypto$7.getRandomValues=="function")return crypto$7.getRandomValues(new Uint8Array(st));throw new Error("crypto.getRandomValues must be defined")}let HMAC$1=class extends Hash$2{constructor(t,et){super(),this.finished=!1,this.destroyed=!1,hash$3(t);const ms=toBytes$3(et);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ws=this.blockLen,vs=new Uint8Array(ws);vs.set(ms.length>ws?t.create().update(ms).digest():ms);for(let _s=0;_s<vs.length;_s++)vs[_s]^=54;this.iHash.update(vs),this.oHash=t.create();for(let _s=0;_s<vs.length;_s++)vs[_s]^=106;this.oHash.update(vs),vs.fill(0)}update(t){return exists$1(this),this.iHash.update(t),this}digestInto(t){exists$1(this),bytes$2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:et,iHash:ms,finished:ws,destroyed:vs,blockLen:_s,outputLen:Es}=this;return t=t,t.finished=ws,t.destroyed=vs,t.blockLen=_s,t.outputLen=Es,t.oHash=et._cloneInto(t.oHash),t.iHash=ms._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$4=(st,t,et)=>new HMAC$1(st,t).update(et).digest();hmac$4.create=(st,t)=>new HMAC$1(st,t);function pbkdf2Init(st,t,et,ms){hash$3(st);const ws=checkOpts({dkLen:32,asyncTick:10},ms),{c:vs,dkLen:_s,asyncTick:Es}=ws;if(number$1(vs),number$1(_s),number$1(Es),vs<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const Ts=toBytes$3(t),Ss=toBytes$3(et),Rs=new Uint8Array(_s),Bs=hmac$4.create(st,Ts),Is=Bs._cloneInto().update(Ss);return{c:vs,dkLen:_s,asyncTick:Es,DK:Rs,PRF:Bs,PRFSalt:Is}}function pbkdf2Output(st,t,et,ms,ws){return st.destroy(),t.destroy(),ms&&ms.destroy(),ws.fill(0),et}function pbkdf2$3(st,t,et,ms){const{c:ws,dkLen:vs,DK:_s,PRF:Es,PRFSalt:Ts}=pbkdf2Init(st,t,et,ms);let Ss;const Rs=new Uint8Array(4),Bs=createView$2(Rs),Is=new Uint8Array(Es.outputLen);for(let Ws=1,Hs=0;Hs<vs;Ws++,Hs+=Es.outputLen){const Ns=_s.subarray(Hs,Hs+Es.outputLen);Bs.setInt32(0,Ws,!1),(Ss=Ts._cloneInto(Ss)).update(Rs).digestInto(Is),Ns.set(Is.subarray(0,Ns.length));for(let Js=1;Js<ws;Js++){Es._cloneInto(Ss).update(Is).digestInto(Is);for(let ha=0;ha<Ns.length;ha++)Ns[ha]^=Is[ha]}}return pbkdf2Output(Es,Ts,_s,Ss,Is)}function setBigUint64$1(st,t,et,ms){if(typeof st.setBigUint64=="function")return st.setBigUint64(t,et,ms);const ws=BigInt(32),vs=BigInt(4294967295),_s=Number(et>>ws&vs),Es=Number(et&vs),Ts=ms?4:0,Ss=ms?0:4;st.setUint32(t+Ts,_s,ms),st.setUint32(t+Ss,Es,ms)}class SHA2 extends Hash$2{constructor(t,et,ms,ws){super(),this.blockLen=t,this.outputLen=et,this.padOffset=ms,this.isLE=ws,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=createView$2(this.buffer)}update(t){exists$1(this);const{view:et,buffer:ms,blockLen:ws}=this;t=toBytes$3(t);const vs=t.length;for(let _s=0;_s<vs;){const Es=Math.min(ws-this.pos,vs-_s);if(Es===ws){const Ts=createView$2(t);for(;ws<=vs-_s;_s+=ws)this.process(Ts,_s);continue}ms.set(t.subarray(_s,_s+Es),this.pos),this.pos+=Es,_s+=Es,this.pos===ws&&(this.process(et,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){exists$1(this),output$1(t,this),this.finished=!0;const{buffer:et,view:ms,blockLen:ws,isLE:vs}=this;let{pos:_s}=this;et[_s++]=128,this.buffer.subarray(_s).fill(0),this.padOffset>ws-_s&&(this.process(ms,0),_s=0);for(let Bs=_s;Bs<ws;Bs++)et[Bs]=0;setBigUint64$1(ms,ws-8,BigInt(this.length*8),vs),this.process(ms,0);const Es=createView$2(t),Ts=this.outputLen;if(Ts%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Ss=Ts/4,Rs=this.get();if(Ss>Rs.length)throw new Error("_sha2: outputLen bigger than state");for(let Bs=0;Bs<Ss;Bs++)Es.setUint32(4*Bs,Rs[Bs],vs)}digest(){const{buffer:t,outputLen:et}=this;this.digestInto(t);const ms=t.slice(0,et);return this.destroy(),ms}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:et,buffer:ms,length:ws,finished:vs,destroyed:_s,pos:Es}=this;return t.length=ws,t.pos=Es,t.finished=vs,t.destroyed=_s,ws%et&&t.buffer.set(ms),t}}const Chi$1=(st,t,et)=>st&t^~st&et,Maj$1=(st,t,et)=>st&t^st&et^t&et,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$2=class extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:t,B:et,C:ms,D:ws,E:vs,F:_s,G:Es,H:Ts}=this;return[t,et,ms,ws,vs,_s,Es,Ts]}set(t,et,ms,ws,vs,_s,Es,Ts){this.A=t|0,this.B=et|0,this.C=ms|0,this.D=ws|0,this.E=vs|0,this.F=_s|0,this.G=Es|0,this.H=Ts|0}process(t,et){for(let Bs=0;Bs<16;Bs++,et+=4)SHA256_W$1[Bs]=t.getUint32(et,!1);for(let Bs=16;Bs<64;Bs++){const Is=SHA256_W$1[Bs-15],Ws=SHA256_W$1[Bs-2],Hs=rotr$2(Is,7)^rotr$2(Is,18)^Is>>>3,Ns=rotr$2(Ws,17)^rotr$2(Ws,19)^Ws>>>10;SHA256_W$1[Bs]=Ns+SHA256_W$1[Bs-7]+Hs+SHA256_W$1[Bs-16]|0}let{A:ms,B:ws,C:vs,D:_s,E:Es,F:Ts,G:Ss,H:Rs}=this;for(let Bs=0;Bs<64;Bs++){const Is=rotr$2(Es,6)^rotr$2(Es,11)^rotr$2(Es,25),Ws=Rs+Is+Chi$1(Es,Ts,Ss)+SHA256_K$1[Bs]+SHA256_W$1[Bs]|0,Ns=(rotr$2(ms,2)^rotr$2(ms,13)^rotr$2(ms,22))+Maj$1(ms,ws,vs)|0;Rs=Ss,Ss=Ts,Ts=Es,Es=_s+Ws|0,_s=vs,vs=ws,ws=ms,ms=Ws+Ns|0}ms=ms+this.A|0,ws=ws+this.B|0,vs=vs+this.C|0,_s=_s+this.D|0,Es=Es+this.E|0,Ts=Ts+this.F|0,Ss=Ss+this.G|0,Rs=Rs+this.H|0,this.set(ms,ws,vs,_s,Es,Ts,Ss,Rs)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$8=wrapConstructor$1(()=>new SHA256$2),U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(st,t=!1){return t?{h:Number(st&U32_MASK64$1),l:Number(st>>_32n$1&U32_MASK64$1)}:{h:Number(st>>_32n$1&U32_MASK64$1)|0,l:Number(st&U32_MASK64$1)|0}}function split$1(st,t=!1){let et=new Uint32Array(st.length),ms=new Uint32Array(st.length);for(let ws=0;ws<st.length;ws++){const{h:vs,l:_s}=fromBig$1(st[ws],t);[et[ws],ms[ws]]=[vs,_s]}return[et,ms]}const toBig=(st,t)=>BigInt(st>>>0)<<_32n$1|BigInt(t>>>0),shrSH=(st,t,et)=>st>>>et,shrSL=(st,t,et)=>st<<32-et|t>>>et,rotrSH=(st,t,et)=>st>>>et|t<<32-et,rotrSL=(st,t,et)=>st<<32-et|t>>>et,rotrBH=(st,t,et)=>st<<64-et|t>>>et-32,rotrBL=(st,t,et)=>st>>>et-32|t<<64-et,rotr32H=(st,t)=>t,rotr32L=(st,t)=>st,rotlSH$1=(st,t,et)=>st<<et|t>>>32-et,rotlSL$1=(st,t,et)=>t<<et|st>>>32-et,rotlBH$1=(st,t,et)=>t<<et-32|st>>>64-et,rotlBL$1=(st,t,et)=>st<<et-32|t>>>64-et;function add(st,t,et,ms){const ws=(t>>>0)+(ms>>>0);return{h:st+et+(ws/2**32|0)|0,l:ws|0}}const add3L=(st,t,et)=>(st>>>0)+(t>>>0)+(et>>>0),add3H=(st,t,et,ms)=>t+et+ms+(st/2**32|0)|0,add4L=(st,t,et,ms)=>(st>>>0)+(t>>>0)+(et>>>0)+(ms>>>0),add4H=(st,t,et,ms,ws)=>t+et+ms+ws+(st/2**32|0)|0,add5L=(st,t,et,ms,ws)=>(st>>>0)+(t>>>0)+(et>>>0)+(ms>>>0)+(ws>>>0),add5H=(st,t,et,ms,ws,vs)=>t+et+ms+ws+vs+(st/2**32|0)|0,u64={fromBig:fromBig$1,split:split$1,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(st=>BigInt(st))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:et,Bh:ms,Bl:ws,Ch:vs,Cl:_s,Dh:Es,Dl:Ts,Eh:Ss,El:Rs,Fh:Bs,Fl:Is,Gh:Ws,Gl:Hs,Hh:Ns,Hl:Js}=this;return[t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js]}set(t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){this.Ah=t|0,this.Al=et|0,this.Bh=ms|0,this.Bl=ws|0,this.Ch=vs|0,this.Cl=_s|0,this.Dh=Es|0,this.Dl=Ts|0,this.Eh=Ss|0,this.El=Rs|0,this.Fh=Bs|0,this.Fl=Is|0,this.Gh=Ws|0,this.Gl=Hs|0,this.Hh=Ns|0,this.Hl=Js|0}process(t,et){for(let za=0;za<16;za++,et+=4)SHA512_W_H[za]=t.getUint32(et),SHA512_W_L[za]=t.getUint32(et+=4);for(let za=16;za<80;za++){const Ya=SHA512_W_H[za-15]|0,Bc=SHA512_W_L[za-15]|0,Qa=u64.rotrSH(Ya,Bc,1)^u64.rotrSH(Ya,Bc,8)^u64.shrSH(Ya,Bc,7),tu=u64.rotrSL(Ya,Bc,1)^u64.rotrSL(Ya,Bc,8)^u64.shrSL(Ya,Bc,7),eu=SHA512_W_H[za-2]|0,ru=SHA512_W_L[za-2]|0,cu=u64.rotrSH(eu,ru,19)^u64.rotrBH(eu,ru,61)^u64.shrSH(eu,ru,6),ou=u64.rotrSL(eu,ru,19)^u64.rotrBL(eu,ru,61)^u64.shrSL(eu,ru,6),Ga=u64.add4L(tu,ou,SHA512_W_L[za-7],SHA512_W_L[za-16]),Xa=u64.add4H(Ga,Qa,cu,SHA512_W_H[za-7],SHA512_W_H[za-16]);SHA512_W_H[za]=Xa|0,SHA512_W_L[za]=Ga|0}let{Ah:ms,Al:ws,Bh:vs,Bl:_s,Ch:Es,Cl:Ts,Dh:Ss,Dl:Rs,Eh:Bs,El:Is,Fh:Ws,Fl:Hs,Gh:Ns,Gl:Js,Hh:ha,Hl:pa}=this;for(let za=0;za<80;za++){const Ya=u64.rotrSH(Bs,Is,14)^u64.rotrSH(Bs,Is,18)^u64.rotrBH(Bs,Is,41),Bc=u64.rotrSL(Bs,Is,14)^u64.rotrSL(Bs,Is,18)^u64.rotrBL(Bs,Is,41),Qa=Bs&Ws^~Bs&Ns,tu=Is&Hs^~Is&Js,eu=u64.add5L(pa,Bc,tu,SHA512_Kl[za],SHA512_W_L[za]),ru=u64.add5H(eu,ha,Ya,Qa,SHA512_Kh[za],SHA512_W_H[za]),cu=eu|0,ou=u64.rotrSH(ms,ws,28)^u64.rotrBH(ms,ws,34)^u64.rotrBH(ms,ws,39),Ga=u64.rotrSL(ms,ws,28)^u64.rotrBL(ms,ws,34)^u64.rotrBL(ms,ws,39),Xa=ms&vs^ms&Es^vs&Es,Fa=ws&_s^ws&Ts^_s&Ts;ha=Ns|0,pa=Js|0,Ns=Ws|0,Js=Hs|0,Ws=Bs|0,Hs=Is|0,{h:Bs,l:Is}=u64.add(Ss|0,Rs|0,ru|0,cu|0),Ss=Es|0,Rs=Ts|0,Es=vs|0,Ts=_s|0,vs=ms|0,_s=ws|0;const Zs=u64.add3L(cu,Ga,Fa);ms=u64.add3H(Zs,ru,ou,Xa),ws=Zs|0}({h:ms,l:ws}=u64.add(this.Ah|0,this.Al|0,ms|0,ws|0)),{h:vs,l:_s}=u64.add(this.Bh|0,this.Bl|0,vs|0,_s|0),{h:Es,l:Ts}=u64.add(this.Ch|0,this.Cl|0,Es|0,Ts|0),{h:Ss,l:Rs}=u64.add(this.Dh|0,this.Dl|0,Ss|0,Rs|0),{h:Bs,l:Is}=u64.add(this.Eh|0,this.El|0,Bs|0,Is|0),{h:Ws,l:Hs}=u64.add(this.Fh|0,this.Fl|0,Ws|0,Hs|0),{h:Ns,l:Js}=u64.add(this.Gh|0,this.Gl|0,Ns|0,Js|0),{h:ha,l:pa}=u64.add(this.Hh|0,this.Hl|0,ha|0,pa|0),this.set(ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js,ha,pa)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$6=wrapConstructor$1(()=>new SHA512);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")}const anyGlobal=getGlobal(),crypto$6=anyGlobal.crypto||anyGlobal.msCrypto;function createHash(st){switch(st){case"sha256":return sha256$8.create();case"sha512":return sha512$6.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",st)}function createHmac(st,t){const et={sha256:sha256$8,sha512:sha512$6}[st];return assertArgument(et!=null,"invalid hmac algorithm","algorithm",st),hmac$4.create(et,t)}function pbkdf2Sync(st,t,et,ms,ws){const vs={sha256:sha256$8,sha512:sha512$6}[ws];return assertArgument(vs!=null,"invalid pbkdf2 algorithm","algorithm",ws),pbkdf2$3(vs,st,t,{c:et,dkLen:ms})}function randomBytes$3(st){assert(crypto$6!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),assertArgument(Number.isInteger(st)&&st>0&&st<=1024,"invalid length","length",st);const t=new Uint8Array(st);return crypto$6.getRandomValues(t),t}let locked$4=!1;const _computeHmac=function(st,t,et){return createHmac(st,t).update(et).digest()};let __computeHmac=_computeHmac;function computeHmac(st,t,et){const ms=getBytes(t,"key"),ws=getBytes(et,"data");return hexlify(__computeHmac(st,ms,ws))}computeHmac._=_computeHmac;computeHmac.lock=function(){locked$4=!0};computeHmac.register=function(st){if(locked$4)throw new Error("computeHmac is locked");__computeHmac=st};Object.freeze(computeHmac);const[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$9=BigInt(0),_1n$b=BigInt(1),_2n$7=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let st=0,t=_1n$b,et=1,ms=0;st<24;st++){[et,ms]=[ms,(2*et+3*ms)%5],SHA3_PI$1.push(2*(5*ms+et)),SHA3_ROTL$1.push((st+1)*(st+2)/2%64);let ws=_0n$9;for(let vs=0;vs<7;vs++)t=(t<<_1n$b^(t>>_7n$1)*_0x71n$1)%_256n$1,t&_2n$7&&(ws^=_1n$b<<(_1n$b<<BigInt(vs))-_1n$b);_SHA3_IOTA$1.push(ws)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=split$1(_SHA3_IOTA$1,!0),rotlH$1=(st,t,et)=>et>32?rotlBH$1(st,t,et):rotlSH$1(st,t,et),rotlL$1=(st,t,et)=>et>32?rotlBL$1(st,t,et):rotlSL$1(st,t,et);function keccakP$1(st,t=24){const et=new Uint32Array(10);for(let ms=24-t;ms<24;ms++){for(let _s=0;_s<10;_s++)et[_s]=st[_s]^st[_s+10]^st[_s+20]^st[_s+30]^st[_s+40];for(let _s=0;_s<10;_s+=2){const Es=(_s+8)%10,Ts=(_s+2)%10,Ss=et[Ts],Rs=et[Ts+1],Bs=rotlH$1(Ss,Rs,1)^et[Es],Is=rotlL$1(Ss,Rs,1)^et[Es+1];for(let Ws=0;Ws<50;Ws+=10)st[_s+Ws]^=Bs,st[_s+Ws+1]^=Is}let ws=st[2],vs=st[3];for(let _s=0;_s<24;_s++){const Es=SHA3_ROTL$1[_s],Ts=rotlH$1(ws,vs,Es),Ss=rotlL$1(ws,vs,Es),Rs=SHA3_PI$1[_s];ws=st[Rs],vs=st[Rs+1],st[Rs]=Ts,st[Rs+1]=Ss}for(let _s=0;_s<50;_s+=10){for(let Es=0;Es<10;Es++)et[Es]=st[_s+Es];for(let Es=0;Es<10;Es++)st[_s+Es]^=~et[(Es+2)%10]&et[(Es+4)%10]}st[0]^=SHA3_IOTA_H$1[ms],st[1]^=SHA3_IOTA_L$1[ms]}et.fill(0)}let Keccak$1=class ad extends Hash$2{constructor(t,et,ms,ws=!1,vs=24){if(super(),this.blockLen=t,this.suffix=et,this.outputLen=ms,this.enableXOF=ws,this.rounds=vs,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$1(ms),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){exists$1(this);const{blockLen:et,state:ms}=this;t=toBytes$3(t);const ws=t.length;for(let vs=0;vs<ws;){const _s=Math.min(et-this.pos,ws-vs);for(let Es=0;Es<_s;Es++)ms[this.pos++]^=t[vs++];this.pos===et&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:et,pos:ms,blockLen:ws}=this;t[ms]^=et,(et&128)!==0&&ms===ws-1&&this.keccak(),t[ws-1]^=128,this.keccak()}writeInto(t){exists$1(this,!1),bytes$2(t),this.finish();const et=this.state,{blockLen:ms}=this;for(let ws=0,vs=t.length;ws<vs;){this.posOut>=ms&&this.keccak();const _s=Math.min(ms-this.posOut,vs-ws);t.set(et.subarray(this.posOut,this.posOut+_s),ws),this.posOut+=_s,ws+=_s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return number$1(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(output$1(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:et,suffix:ms,outputLen:ws,rounds:vs,enableXOF:_s}=this;return t||(t=new ad(et,ms,ws,_s,vs)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=vs,t.suffix=ms,t.outputLen=ws,t.enableXOF=_s,t.destroyed=this.destroyed,t}};const gen$1=(st,t,et)=>wrapConstructor$1(()=>new Keccak$1(t,st,et)),keccak_256$1=gen$1(1,136,256/8);let locked$3=!1;const _keccak256=function(st){return keccak_256$1(st)};let __keccak256=_keccak256;function keccak256$1(st){const t=getBytes(st,"data");return hexlify(__keccak256(t))}keccak256$1._=_keccak256;keccak256$1.lock=function(){locked$3=!0};keccak256$1.register=function(st){if(locked$3)throw new TypeError("keccak256 is locked");__keccak256=st};Object.freeze(keccak256$1);const Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=Uint8Array.from({length:16},(st,t)=>t),Pi$2=Id.map(st=>(9*st+5)%16);let idxL=[Id],idxR=[Pi$2];for(let st=0;st<4;st++)for(let t of[idxL,idxR])t.push(t[st].map(et=>Rho[et]));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(st=>new Uint8Array(st)),shiftsL=idxL.map((st,t)=>st.map(et=>shifts[t][et])),shiftsR=idxR.map((st,t)=>st.map(et=>shifts[t][et])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr$2=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl$1=(st,t)=>st<<t|st>>>32-t;function f$7(st,t,et,ms){return st===0?t^et^ms:st===1?t&et|~t&ms:st===2?(t|~et)^ms:st===3?t&ms|et&~ms:t^(et|~ms)}const BUF=new Uint32Array(16);class RIPEMD160 extends SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:et,h2:ms,h3:ws,h4:vs}=this;return[t,et,ms,ws,vs]}set(t,et,ms,ws,vs){this.h0=t|0,this.h1=et|0,this.h2=ms|0,this.h3=ws|0,this.h4=vs|0}process(t,et){for(let Ws=0;Ws<16;Ws++,et+=4)BUF[Ws]=t.getUint32(et,!0);let ms=this.h0|0,ws=ms,vs=this.h1|0,_s=vs,Es=this.h2|0,Ts=Es,Ss=this.h3|0,Rs=Ss,Bs=this.h4|0,Is=Bs;for(let Ws=0;Ws<5;Ws++){const Hs=4-Ws,Ns=Kl[Ws],Js=Kr$2[Ws],ha=idxL[Ws],pa=idxR[Ws],za=shiftsL[Ws],Ya=shiftsR[Ws];for(let Bc=0;Bc<16;Bc++){const Qa=rotl$1(ms+f$7(Ws,vs,Es,Ss)+BUF[ha[Bc]]+Ns,za[Bc])+Bs|0;ms=Bs,Bs=Ss,Ss=rotl$1(Es,10)|0,Es=vs,vs=Qa}for(let Bc=0;Bc<16;Bc++){const Qa=rotl$1(ws+f$7(Hs,_s,Ts,Rs)+BUF[pa[Bc]]+Js,Ya[Bc])+Is|0;ws=Is,Is=Rs,Rs=rotl$1(Ts,10)|0,Ts=_s,_s=Qa}}this.set(this.h1+Es+Rs|0,this.h2+Ss+Is|0,this.h3+Bs+ws|0,this.h4+ms+_s|0,this.h0+vs+Ts|0)}roundClean(){BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ripemd160$5=wrapConstructor$1(()=>new RIPEMD160);let locked$2=!1;const _ripemd160=function(st){return ripemd160$5(st)};let __ripemd160=_ripemd160;function ripemd160$4(st){const t=getBytes(st,"data");return hexlify(__ripemd160(t))}ripemd160$4._=_ripemd160;ripemd160$4.lock=function(){locked$2=!0};ripemd160$4.register=function(st){if(locked$2)throw new TypeError("ripemd160 is locked");__ripemd160=st};Object.freeze(ripemd160$4);let locked$1=!1;const _pbkdf2=function(st,t,et,ms,ws){return pbkdf2Sync(st,t,et,ms,ws)};let __pbkdf2=_pbkdf2;function pbkdf2$2(st,t,et,ms,ws){const vs=getBytes(st,"password"),_s=getBytes(t,"salt");return hexlify(__pbkdf2(vs,_s,et,ms,ws))}pbkdf2$2._=_pbkdf2;pbkdf2$2.lock=function(){locked$1=!0};pbkdf2$2.register=function(st){if(locked$1)throw new Error("pbkdf2 is locked");__pbkdf2=st};Object.freeze(pbkdf2$2);let locked=!1;const _randomBytes=function(st){return new Uint8Array(randomBytes$3(st))};let __randomBytes=_randomBytes;function randomBytes$2(st){return __randomBytes(st)}randomBytes$2._=_randomBytes;randomBytes$2.lock=function(){locked=!0};randomBytes$2.register=function(st){if(locked)throw new Error("randomBytes is locked");__randomBytes=st};Object.freeze(randomBytes$2);const rotl=(st,t)=>st<<t|st>>>32-t;function XorAndSalsa(st,t,et,ms,ws,vs){let _s=st[t++]^et[ms++],Es=st[t++]^et[ms++],Ts=st[t++]^et[ms++],Ss=st[t++]^et[ms++],Rs=st[t++]^et[ms++],Bs=st[t++]^et[ms++],Is=st[t++]^et[ms++],Ws=st[t++]^et[ms++],Hs=st[t++]^et[ms++],Ns=st[t++]^et[ms++],Js=st[t++]^et[ms++],ha=st[t++]^et[ms++],pa=st[t++]^et[ms++],za=st[t++]^et[ms++],Ya=st[t++]^et[ms++],Bc=st[t++]^et[ms++],Qa=_s,tu=Es,eu=Ts,ru=Ss,cu=Rs,ou=Bs,Ga=Is,Xa=Ws,Fa=Hs,Zs=Ns,Wa=Js,Za=ha,iu=pa,au=za,nu=Ya,uu=Bc;for(let fu=0;fu<8;fu+=2)cu^=rotl(Qa+iu|0,7),Fa^=rotl(cu+Qa|0,9),iu^=rotl(Fa+cu|0,13),Qa^=rotl(iu+Fa|0,18),Zs^=rotl(ou+tu|0,7),au^=rotl(Zs+ou|0,9),tu^=rotl(au+Zs|0,13),ou^=rotl(tu+au|0,18),nu^=rotl(Wa+Ga|0,7),eu^=rotl(nu+Wa|0,9),Ga^=rotl(eu+nu|0,13),Wa^=rotl(Ga+eu|0,18),ru^=rotl(uu+Za|0,7),Xa^=rotl(ru+uu|0,9),Za^=rotl(Xa+ru|0,13),uu^=rotl(Za+Xa|0,18),tu^=rotl(Qa+ru|0,7),eu^=rotl(tu+Qa|0,9),ru^=rotl(eu+tu|0,13),Qa^=rotl(ru+eu|0,18),Ga^=rotl(ou+cu|0,7),Xa^=rotl(Ga+ou|0,9),cu^=rotl(Xa+Ga|0,13),ou^=rotl(cu+Xa|0,18),Za^=rotl(Wa+Zs|0,7),Fa^=rotl(Za+Wa|0,9),Zs^=rotl(Fa+Za|0,13),Wa^=rotl(Zs+Fa|0,18),iu^=rotl(uu+nu|0,7),au^=rotl(iu+uu|0,9),nu^=rotl(au+iu|0,13),uu^=rotl(nu+au|0,18);ws[vs++]=_s+Qa|0,ws[vs++]=Es+tu|0,ws[vs++]=Ts+eu|0,ws[vs++]=Ss+ru|0,ws[vs++]=Rs+cu|0,ws[vs++]=Bs+ou|0,ws[vs++]=Is+Ga|0,ws[vs++]=Ws+Xa|0,ws[vs++]=Hs+Fa|0,ws[vs++]=Ns+Zs|0,ws[vs++]=Js+Wa|0,ws[vs++]=ha+Za|0,ws[vs++]=pa+iu|0,ws[vs++]=za+au|0,ws[vs++]=Ya+nu|0,ws[vs++]=Bc+uu|0}function BlockMix(st,t,et,ms,ws){let vs=ms+0,_s=ms+16*ws;for(let Es=0;Es<16;Es++)et[_s+Es]=st[t+(2*ws-1)*16+Es];for(let Es=0;Es<ws;Es++,vs+=16,t+=16)XorAndSalsa(et,_s,st,t,et,vs),Es>0&&(_s+=16),XorAndSalsa(et,vs,st,t+=16,et,_s)}function scryptInit(st,t,et){const ms=checkOpts({dkLen:32,asyncTick:10,maxmem:1073742848},et),{N:ws,r:vs,p:_s,dkLen:Es,asyncTick:Ts,maxmem:Ss,onProgress:Rs}=ms;if(number$1(ws),number$1(vs),number$1(_s),number$1(Es),number$1(Ts),number$1(Ss),Rs!==void 0&&typeof Rs!="function")throw new Error("progressCb should be function");const Bs=128*vs,Is=Bs/4;if(ws<=1||(ws&ws-1)!==0||ws>=2**(Bs/8)||ws>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(_s<0||_s>(2**32-1)*32/Bs)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(Es<0||Es>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const Ws=Bs*(ws+_s);if(Ws>Ss)throw new Error(`Scrypt: parameters too large, ${Ws} (128 * r * (N + p)) > ${Ss} (maxmem)`);const Hs=pbkdf2$3(sha256$8,st,t,{c:1,dkLen:Bs*_s}),Ns=u32$1(Hs),Js=u32$1(new Uint8Array(Bs*ws)),ha=u32$1(new Uint8Array(Bs));let pa=()=>{};if(Rs){const za=2*ws*_s,Ya=Math.max(Math.floor(za/1e4),1);let Bc=0;pa=()=>{Bc++,Rs&&(!(Bc%Ya)||Bc===za)&&Rs(Bc/za)}}return{N:ws,r:vs,p:_s,dkLen:Es,blockSize32:Is,V:Js,B32:Ns,B:Hs,tmp:ha,blockMixCb:pa,asyncTick:Ts}}function scryptOutput(st,t,et,ms,ws){const vs=pbkdf2$3(sha256$8,st,et,{c:1,dkLen:t});return et.fill(0),ms.fill(0),ws.fill(0),vs}function scrypt$1(st,t,et){const{N:ms,r:ws,p:vs,dkLen:_s,blockSize32:Es,V:Ts,B32:Ss,B:Rs,tmp:Bs,blockMixCb:Is}=scryptInit(st,t,et);for(let Ws=0;Ws<vs;Ws++){const Hs=Es*Ws;for(let Ns=0;Ns<Es;Ns++)Ts[Ns]=Ss[Hs+Ns];for(let Ns=0,Js=0;Ns<ms-1;Ns++)BlockMix(Ts,Js,Ts,Js+=Es,ws),Is();BlockMix(Ts,(ms-1)*Es,Ss,Hs,ws),Is();for(let Ns=0;Ns<ms;Ns++){const Js=Ss[Hs+Es-16]%ms;for(let ha=0;ha<Es;ha++)Bs[ha]=Ss[Hs+ha]^Ts[Js*Es+ha];BlockMix(Bs,0,Ss,Hs,ws),Is()}}return scryptOutput(st,_s,Rs,Ts,Bs)}async function scryptAsync(st,t,et){const{N:ms,r:ws,p:vs,dkLen:_s,blockSize32:Es,V:Ts,B32:Ss,B:Rs,tmp:Bs,blockMixCb:Is,asyncTick:Ws}=scryptInit(st,t,et);for(let Hs=0;Hs<vs;Hs++){const Ns=Es*Hs;for(let ha=0;ha<Es;ha++)Ts[ha]=Ss[Ns+ha];let Js=0;await asyncLoop(ms-1,Ws,()=>{BlockMix(Ts,Js,Ts,Js+=Es,ws),Is()}),BlockMix(Ts,(ms-1)*Es,Ss,Ns,ws),Is(),await asyncLoop(ms,Ws,()=>{const ha=Ss[Ns+Es-16]%ms;for(let pa=0;pa<Es;pa++)Bs[pa]=Ss[Ns+pa]^Ts[ha*Es+pa];BlockMix(Bs,0,Ss,Ns,ws),Is()})}return scryptOutput(st,_s,Rs,Ts,Bs)}let lockedSync=!1,lockedAsync=!1;const _scryptAsync=async function(st,t,et,ms,ws,vs,_s){return await scryptAsync(st,t,{N:et,r:ms,p:ws,dkLen:vs,onProgress:_s})},_scryptSync=function(st,t,et,ms,ws,vs){return scrypt$1(st,t,{N:et,r:ms,p:ws,dkLen:vs})};let __scryptAsync=_scryptAsync,__scryptSync=_scryptSync;async function scrypt(st,t,et,ms,ws,vs,_s){const Es=getBytes(st,"passwd"),Ts=getBytes(t,"salt");return hexlify(await __scryptAsync(Es,Ts,et,ms,ws,vs,_s))}scrypt._=_scryptAsync;scrypt.lock=function(){lockedAsync=!0};scrypt.register=function(st){if(lockedAsync)throw new Error("scrypt is locked");__scryptAsync=st};Object.freeze(scrypt);function scryptSync(st,t,et,ms,ws,vs){const _s=getBytes(st,"passwd"),Es=getBytes(t,"salt");return hexlify(__scryptSync(_s,Es,et,ms,ws,vs))}scryptSync._=_scryptSync;scryptSync.lock=function(){lockedSync=!0};scryptSync.register=function(st){if(lockedSync)throw new Error("scryptSync is locked");__scryptSync=st};Object.freeze(scryptSync);const _sha256=function(st){return createHash("sha256").update(st).digest()};let __sha256=_sha256,locked256=!1;function sha256$7(st){const t=getBytes(st,"data");return hexlify(__sha256(t))}sha256$7._=_sha256;sha256$7.lock=function(){locked256=!0};sha256$7.register=function(st){if(locked256)throw new Error("sha256 is locked");__sha256=st};Object.freeze(sha256$7);Object.freeze(sha256$7);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$a=BigInt(1),_2n$6=BigInt(2),u8a=st=>st instanceof Uint8Array,hexes$2=Array.from({length:256},(st,t)=>t.toString(16).padStart(2,"0"));function bytesToHex$2(st){if(!u8a(st))throw new Error("Uint8Array expected");let t="";for(let et=0;et<st.length;et++)t+=hexes$2[st[et]];return t}function numberToHexUnpadded$1(st){const t=st.toString(16);return t.length&1?`0${t}`:t}function hexToNumber$2(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);return BigInt(st===""?"0":`0x${st}`)}function hexToBytes$2(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);const t=st.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const et=new Uint8Array(t/2);for(let ms=0;ms<et.length;ms++){const ws=ms*2,vs=st.slice(ws,ws+2),_s=Number.parseInt(vs,16);if(Number.isNaN(_s)||_s<0)throw new Error("Invalid byte sequence");et[ms]=_s}return et}function bytesToNumberBE$1(st){return hexToNumber$2(bytesToHex$2(st))}function bytesToNumberLE$1(st){if(!u8a(st))throw new Error("Uint8Array expected");return hexToNumber$2(bytesToHex$2(Uint8Array.from(st).reverse()))}function numberToBytesBE$1(st,t){return hexToBytes$2(st.toString(16).padStart(t*2,"0"))}function numberToBytesLE$1(st,t){return numberToBytesBE$1(st,t).reverse()}function numberToVarBytesBE$1(st){return hexToBytes$2(numberToHexUnpadded$1(st))}function ensureBytes$1(st,t,et){let ms;if(typeof t=="string")try{ms=hexToBytes$2(t)}catch(vs){throw new Error(`${st} must be valid hex string, got "${t}". Cause: ${vs}`)}else if(u8a(t))ms=Uint8Array.from(t);else throw new Error(`${st} must be hex string or Uint8Array`);const ws=ms.length;if(typeof et=="number"&&ws!==et)throw new Error(`${st} expected ${et} bytes, got ${ws}`);return ms}function concatBytes$3(...st){const t=new Uint8Array(st.reduce((ms,ws)=>ms+ws.length,0));let et=0;return st.forEach(ms=>{if(!u8a(ms))throw new Error("Uint8Array expected");t.set(ms,et),et+=ms.length}),t}function equalBytes$1(st,t){if(st.length!==t.length)return!1;for(let et=0;et<st.length;et++)if(st[et]!==t[et])return!1;return!0}function utf8ToBytes$3(st){if(typeof st!="string")throw new Error(`utf8ToBytes expected string, got ${typeof st}`);return new Uint8Array(new TextEncoder().encode(st))}function bitLen$1(st){let t;for(t=0;st>_0n$8;st>>=_1n$a,t+=1);return t}function bitGet$1(st,t){return st>>BigInt(t)&_1n$a}const bitSet$1=(st,t,et)=>st|(et?_1n$a:_0n$8)<<BigInt(t),bitMask$1=st=>(_2n$6<<BigInt(st-1))-_1n$a,u8n$1=st=>new Uint8Array(st),u8fr$1=st=>Uint8Array.from(st);function createHmacDrbg$1(st,t,et){if(typeof st!="number"||st<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof et!="function")throw new Error("hmacFn must be a function");let ms=u8n$1(st),ws=u8n$1(st),vs=0;const _s=()=>{ms.fill(1),ws.fill(0),vs=0},Es=(...Bs)=>et(ws,ms,...Bs),Ts=(Bs=u8n$1())=>{ws=Es(u8fr$1([0]),Bs),ms=Es(),Bs.length!==0&&(ws=Es(u8fr$1([1]),Bs),ms=Es())},Ss=()=>{if(vs++>=1e3)throw new Error("drbg: tried 1000 values");let Bs=0;const Is=[];for(;Bs<t;){ms=Es();const Ws=ms.slice();Is.push(Ws),Bs+=ms.length}return concatBytes$3(...Is)};return(Bs,Is)=>{_s(),Ts(Bs);let Ws;for(;!(Ws=Is(Ss()));)Ts();return _s(),Ws}}const validatorFns$1={bigint:st=>typeof st=="bigint",function:st=>typeof st=="function",boolean:st=>typeof st=="boolean",string:st=>typeof st=="string",stringOrUint8Array:st=>typeof st=="string"||st instanceof Uint8Array,isSafeInteger:st=>Number.isSafeInteger(st),array:st=>Array.isArray(st),field:(st,t)=>t.Fp.isValid(st),hash:st=>typeof st=="function"&&Number.isSafeInteger(st.outputLen)};function validateObject$1(st,t,et={}){const ms=(ws,vs,_s)=>{const Es=validatorFns$1[vs];if(typeof Es!="function")throw new Error(`Invalid validator "${vs}", expected function`);const Ts=st[ws];if(!(_s&&Ts===void 0)&&!Es(Ts,st))throw new Error(`Invalid param ${String(ws)}=${Ts} (${typeof Ts}), expected ${vs}`)};for(const[ws,vs]of Object.entries(t))ms(ws,vs,!1);for(const[ws,vs]of Object.entries(et))ms(ws,vs,!0);return st}const ut$5=Object.freeze(Object.defineProperty({__proto__:null,bitGet:bitGet$1,bitLen:bitLen$1,bitMask:bitMask$1,bitSet:bitSet$1,bytesToHex:bytesToHex$2,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,concatBytes:concatBytes$3,createHmacDrbg:createHmacDrbg$1,ensureBytes:ensureBytes$1,equalBytes:equalBytes$1,hexToBytes:hexToBytes$2,hexToNumber:hexToNumber$2,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToHexUnpadded:numberToHexUnpadded$1,numberToVarBytesBE:numberToVarBytesBE$1,utf8ToBytes:utf8ToBytes$3,validateObject:validateObject$1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$9=BigInt(1),_2n$5=BigInt(2),_3n$3=BigInt(3),_4n$1=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod$1(st,t){const et=st%t;return et>=_0n$7?et:t+et}function pow$2(st,t,et){if(et<=_0n$7||t<_0n$7)throw new Error("Expected power/modulo > 0");if(et===_1n$9)return _0n$7;let ms=_1n$9;for(;t>_0n$7;)t&_1n$9&&(ms=ms*st%et),st=st*st%et,t>>=_1n$9;return ms}function pow2$1(st,t,et){let ms=st;for(;t-- >_0n$7;)ms*=ms,ms%=et;return ms}function invert$1(st,t){if(st===_0n$7||t<=_0n$7)throw new Error(`invert: expected positive integers, got n=${st} mod=${t}`);let et=mod$1(st,t),ms=t,ws=_0n$7,vs=_1n$9;for(;et!==_0n$7;){const Es=ms/et,Ts=ms%et,Ss=ws-vs*Es;ms=et,et=Ts,ws=vs,vs=Ss}if(ms!==_1n$9)throw new Error("invert: does not exist");return mod$1(ws,t)}function tonelliShanks$1(st){const t=(st-_1n$9)/_2n$5;let et,ms,ws;for(et=st-_1n$9,ms=0;et%_2n$5===_0n$7;et/=_2n$5,ms++);for(ws=_2n$5;ws<st&&pow$2(ws,t,st)!==st-_1n$9;ws++);if(ms===1){const _s=(st+_1n$9)/_4n$1;return function(Ts,Ss){const Rs=Ts.pow(Ss,_s);if(!Ts.eql(Ts.sqr(Rs),Ss))throw new Error("Cannot find square root");return Rs}}const vs=(et+_1n$9)/_2n$5;return function(Es,Ts){if(Es.pow(Ts,t)===Es.neg(Es.ONE))throw new Error("Cannot find square root");let Ss=ms,Rs=Es.pow(Es.mul(Es.ONE,ws),et),Bs=Es.pow(Ts,vs),Is=Es.pow(Ts,et);for(;!Es.eql(Is,Es.ONE);){if(Es.eql(Is,Es.ZERO))return Es.ZERO;let Ws=1;for(let Ns=Es.sqr(Is);Ws<Ss&&!Es.eql(Ns,Es.ONE);Ws++)Ns=Es.sqr(Ns);const Hs=Es.pow(Rs,_1n$9<<BigInt(Ss-Ws-1));Rs=Es.sqr(Hs),Bs=Es.mul(Bs,Hs),Is=Es.mul(Is,Rs),Ss=Ws}return Bs}}function FpSqrt$1(st){if(st%_4n$1===_3n$3){const t=(st+_1n$9)/_4n$1;return function(ms,ws){const vs=ms.pow(ws,t);if(!ms.eql(ms.sqr(vs),ws))throw new Error("Cannot find square root");return vs}}if(st%_8n$1===_5n$1){const t=(st-_5n$1)/_8n$1;return function(ms,ws){const vs=ms.mul(ws,_2n$5),_s=ms.pow(vs,t),Es=ms.mul(ws,_s),Ts=ms.mul(ms.mul(Es,_2n$5),_s),Ss=ms.mul(Es,ms.sub(Ts,ms.ONE));if(!ms.eql(ms.sqr(Ss),ws))throw new Error("Cannot find square root");return Ss}}return tonelliShanks$1(st)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(st){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},et=FIELD_FIELDS$1.reduce((ms,ws)=>(ms[ws]="function",ms),t);return validateObject$1(st,et)}function FpPow$1(st,t,et){if(et<_0n$7)throw new Error("Expected power > 0");if(et===_0n$7)return st.ONE;if(et===_1n$9)return t;let ms=st.ONE,ws=t;for(;et>_0n$7;)et&_1n$9&&(ms=st.mul(ms,ws)),ws=st.sqr(ws),et>>=_1n$9;return ms}function FpInvertBatch$1(st,t){const et=new Array(t.length),ms=t.reduce((vs,_s,Es)=>st.is0(_s)?vs:(et[Es]=vs,st.mul(vs,_s)),st.ONE),ws=st.inv(ms);return t.reduceRight((vs,_s,Es)=>st.is0(_s)?vs:(et[Es]=st.mul(vs,et[Es]),st.mul(vs,_s)),ws),et}function nLength$1(st,t){const et=t!==void 0?t:st.toString(2).length,ms=Math.ceil(et/8);return{nBitLength:et,nByteLength:ms}}function Field$1(st,t,et=!1,ms={}){if(st<=_0n$7)throw new Error(`Expected Field ORDER > 0, got ${st}`);const{nBitLength:ws,nByteLength:vs}=nLength$1(st,t);if(vs>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _s=FpSqrt$1(st),Es=Object.freeze({ORDER:st,BITS:ws,BYTES:vs,MASK:bitMask$1(ws),ZERO:_0n$7,ONE:_1n$9,create:Ts=>mod$1(Ts,st),isValid:Ts=>{if(typeof Ts!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Ts}`);return _0n$7<=Ts&&Ts<st},is0:Ts=>Ts===_0n$7,isOdd:Ts=>(Ts&_1n$9)===_1n$9,neg:Ts=>mod$1(-Ts,st),eql:(Ts,Ss)=>Ts===Ss,sqr:Ts=>mod$1(Ts*Ts,st),add:(Ts,Ss)=>mod$1(Ts+Ss,st),sub:(Ts,Ss)=>mod$1(Ts-Ss,st),mul:(Ts,Ss)=>mod$1(Ts*Ss,st),pow:(Ts,Ss)=>FpPow$1(Es,Ts,Ss),div:(Ts,Ss)=>mod$1(Ts*invert$1(Ss,st),st),sqrN:Ts=>Ts*Ts,addN:(Ts,Ss)=>Ts+Ss,subN:(Ts,Ss)=>Ts-Ss,mulN:(Ts,Ss)=>Ts*Ss,inv:Ts=>invert$1(Ts,st),sqrt:ms.sqrt||(Ts=>_s(Es,Ts)),invertBatch:Ts=>FpInvertBatch$1(Es,Ts),cmov:(Ts,Ss,Rs)=>Rs?Ss:Ts,toBytes:Ts=>et?numberToBytesLE$1(Ts,vs):numberToBytesBE$1(Ts,vs),fromBytes:Ts=>{if(Ts.length!==vs)throw new Error(`Fp.fromBytes: expected ${vs}, got ${Ts.length}`);return et?bytesToNumberLE$1(Ts):bytesToNumberBE$1(Ts)}});return Object.freeze(Es)}function getFieldBytesLength$1(st){if(typeof st!="bigint")throw new Error("field order must be bigint");const t=st.toString(2).length;return Math.ceil(t/8)}function getMinHashLength$1(st){const t=getFieldBytesLength$1(st);return t+Math.ceil(t/2)}function mapHashToField$1(st,t,et=!1){const ms=st.length,ws=getFieldBytesLength$1(t),vs=getMinHashLength$1(t);if(ms<16||ms<vs||ms>1024)throw new Error(`expected ${vs}-1024 bytes of input, got ${ms}`);const _s=et?bytesToNumberBE$1(st):bytesToNumberLE$1(st),Es=mod$1(_s,t-_1n$9)+_1n$9;return et?numberToBytesLE$1(Es,ws):numberToBytesBE$1(Es,ws)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$6=BigInt(0),_1n$8=BigInt(1);function wNAF$1(st,t){const et=(ws,vs)=>{const _s=vs.negate();return ws?_s:vs},ms=ws=>{const vs=Math.ceil(t/ws)+1,_s=2**(ws-1);return{windows:vs,windowSize:_s}};return{constTimeNegate:et,unsafeLadder(ws,vs){let _s=st.ZERO,Es=ws;for(;vs>_0n$6;)vs&_1n$8&&(_s=_s.add(Es)),Es=Es.double(),vs>>=_1n$8;return _s},precomputeWindow(ws,vs){const{windows:_s,windowSize:Es}=ms(vs),Ts=[];let Ss=ws,Rs=Ss;for(let Bs=0;Bs<_s;Bs++){Rs=Ss,Ts.push(Rs);for(let Is=1;Is<Es;Is++)Rs=Rs.add(Ss),Ts.push(Rs);Ss=Rs.double()}return Ts},wNAF(ws,vs,_s){const{windows:Es,windowSize:Ts}=ms(ws);let Ss=st.ZERO,Rs=st.BASE;const Bs=BigInt(2**ws-1),Is=2**ws,Ws=BigInt(ws);for(let Hs=0;Hs<Es;Hs++){const Ns=Hs*Ts;let Js=Number(_s&Bs);_s>>=Ws,Js>Ts&&(Js-=Is,_s+=_1n$8);const ha=Ns,pa=Ns+Math.abs(Js)-1,za=Hs%2!==0,Ya=Js<0;Js===0?Rs=Rs.add(et(za,vs[ha])):Ss=Ss.add(et(Ya,vs[pa]))}return{p:Ss,f:Rs}},wNAFCached(ws,vs,_s,Es){const Ts=ws._WINDOW_SIZE||1;let Ss=vs.get(ws);return Ss||(Ss=this.precomputeWindow(ws,Ts),Ts!==1&&vs.set(ws,Es(Ss))),this.wNAF(Ts,Ss,_s)}}}function validateBasic$1(st){return validateField$1(st.Fp),validateObject$1(st,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(st.n,st.nBitLength),...st,p:st.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$1(st){const t=validateBasic$1(st);validateObject$1(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:et,Fp:ms,a:ws}=t;if(et){if(!ms.eql(ws,ms.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof et!="object"||typeof et.beta!="bigint"||typeof et.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:b2n$1,hexToBytes:h2b$1}=ut$5,DER$1={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(st){const{Err:t}=DER$1;if(st.length<2||st[0]!==2)throw new t("Invalid signature integer tag");const et=st[1],ms=st.subarray(2,et+2);if(!et||ms.length!==et)throw new t("Invalid signature integer: wrong length");if(ms[0]&128)throw new t("Invalid signature integer: negative");if(ms[0]===0&&!(ms[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:b2n$1(ms),l:st.subarray(et+2)}},toSig(st){const{Err:t}=DER$1,et=typeof st=="string"?h2b$1(st):st;if(!(et instanceof Uint8Array))throw new Error("ui8a expected");let ms=et.length;if(ms<2||et[0]!=48)throw new t("Invalid signature tag");if(et[1]!==ms-2)throw new t("Invalid signature: incorrect length");const{d:ws,l:vs}=DER$1._parseInt(et.subarray(2)),{d:_s,l:Es}=DER$1._parseInt(vs);if(Es.length)throw new t("Invalid signature: left bytes after parsing");return{r:ws,s:_s}},hexFromSig(st){const t=Ss=>Number.parseInt(Ss[0],16)&8?"00"+Ss:Ss,et=Ss=>{const Rs=Ss.toString(16);return Rs.length&1?`0${Rs}`:Rs},ms=t(et(st.s)),ws=t(et(st.r)),vs=ms.length/2,_s=ws.length/2,Es=et(vs),Ts=et(_s);return`30${et(_s+vs+4)}02${Ts}${ws}02${Es}${ms}`}},_0n$5=BigInt(0),_1n$7=BigInt(1);BigInt(2);const _3n$2=BigInt(3);BigInt(4);function weierstrassPoints$1(st){const t=validatePointOpts$1(st),{Fp:et}=t,ms=t.toBytes||((Hs,Ns,Js)=>{const ha=Ns.toAffine();return concatBytes$3(Uint8Array.from([4]),et.toBytes(ha.x),et.toBytes(ha.y))}),ws=t.fromBytes||(Hs=>{const Ns=Hs.subarray(1),Js=et.fromBytes(Ns.subarray(0,et.BYTES)),ha=et.fromBytes(Ns.subarray(et.BYTES,2*et.BYTES));return{x:Js,y:ha}});function vs(Hs){const{a:Ns,b:Js}=t,ha=et.sqr(Hs),pa=et.mul(ha,Hs);return et.add(et.add(pa,et.mul(Hs,Ns)),Js)}if(!et.eql(et.sqr(t.Gy),vs(t.Gx)))throw new Error("bad generator point: equation left != right");function _s(Hs){return typeof Hs=="bigint"&&_0n$5<Hs&&Hs<t.n}function Es(Hs){if(!_s(Hs))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Ts(Hs){const{allowedPrivateKeyLengths:Ns,nByteLength:Js,wrapPrivateKey:ha,n:pa}=t;if(Ns&&typeof Hs!="bigint"){if(Hs instanceof Uint8Array&&(Hs=bytesToHex$2(Hs)),typeof Hs!="string"||!Ns.includes(Hs.length))throw new Error("Invalid key");Hs=Hs.padStart(Js*2,"0")}let za;try{za=typeof Hs=="bigint"?Hs:bytesToNumberBE$1(ensureBytes$1("private key",Hs,Js))}catch{throw new Error(`private key must be ${Js} bytes, hex or bigint, not ${typeof Hs}`)}return ha&&(za=mod$1(za,pa)),Es(za),za}const Ss=new Map;function Rs(Hs){if(!(Hs instanceof Bs))throw new Error("ProjectivePoint expected")}class Bs{constructor(Ns,Js,ha){if(this.px=Ns,this.py=Js,this.pz=ha,Ns==null||!et.isValid(Ns))throw new Error("x required");if(Js==null||!et.isValid(Js))throw new Error("y required");if(ha==null||!et.isValid(ha))throw new Error("z required")}static fromAffine(Ns){const{x:Js,y:ha}=Ns||{};if(!Ns||!et.isValid(Js)||!et.isValid(ha))throw new Error("invalid affine point");if(Ns instanceof Bs)throw new Error("projective point not allowed");const pa=za=>et.eql(za,et.ZERO);return pa(Js)&&pa(ha)?Bs.ZERO:new Bs(Js,ha,et.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ns){const Js=et.invertBatch(Ns.map(ha=>ha.pz));return Ns.map((ha,pa)=>ha.toAffine(Js[pa])).map(Bs.fromAffine)}static fromHex(Ns){const Js=Bs.fromAffine(ws(ensureBytes$1("pointHex",Ns)));return Js.assertValidity(),Js}static fromPrivateKey(Ns){return Bs.BASE.multiply(Ts(Ns))}_setWindowSize(Ns){this._WINDOW_SIZE=Ns,Ss.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!et.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ns,y:Js}=this.toAffine();if(!et.isValid(Ns)||!et.isValid(Js))throw new Error("bad point: x or y not FE");const ha=et.sqr(Js),pa=vs(Ns);if(!et.eql(ha,pa))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ns}=this.toAffine();if(et.isOdd)return!et.isOdd(Ns);throw new Error("Field doesn't support isOdd")}equals(Ns){Rs(Ns);const{px:Js,py:ha,pz:pa}=this,{px:za,py:Ya,pz:Bc}=Ns,Qa=et.eql(et.mul(Js,Bc),et.mul(za,pa)),tu=et.eql(et.mul(ha,Bc),et.mul(Ya,pa));return Qa&&tu}negate(){return new Bs(this.px,et.neg(this.py),this.pz)}double(){const{a:Ns,b:Js}=t,ha=et.mul(Js,_3n$2),{px:pa,py:za,pz:Ya}=this;let Bc=et.ZERO,Qa=et.ZERO,tu=et.ZERO,eu=et.mul(pa,pa),ru=et.mul(za,za),cu=et.mul(Ya,Ya),ou=et.mul(pa,za);return ou=et.add(ou,ou),tu=et.mul(pa,Ya),tu=et.add(tu,tu),Bc=et.mul(Ns,tu),Qa=et.mul(ha,cu),Qa=et.add(Bc,Qa),Bc=et.sub(ru,Qa),Qa=et.add(ru,Qa),Qa=et.mul(Bc,Qa),Bc=et.mul(ou,Bc),tu=et.mul(ha,tu),cu=et.mul(Ns,cu),ou=et.sub(eu,cu),ou=et.mul(Ns,ou),ou=et.add(ou,tu),tu=et.add(eu,eu),eu=et.add(tu,eu),eu=et.add(eu,cu),eu=et.mul(eu,ou),Qa=et.add(Qa,eu),cu=et.mul(za,Ya),cu=et.add(cu,cu),eu=et.mul(cu,ou),Bc=et.sub(Bc,eu),tu=et.mul(cu,ru),tu=et.add(tu,tu),tu=et.add(tu,tu),new Bs(Bc,Qa,tu)}add(Ns){Rs(Ns);const{px:Js,py:ha,pz:pa}=this,{px:za,py:Ya,pz:Bc}=Ns;let Qa=et.ZERO,tu=et.ZERO,eu=et.ZERO;const ru=t.a,cu=et.mul(t.b,_3n$2);let ou=et.mul(Js,za),Ga=et.mul(ha,Ya),Xa=et.mul(pa,Bc),Fa=et.add(Js,ha),Zs=et.add(za,Ya);Fa=et.mul(Fa,Zs),Zs=et.add(ou,Ga),Fa=et.sub(Fa,Zs),Zs=et.add(Js,pa);let Wa=et.add(za,Bc);return Zs=et.mul(Zs,Wa),Wa=et.add(ou,Xa),Zs=et.sub(Zs,Wa),Wa=et.add(ha,pa),Qa=et.add(Ya,Bc),Wa=et.mul(Wa,Qa),Qa=et.add(Ga,Xa),Wa=et.sub(Wa,Qa),eu=et.mul(ru,Zs),Qa=et.mul(cu,Xa),eu=et.add(Qa,eu),Qa=et.sub(Ga,eu),eu=et.add(Ga,eu),tu=et.mul(Qa,eu),Ga=et.add(ou,ou),Ga=et.add(Ga,ou),Xa=et.mul(ru,Xa),Zs=et.mul(cu,Zs),Ga=et.add(Ga,Xa),Xa=et.sub(ou,Xa),Xa=et.mul(ru,Xa),Zs=et.add(Zs,Xa),ou=et.mul(Ga,Zs),tu=et.add(tu,ou),ou=et.mul(Wa,Zs),Qa=et.mul(Fa,Qa),Qa=et.sub(Qa,ou),ou=et.mul(Fa,Ga),eu=et.mul(Wa,eu),eu=et.add(eu,ou),new Bs(Qa,tu,eu)}subtract(Ns){return this.add(Ns.negate())}is0(){return this.equals(Bs.ZERO)}wNAF(Ns){return Ws.wNAFCached(this,Ss,Ns,Js=>{const ha=et.invertBatch(Js.map(pa=>pa.pz));return Js.map((pa,za)=>pa.toAffine(ha[za])).map(Bs.fromAffine)})}multiplyUnsafe(Ns){const Js=Bs.ZERO;if(Ns===_0n$5)return Js;if(Es(Ns),Ns===_1n$7)return this;const{endo:ha}=t;if(!ha)return Ws.unsafeLadder(this,Ns);let{k1neg:pa,k1:za,k2neg:Ya,k2:Bc}=ha.splitScalar(Ns),Qa=Js,tu=Js,eu=this;for(;za>_0n$5||Bc>_0n$5;)za&_1n$7&&(Qa=Qa.add(eu)),Bc&_1n$7&&(tu=tu.add(eu)),eu=eu.double(),za>>=_1n$7,Bc>>=_1n$7;return pa&&(Qa=Qa.negate()),Ya&&(tu=tu.negate()),tu=new Bs(et.mul(tu.px,ha.beta),tu.py,tu.pz),Qa.add(tu)}multiply(Ns){Es(Ns);let Js=Ns,ha,pa;const{endo:za}=t;if(za){const{k1neg:Ya,k1:Bc,k2neg:Qa,k2:tu}=za.splitScalar(Js);let{p:eu,f:ru}=this.wNAF(Bc),{p:cu,f:ou}=this.wNAF(tu);eu=Ws.constTimeNegate(Ya,eu),cu=Ws.constTimeNegate(Qa,cu),cu=new Bs(et.mul(cu.px,za.beta),cu.py,cu.pz),ha=eu.add(cu),pa=ru.add(ou)}else{const{p:Ya,f:Bc}=this.wNAF(Js);ha=Ya,pa=Bc}return Bs.normalizeZ([ha,pa])[0]}multiplyAndAddUnsafe(Ns,Js,ha){const pa=Bs.BASE,za=(Bc,Qa)=>Qa===_0n$5||Qa===_1n$7||!Bc.equals(pa)?Bc.multiplyUnsafe(Qa):Bc.multiply(Qa),Ya=za(this,Js).add(za(Ns,ha));return Ya.is0()?void 0:Ya}toAffine(Ns){const{px:Js,py:ha,pz:pa}=this,za=this.is0();Ns==null&&(Ns=za?et.ONE:et.inv(pa));const Ya=et.mul(Js,Ns),Bc=et.mul(ha,Ns),Qa=et.mul(pa,Ns);if(za)return{x:et.ZERO,y:et.ZERO};if(!et.eql(Qa,et.ONE))throw new Error("invZ was invalid");return{x:Ya,y:Bc}}isTorsionFree(){const{h:Ns,isTorsionFree:Js}=t;if(Ns===_1n$7)return!0;if(Js)return Js(Bs,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ns,clearCofactor:Js}=t;return Ns===_1n$7?this:Js?Js(Bs,this):this.multiplyUnsafe(t.h)}toRawBytes(Ns=!0){return this.assertValidity(),ms(Bs,this,Ns)}toHex(Ns=!0){return bytesToHex$2(this.toRawBytes(Ns))}}Bs.BASE=new Bs(t.Gx,t.Gy,et.ONE),Bs.ZERO=new Bs(et.ZERO,et.ONE,et.ZERO);const Is=t.nBitLength,Ws=wNAF$1(Bs,t.endo?Math.ceil(Is/2):Is);return{CURVE:t,ProjectivePoint:Bs,normPrivateKeyToScalar:Ts,weierstrassEquation:vs,isWithinCurveOrder:_s}}function validateOpts$1(st){const t=validateBasic$1(st);return validateObject$1(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function weierstrass$1(st){const t=validateOpts$1(st),{Fp:et,n:ms}=t,ws=et.BYTES+1,vs=2*et.BYTES+1;function _s(Zs){return _0n$5<Zs&&Zs<et.ORDER}function Es(Zs){return mod$1(Zs,ms)}function Ts(Zs){return invert$1(Zs,ms)}const{ProjectivePoint:Ss,normPrivateKeyToScalar:Rs,weierstrassEquation:Bs,isWithinCurveOrder:Is}=weierstrassPoints$1({...t,toBytes(Zs,Wa,Za){const iu=Wa.toAffine(),au=et.toBytes(iu.x),nu=concatBytes$3;return Za?nu(Uint8Array.from([Wa.hasEvenY()?2:3]),au):nu(Uint8Array.from([4]),au,et.toBytes(iu.y))},fromBytes(Zs){const Wa=Zs.length,Za=Zs[0],iu=Zs.subarray(1);if(Wa===ws&&(Za===2||Za===3)){const au=bytesToNumberBE$1(iu);if(!_s(au))throw new Error("Point is not on curve");const nu=Bs(au);let uu=et.sqrt(nu);const fu=(uu&_1n$7)===_1n$7;return(Za&1)===1!==fu&&(uu=et.neg(uu)),{x:au,y:uu}}else if(Wa===vs&&Za===4){const au=et.fromBytes(iu.subarray(0,et.BYTES)),nu=et.fromBytes(iu.subarray(et.BYTES,2*et.BYTES));return{x:au,y:nu}}else throw new Error(`Point of length ${Wa} was invalid. Expected ${ws} compressed bytes or ${vs} uncompressed bytes`)}}),Ws=Zs=>bytesToHex$2(numberToBytesBE$1(Zs,t.nByteLength));function Hs(Zs){const Wa=ms>>_1n$7;return Zs>Wa}function Ns(Zs){return Hs(Zs)?Es(-Zs):Zs}const Js=(Zs,Wa,Za)=>bytesToNumberBE$1(Zs.slice(Wa,Za));class ha{constructor(Wa,Za,iu){this.r=Wa,this.s=Za,this.recovery=iu,this.assertValidity()}static fromCompact(Wa){const Za=t.nByteLength;return Wa=ensureBytes$1("compactSignature",Wa,Za*2),new ha(Js(Wa,0,Za),Js(Wa,Za,2*Za))}static fromDER(Wa){const{r:Za,s:iu}=DER$1.toSig(ensureBytes$1("DER",Wa));return new ha(Za,iu)}assertValidity(){if(!Is(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Is(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Wa){return new ha(this.r,this.s,Wa)}recoverPublicKey(Wa){const{r:Za,s:iu,recovery:au}=this,nu=tu(ensureBytes$1("msgHash",Wa));if(au==null||![0,1,2,3].includes(au))throw new Error("recovery id invalid");const uu=au===2||au===3?Za+t.n:Za;if(uu>=et.ORDER)throw new Error("recovery id 2 or 3 invalid");const fu=(au&1)===0?"02":"03",hu=Ss.fromHex(fu+Ws(uu)),Eu=Ts(uu),$u=Es(-nu*Eu),Ou=Es(iu*Eu),gu=Ss.BASE.multiplyAndAddUnsafe(hu,$u,Ou);if(!gu)throw new Error("point at infinify");return gu.assertValidity(),gu}hasHighS(){return Hs(this.s)}normalizeS(){return this.hasHighS()?new ha(this.r,Es(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$2(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$2(this.toCompactHex())}toCompactHex(){return Ws(this.r)+Ws(this.s)}}const pa={isValidPrivateKey(Zs){try{return Rs(Zs),!0}catch{return!1}},normPrivateKeyToScalar:Rs,randomPrivateKey:()=>{const Zs=getMinHashLength$1(t.n);return mapHashToField$1(t.randomBytes(Zs),t.n)},precompute(Zs=8,Wa=Ss.BASE){return Wa._setWindowSize(Zs),Wa.multiply(BigInt(3)),Wa}};function za(Zs,Wa=!0){return Ss.fromPrivateKey(Zs).toRawBytes(Wa)}function Ya(Zs){const Wa=Zs instanceof Uint8Array,Za=typeof Zs=="string",iu=(Wa||Za)&&Zs.length;return Wa?iu===ws||iu===vs:Za?iu===2*ws||iu===2*vs:Zs instanceof Ss}function Bc(Zs,Wa,Za=!0){if(Ya(Zs))throw new Error("first arg must be private key");if(!Ya(Wa))throw new Error("second arg must be public key");return Ss.fromHex(Wa).multiply(Rs(Zs)).toRawBytes(Za)}const Qa=t.bits2int||function(Zs){const Wa=bytesToNumberBE$1(Zs),Za=Zs.length*8-t.nBitLength;return Za>0?Wa>>BigInt(Za):Wa},tu=t.bits2int_modN||function(Zs){return Es(Qa(Zs))},eu=bitMask$1(t.nBitLength);function ru(Zs){if(typeof Zs!="bigint")throw new Error("bigint expected");if(!(_0n$5<=Zs&&Zs<eu))throw new Error(`bigint expected < 2^${t.nBitLength}`);return numberToBytesBE$1(Zs,t.nByteLength)}function cu(Zs,Wa,Za=ou){if(["recovered","canonical"].some(Tu=>Tu in Za))throw new Error("sign() legacy options not supported");const{hash:iu,randomBytes:au}=t;let{lowS:nu,prehash:uu,extraEntropy:fu}=Za;nu==null&&(nu=!0),Zs=ensureBytes$1("msgHash",Zs),uu&&(Zs=ensureBytes$1("prehashed msgHash",iu(Zs)));const hu=tu(Zs),Eu=Rs(Wa),$u=[ru(Eu),ru(hu)];if(fu!=null){const Tu=fu===!0?au(et.BYTES):fu;$u.push(ensureBytes$1("extraEntropy",Tu))}const Ou=concatBytes$3(...$u),gu=hu;function yu(Tu){const du=Qa(Tu);if(!Is(du))return;const wu=Ts(du),Ru=Ss.BASE.multiply(du).toAffine(),Ku=Es(Ru.x);if(Ku===_0n$5)return;const Zu=Es(wu*Es(gu+Ku*Eu));if(Zu===_0n$5)return;let tl=(Ru.x===Ku?0:2)|Number(Ru.y&_1n$7),sl=Zu;return nu&&Hs(Zu)&&(sl=Ns(Zu),tl^=1),new ha(Ku,sl,tl)}return{seed:Ou,k2sig:yu}}const ou={lowS:t.lowS,prehash:!1},Ga={lowS:t.lowS,prehash:!1};function Xa(Zs,Wa,Za=ou){const{seed:iu,k2sig:au}=cu(Zs,Wa,Za),nu=t;return createHmacDrbg$1(nu.hash.outputLen,nu.nByteLength,nu.hmac)(iu,au)}Ss.BASE._setWindowSize(8);function Fa(Zs,Wa,Za,iu=Ga){const au=Zs;if(Wa=ensureBytes$1("msgHash",Wa),Za=ensureBytes$1("publicKey",Za),"strict"in iu)throw new Error("options.strict was renamed to lowS");const{lowS:nu,prehash:uu}=iu;let fu,hu;try{if(typeof au=="string"||au instanceof Uint8Array)try{fu=ha.fromDER(au)}catch(Ru){if(!(Ru instanceof DER$1.Err))throw Ru;fu=ha.fromCompact(au)}else if(typeof au=="object"&&typeof au.r=="bigint"&&typeof au.s=="bigint"){const{r:Ru,s:Ku}=au;fu=new ha(Ru,Ku)}else throw new Error("PARSE");hu=Ss.fromHex(Za)}catch(Ru){if(Ru.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(nu&&fu.hasHighS())return!1;uu&&(Wa=t.hash(Wa));const{r:Eu,s:$u}=fu,Ou=tu(Wa),gu=Ts($u),yu=Es(Ou*gu),Tu=Es(Eu*gu),du=Ss.BASE.multiplyAndAddUnsafe(hu,yu,Tu)?.toAffine();return du?Es(du.x)===Eu:!1}return{CURVE:t,getPublicKey:za,getSharedSecret:Bc,sign:Xa,verify:Fa,ProjectivePoint:Ss,Signature:ha,utils:pa}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(st){return{hash:st,hmac:(t,...et)=>hmac$4(st,t,concatBytes$4(...et)),randomBytes:randomBytes$4}}function createCurve$1(st,t){const et=ms=>weierstrass$1({...st,...getHash$1(ms)});return Object.freeze({...et(t),create:et})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$6=BigInt(1),_2n$4=BigInt(2),divNearest$1=(st,t)=>(st+t/_2n$4)/t;function sqrtMod$1(st){const t=secp256k1P$1,et=BigInt(3),ms=BigInt(6),ws=BigInt(11),vs=BigInt(22),_s=BigInt(23),Es=BigInt(44),Ts=BigInt(88),Ss=st*st*st%t,Rs=Ss*Ss*st%t,Bs=pow2$1(Rs,et,t)*Rs%t,Is=pow2$1(Bs,et,t)*Rs%t,Ws=pow2$1(Is,_2n$4,t)*Ss%t,Hs=pow2$1(Ws,ws,t)*Ws%t,Ns=pow2$1(Hs,vs,t)*Hs%t,Js=pow2$1(Ns,Es,t)*Ns%t,ha=pow2$1(Js,Ts,t)*Js%t,pa=pow2$1(ha,Es,t)*Ns%t,za=pow2$1(pa,et,t)*Rs%t,Ya=pow2$1(za,_s,t)*Hs%t,Bc=pow2$1(Ya,ms,t)*Ss%t,Qa=pow2$1(Bc,_2n$4,t);if(!Fp$1.eql(Fp$1.sqr(Qa),st))throw new Error("Cannot find square root");return Qa}const Fp$1=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$2=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fp$1,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:st=>{const t=secp256k1N$1,et=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ms=-_1n$6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ws=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),vs=et,_s=BigInt("0x100000000000000000000000000000000"),Es=divNearest$1(vs*st,t),Ts=divNearest$1(-ms*st,t);let Ss=mod$1(st-Es*et-Ts*ws,t),Rs=mod$1(-Es*ms-Ts*vs,t);const Bs=Ss>_s,Is=Rs>_s;if(Bs&&(Ss=t-Ss),Is&&(Rs=t-Rs),Ss>_s||Rs>_s)throw new Error("splitScalar: Endomorphism failed, k="+st);return{k1neg:Bs,k1:Ss,k2neg:Is,k2:Rs}}}},sha256$8);BigInt(0);secp256k1$2.ProjectivePoint;const ZeroAddress="0x0000000000000000000000000000000000000000",ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",MessagePrefix=`Ethereum Signed Message:
`,BN_0$5=BigInt(0),BN_1$3=BigInt(1),BN_2$1=BigInt(2),BN_27$1=BigInt(27),BN_28$1=BigInt(28),BN_35$1=BigInt(35),_guard$4={};function toUint256(st){return zeroPadValue(toBeArray(st),32)}class Signature{#e;#t;#r;#n;get r(){return this.#e}set r(t){assertArgument(dataLength(t)===32,"invalid r","value",t),this.#e=hexlify(t)}get s(){return this.#t}set s(t){assertArgument(dataLength(t)===32,"invalid s","value",t);const et=hexlify(t);assertArgument(parseInt(et.substring(0,3))<8,"non-canonical s","value",et),this.#t=et}get v(){return this.#r}set v(t){const et=getNumber(t,"value");assertArgument(et===27||et===28,"invalid v","v",t),this.#r=et}get networkV(){return this.#n}get legacyChainId(){const t=this.networkV;return t==null?null:Signature.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=getBytes(this.s);return this.yParity&&(t[0]|=128),hexlify(t)}get compactSerialized(){return concat$1([this.r,this.yParityAndS])}get serialized(){return concat$1([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,et,ms,ws){assertPrivate(t,_guard$4,"Signature"),this.#e=et,this.#t=ms,this.#r=ws,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Signature(_guard$4,this.r,this.s,this.v);return this.networkV&&(t.#n=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const et=getBigInt(t,"v");return et==BN_27$1||et==BN_28$1?BN_0$5:(assertArgument(et>=BN_35$1,"invalid EIP-155 v","v",t),(et-BN_35$1)/BN_2$1)}static getChainIdV(t,et){return getBigInt(t)*BN_2$1+BigInt(35+et-27)}static getNormalizedV(t){const et=getBigInt(t);return et===BN_0$5||et===BN_27$1?27:et===BN_1$3||et===BN_28$1?28:(assertArgument(et>=BN_35$1,"invalid v","v",t),et&BN_1$3?27:28)}static from(t){function et(Ss,Rs){assertArgument(Ss,Rs,"signature",t)}if(t==null)return new Signature(_guard$4,ZeroHash,ZeroHash,27);if(typeof t=="string"){const Ss=getBytes(t,"signature");if(Ss.length===64){const Rs=hexlify(Ss.slice(0,32)),Bs=Ss.slice(32,64),Is=Bs[0]&128?28:27;return Bs[0]&=127,new Signature(_guard$4,Rs,hexlify(Bs),Is)}if(Ss.length===65){const Rs=hexlify(Ss.slice(0,32)),Bs=Ss.slice(32,64);et((Bs[0]&128)===0,"non-canonical s");const Is=Signature.getNormalizedV(Ss[64]);return new Signature(_guard$4,Rs,hexlify(Bs),Is)}et(!1,"invalid raw signature length")}if(t instanceof Signature)return t.clone();const ms=t.r;et(ms!=null,"missing r");const ws=toUint256(ms),vs=function(Ss,Rs){if(Ss!=null)return toUint256(Ss);if(Rs!=null){et(isHexString(Rs,32),"invalid yParityAndS");const Bs=getBytes(Rs);return Bs[0]&=127,hexlify(Bs)}et(!1,"missing s")}(t.s,t.yParityAndS);et((getBytes(vs)[0]&128)==0,"non-canonical s");const{networkV:_s,v:Es}=function(Ss,Rs,Bs){if(Ss!=null){const Is=getBigInt(Ss);return{networkV:Is>=BN_35$1?Is:void 0,v:Signature.getNormalizedV(Is)}}if(Rs!=null)return et(isHexString(Rs,32),"invalid yParityAndS"),{v:getBytes(Rs)[0]&128?28:27};if(Bs!=null){switch(getNumber(Bs,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}et(!1,"invalid yParity")}et(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),Ts=new Signature(_guard$4,ws,vs,Es);return _s&&(Ts.#n=_s),et(t.yParity==null||getNumber(t.yParity,"sig.yParity")===Ts.yParity,"yParity mismatch"),et(t.yParityAndS==null||t.yParityAndS===Ts.yParityAndS,"yParityAndS mismatch"),Ts}}class SigningKey{#e;constructor(t){assertArgument(dataLength(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=hexlify(t)}get privateKey(){return this.#e}get publicKey(){return SigningKey.computePublicKey(this.#e)}get compressedPublicKey(){return SigningKey.computePublicKey(this.#e,!0)}sign(t){assertArgument(dataLength(t)===32,"invalid digest length","digest",t);const et=secp256k1$2.sign(getBytesCopy(t),getBytesCopy(this.#e),{lowS:!0});return Signature.from({r:toBeHex(et.r,32),s:toBeHex(et.s,32),v:et.recovery?28:27})}computeSharedSecret(t){const et=SigningKey.computePublicKey(t);return hexlify(secp256k1$2.getSharedSecret(getBytesCopy(this.#e),getBytes(et),!1))}static computePublicKey(t,et){let ms=getBytes(t,"key");if(ms.length===32){const vs=secp256k1$2.getPublicKey(ms,!!et);return hexlify(vs)}if(ms.length===64){const vs=new Uint8Array(65);vs[0]=4,vs.set(ms,1),ms=vs}const ws=secp256k1$2.ProjectivePoint.fromHex(ms);return hexlify(ws.toRawBytes(et))}static recoverPublicKey(t,et){assertArgument(dataLength(t)===32,"invalid digest length","digest",t);const ms=Signature.from(et);let ws=secp256k1$2.Signature.fromCompact(getBytesCopy(concat$1([ms.r,ms.s])));ws=ws.addRecoveryBit(ms.yParity);const vs=ws.recoverPublicKey(getBytesCopy(t));return assertArgument(vs!=null,"invalid signautre for digest","signature",et),"0x"+vs.toHex(!1)}static addPoints(t,et,ms){const ws=secp256k1$2.ProjectivePoint.fromHex(SigningKey.computePublicKey(t).substring(2)),vs=secp256k1$2.ProjectivePoint.fromHex(SigningKey.computePublicKey(et).substring(2));return"0x"+ws.add(vs).toHex(!!ms)}}const BN_0$4=BigInt(0),BN_36=BigInt(36);function getChecksumAddress$1(st){st=st.toLowerCase();const t=st.substring(2).split(""),et=new Uint8Array(40);for(let ws=0;ws<40;ws++)et[ws]=t[ws].charCodeAt(0);const ms=getBytes(keccak256$1(et));for(let ws=0;ws<40;ws+=2)ms[ws>>1]>>4>=8&&(t[ws]=t[ws].toUpperCase()),(ms[ws>>1]&15)>=8&&(t[ws+1]=t[ws+1].toUpperCase());return"0x"+t.join("")}const ibanLookup={};for(let st=0;st<10;st++)ibanLookup[String(st)]=String(st);for(let st=0;st<26;st++)ibanLookup[String.fromCharCode(65+st)]=String(10+st);const safeDigits=15;function ibanChecksum(st){st=st.toUpperCase(),st=st.substring(4)+st.substring(0,2)+"00";let t=st.split("").map(ms=>ibanLookup[ms]).join("");for(;t.length>=safeDigits;){let ms=t.substring(0,safeDigits);t=parseInt(ms,10)%97+t.substring(ms.length)}let et=String(98-parseInt(t,10)%97);for(;et.length<2;)et="0"+et;return et}const Base36=function(){const st={};for(let t=0;t<36;t++){const et="0123456789abcdefghijklmnopqrstuvwxyz"[t];st[et]=BigInt(t)}return st}();function fromBase36(st){st=st.toLowerCase();let t=BN_0$4;for(let et=0;et<st.length;et++)t=t*BN_36+Base36[st[et]];return t}function getAddress$1(st){if(assertArgument(typeof st=="string","invalid address","address",st),st.match(/^(0x)?[0-9a-fA-F]{40}$/)){st.startsWith("0x")||(st="0x"+st);const t=getChecksumAddress$1(st);return assertArgument(!st.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===st,"bad address checksum","address",st),t}if(st.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(st.substring(2,4)===ibanChecksum(st),"bad icap checksum","address",st);let t=fromBase36(st.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return getChecksumAddress$1("0x"+t)}assertArgument(!1,"invalid address","address",st)}function isAddressable(st){return st&&typeof st.getAddress=="function"}async function checkAddress(st,t){const et=await t;return(et==null||et==="0x0000000000000000000000000000000000000000")&&(assert(typeof st!="string","unconfigured name","UNCONFIGURED_NAME",{value:st}),assertArgument(!1,"invalid AddressLike value; did not resolve to a value address","target",st)),getAddress$1(et)}function resolveAddress(st,t){if(typeof st=="string")return st.match(/^0x[0-9a-f]{40}$/i)?getAddress$1(st):(assert(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress(st,t.resolveName(st)));if(isAddressable(st))return checkAddress(st,st.getAddress());if(st&&typeof st.then=="function")return checkAddress(st,st);assertArgument(!1,"unsupported addressable value","target",st)}const _gaurd={};function n$3(st,t){let et=!1;return t<0&&(et=!0,t*=-1),new Typed(_gaurd,`${et?"":"u"}int${t}`,st,{signed:et,width:t})}function b$4(st,t){return new Typed(_gaurd,`bytes${t||""}`,st,{size:t})}const _typedSymbol=Symbol.for("_ethers_typed");class Typed{type;value;#e;_typedSymbol;constructor(t,et,ms,ws){ws==null&&(ws=null),assertPrivate(_gaurd,t,"Typed"),defineProperties(this,{_typedSymbol,type:et,value:ms}),this.#e=ws,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(t,et){return new Typed(_gaurd,t,et)}static uint8(t){return n$3(t,8)}static uint16(t){return n$3(t,16)}static uint24(t){return n$3(t,24)}static uint32(t){return n$3(t,32)}static uint40(t){return n$3(t,40)}static uint48(t){return n$3(t,48)}static uint56(t){return n$3(t,56)}static uint64(t){return n$3(t,64)}static uint72(t){return n$3(t,72)}static uint80(t){return n$3(t,80)}static uint88(t){return n$3(t,88)}static uint96(t){return n$3(t,96)}static uint104(t){return n$3(t,104)}static uint112(t){return n$3(t,112)}static uint120(t){return n$3(t,120)}static uint128(t){return n$3(t,128)}static uint136(t){return n$3(t,136)}static uint144(t){return n$3(t,144)}static uint152(t){return n$3(t,152)}static uint160(t){return n$3(t,160)}static uint168(t){return n$3(t,168)}static uint176(t){return n$3(t,176)}static uint184(t){return n$3(t,184)}static uint192(t){return n$3(t,192)}static uint200(t){return n$3(t,200)}static uint208(t){return n$3(t,208)}static uint216(t){return n$3(t,216)}static uint224(t){return n$3(t,224)}static uint232(t){return n$3(t,232)}static uint240(t){return n$3(t,240)}static uint248(t){return n$3(t,248)}static uint256(t){return n$3(t,256)}static uint(t){return n$3(t,256)}static int8(t){return n$3(t,-8)}static int16(t){return n$3(t,-16)}static int24(t){return n$3(t,-24)}static int32(t){return n$3(t,-32)}static int40(t){return n$3(t,-40)}static int48(t){return n$3(t,-48)}static int56(t){return n$3(t,-56)}static int64(t){return n$3(t,-64)}static int72(t){return n$3(t,-72)}static int80(t){return n$3(t,-80)}static int88(t){return n$3(t,-88)}static int96(t){return n$3(t,-96)}static int104(t){return n$3(t,-104)}static int112(t){return n$3(t,-112)}static int120(t){return n$3(t,-120)}static int128(t){return n$3(t,-128)}static int136(t){return n$3(t,-136)}static int144(t){return n$3(t,-144)}static int152(t){return n$3(t,-152)}static int160(t){return n$3(t,-160)}static int168(t){return n$3(t,-168)}static int176(t){return n$3(t,-176)}static int184(t){return n$3(t,-184)}static int192(t){return n$3(t,-192)}static int200(t){return n$3(t,-200)}static int208(t){return n$3(t,-208)}static int216(t){return n$3(t,-216)}static int224(t){return n$3(t,-224)}static int232(t){return n$3(t,-232)}static int240(t){return n$3(t,-240)}static int248(t){return n$3(t,-248)}static int256(t){return n$3(t,-256)}static int(t){return n$3(t,-256)}static bytes1(t){return b$4(t,1)}static bytes2(t){return b$4(t,2)}static bytes3(t){return b$4(t,3)}static bytes4(t){return b$4(t,4)}static bytes5(t){return b$4(t,5)}static bytes6(t){return b$4(t,6)}static bytes7(t){return b$4(t,7)}static bytes8(t){return b$4(t,8)}static bytes9(t){return b$4(t,9)}static bytes10(t){return b$4(t,10)}static bytes11(t){return b$4(t,11)}static bytes12(t){return b$4(t,12)}static bytes13(t){return b$4(t,13)}static bytes14(t){return b$4(t,14)}static bytes15(t){return b$4(t,15)}static bytes16(t){return b$4(t,16)}static bytes17(t){return b$4(t,17)}static bytes18(t){return b$4(t,18)}static bytes19(t){return b$4(t,19)}static bytes20(t){return b$4(t,20)}static bytes21(t){return b$4(t,21)}static bytes22(t){return b$4(t,22)}static bytes23(t){return b$4(t,23)}static bytes24(t){return b$4(t,24)}static bytes25(t){return b$4(t,25)}static bytes26(t){return b$4(t,26)}static bytes27(t){return b$4(t,27)}static bytes28(t){return b$4(t,28)}static bytes29(t){return b$4(t,29)}static bytes30(t){return b$4(t,30)}static bytes31(t){return b$4(t,31)}static bytes32(t){return b$4(t,32)}static address(t){return new Typed(_gaurd,"address",t)}static bool(t){return new Typed(_gaurd,"bool",!!t)}static bytes(t){return new Typed(_gaurd,"bytes",t)}static string(t){return new Typed(_gaurd,"string",t)}static array(t,et){throw new Error("not implemented yet")}static tuple(t,et){throw new Error("not implemented yet")}static overrides(t){return new Typed(_gaurd,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===_typedSymbol}static dereference(t,et){if(Typed.isTyped(t)){if(t.type!==et)throw new Error(`invalid type: expecetd ${et}, got ${t.type}`);return t.value}return t}}class AddressCoder extends Coder{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,et){let ms=Typed.dereference(et,"string");try{ms=getAddress$1(ms)}catch(ws){return this._throwError(ws.message,et)}return t.writeValue(ms)}decode(t){return getAddress$1(toBeHex(t.readValue(),20))}}class AnonymousCoder extends Coder{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,et){return this.coder.encode(t,et)}decode(t){return this.coder.decode(t)}}function pack(st,t,et){let ms=[];if(Array.isArray(et))ms=et;else if(et&&typeof et=="object"){let Ts={};ms=t.map(Ss=>{const Rs=Ss.localName;return assert(Rs,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:Ss},value:et}),assert(!Ts[Rs],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:Ss},value:et}),Ts[Rs]=!0,et[Rs]})}else assertArgument(!1,"invalid tuple value","tuple",et);assertArgument(t.length===ms.length,"types/value length mismatch","tuple",et);let ws=new Writer,vs=new Writer,_s=[];t.forEach((Ts,Ss)=>{let Rs=ms[Ss];if(Ts.dynamic){let Bs=vs.length;Ts.encode(vs,Rs);let Is=ws.writeUpdatableValue();_s.push(Ws=>{Is(Ws+Bs)})}else Ts.encode(ws,Rs)}),_s.forEach(Ts=>{Ts(ws.length)});let Es=st.appendWriter(ws);return Es+=st.appendWriter(vs),Es}function unpack(st,t){let et=[],ms=[],ws=st.subReader(0);return t.forEach(vs=>{let _s=null;if(vs.dynamic){let Es=st.readIndex(),Ts=ws.subReader(Es);try{_s=vs.decode(Ts)}catch(Ss){if(isError(Ss,"BUFFER_OVERRUN"))throw Ss;_s=Ss,_s.baseType=vs.name,_s.name=vs.localName,_s.type=vs.type}}else try{_s=vs.decode(st)}catch(Es){if(isError(Es,"BUFFER_OVERRUN"))throw Es;_s=Es,_s.baseType=vs.name,_s.name=vs.localName,_s.type=vs.type}if(_s==null)throw new Error("investigate");et.push(_s),ms.push(vs.localName||null)}),Result.fromItems(et,ms)}class ArrayCoder extends Coder{coder;length;constructor(t,et,ms){const ws=t.type+"["+(et>=0?et:"")+"]",vs=et===-1||t.dynamic;super("array",ws,ms,vs),defineProperties(this,{coder:t,length:et})}defaultValue(){const t=this.coder.defaultValue(),et=[];for(let ms=0;ms<this.length;ms++)et.push(t);return et}encode(t,et){const ms=Typed.dereference(et,"array");Array.isArray(ms)||this._throwError("expected array value",ms);let ws=this.length;ws===-1&&(ws=ms.length,t.writeValue(ms.length)),assertArgumentCount(ms.length,ws,"coder array"+(this.localName?" "+this.localName:""));let vs=[];for(let _s=0;_s<ms.length;_s++)vs.push(this.coder);return pack(t,vs,ms)}decode(t){let et=this.length;et===-1&&(et=t.readIndex(),assert(et*WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:et*WordSize,length:t.dataLength}));let ms=[];for(let ws=0;ws<et;ws++)ms.push(new AnonymousCoder(this.coder));return unpack(t,ms)}}class BooleanCoder extends Coder{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,et){const ms=Typed.dereference(et,"bool");return t.writeValue(ms?1:0)}decode(t){return!!t.readValue()}}class DynamicBytesCoder extends Coder{constructor(t,et){super(t,t,et,!0)}defaultValue(){return"0x"}encode(t,et){et=getBytesCopy(et);let ms=t.writeValue(et.length);return ms+=t.writeBytes(et),ms}decode(t){return t.readBytes(t.readIndex(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(t){super("bytes",t)}decode(t){return hexlify(super.decode(t))}}class FixedBytesCoder extends Coder{size;constructor(t,et){let ms="bytes"+String(t);super(ms,ms,et,!1),defineProperties(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,et){let ms=getBytesCopy(Typed.dereference(et,this.type));return ms.length!==this.size&&this._throwError("incorrect data length",et),t.writeBytes(ms)}decode(t){return hexlify(t.readBytes(this.size))}}const Empty=new Uint8Array([]);class NullCoder extends Coder{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,et){return et!=null&&this._throwError("not null",et),t.writeBytes(Empty)}decode(t){return t.readBytes(0),null}}const BN_0$3=BigInt(0),BN_1$2=BigInt(1),BN_MAX_UINT256$2=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{size;signed;constructor(t,et,ms){const ws=(et?"int":"uint")+t*8;super(ws,ws,ms,!1),defineProperties(this,{size:t,signed:et},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,et){let ms=getBigInt(Typed.dereference(et,this.type)),ws=mask(BN_MAX_UINT256$2,WordSize*8);if(this.signed){let vs=mask(ws,this.size*8-1);(ms>vs||ms<-(vs+BN_1$2))&&this._throwError("value out-of-bounds",et),ms=toTwos(ms,8*WordSize)}else(ms<BN_0$3||ms>mask(ws,this.size*8))&&this._throwError("value out-of-bounds",et);return t.writeValue(ms)}decode(t){let et=mask(t.readValue(),this.size*8);return this.signed&&(et=fromTwos(et,this.size*8)),et}}class StringCoder extends DynamicBytesCoder{constructor(t){super("string",t)}defaultValue(){return""}encode(t,et){return super.encode(t,toUtf8Bytes(Typed.dereference(et,"string")))}decode(t){return toUtf8String(super.decode(t))}}class TupleCoder extends Coder{coders;constructor(t,et){let ms=!1;const ws=[];t.forEach(_s=>{_s.dynamic&&(ms=!0),ws.push(_s.type)});const vs="tuple("+ws.join(",")+")";super("tuple",vs,et,ms),defineProperties(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(ms=>{t.push(ms.defaultValue())});const et=this.coders.reduce((ms,ws)=>{const vs=ws.localName;return vs&&(ms[vs]||(ms[vs]=0),ms[vs]++),ms},{});return this.coders.forEach((ms,ws)=>{let vs=ms.localName;!vs||et[vs]!==1||(vs==="length"&&(vs="_length"),t[vs]==null&&(t[vs]=t[ws]))}),Object.freeze(t)}encode(t,et){const ms=Typed.dereference(et,"tuple");return pack(t,this.coders,ms)}decode(t){return unpack(t,this.coders)}}function id(st){return keccak256$1(toUtf8Bytes(st))}function accessSetify(st,t){return{address:getAddress$1(st),storageKeys:t.map((et,ms)=>(assertArgument(isHexString(et,32),"invalid slot",`storageKeys[${ms}]`,et),et.toLowerCase()))}}function accessListify(st){if(Array.isArray(st))return st.map((et,ms)=>Array.isArray(et)?(assertArgument(et.length===2,"invalid slot set",`value[${ms}]`,et),accessSetify(et[0],et[1])):(assertArgument(et!=null&&typeof et=="object","invalid address-slot set","value",st),accessSetify(et.address,et.storageKeys)));assertArgument(st!=null&&typeof st=="object","invalid access list","value",st);const t=Object.keys(st).map(et=>{const ms=st[et].reduce((ws,vs)=>(ws[vs]=!0,ws),{});return accessSetify(et,Object.keys(ms).sort())});return t.sort((et,ms)=>et.address.localeCompare(ms.address)),t}function computeAddress$1(st){let t;return typeof st=="string"?t=SigningKey.computePublicKey(st,!1):t=st.publicKey,getAddress$1(keccak256$1("0x"+t.substring(4)).substring(26))}function recoverAddress$1(st,t){return computeAddress$1(SigningKey.recoverPublicKey(st,t))}const BN_0$2=BigInt(0),BN_2=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),BN_MAX_UINT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BLOB_SIZE=4096*32;function getVersionedHash(st,t){let et=st.toString(16);for(;et.length<2;)et="0"+et;return et+=sha256$7(t).substring(4),"0x"+et}function handleAddress(st){return st==="0x"?null:getAddress$1(st)}function handleAccessList(st,t){try{return accessListify(st)}catch(et){assertArgument(!1,et.message,t,st)}}function handleNumber(st,t){return st==="0x"?0:getNumber(st,t)}function handleUint(st,t){if(st==="0x")return BN_0$2;const et=getBigInt(st,t);return assertArgument(et<=BN_MAX_UINT,"value exceeds uint size",t,et),et}function formatNumber(st,t){const et=getBigInt(st,"value"),ms=toBeArray(et);return assertArgument(ms.length<=32,"value too large",`tx.${t}`,et),ms}function formatAccessList(st){return accessListify(st).map(t=>[t.address,t.storageKeys])}function formatHashes(st,t){assertArgument(Array.isArray(st),`invalid ${t}`,"value",st);for(let et=0;et<st.length;et++)assertArgument(isHexString(st[et],32),"invalid ${ param } hash",`value[${et}]`,st[et]);return st}function _parseLegacy(st){const t=decodeRlp(st);assertArgument(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",st);const et={type:0,nonce:handleNumber(t[0],"nonce"),gasPrice:handleUint(t[1],"gasPrice"),gasLimit:handleUint(t[2],"gasLimit"),to:handleAddress(t[3]),value:handleUint(t[4],"value"),data:hexlify(t[5]),chainId:BN_0$2};if(t.length===6)return et;const ms=handleUint(t[6],"v"),ws=handleUint(t[7],"r"),vs=handleUint(t[8],"s");if(ws===BN_0$2&&vs===BN_0$2)et.chainId=ms;else{let _s=(ms-BN_35)/BN_2;_s<BN_0$2&&(_s=BN_0$2),et.chainId=_s,assertArgument(_s!==BN_0$2||ms===BN_27||ms===BN_28,"non-canonical legacy v","v",t[6]),et.signature=Signature.from({r:zeroPadValue(t[7],32),s:zeroPadValue(t[8],32),v:ms})}return et}function _serializeLegacy(st,t){const et=[formatNumber(st.nonce,"nonce"),formatNumber(st.gasPrice||0,"gasPrice"),formatNumber(st.gasLimit,"gasLimit"),st.to||"0x",formatNumber(st.value,"value"),st.data];let ms=BN_0$2;if(st.chainId!=BN_0$2)ms=getBigInt(st.chainId,"tx.chainId"),assertArgument(!t||t.networkV==null||t.legacyChainId===ms,"tx.chainId/sig.v mismatch","sig",t);else if(st.signature){const vs=st.signature.legacyChainId;vs!=null&&(ms=vs)}if(!t)return ms!==BN_0$2&&(et.push(toBeArray(ms)),et.push("0x"),et.push("0x")),encodeRlp(et);let ws=BigInt(27+t.yParity);return ms!==BN_0$2?ws=Signature.getChainIdV(ms,t.v):BigInt(t.v)!==ws&&assertArgument(!1,"tx.chainId/sig.v mismatch","sig",t),et.push(toBeArray(ws)),et.push(toBeArray(t.r)),et.push(toBeArray(t.s)),encodeRlp(et)}function _parseEipSignature(st,t){let et;try{if(et=handleNumber(t[0],"yParity"),et!==0&&et!==1)throw new Error("bad yParity")}catch{assertArgument(!1,"invalid yParity","yParity",t[0])}const ms=zeroPadValue(t[1],32),ws=zeroPadValue(t[2],32),vs=Signature.from({r:ms,s:ws,yParity:et});st.signature=vs}function _parseEip1559(st){const t=decodeRlp(getBytes(st).slice(1));assertArgument(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",hexlify(st));const et={type:2,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),maxPriorityFeePerGas:handleUint(t[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(t[4],"gasLimit"),to:handleAddress(t[5]),value:handleUint(t[6],"value"),data:hexlify(t[7]),accessList:handleAccessList(t[8],"accessList")};return t.length===9||_parseEipSignature(et,t.slice(9)),et}function _serializeEip1559(st,t){const et=[formatNumber(st.chainId,"chainId"),formatNumber(st.nonce,"nonce"),formatNumber(st.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(st.maxFeePerGas||0,"maxFeePerGas"),formatNumber(st.gasLimit,"gasLimit"),st.to||"0x",formatNumber(st.value,"value"),st.data,formatAccessList(st.accessList||[])];return t&&(et.push(formatNumber(t.yParity,"yParity")),et.push(toBeArray(t.r)),et.push(toBeArray(t.s))),concat$1(["0x02",encodeRlp(et)])}function _parseEip2930(st){const t=decodeRlp(getBytes(st).slice(1));assertArgument(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",hexlify(st));const et={type:1,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),gasPrice:handleUint(t[2],"gasPrice"),gasLimit:handleUint(t[3],"gasLimit"),to:handleAddress(t[4]),value:handleUint(t[5],"value"),data:hexlify(t[6]),accessList:handleAccessList(t[7],"accessList")};return t.length===8||_parseEipSignature(et,t.slice(8)),et}function _serializeEip2930(st,t){const et=[formatNumber(st.chainId,"chainId"),formatNumber(st.nonce,"nonce"),formatNumber(st.gasPrice||0,"gasPrice"),formatNumber(st.gasLimit,"gasLimit"),st.to||"0x",formatNumber(st.value,"value"),st.data,formatAccessList(st.accessList||[])];return t&&(et.push(formatNumber(t.yParity,"recoveryParam")),et.push(toBeArray(t.r)),et.push(toBeArray(t.s))),concat$1(["0x01",encodeRlp(et)])}function _parseEip4844(st){let t=decodeRlp(getBytes(st).slice(1)),et="3",ms=null;if(t.length===4&&Array.isArray(t[0])){et="3 (network format)";const vs=t[1],_s=t[2],Es=t[3];assertArgument(Array.isArray(vs),"invalid network format: blobs not an array","fields[1]",vs),assertArgument(Array.isArray(_s),"invalid network format: commitments not an array","fields[2]",_s),assertArgument(Array.isArray(Es),"invalid network format: proofs not an array","fields[3]",Es),assertArgument(vs.length===_s.length,"invalid network format: blobs/commitments length mismatch","fields",t),assertArgument(vs.length===Es.length,"invalid network format: blobs/proofs length mismatch","fields",t),ms=[];for(let Ts=0;Ts<t[1].length;Ts++)ms.push({data:vs[Ts],commitment:_s[Ts],proof:Es[Ts]});t=t[0]}assertArgument(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${et}`,"data",hexlify(st));const ws={type:3,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),maxPriorityFeePerGas:handleUint(t[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(t[4],"gasLimit"),to:handleAddress(t[5]),value:handleUint(t[6],"value"),data:hexlify(t[7]),accessList:handleAccessList(t[8],"accessList"),maxFeePerBlobGas:handleUint(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};ms&&(ws.blobs=ms),assertArgument(ws.to!=null,`invalid address for transaction type: ${et}`,"data",st),assertArgument(Array.isArray(ws.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",st);for(let vs=0;vs<ws.blobVersionedHashes.length;vs++)assertArgument(isHexString(ws.blobVersionedHashes[vs],32),`invalid blobVersionedHash at index ${vs}: must be length 32`,"data",st);return t.length===11||_parseEipSignature(ws,t.slice(11)),ws}function _serializeEip4844(st,t,et){const ms=[formatNumber(st.chainId,"chainId"),formatNumber(st.nonce,"nonce"),formatNumber(st.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(st.maxFeePerGas||0,"maxFeePerGas"),formatNumber(st.gasLimit,"gasLimit"),st.to||ZeroAddress,formatNumber(st.value,"value"),st.data,formatAccessList(st.accessList||[]),formatNumber(st.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(st.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(ms.push(formatNumber(t.yParity,"yParity")),ms.push(toBeArray(t.r)),ms.push(toBeArray(t.s)),et)?concat$1(["0x03",encodeRlp([ms,et.map(ws=>ws.data),et.map(ws=>ws.commitment),et.map(ws=>ws.proof)])]):concat$1(["0x03",encodeRlp(ms)])}let Transaction$1=class rd{#e;#t;#r;#n;#i;#o;#a;#l;#d;#h;#p;#g;#f;#c;#s;#u;get type(){return this.#e}set type(t){switch(t){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:assertArgument(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const t=this.#t;return t==null&&this.type===3?ZeroAddress:t}set to(t){this.#t=t==null?null:getAddress$1(t)}get nonce(){return this.#n}set nonce(t){this.#n=getNumber(t,"value")}get gasLimit(){return this.#i}set gasLimit(t){this.#i=getBigInt(t)}get gasPrice(){const t=this.#o;return t==null&&(this.type===0||this.type===1)?BN_0$2:t}set gasPrice(t){this.#o=t==null?null:getBigInt(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#a;return t??(this.type===2||this.type===3?BN_0$2:null)}set maxPriorityFeePerGas(t){this.#a=t==null?null:getBigInt(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#l;return t??(this.type===2||this.type===3?BN_0$2:null)}set maxFeePerGas(t){this.#l=t==null?null:getBigInt(t,"maxFeePerGas")}get data(){return this.#r}set data(t){this.#r=hexlify(t)}get value(){return this.#d}set value(t){this.#d=getBigInt(t,"value")}get chainId(){return this.#h}set chainId(t){this.#h=getBigInt(t)}get signature(){return this.#p||null}set signature(t){this.#p=t==null?null:Signature.from(t)}get accessList(){const t=this.#g||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){this.#g=t==null?null:accessListify(t)}get maxFeePerBlobGas(){const t=this.#f;return t==null&&this.type===3?BN_0$2:t}set maxFeePerBlobGas(t){this.#f=t==null?null:getBigInt(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#c;return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){assertArgument(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let et=0;et<t.length;et++)assertArgument(isHexString(t[et],32),"invalid blobVersionedHash",`value[${et}]`,t[et])}this.#c=t}get blobs(){return this.#u==null?null:this.#u.map(t=>Object.assign({},t))}set blobs(t){if(t==null){this.#u=null;return}const et=[],ms=[];for(let ws=0;ws<t.length;ws++){const vs=t[ws];if(isBytesLike(vs)){assert(this.#s,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let _s=getBytes(vs);if(assertArgument(_s.length<=BLOB_SIZE,"blob is too large",`blobs[${ws}]`,vs),_s.length!==BLOB_SIZE){const Ss=new Uint8Array(BLOB_SIZE);Ss.set(_s),_s=Ss}const Es=this.#s.blobToKzgCommitment(_s),Ts=hexlify(this.#s.computeBlobKzgProof(_s,Es));et.push({data:hexlify(_s),commitment:hexlify(Es),proof:Ts}),ms.push(getVersionedHash(1,Es))}else{const _s=hexlify(vs.commitment);et.push({data:hexlify(vs.data),commitment:_s,proof:hexlify(vs.proof)}),ms.push(getVersionedHash(1,_s))}}this.#u=et,this.#c=ms}get kzg(){return this.#s}set kzg(t){this.#s=t}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#i=BN_0$2,this.#o=null,this.#a=null,this.#l=null,this.#r="0x",this.#d=BN_0$2,this.#h=BN_0$2,this.#p=null,this.#g=null,this.#f=null,this.#c=null,this.#u=null,this.#s=null}get hash(){return this.signature==null?null:keccak256$1(this.#y(!0,!1))}get unsignedHash(){return keccak256$1(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress$1(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#y(t,et){assert(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const ms=t?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy(this,ms);case 1:return _serializeEip2930(this,ms);case 2:return _serializeEip1559(this,ms);case 3:return _serializeEip4844(this,ms,et?this.blobs:null)}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,et=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,ms=this.accessList!=null,ws=this.#f!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert(!et||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert(this.type!==0||!ms,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const vs=[];return this.type!=null?vs.push(this.type):et?vs.push(2):t?(vs.push(1),ms||vs.push(0)):ms?(vs.push(1),vs.push(2)):(ws&&this.to||(vs.push(0),vs.push(1),vs.push(2)),vs.push(3)),vs.sort(),vs}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return rd.from(this)}toJSON(){const t=et=>et==null?null:et.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new rd;if(typeof t=="string"){const ms=getBytes(t);if(ms[0]>=127)return rd.from(_parseLegacy(ms));switch(ms[0]){case 1:return rd.from(_parseEip2930(ms));case 2:return rd.from(_parseEip1559(ms));case 3:return rd.from(_parseEip4844(ms))}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const et=new rd;return t.type!=null&&(et.type=t.type),t.to!=null&&(et.to=t.to),t.nonce!=null&&(et.nonce=t.nonce),t.gasLimit!=null&&(et.gasLimit=t.gasLimit),t.gasPrice!=null&&(et.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(et.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(et.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(et.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(et.data=t.data),t.value!=null&&(et.value=t.value),t.chainId!=null&&(et.chainId=t.chainId),t.signature!=null&&(et.signature=Signature.from(t.signature)),t.accessList!=null&&(et.accessList=t.accessList),t.blobVersionedHashes!=null&&(et.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(et.kzg=t.kzg),t.blobs!=null&&(et.blobs=t.blobs),t.hash!=null&&(assertArgument(et.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),assertArgument(et.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(assertArgument(et.isSigned(),"unsigned transaction cannot define '.from'","tx",t),assertArgument(et.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),et}};function hashMessage$1(st){return typeof st=="string"&&(st=toUtf8Bytes(st)),keccak256$1(concat$1([toUtf8Bytes(MessagePrefix),toUtf8Bytes(String(st.length)),st]))}const padding$2=new Uint8Array(32);padding$2.fill(0);const BN__1$1=BigInt(-1),BN_0$1=BigInt(0),BN_1$1=BigInt(1),BN_MAX_UINT256$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight$1(st){const t=getBytes(st),et=t.length%32;return et?concat$1([t,padding$2.slice(et)]):hexlify(t)}const hexTrue$1=toBeHex(BN_1$1,32),hexFalse$1=toBeHex(BN_0$1,32),domainFieldTypes$1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames$1=["name","version","chainId","verifyingContract","salt"];function checkString$1(st){return function(t){return assertArgument(typeof t=="string",`invalid domain value for ${JSON.stringify(st)}`,`domain.${st}`,t),t}}const domainChecks$1={name:checkString$1("name"),version:checkString$1("version"),chainId:function(st){const t=getBigInt(st,"domain.chainId");return assertArgument(t>=0,"invalid chain ID","domain.chainId",st),Number.isSafeInteger(t)?Number(t):toQuantity(t)},verifyingContract:function(st){try{return getAddress$1(st).toLowerCase()}catch{}assertArgument(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",st)},salt:function(st){const t=getBytes(st,"domain.salt");return assertArgument(t.length===32,'invalid domain value "salt"',"domain.salt",st),hexlify(t)}};function getBaseEncoder$1(st){{const t=st.match(/^(u?)int(\d+)$/);if(t){const et=t[1]==="",ms=parseInt(t[2]);assertArgument(ms%8===0&&ms!==0&&ms<=256&&t[2]===String(ms),"invalid numeric width","type",st);const ws=mask(BN_MAX_UINT256$1,et?ms-1:ms),vs=et?(ws+BN_1$1)*BN__1$1:BN_0$1;return function(_s){const Es=getBigInt(_s,"value");return assertArgument(Es>=vs&&Es<=ws,`value out-of-bounds for ${st}`,"value",Es),toBeHex(et?toTwos(Es,256):Es,32)}}}{const t=st.match(/^bytes(\d+)$/);if(t){const et=parseInt(t[1]);return assertArgument(et!==0&&et<=32&&t[1]===String(et),"invalid bytes width","type",st),function(ms){const ws=getBytes(ms);return assertArgument(ws.length===et,`invalid length for ${st}`,"value",ms),hexPadRight$1(ms)}}}switch(st){case"address":return function(t){return zeroPadValue(getAddress$1(t),32)};case"bool":return function(t){return t?hexTrue$1:hexFalse$1};case"bytes":return function(t){return keccak256$1(t)};case"string":return function(t){return id(t)}}return null}function encodeType$1(st,t){return`${st}(${t.map(({name:et,type:ms})=>ms+" "+et).join(",")})`}function splitArray(st){const t=st.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:st}}let TypedDataEncoder$1=class ed{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(t){this.#t=new Map,this.#r=new Map;const et=new Map,ms=new Map,ws=new Map,vs={};Object.keys(t).forEach(Ts=>{vs[Ts]=t[Ts].map(({name:Ss,type:Rs})=>{let{base:Bs,index:Is}=splitArray(Rs);return Bs==="int"&&!t.int&&(Bs="int256"),Bs==="uint"&&!t.uint&&(Bs="uint256"),{name:Ss,type:Bs+(Is||"")}}),et.set(Ts,new Set),ms.set(Ts,[]),ws.set(Ts,new Set)}),this.#e=JSON.stringify(vs);for(const Ts in vs){const Ss=new Set;for(const Rs of vs[Ts]){assertArgument(!Ss.has(Rs.name),`duplicate variable name ${JSON.stringify(Rs.name)} in ${JSON.stringify(Ts)}`,"types",t),Ss.add(Rs.name);const Bs=splitArray(Rs.type).base;assertArgument(Bs!==Ts,`circular type reference to ${JSON.stringify(Bs)}`,"types",t),!getBaseEncoder$1(Bs)&&(assertArgument(ms.has(Bs),`unknown type ${JSON.stringify(Bs)}`,"types",t),ms.get(Bs).push(Ts),et.get(Ts).add(Bs))}}const _s=Array.from(ms.keys()).filter(Ts=>ms.get(Ts).length===0);assertArgument(_s.length!==0,"missing primary type","types",t),assertArgument(_s.length===1,`ambiguous primary types or unused types: ${_s.map(Ts=>JSON.stringify(Ts)).join(", ")}`,"types",t),defineProperties(this,{primaryType:_s[0]});function Es(Ts,Ss){assertArgument(!Ss.has(Ts),`circular type reference to ${JSON.stringify(Ts)}`,"types",t),Ss.add(Ts);for(const Rs of et.get(Ts))if(ms.has(Rs)){Es(Rs,Ss);for(const Bs of Ss)ws.get(Bs).add(Rs)}Ss.delete(Ts)}Es(this.primaryType,new Set);for(const[Ts,Ss]of ws){const Rs=Array.from(Ss);Rs.sort(),this.#t.set(Ts,encodeType$1(Ts,vs[Ts])+Rs.map(Bs=>encodeType$1(Bs,vs[Bs])).join(""))}}getEncoder(t){let et=this.#r.get(t);return et||(et=this.#n(t),this.#r.set(t,et)),et}#n(t){{const ws=getBaseEncoder$1(t);if(ws)return ws}const et=splitArray(t).array;if(et){const ws=et.prefix,vs=this.getEncoder(ws);return _s=>{assertArgument(et.count===-1||et.count===_s.length,`array length mismatch; expected length ${et.count}`,"value",_s);let Es=_s.map(vs);return this.#t.has(ws)&&(Es=Es.map(keccak256$1)),keccak256$1(concat$1(Es))}}const ms=this.types[t];if(ms){const ws=id(this.#t.get(t));return vs=>{const _s=ms.map(({name:Es,type:Ts})=>{const Ss=this.getEncoder(Ts)(vs[Es]);return this.#t.has(Ts)?keccak256$1(Ss):Ss});return _s.unshift(ws),concat$1(_s)}}assertArgument(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const et=this.#t.get(t);return assertArgument(et,`unknown type: ${JSON.stringify(t)}`,"name",t),et}encodeData(t,et){return this.getEncoder(t)(et)}hashStruct(t,et){return keccak256$1(this.encodeData(t,et))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,et,ms){if(getBaseEncoder$1(t))return ms(t,et);const ws=splitArray(t).array;if(ws)return assertArgument(ws.count===-1||ws.count===et.length,`array length mismatch; expected length ${ws.count}`,"value",et),et.map(_s=>this._visit(ws.prefix,_s,ms));const vs=this.types[t];if(vs)return vs.reduce((_s,{name:Es,type:Ts})=>(_s[Es]=this._visit(Ts,et[Es],ms),_s),{});assertArgument(!1,`unknown type: ${t}`,"type",t)}visit(t,et){return this._visit(this.primaryType,t,et)}static from(t){return new ed(t)}static getPrimaryType(t){return ed.from(t).primaryType}static hashStruct(t,et,ms){return ed.from(et).hashStruct(t,ms)}static hashDomain(t){const et=[];for(const ms in t){if(t[ms]==null)continue;const ws=domainFieldTypes$1[ms];assertArgument(ws,`invalid typed-data domain key: ${JSON.stringify(ms)}`,"domain",t),et.push({name:ms,type:ws})}return et.sort((ms,ws)=>domainFieldNames$1.indexOf(ms.name)-domainFieldNames$1.indexOf(ws.name)),ed.hashStruct("EIP712Domain",{EIP712Domain:et},t)}static encode(t,et,ms){return concat$1(["0x1901",ed.hashDomain(t),ed.from(et).hash(ms)])}static hash(t,et,ms){return keccak256$1(ed.encode(t,et,ms))}static async resolveNames(t,et,ms,ws){t=Object.assign({},t);for(const Es in t)t[Es]==null&&delete t[Es];const vs={};t.verifyingContract&&!isHexString(t.verifyingContract,20)&&(vs[t.verifyingContract]="0x");const _s=ed.from(et);_s.visit(ms,(Es,Ts)=>(Es==="address"&&!isHexString(Ts,20)&&(vs[Ts]="0x"),Ts));for(const Es in vs)vs[Es]=await ws(Es);return t.verifyingContract&&vs[t.verifyingContract]&&(t.verifyingContract=vs[t.verifyingContract]),ms=_s.visit(ms,(Es,Ts)=>Es==="address"&&vs[Ts]?vs[Ts]:Ts),{domain:t,value:ms}}static getPayload(t,et,ms){ed.hashDomain(t);const ws={},vs=[];domainFieldNames$1.forEach(Ts=>{const Ss=t[Ts];Ss!=null&&(ws[Ts]=domainChecks$1[Ts](Ss),vs.push({name:Ts,type:domainFieldTypes$1[Ts]}))});const _s=ed.from(et);et=_s.types;const Es=Object.assign({},et);return assertArgument(Es.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",et),Es.EIP712Domain=vs,_s.encode(ms),{types:Es,domain:ws,primaryType:_s.primaryType,message:_s.visit(ms,(Ts,Ss)=>{if(Ts.match(/^bytes(\d*)/))return hexlify(getBytes(Ss));if(Ts.match(/^u?int/))return getBigInt(Ss).toString();switch(Ts){case"address":return Ss.toLowerCase();case"bool":return!!Ss;case"string":return assertArgument(typeof Ss=="string","invalid string","value",Ss),Ss}assertArgument(!1,"unsupported type","type",Ts)})}}};function setify$1(st){const t=new Set;return st.forEach(et=>t.add(et)),Object.freeze(t)}const _kwVisibDeploy="external public payable override";setify$1(_kwVisibDeploy.split(" "));const _kwVisib$1="constant external internal payable private public pure view override";setify$1(_kwVisib$1.split(" "));const _kwTypes$1="constructor error event fallback function receive struct";setify$1(_kwTypes$1.split(" "));const _kwModifiers$1="calldata memory storage payable indexed",KwModifiers$1=setify$1(_kwModifiers$1.split(" ")),_kwOther$1="tuple returns",_keywords$1=[_kwTypes$1,_kwModifiers$1,_kwOther$1,_kwVisib$1].join(" "),Keywords$1=setify$1(_keywords$1.split(" ")),SimpleTokens$1={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix$1=new RegExp("^(\\s*)"),regexNumberPrefix$1=new RegExp("^([0-9]+)"),regexIdPrefix$1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId$1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType$1=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");let TokenString$1=class nd{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(t){this.#e=0,this.#t=t.slice()}clone(){return new nd(this.#t)}reset(){this.#e=0}#r(t=0,et=0){return new nd(this.#t.slice(t,et).map(ms=>Object.freeze(Object.assign({},ms,{match:ms.match-t,linkBack:ms.linkBack-t,linkNext:ms.linkNext-t}))))}popKeyword(t){const et=this.peek();if(et.type!=="KEYWORD"||!t.has(et.text))throw new Error(`expected keyword ${et.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const et=this.peek();throw new Error(`expected ${t}; got ${et.type} ${JSON.stringify(et.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const et=this.#r(this.#e+1,t.match+1);return this.#e=t.match+1,et}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const et=[];for(;this.#e<t.match-1;){const ms=this.peek().linkNext;et.push(this.#r(this.#e+1,ms)),this.#e=ms}return this.#e=t.match+1,et}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(t){const et=this.peekType("KEYWORD");return et!=null&&t.has(et)?et:null}peekType(t){if(this.length===0)return null;const et=this.peek();return et.type===t?et.text:null}pop(){const t=this.peek();return this.#e++,t}toString(){const t=[];for(let et=this.#e;et<this.#t.length;et++){const ms=this.#t[et];t.push(`${ms.type}:${ms.text}`)}return`<TokenString ${t.join(" ")}>`}};function lex$1(st){const t=[],et=_s=>{const Es=vs<st.length?JSON.stringify(st[vs]):"$EOI";throw new Error(`invalid token ${Es} at ${vs}: ${_s}`)};let ms=[],ws=[],vs=0;for(;vs<st.length;){let _s=st.substring(vs),Es=_s.match(regexWhitespacePrefix$1);Es&&(vs+=Es[1].length,_s=st.substring(vs));const Ts={depth:ms.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:vs,value:-1};t.push(Ts);let Ss=SimpleTokens$1[_s[0]]||"";if(Ss){if(Ts.type=Ss,Ts.text=_s[0],vs++,Ss==="OPEN_PAREN")ms.push(t.length-1),ws.push(t.length-1);else if(Ss=="CLOSE_PAREN")ms.length===0&&et("no matching open bracket"),Ts.match=ms.pop(),t[Ts.match].match=t.length-1,Ts.depth--,Ts.linkBack=ws.pop(),t[Ts.linkBack].linkNext=t.length-1;else if(Ss==="COMMA")Ts.linkBack=ws.pop(),t[Ts.linkBack].linkNext=t.length-1,ws.push(t.length-1);else if(Ss==="OPEN_BRACKET")Ts.type="BRACKET";else if(Ss==="CLOSE_BRACKET"){let Rs=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const Bs=t.pop().text;Rs=Bs+Rs,t[t.length-1].value=getNumber(Bs)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=Rs}continue}if(Es=_s.match(regexIdPrefix$1),Es){if(Ts.text=Es[1],vs+=Ts.text.length,Keywords$1.has(Ts.text)){Ts.type="KEYWORD";continue}if(Ts.text.match(regexType$1)){Ts.type="TYPE";continue}Ts.type="ID";continue}if(Es=_s.match(regexNumberPrefix$1),Es){Ts.text=Es[1],Ts.type="NUMBER",vs+=Ts.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(_s[0])} at position ${vs}`)}return new TokenString$1(t.map(_s=>Object.freeze(_s)))}function consumeKeywords$1(st,t){const et=new Set;for(;;){const ms=st.peekType("KEYWORD");if(ms==null||t&&!t.has(ms))break;if(st.pop(),et.has(ms))throw new Error(`duplicate keywords: ${JSON.stringify(ms)}`);et.add(ms)}return Object.freeze(et)}const regexArrayType$1=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType$1(st){const t=st.match(regexType$1);if(assertArgument(t,"invalid type","type",st),st==="uint")return"uint256";if(st==="int")return"int256";if(t[2]){const et=parseInt(t[2]);assertArgument(et!==0&&et<=32,"invalid bytes length","type",st)}else if(t[3]){const et=parseInt(t[3]);assertArgument(et!==0&&et<=256&&et%8===0,"invalid numeric width","type",st)}return st}const _guard$3={},internal$1=Symbol.for("_ethers_internal"),ParamTypeInternal$1="_ParamTypeInternal";let ParamType$1=class td{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,et,ms,ws,vs,_s,Es,Ts){if(assertPrivate(t,_guard$3,"ParamType"),Object.defineProperty(this,internal$1,{value:ParamTypeInternal$1}),_s&&(_s=Object.freeze(_s.slice())),ws==="array"){if(Es==null||Ts==null)throw new Error("")}else if(Es!=null||Ts!=null)throw new Error("");if(ws==="tuple"){if(_s==null)throw new Error("")}else if(_s!=null)throw new Error("");defineProperties(this,{name:et,type:ms,baseType:ws,indexed:vs,components:_s,arrayLength:Es,arrayChildren:Ts})}format(t){if(t==null&&(t="sighash"),t==="json"){const ms=this.name||"";if(this.isArray()){const vs=JSON.parse(this.arrayChildren.format("json"));return vs.name=ms,vs.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(vs)}const ws={type:this.baseType==="tuple"?"tuple":this.type,name:ms};return typeof this.indexed=="boolean"&&(ws.indexed=this.indexed),this.isTuple()&&(ws.components=this.components.map(vs=>JSON.parse(vs.format(t)))),JSON.stringify(ws)}let et="";return this.isArray()?(et+=this.arrayChildren.format(t),et+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?et+="("+this.components.map(ms=>ms.format(t)).join(t==="full"?", ":",")+")":et+=this.type,t!=="sighash"&&(this.indexed===!0&&(et+=" indexed"),t==="full"&&this.name&&(et+=" "+this.name)),et}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,et){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const ms=this;return t.map(ws=>ms.arrayChildren.walk(ws,et))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const ms=this;return t.map((ws,vs)=>ms.components[vs].walk(ws,et))}return et(this.type,t)}#e(t,et,ms,ws){if(this.isArray()){if(!Array.isArray(et))throw new Error("invalid array value");if(this.arrayLength!==-1&&et.length!==this.arrayLength)throw new Error("array is wrong length");const _s=this.arrayChildren,Es=et.slice();Es.forEach((Ts,Ss)=>{_s.#e(t,Ts,ms,Rs=>{Es[Ss]=Rs})}),ws(Es);return}if(this.isTuple()){const _s=this.components;let Es;if(Array.isArray(et))Es=et.slice();else{if(et==null||typeof et!="object")throw new Error("invalid tuple value");Es=_s.map(Ts=>{if(!Ts.name)throw new Error("cannot use object value with unnamed components");if(!(Ts.name in et))throw new Error(`missing value for component ${Ts.name}`);return et[Ts.name]})}if(Es.length!==this.components.length)throw new Error("array is wrong length");Es.forEach((Ts,Ss)=>{_s[Ss].#e(t,Ts,ms,Rs=>{Es[Ss]=Rs})}),ws(Es);return}const vs=ms(this.type,et);vs.then?t.push(async function(){ws(await vs)}()):ws(vs)}async walkAsync(t,et){const ms=[],ws=[t];return this.#e(ms,t,et,vs=>{ws[0]=vs}),ms.length&&await Promise.all(ms),ws[0]}static from(t,et){if(td.isParamType(t))return t;if(typeof t=="string")try{return td.from(lex$1(t),et)}catch{assertArgument(!1,"invalid param type","obj",t)}else if(t instanceof TokenString$1){let Es="",Ts="",Ss=null;consumeKeywords$1(t,setify$1(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(Ts="tuple",Ss=t.popParams().map(Ns=>td.from(Ns)),Es=`tuple(${Ss.map(Ns=>Ns.format()).join(",")})`):(Es=verifyBasicType$1(t.popType("TYPE")),Ts=Es);let Rs=null,Bs=null;for(;t.length&&t.peekType("BRACKET");){const Ns=t.pop();Rs=new td(_guard$3,"",Es,Ts,null,Ss,Bs,Rs),Bs=Ns.value,Es+=Ns.text,Ts="array",Ss=null}let Is=null;if(consumeKeywords$1(t,KwModifiers$1).has("indexed")){if(!et)throw new Error("");Is=!0}const Hs=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new td(_guard$3,Hs,Es,Ts,Is,Ss,Bs,Rs)}const ms=t.name;assertArgument(!ms||typeof ms=="string"&&ms.match(regexId$1),"invalid name","obj.name",ms);let ws=t.indexed;ws!=null&&(assertArgument(et,"parameter cannot be indexed","obj.indexed",t.indexed),ws=!!ws);let vs=t.type,_s=vs.match(regexArrayType$1);if(_s){const Es=parseInt(_s[2]||"-1"),Ts=td.from({type:_s[1],components:t.components});return new td(_guard$3,ms||"",vs,"array",ws,null,Es,Ts)}if(vs==="tuple"||vs.startsWith("tuple(")||vs.startsWith("(")){const Es=t.components!=null?t.components.map(Ss=>td.from(Ss)):null;return new td(_guard$3,ms||"",vs,"tuple",ws,Es,null,null)}return vs=verifyBasicType$1(t.type),new td(_guard$3,ms||"",vs,vs,ws,null,null,null)}static isParamType(t){return t&&t[internal$1]===ParamTypeInternal$1}};const PanicReasons$1=new Map;PanicReasons$1.set(0,"GENERIC_PANIC");PanicReasons$1.set(1,"ASSERT_FALSE");PanicReasons$1.set(17,"OVERFLOW");PanicReasons$1.set(18,"DIVIDE_BY_ZERO");PanicReasons$1.set(33,"ENUM_RANGE_ERROR");PanicReasons$1.set(34,"BAD_STORAGE_DATA");PanicReasons$1.set(49,"STACK_UNDERFLOW");PanicReasons$1.set(50,"ARRAY_RANGE_ERROR");PanicReasons$1.set(65,"OUT_OF_MEMORY");PanicReasons$1.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder=null,defaultMaxInflation=1024;function getBuiltinCallException(st,t,et,ms){let ws="missing revert data",vs=null;const _s=null;let Es=null;if(et){ws="execution reverted";const Ss=getBytes(et);if(et=hexlify(et),Ss.length===0)ws+=" (no data present; likely require(false) occurred",vs="require(false)";else if(Ss.length%32!==4)ws+=" (could not decode reason; invalid data length)";else if(hexlify(Ss.slice(0,4))==="0x08c379a0")try{vs=ms.decode(["string"],Ss.slice(4))[0],Es={signature:"Error(string)",name:"Error",args:[vs]},ws+=`: ${JSON.stringify(vs)}`}catch{ws+=" (could not decode reason; invalid string data)"}else if(hexlify(Ss.slice(0,4))==="0x4e487b71")try{const Rs=Number(ms.decode(["uint256"],Ss.slice(4))[0]);Es={signature:"Panic(uint256)",name:"Panic",args:[Rs]},vs=`Panic due to ${PanicReasons$1.get(Rs)||"UNKNOWN"}(${Rs})`,ws+=`: ${vs}`}catch{ws+=" (could not decode panic code)"}else ws+=" (unknown custom error)"}const Ts={to:t.to?getAddress$1(t.to):null,data:t.data||"0x"};return t.from&&(Ts.from=getAddress$1(t.from)),makeError(ws,"CALL_EXCEPTION",{action:st,data:et,reason:vs,transaction:Ts,invocation:_s,revert:Es})}class AbiCoder{#e(t){if(t.isArray())return new ArrayCoder(this.#e(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new TupleCoder(t.components.map(ms=>this.#e(ms)),t.name);switch(t.baseType){case"address":return new AddressCoder(t.name);case"bool":return new BooleanCoder(t.name);case"string":return new StringCoder(t.name);case"bytes":return new BytesCoder(t.name);case"":return new NullCoder(t.name)}let et=t.type.match(paramTypeNumber);if(et){let ms=parseInt(et[2]||"256");return assertArgument(ms!==0&&ms<=256&&ms%8===0,"invalid "+et[1]+" bit length","param",t),new NumberCoder(ms/8,et[1]==="int",t.name)}if(et=t.type.match(paramTypeBytes),et){let ms=parseInt(et[1]);return assertArgument(ms!==0&&ms<=32,"invalid bytes length","param",t),new FixedBytesCoder(ms,t.name)}assertArgument(!1,"invalid type","type",t.type)}getDefaultValue(t){const et=t.map(ws=>this.#e(ParamType$1.from(ws)));return new TupleCoder(et,"_").defaultValue()}encode(t,et){assertArgumentCount(et.length,t.length,"types/values length mismatch");const ms=t.map(_s=>this.#e(ParamType$1.from(_s))),ws=new TupleCoder(ms,"_"),vs=new Writer;return ws.encode(vs,et),vs.data}decode(t,et,ms){const ws=t.map(_s=>this.#e(ParamType$1.from(_s)));return new TupleCoder(ws,"_").decode(new Reader(et,ms,defaultMaxInflation))}static _setDefaultMaxInflation(t){assertArgument(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),defaultMaxInflation=t}static defaultAbiCoder(){return defaultCoder==null&&(defaultCoder=new AbiCoder),defaultCoder}static getBuiltinCallException(t,et,ms){return getBuiltinCallException(t,et,ms,AbiCoder.defaultAbiCoder())}}BigInt(0);function copyRequest(st){const t={};st.to&&(t.to=st.to),st.from&&(t.from=st.from),st.data&&(t.data=hexlify(st.data));const et="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const ws of et)!(ws in st)||st[ws]==null||(t[ws]=getBigInt(st[ws],`request.${ws}`));const ms="type,nonce".split(/,/);for(const ws of ms)!(ws in st)||st[ws]==null||(t[ws]=getNumber(st[ws],`request.${ws}`));return st.accessList&&(t.accessList=accessListify(st.accessList)),"blockTag"in st&&(t.blockTag=st.blockTag),"enableCcipRead"in st&&(t.enableCcipRead=!!st.enableCcipRead),"customData"in st&&(t.customData=st.customData),"blobVersionedHashes"in st&&st.blobVersionedHashes&&(t.blobVersionedHashes=st.blobVersionedHashes.slice()),"kzg"in st&&(t.kzg=st.kzg),"blobs"in st&&st.blobs&&(t.blobs=st.blobs.map(ws=>isBytesLike(ws)?hexlify(ws):Object.assign({},ws))),t}function checkProvider(st,t){if(st.provider)return st.provider;assert(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function populate(st,t){let et=copyRequest(t);if(et.to!=null&&(et.to=resolveAddress(et.to,st)),et.from!=null){const ms=et.from;et.from=Promise.all([st.getAddress(),resolveAddress(ms,st)]).then(([ws,vs])=>(assertArgument(ws.toLowerCase()===vs.toLowerCase(),"transaction from mismatch","tx.from",vs),ws))}else et.from=st.getAddress();return await resolveProperties(et)}class AbstractSigner{provider;constructor(t){defineProperties(this,{provider:t||null})}async getNonce(t){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await populate(this,t)}async populateTransaction(t){const et=checkProvider(this,"populateTransaction"),ms=await populate(this,t);ms.nonce==null&&(ms.nonce=await this.getNonce("pending")),ms.gasLimit==null&&(ms.gasLimit=await this.estimateGas(ms));const ws=await this.provider.getNetwork();if(ms.chainId!=null){const _s=getBigInt(ms.chainId);assertArgument(_s===ws.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else ms.chainId=ws.chainId;const vs=ms.maxFeePerGas!=null||ms.maxPriorityFeePerGas!=null;if(ms.gasPrice!=null&&(ms.type===2||vs)?assertArgument(!1,"eip-1559 transaction do not support gasPrice","tx",t):(ms.type===0||ms.type===1)&&vs&&assertArgument(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(ms.type===2||ms.type==null)&&ms.maxFeePerGas!=null&&ms.maxPriorityFeePerGas!=null)ms.type=2;else if(ms.type===0||ms.type===1){const _s=await et.getFeeData();assert(_s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),ms.gasPrice==null&&(ms.gasPrice=_s.gasPrice)}else{const _s=await et.getFeeData();if(ms.type==null)if(_s.maxFeePerGas!=null&&_s.maxPriorityFeePerGas!=null)if(ms.type=2,ms.gasPrice!=null){const Es=ms.gasPrice;delete ms.gasPrice,ms.maxFeePerGas=Es,ms.maxPriorityFeePerGas=Es}else ms.maxFeePerGas==null&&(ms.maxFeePerGas=_s.maxFeePerGas),ms.maxPriorityFeePerGas==null&&(ms.maxPriorityFeePerGas=_s.maxPriorityFeePerGas);else _s.gasPrice!=null?(assert(!vs,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),ms.gasPrice==null&&(ms.gasPrice=_s.gasPrice),ms.type=0):assert(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(ms.type===2||ms.type===3)&&(ms.maxFeePerGas==null&&(ms.maxFeePerGas=_s.maxFeePerGas),ms.maxPriorityFeePerGas==null&&(ms.maxPriorityFeePerGas=_s.maxPriorityFeePerGas))}return await resolveProperties(ms)}async estimateGas(t){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return checkProvider(this,"call").call(await this.populateCall(t))}async resolveName(t){return await checkProvider(this,"resolveName").resolveName(t)}async sendTransaction(t){const et=checkProvider(this,"sendTransaction"),ms=await this.populateTransaction(t);delete ms.from;const ws=Transaction$1.from(ms);return await et.broadcastTransaction(await this.signTransaction(ws))}}class VoidSigner extends AbstractSigner{address;constructor(t,et){super(et),defineProperties(this,{address:t})}async getAddress(){return this.address}connect(t){return new VoidSigner(this.address,t)}#e(t,et){assert(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:et})}async signTransaction(t){this.#e("transactions","signTransaction")}async signMessage(t){this.#e("messages","signMessage")}async signTypedData(t,et,ms){this.#e("typed-data","signTypedData")}}class BaseWallet extends AbstractSigner{address;#e;constructor(t,et){super(et),assertArgument(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=t;const ms=computeAddress$1(this.signingKey.publicKey);defineProperties(this,{address:ms})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new BaseWallet(this.#e,t)}async signTransaction(t){t=copyRequest(t);const{to:et,from:ms}=await resolveProperties({to:t.to?resolveAddress(t.to,this.provider):void 0,from:t.from?resolveAddress(t.from,this.provider):void 0});et!=null&&(t.to=et),ms!=null&&(t.from=ms),t.from!=null&&(assertArgument(getAddress$1(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const ws=Transaction$1.from(t);return ws.signature=this.signingKey.sign(ws.unsignedHash),ws.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(hashMessage$1(t)).serialized}async signTypedData(t,et,ms){const ws=await TypedDataEncoder$1.resolveNames(t,et,ms,async vs=>{assert(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:vs}});const _s=await this.provider.resolveName(vs);return assert(_s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:vs}),_s});return this.signingKey.sign(TypedDataEncoder$1.hash(ws.domain,et,ws.value)).serialized}}const subsChrs=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Word=/^[a-z]*$/i;function unfold(st,t){let et=97;return st.reduce((ms,ws)=>(ws===t?et++:ws.match(Word)?ms.push(String.fromCharCode(et)+ws):(et=97,ms.push(ws)),ms),[])}function decode$7(st,t){for(let ws=subsChrs.length-1;ws>=0;ws--)st=st.split(subsChrs[ws]).join(t.substring(2*ws,2*ws+2));const et=[],ms=st.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(ws,vs,_s,Es)=>{if(_s)for(let Ts=parseInt(_s);Ts>=0;Ts--)et.push(";");else et.push(vs.toLowerCase());return""});if(ms)throw new Error(`leftovers: ${JSON.stringify(ms)}`);return unfold(unfold(et,";"),":")}function decodeOwl(st){return assertArgument(st[0]==="0","unsupported auwl data","data",st),decode$7(st.substring(1+2*subsChrs.length),st.substring(1,1+2*subsChrs.length))}class Wordlist{locale;constructor(t){defineProperties(this,{locale:t})}split(t){return t.toLowerCase().split(/\s+/g)}join(t){return t.join(" ")}}class WordlistOwl extends Wordlist{#e;#t;constructor(t,et,ms){super(t),this.#e=et,this.#t=ms,this.#r=null}get _data(){return this.#e}_decodeWords(){return decodeOwl(this.#e)}#r;#n(){if(this.#r==null){const t=this._decodeWords();if(id(t.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=t}return this.#r}getWord(t){const et=this.#n();return assertArgument(t>=0&&t<et.length,`invalid word index: ${t}`,"index",t),et[t]}getWordIndex(t){return this.#n().indexOf(t)}}const words="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",checksum="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let wordlist=null;class LangEn extends WordlistOwl{constructor(){super("en",words,checksum)}static wordlist(){return wordlist==null&&(wordlist=new LangEn),wordlist}}function getUpperMask(st){return(1<<st)-1<<8-st&255}function getLowerMask(st){return(1<<st)-1&255}function mnemonicToEntropy(st,t){assertNormalize("NFKD"),t==null&&(t=LangEn.wordlist());const et=t.split(st);assertArgument(et.length%3===0&&et.length>=12&&et.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const ms=new Uint8Array(Math.ceil(11*et.length/8));let ws=0;for(let Ss=0;Ss<et.length;Ss++){let Rs=t.getWordIndex(et[Ss].normalize("NFKD"));assertArgument(Rs>=0,`invalid mnemonic word at index ${Ss}`,"mnemonic","[ REDACTED ]");for(let Bs=0;Bs<11;Bs++)Rs&1<<10-Bs&&(ms[ws>>3]|=1<<7-ws%8),ws++}const vs=32*et.length/3,_s=et.length/3,Es=getUpperMask(_s),Ts=getBytes(sha256$7(ms.slice(0,vs/8)))[0]&Es;return assertArgument(Ts===(ms[ms.length-1]&Es),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),hexlify(ms.slice(0,vs/8))}function entropyToMnemonic(st,t){assertArgument(st.length%4===0&&st.length>=16&&st.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),t==null&&(t=LangEn.wordlist());const et=[0];let ms=11;for(let _s=0;_s<st.length;_s++)ms>8?(et[et.length-1]<<=8,et[et.length-1]|=st[_s],ms-=8):(et[et.length-1]<<=ms,et[et.length-1]|=st[_s]>>8-ms,et.push(st[_s]&getLowerMask(8-ms)),ms+=3);const ws=st.length/4,vs=parseInt(sha256$7(st).substring(2,4),16)&getUpperMask(ws);return et[et.length-1]<<=ws,et[et.length-1]|=vs>>8-ws,t.join(et.map(_s=>t.getWord(_s)))}const _guard$2={};class Mnemonic{phrase;password;wordlist;entropy;constructor(t,et,ms,ws,vs){ws==null&&(ws=""),vs==null&&(vs=LangEn.wordlist()),assertPrivate(t,_guard$2,"Mnemonic"),defineProperties(this,{phrase:ms,password:ws,wordlist:vs,entropy:et})}computeSeed(){const t=toUtf8Bytes("mnemonic"+this.password,"NFKD");return pbkdf2$2(toUtf8Bytes(this.phrase,"NFKD"),t,2048,64,"sha512")}static fromPhrase(t,et,ms){const ws=mnemonicToEntropy(t,ms);return t=entropyToMnemonic(getBytes(ws),ms),new Mnemonic(_guard$2,ws,t,et,ms)}static fromEntropy(t,et,ms){const ws=getBytes(t,"entropy"),vs=entropyToMnemonic(ws,ms);return new Mnemonic(_guard$2,hexlify(ws),vs,et,ms)}static entropyToPhrase(t,et){const ms=getBytes(t,"entropy");return entropyToMnemonic(ms,et)}static phraseToEntropy(t,et){return mnemonicToEntropy(t,et)}static isValidMnemonic(t,et){try{return mnemonicToEntropy(t,et),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var __classPrivateFieldGet$2=function(st,t,et,ms){if(et==="a"&&!ms)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?st!==t||!ms:!t.has(st))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?ms:et==="a"?ms.call(st):ms?ms.value:t.get(st)},__classPrivateFieldSet$2=function(st,t,et,ms,ws){if(ms==="m")throw new TypeError("Private method is not writable");if(ms==="a"&&!ws)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?st!==t||!ws:!t.has(st))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ms==="a"?ws.call(st,et):ws?ws.value=et:t.set(st,et),et},_AES_key,_AES_Kd,_AES_Ke;const numberOfRounds={16:10,24:12,32:14},rcon=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S$4=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Si$2=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],T1=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T3=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],T4=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T5=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],T6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T7=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T8=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U1=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],U3=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],U4=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function convertToInt32(st){const t=[];for(let et=0;et<st.length;et+=4)t.push(st[et]<<24|st[et+1]<<16|st[et+2]<<8|st[et+3]);return t}class AES{get key(){return __classPrivateFieldGet$2(this,_AES_key,"f").slice()}constructor(t){if(_AES_key.set(this,void 0),_AES_Kd.set(this,void 0),_AES_Ke.set(this,void 0),!(this instanceof AES))throw Error("AES must be instanitated with `new`");__classPrivateFieldSet$2(this,_AES_key,new Uint8Array(t),"f");const et=numberOfRounds[this.key.length];if(et==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");__classPrivateFieldSet$2(this,_AES_Ke,[],"f"),__classPrivateFieldSet$2(this,_AES_Kd,[],"f");for(let Rs=0;Rs<=et;Rs++)__classPrivateFieldGet$2(this,_AES_Ke,"f").push([0,0,0,0]),__classPrivateFieldGet$2(this,_AES_Kd,"f").push([0,0,0,0]);const ms=(et+1)*4,ws=this.key.length/4,vs=convertToInt32(this.key);let _s;for(let Rs=0;Rs<ws;Rs++)_s=Rs>>2,__classPrivateFieldGet$2(this,_AES_Ke,"f")[_s][Rs%4]=vs[Rs],__classPrivateFieldGet$2(this,_AES_Kd,"f")[et-_s][Rs%4]=vs[Rs];let Es=0,Ts=ws,Ss;for(;Ts<ms;){if(Ss=vs[ws-1],vs[0]^=S$4[Ss>>16&255]<<24^S$4[Ss>>8&255]<<16^S$4[Ss&255]<<8^S$4[Ss>>24&255]^rcon[Es]<<24,Es+=1,ws!=8)for(let Ws=1;Ws<ws;Ws++)vs[Ws]^=vs[Ws-1];else{for(let Ws=1;Ws<ws/2;Ws++)vs[Ws]^=vs[Ws-1];Ss=vs[ws/2-1],vs[ws/2]^=S$4[Ss&255]^S$4[Ss>>8&255]<<8^S$4[Ss>>16&255]<<16^S$4[Ss>>24&255]<<24;for(let Ws=ws/2+1;Ws<ws;Ws++)vs[Ws]^=vs[Ws-1]}let Rs=0,Bs,Is;for(;Rs<ws&&Ts<ms;)Bs=Ts>>2,Is=Ts%4,__classPrivateFieldGet$2(this,_AES_Ke,"f")[Bs][Is]=vs[Rs],__classPrivateFieldGet$2(this,_AES_Kd,"f")[et-Bs][Is]=vs[Rs++],Ts++}for(let Rs=1;Rs<et;Rs++)for(let Bs=0;Bs<4;Bs++)Ss=__classPrivateFieldGet$2(this,_AES_Kd,"f")[Rs][Bs],__classPrivateFieldGet$2(this,_AES_Kd,"f")[Rs][Bs]=U1[Ss>>24&255]^U2[Ss>>16&255]^U3[Ss>>8&255]^U4[Ss&255]}encrypt(t){if(t.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const et=__classPrivateFieldGet$2(this,_AES_Ke,"f").length-1,ms=[0,0,0,0];let ws=convertToInt32(t);for(let Es=0;Es<4;Es++)ws[Es]^=__classPrivateFieldGet$2(this,_AES_Ke,"f")[0][Es];for(let Es=1;Es<et;Es++){for(let Ts=0;Ts<4;Ts++)ms[Ts]=T1[ws[Ts]>>24&255]^T2[ws[(Ts+1)%4]>>16&255]^T3[ws[(Ts+2)%4]>>8&255]^T4[ws[(Ts+3)%4]&255]^__classPrivateFieldGet$2(this,_AES_Ke,"f")[Es][Ts];ws=ms.slice()}const vs=new Uint8Array(16);let _s=0;for(let Es=0;Es<4;Es++)_s=__classPrivateFieldGet$2(this,_AES_Ke,"f")[et][Es],vs[4*Es]=(S$4[ws[Es]>>24&255]^_s>>24)&255,vs[4*Es+1]=(S$4[ws[(Es+1)%4]>>16&255]^_s>>16)&255,vs[4*Es+2]=(S$4[ws[(Es+2)%4]>>8&255]^_s>>8)&255,vs[4*Es+3]=(S$4[ws[(Es+3)%4]&255]^_s)&255;return vs}decrypt(t){if(t.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const et=__classPrivateFieldGet$2(this,_AES_Kd,"f").length-1,ms=[0,0,0,0];let ws=convertToInt32(t);for(let Es=0;Es<4;Es++)ws[Es]^=__classPrivateFieldGet$2(this,_AES_Kd,"f")[0][Es];for(let Es=1;Es<et;Es++){for(let Ts=0;Ts<4;Ts++)ms[Ts]=T5[ws[Ts]>>24&255]^T6[ws[(Ts+3)%4]>>16&255]^T7[ws[(Ts+2)%4]>>8&255]^T8[ws[(Ts+1)%4]&255]^__classPrivateFieldGet$2(this,_AES_Kd,"f")[Es][Ts];ws=ms.slice()}const vs=new Uint8Array(16);let _s=0;for(let Es=0;Es<4;Es++)_s=__classPrivateFieldGet$2(this,_AES_Kd,"f")[et][Es],vs[4*Es]=(Si$2[ws[Es]>>24&255]^_s>>24)&255,vs[4*Es+1]=(Si$2[ws[(Es+3)%4]>>16&255]^_s>>16)&255,vs[4*Es+2]=(Si$2[ws[(Es+2)%4]>>8&255]^_s>>8)&255,vs[4*Es+3]=(Si$2[ws[(Es+1)%4]&255]^_s)&255;return vs}}_AES_key=new WeakMap,_AES_Kd=new WeakMap,_AES_Ke=new WeakMap;class ModeOfOperation{constructor(t,et,ms){if(ms&&!(this instanceof ms))throw new Error(`${t} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new AES(et)},name:{enumerable:!0,value:t}})}}var __classPrivateFieldSet$1=function(st,t,et,ms,ws){if(ms==="m")throw new TypeError("Private method is not writable");if(ms==="a"&&!ws)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?st!==t||!ws:!t.has(st))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ms==="a"?ws.call(st,et):ws?ws.value=et:t.set(st,et),et},__classPrivateFieldGet$1=function(st,t,et,ms){if(et==="a"&&!ms)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?st!==t||!ms:!t.has(st))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?ms:et==="a"?ms.call(st):ms?ms.value:t.get(st)},_CTR_remaining,_CTR_remainingIndex,_CTR_counter;class CTR extends ModeOfOperation{constructor(t,et){super("CTR",t,CTR),_CTR_remaining.set(this,void 0),_CTR_remainingIndex.set(this,void 0),_CTR_counter.set(this,void 0),__classPrivateFieldSet$1(this,_CTR_counter,new Uint8Array(16),"f"),__classPrivateFieldGet$1(this,_CTR_counter,"f").fill(0),__classPrivateFieldSet$1(this,_CTR_remaining,__classPrivateFieldGet$1(this,_CTR_counter,"f"),"f"),__classPrivateFieldSet$1(this,_CTR_remainingIndex,16,"f"),et==null&&(et=1),typeof et=="number"?this.setCounterValue(et):this.setCounterBytes(et)}get counter(){return new Uint8Array(__classPrivateFieldGet$1(this,_CTR_counter,"f"))}setCounterValue(t){if(!Number.isInteger(t)||t<0||t>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let et=15;et>=0;--et)__classPrivateFieldGet$1(this,_CTR_counter,"f")[et]=t%256,t=Math.floor(t/256)}setCounterBytes(t){if(t.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");__classPrivateFieldGet$1(this,_CTR_counter,"f").set(t)}increment(){for(let t=15;t>=0;t--)if(__classPrivateFieldGet$1(this,_CTR_counter,"f")[t]===255)__classPrivateFieldGet$1(this,_CTR_counter,"f")[t]=0;else{__classPrivateFieldGet$1(this,_CTR_counter,"f")[t]++;break}}encrypt(t){var et,ms;const ws=new Uint8Array(t);for(let vs=0;vs<ws.length;vs++)__classPrivateFieldGet$1(this,_CTR_remainingIndex,"f")===16&&(__classPrivateFieldSet$1(this,_CTR_remaining,this.aes.encrypt(__classPrivateFieldGet$1(this,_CTR_counter,"f")),"f"),__classPrivateFieldSet$1(this,_CTR_remainingIndex,0,"f"),this.increment()),ws[vs]^=__classPrivateFieldGet$1(this,_CTR_remaining,"f")[__classPrivateFieldSet$1(this,_CTR_remainingIndex,(ms=__classPrivateFieldGet$1(this,_CTR_remainingIndex,"f"),et=ms++,ms),"f"),et];return ws}decrypt(t){return this.encrypt(t)}}_CTR_remaining=new WeakMap,_CTR_remainingIndex=new WeakMap,_CTR_counter=new WeakMap;function zpad$1(st,t){for(st=String(st);st.length<t;)st="0"+st;return st}function getPassword(st){return typeof st=="string"?toUtf8Bytes(st,"NFKC"):getBytesCopy(st)}const defaultPath$1="m/44'/60'/0'/0/0";function getEncryptKdfParams(st){const t=st.salt!=null?getBytes(st.salt,"options.salt"):randomBytes$2(32);let et=1<<17,ms=8,ws=1;return st.scrypt&&(st.scrypt.N&&(et=st.scrypt.N),st.scrypt.r&&(ms=st.scrypt.r),st.scrypt.p&&(ws=st.scrypt.p)),assertArgument(typeof et=="number"&&et>0&&Number.isSafeInteger(et)&&(BigInt(et)&BigInt(et-1))===BigInt(0),"invalid scrypt N parameter","options.N",et),assertArgument(typeof ms=="number"&&ms>0&&Number.isSafeInteger(ms),"invalid scrypt r parameter","options.r",ms),assertArgument(typeof ws=="number"&&ws>0&&Number.isSafeInteger(ws),"invalid scrypt p parameter","options.p",ws),{name:"scrypt",dkLen:32,salt:t,N:et,r:ms,p:ws}}function _encryptKeystore(st,t,et,ms){const ws=getBytes(et.privateKey,"privateKey"),vs=ms.iv!=null?getBytes(ms.iv,"options.iv"):randomBytes$2(16);assertArgument(vs.length===16,"invalid options.iv length","options.iv",ms.iv);const _s=ms.uuid!=null?getBytes(ms.uuid,"options.uuid"):randomBytes$2(16);assertArgument(_s.length===16,"invalid options.uuid length","options.uuid",ms.iv);const Es=st.slice(0,16),Ts=st.slice(16,32),Ss=new CTR(Es,vs),Rs=getBytes(Ss.encrypt(ws)),Bs=keccak256$1(concat$1([Ts,Rs])),Is={address:et.address.substring(2).toLowerCase(),id:uuidV4(_s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(vs).substring(2)},ciphertext:hexlify(Rs).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:Bs.substring(2)}};if(et.mnemonic){const Ws=ms.client!=null?ms.client:`ethers/${version$5}`,Hs=et.mnemonic.path||defaultPath$1,Ns=et.mnemonic.locale||"en",Js=st.slice(32,64),ha=getBytes(et.mnemonic.entropy,"account.mnemonic.entropy"),pa=randomBytes$2(16),za=new CTR(Js,pa),Ya=getBytes(za.encrypt(ha)),Bc=new Date,tu="UTC--"+(Bc.getUTCFullYear()+"-"+zpad$1(Bc.getUTCMonth()+1,2)+"-"+zpad$1(Bc.getUTCDate(),2)+"T"+zpad$1(Bc.getUTCHours(),2)+"-"+zpad$1(Bc.getUTCMinutes(),2)+"-"+zpad$1(Bc.getUTCSeconds(),2)+".0Z")+"--"+Is.address;Is["x-ethers"]={client:Ws,gethFilename:tu,path:Hs,locale:Ns,mnemonicCounter:hexlify(pa).substring(2),mnemonicCiphertext:hexlify(Ya).substring(2),version:"0.1"}}return JSON.stringify(Is)}function encryptKeystoreJsonSync(st,t,et){et==null&&(et={});const ms=getPassword(t),ws=getEncryptKdfParams(et),vs=scryptSync(ms,ws.salt,ws.N,ws.r,ws.p,64);return _encryptKeystore(getBytes(vs),ws,st,et)}async function encryptKeystoreJson(st,t,et){et==null&&(et={});const ms=getPassword(t),ws=getEncryptKdfParams(et),vs=await scrypt(ms,ws.salt,ws.N,ws.r,ws.p,64,et.progressCallback);return _encryptKeystore(getBytes(vs),ws,st,et)}const defaultPath="m/44'/60'/0'/0/0",MasterSecret=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),HardenedBit=2147483648,N$5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nibbles="0123456789abcdef";function zpad(st,t){let et="";for(;st;)et=Nibbles[st%16]+et,st=Math.trunc(st/16);for(;et.length<t*2;)et="0"+et;return"0x"+et}function encodeBase58Check(st){const t=getBytes(st),et=dataSlice(sha256$7(sha256$7(t)),0,4),ms=concat$1([t,et]);return encodeBase58(ms)}const _guard$1={};function ser_I(st,t,et,ms){const ws=new Uint8Array(37);st&HardenedBit?(assert(ms!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),ws.set(getBytes(ms),1)):ws.set(getBytes(et));for(let _s=24;_s>=0;_s-=8)ws[33+(_s>>3)]=st>>24-_s&255;const vs=getBytes(computeHmac("sha512",t,ws));return{IL:vs.slice(0,32),IR:vs.slice(32)}}function derivePath(st,t){const et=t.split("/");assertArgument(et.length>0,"invalid path","path",t),et[0]==="m"&&(assertArgument(st.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${st.depth}`,"path",t),et.shift());let ms=st;for(let ws=0;ws<et.length;ws++){const vs=et[ws];if(vs.match(/^[0-9]+'$/)){const _s=parseInt(vs.substring(0,vs.length-1));assertArgument(_s<HardenedBit,"invalid path index",`path[${ws}]`,vs),ms=ms.deriveChild(HardenedBit+_s)}else if(vs.match(/^[0-9]+$/)){const _s=parseInt(vs);assertArgument(_s<HardenedBit,"invalid path index",`path[${ws}]`,vs),ms=ms.deriveChild(_s)}else assertArgument(!1,"invalid path component",`path[${ws}]`,vs)}return ms}class HDNodeWallet extends BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(t,et,ms,ws,vs,_s,Es,Ts,Ss){super(et,Ss),assertPrivate(t,_guard$1,"HDNodeWallet"),defineProperties(this,{publicKey:et.compressedPublicKey});const Rs=dataSlice(ripemd160$4(sha256$7(this.publicKey)),0,4);defineProperties(this,{parentFingerprint:ms,fingerprint:Rs,chainCode:ws,path:vs,index:_s,depth:Es}),defineProperties(this,{mnemonic:Ts})}connect(t){return new HDNodeWallet(_guard$1,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}#e(){const t={address:this.address,privateKey:this.privateKey},et=this.mnemonic;return this.path&&et&&et.wordlist.locale==="en"&&et.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:et.entropy}),t}async encrypt(t,et){return await encryptKeystoreJson(this.#e(),t,{progressCallback:et})}encryptSync(t){return encryptKeystoreJsonSync(this.#e(),t)}get extendedKey(){return assert(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),encodeBase58Check(concat$1(["0x0488ADE4",zpad(this.depth,1),this.parentFingerprint,zpad(this.index,4),this.chainCode,concat$1(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new HDNodeVoidWallet(_guard$1,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const et=getNumber(t,"index");assertArgument(et<=4294967295,"invalid index","index",et);let ms=this.path;ms&&(ms+="/"+(et&~HardenedBit),et&HardenedBit&&(ms+="'"));const{IR:ws,IL:vs}=ser_I(et,this.chainCode,this.publicKey,this.privateKey),_s=new SigningKey(toBeHex((toBigInt(vs)+BigInt(this.privateKey))%N$5,32));return new HDNodeWallet(_guard$1,_s,this.fingerprint,hexlify(ws),ms,et,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return derivePath(this,t)}static#t(t,et){assertArgument(isBytesLike(t),"invalid seed","seed","[REDACTED]");const ms=getBytes(t,"seed");assertArgument(ms.length>=16&&ms.length<=64,"invalid seed","seed","[REDACTED]");const ws=getBytes(computeHmac("sha512",MasterSecret,ms)),vs=new SigningKey(hexlify(ws.slice(0,32)));return new HDNodeWallet(_guard$1,vs,"0x00000000",hexlify(ws.slice(32)),"m",0,0,et,null)}static fromExtendedKey(t){const et=toBeArray(decodeBase58(t));assertArgument(et.length===82||encodeBase58Check(et.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const ms=et[4],ws=hexlify(et.slice(5,9)),vs=parseInt(hexlify(et.slice(9,13)).substring(2),16),_s=hexlify(et.slice(13,45)),Es=et.slice(45,78);switch(hexlify(et.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const Ts=hexlify(Es);return new HDNodeVoidWallet(_guard$1,computeAddress$1(Ts),Ts,ws,_s,null,vs,ms,null)}case"0x0488ade4":case"0x04358394 ":if(Es[0]!==0)break;return new HDNodeWallet(_guard$1,new SigningKey(Es.slice(1)),ws,_s,null,vs,ms,null,null)}assertArgument(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,et,ms){t==null&&(t=""),et==null&&(et=defaultPath),ms==null&&(ms=LangEn.wordlist());const ws=Mnemonic.fromEntropy(randomBytes$2(16),t,ms);return HDNodeWallet.#t(ws.computeSeed(),ws).derivePath(et)}static fromMnemonic(t,et){return et||(et=defaultPath),HDNodeWallet.#t(t.computeSeed(),t).derivePath(et)}static fromPhrase(t,et,ms,ws){et==null&&(et=""),ms==null&&(ms=defaultPath),ws==null&&(ws=LangEn.wordlist());const vs=Mnemonic.fromPhrase(t,et,ws);return HDNodeWallet.#t(vs.computeSeed(),vs).derivePath(ms)}static fromSeed(t){return HDNodeWallet.#t(t,null)}}class HDNodeVoidWallet extends VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(t,et,ms,ws,vs,_s,Es,Ts,Ss){super(et,Ss),assertPrivate(t,_guard$1,"HDNodeVoidWallet"),defineProperties(this,{publicKey:ms});const Rs=dataSlice(ripemd160$4(sha256$7(ms)),0,4);defineProperties(this,{publicKey:ms,fingerprint:Rs,parentFingerprint:ws,chainCode:vs,path:_s,index:Es,depth:Ts})}connect(t){return new HDNodeVoidWallet(_guard$1,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return assert(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),encodeBase58Check(concat$1(["0x0488B21E",zpad(this.depth,1),this.parentFingerprint,zpad(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const et=getNumber(t,"index");assertArgument(et<=4294967295,"invalid index","index",et);let ms=this.path;ms&&(ms+="/"+(et&~HardenedBit),et&HardenedBit&&(ms+="'"));const{IR:ws,IL:vs}=ser_I(et,this.chainCode,this.publicKey,null),_s=SigningKey.addPoints(vs,this.publicKey,!0),Es=computeAddress$1(_s);return new HDNodeVoidWallet(_guard$1,Es,_s,this.fingerprint,hexlify(ws),ms,et,this.depth+1,this.provider)}derivePath(t){return derivePath(this,t)}}const wordlists={en:LangEn.wordlist()};var _a$1;function setify(st){const t=new Set;return st.forEach(et=>t.add(et)),Object.freeze(t)}const _kwVisib="constant external internal payable private public pure view",KwVisib=setify(_kwVisib.split(" ")),_kwTypes="constructor error event fallback function receive struct",KwTypes=setify(_kwTypes.split(" ")),_kwModifiers="calldata memory storage payable indexed",KwModifiers=setify(_kwModifiers.split(" ")),_kwOther="tuple returns",_keywords=[_kwTypes,_kwModifiers,_kwOther,_kwVisib].join(" "),Keywords=setify(_keywords.split(" ")),SimpleTokens={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix=new RegExp("^(\\s*)"),regexNumberPrefix=new RegExp("^([0-9]+)"),regexIdPrefix=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType=new RegExp("^(trcToken|address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class TokenString{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(t){this.#e=0,this.#t=t.slice()}clone(){return new _a$1(this.#t)}reset(){this.#e=0}#r(t=0,et=0){return new _a$1(this.#t.slice(t,et).map(ms=>Object.freeze(Object.assign({},ms,{match:ms.match-t,linkBack:ms.linkBack-t,linkNext:ms.linkNext-t}))))}popKeyword(t){const et=this.peek();if(et.type!=="KEYWORD"||!t.has(et.text))throw new Error(`expected keyword ${et.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const et=this.#r(this.#e+1,t.match+1);return this.#e=t.match+1,et}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const et=[];for(;this.#e<t.match-1;){const ms=this.peek().linkNext;et.push(this.#r(this.#e+1,ms)),this.#e=ms}return this.#e=t.match+1,et}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(t){const et=this.peekType("KEYWORD");return et!=null&&t.has(et)?et:null}peekType(t){if(this.length===0)return null;const et=this.peek();return et.type===t?et.text:null}pop(){const t=this.peek();return this.#e++,t}toString(){const t=[];for(let et=this.#e;et<this.#t.length;et++){const ms=this.#t[et];t.push(`${ms.type}:${ms.text}`)}return`<TokenString ${t.join(" ")}>`}}_a$1=TokenString;function lex(st){const t=[],et=_s=>{const Es=vs<st.length?JSON.stringify(st[vs]):"$EOI";throw new Error(`invalid token ${Es} at ${vs}: ${_s}`)},ms=[],ws=[];let vs=0;for(;vs<st.length;){let _s=st.substring(vs),Es=_s.match(regexWhitespacePrefix);Es&&(vs+=Es[1].length,_s=st.substring(vs));const Ts={depth:ms.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:vs,value:-1};t.push(Ts);const Ss=SimpleTokens[_s[0]]||"";if(Ss){if(Ts.type=Ss,Ts.text=_s[0],vs++,Ss==="OPEN_PAREN")ms.push(t.length-1),ws.push(t.length-1);else if(Ss=="CLOSE_PAREN")ms.length===0&&et("no matching open bracket"),Ts.match=ms.pop(),t[Ts.match].match=t.length-1,Ts.depth--,Ts.linkBack=ws.pop(),t[Ts.linkBack].linkNext=t.length-1;else if(Ss==="COMMA")Ts.linkBack=ws.pop(),t[Ts.linkBack].linkNext=t.length-1,ws.push(t.length-1);else if(Ss==="OPEN_BRACKET")Ts.type="BRACKET";else if(Ss==="CLOSE_BRACKET"){let Rs=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const Bs=t.pop().text;Rs=Bs+Rs,t[t.length-1].value=getNumber(Bs)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=Rs}continue}if(Es=_s.match(regexIdPrefix),Es){if(Ts.text=Es[1],vs+=Ts.text.length,Keywords.has(Ts.text)){Ts.type="KEYWORD";continue}if(Ts.text.match(regexType)){Ts.type="TYPE";continue}Ts.type="ID";continue}if(Es=_s.match(regexNumberPrefix),Es){Ts.text=Es[1],Ts.type="NUMBER",vs+=Ts.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(_s[0])} at position ${vs}`)}return new TokenString(t.map(_s=>Object.freeze(_s)))}function allowSingle(st,t){const et=[];for(const ms in t.keys())st.has(ms)&&et.push(ms);if(et.length>1)throw new Error(`conflicting types: ${et.join(", ")}`)}function consumeName(st,t){if(t.peekKeyword(KwTypes)){const et=t.pop().text;if(et!==st)throw new Error(`expected ${st}, got ${et}`)}return t.popType("ID")}function consumeKeywords(st,t){const et=new Set;for(;;){const ms=st.peekType("KEYWORD");if(ms==null||t&&!t.has(ms))break;if(st.pop(),et.has(ms))throw new Error(`duplicate keywords: ${JSON.stringify(ms)}`);et.add(ms)}return Object.freeze(et)}function consumeMutability(st){const t=consumeKeywords(st,KwVisib);return allowSingle(t,setify("constant payable nonpayable".split(" "))),allowSingle(t,setify("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function consumeParams(st,t){return st.popParams().map(et=>ParamType.from(et,t))}function consumeGas(st){if(st.peekType("AT")){if(st.pop(),st.peekType("NUMBER"))return getBigInt(st.pop().text);throw new Error("invalid gas")}return null}function consumeEoi(st){if(st.length)throw new Error(`unexpected tokens: ${st.toString()}`)}const regexArrayType=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(st){const t=st.match(regexType);if(assertArgument(t,"invalid type","type",st),st==="uint")return"uint256";if(st==="int")return"int256";if(t[2]){const et=parseInt(t[2]);assertArgument(et!==0&&et<=32,"invalid bytes length","type",st)}else if(t[3]){const et=parseInt(t[3]);assertArgument(et!==0&&et<=256&&et%8===0,"invalid numeric width","type",st)}return st}const _guard={},internal=Symbol.for("_ethers_internal"),ParamTypeInternal="_ParamTypeInternal",ErrorFragmentInternal="_ErrorInternal",EventFragmentInternal="_EventInternal",ConstructorFragmentInternal="_ConstructorInternal",FallbackFragmentInternal="_FallbackInternal",FunctionFragmentInternal="_FunctionInternal",StructFragmentInternal="_StructInternal";class ParamType{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,et,ms,ws,vs,_s,Es,Ts){if(assertPrivate(t,_guard,"ParamType"),Object.defineProperty(this,internal,{value:ParamTypeInternal}),_s&&(_s=Object.freeze(_s.slice())),ws==="array"){if(Es==null||Ts==null)throw new Error("")}else if(Es!=null||Ts!=null)throw new Error("");if(ws==="tuple"){if(_s==null)throw new Error("")}else if(_s!=null)throw new Error("");defineProperties(this,{name:et,type:ms,baseType:ws,indexed:vs,components:_s,arrayLength:Es,arrayChildren:Ts})}format(t){if(t==null&&(t="sighash"),t==="json"){const ms={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(ms.indexed=this.indexed),this.isTuple()&&(ms.components=this.components.map(ws=>JSON.parse(ws.format(t)))),JSON.stringify(ms)}let et="";return this.isArray()?(et+=this.arrayChildren.format(t),et+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&&(et+=this.type),et+="("+this.components.map(ms=>ms.format(t)).join(t==="full"?", ":",")+")"):et+=this.type,t!=="sighash"&&(this.indexed===!0&&(et+=" indexed"),t==="full"&&this.name&&(et+=" "+this.name)),et}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,et){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");return t.map(ms=>this.arrayChildren?.walk(ms,et))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");return t.map((ms,ws)=>this.components?.[ws].walk(ms,et))}return et(this.type,t)}#e(t,et,ms,ws){if(this.isArray()){if(!Array.isArray(et))throw new Error("invalid array value");if(this.arrayLength!==-1&&et.length!==this.arrayLength)throw new Error("array is wrong length");const _s=this.arrayChildren,Es=et.slice();Es.forEach((Ts,Ss)=>{_s.#e(t,Ts,ms,Rs=>{Es[Ss]=Rs})}),ws(Es);return}if(this.isTuple()){const _s=this.components;let Es;if(Array.isArray(et))Es=et.slice();else{if(et==null||typeof et!="object")throw new Error("invalid tuple value");Es=_s.map(Ts=>{if(!Ts.name)throw new Error("cannot use object value with unnamed components");if(!(Ts.name in et))throw new Error(`missing value for component ${Ts.name}`);return et[Ts.name]})}if(Es.length!==this.components.length)throw new Error("array is wrong length");Es.forEach((Ts,Ss)=>{_s[Ss].#e(t,Ts,ms,Rs=>{Es[Ss]=Rs})}),ws(Es);return}const vs=ms(this.type,et);vs.then?t.push(async function(){ws(await vs)}()):ws(vs)}async walkAsync(t,et){const ms=[],ws=[t];return this.#e(ms,t,et,vs=>{ws[0]=vs}),ms.length&&await Promise.all(ms),ws[0]}static from(t,et){if(ParamType.isParamType(t))return t;if(typeof t=="string")return ParamType.from(lex(t),et);if(t instanceof TokenString){let Es="",Ts="",Ss=null;consumeKeywords(t,setify(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(Ts="tuple",Ss=t.popParams().map(Ns=>ParamType.from(Ns)),Es=`tuple(${Ss.map(Ns=>Ns.format()).join(",")})`):(Es=verifyBasicType(t.popType("TYPE")),Ts=Es);let Rs=null,Bs=null;for(;t.length&&t.peekType("BRACKET");){const Ns=t.pop();Rs=new ParamType(_guard,"",Es,Ts,null,Ss,Bs,Rs),Bs=Ns.value,Es+=Ns.text,Ts="array",Ss=null}let Is=null;if(consumeKeywords(t,KwModifiers).has("indexed")){if(!et)throw new Error("");Is=!0}const Hs=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ParamType(_guard,Hs,Es,Ts,Is,Ss,Bs,Rs)}const ms=t.name;assertArgument(!ms||typeof ms=="string"&&ms.match(regexId),"invalid name","obj.name",ms);let ws=t.indexed;ws!=null&&(assertArgument(et,"parameter cannot be indexed","obj.indexed",t.indexed),ws=!!ws);let vs=t.type;const _s=vs.match(regexArrayType);if(_s){const Es=parseInt(_s[2]||"-1"),Ts=ParamType.from({type:_s[1],components:t.components});return new ParamType(_guard,ms||"",vs,"array",ws,null,Es,Ts)}if(vs==="tuple"||vs.startsWith("tuple(")||vs.startsWith("(")){const Es=t.components!=null?t.components.map(Ss=>ParamType.from(Ss)):null;return new ParamType(_guard,ms||"",vs,"tuple",ws,Es,null,null)}return vs=verifyBasicType(t.type),new ParamType(_guard,ms||"",vs,vs,ws,null,null,null)}static isParamType(t){return t&&t[internal]===ParamTypeInternal}}class Fragment{type;inputs;constructor(t,et,ms){assertPrivate(t,_guard,"Fragment"),ms=Object.freeze(ms.slice()),defineProperties(this,{type:et,inputs:ms})}static from(t){if(typeof t=="string"){try{Fragment.from(JSON.parse(t))}catch{}return Fragment.from(lex(t))}if(t instanceof TokenString)switch(t.peekKeyword(KwTypes)){case"constructor":return ConstructorFragment.from(t);case"error":return ErrorFragment.from(t);case"event":return EventFragment.from(t);case"fallback":case"receive":return FallbackFragment.from(t);case"function":return FunctionFragment.from(t);case"struct":return StructFragment.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return ConstructorFragment.from(t);case"error":return ErrorFragment.from(t);case"event":return EventFragment.from(t);case"fallback":case"receive":return FallbackFragment.from(t);case"function":return FunctionFragment.from(t);case"struct":return StructFragment.from(t)}assert(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}assertArgument(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return ConstructorFragment.isFragment(t)}static isError(t){return ErrorFragment.isFragment(t)}static isEvent(t){return EventFragment.isFragment(t)}static isFunction(t){return FunctionFragment.isFragment(t)}static isStruct(t){return StructFragment.isFragment(t)}}class NamedFragment extends Fragment{name;constructor(t,et,ms,ws){super(t,et,ws),assertArgument(typeof ms=="string"&&ms.match(regexId),"invalid identifier","name",ms),ws=Object.freeze(ws.slice()),defineProperties(this,{name:ms})}}function joinParams(st,t){return"("+t.map(et=>et.format(st)).join(st==="full"?", ":",")+")"}class ErrorFragment extends NamedFragment{constructor(t,et,ms){super(t,"error",et,ms),Object.defineProperty(this,internal,{value:ErrorFragmentInternal})}get selector(){return id(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(ms=>JSON.parse(ms.format(t)))});const et=[];return t!=="sighash"&&et.push("error"),et.push(this.name+joinParams(t,this.inputs)),et.join(" ")}static from(t){if(ErrorFragment.isFragment(t))return t;if(typeof t=="string")return ErrorFragment.from(lex(t));if(t instanceof TokenString){const et=consumeName("error",t),ms=consumeParams(t);return consumeEoi(t),new ErrorFragment(_guard,et,ms)}return new ErrorFragment(_guard,t.name,t.inputs?t.inputs.map(ParamType.from):[])}static isFragment(t){return t&&t[internal]===ErrorFragmentInternal}}class EventFragment extends NamedFragment{anonymous;constructor(t,et,ms,ws){super(t,"event",et,ms),Object.defineProperty(this,internal,{value:EventFragmentInternal}),defineProperties(this,{anonymous:ws})}get topicHash(){return id(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ms=>JSON.parse(ms.format(t)))});const et=[];return t!=="sighash"&&et.push("event"),et.push(this.name+joinParams(t,this.inputs)),t!=="sighash"&&this.anonymous&&et.push("anonymous"),et.join(" ")}static getTopicHash(t,et){return et=(et||[]).map(ws=>ParamType.from(ws)),new EventFragment(_guard,t,et,!1).topicHash}static from(t){if(EventFragment.isFragment(t))return t;if(typeof t=="string")return EventFragment.from(lex(t));if(t instanceof TokenString){const et=consumeName("event",t),ms=consumeParams(t,!0),ws=!!consumeKeywords(t,setify(["anonymous"])).has("anonymous");return consumeEoi(t),new EventFragment(_guard,et,ms,ws)}return new EventFragment(_guard,t.name,t.inputs?t.inputs.map(et=>ParamType.from(et,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[internal]===EventFragmentInternal}}class ConstructorFragment extends Fragment{payable;gas;constructor(t,et,ms,ws,vs){super(t,et,ms),Object.defineProperty(this,internal,{value:ConstructorFragmentInternal}),defineProperties(this,{payable:ws,gas:vs})}format(t){if(assert(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(ms=>JSON.parse(ms.format(t)))});const et=[`constructor${joinParams(t,this.inputs)}`];return et.push(this.payable?"payable":"nonpayable"),this.gas!=null&&et.push(`@${this.gas.toString()}`),et.join(" ")}static from(t){if(ConstructorFragment.isFragment(t))return t;if(typeof t=="string")return ConstructorFragment.from(lex(t));if(t instanceof TokenString){consumeKeywords(t,setify(["constructor"]));const et=consumeParams(t),ms=!!consumeKeywords(t,setify(["payable"])).has("payable"),ws=consumeGas(t);return consumeEoi(t),new ConstructorFragment(_guard,"constructor",et,ms,ws)}return new ConstructorFragment(_guard,"constructor",t.inputs?t.inputs.map(ParamType.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[internal]===ConstructorFragmentInternal}}class FallbackFragment extends Fragment{payable;constructor(t,et,ms){super(t,"fallback",et),Object.defineProperty(this,internal,{value:FallbackFragmentInternal}),defineProperties(this,{payable:ms})}format(t){const et=this.inputs.length===0?"receive":"fallback";if(t==="json"){const ms=this.payable?"payable":"nonpayable";return JSON.stringify({type:et,stateMutability:ms})}return`${et}()${this.payable?" payable":""}`}static from(t){if(FallbackFragment.isFragment(t))return t;if(typeof t=="string")return FallbackFragment.from(lex(t));if(t instanceof TokenString){const et=t.toString(),ms=t.peekKeyword(setify(["fallback","receive"]));if(assertArgument(ms,"type must be fallback or receive","obj",et),t.popKeyword(setify(["fallback","receive"]))==="receive"){const Es=consumeParams(t);return assertArgument(Es.length===0,"receive cannot have arguments","obj.inputs",Es),consumeKeywords(t,setify(["payable"])),consumeEoi(t),new FallbackFragment(_guard,[],!0)}let vs=consumeParams(t);vs.length?assertArgument(vs.length===1&&vs[0].type==="bytes","invalid fallback inputs","obj.inputs",vs.map(Es=>Es.format("minimal")).join(", ")):vs=[ParamType.from("bytes")];const _s=consumeMutability(t);if(assertArgument(_s==="nonpayable"||_s==="payable","fallback cannot be constants","obj.stateMutability",_s),consumeKeywords(t,setify(["returns"])).has("returns")){const Es=consumeParams(t);assertArgument(Es.length===1&&Es[0].type==="bytes","invalid fallback outputs","obj.outputs",Es.map(Ts=>Ts.format("minimal")).join(", "))}return consumeEoi(t),new FallbackFragment(_guard,vs,_s==="payable")}if(t.type==="receive")return new FallbackFragment(_guard,[],!0);if(t.type==="fallback"){const et=[ParamType.from("bytes")],ms=t.stateMutability==="payable";return new FallbackFragment(_guard,et,ms)}assertArgument(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[internal]===FallbackFragmentInternal}}class FunctionFragment extends NamedFragment{constant;outputs;stateMutability;payable;gas;constructor(t,et,ms,ws,vs,_s){super(t,"function",et,ws),Object.defineProperty(this,internal,{value:FunctionFragmentInternal}),vs=Object.freeze(vs.slice()),defineProperties(this,{constant:ms==="view"||ms==="pure",gas:_s,outputs:vs,payable:ms==="payable",stateMutability:ms})}get selector(){return id(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(ms=>JSON.parse(ms.format(t))),outputs:this.outputs.map(ms=>JSON.parse(ms.format(t)))});const et=[];return t!=="sighash"&&et.push("function"),et.push(this.name+joinParams(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&et.push(this.stateMutability),this.outputs&&this.outputs.length&&(et.push("returns"),et.push(joinParams(t,this.outputs))),this.gas!=null&&et.push(`@${this.gas.toString()}`)),et.join(" ")}static getSelector(t,et){return et=(et||[]).map(ws=>ParamType.from(ws)),new FunctionFragment(_guard,t,"view",et,[],null).selector}static from(t){if(FunctionFragment.isFragment(t))return t;if(typeof t=="string")return FunctionFragment.from(lex(t));if(t instanceof TokenString){const ms=consumeName("function",t),ws=consumeParams(t),vs=consumeMutability(t);let _s=[];consumeKeywords(t,setify(["returns"])).has("returns")&&(_s=consumeParams(t));const Es=consumeGas(t);return consumeEoi(t),new FunctionFragment(_guard,ms,vs,ws,_s,Es)}let et=t.stateMutability;return et==null&&(et="payable",typeof t.constant=="boolean"?(et="view",t.constant||(et="payable",typeof t.payable=="boolean"&&!t.payable&&(et="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(et="nonpayable")),new FunctionFragment(_guard,t.name,et,t.inputs?t.inputs.map(ParamType.from):[],t.outputs?t.outputs.map(ParamType.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[internal]===FunctionFragmentInternal}}class StructFragment extends NamedFragment{constructor(t,et,ms){super(t,"struct",et,ms),Object.defineProperty(this,internal,{value:StructFragmentInternal})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")return StructFragment.from(lex(t));if(t instanceof TokenString){const et=consumeName("struct",t),ms=consumeParams(t);return consumeEoi(t),new StructFragment(_guard,et,ms)}return new StructFragment(_guard,t.name,t.inputs?t.inputs.map(ParamType.from):[])}static isFragment(t){return t&&t[internal]===StructFragmentInternal}}class LogDescription{fragment;name;signature;topic;args;constructor(t,et,ms){const ws=t.name,vs=t.format();defineProperties(this,{fragment:t,name:ws,signature:vs,topic:et,args:ms})}}class TransactionDescription{fragment;name;args;signature;selector;value;constructor(t,et,ms,ws){const vs=t.name,_s=t.format();defineProperties(this,{fragment:t,name:vs,args:ms,signature:_s,selector:et,value:ws})}}class ErrorDescription{fragment;name;args;signature;selector;constructor(t,et,ms){const ws=t.name,vs=t.format();defineProperties(this,{fragment:t,name:ws,args:ms,signature:vs,selector:et})}}class Indexed{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){defineProperties(this,{hash:t,_isIndexed:!0})}}const PanicReasons={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:st=>`reverted with reason string ${JSON.stringify(st)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:st=>{let t="unknown panic code";return st>=0&&st<=255&&PanicReasons[st.toString()]&&(t=PanicReasons[st.toString()]),`reverted with panic code 0x${st.toString(16)} (${t})`}}};class Interface{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(t){let et=[];typeof t=="string"?et=JSON.parse(t):et=t,this.#r=new Map,this.#e=new Map,this.#t=new Map;const ms=[];for(const _s of et)try{ms.push(Fragment.from(_s))}catch(Es){console.log("EE",Es)}defineProperties(this,{fragments:Object.freeze(ms)});let ws=null,vs=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((_s,Es)=>{let Ts;switch(_s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}defineProperties(this,{deploy:_s});return;case"fallback":_s.inputs.length===0?vs=!0:(assertArgument(!ws||_s.payable!==ws.payable,"conflicting fallback fragments",`fragments[${Es}]`,_s),ws=_s,vs=ws.payable);return;case"function":Ts=this.#r;break;case"event":Ts=this.#t;break;case"error":Ts=this.#e;break;default:return}const Ss=_s.format();Ts.has(Ss)||Ts.set(Ss,_s)}),this.deploy||defineProperties(this,{deploy:ConstructorFragment.from("constructor()")}),defineProperties(this,{fallback:ws,receive:vs})}format(t){const et=t?"minimal":"full";return this.fragments.map(ws=>ws.format(et))}formatJson(){const t=this.fragments.map(et=>et.format("json"));return JSON.stringify(t.map(et=>JSON.parse(et)))}getAbiCoder(){return AbiCoder.defaultAbiCoder()}#i(t,et,ms){if(isHexString(t)){const vs=t.toLowerCase();for(const _s of this.#r.values())if(vs===_s.selector)return _s;return null}if(t.indexOf("(")===-1){const vs=[];for(const[_s,Es]of this.#r)_s.split("(")[0]===t&&vs.push(Es);if(et){const _s=et.length>0?et[et.length-1]:null;let Es=et.length,Ts=!0;Typed.isTyped(_s)&&_s.type==="overrides"&&(Ts=!1,Es--);for(let Ss=vs.length-1;Ss>=0;Ss--){const Rs=vs[Ss].inputs.length;Rs!==Es&&(!Ts||Rs!==Es-1)&&vs.splice(Ss,1)}for(let Ss=vs.length-1;Ss>=0;Ss--){const Rs=vs[Ss].inputs;for(let Bs=0;Bs<et.length;Bs++)if(Typed.isTyped(et[Bs])){if(Bs>=Rs.length){if(et[Bs].type==="overrides")continue;vs.splice(Ss,1);break}if(et[Bs].type!==Rs[Bs].baseType){vs.splice(Ss,1);break}}}}if(vs.length===1&&et&&et.length!==vs[0].inputs.length){const _s=et[et.length-1];(_s==null||Array.isArray(_s)||typeof _s!="object")&&vs.splice(0,1)}if(vs.length===0)return null;if(vs.length>1&&ms){const _s=vs.map(Es=>JSON.stringify(Es.format())).join(", ");assertArgument(!1,`ambiguous function description (i.e. matches ${_s})`,"key",t)}return vs[0]}const ws=this.#r.get(FunctionFragment.from(t).format());return ws||null}getFunctionName(t){const et=this.#i(t,null,!1);return assertArgument(et,"no matching function","key",t),et.name}hasFunction(t){return!!this.#i(t,null,!1)}getFunction(t,et){return this.#i(t,et||null,!0)}forEachFunction(t){const et=Array.from(this.#r.keys());et.sort((ms,ws)=>ms.localeCompare(ws));for(let ms=0;ms<et.length;ms++){const ws=et[ms];t(this.#r.get(ws),ms)}}#o(t,et,ms){if(isHexString(t)){const vs=t.toLowerCase();for(const _s of this.#t.values())if(vs===_s.topicHash)return _s;return null}if(t.indexOf("(")===-1){const vs=[];for(const[_s,Es]of this.#t)_s.split("(")[0]===t&&vs.push(Es);if(et){for(let _s=vs.length-1;_s>=0;_s--)vs[_s].inputs.length<et.length&&vs.splice(_s,1);for(let _s=vs.length-1;_s>=0;_s--){const Es=vs[_s].inputs;for(let Ts=0;Ts<et.length;Ts++)if(Typed.isTyped(et[Ts])&&et[Ts].type!==Es[Ts].baseType){vs.splice(_s,1);break}}}if(vs.length===0)return null;if(vs.length>1&&ms){const _s=vs.map(Es=>JSON.stringify(Es.format())).join(", ");assertArgument(!1,`ambiguous event description (i.e. matches ${_s})`,"key",t)}return vs[0]}const ws=this.#t.get(EventFragment.from(t).format());return ws||null}getEventName(t){const et=this.#o(t,null,!1);return assertArgument(et,"no matching event","key",t),et.name}hasEvent(t){return!!this.#o(t,null,!1)}getEvent(t,et){return this.#o(t,et||null,!0)}forEachEvent(t){const et=Array.from(this.#t.keys());et.sort((ms,ws)=>ms.localeCompare(ws));for(let ms=0;ms<et.length;ms++){const ws=et[ms];t(this.#t.get(ws),ms)}}getError(t,et){if(isHexString(t)){const ws=t.toLowerCase();if(BuiltinErrors[ws])return ErrorFragment.from(BuiltinErrors[ws].signature);for(const vs of this.#e.values())if(ws===vs.selector)return vs;return null}if(t.indexOf("(")===-1){const ws=[];for(const[vs,_s]of this.#e)vs.split("(")[0]===t&&ws.push(_s);if(ws.length===0)return t==="Error"?ErrorFragment.from("error Error(string)"):t==="Panic"?ErrorFragment.from("error Panic(uint256)"):null;if(ws.length>1){const vs=ws.map(_s=>JSON.stringify(_s.format())).join(", ");assertArgument(!1,`ambiguous error description (i.e. ${vs})`,"name",t)}return ws[0]}if(t=ErrorFragment.from(t).format(),t==="Error(string)")return ErrorFragment.from("error Error(string)");if(t==="Panic(uint256)")return ErrorFragment.from("error Panic(uint256)");const ms=this.#e.get(t);return ms||null}forEachError(t){const et=Array.from(this.#e.keys());et.sort((ms,ws)=>ms.localeCompare(ws));for(let ms=0;ms<et.length;ms++){const ws=et[ms];t(this.#e.get(ws),ms)}}_decodeParams(t,et){return this.#n.decode(t,et)}_encodeParams(t,et){return this.#n.encode(t,et)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,et){if(typeof t=="string"){const ms=this.getError(t);assertArgument(ms,"unknown error","fragment",t),t=ms}return assertArgument(dataSlice(et,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",et),this._decodeParams(t.inputs,dataSlice(et,4))}encodeErrorResult(t,et){if(typeof t=="string"){const ms=this.getError(t);assertArgument(ms,"unknown error","fragment",t),t=ms}return concat$1([t.selector,this._encodeParams(t.inputs,et||[])])}decodeFunctionData(t,et){if(typeof t=="string"){const ms=this.getFunction(t);assertArgument(ms,"unknown function","fragment",t),t=ms}return assertArgument(dataSlice(et,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",et),this._decodeParams(t.inputs,dataSlice(et,4))}encodeFunctionData(t,et){if(typeof t=="string"){const ms=this.getFunction(t);assertArgument(ms,"unknown function","fragment",t),t=ms}return concat$1([t.selector,this._encodeParams(t.inputs,et||[])])}decodeFunctionResult(t,et){if(typeof t=="string"){const vs=this.getFunction(t);assertArgument(vs,"unknown function","fragment",t),t=vs}let ms="invalid length for result data";const ws=getBytesCopy(et);if(ws.length%32===0)try{return this.#n.decode(t.outputs,ws)}catch{ms="could not decode result data"}assert(!1,ms,"BAD_DATA",{value:hexlify(ws),info:{method:t.name,signature:t.format()}})}makeError(t,et){const ms=getBytes(t,"data"),ws=AbiCoder.getBuiltinCallException("call",et,ms);if(ws.message.startsWith("execution reverted (unknown custom error)")){const Es=hexlify(ms.slice(0,4)),Ts=this.getError(Es);if(Ts)try{const Ss=this.#n.decode(Ts.inputs,ms.slice(4));ws.revert={name:Ts.name,signature:Ts.format(),args:Ss},ws.reason=ws.revert.signature,ws.message=`execution reverted: ${ws.reason}`}catch{ws.message="execution reverted (coult not decode custom error)"}}const _s=this.parseTransaction(et);return _s&&(ws.invocation={method:_s.name,signature:_s.signature,args:_s.args}),ws}encodeFunctionResult(t,et){if(typeof t=="string"){const ms=this.getFunction(t);assertArgument(ms,"unknown function","fragment",t),t=ms}return hexlify(this.#n.encode(t.outputs,et||[]))}encodeFilterTopics(t,et){if(typeof t=="string"){const vs=this.getEvent(t);assertArgument(vs,"unknown event","eventFragment",t),t=vs}assert(et.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:et.length,expectedCount:t.inputs.length});const ms=[];t.anonymous||ms.push(t.topicHash);const ws=(vs,_s)=>vs.type==="string"?id(_s):vs.type==="bytes"?keccak256$1(hexlify(_s)):(vs.type==="bool"&&typeof _s=="boolean"&&(_s=_s?"0x01":"0x00"),vs.type.match(/^u?int/)&&(_s=toBeHex(_s)),vs.type==="address"&&this.#n.encode(["address"],[_s]),zeroPadValue(hexlify(_s),32));for(et.forEach((vs,_s)=>{const Es=t.inputs[_s];if(!Es.indexed){assertArgument(vs==null,"cannot filter non-indexed parameters; must be null","contract."+Es.name,vs);return}vs==null?ms.push(null):Es.baseType==="array"||Es.baseType==="tuple"?assertArgument(!1,"filtering with tuples or arrays not supported","contract."+Es.name,vs):Array.isArray(vs)?ms.push(vs.map(Ts=>ws(Es,Ts))):ms.push(ws(Es,vs))});ms.length&&ms[ms.length-1]===null;)ms.pop();return ms}encodeEventLog(t,et){if(typeof t=="string"){const _s=this.getEvent(t);assertArgument(_s,"unknown event","eventFragment",t),t=_s}const ms=[],ws=[],vs=[];return t.anonymous||ms.push(t.topicHash),assertArgument(et.length===t.inputs.length,"event arguments/values mismatch","values",et),t.inputs.forEach((_s,Es)=>{const Ts=et[Es];if(_s.indexed)if(_s.type==="string")ms.push(id(Ts));else if(_s.type==="bytes")ms.push(keccak256$1(Ts));else{if(_s.baseType==="tuple"||_s.baseType==="array")throw new Error("not implemented");ms.push(this.#n.encode([_s.type],[Ts]))}else ws.push(_s),vs.push(Ts)}),{data:this.#n.encode(ws,vs),topics:ms}}decodeEventLog(t,et,ms){if(typeof t=="string"){const Ws=this.getEvent(t);assertArgument(Ws,"unknown event","eventFragment",t),t=Ws}if(ms!=null&&!t.anonymous){const Ws=t.topicHash;assertArgument(isHexString(ms[0],32)&&ms[0].toLowerCase()===Ws,"fragment/topic mismatch","topics[0]",ms[0]),ms=ms.slice(1)}const ws=[],vs=[],_s=[];t.inputs.forEach((Ws,Hs)=>{Ws.indexed?Ws.type==="string"||Ws.type==="bytes"||Ws.baseType==="tuple"||Ws.baseType==="array"?(ws.push(ParamType.from({type:"bytes32",name:Ws.name})),_s.push(!0)):(ws.push(Ws),_s.push(!1)):(vs.push(Ws),_s.push(!1))});const Es=ms!=null?this.#n.decode(ws,concat$1(ms)):null,Ts=this.#n.decode(vs,et,!0),Ss=[],Rs=[];let Bs=0,Is=0;return t.inputs.forEach((Ws,Hs)=>{let Ns=null;if(Ws.indexed)if(Es==null)Ns=new Indexed(null);else if(_s[Hs])Ns=new Indexed(Es[Is++]);else try{Ns=Es[Is++]}catch(Js){Ns=Js}else try{Ns=Ts[Bs++]}catch(Js){Ns=Js}Ss.push(Ns),Rs.push(Ws.name||null)}),Result.fromItems(Ss,Rs)}parseTransaction(t){const et=getBytes(t.data,"tx.data"),ms=getBigInt(t.value!=null?t.value:0,"tx.value"),ws=this.getFunction(hexlify(et.slice(0,4)));if(!ws)return null;const vs=this.#n.decode(ws.inputs,et.slice(4));return new TransactionDescription(ws,ws.selector,vs,ms)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const et=this.getEvent(t.topics[0]);return!et||et.anonymous?null:new LogDescription(et,et.topicHash,this.decodeEventLog(et,t.data,t.topics))}parseError(t){const et=hexlify(t),ms=this.getError(dataSlice(et,0,4));if(!ms)return null;const ws=this.#n.decode(ms.inputs,dataSlice(et,4));return new ErrorDescription(ms,ms.selector,ws)}static from(t){return t instanceof Interface?t:typeof t=="string"?new Interface(JSON.parse(t)):typeof t.format=="function"?new Interface(t.format("json")):new Interface(t)}}const splitSignature=st=>Signature.from(st),joinSignature=st=>Signature.from(st).serialized,arrayify=st=>getBytes(st),FormatTypes={sighash:"sighash",minimal:"minimal",full:"full",json:"json"},isValidMnemonic=Mnemonic.isValidMnemonic;computeHmac.register((st,t,et)=>computeHmac._(st,Buffer.from(t),Buffer.from(et)));const ethersUtils=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder,FormatTypes,Interface,Mnemonic,Signature,SigningKey,Wordlist,arrayify,concat:concat$1,ethersHDNodeWallet:HDNodeWallet,id,isValidMnemonic,joinSignature,keccak256:keccak256$1,recoverAddress:recoverAddress$1,sha256:sha256$7,splitSignature,toUtf8Bytes,toUtf8String,wordlists},Symbol.toStringTag,{value:"Module"})),ADDRESS_SIZE=34,ADDRESS_PREFIX="41",ADDRESS_PREFIX_BYTE=65,ADDRESS_PREFIX_REGEX=/^(41)/,TRON_BIP39_PATH_PREFIX="m/44'/195'",TRON_BIP39_PATH_INDEX_0=TRON_BIP39_PATH_PREFIX+"/0'/0/0";function fromHex$1(st){return isHex$1(st)?getBase58CheckAddress(hexStr2byteArray(st.replace(/^0x/,ADDRESS_PREFIX))):st}function toHex$3(st){return isHex$1(st)?st.toLowerCase().replace(/^0x/,ADDRESS_PREFIX):byteArray2hexStr(decodeBase58Address(st)).toLowerCase()}function getChecksumAddress(st){st=st.toLowerCase();const t=st.substring(2).split(""),et=new Uint8Array(40);for(let ws=0;ws<40;ws++)et[ws]=t[ws].charCodeAt(0);const ms=hexStr2byteArray(keccak256$1(et).slice(2));for(let ws=0;ws<40;ws+=2)ms[ws>>1]>>4>=8&&(t[ws]=t[ws].toUpperCase()),(ms[ws>>1]&15)>=8&&(t[ws+1]=t[ws+1].toUpperCase());return ADDRESS_PREFIX+t.join("")}function toChecksumAddress(st){if(!isAddress(st))throw new Error(`'${st}' is not a valid address string`);return getChecksumAddress(toHex$3(st))}function isChecksumAddress(st){if(!isHex$1(st)||st.length!==42)return!1;try{return toChecksumAddress(st)===st}catch{return!1}}function fromPrivateKey(st,t=!1){try{return pkToAddress(st,t)}catch{return!1}}function isAddress(st){if(!st||!isString$1(st))return!1;if(st.length===42)try{return isAddress(getBase58CheckAddress(hexStr2byteArray(st)))}catch{return!1}try{return isAddressValid(st)}catch{return!1}}const address$1=Object.freeze(Object.defineProperty({__proto__:null,ADDRESS_PREFIX,ADDRESS_PREFIX_BYTE,ADDRESS_PREFIX_REGEX,ADDRESS_SIZE,TRON_BIP39_PATH_INDEX_0,TRON_BIP39_PATH_PREFIX,fromHex:fromHex$1,fromPrivateKey,isAddress,isChecksumAddress,toChecksumAddress,toHex:toHex$3},Symbol.toStringTag,{value:"Module"})),ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ALPHABET_MAP={};for(let st=0;st<ALPHABET$1.length;st++)ALPHABET_MAP[ALPHABET$1.charAt(st)]=st;const BASE=58;function encode58(st){if(st.length===0)return"";let t,et;const ms=[0];for(t=0;t<st.length;t++){for(et=0;et<ms.length;et++)ms[et]<<=8;ms[0]+=st[t];let ws=0;for(et=0;et<ms.length;++et)ms[et]+=ws,ws=ms[et]/BASE|0,ms[et]%=BASE;for(;ws;)ms.push(ws%BASE),ws=ws/BASE|0}for(t=0;st[t]===0&&t<st.length-1;t++)ms.push(0);return ms.reverse().map(ws=>ALPHABET$1[ws]).join("")}function decode58(st){if(st.length===0)return[];let t,et;const ms=[0];for(t=0;t<st.length;t++){const ws=st[t];if(!(ws in ALPHABET_MAP))throw new Error("Non-base58 character");for(et=0;et<ms.length;et++)ms[et]*=BASE;ms[0]+=ALPHABET_MAP[ws];let vs=0;for(et=0;et<ms.length;++et)ms[et]+=vs,vs=ms[et]>>8,ms[et]&=255;for(;vs;)ms.push(vs&255),vs>>=8}for(t=0;st[t]==="1"&&t<st.length-1;t++)ms.push(0);return ms.reverse()}const base58$1=Object.freeze(Object.defineProperty({__proto__:null,decode58,encode58},Symbol.toStringTag,{value:"Module"}));function getDefaultExportFromCjs(st){return st&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st}var browser$e={exports:{}},process=browser$e.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(st){if(cachedSetTimeout===setTimeout)return setTimeout(st,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(st,0);try{return cachedSetTimeout(st,0)}catch{try{return cachedSetTimeout.call(null,st,0)}catch{return cachedSetTimeout.call(this,st,0)}}}function runClearTimeout(st){if(cachedClearTimeout===clearTimeout)return clearTimeout(st);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(st);try{return cachedClearTimeout(st)}catch{try{return cachedClearTimeout.call(null,st)}catch{return cachedClearTimeout.call(this,st)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var st=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(st)}}process.nextTick=function(st){var t=new Array(arguments.length-1);if(arguments.length>1)for(var et=1;et<arguments.length;et++)t[et-1]=arguments[et];queue.push(new Item(st,t)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(st,t){this.fun=st,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$1(){}process.on=noop$1;process.addListener=noop$1;process.once=noop$1;process.off=noop$1;process.removeListener=noop$1;process.removeAllListeners=noop$1;process.emit=noop$1;process.prependListener=noop$1;process.prependOnceListener=noop$1;process.listeners=function(st){return[]};process.binding=function(st){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(st){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports$1=browser$e.exports;const process$1=getDefaultExportFromCjs(browserExports$1);function bind(st,t){return function(){return st.apply(t,arguments)}}const{toString:toString$5}=Object.prototype,{getPrototypeOf}=Object,kindOf=(st=>t=>{const et=toString$5.call(t);return st[et]||(st[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=st=>(st=st.toLowerCase(),t=>kindOf(t)===st),typeOfTest=st=>t=>typeof t===st,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(st){return st!==null&&!isUndefined(st)&&st.constructor!==null&&!isUndefined(st.constructor)&&isFunction(st.constructor.isBuffer)&&st.constructor.isBuffer(st)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(st){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(st):t=st&&st.buffer&&isArrayBuffer(st.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=st=>st!==null&&typeof st=="object",isBoolean=st=>st===!0||st===!1,isPlainObject=st=>{if(kindOf(st)!=="object")return!1;const t=getPrototypeOf(st);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in st)&&!(Symbol.iterator in st)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=st=>isObject(st)&&isFunction(st.pipe),isFormData=st=>{let t;return st&&(typeof FormData=="function"&&st instanceof FormData||isFunction(st.append)&&((t=kindOf(st))==="formdata"||t==="object"&&isFunction(st.toString)&&st.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=st=>st.trim?st.trim():st.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(st,t,{allOwnKeys:et=!1}={}){if(st===null||typeof st>"u")return;let ms,ws;if(typeof st!="object"&&(st=[st]),isArray(st))for(ms=0,ws=st.length;ms<ws;ms++)t.call(null,st[ms],ms,st);else{const vs=et?Object.getOwnPropertyNames(st):Object.keys(st),_s=vs.length;let Es;for(ms=0;ms<_s;ms++)Es=vs[ms],t.call(null,st[Es],Es,st)}}function findKey(st,t){t=t.toLowerCase();const et=Object.keys(st);let ms=et.length,ws;for(;ms-- >0;)if(ws=et[ms],t===ws.toLowerCase())return ws;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,isContextDefined=st=>!isUndefined(st)&&st!==_global;function merge(){const{caseless:st}=isContextDefined(this)&&this||{},t={},et=(ms,ws)=>{const vs=st&&findKey(t,ws)||ws;isPlainObject(t[vs])&&isPlainObject(ms)?t[vs]=merge(t[vs],ms):isPlainObject(ms)?t[vs]=merge({},ms):isArray(ms)?t[vs]=ms.slice():t[vs]=ms};for(let ms=0,ws=arguments.length;ms<ws;ms++)arguments[ms]&&forEach$1(arguments[ms],et);return t}const extend=(st,t,et,{allOwnKeys:ms}={})=>(forEach$1(t,(ws,vs)=>{et&&isFunction(ws)?st[vs]=bind(ws,et):st[vs]=ws},{allOwnKeys:ms}),st),stripBOM=st=>(st.charCodeAt(0)===65279&&(st=st.slice(1)),st),inherits=(st,t,et,ms)=>{st.prototype=Object.create(t.prototype,ms),st.prototype.constructor=st,Object.defineProperty(st,"super",{value:t.prototype}),et&&Object.assign(st.prototype,et)},toFlatObject=(st,t,et,ms)=>{let ws,vs,_s;const Es={};if(t=t||{},st==null)return t;do{for(ws=Object.getOwnPropertyNames(st),vs=ws.length;vs-- >0;)_s=ws[vs],(!ms||ms(_s,st,t))&&!Es[_s]&&(t[_s]=st[_s],Es[_s]=!0);st=et!==!1&&getPrototypeOf(st)}while(st&&(!et||et(st,t))&&st!==Object.prototype);return t},endsWith=(st,t,et)=>{st=String(st),(et===void 0||et>st.length)&&(et=st.length),et-=t.length;const ms=st.indexOf(t,et);return ms!==-1&&ms===et},toArray=st=>{if(!st)return null;if(isArray(st))return st;let t=st.length;if(!isNumber(t))return null;const et=new Array(t);for(;t-- >0;)et[t]=st[t];return et},isTypedArray$1=(st=>t=>st&&t instanceof st)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(st,t)=>{const ms=(st&&st[Symbol.iterator]).call(st);let ws;for(;(ws=ms.next())&&!ws.done;){const vs=ws.value;t.call(st,vs[0],vs[1])}},matchAll=(st,t)=>{let et;const ms=[];for(;(et=st.exec(t))!==null;)ms.push(et);return ms},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=st=>st.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,ms,ws){return ms.toUpperCase()+ws}),hasOwnProperty=(({hasOwnProperty:st})=>(t,et)=>st.call(t,et))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(st,t)=>{const et=Object.getOwnPropertyDescriptors(st),ms={};forEach$1(et,(ws,vs)=>{let _s;(_s=t(ws,vs,st))!==!1&&(ms[vs]=_s||ws)}),Object.defineProperties(st,ms)},freezeMethods=st=>{reduceDescriptors(st,(t,et)=>{if(isFunction(st)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const ms=st[et];if(isFunction(ms)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet=(st,t)=>{const et={},ms=ws=>{ws.forEach(vs=>{et[vs]=!0})};return isArray(st)?ms(st):ms(String(st).split(t)),et},noop=()=>{},toFiniteNumber=(st,t)=>st!=null&&Number.isFinite(st=+st)?st:t;function isSpecCompliantForm(st){return!!(st&&isFunction(st.append)&&st[Symbol.toStringTag]==="FormData"&&st[Symbol.iterator])}const toJSONObject=st=>{const t=new Array(10),et=(ms,ws)=>{if(isObject(ms)){if(t.indexOf(ms)>=0)return;if(!("toJSON"in ms)){t[ws]=ms;const vs=isArray(ms)?[]:{};return forEach$1(ms,(_s,Es)=>{const Ts=et(_s,ws+1);!isUndefined(Ts)&&(vs[Es]=Ts)}),t[ws]=void 0,vs}}return ms};return et(st,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=st=>st&&(isObject(st)||isFunction(st))&&isFunction(st.then)&&isFunction(st.catch),_setImmediate=((st,t)=>st?setImmediate:t?((et,ms)=>(_global.addEventListener("message",({source:ws,data:vs})=>{ws===_global&&vs===et&&ms.length&&ms.shift()()},!1),ws=>{ms.push(ws),_global.postMessage(et,"*")}))(`axios@${Math.random()}`,[]):et=>setTimeout(et))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process$1<"u"&&process$1.nextTick||_setImmediate,utils$b={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$1,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(st,t,et,ms,ws){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=st,this.name="AxiosError",t&&(this.code=t),et&&(this.config=et),ms&&(this.request=ms),ws&&(this.response=ws,this.status=ws.status?ws.status:null)}utils$b.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$b.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(st=>{descriptors[st]={value:st}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(st,t,et,ms,ws,vs)=>{const _s=Object.create(prototype$1);return utils$b.toFlatObject(st,_s,function(Ts){return Ts!==Error.prototype},Es=>Es!=="isAxiosError"),AxiosError$1.call(_s,st.message,t,et,ms,ws),_s.cause=st,_s.name=st.name,vs&&Object.assign(_s,vs),_s};const httpAdapter=null;function isVisitable(st){return utils$b.isPlainObject(st)||utils$b.isArray(st)}function removeBrackets(st){return utils$b.endsWith(st,"[]")?st.slice(0,-2):st}function renderKey(st,t,et){return st?st.concat(t).map(function(ws,vs){return ws=removeBrackets(ws),!et&&vs?"["+ws+"]":ws}).join(et?".":""):t}function isFlatArray(st){return utils$b.isArray(st)&&!st.some(isVisitable)}const predicates=utils$b.toFlatObject(utils$b,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(st,t,et){if(!utils$b.isObject(st))throw new TypeError("target must be an object");t=t||new FormData,et=utils$b.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ns,Js){return!utils$b.isUndefined(Js[Ns])});const ms=et.metaTokens,ws=et.visitor||Rs,vs=et.dots,_s=et.indexes,Ts=(et.Blob||typeof Blob<"u"&&Blob)&&utils$b.isSpecCompliantForm(t);if(!utils$b.isFunction(ws))throw new TypeError("visitor must be a function");function Ss(Hs){if(Hs===null)return"";if(utils$b.isDate(Hs))return Hs.toISOString();if(!Ts&&utils$b.isBlob(Hs))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$b.isArrayBuffer(Hs)||utils$b.isTypedArray(Hs)?Ts&&typeof Blob=="function"?new Blob([Hs]):Buffer.from(Hs):Hs}function Rs(Hs,Ns,Js){let ha=Hs;if(Hs&&!Js&&typeof Hs=="object"){if(utils$b.endsWith(Ns,"{}"))Ns=ms?Ns:Ns.slice(0,-2),Hs=JSON.stringify(Hs);else if(utils$b.isArray(Hs)&&isFlatArray(Hs)||(utils$b.isFileList(Hs)||utils$b.endsWith(Ns,"[]"))&&(ha=utils$b.toArray(Hs)))return Ns=removeBrackets(Ns),ha.forEach(function(za,Ya){!(utils$b.isUndefined(za)||za===null)&&t.append(_s===!0?renderKey([Ns],Ya,vs):_s===null?Ns:Ns+"[]",Ss(za))}),!1}return isVisitable(Hs)?!0:(t.append(renderKey(Js,Ns,vs),Ss(Hs)),!1)}const Bs=[],Is=Object.assign(predicates,{defaultVisitor:Rs,convertValue:Ss,isVisitable});function Ws(Hs,Ns){if(!utils$b.isUndefined(Hs)){if(Bs.indexOf(Hs)!==-1)throw Error("Circular reference detected in "+Ns.join("."));Bs.push(Hs),utils$b.forEach(Hs,function(ha,pa){(!(utils$b.isUndefined(ha)||ha===null)&&ws.call(t,ha,utils$b.isString(pa)?pa.trim():pa,Ns,Is))===!0&&Ws(ha,Ns?Ns.concat(pa):[pa])}),Bs.pop()}}if(!utils$b.isObject(st))throw new TypeError("data must be an object");return Ws(st),t}function encode$6(st){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(st).replace(/[!'()~]|%20|%00/g,function(ms){return t[ms]})}function AxiosURLSearchParams(st,t){this._pairs=[],st&&toFormData$1(st,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,et){this._pairs.push([t,et])};prototype.toString=function(t){const et=t?function(ms){return t.call(this,ms,encode$6)}:encode$6;return this._pairs.map(function(ws){return et(ws[0])+"="+et(ws[1])},"").join("&")};function encode$5(st){return encodeURIComponent(st).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(st,t,et){if(!t)return st;const ms=et&&et.encode||encode$5;utils$b.isFunction(et)&&(et={serialize:et});const ws=et&&et.serialize;let vs;if(ws?vs=ws(t,et):vs=utils$b.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,et).toString(ms),vs){const _s=st.indexOf("#");_s!==-1&&(st=st.slice(0,_s)),st+=(st.indexOf("?")===-1?"?":"&")+vs}return st}class InterceptorManager{constructor(){this.handlers=[]}use(t,et,ms){return this.handlers.push({fulfilled:t,rejected:et,synchronous:ms?ms.synchronous:!1,runWhen:ms?ms.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$b.forEach(this.handlers,function(ms){ms!==null&&t(ms)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$a=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$a,...platform$1};function toURLEncodedForm(st,t){return toFormData$1(st,new platform.classes.URLSearchParams,Object.assign({visitor:function(et,ms,ws,vs){return platform.isNode&&utils$b.isBuffer(et)?(this.append(ms,et.toString("base64")),!1):vs.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(st){return utils$b.matchAll(/\w+|\[(\w*)]/g,st).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(st){const t={},et=Object.keys(st);let ms;const ws=et.length;let vs;for(ms=0;ms<ws;ms++)vs=et[ms],t[vs]=st[vs];return t}function formDataToJSON(st){function t(et,ms,ws,vs){let _s=et[vs++];if(_s==="__proto__")return!0;const Es=Number.isFinite(+_s),Ts=vs>=et.length;return _s=!_s&&utils$b.isArray(ws)?ws.length:_s,Ts?(utils$b.hasOwnProp(ws,_s)?ws[_s]=[ws[_s],ms]:ws[_s]=ms,!Es):((!ws[_s]||!utils$b.isObject(ws[_s]))&&(ws[_s]=[]),t(et,ms,ws[_s],vs)&&utils$b.isArray(ws[_s])&&(ws[_s]=arrayToObject(ws[_s])),!Es)}if(utils$b.isFormData(st)&&utils$b.isFunction(st.entries)){const et={};return utils$b.forEachEntry(st,(ms,ws)=>{t(parsePropPath(ms),ws,et,0)}),et}return null}function stringifySafely(st,t,et){if(utils$b.isString(st))try{return(t||JSON.parse)(st),utils$b.trim(st)}catch(ms){if(ms.name!=="SyntaxError")throw ms}return(et||JSON.stringify)(st)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,et){const ms=et.getContentType()||"",ws=ms.indexOf("application/json")>-1,vs=utils$b.isObject(t);if(vs&&utils$b.isHTMLForm(t)&&(t=new FormData(t)),utils$b.isFormData(t))return ws?JSON.stringify(formDataToJSON(t)):t;if(utils$b.isArrayBuffer(t)||utils$b.isBuffer(t)||utils$b.isStream(t)||utils$b.isFile(t)||utils$b.isBlob(t)||utils$b.isReadableStream(t))return t;if(utils$b.isArrayBufferView(t))return t.buffer;if(utils$b.isURLSearchParams(t))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let Es;if(vs){if(ms.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((Es=utils$b.isFileList(t))||ms.indexOf("multipart/form-data")>-1){const Ts=this.env&&this.env.FormData;return toFormData$1(Es?{"files[]":t}:t,Ts&&new Ts,this.formSerializer)}}return vs||ws?(et.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const et=this.transitional||defaults.transitional,ms=et&&et.forcedJSONParsing,ws=this.responseType==="json";if(utils$b.isResponse(t)||utils$b.isReadableStream(t))return t;if(t&&utils$b.isString(t)&&(ms&&!this.responseType||ws)){const _s=!(et&&et.silentJSONParsing)&&ws;try{return JSON.parse(t)}catch(Es){if(_s)throw Es.name==="SyntaxError"?AxiosError$1.from(Es,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):Es}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$b.forEach(["delete","get","head","post","put","patch"],st=>{defaults.headers[st]={}});const ignoreDuplicateOf=utils$b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=st=>{const t={};let et,ms,ws;return st&&st.split(`
`).forEach(function(_s){ws=_s.indexOf(":"),et=_s.substring(0,ws).trim().toLowerCase(),ms=_s.substring(ws+1).trim(),!(!et||t[et]&&ignoreDuplicateOf[et])&&(et==="set-cookie"?t[et]?t[et].push(ms):t[et]=[ms]:t[et]=t[et]?t[et]+", "+ms:ms)}),t},$internals=Symbol("internals");function normalizeHeader(st){return st&&String(st).trim().toLowerCase()}function normalizeValue(st){return st===!1||st==null?st:utils$b.isArray(st)?st.map(normalizeValue):String(st)}function parseTokens(st){const t=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let ms;for(;ms=et.exec(st);)t[ms[1]]=ms[2];return t}const isValidHeaderName=st=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(st.trim());function matchHeaderValue(st,t,et,ms,ws){if(utils$b.isFunction(ms))return ms.call(this,t,et);if(ws&&(t=et),!!utils$b.isString(t)){if(utils$b.isString(ms))return t.indexOf(ms)!==-1;if(utils$b.isRegExp(ms))return ms.test(t)}}function formatHeader(st){return st.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,et,ms)=>et.toUpperCase()+ms)}function buildAccessors(st,t){const et=utils$b.toCamelCase(" "+t);["get","set","has"].forEach(ms=>{Object.defineProperty(st,ms+et,{value:function(ws,vs,_s){return this[ms].call(this,t,ws,vs,_s)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,et,ms){const ws=this;function vs(Es,Ts,Ss){const Rs=normalizeHeader(Ts);if(!Rs)throw new Error("header name must be a non-empty string");const Bs=utils$b.findKey(ws,Rs);(!Bs||ws[Bs]===void 0||Ss===!0||Ss===void 0&&ws[Bs]!==!1)&&(ws[Bs||Ts]=normalizeValue(Es))}const _s=(Es,Ts)=>utils$b.forEach(Es,(Ss,Rs)=>vs(Ss,Rs,Ts));if(utils$b.isPlainObject(t)||t instanceof this.constructor)_s(t,et);else if(utils$b.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))_s(parseHeaders(t),et);else if(utils$b.isHeaders(t))for(const[Es,Ts]of t.entries())vs(Ts,Es,ms);else t!=null&&vs(et,t,ms);return this}get(t,et){if(t=normalizeHeader(t),t){const ms=utils$b.findKey(this,t);if(ms){const ws=this[ms];if(!et)return ws;if(et===!0)return parseTokens(ws);if(utils$b.isFunction(et))return et.call(this,ws,ms);if(utils$b.isRegExp(et))return et.exec(ws);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,et){if(t=normalizeHeader(t),t){const ms=utils$b.findKey(this,t);return!!(ms&&this[ms]!==void 0&&(!et||matchHeaderValue(this,this[ms],ms,et)))}return!1}delete(t,et){const ms=this;let ws=!1;function vs(_s){if(_s=normalizeHeader(_s),_s){const Es=utils$b.findKey(ms,_s);Es&&(!et||matchHeaderValue(ms,ms[Es],Es,et))&&(delete ms[Es],ws=!0)}}return utils$b.isArray(t)?t.forEach(vs):vs(t),ws}clear(t){const et=Object.keys(this);let ms=et.length,ws=!1;for(;ms--;){const vs=et[ms];(!t||matchHeaderValue(this,this[vs],vs,t,!0))&&(delete this[vs],ws=!0)}return ws}normalize(t){const et=this,ms={};return utils$b.forEach(this,(ws,vs)=>{const _s=utils$b.findKey(ms,vs);if(_s){et[_s]=normalizeValue(ws),delete et[vs];return}const Es=t?formatHeader(vs):String(vs).trim();Es!==vs&&delete et[vs],et[Es]=normalizeValue(ws),ms[Es]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const et=Object.create(null);return utils$b.forEach(this,(ms,ws)=>{ms!=null&&ms!==!1&&(et[ws]=t&&utils$b.isArray(ms)?ms.join(", "):ms)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,et])=>t+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...et){const ms=new this(t);return et.forEach(ws=>ms.set(ws)),ms}static accessor(t){const ms=(this[$internals]=this[$internals]={accessors:{}}).accessors,ws=this.prototype;function vs(_s){const Es=normalizeHeader(_s);ms[Es]||(buildAccessors(ws,_s),ms[Es]=!0)}return utils$b.isArray(t)?t.forEach(vs):vs(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$b.reduceDescriptors(AxiosHeaders$1.prototype,({value:st},t)=>{let et=t[0].toUpperCase()+t.slice(1);return{get:()=>st,set(ms){this[et]=ms}}});utils$b.freezeMethods(AxiosHeaders$1);function transformData(st,t){const et=this||defaults,ms=t||et,ws=AxiosHeaders$1.from(ms.headers);let vs=ms.data;return utils$b.forEach(st,function(Es){vs=Es.call(et,vs,ws.normalize(),t?t.status:void 0)}),ws.normalize(),vs}function isCancel$1(st){return!!(st&&st.__CANCEL__)}function CanceledError$1(st,t,et){AxiosError$1.call(this,st??"canceled",AxiosError$1.ERR_CANCELED,t,et),this.name="CanceledError"}utils$b.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(st,t,et){const ms=et.config.validateStatus;!et.status||!ms||ms(et.status)?st(et):t(new AxiosError$1("Request failed with status code "+et.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}function parseProtocol(st){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(st);return t&&t[1]||""}function speedometer(st,t){st=st||10;const et=new Array(st),ms=new Array(st);let ws=0,vs=0,_s;return t=t!==void 0?t:1e3,function(Ts){const Ss=Date.now(),Rs=ms[vs];_s||(_s=Ss),et[ws]=Ts,ms[ws]=Ss;let Bs=vs,Is=0;for(;Bs!==ws;)Is+=et[Bs++],Bs=Bs%st;if(ws=(ws+1)%st,ws===vs&&(vs=(vs+1)%st),Ss-_s<t)return;const Ws=Rs&&Ss-Rs;return Ws?Math.round(Is*1e3/Ws):void 0}}function throttle(st,t){let et=0,ms=1e3/t,ws,vs;const _s=(Ss,Rs=Date.now())=>{et=Rs,ws=null,vs&&(clearTimeout(vs),vs=null),st.apply(null,Ss)};return[(...Ss)=>{const Rs=Date.now(),Bs=Rs-et;Bs>=ms?_s(Ss,Rs):(ws=Ss,vs||(vs=setTimeout(()=>{vs=null,_s(ws)},ms-Bs)))},()=>ws&&_s(ws)]}const progressEventReducer=(st,t,et=3)=>{let ms=0;const ws=speedometer(50,250);return throttle(vs=>{const _s=vs.loaded,Es=vs.lengthComputable?vs.total:void 0,Ts=_s-ms,Ss=ws(Ts),Rs=_s<=Es;ms=_s;const Bs={loaded:_s,total:Es,progress:Es?_s/Es:void 0,bytes:Ts,rate:Ss||void 0,estimated:Ss&&Es&&Rs?(Es-_s)/Ss:void 0,event:vs,lengthComputable:Es!=null,[t?"download":"upload"]:!0};st(Bs)},et)},progressEventDecorator=(st,t)=>{const et=st!=null;return[ms=>t[0]({lengthComputable:et,total:st,loaded:ms}),t[1]]},asyncDecorator=st=>(...t)=>utils$b.asap(()=>st(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((st,t)=>et=>(et=new URL(et,platform.origin),st.protocol===et.protocol&&st.host===et.host&&(t||st.port===et.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(st,t,et,ms,ws,vs){const _s=[st+"="+encodeURIComponent(t)];utils$b.isNumber(et)&&_s.push("expires="+new Date(et).toGMTString()),utils$b.isString(ms)&&_s.push("path="+ms),utils$b.isString(ws)&&_s.push("domain="+ws),vs===!0&&_s.push("secure"),document.cookie=_s.join("; ")},read(st){const t=document.cookie.match(new RegExp("(^|;\\s*)("+st+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(st){this.write(st,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(st){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(st)}function combineURLs(st,t){return t?st.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):st}function buildFullPath(st,t,et){let ms=!isAbsoluteURL(t);return st&&ms||et==!1?combineURLs(st,t):t}const headersToObject=st=>st instanceof AxiosHeaders$1?{...st}:st;function mergeConfig$1(st,t){t=t||{};const et={};function ms(Ss,Rs,Bs,Is){return utils$b.isPlainObject(Ss)&&utils$b.isPlainObject(Rs)?utils$b.merge.call({caseless:Is},Ss,Rs):utils$b.isPlainObject(Rs)?utils$b.merge({},Rs):utils$b.isArray(Rs)?Rs.slice():Rs}function ws(Ss,Rs,Bs,Is){if(utils$b.isUndefined(Rs)){if(!utils$b.isUndefined(Ss))return ms(void 0,Ss,Bs,Is)}else return ms(Ss,Rs,Bs,Is)}function vs(Ss,Rs){if(!utils$b.isUndefined(Rs))return ms(void 0,Rs)}function _s(Ss,Rs){if(utils$b.isUndefined(Rs)){if(!utils$b.isUndefined(Ss))return ms(void 0,Ss)}else return ms(void 0,Rs)}function Es(Ss,Rs,Bs){if(Bs in t)return ms(Ss,Rs);if(Bs in st)return ms(void 0,Ss)}const Ts={url:vs,method:vs,data:vs,baseURL:_s,transformRequest:_s,transformResponse:_s,paramsSerializer:_s,timeout:_s,timeoutMessage:_s,withCredentials:_s,withXSRFToken:_s,adapter:_s,responseType:_s,xsrfCookieName:_s,xsrfHeaderName:_s,onUploadProgress:_s,onDownloadProgress:_s,decompress:_s,maxContentLength:_s,maxBodyLength:_s,beforeRedirect:_s,transport:_s,httpAgent:_s,httpsAgent:_s,cancelToken:_s,socketPath:_s,responseEncoding:_s,validateStatus:Es,headers:(Ss,Rs,Bs)=>ws(headersToObject(Ss),headersToObject(Rs),Bs,!0)};return utils$b.forEach(Object.keys(Object.assign({},st,t)),function(Rs){const Bs=Ts[Rs]||ws,Is=Bs(st[Rs],t[Rs],Rs);utils$b.isUndefined(Is)&&Bs!==Es||(et[Rs]=Is)}),et}const resolveConfig=st=>{const t=mergeConfig$1({},st);let{data:et,withXSRFToken:ms,xsrfHeaderName:ws,xsrfCookieName:vs,headers:_s,auth:Es}=t;t.headers=_s=AxiosHeaders$1.from(_s),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),st.params,st.paramsSerializer),Es&&_s.set("Authorization","Basic "+btoa((Es.username||"")+":"+(Es.password?unescape(encodeURIComponent(Es.password)):"")));let Ts;if(utils$b.isFormData(et)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)_s.setContentType(void 0);else if((Ts=_s.getContentType())!==!1){const[Ss,...Rs]=Ts?Ts.split(";").map(Bs=>Bs.trim()).filter(Boolean):[];_s.setContentType([Ss||"multipart/form-data",...Rs].join("; "))}}if(platform.hasStandardBrowserEnv&&(ms&&utils$b.isFunction(ms)&&(ms=ms(t)),ms||ms!==!1&&isURLSameOrigin(t.url))){const Ss=ws&&vs&&cookies.read(vs);Ss&&_s.set(ws,Ss)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(st){return new Promise(function(et,ms){const ws=resolveConfig(st);let vs=ws.data;const _s=AxiosHeaders$1.from(ws.headers).normalize();let{responseType:Es,onUploadProgress:Ts,onDownloadProgress:Ss}=ws,Rs,Bs,Is,Ws,Hs;function Ns(){Ws&&Ws(),Hs&&Hs(),ws.cancelToken&&ws.cancelToken.unsubscribe(Rs),ws.signal&&ws.signal.removeEventListener("abort",Rs)}let Js=new XMLHttpRequest;Js.open(ws.method.toUpperCase(),ws.url,!0),Js.timeout=ws.timeout;function ha(){if(!Js)return;const za=AxiosHeaders$1.from("getAllResponseHeaders"in Js&&Js.getAllResponseHeaders()),Bc={data:!Es||Es==="text"||Es==="json"?Js.responseText:Js.response,status:Js.status,statusText:Js.statusText,headers:za,config:st,request:Js};settle(function(tu){et(tu),Ns()},function(tu){ms(tu),Ns()},Bc),Js=null}"onloadend"in Js?Js.onloadend=ha:Js.onreadystatechange=function(){!Js||Js.readyState!==4||Js.status===0&&!(Js.responseURL&&Js.responseURL.indexOf("file:")===0)||setTimeout(ha)},Js.onabort=function(){Js&&(ms(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,st,Js)),Js=null)},Js.onerror=function(){ms(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,st,Js)),Js=null},Js.ontimeout=function(){let Ya=ws.timeout?"timeout of "+ws.timeout+"ms exceeded":"timeout exceeded";const Bc=ws.transitional||transitionalDefaults;ws.timeoutErrorMessage&&(Ya=ws.timeoutErrorMessage),ms(new AxiosError$1(Ya,Bc.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,st,Js)),Js=null},vs===void 0&&_s.setContentType(null),"setRequestHeader"in Js&&utils$b.forEach(_s.toJSON(),function(Ya,Bc){Js.setRequestHeader(Bc,Ya)}),utils$b.isUndefined(ws.withCredentials)||(Js.withCredentials=!!ws.withCredentials),Es&&Es!=="json"&&(Js.responseType=ws.responseType),Ss&&([Is,Hs]=progressEventReducer(Ss,!0),Js.addEventListener("progress",Is)),Ts&&Js.upload&&([Bs,Ws]=progressEventReducer(Ts),Js.upload.addEventListener("progress",Bs),Js.upload.addEventListener("loadend",Ws)),(ws.cancelToken||ws.signal)&&(Rs=za=>{Js&&(ms(!za||za.type?new CanceledError$1(null,st,Js):za),Js.abort(),Js=null)},ws.cancelToken&&ws.cancelToken.subscribe(Rs),ws.signal&&(ws.signal.aborted?Rs():ws.signal.addEventListener("abort",Rs)));const pa=parseProtocol(ws.url);if(pa&&platform.protocols.indexOf(pa)===-1){ms(new AxiosError$1("Unsupported protocol "+pa+":",AxiosError$1.ERR_BAD_REQUEST,st));return}Js.send(vs||null)})},composeSignals=(st,t)=>{const{length:et}=st=st?st.filter(Boolean):[];if(t||et){let ms=new AbortController,ws;const vs=function(Ss){if(!ws){ws=!0,Es();const Rs=Ss instanceof Error?Ss:this.reason;ms.abort(Rs instanceof AxiosError$1?Rs:new CanceledError$1(Rs instanceof Error?Rs.message:Rs))}};let _s=t&&setTimeout(()=>{_s=null,vs(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const Es=()=>{st&&(_s&&clearTimeout(_s),_s=null,st.forEach(Ss=>{Ss.unsubscribe?Ss.unsubscribe(vs):Ss.removeEventListener("abort",vs)}),st=null)};st.forEach(Ss=>Ss.addEventListener("abort",vs));const{signal:Ts}=ms;return Ts.unsubscribe=()=>utils$b.asap(Es),Ts}},streamChunk=function*(st,t){let et=st.byteLength;if(et<t){yield st;return}let ms=0,ws;for(;ms<et;)ws=ms+t,yield st.slice(ms,ws),ms=ws},readBytes=async function*(st,t){for await(const et of readStream(st))yield*streamChunk(et,t)},readStream=async function*(st){if(st[Symbol.asyncIterator]){yield*st;return}const t=st.getReader();try{for(;;){const{done:et,value:ms}=await t.read();if(et)break;yield ms}}finally{await t.cancel()}},trackStream=(st,t,et,ms)=>{const ws=readBytes(st,t);let vs=0,_s,Es=Ts=>{_s||(_s=!0,ms&&ms(Ts))};return new ReadableStream({async pull(Ts){try{const{done:Ss,value:Rs}=await ws.next();if(Ss){Es(),Ts.close();return}let Bs=Rs.byteLength;if(et){let Is=vs+=Bs;et(Is)}Ts.enqueue(new Uint8Array(Rs))}catch(Ss){throw Es(Ss),Ss}},cancel(Ts){return Es(Ts),ws.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(st=>t=>st.encode(t))(new TextEncoder):async st=>new Uint8Array(await new Response(st).arrayBuffer())),test=(st,...t)=>{try{return!!st(...t)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let st=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return st=!0,"half"}}).headers.has("Content-Type");return st&&!t}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$b.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(st=>st.body)};isFetchSupported&&(st=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=utils$b.isFunction(st[t])?et=>et[t]():(et,ms)=>{throw new AxiosError$1(`Response type '${t}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,ms)})})})(new Response);const getBodyLength=async st=>{if(st==null)return 0;if(utils$b.isBlob(st))return st.size;if(utils$b.isSpecCompliantForm(st))return(await new Request(platform.origin,{method:"POST",body:st}).arrayBuffer()).byteLength;if(utils$b.isArrayBufferView(st)||utils$b.isArrayBuffer(st))return st.byteLength;if(utils$b.isURLSearchParams(st)&&(st=st+""),utils$b.isString(st))return(await encodeText(st)).byteLength},resolveBodyLength=async(st,t)=>{const et=utils$b.toFiniteNumber(st.getContentLength());return et??getBodyLength(t)},fetchAdapter=isFetchSupported&&(async st=>{let{url:t,method:et,data:ms,signal:ws,cancelToken:vs,timeout:_s,onDownloadProgress:Es,onUploadProgress:Ts,responseType:Ss,headers:Rs,withCredentials:Bs="same-origin",fetchOptions:Is}=resolveConfig(st);Ss=Ss?(Ss+"").toLowerCase():"text";let Ws=composeSignals([ws,vs&&vs.toAbortSignal()],_s),Hs;const Ns=Ws&&Ws.unsubscribe&&(()=>{Ws.unsubscribe()});let Js;try{if(Ts&&supportsRequestStream&&et!=="get"&&et!=="head"&&(Js=await resolveBodyLength(Rs,ms))!==0){let Bc=new Request(t,{method:"POST",body:ms,duplex:"half"}),Qa;if(utils$b.isFormData(ms)&&(Qa=Bc.headers.get("content-type"))&&Rs.setContentType(Qa),Bc.body){const[tu,eu]=progressEventDecorator(Js,progressEventReducer(asyncDecorator(Ts)));ms=trackStream(Bc.body,DEFAULT_CHUNK_SIZE,tu,eu)}}utils$b.isString(Bs)||(Bs=Bs?"include":"omit");const ha="credentials"in Request.prototype;Hs=new Request(t,{...Is,signal:Ws,method:et.toUpperCase(),headers:Rs.normalize().toJSON(),body:ms,duplex:"half",credentials:ha?Bs:void 0});let pa=await fetch(Hs);const za=supportsResponseStream&&(Ss==="stream"||Ss==="response");if(supportsResponseStream&&(Es||za&&Ns)){const Bc={};["status","statusText","headers"].forEach(ru=>{Bc[ru]=pa[ru]});const Qa=utils$b.toFiniteNumber(pa.headers.get("content-length")),[tu,eu]=Es&&progressEventDecorator(Qa,progressEventReducer(asyncDecorator(Es),!0))||[];pa=new Response(trackStream(pa.body,DEFAULT_CHUNK_SIZE,tu,()=>{eu&&eu(),Ns&&Ns()}),Bc)}Ss=Ss||"text";let Ya=await resolvers[utils$b.findKey(resolvers,Ss)||"text"](pa,st);return!za&&Ns&&Ns(),await new Promise((Bc,Qa)=>{settle(Bc,Qa,{data:Ya,headers:AxiosHeaders$1.from(pa.headers),status:pa.status,statusText:pa.statusText,config:st,request:Hs})})}catch(ha){throw Ns&&Ns(),ha&&ha.name==="TypeError"&&/fetch/i.test(ha.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,st,Hs),{cause:ha.cause||ha}):AxiosError$1.from(ha,ha&&ha.code,st,Hs)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$b.forEach(knownAdapters,(st,t)=>{if(st){try{Object.defineProperty(st,"name",{value:t})}catch{}Object.defineProperty(st,"adapterName",{value:t})}});const renderReason=st=>`- ${st}`,isResolvedHandle=st=>utils$b.isFunction(st)||st===null||st===!1,adapters={getAdapter:st=>{st=utils$b.isArray(st)?st:[st];const{length:t}=st;let et,ms;const ws={};for(let vs=0;vs<t;vs++){et=st[vs];let _s;if(ms=et,!isResolvedHandle(et)&&(ms=knownAdapters[(_s=String(et)).toLowerCase()],ms===void 0))throw new AxiosError$1(`Unknown adapter '${_s}'`);if(ms)break;ws[_s||"#"+vs]=ms}if(!ms){const vs=Object.entries(ws).map(([Es,Ts])=>`adapter ${Es} `+(Ts===!1?"is not supported by the environment":"is not available in the build"));let _s=t?vs.length>1?`since :
`+vs.map(renderReason).join(`
`):" "+renderReason(vs[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+_s,"ERR_NOT_SUPPORT")}return ms},adapters:knownAdapters};function throwIfCancellationRequested(st){if(st.cancelToken&&st.cancelToken.throwIfRequested(),st.signal&&st.signal.aborted)throw new CanceledError$1(null,st)}function dispatchRequest(st){return throwIfCancellationRequested(st),st.headers=AxiosHeaders$1.from(st.headers),st.data=transformData.call(st,st.transformRequest),["post","put","patch"].indexOf(st.method)!==-1&&st.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(st.adapter||defaults.adapter)(st).then(function(ms){return throwIfCancellationRequested(st),ms.data=transformData.call(st,st.transformResponse,ms),ms.headers=AxiosHeaders$1.from(ms.headers),ms},function(ms){return isCancel$1(ms)||(throwIfCancellationRequested(st),ms&&ms.response&&(ms.response.data=transformData.call(st,st.transformResponse,ms.response),ms.response.headers=AxiosHeaders$1.from(ms.response.headers))),Promise.reject(ms)})}const VERSION$1="1.8.3",validators$1={};["object","boolean","number","function","string","symbol"].forEach((st,t)=>{validators$1[st]=function(ms){return typeof ms===st||"a"+(t<1?"n ":" ")+st}});const deprecatedWarnings={};validators$1.transitional=function(t,et,ms){function ws(vs,_s){return"[Axios v"+VERSION$1+"] Transitional option '"+vs+"'"+_s+(ms?". "+ms:"")}return(vs,_s,Es)=>{if(t===!1)throw new AxiosError$1(ws(_s," has been removed"+(et?" in "+et:"")),AxiosError$1.ERR_DEPRECATED);return et&&!deprecatedWarnings[_s]&&(deprecatedWarnings[_s]=!0,console.warn(ws(_s," has been deprecated since v"+et+" and will be removed in the near future"))),t?t(vs,_s,Es):!0}};validators$1.spelling=function(t){return(et,ms)=>(console.warn(`${ms} is likely a misspelling of ${t}`),!0)};function assertOptions(st,t,et){if(typeof st!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const ms=Object.keys(st);let ws=ms.length;for(;ws-- >0;){const vs=ms[ws],_s=t[vs];if(_s){const Es=st[vs],Ts=Es===void 0||_s(Es,vs,st);if(Ts!==!0)throw new AxiosError$1("option "+vs+" must be "+Ts,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError$1("Unknown option "+vs,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,et){try{return await this._request(t,et)}catch(ms){if(ms instanceof Error){let ws={};Error.captureStackTrace?Error.captureStackTrace(ws):ws=new Error;const vs=ws.stack?ws.stack.replace(/^.+\n/,""):"";try{ms.stack?vs&&!String(ms.stack).endsWith(vs.replace(/^.+\n.+\n/,""))&&(ms.stack+=`
`+vs):ms.stack=vs}catch{}}throw ms}}_request(t,et){typeof t=="string"?(et=et||{},et.url=t):et=t||{},et=mergeConfig$1(this.defaults,et);const{transitional:ms,paramsSerializer:ws,headers:vs}=et;ms!==void 0&&validator.assertOptions(ms,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ws!=null&&(utils$b.isFunction(ws)?et.paramsSerializer={serialize:ws}:validator.assertOptions(ws,{encode:validators.function,serialize:validators.function},!0)),et.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?et.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:et.allowAbsoluteUrls=!0),validator.assertOptions(et,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),et.method=(et.method||this.defaults.method||"get").toLowerCase();let _s=vs&&utils$b.merge(vs.common,vs[et.method]);vs&&utils$b.forEach(["delete","get","head","post","put","patch","common"],Hs=>{delete vs[Hs]}),et.headers=AxiosHeaders$1.concat(_s,vs);const Es=[];let Ts=!0;this.interceptors.request.forEach(function(Ns){typeof Ns.runWhen=="function"&&Ns.runWhen(et)===!1||(Ts=Ts&&Ns.synchronous,Es.unshift(Ns.fulfilled,Ns.rejected))});const Ss=[];this.interceptors.response.forEach(function(Ns){Ss.push(Ns.fulfilled,Ns.rejected)});let Rs,Bs=0,Is;if(!Ts){const Hs=[dispatchRequest.bind(this),void 0];for(Hs.unshift.apply(Hs,Es),Hs.push.apply(Hs,Ss),Is=Hs.length,Rs=Promise.resolve(et);Bs<Is;)Rs=Rs.then(Hs[Bs++],Hs[Bs++]);return Rs}Is=Es.length;let Ws=et;for(Bs=0;Bs<Is;){const Hs=Es[Bs++],Ns=Es[Bs++];try{Ws=Hs(Ws)}catch(Js){Ns.call(this,Js);break}}try{Rs=dispatchRequest.call(this,Ws)}catch(Hs){return Promise.reject(Hs)}for(Bs=0,Is=Ss.length;Bs<Is;)Rs=Rs.then(Ss[Bs++],Ss[Bs++]);return Rs}getUri(t){t=mergeConfig$1(this.defaults,t);const et=buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls);return buildURL(et,t.params,t.paramsSerializer)}};utils$b.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(et,ms){return this.request(mergeConfig$1(ms||{},{method:t,url:et,data:(ms||{}).data}))}});utils$b.forEach(["post","put","patch"],function(t){function et(ms){return function(vs,_s,Es){return this.request(mergeConfig$1(Es||{},{method:t,headers:ms?{"Content-Type":"multipart/form-data"}:{},url:vs,data:_s}))}}Axios$1.prototype[t]=et(),Axios$1.prototype[t+"Form"]=et(!0)});let CancelToken$1=class cd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(vs){et=vs});const ms=this;this.promise.then(ws=>{if(!ms._listeners)return;let vs=ms._listeners.length;for(;vs-- >0;)ms._listeners[vs](ws);ms._listeners=null}),this.promise.then=ws=>{let vs;const _s=new Promise(Es=>{ms.subscribe(Es),vs=Es}).then(ws);return _s.cancel=function(){ms.unsubscribe(vs)},_s},t(function(vs,_s,Es){ms.reason||(ms.reason=new CanceledError$1(vs,_s,Es),et(ms.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const et=this._listeners.indexOf(t);et!==-1&&this._listeners.splice(et,1)}toAbortSignal(){const t=new AbortController,et=ms=>{t.abort(ms)};return this.subscribe(et),t.signal.unsubscribe=()=>this.unsubscribe(et),t.signal}static source(){let t;return{token:new cd(function(ws){t=ws}),cancel:t}}};function spread$1(st){return function(et){return st.apply(null,et)}}function isAxiosError$1(st){return utils$b.isObject(st)&&st.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([st,t])=>{HttpStatusCode$1[t]=st});function createInstance(st){const t=new Axios$1(st),et=bind(Axios$1.prototype.request,t);return utils$b.extend(et,Axios$1.prototype,t,{allOwnKeys:!0}),utils$b.extend(et,t,null,{allOwnKeys:!0}),et.create=function(ws){return createInstance(mergeConfig$1(st,ws))},et}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=st=>formDataToJSON(utils$b.isHTMLForm(st)?new FormData(st):st);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;class HttpProvider{host;timeout;user;password;headers;statusPage;instance;constructor(t,et=3e4,ms="",ws="",vs={},_s="/"){if(!isValidURL(t))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(et)||et<0)throw new Error("Invalid timeout duration provided");if(!isObject$1(vs))throw new Error("Invalid headers object provided");t=t.replace(/\/+$/,""),this.host=t,this.timeout=et,this.user=ms,this.password=ws,this.headers=vs,this.statusPage=_s,this.instance=axios.create({baseURL:t,timeout:et,headers:vs,auth:ms?{username:ms,password:ws}:void 0})}setStatusPage(t="/"){this.statusPage=t}async isConnected(t=this.statusPage){return this.request(t).then(et=>hasProperties(et,"blockID","block_header")).catch(()=>!1)}request(t,et={},ms="get"){return ms=ms.toLowerCase(),this.instance.request({data:ms=="post"&&Object.keys(et).length?et:null,params:ms=="get"&&et,url:t,method:ms}).then(({data:ws})=>ws)}}const providers$1={HttpProvider};var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(st){var t=Object.prototype.hasOwnProperty,et="~";function ms(){}Object.create&&(ms.prototype=Object.create(null),new ms().__proto__||(et=!1));function ws(Ts,Ss,Rs){this.fn=Ts,this.context=Ss,this.once=Rs||!1}function vs(Ts,Ss,Rs,Bs,Is){if(typeof Rs!="function")throw new TypeError("The listener must be a function");var Ws=new ws(Rs,Bs||Ts,Is),Hs=et?et+Ss:Ss;return Ts._events[Hs]?Ts._events[Hs].fn?Ts._events[Hs]=[Ts._events[Hs],Ws]:Ts._events[Hs].push(Ws):(Ts._events[Hs]=Ws,Ts._eventsCount++),Ts}function _s(Ts,Ss){--Ts._eventsCount===0?Ts._events=new ms:delete Ts._events[Ss]}function Es(){this._events=new ms,this._eventsCount=0}Es.prototype.eventNames=function(){var Ss=[],Rs,Bs;if(this._eventsCount===0)return Ss;for(Bs in Rs=this._events)t.call(Rs,Bs)&&Ss.push(et?Bs.slice(1):Bs);return Object.getOwnPropertySymbols?Ss.concat(Object.getOwnPropertySymbols(Rs)):Ss},Es.prototype.listeners=function(Ss){var Rs=et?et+Ss:Ss,Bs=this._events[Rs];if(!Bs)return[];if(Bs.fn)return[Bs.fn];for(var Is=0,Ws=Bs.length,Hs=new Array(Ws);Is<Ws;Is++)Hs[Is]=Bs[Is].fn;return Hs},Es.prototype.listenerCount=function(Ss){var Rs=et?et+Ss:Ss,Bs=this._events[Rs];return Bs?Bs.fn?1:Bs.length:0},Es.prototype.emit=function(Ss,Rs,Bs,Is,Ws,Hs){var Ns=et?et+Ss:Ss;if(!this._events[Ns])return!1;var Js=this._events[Ns],ha=arguments.length,pa,za;if(Js.fn){switch(Js.once&&this.removeListener(Ss,Js.fn,void 0,!0),ha){case 1:return Js.fn.call(Js.context),!0;case 2:return Js.fn.call(Js.context,Rs),!0;case 3:return Js.fn.call(Js.context,Rs,Bs),!0;case 4:return Js.fn.call(Js.context,Rs,Bs,Is),!0;case 5:return Js.fn.call(Js.context,Rs,Bs,Is,Ws),!0;case 6:return Js.fn.call(Js.context,Rs,Bs,Is,Ws,Hs),!0}for(za=1,pa=new Array(ha-1);za<ha;za++)pa[za-1]=arguments[za];Js.fn.apply(Js.context,pa)}else{var Ya=Js.length,Bc;for(za=0;za<Ya;za++)switch(Js[za].once&&this.removeListener(Ss,Js[za].fn,void 0,!0),ha){case 1:Js[za].fn.call(Js[za].context);break;case 2:Js[za].fn.call(Js[za].context,Rs);break;case 3:Js[za].fn.call(Js[za].context,Rs,Bs);break;case 4:Js[za].fn.call(Js[za].context,Rs,Bs,Is);break;default:if(!pa)for(Bc=1,pa=new Array(ha-1);Bc<ha;Bc++)pa[Bc-1]=arguments[Bc];Js[za].fn.apply(Js[za].context,pa)}}return!0},Es.prototype.on=function(Ss,Rs,Bs){return vs(this,Ss,Rs,Bs,!1)},Es.prototype.once=function(Ss,Rs,Bs){return vs(this,Ss,Rs,Bs,!0)},Es.prototype.removeListener=function(Ss,Rs,Bs,Is){var Ws=et?et+Ss:Ss;if(!this._events[Ws])return this;if(!Rs)return _s(this,Ws),this;var Hs=this._events[Ws];if(Hs.fn)Hs.fn===Rs&&(!Is||Hs.once)&&(!Bs||Hs.context===Bs)&&_s(this,Ws);else{for(var Ns=0,Js=[],ha=Hs.length;Ns<ha;Ns++)(Hs[Ns].fn!==Rs||Is&&!Hs[Ns].once||Bs&&Hs[Ns].context!==Bs)&&Js.push(Hs[Ns]);Js.length?this._events[Ws]=Js.length===1?Js[0]:Js:_s(this,Ws)}return this},Es.prototype.removeAllListeners=function(Ss){var Rs;return Ss?(Rs=et?et+Ss:Ss,this._events[Rs]&&_s(this,Rs)):(this._events=new ms,this._eventsCount=0),this},Es.prototype.off=Es.prototype.removeListener,Es.prototype.addListener=Es.prototype.on,Es.prefixed=et,Es.EventEmitter=Es,st.exports=Es}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs$1(eventemitter3Exports);var re$3={exports:{}},constants$5,hasRequiredConstants$5;function requireConstants$5(){if(hasRequiredConstants$5)return constants$5;hasRequiredConstants$5=1;const st="2.0.0",t=256,et=Number.MAX_SAFE_INTEGER||9007199254740991,ms=16,ws=t-6;return constants$5={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:ms,MAX_SAFE_BUILD_LENGTH:ws,MAX_SAFE_INTEGER:et,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:st,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},constants$5}var debug_1,hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return debug_1;hasRequiredDebug=1;var st={};return debug_1=typeof process$1=="object"&&st&&st.NODE_DEBUG&&/\bsemver\b/i.test(st.NODE_DEBUG)?(...et)=>console.error("SEMVER",...et):()=>{},debug_1}var hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,function(st,t){const{MAX_SAFE_COMPONENT_LENGTH:et,MAX_SAFE_BUILD_LENGTH:ms,MAX_LENGTH:ws}=requireConstants$5(),vs=requireDebug();t=st.exports={};const _s=t.re=[],Es=t.safeRe=[],Ts=t.src=[],Ss=t.safeSrc=[],Rs=t.t={};let Bs=0;const Is="[a-zA-Z0-9-]",Ws=[["\\s",1],["\\d",ws],[Is,ms]],Hs=Js=>{for(const[ha,pa]of Ws)Js=Js.split(`${ha}*`).join(`${ha}{0,${pa}}`).split(`${ha}+`).join(`${ha}{1,${pa}}`);return Js},Ns=(Js,ha,pa)=>{const za=Hs(ha),Ya=Bs++;vs(Js,Ya,ha),Rs[Js]=Ya,Ts[Ya]=ha,Ss[Ya]=za,_s[Ya]=new RegExp(ha,pa?"g":void 0),Es[Ya]=new RegExp(za,pa?"g":void 0)};Ns("NUMERICIDENTIFIER","0|[1-9]\\d*"),Ns("NUMERICIDENTIFIERLOOSE","\\d+"),Ns("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Is}*`),Ns("MAINVERSION",`(${Ts[Rs.NUMERICIDENTIFIER]})\\.(${Ts[Rs.NUMERICIDENTIFIER]})\\.(${Ts[Rs.NUMERICIDENTIFIER]})`),Ns("MAINVERSIONLOOSE",`(${Ts[Rs.NUMERICIDENTIFIERLOOSE]})\\.(${Ts[Rs.NUMERICIDENTIFIERLOOSE]})\\.(${Ts[Rs.NUMERICIDENTIFIERLOOSE]})`),Ns("PRERELEASEIDENTIFIER",`(?:${Ts[Rs.NUMERICIDENTIFIER]}|${Ts[Rs.NONNUMERICIDENTIFIER]})`),Ns("PRERELEASEIDENTIFIERLOOSE",`(?:${Ts[Rs.NUMERICIDENTIFIERLOOSE]}|${Ts[Rs.NONNUMERICIDENTIFIER]})`),Ns("PRERELEASE",`(?:-(${Ts[Rs.PRERELEASEIDENTIFIER]}(?:\\.${Ts[Rs.PRERELEASEIDENTIFIER]})*))`),Ns("PRERELEASELOOSE",`(?:-?(${Ts[Rs.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ts[Rs.PRERELEASEIDENTIFIERLOOSE]})*))`),Ns("BUILDIDENTIFIER",`${Is}+`),Ns("BUILD",`(?:\\+(${Ts[Rs.BUILDIDENTIFIER]}(?:\\.${Ts[Rs.BUILDIDENTIFIER]})*))`),Ns("FULLPLAIN",`v?${Ts[Rs.MAINVERSION]}${Ts[Rs.PRERELEASE]}?${Ts[Rs.BUILD]}?`),Ns("FULL",`^${Ts[Rs.FULLPLAIN]}$`),Ns("LOOSEPLAIN",`[v=\\s]*${Ts[Rs.MAINVERSIONLOOSE]}${Ts[Rs.PRERELEASELOOSE]}?${Ts[Rs.BUILD]}?`),Ns("LOOSE",`^${Ts[Rs.LOOSEPLAIN]}$`),Ns("GTLT","((?:<|>)?=?)"),Ns("XRANGEIDENTIFIERLOOSE",`${Ts[Rs.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Ns("XRANGEIDENTIFIER",`${Ts[Rs.NUMERICIDENTIFIER]}|x|X|\\*`),Ns("XRANGEPLAIN",`[v=\\s]*(${Ts[Rs.XRANGEIDENTIFIER]})(?:\\.(${Ts[Rs.XRANGEIDENTIFIER]})(?:\\.(${Ts[Rs.XRANGEIDENTIFIER]})(?:${Ts[Rs.PRERELEASE]})?${Ts[Rs.BUILD]}?)?)?`),Ns("XRANGEPLAINLOOSE",`[v=\\s]*(${Ts[Rs.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ts[Rs.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ts[Rs.XRANGEIDENTIFIERLOOSE]})(?:${Ts[Rs.PRERELEASELOOSE]})?${Ts[Rs.BUILD]}?)?)?`),Ns("XRANGE",`^${Ts[Rs.GTLT]}\\s*${Ts[Rs.XRANGEPLAIN]}$`),Ns("XRANGELOOSE",`^${Ts[Rs.GTLT]}\\s*${Ts[Rs.XRANGEPLAINLOOSE]}$`),Ns("COERCEPLAIN",`(^|[^\\d])(\\d{1,${et}})(?:\\.(\\d{1,${et}}))?(?:\\.(\\d{1,${et}}))?`),Ns("COERCE",`${Ts[Rs.COERCEPLAIN]}(?:$|[^\\d])`),Ns("COERCEFULL",Ts[Rs.COERCEPLAIN]+`(?:${Ts[Rs.PRERELEASE]})?(?:${Ts[Rs.BUILD]})?(?:$|[^\\d])`),Ns("COERCERTL",Ts[Rs.COERCE],!0),Ns("COERCERTLFULL",Ts[Rs.COERCEFULL],!0),Ns("LONETILDE","(?:~>?)"),Ns("TILDETRIM",`(\\s*)${Ts[Rs.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",Ns("TILDE",`^${Ts[Rs.LONETILDE]}${Ts[Rs.XRANGEPLAIN]}$`),Ns("TILDELOOSE",`^${Ts[Rs.LONETILDE]}${Ts[Rs.XRANGEPLAINLOOSE]}$`),Ns("LONECARET","(?:\\^)"),Ns("CARETTRIM",`(\\s*)${Ts[Rs.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",Ns("CARET",`^${Ts[Rs.LONECARET]}${Ts[Rs.XRANGEPLAIN]}$`),Ns("CARETLOOSE",`^${Ts[Rs.LONECARET]}${Ts[Rs.XRANGEPLAINLOOSE]}$`),Ns("COMPARATORLOOSE",`^${Ts[Rs.GTLT]}\\s*(${Ts[Rs.LOOSEPLAIN]})$|^$`),Ns("COMPARATOR",`^${Ts[Rs.GTLT]}\\s*(${Ts[Rs.FULLPLAIN]})$|^$`),Ns("COMPARATORTRIM",`(\\s*)${Ts[Rs.GTLT]}\\s*(${Ts[Rs.LOOSEPLAIN]}|${Ts[Rs.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",Ns("HYPHENRANGE",`^\\s*(${Ts[Rs.XRANGEPLAIN]})\\s+-\\s+(${Ts[Rs.XRANGEPLAIN]})\\s*$`),Ns("HYPHENRANGELOOSE",`^\\s*(${Ts[Rs.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ts[Rs.XRANGEPLAINLOOSE]})\\s*$`),Ns("STAR","(<|>)?=?\\s*\\*"),Ns("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Ns("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(re$3,re$3.exports)),re$3.exports}var parseOptions_1,hasRequiredParseOptions;function requireParseOptions(){if(hasRequiredParseOptions)return parseOptions_1;hasRequiredParseOptions=1;const st=Object.freeze({loose:!0}),t=Object.freeze({});return parseOptions_1=ms=>ms?typeof ms!="object"?st:ms:t,parseOptions_1}var identifiers,hasRequiredIdentifiers;function requireIdentifiers(){if(hasRequiredIdentifiers)return identifiers;hasRequiredIdentifiers=1;const st=/^[0-9]+$/,t=(ms,ws)=>{const vs=st.test(ms),_s=st.test(ws);return vs&&_s&&(ms=+ms,ws=+ws),ms===ws?0:vs&&!_s?-1:_s&&!vs?1:ms<ws?-1:1};return identifiers={compareIdentifiers:t,rcompareIdentifiers:(ms,ws)=>t(ws,ms)},identifiers}var semver$2,hasRequiredSemver$1;function requireSemver$1(){if(hasRequiredSemver$1)return semver$2;hasRequiredSemver$1=1;const st=requireDebug(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:et}=requireConstants$5(),{safeRe:ms,safeSrc:ws,t:vs}=requireRe(),_s=requireParseOptions(),{compareIdentifiers:Es}=requireIdentifiers();class Ts{constructor(Rs,Bs){if(Bs=_s(Bs),Rs instanceof Ts){if(Rs.loose===!!Bs.loose&&Rs.includePrerelease===!!Bs.includePrerelease)return Rs;Rs=Rs.version}else if(typeof Rs!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof Rs}".`);if(Rs.length>t)throw new TypeError(`version is longer than ${t} characters`);st("SemVer",Rs,Bs),this.options=Bs,this.loose=!!Bs.loose,this.includePrerelease=!!Bs.includePrerelease;const Is=Rs.trim().match(Bs.loose?ms[vs.LOOSE]:ms[vs.FULL]);if(!Is)throw new TypeError(`Invalid Version: ${Rs}`);if(this.raw=Rs,this.major=+Is[1],this.minor=+Is[2],this.patch=+Is[3],this.major>et||this.major<0)throw new TypeError("Invalid major version");if(this.minor>et||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>et||this.patch<0)throw new TypeError("Invalid patch version");Is[4]?this.prerelease=Is[4].split(".").map(Ws=>{if(/^[0-9]+$/.test(Ws)){const Hs=+Ws;if(Hs>=0&&Hs<et)return Hs}return Ws}):this.prerelease=[],this.build=Is[5]?Is[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(Rs){if(st("SemVer.compare",this.version,this.options,Rs),!(Rs instanceof Ts)){if(typeof Rs=="string"&&Rs===this.version)return 0;Rs=new Ts(Rs,this.options)}return Rs.version===this.version?0:this.compareMain(Rs)||this.comparePre(Rs)}compareMain(Rs){return Rs instanceof Ts||(Rs=new Ts(Rs,this.options)),Es(this.major,Rs.major)||Es(this.minor,Rs.minor)||Es(this.patch,Rs.patch)}comparePre(Rs){if(Rs instanceof Ts||(Rs=new Ts(Rs,this.options)),this.prerelease.length&&!Rs.prerelease.length)return-1;if(!this.prerelease.length&&Rs.prerelease.length)return 1;if(!this.prerelease.length&&!Rs.prerelease.length)return 0;let Bs=0;do{const Is=this.prerelease[Bs],Ws=Rs.prerelease[Bs];if(st("prerelease compare",Bs,Is,Ws),Is===void 0&&Ws===void 0)return 0;if(Ws===void 0)return 1;if(Is===void 0)return-1;if(Is===Ws)continue;return Es(Is,Ws)}while(++Bs)}compareBuild(Rs){Rs instanceof Ts||(Rs=new Ts(Rs,this.options));let Bs=0;do{const Is=this.build[Bs],Ws=Rs.build[Bs];if(st("build compare",Bs,Is,Ws),Is===void 0&&Ws===void 0)return 0;if(Ws===void 0)return 1;if(Is===void 0)return-1;if(Is===Ws)continue;return Es(Is,Ws)}while(++Bs)}inc(Rs,Bs,Is){if(Rs.startsWith("pre")){if(!Bs&&Is===!1)throw new Error("invalid increment argument: identifier is empty");if(Bs){const Ws=new RegExp(`^${this.options.loose?ws[vs.PRERELEASELOOSE]:ws[vs.PRERELEASE]}$`),Hs=`-${Bs}`.match(Ws);if(!Hs||Hs[1]!==Bs)throw new Error(`invalid identifier: ${Bs}`)}}switch(Rs){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Bs,Is);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Bs,Is);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Bs,Is),this.inc("pre",Bs,Is);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",Bs,Is),this.inc("pre",Bs,Is);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const Ws=Number(Is)?1:0;if(this.prerelease.length===0)this.prerelease=[Ws];else{let Hs=this.prerelease.length;for(;--Hs>=0;)typeof this.prerelease[Hs]=="number"&&(this.prerelease[Hs]++,Hs=-2);if(Hs===-1){if(Bs===this.prerelease.join(".")&&Is===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(Ws)}}if(Bs){let Hs=[Bs,Ws];Is===!1&&(Hs=[Bs]),Es(this.prerelease[0],Bs)===0?isNaN(this.prerelease[1])&&(this.prerelease=Hs):this.prerelease=Hs}break}default:throw new Error(`invalid increment argument: ${Rs}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return semver$2=Ts,semver$2}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1;const st=requireSemver$1();return parse_1=(et,ms,ws=!1)=>{if(et instanceof st)return et;try{return new st(et,ms)}catch(vs){if(!ws)return null;throw vs}},parse_1}var valid_1,hasRequiredValid$1;function requireValid$1(){if(hasRequiredValid$1)return valid_1;hasRequiredValid$1=1;const st=requireParse();return valid_1=(et,ms)=>{const ws=st(et,ms);return ws?ws.version:null},valid_1}var clean_1,hasRequiredClean;function requireClean(){if(hasRequiredClean)return clean_1;hasRequiredClean=1;const st=requireParse();return clean_1=(et,ms)=>{const ws=st(et.trim().replace(/^[=v]+/,""),ms);return ws?ws.version:null},clean_1}var inc_1,hasRequiredInc;function requireInc(){if(hasRequiredInc)return inc_1;hasRequiredInc=1;const st=requireSemver$1();return inc_1=(et,ms,ws,vs,_s)=>{typeof ws=="string"&&(_s=vs,vs=ws,ws=void 0);try{return new st(et instanceof st?et.version:et,ws).inc(ms,vs,_s).version}catch{return null}},inc_1}var diff_1,hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff_1;hasRequiredDiff=1;const st=requireParse();return diff_1=(et,ms)=>{const ws=st(et,null,!0),vs=st(ms,null,!0),_s=ws.compare(vs);if(_s===0)return null;const Es=_s>0,Ts=Es?ws:vs,Ss=Es?vs:ws,Rs=!!Ts.prerelease.length;if(!!Ss.prerelease.length&&!Rs){if(!Ss.patch&&!Ss.minor)return"major";if(Ss.compareMain(Ts)===0)return Ss.minor&&!Ss.patch?"minor":"patch"}const Is=Rs?"pre":"";return ws.major!==vs.major?Is+"major":ws.minor!==vs.minor?Is+"minor":ws.patch!==vs.patch?Is+"patch":"prerelease"},diff_1}var major_1,hasRequiredMajor;function requireMajor(){if(hasRequiredMajor)return major_1;hasRequiredMajor=1;const st=requireSemver$1();return major_1=(et,ms)=>new st(et,ms).major,major_1}var minor_1,hasRequiredMinor;function requireMinor(){if(hasRequiredMinor)return minor_1;hasRequiredMinor=1;const st=requireSemver$1();return minor_1=(et,ms)=>new st(et,ms).minor,minor_1}var patch_1,hasRequiredPatch;function requirePatch(){if(hasRequiredPatch)return patch_1;hasRequiredPatch=1;const st=requireSemver$1();return patch_1=(et,ms)=>new st(et,ms).patch,patch_1}var prerelease_1,hasRequiredPrerelease;function requirePrerelease(){if(hasRequiredPrerelease)return prerelease_1;hasRequiredPrerelease=1;const st=requireParse();return prerelease_1=(et,ms)=>{const ws=st(et,ms);return ws&&ws.prerelease.length?ws.prerelease:null},prerelease_1}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;const st=requireSemver$1();return compare_1=(et,ms,ws)=>new st(et,ws).compare(new st(ms,ws)),compare_1}var rcompare_1,hasRequiredRcompare;function requireRcompare(){if(hasRequiredRcompare)return rcompare_1;hasRequiredRcompare=1;const st=requireCompare();return rcompare_1=(et,ms,ws)=>st(ms,et,ws),rcompare_1}var compareLoose_1,hasRequiredCompareLoose;function requireCompareLoose(){if(hasRequiredCompareLoose)return compareLoose_1;hasRequiredCompareLoose=1;const st=requireCompare();return compareLoose_1=(et,ms)=>st(et,ms,!0),compareLoose_1}var compareBuild_1,hasRequiredCompareBuild;function requireCompareBuild(){if(hasRequiredCompareBuild)return compareBuild_1;hasRequiredCompareBuild=1;const st=requireSemver$1();return compareBuild_1=(et,ms,ws)=>{const vs=new st(et,ws),_s=new st(ms,ws);return vs.compare(_s)||vs.compareBuild(_s)},compareBuild_1}var sort_1,hasRequiredSort;function requireSort(){if(hasRequiredSort)return sort_1;hasRequiredSort=1;const st=requireCompareBuild();return sort_1=(et,ms)=>et.sort((ws,vs)=>st(ws,vs,ms)),sort_1}var rsort_1,hasRequiredRsort;function requireRsort(){if(hasRequiredRsort)return rsort_1;hasRequiredRsort=1;const st=requireCompareBuild();return rsort_1=(et,ms)=>et.sort((ws,vs)=>st(vs,ws,ms)),rsort_1}var gt_1,hasRequiredGt;function requireGt(){if(hasRequiredGt)return gt_1;hasRequiredGt=1;const st=requireCompare();return gt_1=(et,ms,ws)=>st(et,ms,ws)>0,gt_1}var lt_1,hasRequiredLt;function requireLt(){if(hasRequiredLt)return lt_1;hasRequiredLt=1;const st=requireCompare();return lt_1=(et,ms,ws)=>st(et,ms,ws)<0,lt_1}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;const st=requireCompare();return eq_1=(et,ms,ws)=>st(et,ms,ws)===0,eq_1}var neq_1,hasRequiredNeq;function requireNeq(){if(hasRequiredNeq)return neq_1;hasRequiredNeq=1;const st=requireCompare();return neq_1=(et,ms,ws)=>st(et,ms,ws)!==0,neq_1}var gte_1,hasRequiredGte;function requireGte(){if(hasRequiredGte)return gte_1;hasRequiredGte=1;const st=requireCompare();return gte_1=(et,ms,ws)=>st(et,ms,ws)>=0,gte_1}var lte_1,hasRequiredLte;function requireLte(){if(hasRequiredLte)return lte_1;hasRequiredLte=1;const st=requireCompare();return lte_1=(et,ms,ws)=>st(et,ms,ws)<=0,lte_1}var cmp_1,hasRequiredCmp;function requireCmp(){if(hasRequiredCmp)return cmp_1;hasRequiredCmp=1;const st=requireEq(),t=requireNeq(),et=requireGt(),ms=requireGte(),ws=requireLt(),vs=requireLte();return cmp_1=(Es,Ts,Ss,Rs)=>{switch(Ts){case"===":return typeof Es=="object"&&(Es=Es.version),typeof Ss=="object"&&(Ss=Ss.version),Es===Ss;case"!==":return typeof Es=="object"&&(Es=Es.version),typeof Ss=="object"&&(Ss=Ss.version),Es!==Ss;case"":case"=":case"==":return st(Es,Ss,Rs);case"!=":return t(Es,Ss,Rs);case">":return et(Es,Ss,Rs);case">=":return ms(Es,Ss,Rs);case"<":return ws(Es,Ss,Rs);case"<=":return vs(Es,Ss,Rs);default:throw new TypeError(`Invalid operator: ${Ts}`)}},cmp_1}var coerce_1,hasRequiredCoerce;function requireCoerce(){if(hasRequiredCoerce)return coerce_1;hasRequiredCoerce=1;const st=requireSemver$1(),t=requireParse(),{safeRe:et,t:ms}=requireRe();return coerce_1=(vs,_s)=>{if(vs instanceof st)return vs;if(typeof vs=="number"&&(vs=String(vs)),typeof vs!="string")return null;_s=_s||{};let Es=null;if(!_s.rtl)Es=vs.match(_s.includePrerelease?et[ms.COERCEFULL]:et[ms.COERCE]);else{const Ws=_s.includePrerelease?et[ms.COERCERTLFULL]:et[ms.COERCERTL];let Hs;for(;(Hs=Ws.exec(vs))&&(!Es||Es.index+Es[0].length!==vs.length);)(!Es||Hs.index+Hs[0].length!==Es.index+Es[0].length)&&(Es=Hs),Ws.lastIndex=Hs.index+Hs[1].length+Hs[2].length;Ws.lastIndex=-1}if(Es===null)return null;const Ts=Es[2],Ss=Es[3]||"0",Rs=Es[4]||"0",Bs=_s.includePrerelease&&Es[5]?`-${Es[5]}`:"",Is=_s.includePrerelease&&Es[6]?`+${Es[6]}`:"";return t(`${Ts}.${Ss}.${Rs}${Bs}${Is}`,_s)},coerce_1}var lrucache,hasRequiredLrucache;function requireLrucache(){if(hasRequiredLrucache)return lrucache;hasRequiredLrucache=1;class st{constructor(){this.max=1e3,this.map=new Map}get(et){const ms=this.map.get(et);if(ms!==void 0)return this.map.delete(et),this.map.set(et,ms),ms}delete(et){return this.map.delete(et)}set(et,ms){if(!this.delete(et)&&ms!==void 0){if(this.map.size>=this.max){const vs=this.map.keys().next().value;this.delete(vs)}this.map.set(et,ms)}return this}}return lrucache=st,lrucache}var range$1,hasRequiredRange$1;function requireRange$1(){if(hasRequiredRange$1)return range$1;hasRequiredRange$1=1;const st=/\s+/g;class t{constructor(Zs,Wa){if(Wa=ws(Wa),Zs instanceof t)return Zs.loose===!!Wa.loose&&Zs.includePrerelease===!!Wa.includePrerelease?Zs:new t(Zs.raw,Wa);if(Zs instanceof vs)return this.raw=Zs.value,this.set=[[Zs]],this.formatted=void 0,this;if(this.options=Wa,this.loose=!!Wa.loose,this.includePrerelease=!!Wa.includePrerelease,this.raw=Zs.trim().replace(st," "),this.set=this.raw.split("||").map(Za=>this.parseRange(Za.trim())).filter(Za=>Za.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Za=this.set[0];if(this.set=this.set.filter(iu=>!Ns(iu[0])),this.set.length===0)this.set=[Za];else if(this.set.length>1){for(const iu of this.set)if(iu.length===1&&Js(iu[0])){this.set=[iu];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let Zs=0;Zs<this.set.length;Zs++){Zs>0&&(this.formatted+="||");const Wa=this.set[Zs];for(let Za=0;Za<Wa.length;Za++)Za>0&&(this.formatted+=" "),this.formatted+=Wa[Za].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Zs){const Za=((this.options.includePrerelease&&Ws)|(this.options.loose&&Hs))+":"+Zs,iu=ms.get(Za);if(iu)return iu;const au=this.options.loose,nu=au?Ts[Ss.HYPHENRANGELOOSE]:Ts[Ss.HYPHENRANGE];Zs=Zs.replace(nu,Ga(this.options.includePrerelease)),_s("hyphen replace",Zs),Zs=Zs.replace(Ts[Ss.COMPARATORTRIM],Rs),_s("comparator trim",Zs),Zs=Zs.replace(Ts[Ss.TILDETRIM],Bs),_s("tilde trim",Zs),Zs=Zs.replace(Ts[Ss.CARETTRIM],Is),_s("caret trim",Zs);let uu=Zs.split(" ").map($u=>pa($u,this.options)).join(" ").split(/\s+/).map($u=>ou($u,this.options));au&&(uu=uu.filter($u=>(_s("loose invalid filter",$u,this.options),!!$u.match(Ts[Ss.COMPARATORLOOSE])))),_s("range list",uu);const fu=new Map,hu=uu.map($u=>new vs($u,this.options));for(const $u of hu){if(Ns($u))return[$u];fu.set($u.value,$u)}fu.size>1&&fu.has("")&&fu.delete("");const Eu=[...fu.values()];return ms.set(Za,Eu),Eu}intersects(Zs,Wa){if(!(Zs instanceof t))throw new TypeError("a Range is required");return this.set.some(Za=>ha(Za,Wa)&&Zs.set.some(iu=>ha(iu,Wa)&&Za.every(au=>iu.every(nu=>au.intersects(nu,Wa)))))}test(Zs){if(!Zs)return!1;if(typeof Zs=="string")try{Zs=new Es(Zs,this.options)}catch{return!1}for(let Wa=0;Wa<this.set.length;Wa++)if(Xa(this.set[Wa],Zs,this.options))return!0;return!1}}range$1=t;const et=requireLrucache(),ms=new et,ws=requireParseOptions(),vs=requireComparator(),_s=requireDebug(),Es=requireSemver$1(),{safeRe:Ts,t:Ss,comparatorTrimReplace:Rs,tildeTrimReplace:Bs,caretTrimReplace:Is}=requireRe(),{FLAG_INCLUDE_PRERELEASE:Ws,FLAG_LOOSE:Hs}=requireConstants$5(),Ns=Fa=>Fa.value==="<0.0.0-0",Js=Fa=>Fa.value==="",ha=(Fa,Zs)=>{let Wa=!0;const Za=Fa.slice();let iu=Za.pop();for(;Wa&&Za.length;)Wa=Za.every(au=>iu.intersects(au,Zs)),iu=Za.pop();return Wa},pa=(Fa,Zs)=>(_s("comp",Fa,Zs),Fa=Qa(Fa,Zs),_s("caret",Fa),Fa=Ya(Fa,Zs),_s("tildes",Fa),Fa=eu(Fa,Zs),_s("xrange",Fa),Fa=cu(Fa,Zs),_s("stars",Fa),Fa),za=Fa=>!Fa||Fa.toLowerCase()==="x"||Fa==="*",Ya=(Fa,Zs)=>Fa.trim().split(/\s+/).map(Wa=>Bc(Wa,Zs)).join(" "),Bc=(Fa,Zs)=>{const Wa=Zs.loose?Ts[Ss.TILDELOOSE]:Ts[Ss.TILDE];return Fa.replace(Wa,(Za,iu,au,nu,uu)=>{_s("tilde",Fa,Za,iu,au,nu,uu);let fu;return za(iu)?fu="":za(au)?fu=`>=${iu}.0.0 <${+iu+1}.0.0-0`:za(nu)?fu=`>=${iu}.${au}.0 <${iu}.${+au+1}.0-0`:uu?(_s("replaceTilde pr",uu),fu=`>=${iu}.${au}.${nu}-${uu} <${iu}.${+au+1}.0-0`):fu=`>=${iu}.${au}.${nu} <${iu}.${+au+1}.0-0`,_s("tilde return",fu),fu})},Qa=(Fa,Zs)=>Fa.trim().split(/\s+/).map(Wa=>tu(Wa,Zs)).join(" "),tu=(Fa,Zs)=>{_s("caret",Fa,Zs);const Wa=Zs.loose?Ts[Ss.CARETLOOSE]:Ts[Ss.CARET],Za=Zs.includePrerelease?"-0":"";return Fa.replace(Wa,(iu,au,nu,uu,fu)=>{_s("caret",Fa,iu,au,nu,uu,fu);let hu;return za(au)?hu="":za(nu)?hu=`>=${au}.0.0${Za} <${+au+1}.0.0-0`:za(uu)?au==="0"?hu=`>=${au}.${nu}.0${Za} <${au}.${+nu+1}.0-0`:hu=`>=${au}.${nu}.0${Za} <${+au+1}.0.0-0`:fu?(_s("replaceCaret pr",fu),au==="0"?nu==="0"?hu=`>=${au}.${nu}.${uu}-${fu} <${au}.${nu}.${+uu+1}-0`:hu=`>=${au}.${nu}.${uu}-${fu} <${au}.${+nu+1}.0-0`:hu=`>=${au}.${nu}.${uu}-${fu} <${+au+1}.0.0-0`):(_s("no pr"),au==="0"?nu==="0"?hu=`>=${au}.${nu}.${uu}${Za} <${au}.${nu}.${+uu+1}-0`:hu=`>=${au}.${nu}.${uu}${Za} <${au}.${+nu+1}.0-0`:hu=`>=${au}.${nu}.${uu} <${+au+1}.0.0-0`),_s("caret return",hu),hu})},eu=(Fa,Zs)=>(_s("replaceXRanges",Fa,Zs),Fa.split(/\s+/).map(Wa=>ru(Wa,Zs)).join(" ")),ru=(Fa,Zs)=>{Fa=Fa.trim();const Wa=Zs.loose?Ts[Ss.XRANGELOOSE]:Ts[Ss.XRANGE];return Fa.replace(Wa,(Za,iu,au,nu,uu,fu)=>{_s("xRange",Fa,Za,iu,au,nu,uu,fu);const hu=za(au),Eu=hu||za(nu),$u=Eu||za(uu),Ou=$u;return iu==="="&&Ou&&(iu=""),fu=Zs.includePrerelease?"-0":"",hu?iu===">"||iu==="<"?Za="<0.0.0-0":Za="*":iu&&Ou?(Eu&&(nu=0),uu=0,iu===">"?(iu=">=",Eu?(au=+au+1,nu=0,uu=0):(nu=+nu+1,uu=0)):iu==="<="&&(iu="<",Eu?au=+au+1:nu=+nu+1),iu==="<"&&(fu="-0"),Za=`${iu+au}.${nu}.${uu}${fu}`):Eu?Za=`>=${au}.0.0${fu} <${+au+1}.0.0-0`:$u&&(Za=`>=${au}.${nu}.0${fu} <${au}.${+nu+1}.0-0`),_s("xRange return",Za),Za})},cu=(Fa,Zs)=>(_s("replaceStars",Fa,Zs),Fa.trim().replace(Ts[Ss.STAR],"")),ou=(Fa,Zs)=>(_s("replaceGTE0",Fa,Zs),Fa.trim().replace(Ts[Zs.includePrerelease?Ss.GTE0PRE:Ss.GTE0],"")),Ga=Fa=>(Zs,Wa,Za,iu,au,nu,uu,fu,hu,Eu,$u,Ou)=>(za(Za)?Wa="":za(iu)?Wa=`>=${Za}.0.0${Fa?"-0":""}`:za(au)?Wa=`>=${Za}.${iu}.0${Fa?"-0":""}`:nu?Wa=`>=${Wa}`:Wa=`>=${Wa}${Fa?"-0":""}`,za(hu)?fu="":za(Eu)?fu=`<${+hu+1}.0.0-0`:za($u)?fu=`<${hu}.${+Eu+1}.0-0`:Ou?fu=`<=${hu}.${Eu}.${$u}-${Ou}`:Fa?fu=`<${hu}.${Eu}.${+$u+1}-0`:fu=`<=${fu}`,`${Wa} ${fu}`.trim()),Xa=(Fa,Zs,Wa)=>{for(let Za=0;Za<Fa.length;Za++)if(!Fa[Za].test(Zs))return!1;if(Zs.prerelease.length&&!Wa.includePrerelease){for(let Za=0;Za<Fa.length;Za++)if(_s(Fa[Za].semver),Fa[Za].semver!==vs.ANY&&Fa[Za].semver.prerelease.length>0){const iu=Fa[Za].semver;if(iu.major===Zs.major&&iu.minor===Zs.minor&&iu.patch===Zs.patch)return!0}return!1}return!0};return range$1}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const st=Symbol("SemVer ANY");class t{static get ANY(){return st}constructor(Rs,Bs){if(Bs=et(Bs),Rs instanceof t){if(Rs.loose===!!Bs.loose)return Rs;Rs=Rs.value}Rs=Rs.trim().split(/\s+/).join(" "),_s("comparator",Rs,Bs),this.options=Bs,this.loose=!!Bs.loose,this.parse(Rs),this.semver===st?this.value="":this.value=this.operator+this.semver.version,_s("comp",this)}parse(Rs){const Bs=this.options.loose?ms[ws.COMPARATORLOOSE]:ms[ws.COMPARATOR],Is=Rs.match(Bs);if(!Is)throw new TypeError(`Invalid comparator: ${Rs}`);this.operator=Is[1]!==void 0?Is[1]:"",this.operator==="="&&(this.operator=""),Is[2]?this.semver=new Es(Is[2],this.options.loose):this.semver=st}toString(){return this.value}test(Rs){if(_s("Comparator.test",Rs,this.options.loose),this.semver===st||Rs===st)return!0;if(typeof Rs=="string")try{Rs=new Es(Rs,this.options)}catch{return!1}return vs(Rs,this.operator,this.semver,this.options)}intersects(Rs,Bs){if(!(Rs instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ts(Rs.value,Bs).test(this.value):Rs.operator===""?Rs.value===""?!0:new Ts(this.value,Bs).test(Rs.semver):(Bs=et(Bs),Bs.includePrerelease&&(this.value==="<0.0.0-0"||Rs.value==="<0.0.0-0")||!Bs.includePrerelease&&(this.value.startsWith("<0.0.0")||Rs.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&Rs.operator.startsWith(">")||this.operator.startsWith("<")&&Rs.operator.startsWith("<")||this.semver.version===Rs.semver.version&&this.operator.includes("=")&&Rs.operator.includes("=")||vs(this.semver,"<",Rs.semver,Bs)&&this.operator.startsWith(">")&&Rs.operator.startsWith("<")||vs(this.semver,">",Rs.semver,Bs)&&this.operator.startsWith("<")&&Rs.operator.startsWith(">")))}}comparator=t;const et=requireParseOptions(),{safeRe:ms,t:ws}=requireRe(),vs=requireCmp(),_s=requireDebug(),Es=requireSemver$1(),Ts=requireRange$1();return comparator}var satisfies_1,hasRequiredSatisfies;function requireSatisfies(){if(hasRequiredSatisfies)return satisfies_1;hasRequiredSatisfies=1;const st=requireRange$1();return satisfies_1=(et,ms,ws)=>{try{ms=new st(ms,ws)}catch{return!1}return ms.test(et)},satisfies_1}var toComparators_1,hasRequiredToComparators;function requireToComparators(){if(hasRequiredToComparators)return toComparators_1;hasRequiredToComparators=1;const st=requireRange$1();return toComparators_1=(et,ms)=>new st(et,ms).set.map(ws=>ws.map(vs=>vs.value).join(" ").trim().split(" ")),toComparators_1}var maxSatisfying_1,hasRequiredMaxSatisfying;function requireMaxSatisfying(){if(hasRequiredMaxSatisfying)return maxSatisfying_1;hasRequiredMaxSatisfying=1;const st=requireSemver$1(),t=requireRange$1();return maxSatisfying_1=(ms,ws,vs)=>{let _s=null,Es=null,Ts=null;try{Ts=new t(ws,vs)}catch{return null}return ms.forEach(Ss=>{Ts.test(Ss)&&(!_s||Es.compare(Ss)===-1)&&(_s=Ss,Es=new st(_s,vs))}),_s},maxSatisfying_1}var minSatisfying_1,hasRequiredMinSatisfying;function requireMinSatisfying(){if(hasRequiredMinSatisfying)return minSatisfying_1;hasRequiredMinSatisfying=1;const st=requireSemver$1(),t=requireRange$1();return minSatisfying_1=(ms,ws,vs)=>{let _s=null,Es=null,Ts=null;try{Ts=new t(ws,vs)}catch{return null}return ms.forEach(Ss=>{Ts.test(Ss)&&(!_s||Es.compare(Ss)===1)&&(_s=Ss,Es=new st(_s,vs))}),_s},minSatisfying_1}var minVersion_1,hasRequiredMinVersion;function requireMinVersion(){if(hasRequiredMinVersion)return minVersion_1;hasRequiredMinVersion=1;const st=requireSemver$1(),t=requireRange$1(),et=requireGt();return minVersion_1=(ws,vs)=>{ws=new t(ws,vs);let _s=new st("0.0.0");if(ws.test(_s)||(_s=new st("0.0.0-0"),ws.test(_s)))return _s;_s=null;for(let Es=0;Es<ws.set.length;++Es){const Ts=ws.set[Es];let Ss=null;Ts.forEach(Rs=>{const Bs=new st(Rs.semver.version);switch(Rs.operator){case">":Bs.prerelease.length===0?Bs.patch++:Bs.prerelease.push(0),Bs.raw=Bs.format();case"":case">=":(!Ss||et(Bs,Ss))&&(Ss=Bs);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${Rs.operator}`)}}),Ss&&(!_s||et(_s,Ss))&&(_s=Ss)}return _s&&ws.test(_s)?_s:null},minVersion_1}var valid,hasRequiredValid;function requireValid(){if(hasRequiredValid)return valid;hasRequiredValid=1;const st=requireRange$1();return valid=(et,ms)=>{try{return new st(et,ms).range||"*"}catch{return null}},valid}var outside_1,hasRequiredOutside;function requireOutside(){if(hasRequiredOutside)return outside_1;hasRequiredOutside=1;const st=requireSemver$1(),t=requireComparator(),{ANY:et}=t,ms=requireRange$1(),ws=requireSatisfies(),vs=requireGt(),_s=requireLt(),Es=requireLte(),Ts=requireGte();return outside_1=(Rs,Bs,Is,Ws)=>{Rs=new st(Rs,Ws),Bs=new ms(Bs,Ws);let Hs,Ns,Js,ha,pa;switch(Is){case">":Hs=vs,Ns=Es,Js=_s,ha=">",pa=">=";break;case"<":Hs=_s,Ns=Ts,Js=vs,ha="<",pa="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ws(Rs,Bs,Ws))return!1;for(let za=0;za<Bs.set.length;++za){const Ya=Bs.set[za];let Bc=null,Qa=null;if(Ya.forEach(tu=>{tu.semver===et&&(tu=new t(">=0.0.0")),Bc=Bc||tu,Qa=Qa||tu,Hs(tu.semver,Bc.semver,Ws)?Bc=tu:Js(tu.semver,Qa.semver,Ws)&&(Qa=tu)}),Bc.operator===ha||Bc.operator===pa||(!Qa.operator||Qa.operator===ha)&&Ns(Rs,Qa.semver))return!1;if(Qa.operator===pa&&Js(Rs,Qa.semver))return!1}return!0},outside_1}var gtr_1,hasRequiredGtr;function requireGtr(){if(hasRequiredGtr)return gtr_1;hasRequiredGtr=1;const st=requireOutside();return gtr_1=(et,ms,ws)=>st(et,ms,">",ws),gtr_1}var ltr_1,hasRequiredLtr;function requireLtr(){if(hasRequiredLtr)return ltr_1;hasRequiredLtr=1;const st=requireOutside();return ltr_1=(et,ms,ws)=>st(et,ms,"<",ws),ltr_1}var intersects_1,hasRequiredIntersects;function requireIntersects(){if(hasRequiredIntersects)return intersects_1;hasRequiredIntersects=1;const st=requireRange$1();return intersects_1=(et,ms,ws)=>(et=new st(et,ws),ms=new st(ms,ws),et.intersects(ms,ws)),intersects_1}var simplify,hasRequiredSimplify;function requireSimplify(){if(hasRequiredSimplify)return simplify;hasRequiredSimplify=1;const st=requireSatisfies(),t=requireCompare();return simplify=(et,ms,ws)=>{const vs=[];let _s=null,Es=null;const Ts=et.sort((Is,Ws)=>t(Is,Ws,ws));for(const Is of Ts)st(Is,ms,ws)?(Es=Is,_s||(_s=Is)):(Es&&vs.push([_s,Es]),Es=null,_s=null);_s&&vs.push([_s,null]);const Ss=[];for(const[Is,Ws]of vs)Is===Ws?Ss.push(Is):!Ws&&Is===Ts[0]?Ss.push("*"):Ws?Is===Ts[0]?Ss.push(`<=${Ws}`):Ss.push(`${Is} - ${Ws}`):Ss.push(`>=${Is}`);const Rs=Ss.join(" || "),Bs=typeof ms.raw=="string"?ms.raw:String(ms);return Rs.length<Bs.length?Rs:ms},simplify}var subset_1,hasRequiredSubset;function requireSubset(){if(hasRequiredSubset)return subset_1;hasRequiredSubset=1;const st=requireRange$1(),t=requireComparator(),{ANY:et}=t,ms=requireSatisfies(),ws=requireCompare(),vs=(Bs,Is,Ws={})=>{if(Bs===Is)return!0;Bs=new st(Bs,Ws),Is=new st(Is,Ws);let Hs=!1;e:for(const Ns of Bs.set){for(const Js of Is.set){const ha=Ts(Ns,Js,Ws);if(Hs=Hs||ha!==null,ha)continue e}if(Hs)return!1}return!0},_s=[new t(">=0.0.0-0")],Es=[new t(">=0.0.0")],Ts=(Bs,Is,Ws)=>{if(Bs===Is)return!0;if(Bs.length===1&&Bs[0].semver===et){if(Is.length===1&&Is[0].semver===et)return!0;Ws.includePrerelease?Bs=_s:Bs=Es}if(Is.length===1&&Is[0].semver===et){if(Ws.includePrerelease)return!0;Is=Es}const Hs=new Set;let Ns,Js;for(const eu of Bs)eu.operator===">"||eu.operator===">="?Ns=Ss(Ns,eu,Ws):eu.operator==="<"||eu.operator==="<="?Js=Rs(Js,eu,Ws):Hs.add(eu.semver);if(Hs.size>1)return null;let ha;if(Ns&&Js){if(ha=ws(Ns.semver,Js.semver,Ws),ha>0)return null;if(ha===0&&(Ns.operator!==">="||Js.operator!=="<="))return null}for(const eu of Hs){if(Ns&&!ms(eu,String(Ns),Ws)||Js&&!ms(eu,String(Js),Ws))return null;for(const ru of Is)if(!ms(eu,String(ru),Ws))return!1;return!0}let pa,za,Ya,Bc,Qa=Js&&!Ws.includePrerelease&&Js.semver.prerelease.length?Js.semver:!1,tu=Ns&&!Ws.includePrerelease&&Ns.semver.prerelease.length?Ns.semver:!1;Qa&&Qa.prerelease.length===1&&Js.operator==="<"&&Qa.prerelease[0]===0&&(Qa=!1);for(const eu of Is){if(Bc=Bc||eu.operator===">"||eu.operator===">=",Ya=Ya||eu.operator==="<"||eu.operator==="<=",Ns){if(tu&&eu.semver.prerelease&&eu.semver.prerelease.length&&eu.semver.major===tu.major&&eu.semver.minor===tu.minor&&eu.semver.patch===tu.patch&&(tu=!1),eu.operator===">"||eu.operator===">="){if(pa=Ss(Ns,eu,Ws),pa===eu&&pa!==Ns)return!1}else if(Ns.operator===">="&&!ms(Ns.semver,String(eu),Ws))return!1}if(Js){if(Qa&&eu.semver.prerelease&&eu.semver.prerelease.length&&eu.semver.major===Qa.major&&eu.semver.minor===Qa.minor&&eu.semver.patch===Qa.patch&&(Qa=!1),eu.operator==="<"||eu.operator==="<="){if(za=Rs(Js,eu,Ws),za===eu&&za!==Js)return!1}else if(Js.operator==="<="&&!ms(Js.semver,String(eu),Ws))return!1}if(!eu.operator&&(Js||Ns)&&ha!==0)return!1}return!(Ns&&Ya&&!Js&&ha!==0||Js&&Bc&&!Ns&&ha!==0||tu||Qa)},Ss=(Bs,Is,Ws)=>{if(!Bs)return Is;const Hs=ws(Bs.semver,Is.semver,Ws);return Hs>0?Bs:Hs<0||Is.operator===">"&&Bs.operator===">="?Is:Bs},Rs=(Bs,Is,Ws)=>{if(!Bs)return Is;const Hs=ws(Bs.semver,Is.semver,Ws);return Hs<0?Bs:Hs>0||Is.operator==="<"&&Bs.operator==="<="?Is:Bs};return subset_1=vs,subset_1}var semver$1,hasRequiredSemver;function requireSemver(){if(hasRequiredSemver)return semver$1;hasRequiredSemver=1;const st=requireRe(),t=requireConstants$5(),et=requireSemver$1(),ms=requireIdentifiers(),ws=requireParse(),vs=requireValid$1(),_s=requireClean(),Es=requireInc(),Ts=requireDiff(),Ss=requireMajor(),Rs=requireMinor(),Bs=requirePatch(),Is=requirePrerelease(),Ws=requireCompare(),Hs=requireRcompare(),Ns=requireCompareLoose(),Js=requireCompareBuild(),ha=requireSort(),pa=requireRsort(),za=requireGt(),Ya=requireLt(),Bc=requireEq(),Qa=requireNeq(),tu=requireGte(),eu=requireLte(),ru=requireCmp(),cu=requireCoerce(),ou=requireComparator(),Ga=requireRange$1(),Xa=requireSatisfies(),Fa=requireToComparators(),Zs=requireMaxSatisfying(),Wa=requireMinSatisfying(),Za=requireMinVersion(),iu=requireValid(),au=requireOutside(),nu=requireGtr(),uu=requireLtr(),fu=requireIntersects(),hu=requireSimplify(),Eu=requireSubset();return semver$1={parse:ws,valid:vs,clean:_s,inc:Es,diff:Ts,major:Ss,minor:Rs,patch:Bs,prerelease:Is,compare:Ws,rcompare:Hs,compareLoose:Ns,compareBuild:Js,sort:ha,rsort:pa,gt:za,lt:Ya,eq:Bc,neq:Qa,gte:tu,lte:eu,cmp:ru,coerce:cu,Comparator:ou,Range:Ga,satisfies:Xa,toComparators:Fa,maxSatisfying:Zs,minSatisfying:Wa,minVersion:Za,validRange:iu,outside:au,gtr:nu,ltr:uu,intersects:fu,simplifyRange:hu,subset:Eu,SemVer:et,re:st.re,src:st.src,tokens:st.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:ms.compareIdentifiers,rcompareIdentifiers:ms.rcompareIdentifiers},semver$1}var semverExports=requireSemver();const semver=getDefaultExportFromCjs$1(semverExports),abiCoder=new AbiCoder;function _addressToHex(st){return TronWeb.address.toHex(st).replace(ADDRESS_PREFIX_REGEX,"0x")}function decodeParams(st,t,et,ms=!1){if(ms&&et.replace(/^0x/,"").length%64===8&&(et="0x"+et.replace(/^0x/,"").substring(8)),et.replace(/^0x/,"").length%64)throw new Error("The encoded string is not valid. Its length must be a multiple of 64.");return t=t.map(ws=>(/trcToken/.test(ws)&&(ws=ws.replace(/trcToken/,"uint256")),ws)),abiCoder.decode(t,et).reduce((ws,vs,_s)=>(t[_s]=="address"&&(vs=ADDRESS_PREFIX+vs.substr(2).toLowerCase()),st.length?ws[st[_s]]=vs:ws.push(vs),ws),st.length?{}:[])}function encodeParams(st,t){for(let et=0;et<st.length;et++)st[et]==="address"&&(t[et]=TronWeb.address.toHex(t[et]).replace(ADDRESS_PREFIX_REGEX,"0x"));return abiCoder.encode(st,t)}function extractSize(st){const t=st.match(/([a-zA-Z0-9])(\[.*\])/);return t?t[2]:""}function extractArrayDim(st){return(extractSize(st).match(/\]\[/g)||[]).length+1}function encodeParamsV2ByABI(st,t){const et=[],ms=Ts=>Ts&&Ts.type.indexOf("tuple")===0&&Ts.components?`tuple(${Ts.components.map(Rs=>ms(Rs)).join(",")})${extractSize(Ts.type)}`:/trcToken/.test(Ts.type)?Ts.type.replace(/trcToken/,"uint256"):Ts.type,ws=Ts=>{for(let Ss=0;Ss<Ts.length;Ss++){const Rs=Ts[Ss];/trcToken/.test(Rs)&&(Ts[Ss]=Rs.replace(/trcToken/,"uint256"))}},vs=Ts=>Array.isArray(Ts)?(Ts.forEach((Ss,Rs)=>{Ts[Rs]=vs(Ss)}),Ts):_addressToHex(Ts),_s=(Ts,Ss,Rs)=>{Rs>1?Ss.length&&Ss.forEach(Bs=>{_s(Ts,Bs,Rs-1)}):Ss.length&&Rs&&Ss.forEach(Bs=>{Es(Ts,Bs)})},Es=(Ts=[],Ss)=>{Ts.length&&Ts.forEach((Rs,Bs)=>{const Is=Rs.type;if(Ss[Bs]){if(Is==="address")Ss[Bs]=_addressToHex(Ss[Bs]);else if(Is.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address[")vs(Ss[Bs]);else if(Is.indexOf("tuple")===0)if(extractSize(Is)){const Ws=extractArrayDim(Is);_s(Rs.components,Ss[Bs],Ws)}else Es(Rs.components,Ss[Bs])}})};if(st.inputs&&st.inputs.length)for(let Ts=0;Ts<st.inputs.length;Ts++){const Ss=st.inputs[Ts].type;Ss==="bool"&&t[Ts]==="false"&&(t[Ts]=!1),et.push(Ss.indexOf("tuple")===0?ms(st.inputs[Ts]):Ss),t.length<et.length&&t.push("")}return Es(st.inputs,t),ws(et),abiCoder.encode(et,t)}function decodeParamsV2ByABI(st,t){const et=Es=>{for(let Ts=0;Ts<Es.length;Ts++){const Ss=Es[Ts];/^trcToken/.test(Ss)&&(Es[Ts]=Ss.replace(/^trcToken/,"uint256"))}},ms=Es=>Array.isArray(Es)?(Es.forEach((Ts,Ss)=>{Es[Ss]=ms(Ts)}),Es):TronWeb.address.toHex(Es),ws=(Es,Ts,Ss)=>{Ss>1?Ts.length&&Ts.forEach(Rs=>{ws(Es,Rs,Ss-1)}):Ts.length&&Ss&&Ts.forEach(Rs=>{_s(Es,Rs)})},vs=Es=>{const Ts=Es.name?` ${Es.name}`:"";return Es&&Es.type.indexOf("tuple")===0&&Es.components?`tuple(${Es.components.map(Rs=>vs(Rs)).join(",")})${extractSize(Es.type)}${Ts}`:/trcToken/.test(Es.type)?Es.type.replace(/trcToken/,"uint256")+Ts:Es.type+Ts},_s=(Es,Ts)=>{Es.length&&Es.forEach((Ss,Rs)=>{const{type:Bs,name:Is}=Ss;if(Ts[Rs])if(Bs==="address")Ts[Rs]=TronWeb.address.toHex(Ts[Rs]),Is&&(Ts[Is]=TronWeb.address.toHex(Ts[Rs]));else if(Bs.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address[")ms(Ts[Rs]),Is&&(Ts[Is]=ms(Ts[Rs]));else if(Bs.indexOf("tuple")===0){if(extractSize(Bs)){const Ws=extractArrayDim(Bs);ws(Ss.components,Ts[Rs],Ws)}else _s(Ss.components,Ts[Rs]);Is&&(Ts[Is]=Ts[Rs])}else Is&&(Ts[Is]=Ts[Rs]);else Is&&(Ts[Is]=Ts[Rs])})};if("outputs"in st&&st.outputs&&st.outputs.length>0){const Es=[];for(let Rs=0;Rs<st.outputs.length;Rs++){const Bs=st.outputs[Rs].type,Is=st.outputs[Rs].name?` ${st.outputs[Rs].name}`:"";Es.push(Bs.indexOf("tuple")===0?vs(st.outputs[Rs]):Bs+Is)}et(Es),(!t||!t.length)&&(t=new Uint8Array(32*st.outputs.length));const Ss=abiCoder.decode(Es,t).toArray(!0);return _s(st.outputs,Ss),Ss}return[]}const abi=Object.freeze(Object.defineProperty({__proto__:null,decodeParams,decodeParamsV2ByABI,encodeParams,encodeParamsV2ByABI},Symbol.toStringTag,{value:"Module"}));class Validator{invalid(t){return t.msg||`Invalid ${t.name}${t.type==="address"?" address":""} provided`}notPositive(t){return`${t.name} must be a positive integer`}notEqual(t){return t.msg||`${t.names?.[0]} can not be equal to ${t.names?.[1]}`}notValid(t){const et={};let ms=!1;for(const ws of t){const{name:vs,names:_s,value:Es,type:Ts,gt:Ss,lt:Rs,gte:Bs,lte:Is,optional:Ws}=ws;if(!(Ws&&(!isNotNullOrUndefined(Es)||Ts!=="boolean"&&Es===!1))){switch(et[vs]=ws.value,Ts){case"address":isAddress(Es)?et[vs]=toHex$3(Es):ms=!0;break;case"integer":(!isInteger(Es)||typeof Ss=="number"&&Es<=Ss||typeof Rs=="number"&&Es>=Rs||typeof Bs=="number"&&Es<Bs||typeof Is=="number"&&Es>Is)&&(ms=!0);break;case"positive-integer":if(!isInteger(Es)||Es<=0)throw new Error(this.notPositive(ws));break;case"tokenId":(!isString$1(Es)||!Es.length)&&(ms=!0);break;case"notEmptyObject":(!isObject$1(Es)||!Object.keys(Es).length)&&(ms=!0);break;case"notEqual":if(_s&&et[_s[0]]===et[_s[1]])throw new Error(this.notEqual(ws));break;case"resource":["BANDWIDTH","ENERGY"].includes(Es)||(ms=!0);break;case"url":isValidURL(Es)||(ms=!0);break;case"hex":isHex$1(Es)||(ms=!0);break;case"array":Array.isArray(Es)||(ms=!0);break;case"not-empty-string":(!isString$1(Es)||!Es.length)&&(ms=!0);break;case"boolean":isBoolean$1(Es)||(ms=!0);break;case"string":(!isString$1(Es)||typeof Ss=="number"&&Es.length<=Ss||typeof Rs=="number"&&Es.length>=Rs||typeof Bs=="number"&&Es.length<Bs||typeof Is=="number"&&Es.length>Is)&&(ms=!0);break}if(ms)throw new Error(this.invalid(ws))}}return!1}}var ContractType;(function(st){st.AccountCreateContract="AccountCreateContract",st.TransferContract="TransferContract",st.TransferAssetContract="TransferAssetContract",st.VoteAssetContract="VoteAssetContract",st.VoteWitnessContract="VoteWitnessContract",st.WitnessCreateContract="WitnessCreateContract",st.AssetIssueContract="AssetIssueContract",st.WitnessUpdateContract="WitnessUpdateContract",st.ParticipateAssetIssueContract="ParticipateAssetIssueContract",st.AccountUpdateContract="AccountUpdateContract",st.FreezeBalanceContract="FreezeBalanceContract",st.UnfreezeBalanceContract="UnfreezeBalanceContract",st.CancelAllUnfreezeV2Contract="CancelAllUnfreezeV2Contract",st.WithdrawBalanceContract="WithdrawBalanceContract",st.UnfreezeAssetContract="UnfreezeAssetContract",st.UpdateAssetContract="UpdateAssetContract",st.ProposalCreateContract="ProposalCreateContract",st.ProposalApproveContract="ProposalApproveContract",st.ProposalDeleteContract="ProposalDeleteContract",st.SetAccountIdContract="SetAccountIdContract",st.CustomContract="CustomContract",st.CreateSmartContract="CreateSmartContract",st.TriggerSmartContract="TriggerSmartContract",st.GetContract="GetContract",st.UpdateSettingContract="UpdateSettingContract",st.ExchangeCreateContract="ExchangeCreateContract",st.ExchangeInjectContract="ExchangeInjectContract",st.ExchangeWithdrawContract="ExchangeWithdrawContract",st.ExchangeTransactionContract="ExchangeTransactionContract",st.UpdateEnergyLimitContract="UpdateEnergyLimitContract",st.AccountPermissionUpdateContract="AccountPermissionUpdateContract",st.ClearABIContract="ClearABIContract",st.UpdateBrokerageContract="UpdateBrokerageContract",st.ShieldedTransferContract="ShieldedTransferContract",st.MarketSellAssetContract="MarketSellAssetContract",st.MarketCancelOrderContract="MarketCancelOrderContract",st.FreezeBalanceV2Contract="FreezeBalanceV2Contract",st.UnfreezeBalanceV2Contract="UnfreezeBalanceV2Contract",st.WithdrawExpireUnfreezeContract="WithdrawExpireUnfreezeContract",st.DelegateResourceContract="DelegateResourceContract",st.UnDelegateResourceContract="UnDelegateResourceContract",st.UNRECOGNIZED="UNRECOGNIZED"})(ContractType||(ContractType={}));var Permission_PermissionType;(function(st){st[st.Owner=0]="Owner",st[st.Witness=1]="Witness",st[st.Active=2]="Active",st[st.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Permission_PermissionType||(Permission_PermissionType={}));var AccountType;(function(st){st[st.Normal=0]="Normal",st[st.AssetIssue=1]="AssetIssue",st[st.Contract=2]="Contract",st[st.UNRECOGNIZED=-1]="UNRECOGNIZED"})(AccountType||(AccountType={}));var any_pb={},googleProtobuf={},hasRequiredGoogleProtobuf;function requireGoogleProtobuf(){return hasRequiredGoogleProtobuf||(hasRequiredGoogleProtobuf=1,function(st){var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(Ja,su,lu){Ja!=Array.prototype&&Ja!=Object.prototype&&(Ja[su]=lu.value)},et=typeof window<"u"&&window===googleProtobuf?googleProtobuf:typeof window<"u"&&window!=null?window:googleProtobuf;function ms(Ja,su){if(su){var lu=et;Ja=Ja.split(".");for(var Au=0;Au<Ja.length-1;Au++){var Du=Ja[Au];Du in lu||(lu[Du]={}),lu=lu[Du]}Ja=Ja[Ja.length-1],Au=lu[Ja],su=su(Au),su!=Au&&su!=null&&t(lu,Ja,{configurable:!0,writable:!0,value:su})}}function ws(Ja){var su=0;return function(){return su<Ja.length?{done:!1,value:Ja[su++]}:{done:!0}}}function vs(){vs=function(){},et.Symbol||(et.Symbol=Es)}function _s(Ja,su){this.a=Ja,t(this,"description",{configurable:!0,writable:!0,value:su})}_s.prototype.toString=function(){return this.a};var Es=function(){function Ja(lu){if(this instanceof Ja)throw new TypeError("Symbol is not a constructor");return new _s("jscomp_symbol_"+(lu||"")+"_"+su++,lu)}var su=0;return Ja}();function Ts(){vs();var Ja=et.Symbol.iterator;Ja||(Ja=et.Symbol.iterator=et.Symbol("Symbol.iterator")),typeof Array.prototype[Ja]!="function"&&t(Array.prototype,Ja,{configurable:!0,writable:!0,value:function(){return Ss(ws(this))}}),Ts=function(){}}function Ss(Ja){return Ts(),Ja={next:Ja},Ja[et.Symbol.iterator]=function(){return this},Ja}function Rs(Ja,su){Ts(),Ja instanceof String&&(Ja+="");var lu=0,Au={next:function(){if(lu<Ja.length){var Du=lu++;return{value:su(Du,Ja[Du]),done:!1}}return Au.next=function(){return{done:!0,value:void 0}},Au.next()}};return Au[Symbol.iterator]=function(){return Au},Au}ms("Array.prototype.entries",function(Ja){return Ja||function(){return Rs(this,function(su,lu){return[su,lu]})}});var Bs=googleProtobuf||self;function Is(Ja,su,lu){Ja=Ja.split("."),lu=lu||Bs,Ja[0]in lu||typeof lu.execScript>"u"||lu.execScript("var "+Ja[0]);for(var Au;Ja.length&&(Au=Ja.shift());)Ja.length||su===void 0?lu[Au]&&lu[Au]!==Object.prototype[Au]?lu=lu[Au]:lu=lu[Au]={}:lu[Au]=su}function Ws(Ja){var su=typeof Ja;if(su=="object")if(Ja){if(Ja instanceof Array)return"array";if(Ja instanceof Object)return su;var lu=Object.prototype.toString.call(Ja);if(lu=="[object Window]")return"object";if(lu=="[object Array]"||typeof Ja.length=="number"&&typeof Ja.splice<"u"&&typeof Ja.propertyIsEnumerable<"u"&&!Ja.propertyIsEnumerable("splice"))return"array";if(lu=="[object Function]"||typeof Ja.call<"u"&&typeof Ja.propertyIsEnumerable<"u"&&!Ja.propertyIsEnumerable("call"))return"function"}else return"null";else if(su=="function"&&typeof Ja.call>"u")return"object";return su}function Hs(Ja){var su=typeof Ja;return su=="object"&&Ja!=null||su=="function"}function Ns(Ja,su,lu){Is(Ja,su,lu)}function Js(Ja,su){function lu(){}lu.prototype=su.prototype,Ja.prototype=new lu,Ja.prototype.constructor=Ja}var ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pa(Ja,su){for(var lu,Au,Du=1;Du<arguments.length;Du++){Au=arguments[Du];for(lu in Au)Ja[lu]=Au[lu];for(var zu=0;zu<ha.length;zu++)lu=ha[zu],Object.prototype.hasOwnProperty.call(Au,lu)&&(Ja[lu]=Au[lu])}}var za=Array.prototype.forEach?function(Ja,su){Array.prototype.forEach.call(Ja,su,void 0)}:function(Ja,su){for(var lu=Ja.length,Au=typeof Ja=="string"?Ja.split(""):Ja,Du=0;Du<lu;Du++)Du in Au&&su.call(void 0,Au[Du],Du,Ja)},Ya=Array.prototype.map?function(Ja,su){return Array.prototype.map.call(Ja,su,void 0)}:function(Ja,su){for(var lu=Ja.length,Au=Array(lu),Du=typeof Ja=="string"?Ja.split(""):Ja,zu=0;zu<lu;zu++)zu in Du&&(Au[zu]=su.call(void 0,Du[zu],zu,Ja));return Au};function Bc(Ja,su,lu){return 2>=arguments.length?Array.prototype.slice.call(Ja,su):Array.prototype.slice.call(Ja,su,lu)}function Qa(Ja,su,lu,Au){var Du="Assertion failed";if(lu){Du+=": "+lu;var zu=Au}else Ja&&(Du+=": "+Ja,zu=su);throw Error(Du,zu||[])}function tu(Ja,su,lu){for(var Au=[],Du=2;Du<arguments.length;++Du)Au[Du-2]=arguments[Du];return Ja||Qa("",null,su,Au),Ja}function eu(Ja,su,lu){for(var Au=[],Du=2;Du<arguments.length;++Du)Au[Du-2]=arguments[Du];typeof Ja!="string"&&Qa("Expected string but got %s: %s.",[Ws(Ja),Ja],su,Au)}function ru(Ja,su,lu){for(var Au=[],Du=2;Du<arguments.length;++Du)Au[Du-2]=arguments[Du];Array.isArray(Ja)||Qa("Expected array but got %s: %s.",[Ws(Ja),Ja],su,Au)}function cu(Ja,su){for(var lu=[],Au=1;Au<arguments.length;++Au)lu[Au-1]=arguments[Au];throw Error("Failure"+(Ja?": "+Ja:""),lu)}function ou(Ja,su,lu,Au){for(var Du=[],zu=3;zu<arguments.length;++zu)Du[zu-3]=arguments[zu];Ja instanceof su||Qa("Expected instanceof %s but got %s.",[Ga(su),Ga(Ja)],lu,Du)}function Ga(Ja){return Ja instanceof Function?Ja.displayName||Ja.name||"unknown type name":Ja instanceof Object?Ja.constructor.displayName||Ja.constructor.name||Object.prototype.toString.call(Ja):Ja===null?"null":typeof Ja}function Xa(Ja,su){if(this.c=Ja,this.b=su,this.a={},this.arrClean=!0,0<this.c.length){for(Ja=0;Ja<this.c.length;Ja++){su=this.c[Ja];var lu=su[0];this.a[lu.toString()]=new Za(lu,su[1])}this.arrClean=!0}}Is("jspb.Map",Xa,void 0),Xa.prototype.g=function(){if(this.arrClean){if(this.b){var Ja=this.a,su;for(su in Ja)if(Object.prototype.hasOwnProperty.call(Ja,su)){var lu=Ja[su].a;lu&&lu.g()}}}else{for(this.c.length=0,Ja=Wa(this),Ja.sort(),su=0;su<Ja.length;su++){var Au=this.a[Ja[su]];(lu=Au.a)&&lu.g(),this.c.push([Au.key,Au.value])}this.arrClean=!0}return this.c},Xa.prototype.toArray=Xa.prototype.g,Xa.prototype.Mc=function(Ja,su){for(var lu=this.g(),Au=[],Du=0;Du<lu.length;Du++){var zu=this.a[lu[Du][0].toString()];Zs(this,zu);var Cu=zu.a;Cu?(tu(su),Au.push([zu.key,su(Ja,Cu)])):Au.push([zu.key,zu.value])}return Au},Xa.prototype.toObject=Xa.prototype.Mc,Xa.fromObject=function(Ja,su,lu){su=new Xa([],su);for(var Au=0;Au<Ja.length;Au++){var Du=Ja[Au][0],zu=lu(Ja[Au][1]);su.set(Du,zu)}return su};function Fa(Ja){this.a=0,this.b=Ja}Fa.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(Fa.prototype[Symbol.iterator]=function(){return this}),Xa.prototype.Jb=function(){return Wa(this).length},Xa.prototype.getLength=Xa.prototype.Jb,Xa.prototype.clear=function(){this.a={},this.arrClean=!1},Xa.prototype.clear=Xa.prototype.clear,Xa.prototype.Cb=function(Ja){Ja=Ja.toString();var su=this.a.hasOwnProperty(Ja);return delete this.a[Ja],this.arrClean=!1,su},Xa.prototype.del=Xa.prototype.Cb,Xa.prototype.Eb=function(){var Ja=[],su=Wa(this);su.sort();for(var lu=0;lu<su.length;lu++){var Au=this.a[su[lu]];Ja.push([Au.key,Au.value])}return Ja},Xa.prototype.getEntryList=Xa.prototype.Eb,Xa.prototype.entries=function(){var Ja=[],su=Wa(this);su.sort();for(var lu=0;lu<su.length;lu++){var Au=this.a[su[lu]];Ja.push([Au.key,Zs(this,Au)])}return new Fa(Ja)},Xa.prototype.entries=Xa.prototype.entries,Xa.prototype.keys=function(){var Ja=[],su=Wa(this);su.sort();for(var lu=0;lu<su.length;lu++)Ja.push(this.a[su[lu]].key);return new Fa(Ja)},Xa.prototype.keys=Xa.prototype.keys,Xa.prototype.values=function(){var Ja=[],su=Wa(this);su.sort();for(var lu=0;lu<su.length;lu++)Ja.push(Zs(this,this.a[su[lu]]));return new Fa(Ja)},Xa.prototype.values=Xa.prototype.values,Xa.prototype.forEach=function(Ja,su){var lu=Wa(this);lu.sort();for(var Au=0;Au<lu.length;Au++){var Du=this.a[lu[Au]];Ja.call(su,Zs(this,Du),Du.key,this)}},Xa.prototype.forEach=Xa.prototype.forEach,Xa.prototype.set=function(Ja,su){var lu=new Za(Ja);return this.b?(lu.a=su,lu.value=su.g()):lu.value=su,this.a[Ja.toString()]=lu,this.arrClean=!1,this},Xa.prototype.set=Xa.prototype.set;function Zs(Ja,su){return Ja.b?(su.a||(su.a=new Ja.b(su.value)),su.a):su.value}Xa.prototype.get=function(Ja){if(Ja=this.a[Ja.toString()])return Zs(this,Ja)},Xa.prototype.get=Xa.prototype.get,Xa.prototype.has=function(Ja){return Ja.toString()in this.a},Xa.prototype.has=Xa.prototype.has,Xa.prototype.Jc=function(Ja,su,lu,Au,Du){var zu=Wa(this);zu.sort();for(var Cu=0;Cu<zu.length;Cu++){var Uu=this.a[zu[Cu]];su.Va(Ja),lu.call(su,1,Uu.key),this.b?Au.call(su,2,Zs(this,Uu),Du):Au.call(su,2,Uu.value),su.Ya()}},Xa.prototype.serializeBinary=Xa.prototype.Jc,Xa.deserializeBinary=function(Ja,su,lu,Au,Du,zu,Cu){for(;su.oa()&&!su.bb();){var Uu=su.c;Uu==1?zu=lu.call(su):Uu==2&&(Ja.b?(tu(Du),Cu||(Cu=new Ja.b),Au.call(su,Cu,Du)):Cu=Au.call(su))}tu(zu!=null),tu(Cu!=null),Ja.set(zu,Cu)};function Wa(Ja){Ja=Ja.a;var su=[],lu;for(lu in Ja)Object.prototype.hasOwnProperty.call(Ja,lu)&&su.push(lu);return su}function Za(Ja,su){this.key=Ja,this.value=su,this.a=void 0}function iu(Ja){if(8192>=Ja.length)return String.fromCharCode.apply(null,Ja);for(var su="",lu=0;lu<Ja.length;lu+=8192)su+=String.fromCharCode.apply(null,Bc(Ja,lu,lu+8192));return su}var au={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},nu={"'":"\\'"},uu={},fu=null;function hu(Ja,su){su===void 0&&(su=0),Ou(),su=uu[su];for(var lu=[],Au=0;Au<Ja.length;Au+=3){var Du=Ja[Au],zu=Au+1<Ja.length,Cu=zu?Ja[Au+1]:0,Uu=Au+2<Ja.length,ku=Uu?Ja[Au+2]:0,Gu=Du>>2;Du=(Du&3)<<4|Cu>>4,Cu=(Cu&15)<<2|ku>>6,ku&=63,Uu||(ku=64,zu||(Cu=64)),lu.push(su[Gu],su[Du],su[Cu]||"",su[ku]||"")}return lu.join("")}function Eu(Ja){var su=Ja.length,lu=3*su/4;lu%3?lu=Math.floor(lu):"=.".indexOf(Ja[su-1])!=-1&&(lu="=.".indexOf(Ja[su-2])!=-1?lu-2:lu-1);var Au=new Uint8Array(lu),Du=0;return $u(Ja,function(zu){Au[Du++]=zu}),Au.subarray(0,Du)}function $u(Ja,su){function lu(ku){for(;Au<Ja.length;){var Gu=Ja.charAt(Au++),mf=fu[Gu];if(mf!=null)return mf;if(!/^[\s\xa0]*$/.test(Gu))throw Error("Unknown base64 encoding at char: "+Gu)}return ku}Ou();for(var Au=0;;){var Du=lu(-1),zu=lu(0),Cu=lu(64),Uu=lu(64);if(Uu===64&&Du===-1)break;su(Du<<2|zu>>4),Cu!=64&&(su(zu<<4&240|Cu>>2),Uu!=64&&su(Cu<<6&192|Uu))}}function Ou(){if(!fu){fu={};for(var Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),su=["+/=","+/","-_=","-_.","-_"],lu=0;5>lu;lu++){var Au=Ja.concat(su[lu].split(""));uu[lu]=Au;for(var Du=0;Du<Au.length;Du++){var zu=Au[Du];fu[zu]===void 0&&(fu[zu]=Du)}}}}Is("jspb.ConstBinaryMessage",function(){},void 0),Is("jspb.BinaryMessage",function(){},void 0),Is("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),Is("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),Is("jspb.BinaryConstants.FieldTypeToWireType",function(Ja){switch(Ja){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),Is("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),Is("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),Is("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),Is("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),Is("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),Is("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),Is("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),Is("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),Is("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),Is("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),Is("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),Is("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),Is("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),Is("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),Is("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var gu=0,yu=0;Is("jspb.utils.getSplit64Low",function(){return gu},void 0),Is("jspb.utils.getSplit64High",function(){return yu},void 0);function Tu(Ja){var su=Ja>>>0;Ja=Math.floor((Ja-su)/4294967296)>>>0,gu=su,yu=Ja}Is("jspb.utils.splitUint64",Tu,void 0);function du(Ja){var su=0>Ja;Ja=Math.abs(Ja);var lu=Ja>>>0;Ja=Math.floor((Ja-lu)/4294967296),Ja>>>=0,su&&(Ja=~Ja>>>0,lu=(~lu>>>0)+1,4294967295<lu&&(lu=0,Ja++,4294967295<Ja&&(Ja=0))),gu=lu,yu=Ja}Is("jspb.utils.splitInt64",du,void 0);function wu(Ja){var su=0>Ja;Ja=2*Math.abs(Ja),Tu(Ja),Ja=gu;var lu=yu;su&&(Ja==0?lu==0?lu=Ja=4294967295:(lu--,Ja=4294967295):Ja--),gu=Ja,yu=lu}Is("jspb.utils.splitZigzag64",wu,void 0);function Ru(Ja){var su=0>Ja?1:0;if(Ja=su?-Ja:Ja,Ja===0)0<1/Ja?gu=yu=0:(yu=0,gu=2147483648);else if(isNaN(Ja))yu=0,gu=2147483647;else if(34028234663852886e22<Ja)yu=0,gu=(su<<31|2139095040)>>>0;else if(11754943508222875e-54>Ja)Ja=Math.round(Ja/Math.pow(2,-149)),yu=0,gu=(su<<31|Ja)>>>0;else{var lu=Math.floor(Math.log(Ja)/Math.LN2);Ja*=Math.pow(2,-lu),Ja=Math.round(8388608*Ja),16777216<=Ja&&++lu,yu=0,gu=(su<<31|lu+127<<23|Ja&8388607)>>>0}}Is("jspb.utils.splitFloat32",Ru,void 0);function Ku(Ja){var su=0>Ja?1:0;if(Ja=su?-Ja:Ja,Ja===0)yu=0<1/Ja?0:2147483648,gu=0;else if(isNaN(Ja))yu=2147483647,gu=4294967295;else if(17976931348623157e292<Ja)yu=(su<<31|2146435072)>>>0,gu=0;else if(22250738585072014e-324>Ja)Ja/=Math.pow(2,-1074),yu=(su<<31|Ja/4294967296)>>>0,gu=Ja>>>0;else{var lu=Ja,Au=0;if(2<=lu)for(;2<=lu&&1023>Au;)Au++,lu/=2;else for(;1>lu&&-1022<Au;)lu*=2,Au--;Ja*=Math.pow(2,-Au),yu=(su<<31|Au+1023<<20|1048576*Ja&1048575)>>>0,gu=4503599627370496*Ja>>>0}}Is("jspb.utils.splitFloat64",Ku,void 0);function Zu(Ja){var su=Ja.charCodeAt(4),lu=Ja.charCodeAt(5),Au=Ja.charCodeAt(6),Du=Ja.charCodeAt(7);gu=Ja.charCodeAt(0)+(Ja.charCodeAt(1)<<8)+(Ja.charCodeAt(2)<<16)+(Ja.charCodeAt(3)<<24)>>>0,yu=su+(lu<<8)+(Au<<16)+(Du<<24)>>>0}Is("jspb.utils.splitHash64",Zu,void 0);function tl(Ja,su){return 4294967296*su+(Ja>>>0)}Is("jspb.utils.joinUint64",tl,void 0);function sl(Ja,su){var lu=su&2147483648;return lu&&(Ja=~Ja+1>>>0,su=~su>>>0,Ja==0&&(su=su+1>>>0)),Ja=tl(Ja,su),lu?-Ja:Ja}Is("jspb.utils.joinInt64",sl,void 0);function gl(Ja,su,lu){var Au=su>>31;return lu(Ja<<1^Au,(su<<1|Ja>>>31)^Au)}Is("jspb.utils.toZigzag64",gl,void 0);function Fu(Ja,su){return Mu(Ja,su,sl)}Is("jspb.utils.joinZigzag64",Fu,void 0);function Mu(Ja,su,lu){var Au=-(Ja&1);return lu((Ja>>>1|su<<31)^Au,su>>>1^Au)}Is("jspb.utils.fromZigzag64",Mu,void 0);function Ju(Ja){var su=2*(Ja>>31)+1,lu=Ja>>>23&255;return Ja&=8388607,lu==255?Ja?NaN:1/0*su:lu==0?su*Math.pow(2,-149)*Ja:su*Math.pow(2,lu-150)*(Ja+Math.pow(2,23))}Is("jspb.utils.joinFloat32",Ju,void 0);function vf(Ja,su){var lu=2*(su>>31)+1,Au=su>>>20&2047;return Ja=4294967296*(su&1048575)+Ja,Au==2047?Ja?NaN:1/0*lu:Au==0?lu*Math.pow(2,-1074)*Ja:lu*Math.pow(2,Au-1075)*(Ja+4503599627370496)}Is("jspb.utils.joinFloat64",vf,void 0);function wf(Ja,su){return String.fromCharCode(Ja>>>0&255,Ja>>>8&255,Ja>>>16&255,Ja>>>24&255,su>>>0&255,su>>>8&255,su>>>16&255,su>>>24&255)}Is("jspb.utils.joinHash64",wf,void 0),Is("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function el(Ja,su){function lu(Du,zu){return Du=Du?String(Du):"",zu?"0000000".slice(Du.length)+Du:Du}if(2097151>=su)return""+tl(Ja,su);var Au=(Ja>>>24|su<<8)>>>0&16777215;return su=su>>16&65535,Ja=(Ja&16777215)+6777216*Au+6710656*su,Au+=8147497*su,su*=2,1e7<=Ja&&(Au+=Math.floor(Ja/1e7),Ja%=1e7),1e7<=Au&&(su+=Math.floor(Au/1e7),Au%=1e7),lu(su,0)+lu(Au,su)+lu(Ja,1)}Is("jspb.utils.joinUnsignedDecimalString",el,void 0);function il(Ja,su){var lu=su&2147483648;return lu&&(Ja=~Ja+1>>>0,su=~su+(Ja==0?1:0)>>>0),Ja=el(Ja,su),lu?"-"+Ja:Ja}Is("jspb.utils.joinSignedDecimalString",il,void 0);function hl(Ja,su){Zu(Ja),Ja=gu;var lu=yu;return su?il(Ja,lu):el(Ja,lu)}Is("jspb.utils.hash64ToDecimalString",hl,void 0),Is("jspb.utils.hash64ArrayToDecimalStrings",function(Ja,su){for(var lu=Array(Ja.length),Au=0;Au<Ja.length;Au++)lu[Au]=hl(Ja[Au],su);return lu},void 0);function cl(Ja){function su(Cu,Uu){for(var ku=0;8>ku&&(Cu!==1||0<Uu);ku++)Uu=Cu*Du[ku]+Uu,Du[ku]=Uu&255,Uu>>>=8}function lu(){for(var Cu=0;8>Cu;Cu++)Du[Cu]=~Du[Cu]&255}tu(0<Ja.length);var Au=!1;Ja[0]==="-"&&(Au=!0,Ja=Ja.slice(1));for(var Du=[0,0,0,0,0,0,0,0],zu=0;zu<Ja.length;zu++)su(10,Ja.charCodeAt(zu)-48);return Au&&(lu(),su(1,1)),iu(Du)}Is("jspb.utils.decimalStringToHash64",cl,void 0),Is("jspb.utils.splitDecimalString",function(Ja){Zu(cl(Ja))},void 0);function ul(Ja){return String.fromCharCode(10>Ja?48+Ja:87+Ja)}function yl(Ja){return 97<=Ja?Ja-97+10:Ja-48}Is("jspb.utils.hash64ToHexString",function(Ja){var su=Array(18);su[0]="0",su[1]="x";for(var lu=0;8>lu;lu++){var Au=Ja.charCodeAt(7-lu);su[2*lu+2]=ul(Au>>4),su[2*lu+3]=ul(Au&15)}return su.join("")},void 0),Is("jspb.utils.hexStringToHash64",function(Ja){Ja=Ja.toLowerCase(),tu(Ja.length==18),tu(Ja[0]=="0"),tu(Ja[1]=="x");for(var su="",lu=0;8>lu;lu++)su=String.fromCharCode(16*yl(Ja.charCodeAt(2*lu+2))+yl(Ja.charCodeAt(2*lu+3)))+su;return su},void 0),Is("jspb.utils.hash64ToNumber",function(Ja,su){Zu(Ja),Ja=gu;var lu=yu;return su?sl(Ja,lu):tl(Ja,lu)},void 0),Is("jspb.utils.numberToHash64",function(Ja){return du(Ja),wf(gu,yu)},void 0),Is("jspb.utils.countVarints",function(Ja,su,lu){for(var Au=0,Du=su;Du<lu;Du++)Au+=Ja[Du]>>7;return lu-su-Au},void 0),Is("jspb.utils.countVarintFields",function(Ja,su,lu,Au){var Du=0;if(Au*=8,128>Au)for(;su<lu&&Ja[su++]==Au;)for(Du++;;){var zu=Ja[su++];if((zu&128)==0)break}else for(;su<lu;){for(zu=Au;128<zu;){if(Ja[su]!=(zu&127|128))return Du;su++,zu>>=7}if(Ja[su++]!=zu)break;for(Du++;zu=Ja[su++],(zu&128)!=0;);}return Du},void 0);function Cl(Ja,su,lu,Au,Du){var zu=0;if(128>Au)for(;su<lu&&Ja[su++]==Au;)zu++,su+=Du;else for(;su<lu;){for(var Cu=Au;128<Cu;){if(Ja[su++]!=(Cu&127|128))return zu;Cu>>=7}if(Ja[su++]!=Cu)break;zu++,su+=Du}return zu}Is("jspb.utils.countFixed32Fields",function(Ja,su,lu,Au){return Cl(Ja,su,lu,8*Au+5,4)},void 0),Is("jspb.utils.countFixed64Fields",function(Ja,su,lu,Au){return Cl(Ja,su,lu,8*Au+1,8)},void 0),Is("jspb.utils.countDelimitedFields",function(Ja,su,lu,Au){var Du=0;for(Au=8*Au+2;su<lu;){for(var zu=Au;128<zu;){if(Ja[su++]!=(zu&127|128))return Du;zu>>=7}if(Ja[su++]!=zu)break;Du++;for(var Cu=0,Uu=1;zu=Ja[su++],Cu+=(zu&127)*Uu,Uu*=128,(zu&128)!=0;);su+=Cu}return Du},void 0),Is("jspb.utils.debugBytesToTextFormat",function(Ja){var su='"';if(Ja){Ja=Bu(Ja);for(var lu=0;lu<Ja.length;lu++)su+="\\x",16>Ja[lu]&&(su+="0"),su+=Ja[lu].toString(16)}return su+'"'},void 0),Is("jspb.utils.debugScalarToTextFormat",function(Ja){if(typeof Ja=="string"){Ja=String(Ja);for(var su=['"'],lu=0;lu<Ja.length;lu++){var Au=Ja.charAt(lu),Du=Au.charCodeAt(0),zu=lu+1,Cu;(Cu=au[Au])||(31<Du&&127>Du||(Du=Au,Du in nu?Au=nu[Du]:Du in au?Au=nu[Du]=au[Du]:(Cu=Du.charCodeAt(0),31<Cu&&127>Cu?Au=Du:(256>Cu?(Au="\\x",(16>Cu||256<Cu)&&(Au+="0")):(Au="\\u",4096>Cu&&(Au+="0")),Au+=Cu.toString(16).toUpperCase()),Au=nu[Du]=Au)),Cu=Au),su[zu]=Cu}su.push('"'),Ja=su.join("")}else Ja=Ja.toString();return Ja},void 0),Is("jspb.utils.stringToByteArray",function(Ja){for(var su=new Uint8Array(Ja.length),lu=0;lu<Ja.length;lu++){var Au=Ja.charCodeAt(lu);if(255<Au)throw Error("Conversion error: string contains codepoint outside of byte range");su[lu]=Au}return su},void 0);function Bu(Ja){return Ja.constructor===Uint8Array?Ja:Ja.constructor===ArrayBuffer?new Uint8Array(Ja):Ja.constructor===Array?new Uint8Array(Ja):Ja.constructor===String?Eu(Ja):Ja instanceof Uint8Array?new Uint8Array(Ja.buffer,Ja.byteOffset,Ja.byteLength):(cu("Type not convertible to Uint8Array."),new Uint8Array(0))}Is("jspb.utils.byteSourceToUint8Array",Bu,void 0);function pu(Ja,su,lu){this.b=null,this.a=this.c=this.h=0,this.v=!1,Ja&&this.H(Ja,su,lu)}Is("jspb.BinaryDecoder",pu,void 0);var xu=[];pu.getInstanceCacheLength=function(){return xu.length};function qu(Ja,su,lu){if(xu.length){var Au=xu.pop();return Ja&&Au.H(Ja,su,lu),Au}return new pu(Ja,su,lu)}pu.alloc=qu,pu.prototype.Ca=function(){this.clear(),100>xu.length&&xu.push(this)},pu.prototype.free=pu.prototype.Ca,pu.prototype.clone=function(){return qu(this.b,this.h,this.c-this.h)},pu.prototype.clone=pu.prototype.clone,pu.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},pu.prototype.clear=pu.prototype.clear,pu.prototype.Y=function(){return this.b},pu.prototype.getBuffer=pu.prototype.Y,pu.prototype.H=function(Ja,su,lu){this.b=Bu(Ja),this.h=su!==void 0?su:0,this.c=lu!==void 0?this.h+lu:this.b.length,this.a=this.h},pu.prototype.setBlock=pu.prototype.H,pu.prototype.Db=function(){return this.c},pu.prototype.getEnd=pu.prototype.Db,pu.prototype.setEnd=function(Ja){this.c=Ja},pu.prototype.setEnd=pu.prototype.setEnd,pu.prototype.reset=function(){this.a=this.h},pu.prototype.reset=pu.prototype.reset,pu.prototype.B=function(){return this.a},pu.prototype.getCursor=pu.prototype.B,pu.prototype.Ma=function(Ja){this.a=Ja},pu.prototype.setCursor=pu.prototype.Ma,pu.prototype.advance=function(Ja){this.a+=Ja,tu(this.a<=this.c)},pu.prototype.advance=pu.prototype.advance,pu.prototype.ya=function(){return this.a==this.c},pu.prototype.atEnd=pu.prototype.ya,pu.prototype.Qb=function(){return this.a>this.c},pu.prototype.pastEnd=pu.prototype.Qb,pu.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},pu.prototype.getError=pu.prototype.getError,pu.prototype.w=function(Ja){for(var su=128,lu=0,Au=0,Du=0;4>Du&&128<=su;Du++)su=this.b[this.a++],lu|=(su&127)<<7*Du;if(128<=su&&(su=this.b[this.a++],lu|=(su&127)<<28,Au|=(su&127)>>4),128<=su)for(Du=0;5>Du&&128<=su;Du++)su=this.b[this.a++],Au|=(su&127)<<7*Du+3;if(128>su)return Ja(lu>>>0,Au>>>0);cu("Failed to read varint, encoding is invalid."),this.v=!0},pu.prototype.readSplitVarint64=pu.prototype.w,pu.prototype.ea=function(Ja){return this.w(function(su,lu){return Mu(su,lu,Ja)})},pu.prototype.readSplitZigzagVarint64=pu.prototype.ea,pu.prototype.ta=function(Ja){var su=this.b,lu=this.a;this.a+=8;for(var Au=0,Du=0,zu=lu+7;zu>=lu;zu--)Au=Au<<8|su[zu],Du=Du<<8|su[zu+4];return Ja(Au,Du)},pu.prototype.readSplitFixed64=pu.prototype.ta,pu.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},pu.prototype.skipVarint=pu.prototype.kb,pu.prototype.mb=function(Ja){for(;128<Ja;)this.a--,Ja>>>=7;this.a--},pu.prototype.unskipVarint=pu.prototype.mb,pu.prototype.o=function(){var Ja=this.b,su=Ja[this.a],lu=su&127;return 128>su?(this.a+=1,tu(this.a<=this.c),lu):(su=Ja[this.a+1],lu|=(su&127)<<7,128>su?(this.a+=2,tu(this.a<=this.c),lu):(su=Ja[this.a+2],lu|=(su&127)<<14,128>su?(this.a+=3,tu(this.a<=this.c),lu):(su=Ja[this.a+3],lu|=(su&127)<<21,128>su?(this.a+=4,tu(this.a<=this.c),lu):(su=Ja[this.a+4],lu|=(su&15)<<28,128>su?(this.a+=5,tu(this.a<=this.c),lu>>>0):(this.a+=5,128<=Ja[this.a++]&&128<=Ja[this.a++]&&128<=Ja[this.a++]&&128<=Ja[this.a++]&&128<=Ja[this.a++]&&tu(!1),tu(this.a<=this.c),lu)))))},pu.prototype.readUnsignedVarint32=pu.prototype.o,pu.prototype.da=function(){return~~this.o()},pu.prototype.readSignedVarint32=pu.prototype.da,pu.prototype.O=function(){return this.o().toString()},pu.prototype.Ea=function(){return this.da().toString()},pu.prototype.readSignedVarint32String=pu.prototype.Ea,pu.prototype.Ia=function(){var Ja=this.o();return Ja>>>1^-(Ja&1)},pu.prototype.readZigzagVarint32=pu.prototype.Ia,pu.prototype.Ga=function(){return this.w(tl)},pu.prototype.readUnsignedVarint64=pu.prototype.Ga,pu.prototype.Ha=function(){return this.w(el)},pu.prototype.readUnsignedVarint64String=pu.prototype.Ha,pu.prototype.sa=function(){return this.w(sl)},pu.prototype.readSignedVarint64=pu.prototype.sa,pu.prototype.Fa=function(){return this.w(il)},pu.prototype.readSignedVarint64String=pu.prototype.Fa,pu.prototype.Ja=function(){return this.w(Fu)},pu.prototype.readZigzagVarint64=pu.prototype.Ja,pu.prototype.fb=function(){return this.ea(wf)},pu.prototype.readZigzagVarintHash64=pu.prototype.fb,pu.prototype.Ka=function(){return this.ea(il)},pu.prototype.readZigzagVarint64String=pu.prototype.Ka,pu.prototype.Gc=function(){var Ja=this.b[this.a];return this.a+=1,tu(this.a<=this.c),Ja},pu.prototype.readUint8=pu.prototype.Gc,pu.prototype.Ec=function(){var Ja=this.b[this.a],su=this.b[this.a+1];return this.a+=2,tu(this.a<=this.c),Ja<<0|su<<8},pu.prototype.readUint16=pu.prototype.Ec,pu.prototype.m=function(){var Ja=this.b[this.a],su=this.b[this.a+1],lu=this.b[this.a+2],Au=this.b[this.a+3];return this.a+=4,tu(this.a<=this.c),(Ja<<0|su<<8|lu<<16|Au<<24)>>>0},pu.prototype.readUint32=pu.prototype.m,pu.prototype.ga=function(){var Ja=this.m(),su=this.m();return tl(Ja,su)},pu.prototype.readUint64=pu.prototype.ga,pu.prototype.ha=function(){var Ja=this.m(),su=this.m();return el(Ja,su)},pu.prototype.readUint64String=pu.prototype.ha,pu.prototype.Xb=function(){var Ja=this.b[this.a];return this.a+=1,tu(this.a<=this.c),Ja<<24>>24},pu.prototype.readInt8=pu.prototype.Xb,pu.prototype.Vb=function(){var Ja=this.b[this.a],su=this.b[this.a+1];return this.a+=2,tu(this.a<=this.c),(Ja<<0|su<<8)<<16>>16},pu.prototype.readInt16=pu.prototype.Vb,pu.prototype.P=function(){var Ja=this.b[this.a],su=this.b[this.a+1],lu=this.b[this.a+2],Au=this.b[this.a+3];return this.a+=4,tu(this.a<=this.c),Ja<<0|su<<8|lu<<16|Au<<24},pu.prototype.readInt32=pu.prototype.P,pu.prototype.ba=function(){var Ja=this.m(),su=this.m();return sl(Ja,su)},pu.prototype.readInt64=pu.prototype.ba,pu.prototype.ca=function(){var Ja=this.m(),su=this.m();return il(Ja,su)},pu.prototype.readInt64String=pu.prototype.ca,pu.prototype.aa=function(){var Ja=this.m();return Ju(Ja)},pu.prototype.readFloat=pu.prototype.aa,pu.prototype.Z=function(){var Ja=this.m(),su=this.m();return vf(Ja,su)},pu.prototype.readDouble=pu.prototype.Z,pu.prototype.pa=function(){return!!this.b[this.a++]},pu.prototype.readBool=pu.prototype.pa,pu.prototype.ra=function(){return this.da()},pu.prototype.readEnum=pu.prototype.ra,pu.prototype.fa=function(Ja){var su=this.b,lu=this.a;Ja=lu+Ja;for(var Au=[],Du="";lu<Ja;){var zu=su[lu++];if(128>zu)Au.push(zu);else{if(192>zu)continue;if(224>zu){var Cu=su[lu++];Au.push((zu&31)<<6|Cu&63)}else if(240>zu){Cu=su[lu++];var Uu=su[lu++];Au.push((zu&15)<<12|(Cu&63)<<6|Uu&63)}else if(248>zu){Cu=su[lu++],Uu=su[lu++];var ku=su[lu++];zu=(zu&7)<<18|(Cu&63)<<12|(Uu&63)<<6|ku&63,zu-=65536,Au.push((zu>>10&1023)+55296,(zu&1023)+56320)}}8192<=Au.length&&(Du+=String.fromCharCode.apply(null,Au),Au.length=0)}return Du+=iu(Au),this.a=lu,Du},pu.prototype.readString=pu.prototype.fa,pu.prototype.Dc=function(){var Ja=this.o();return this.fa(Ja)},pu.prototype.readStringWithLength=pu.prototype.Dc,pu.prototype.qa=function(Ja){if(0>Ja||this.a+Ja>this.b.length)return this.v=!0,cu("Invalid byte length!"),new Uint8Array(0);var su=this.b.subarray(this.a,this.a+Ja);return this.a+=Ja,tu(this.a<=this.c),su},pu.prototype.readBytes=pu.prototype.qa,pu.prototype.ia=function(){return this.w(wf)},pu.prototype.readVarintHash64=pu.prototype.ia,pu.prototype.$=function(){var Ja=this.b,su=this.a,lu=Ja[su],Au=Ja[su+1],Du=Ja[su+2],zu=Ja[su+3],Cu=Ja[su+4],Uu=Ja[su+5],ku=Ja[su+6];return Ja=Ja[su+7],this.a+=8,String.fromCharCode(lu,Au,Du,zu,Cu,Uu,ku,Ja)},pu.prototype.readFixedHash64=pu.prototype.$;function Pu(Ja,su,lu){this.a=qu(Ja,su,lu),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}Is("jspb.BinaryReader",Pu,void 0);var xf=[];Pu.clearInstanceCache=function(){xf=[]},Pu.getInstanceCacheLength=function(){return xf.length};function nl(Ja,su,lu){if(xf.length){var Au=xf.pop();return Ja&&Au.a.H(Ja,su,lu),Au}return new Pu(Ja,su,lu)}Pu.alloc=nl,Pu.prototype.zb=nl,Pu.prototype.alloc=Pu.prototype.zb,Pu.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>xf.length&&xf.push(this)},Pu.prototype.free=Pu.prototype.Ca,Pu.prototype.Fb=function(){return this.O},Pu.prototype.getFieldCursor=Pu.prototype.Fb,Pu.prototype.B=function(){return this.a.B()},Pu.prototype.getCursor=Pu.prototype.B,Pu.prototype.Y=function(){return this.a.Y()},Pu.prototype.getBuffer=Pu.prototype.Y,Pu.prototype.Hb=function(){return this.c},Pu.prototype.getFieldNumber=Pu.prototype.Hb,Pu.prototype.Lb=function(){return this.b},Pu.prototype.getWireType=Pu.prototype.Lb,Pu.prototype.Mb=function(){return this.b==2},Pu.prototype.isDelimited=Pu.prototype.Mb,Pu.prototype.bb=function(){return this.b==4},Pu.prototype.isEndGroup=Pu.prototype.bb,Pu.prototype.getError=function(){return this.h||this.a.getError()},Pu.prototype.getError=Pu.prototype.getError,Pu.prototype.H=function(Ja,su,lu){this.a.H(Ja,su,lu),this.b=this.c=-1},Pu.prototype.setBlock=Pu.prototype.H,Pu.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},Pu.prototype.reset=Pu.prototype.reset,Pu.prototype.advance=function(Ja){this.a.advance(Ja)},Pu.prototype.advance=Pu.prototype.advance,Pu.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return cu("Decoder hit an error"),!1;this.O=this.a.B();var Ja=this.a.o(),su=Ja>>>3;return Ja&=7,Ja!=0&&Ja!=5&&Ja!=1&&Ja!=2&&Ja!=3&&Ja!=4?(cu("Invalid wire type: %s (at position %s)",Ja,this.O),this.h=!0,!1):(this.c=su,this.b=Ja,!0)},Pu.prototype.nextField=Pu.prototype.oa,Pu.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},Pu.prototype.unskipHeader=Pu.prototype.Oa,Pu.prototype.Lc=function(){var Ja=this.c;for(this.Oa();this.oa()&&this.c==Ja;)this.C();this.a.ya()||this.Oa()},Pu.prototype.skipMatchingFields=Pu.prototype.Lc,Pu.prototype.lb=function(){this.b!=0?(cu("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},Pu.prototype.skipVarintField=Pu.prototype.lb,Pu.prototype.gb=function(){if(this.b!=2)cu("Invalid wire type for skipDelimitedField"),this.C();else{var Ja=this.a.o();this.a.advance(Ja)}},Pu.prototype.skipDelimitedField=Pu.prototype.gb,Pu.prototype.hb=function(){this.b!=5?(cu("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},Pu.prototype.skipFixed32Field=Pu.prototype.hb,Pu.prototype.ib=function(){this.b!=1?(cu("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},Pu.prototype.skipFixed64Field=Pu.prototype.ib,Pu.prototype.jb=function(){var Ja=this.c;do{if(!this.oa()){cu("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=Ja&&(cu("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},Pu.prototype.skipGroup=Pu.prototype.jb,Pu.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:cu("Invalid wire encoding for field.")}},Pu.prototype.skipField=Pu.prototype.C,Pu.prototype.Hc=function(Ja,su){this.v===null&&(this.v={}),tu(!this.v[Ja]),this.v[Ja]=su},Pu.prototype.registerReadCallback=Pu.prototype.Hc,Pu.prototype.Ic=function(Ja){return tu(this.v!==null),Ja=this.v[Ja],tu(Ja),Ja(this)},Pu.prototype.runReadCallback=Pu.prototype.Ic,Pu.prototype.Yb=function(Ja,su){tu(this.b==2);var lu=this.a.c,Au=this.a.o();Au=this.a.B()+Au,this.a.setEnd(Au),su(Ja,this),this.a.Ma(Au),this.a.setEnd(lu)},Pu.prototype.readMessage=Pu.prototype.Yb,Pu.prototype.Ub=function(Ja,su,lu){tu(this.b==3),tu(this.c==Ja),lu(su,this),this.h||this.b==4||(cu("Group submessage did not end with an END_GROUP tag"),this.h=!0)},Pu.prototype.readGroup=Pu.prototype.Ub,Pu.prototype.Gb=function(){tu(this.b==2);var Ja=this.a.o(),su=this.a.B(),lu=su+Ja;return Ja=qu(this.a.Y(),su,Ja),this.a.Ma(lu),Ja},Pu.prototype.getFieldDecoder=Pu.prototype.Gb,Pu.prototype.P=function(){return tu(this.b==0),this.a.da()},Pu.prototype.readInt32=Pu.prototype.P,Pu.prototype.Wb=function(){return tu(this.b==0),this.a.Ea()},Pu.prototype.readInt32String=Pu.prototype.Wb,Pu.prototype.ba=function(){return tu(this.b==0),this.a.sa()},Pu.prototype.readInt64=Pu.prototype.ba,Pu.prototype.ca=function(){return tu(this.b==0),this.a.Fa()},Pu.prototype.readInt64String=Pu.prototype.ca,Pu.prototype.m=function(){return tu(this.b==0),this.a.o()},Pu.prototype.readUint32=Pu.prototype.m,Pu.prototype.Fc=function(){return tu(this.b==0),this.a.O()},Pu.prototype.readUint32String=Pu.prototype.Fc,Pu.prototype.ga=function(){return tu(this.b==0),this.a.Ga()},Pu.prototype.readUint64=Pu.prototype.ga,Pu.prototype.ha=function(){return tu(this.b==0),this.a.Ha()},Pu.prototype.readUint64String=Pu.prototype.ha,Pu.prototype.zc=function(){return tu(this.b==0),this.a.Ia()},Pu.prototype.readSint32=Pu.prototype.zc,Pu.prototype.Ac=function(){return tu(this.b==0),this.a.Ja()},Pu.prototype.readSint64=Pu.prototype.Ac,Pu.prototype.Bc=function(){return tu(this.b==0),this.a.Ka()},Pu.prototype.readSint64String=Pu.prototype.Bc,Pu.prototype.Rb=function(){return tu(this.b==5),this.a.m()},Pu.prototype.readFixed32=Pu.prototype.Rb,Pu.prototype.Sb=function(){return tu(this.b==1),this.a.ga()},Pu.prototype.readFixed64=Pu.prototype.Sb,Pu.prototype.Tb=function(){return tu(this.b==1),this.a.ha()},Pu.prototype.readFixed64String=Pu.prototype.Tb,Pu.prototype.vc=function(){return tu(this.b==5),this.a.P()},Pu.prototype.readSfixed32=Pu.prototype.vc,Pu.prototype.wc=function(){return tu(this.b==5),this.a.P().toString()},Pu.prototype.readSfixed32String=Pu.prototype.wc,Pu.prototype.xc=function(){return tu(this.b==1),this.a.ba()},Pu.prototype.readSfixed64=Pu.prototype.xc,Pu.prototype.yc=function(){return tu(this.b==1),this.a.ca()},Pu.prototype.readSfixed64String=Pu.prototype.yc,Pu.prototype.aa=function(){return tu(this.b==5),this.a.aa()},Pu.prototype.readFloat=Pu.prototype.aa,Pu.prototype.Z=function(){return tu(this.b==1),this.a.Z()},Pu.prototype.readDouble=Pu.prototype.Z,Pu.prototype.pa=function(){return tu(this.b==0),!!this.a.o()},Pu.prototype.readBool=Pu.prototype.pa,Pu.prototype.ra=function(){return tu(this.b==0),this.a.sa()},Pu.prototype.readEnum=Pu.prototype.ra,Pu.prototype.fa=function(){tu(this.b==2);var Ja=this.a.o();return this.a.fa(Ja)},Pu.prototype.readString=Pu.prototype.fa,Pu.prototype.qa=function(){tu(this.b==2);var Ja=this.a.o();return this.a.qa(Ja)},Pu.prototype.readBytes=Pu.prototype.qa,Pu.prototype.ia=function(){return tu(this.b==0),this.a.ia()},Pu.prototype.readVarintHash64=Pu.prototype.ia,Pu.prototype.Cc=function(){return tu(this.b==0),this.a.fb()},Pu.prototype.readSintHash64=Pu.prototype.Cc,Pu.prototype.w=function(Ja){return tu(this.b==0),this.a.w(Ja)},Pu.prototype.readSplitVarint64=Pu.prototype.w,Pu.prototype.ea=function(Ja){return tu(this.b==0),this.a.w(function(su,lu){return Mu(su,lu,Ja)})},Pu.prototype.readSplitZigzagVarint64=Pu.prototype.ea,Pu.prototype.$=function(){return tu(this.b==1),this.a.$()},Pu.prototype.readFixedHash64=Pu.prototype.$,Pu.prototype.ta=function(Ja){return tu(this.b==1),this.a.ta(Ja)},Pu.prototype.readSplitFixed64=Pu.prototype.ta;function wl(Ja,su){tu(Ja.b==2);var lu=Ja.a.o();lu=Ja.a.B()+lu;for(var Au=[];Ja.a.B()<lu;)Au.push(su.call(Ja.a));return Au}Pu.prototype.gc=function(){return wl(this,this.a.da)},Pu.prototype.readPackedInt32=Pu.prototype.gc,Pu.prototype.hc=function(){return wl(this,this.a.Ea)},Pu.prototype.readPackedInt32String=Pu.prototype.hc,Pu.prototype.ic=function(){return wl(this,this.a.sa)},Pu.prototype.readPackedInt64=Pu.prototype.ic,Pu.prototype.jc=function(){return wl(this,this.a.Fa)},Pu.prototype.readPackedInt64String=Pu.prototype.jc,Pu.prototype.qc=function(){return wl(this,this.a.o)},Pu.prototype.readPackedUint32=Pu.prototype.qc,Pu.prototype.rc=function(){return wl(this,this.a.O)},Pu.prototype.readPackedUint32String=Pu.prototype.rc,Pu.prototype.sc=function(){return wl(this,this.a.Ga)},Pu.prototype.readPackedUint64=Pu.prototype.sc,Pu.prototype.tc=function(){return wl(this,this.a.Ha)},Pu.prototype.readPackedUint64String=Pu.prototype.tc,Pu.prototype.nc=function(){return wl(this,this.a.Ia)},Pu.prototype.readPackedSint32=Pu.prototype.nc,Pu.prototype.oc=function(){return wl(this,this.a.Ja)},Pu.prototype.readPackedSint64=Pu.prototype.oc,Pu.prototype.pc=function(){return wl(this,this.a.Ka)},Pu.prototype.readPackedSint64String=Pu.prototype.pc,Pu.prototype.bc=function(){return wl(this,this.a.m)},Pu.prototype.readPackedFixed32=Pu.prototype.bc,Pu.prototype.cc=function(){return wl(this,this.a.ga)},Pu.prototype.readPackedFixed64=Pu.prototype.cc,Pu.prototype.dc=function(){return wl(this,this.a.ha)},Pu.prototype.readPackedFixed64String=Pu.prototype.dc,Pu.prototype.kc=function(){return wl(this,this.a.P)},Pu.prototype.readPackedSfixed32=Pu.prototype.kc,Pu.prototype.lc=function(){return wl(this,this.a.ba)},Pu.prototype.readPackedSfixed64=Pu.prototype.lc,Pu.prototype.mc=function(){return wl(this,this.a.ca)},Pu.prototype.readPackedSfixed64String=Pu.prototype.mc,Pu.prototype.fc=function(){return wl(this,this.a.aa)},Pu.prototype.readPackedFloat=Pu.prototype.fc,Pu.prototype.$b=function(){return wl(this,this.a.Z)},Pu.prototype.readPackedDouble=Pu.prototype.$b,Pu.prototype.Zb=function(){return wl(this,this.a.pa)},Pu.prototype.readPackedBool=Pu.prototype.Zb,Pu.prototype.ac=function(){return wl(this,this.a.ra)},Pu.prototype.readPackedEnum=Pu.prototype.ac,Pu.prototype.uc=function(){return wl(this,this.a.ia)},Pu.prototype.readPackedVarintHash64=Pu.prototype.uc,Pu.prototype.ec=function(){return wl(this,this.a.$)},Pu.prototype.readPackedFixedHash64=Pu.prototype.ec;function Il(Ja,su,lu,Au,Du){this.ma=Ja,this.Ba=su,this.la=lu,this.Na=Au,this.na=Du}Is("jspb.ExtensionFieldInfo",Il,void 0);function Rl(Ja,su,lu,Au,Du,zu){this.Za=Ja,this.za=su,this.Aa=lu,this.Wa=Au,this.Ab=Du,this.Nb=zu}Is("jspb.ExtensionFieldBinaryInfo",Rl,void 0),Il.prototype.F=function(){return!!this.la},Il.prototype.isMessageType=Il.prototype.F;function fl(){}Is("jspb.Message",fl,void 0),fl.GENERATE_TO_OBJECT=!0,fl.GENERATE_FROM_OBJECT=!0;var Ml=typeof Uint8Array=="function";fl.prototype.Ib=function(){return this.b},fl.prototype.getJsPbMessageId=fl.prototype.Ib,fl.initialize=function(Ja,su,lu,Au,Du,zu){Ja.f=null,su||(su=lu?[lu]:[]),Ja.b=lu?String(lu):void 0,Ja.D=lu===0?-1:0,Ja.u=su;e:{if(lu=Ja.u.length,su=-1,lu&&(su=lu-1,lu=Ja.u[su],!(lu===null||typeof lu!="object"||Array.isArray(lu)||Ml&&lu instanceof Uint8Array))){Ja.G=su-Ja.D,Ja.i=lu;break e}-1<Au?(Ja.G=Math.max(Au,su+1-Ja.D),Ja.i=null):Ja.G=Number.MAX_VALUE}if(Ja.a={},Du)for(Au=0;Au<Du.length;Au++)su=Du[Au],su<Ja.G?(su+=Ja.D,Ja.u[su]=Ja.u[su]||Ul):(kl(Ja),Ja.i[su]=Ja.i[su]||Ul);if(zu&&zu.length)for(Au=0;Au<zu.length;Au++)Iu(Ja,zu[Au])};var Ul=Object.freeze?Object.freeze([]):[];function kl(Ja){var su=Ja.G+Ja.D;Ja.u[su]||(Ja.i=Ja.u[su]={})}function Fl(Ja,su,lu){for(var Au=[],Du=0;Du<Ja.length;Du++)Au[Du]=su.call(Ja[Du],lu,Ja[Du]);return Au}fl.toObjectList=Fl,fl.toObjectExtension=function(Ja,su,lu,Au,Du){for(var zu in lu){var Cu=lu[zu],Uu=Au.call(Ja,Cu);if(Uu!=null){for(var ku in Cu.Ba)if(Cu.Ba.hasOwnProperty(ku))break;su[ku]=Cu.Na?Cu.na?Fl(Uu,Cu.Na,Du):Cu.Na(Du,Uu):Uu}}},fl.serializeBinaryExtensions=function(Ja,su,lu,Au){for(var Du in lu){var zu=lu[Du],Cu=zu.Za;if(!zu.Aa)throw Error("Message extension present that was generated without binary serialization support");var Uu=Au.call(Ja,Cu);if(Uu!=null)if(Cu.F())if(zu.Wa)zu.Aa.call(su,Cu.ma,Uu,zu.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else zu.Aa.call(su,Cu.ma,Uu)}},fl.readBinaryExtension=function(Ja,su,lu,Au,Du){var zu=lu[su.c];if(zu){if(lu=zu.Za,!zu.za)throw Error("Deserializing extension whose generated code does not support binary format");if(lu.F()){var Cu=new lu.la;zu.za.call(su,Cu,zu.Ab)}else Cu=zu.za.call(su);lu.na&&!zu.Nb?(su=Au.call(Ja,lu))?su.push(Cu):Du.call(Ja,lu,[Cu]):Du.call(Ja,lu,Cu)}else su.C()};function Pl(Ja,su){if(su<Ja.G){su+=Ja.D;var lu=Ja.u[su];return lu===Ul?Ja.u[su]=[]:lu}if(Ja.i)return lu=Ja.i[su],lu===Ul?Ja.i[su]=[]:lu}fl.getField=Pl,fl.getRepeatedField=function(Ja,su){return Pl(Ja,su)};function Wl(Ja,su){return Ja=Pl(Ja,su),Ja==null?Ja:+Ja}fl.getOptionalFloatingPointField=Wl;function jl(Ja,su){return Ja=Pl(Ja,su),Ja==null?Ja:!!Ja}fl.getBooleanField=jl,fl.getRepeatedFloatingPointField=function(Ja,su){var lu=Pl(Ja,su);if(Ja.a||(Ja.a={}),!Ja.a[su]){for(var Au=0;Au<lu.length;Au++)lu[Au]=+lu[Au];Ja.a[su]=!0}return lu},fl.getRepeatedBooleanField=function(Ja,su){var lu=Pl(Ja,su);if(Ja.a||(Ja.a={}),!Ja.a[su]){for(var Au=0;Au<lu.length;Au++)lu[Au]=!!lu[Au];Ja.a[su]=!0}return lu};function Nu(Ja){return Ja==null||typeof Ja=="string"?Ja:Ml&&Ja instanceof Uint8Array?hu(Ja):(cu("Cannot coerce to b64 string: "+Ws(Ja)),null)}fl.bytesAsB64=Nu;function mu(Ja){return Ja==null||Ja instanceof Uint8Array?Ja:typeof Ja=="string"?Eu(Ja):(cu("Cannot coerce to Uint8Array: "+Ws(Ja)),null)}fl.bytesAsU8=mu,fl.bytesListAsB64=function(Ja){return _u(Ja),Ja.length&&typeof Ja[0]!="string"?Ya(Ja,Nu):Ja},fl.bytesListAsU8=function(Ja){return _u(Ja),!Ja.length||Ja[0]instanceof Uint8Array?Ja:Ya(Ja,mu)};function _u(Ja){if(Ja&&1<Ja.length){var su=Ws(Ja[0]);za(Ja,function(lu){Ws(lu)!=su&&cu("Inconsistent type in JSPB repeated field array. Got "+Ws(lu)+" expected "+su)})}}function Lu(Ja,su,lu){return Ja=Pl(Ja,su),Ja??lu}fl.getFieldWithDefault=Lu,fl.getBooleanFieldWithDefault=function(Ja,su,lu){return Ja=jl(Ja,su),Ja??lu},fl.getFloatingPointFieldWithDefault=function(Ja,su,lu){return Ja=Wl(Ja,su),Ja??lu},fl.getFieldProto3=Lu,fl.getMapField=function(Ja,su,lu,Au){if(Ja.f||(Ja.f={}),su in Ja.f)return Ja.f[su];var Du=Pl(Ja,su);if(!Du){if(lu)return;Du=[],Vu(Ja,su,Du)}return Ja.f[su]=new Xa(Du,Au)};function Vu(Ja,su,lu){return ou(Ja,fl),su<Ja.G?Ja.u[su+Ja.D]=lu:(kl(Ja),Ja.i[su]=lu),Ja}fl.setField=Vu,fl.setProto3IntField=function(Ja,su,lu){return vu(Ja,su,lu,0)},fl.setProto3FloatField=function(Ja,su,lu){return vu(Ja,su,lu,0)},fl.setProto3BooleanField=function(Ja,su,lu){return vu(Ja,su,lu,!1)},fl.setProto3StringField=function(Ja,su,lu){return vu(Ja,su,lu,"")},fl.setProto3BytesField=function(Ja,su,lu){return vu(Ja,su,lu,"")},fl.setProto3EnumField=function(Ja,su,lu){return vu(Ja,su,lu,0)},fl.setProto3StringIntField=function(Ja,su,lu){return vu(Ja,su,lu,"0")};function vu(Ja,su,lu,Au){return ou(Ja,fl),lu!==Au?Vu(Ja,su,lu):su<Ja.G?Ja.u[su+Ja.D]=null:(kl(Ja),delete Ja.i[su]),Ja}fl.addToRepeatedField=function(Ja,su,lu,Au){return ou(Ja,fl),su=Pl(Ja,su),Au!=null?su.splice(Au,0,lu):su.push(lu),Ja};function Su(Ja,su,lu,Au){return ou(Ja,fl),(lu=Iu(Ja,lu))&&lu!==su&&Au!==void 0&&(Ja.f&&lu in Ja.f&&(Ja.f[lu]=void 0),Vu(Ja,lu,void 0)),Vu(Ja,su,Au)}fl.setOneofField=Su;function Iu(Ja,su){for(var lu,Au,Du=0;Du<su.length;Du++){var zu=su[Du],Cu=Pl(Ja,zu);Cu!=null&&(lu=zu,Au=Cu,Vu(Ja,zu,void 0))}return lu?(Vu(Ja,lu,Au),lu):0}fl.computeOneofCase=Iu,fl.getWrapperField=function(Ja,su,lu,Au){if(Ja.f||(Ja.f={}),!Ja.f[lu]){var Du=Pl(Ja,lu);(Au||Du)&&(Ja.f[lu]=new su(Du))}return Ja.f[lu]},fl.getRepeatedWrapperField=function(Ja,su,lu){return bu(Ja,su,lu),su=Ja.f[lu],su==Ul&&(su=Ja.f[lu]=[]),su};function bu(Ja,su,lu){if(Ja.f||(Ja.f={}),!Ja.f[lu]){for(var Au=Pl(Ja,lu),Du=[],zu=0;zu<Au.length;zu++)Du[zu]=new su(Au[zu]);Ja.f[lu]=Du}}fl.setWrapperField=function(Ja,su,lu){ou(Ja,fl),Ja.f||(Ja.f={});var Au=lu&&lu.g();return Ja.f[su]=lu,Vu(Ja,su,Au)},fl.setOneofWrapperField=function(Ja,su,lu,Au){ou(Ja,fl),Ja.f||(Ja.f={});var Du=Au&&Au.g();return Ja.f[su]=Au,Su(Ja,su,lu,Du)},fl.setRepeatedWrapperField=function(Ja,su,lu){ou(Ja,fl),Ja.f||(Ja.f={}),lu=lu||[];for(var Au=[],Du=0;Du<lu.length;Du++)Au[Du]=lu[Du].g();return Ja.f[su]=lu,Vu(Ja,su,Au)},fl.addToRepeatedWrapperField=function(Ja,su,lu,Au,Du){bu(Ja,Au,su);var zu=Ja.f[su];return zu||(zu=Ja.f[su]=[]),lu=lu||new Au,Ja=Pl(Ja,su),Du!=null?(zu.splice(Du,0,lu),Ja.splice(Du,0,lu.g())):(zu.push(lu),Ja.push(lu.g())),lu},fl.toMap=function(Ja,su,lu,Au){for(var Du={},zu=0;zu<Ja.length;zu++)Du[su.call(Ja[zu])]=lu?lu.call(Ja[zu],Au,Ja[zu]):Ja[zu];return Du};function Wu(Ja){if(Ja.f)for(var su in Ja.f){var lu=Ja.f[su];if(Array.isArray(lu))for(var Au=0;Au<lu.length;Au++)lu[Au]&&lu[Au].g();else lu&&lu.g()}}fl.prototype.g=function(){return Wu(this),this.u},fl.prototype.toArray=fl.prototype.g,fl.prototype.toString=function(){return Wu(this),this.u.toString()},fl.prototype.getExtension=function(Ja){if(this.i){this.f||(this.f={});var su=Ja.ma;if(Ja.na){if(Ja.F())return this.f[su]||(this.f[su]=Ya(this.i[su]||[],function(lu){return new Ja.la(lu)})),this.f[su]}else if(Ja.F())return!this.f[su]&&this.i[su]&&(this.f[su]=new Ja.la(this.i[su])),this.f[su];return this.i[su]}},fl.prototype.getExtension=fl.prototype.getExtension,fl.prototype.Kc=function(Ja,su){this.f||(this.f={}),kl(this);var lu=Ja.ma;return Ja.na?(su=su||[],Ja.F()?(this.f[lu]=su,this.i[lu]=Ya(su,function(Au){return Au.g()})):this.i[lu]=su):Ja.F()?(this.f[lu]=su,this.i[lu]=su&&su.g()):this.i[lu]=su,this},fl.prototype.setExtension=fl.prototype.Kc,fl.difference=function(Ja,su){if(!(Ja instanceof su.constructor))throw Error("Messages have different types.");var lu=Ja.g();su=su.g();var Au=[],Du=0,zu=lu.length>su.length?lu.length:su.length;for(Ja.b&&(Au[0]=Ja.b,Du=1);Du<zu;Du++)Qu(lu[Du],su[Du])||(Au[Du]=su[Du]);return new Ja.constructor(Au)},fl.equals=function(Ja,su){return Ja==su||!(!Ja||!su)&&Ja instanceof su.constructor&&Qu(Ja.g(),su.g())};function Xu(Ja,su){Ja=Ja||{},su=su||{};var lu={},Au;for(Au in Ja)lu[Au]=0;for(Au in su)lu[Au]=0;for(Au in lu)if(!Qu(Ja[Au],su[Au]))return!1;return!0}fl.compareExtensions=Xu;function Qu(Ja,su){if(Ja==su)return!0;if(!Hs(Ja)||!Hs(su))return typeof Ja=="number"&&isNaN(Ja)||typeof su=="number"&&isNaN(su)?String(Ja)==String(su):!1;if(Ja.constructor!=su.constructor)return!1;if(Ml&&Ja.constructor===Uint8Array){if(Ja.length!=su.length)return!1;for(var lu=0;lu<Ja.length;lu++)if(Ja[lu]!=su[lu])return!1;return!0}if(Ja.constructor===Array){var Au=void 0,Du=void 0,zu=Math.max(Ja.length,su.length);for(lu=0;lu<zu;lu++){var Cu=Ja[lu],Uu=su[lu];if(Cu&&Cu.constructor==Object&&(tu(Au===void 0),tu(lu===Ja.length-1),Au=Cu,Cu=void 0),Uu&&Uu.constructor==Object&&(tu(Du===void 0),tu(lu===su.length-1),Du=Uu,Uu=void 0),!Qu(Cu,Uu))return!1}return Au||Du?(Au=Au||{},Du=Du||{},Xu(Au,Du)):!0}if(Ja.constructor===Object)return Xu(Ja,su);throw Error("Invalid type in JSPB array")}fl.compareFields=Qu,fl.prototype.Bb=function(){return ol(this)},fl.prototype.cloneMessage=fl.prototype.Bb,fl.prototype.clone=function(){return ol(this)},fl.prototype.clone=fl.prototype.clone,fl.clone=function(Ja){return ol(Ja)};function ol(Ja){return new Ja.constructor(vl(Ja.g()))}fl.copyInto=function(Ja,su){ou(Ja,fl),ou(su,fl),tu(Ja.constructor==su.constructor,"Copy source and target message should have the same type."),Ja=ol(Ja);for(var lu=su.g(),Au=Ja.g(),Du=lu.length=0;Du<Au.length;Du++)lu[Du]=Au[Du];su.f=Ja.f,su.i=Ja.i};function vl(Ja){if(Array.isArray(Ja)){for(var su=Array(Ja.length),lu=0;lu<Ja.length;lu++){var Au=Ja[lu];Au!=null&&(su[lu]=typeof Au=="object"?vl(tu(Au)):Au)}return su}if(Ml&&Ja instanceof Uint8Array)return new Uint8Array(Ja);su={};for(lu in Ja)Au=Ja[lu],Au!=null&&(su[lu]=typeof Au=="object"?vl(tu(Au)):Au);return su}fl.registerMessageType=function(Ja,su){su.we=Ja};var _l={dump:function(Ja){return ou(Ja,fl,"jspb.Message instance expected"),tu(Ja.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),_l.X(Ja)}};Is("jspb.debug.dump",_l.dump,void 0),_l.X=function(Ja){var su=Ws(Ja);if(su=="number"||su=="string"||su=="boolean"||su=="null"||su=="undefined"||typeof Uint8Array<"u"&&Ja instanceof Uint8Array)return Ja;if(su=="array")return ru(Ja),Ya(Ja,_l.X);if(Ja instanceof Xa){var lu={};Ja=Ja.entries();for(var Au=Ja.next();!Au.done;Au=Ja.next())lu[Au.value[0]]=_l.X(Au.value[1]);return lu}ou(Ja,fl,"Only messages expected: "+Ja),su=Ja.constructor;var Du={$name:su.name||su.displayName};for(Uu in su.prototype){var zu=/^get([A-Z]\w*)/.exec(Uu);if(zu&&Uu!="getExtension"&&Uu!="getJsPbMessageId"){var Cu="has"+zu[1];(!Ja[Cu]||Ja[Cu]())&&(Cu=Ja[Uu](),Du[_l.$a(zu[1])]=_l.X(Cu))}}if(Ja.extensionObject_)return Du.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",Du;for(Au in su.extensions)if(/^\d+$/.test(Au)){Cu=su.extensions[Au];var Uu=Ja.getExtension(Cu);zu=void 0,Cu=Cu.Ba;var ku=[],Gu=0;for(zu in Cu)ku[Gu++]=zu;zu=ku[0],Uu!=null&&(lu||(lu=Du.$extensions={}),lu[_l.$a(zu)]=_l.X(Uu))}return Du},_l.$a=function(Ja){return Ja.replace(/^[A-Z]/,function(su){return su.toLowerCase()})};function rl(){this.a=[]}Is("jspb.BinaryEncoder",rl,void 0),rl.prototype.length=function(){return this.a.length},rl.prototype.length=rl.prototype.length,rl.prototype.end=function(){var Ja=this.a;return this.a=[],Ja},rl.prototype.end=rl.prototype.end,rl.prototype.l=function(Ja,su){for(tu(Ja==Math.floor(Ja)),tu(su==Math.floor(su)),tu(0<=Ja&&4294967296>Ja),tu(0<=su&&4294967296>su);0<su||127<Ja;)this.a.push(Ja&127|128),Ja=(Ja>>>7|su<<25)>>>0,su>>>=7;this.a.push(Ja)},rl.prototype.writeSplitVarint64=rl.prototype.l,rl.prototype.A=function(Ja,su){tu(Ja==Math.floor(Ja)),tu(su==Math.floor(su)),tu(0<=Ja&&4294967296>Ja),tu(0<=su&&4294967296>su),this.s(Ja),this.s(su)},rl.prototype.writeSplitFixed64=rl.prototype.A,rl.prototype.j=function(Ja){for(tu(Ja==Math.floor(Ja)),tu(0<=Ja&&4294967296>Ja);127<Ja;)this.a.push(Ja&127|128),Ja>>>=7;this.a.push(Ja)},rl.prototype.writeUnsignedVarint32=rl.prototype.j,rl.prototype.M=function(Ja){if(tu(Ja==Math.floor(Ja)),tu(-2147483648<=Ja&&2147483648>Ja),0<=Ja)this.j(Ja);else{for(var su=0;9>su;su++)this.a.push(Ja&127|128),Ja>>=7;this.a.push(1)}},rl.prototype.writeSignedVarint32=rl.prototype.M,rl.prototype.va=function(Ja){tu(Ja==Math.floor(Ja)),tu(0<=Ja&&18446744073709552e3>Ja),du(Ja),this.l(gu,yu)},rl.prototype.writeUnsignedVarint64=rl.prototype.va,rl.prototype.ua=function(Ja){tu(Ja==Math.floor(Ja)),tu(-9223372036854776e3<=Ja&&9223372036854776e3>Ja),du(Ja),this.l(gu,yu)},rl.prototype.writeSignedVarint64=rl.prototype.ua,rl.prototype.wa=function(Ja){tu(Ja==Math.floor(Ja)),tu(-2147483648<=Ja&&2147483648>Ja),this.j((Ja<<1^Ja>>31)>>>0)},rl.prototype.writeZigzagVarint32=rl.prototype.wa,rl.prototype.xa=function(Ja){tu(Ja==Math.floor(Ja)),tu(-9223372036854776e3<=Ja&&9223372036854776e3>Ja),wu(Ja),this.l(gu,yu)},rl.prototype.writeZigzagVarint64=rl.prototype.xa,rl.prototype.Ta=function(Ja){this.W(cl(Ja))},rl.prototype.writeZigzagVarint64String=rl.prototype.Ta,rl.prototype.W=function(Ja){var su=this;Zu(Ja),gl(gu,yu,function(lu,Au){su.l(lu>>>0,Au>>>0)})},rl.prototype.writeZigzagVarintHash64=rl.prototype.W,rl.prototype.be=function(Ja){tu(Ja==Math.floor(Ja)),tu(0<=Ja&&256>Ja),this.a.push(Ja>>>0&255)},rl.prototype.writeUint8=rl.prototype.be,rl.prototype.ae=function(Ja){tu(Ja==Math.floor(Ja)),tu(0<=Ja&&65536>Ja),this.a.push(Ja>>>0&255),this.a.push(Ja>>>8&255)},rl.prototype.writeUint16=rl.prototype.ae,rl.prototype.s=function(Ja){tu(Ja==Math.floor(Ja)),tu(0<=Ja&&4294967296>Ja),this.a.push(Ja>>>0&255),this.a.push(Ja>>>8&255),this.a.push(Ja>>>16&255),this.a.push(Ja>>>24&255)},rl.prototype.writeUint32=rl.prototype.s,rl.prototype.V=function(Ja){tu(Ja==Math.floor(Ja)),tu(0<=Ja&&18446744073709552e3>Ja),Tu(Ja),this.s(gu),this.s(yu)},rl.prototype.writeUint64=rl.prototype.V,rl.prototype.Qc=function(Ja){tu(Ja==Math.floor(Ja)),tu(-128<=Ja&&128>Ja),this.a.push(Ja>>>0&255)},rl.prototype.writeInt8=rl.prototype.Qc,rl.prototype.Pc=function(Ja){tu(Ja==Math.floor(Ja)),tu(-32768<=Ja&&32768>Ja),this.a.push(Ja>>>0&255),this.a.push(Ja>>>8&255)},rl.prototype.writeInt16=rl.prototype.Pc,rl.prototype.S=function(Ja){tu(Ja==Math.floor(Ja)),tu(-2147483648<=Ja&&2147483648>Ja),this.a.push(Ja>>>0&255),this.a.push(Ja>>>8&255),this.a.push(Ja>>>16&255),this.a.push(Ja>>>24&255)},rl.prototype.writeInt32=rl.prototype.S,rl.prototype.T=function(Ja){tu(Ja==Math.floor(Ja)),tu(-9223372036854776e3<=Ja&&9223372036854776e3>Ja),du(Ja),this.A(gu,yu)},rl.prototype.writeInt64=rl.prototype.T,rl.prototype.ka=function(Ja){tu(Ja==Math.floor(Ja)),tu(-9223372036854776e3<=+Ja&&9223372036854776e3>+Ja),Zu(cl(Ja)),this.A(gu,yu)},rl.prototype.writeInt64String=rl.prototype.ka,rl.prototype.L=function(Ja){tu(Ja===1/0||Ja===-1/0||isNaN(Ja)||-34028234663852886e22<=Ja&&34028234663852886e22>=Ja),Ru(Ja),this.s(gu)},rl.prototype.writeFloat=rl.prototype.L,rl.prototype.J=function(Ja){tu(Ja===1/0||Ja===-1/0||isNaN(Ja)||-17976931348623157e292<=Ja&&17976931348623157e292>=Ja),Ku(Ja),this.s(gu),this.s(yu)},rl.prototype.writeDouble=rl.prototype.J,rl.prototype.I=function(Ja){tu(typeof Ja=="boolean"||typeof Ja=="number"),this.a.push(Ja?1:0)},rl.prototype.writeBool=rl.prototype.I,rl.prototype.R=function(Ja){tu(Ja==Math.floor(Ja)),tu(-2147483648<=Ja&&2147483648>Ja),this.M(Ja)},rl.prototype.writeEnum=rl.prototype.R,rl.prototype.ja=function(Ja){this.a.push.apply(this.a,Ja)},rl.prototype.writeBytes=rl.prototype.ja,rl.prototype.N=function(Ja){Zu(Ja),this.l(gu,yu)},rl.prototype.writeVarintHash64=rl.prototype.N,rl.prototype.K=function(Ja){Zu(Ja),this.s(gu),this.s(yu)},rl.prototype.writeFixedHash64=rl.prototype.K,rl.prototype.U=function(Ja){var su=this.a.length;eu(Ja);for(var lu=0;lu<Ja.length;lu++){var Au=Ja.charCodeAt(lu);if(128>Au)this.a.push(Au);else if(2048>Au)this.a.push(Au>>6|192),this.a.push(Au&63|128);else if(65536>Au)if(55296<=Au&&56319>=Au&&lu+1<Ja.length){var Du=Ja.charCodeAt(lu+1);56320<=Du&&57343>=Du&&(Au=1024*(Au-55296)+Du-56320+65536,this.a.push(Au>>18|240),this.a.push(Au>>12&63|128),this.a.push(Au>>6&63|128),this.a.push(Au&63|128),lu++)}else this.a.push(Au>>12|224),this.a.push(Au>>6&63|128),this.a.push(Au&63|128)}return this.a.length-su},rl.prototype.writeString=rl.prototype.U;function Al(Ja,su){this.lo=Ja,this.hi=su}Is("jspb.arith.UInt64",Al,void 0),Al.prototype.cmp=function(Ja){return this.hi<Ja.hi||this.hi==Ja.hi&&this.lo<Ja.lo?-1:this.hi==Ja.hi&&this.lo==Ja.lo?0:1},Al.prototype.cmp=Al.prototype.cmp,Al.prototype.La=function(){return new Al((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},Al.prototype.rightShift=Al.prototype.La,Al.prototype.Da=function(){return new Al(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Al.prototype.leftShift=Al.prototype.Da,Al.prototype.cb=function(){return!!(this.hi&2147483648)},Al.prototype.msb=Al.prototype.cb,Al.prototype.Ob=function(){return!!(this.lo&1)},Al.prototype.lsb=Al.prototype.Ob,Al.prototype.Ua=function(){return this.lo==0&&this.hi==0},Al.prototype.zero=Al.prototype.Ua,Al.prototype.add=function(Ja){return new Al((this.lo+Ja.lo&4294967295)>>>0>>>0,((this.hi+Ja.hi&4294967295)>>>0)+(4294967296<=this.lo+Ja.lo?1:0)>>>0)},Al.prototype.add=Al.prototype.add,Al.prototype.sub=function(Ja){return new Al((this.lo-Ja.lo&4294967295)>>>0>>>0,((this.hi-Ja.hi&4294967295)>>>0)-(0>this.lo-Ja.lo?1:0)>>>0)},Al.prototype.sub=Al.prototype.sub;function $l(Ja,su){var lu=Ja&65535;Ja>>>=16;var Au=su&65535,Du=su>>>16;for(su=lu*Au+65536*(lu*Du&65535)+65536*(Ja*Au&65535),lu=Ja*Du+(lu*Du>>>16)+(Ja*Au>>>16);4294967296<=su;)su-=4294967296,lu+=1;return new Al(su>>>0,lu>>>0)}Al.mul32x32=$l,Al.prototype.eb=function(Ja){var su=$l(this.lo,Ja);return Ja=$l(this.hi,Ja),Ja.hi=Ja.lo,Ja.lo=0,su.add(Ja)},Al.prototype.mul=Al.prototype.eb,Al.prototype.Xa=function(Ja){if(Ja==0)return[];var su=new Al(0,0),lu=new Al(this.lo,this.hi);Ja=new Al(Ja,0);for(var Au=new Al(1,0);!Ja.cb();)Ja=Ja.Da(),Au=Au.Da();for(;!Au.Ua();)0>=Ja.cmp(lu)&&(su=su.add(Au),lu=lu.sub(Ja)),Ja=Ja.La(),Au=Au.La();return[su,lu]},Al.prototype.div=Al.prototype.Xa,Al.prototype.toString=function(){for(var Ja="",su=this;!su.Ua();){su=su.Xa(10);var lu=su[0];Ja=su[1].lo+Ja,su=lu}return Ja==""&&(Ja="0"),Ja},Al.prototype.toString=Al.prototype.toString;function Dl(Ja){for(var su=new Al(0,0),lu=new Al(0,0),Au=0;Au<Ja.length;Au++){if("0">Ja[Au]||"9"<Ja[Au])return null;lu.lo=parseInt(Ja[Au],10),su=su.eb(10).add(lu)}return su}Al.fromString=Dl,Al.prototype.clone=function(){return new Al(this.lo,this.hi)},Al.prototype.clone=Al.prototype.clone;function Ol(Ja,su){this.lo=Ja,this.hi=su}Is("jspb.arith.Int64",Ol,void 0),Ol.prototype.add=function(Ja){return new Ol((this.lo+Ja.lo&4294967295)>>>0>>>0,((this.hi+Ja.hi&4294967295)>>>0)+(4294967296<=this.lo+Ja.lo?1:0)>>>0)},Ol.prototype.add=Ol.prototype.add,Ol.prototype.sub=function(Ja){return new Ol((this.lo-Ja.lo&4294967295)>>>0>>>0,((this.hi-Ja.hi&4294967295)>>>0)-(0>this.lo-Ja.lo?1:0)>>>0)},Ol.prototype.sub=Ol.prototype.sub,Ol.prototype.clone=function(){return new Ol(this.lo,this.hi)},Ol.prototype.clone=Ol.prototype.clone,Ol.prototype.toString=function(){var Ja=(this.hi&2147483648)!=0,su=new Al(this.lo,this.hi);return Ja&&(su=new Al(0,0).sub(su)),(Ja?"-":"")+su.toString()},Ol.prototype.toString=Ol.prototype.toString;function ll(Ja){var su=0<Ja.length&&Ja[0]=="-";return su&&(Ja=Ja.substring(1)),Ja=Dl(Ja),Ja===null?null:(su&&(Ja=new Al(0,0).sub(Ja)),new Ol(Ja.lo,Ja.hi))}Ol.fromString=ll;function ju(){this.c=[],this.b=0,this.a=new rl,this.h=[]}Is("jspb.BinaryWriter",ju,void 0);function Ll(Ja,su){var lu=Ja.a.end();Ja.c.push(lu),Ja.c.push(su),Ja.b+=lu.length+su.length}function xl(Ja,su){return dl(Ja,su,2),su=Ja.a.end(),Ja.c.push(su),Ja.b+=su.length,su.push(Ja.b),su}function Tl(Ja,su){var lu=su.pop();for(lu=Ja.b+Ja.a.length()-lu,tu(0<=lu);127<lu;)su.push(lu&127|128),lu>>>=7,Ja.b++;su.push(lu),Ja.b++}ju.prototype.pb=function(Ja,su,lu){Ll(this,Ja.subarray(su,lu))},ju.prototype.writeSerializedMessage=ju.prototype.pb,ju.prototype.Pb=function(Ja,su,lu){Ja!=null&&su!=null&&lu!=null&&this.pb(Ja,su,lu)},ju.prototype.maybeWriteSerializedMessage=ju.prototype.Pb,ju.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},ju.prototype.reset=ju.prototype.reset,ju.prototype.ab=function(){tu(this.h.length==0);for(var Ja=new Uint8Array(this.b+this.a.length()),su=this.c,lu=su.length,Au=0,Du=0;Du<lu;Du++){var zu=su[Du];Ja.set(zu,Au),Au+=zu.length}return su=this.a.end(),Ja.set(su,Au),Au+=su.length,tu(Au==Ja.length),this.c=[Ja],Ja},ju.prototype.getResultBuffer=ju.prototype.ab,ju.prototype.Kb=function(Ja){return hu(this.ab(),Ja)},ju.prototype.getResultBase64String=ju.prototype.Kb,ju.prototype.Va=function(Ja){this.h.push(xl(this,Ja))},ju.prototype.beginSubMessage=ju.prototype.Va,ju.prototype.Ya=function(){tu(0<=this.h.length),Tl(this,this.h.pop())},ju.prototype.endSubMessage=ju.prototype.Ya;function dl(Ja,su,lu){tu(1<=su&&su==Math.floor(su)),Ja.a.j(8*su+lu)}ju.prototype.Nc=function(Ja,su,lu){switch(Ja){case 1:this.J(su,lu);break;case 2:this.L(su,lu);break;case 3:this.T(su,lu);break;case 4:this.V(su,lu);break;case 5:this.S(su,lu);break;case 6:this.Qa(su,lu);break;case 7:this.Pa(su,lu);break;case 8:this.I(su,lu);break;case 9:this.U(su,lu);break;case 10:cu("Group field type not supported in writeAny()");break;case 11:cu("Message field type not supported in writeAny()");break;case 12:this.ja(su,lu);break;case 13:this.s(su,lu);break;case 14:this.R(su,lu);break;case 15:this.Ra(su,lu);break;case 16:this.Sa(su,lu);break;case 17:this.rb(su,lu);break;case 18:this.sb(su,lu);break;case 30:this.K(su,lu);break;case 31:this.N(su,lu);break;default:cu("Invalid field type in writeAny()")}},ju.prototype.writeAny=ju.prototype.Nc;function Bl(Ja,su,lu){lu!=null&&(dl(Ja,su,0),Ja.a.j(lu))}function Sl(Ja,su,lu){lu!=null&&(dl(Ja,su,0),Ja.a.M(lu))}ju.prototype.S=function(Ja,su){su!=null&&(tu(-2147483648<=su&&2147483648>su),Sl(this,Ja,su))},ju.prototype.writeInt32=ju.prototype.S,ju.prototype.ob=function(Ja,su){su!=null&&(su=parseInt(su,10),tu(-2147483648<=su&&2147483648>su),Sl(this,Ja,su))},ju.prototype.writeInt32String=ju.prototype.ob,ju.prototype.T=function(Ja,su){su!=null&&(tu(-9223372036854776e3<=su&&9223372036854776e3>su),su!=null&&(dl(this,Ja,0),this.a.ua(su)))},ju.prototype.writeInt64=ju.prototype.T,ju.prototype.ka=function(Ja,su){su!=null&&(su=ll(su),dl(this,Ja,0),this.a.l(su.lo,su.hi))},ju.prototype.writeInt64String=ju.prototype.ka,ju.prototype.s=function(Ja,su){su!=null&&(tu(0<=su&&4294967296>su),Bl(this,Ja,su))},ju.prototype.writeUint32=ju.prototype.s,ju.prototype.ub=function(Ja,su){su!=null&&(su=parseInt(su,10),tu(0<=su&&4294967296>su),Bl(this,Ja,su))},ju.prototype.writeUint32String=ju.prototype.ub,ju.prototype.V=function(Ja,su){su!=null&&(tu(0<=su&&18446744073709552e3>su),su!=null&&(dl(this,Ja,0),this.a.va(su)))},ju.prototype.writeUint64=ju.prototype.V,ju.prototype.vb=function(Ja,su){su!=null&&(su=Dl(su),dl(this,Ja,0),this.a.l(su.lo,su.hi))},ju.prototype.writeUint64String=ju.prototype.vb,ju.prototype.rb=function(Ja,su){su!=null&&(tu(-2147483648<=su&&2147483648>su),su!=null&&(dl(this,Ja,0),this.a.wa(su)))},ju.prototype.writeSint32=ju.prototype.rb,ju.prototype.sb=function(Ja,su){su!=null&&(tu(-9223372036854776e3<=su&&9223372036854776e3>su),su!=null&&(dl(this,Ja,0),this.a.xa(su)))},ju.prototype.writeSint64=ju.prototype.sb,ju.prototype.$d=function(Ja,su){su!=null&&su!=null&&(dl(this,Ja,0),this.a.W(su))},ju.prototype.writeSintHash64=ju.prototype.$d,ju.prototype.Zd=function(Ja,su){su!=null&&su!=null&&(dl(this,Ja,0),this.a.Ta(su))},ju.prototype.writeSint64String=ju.prototype.Zd,ju.prototype.Pa=function(Ja,su){su!=null&&(tu(0<=su&&4294967296>su),dl(this,Ja,5),this.a.s(su))},ju.prototype.writeFixed32=ju.prototype.Pa,ju.prototype.Qa=function(Ja,su){su!=null&&(tu(0<=su&&18446744073709552e3>su),dl(this,Ja,1),this.a.V(su))},ju.prototype.writeFixed64=ju.prototype.Qa,ju.prototype.nb=function(Ja,su){su!=null&&(su=Dl(su),dl(this,Ja,1),this.a.A(su.lo,su.hi))},ju.prototype.writeFixed64String=ju.prototype.nb,ju.prototype.Ra=function(Ja,su){su!=null&&(tu(-2147483648<=su&&2147483648>su),dl(this,Ja,5),this.a.S(su))},ju.prototype.writeSfixed32=ju.prototype.Ra,ju.prototype.Sa=function(Ja,su){su!=null&&(tu(-9223372036854776e3<=su&&9223372036854776e3>su),dl(this,Ja,1),this.a.T(su))},ju.prototype.writeSfixed64=ju.prototype.Sa,ju.prototype.qb=function(Ja,su){su!=null&&(su=ll(su),dl(this,Ja,1),this.a.A(su.lo,su.hi))},ju.prototype.writeSfixed64String=ju.prototype.qb,ju.prototype.L=function(Ja,su){su!=null&&(dl(this,Ja,5),this.a.L(su))},ju.prototype.writeFloat=ju.prototype.L,ju.prototype.J=function(Ja,su){su!=null&&(dl(this,Ja,1),this.a.J(su))},ju.prototype.writeDouble=ju.prototype.J,ju.prototype.I=function(Ja,su){su!=null&&(tu(typeof su=="boolean"||typeof su=="number"),dl(this,Ja,0),this.a.I(su))},ju.prototype.writeBool=ju.prototype.I,ju.prototype.R=function(Ja,su){su!=null&&(tu(-2147483648<=su&&2147483648>su),dl(this,Ja,0),this.a.M(su))},ju.prototype.writeEnum=ju.prototype.R,ju.prototype.U=function(Ja,su){su!=null&&(Ja=xl(this,Ja),this.a.U(su),Tl(this,Ja))},ju.prototype.writeString=ju.prototype.U,ju.prototype.ja=function(Ja,su){su!=null&&(su=Bu(su),dl(this,Ja,2),this.a.j(su.length),Ll(this,su))},ju.prototype.writeBytes=ju.prototype.ja,ju.prototype.Rc=function(Ja,su,lu){su!=null&&(Ja=xl(this,Ja),lu(su,this),Tl(this,Ja))},ju.prototype.writeMessage=ju.prototype.Rc,ju.prototype.Sc=function(Ja,su,lu){su!=null&&(dl(this,1,3),dl(this,2,0),this.a.M(Ja),Ja=xl(this,3),lu(su,this),Tl(this,Ja),dl(this,1,4))},ju.prototype.writeMessageSet=ju.prototype.Sc,ju.prototype.Oc=function(Ja,su,lu){su!=null&&(dl(this,Ja,3),lu(su,this),dl(this,Ja,4))},ju.prototype.writeGroup=ju.prototype.Oc,ju.prototype.K=function(Ja,su){su!=null&&(tu(su.length==8),dl(this,Ja,1),this.a.K(su))},ju.prototype.writeFixedHash64=ju.prototype.K,ju.prototype.N=function(Ja,su){su!=null&&(tu(su.length==8),dl(this,Ja,0),this.a.N(su))},ju.prototype.writeVarintHash64=ju.prototype.N,ju.prototype.A=function(Ja,su,lu){dl(this,Ja,1),this.a.A(su,lu)},ju.prototype.writeSplitFixed64=ju.prototype.A,ju.prototype.l=function(Ja,su,lu){dl(this,Ja,0),this.a.l(su,lu)},ju.prototype.writeSplitVarint64=ju.prototype.l,ju.prototype.tb=function(Ja,su,lu){dl(this,Ja,0);var Au=this.a;gl(su,lu,function(Du,zu){Au.l(Du>>>0,zu>>>0)})},ju.prototype.writeSplitZigzagVarint64=ju.prototype.tb,ju.prototype.Ed=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)Sl(this,Ja,su[lu])},ju.prototype.writeRepeatedInt32=ju.prototype.Ed,ju.prototype.Fd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.ob(Ja,su[lu])},ju.prototype.writeRepeatedInt32String=ju.prototype.Fd,ju.prototype.Gd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++){var Au=su[lu];Au!=null&&(dl(this,Ja,0),this.a.ua(Au))}},ju.prototype.writeRepeatedInt64=ju.prototype.Gd,ju.prototype.Qd=function(Ja,su,lu,Au){if(su!=null)for(var Du=0;Du<su.length;Du++)this.A(Ja,lu(su[Du]),Au(su[Du]))},ju.prototype.writeRepeatedSplitFixed64=ju.prototype.Qd,ju.prototype.Rd=function(Ja,su,lu,Au){if(su!=null)for(var Du=0;Du<su.length;Du++)this.l(Ja,lu(su[Du]),Au(su[Du]))},ju.prototype.writeRepeatedSplitVarint64=ju.prototype.Rd,ju.prototype.Sd=function(Ja,su,lu,Au){if(su!=null)for(var Du=0;Du<su.length;Du++)this.tb(Ja,lu(su[Du]),Au(su[Du]))},ju.prototype.writeRepeatedSplitZigzagVarint64=ju.prototype.Sd,ju.prototype.Hd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.ka(Ja,su[lu])},ju.prototype.writeRepeatedInt64String=ju.prototype.Hd,ju.prototype.Ud=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)Bl(this,Ja,su[lu])},ju.prototype.writeRepeatedUint32=ju.prototype.Ud,ju.prototype.Vd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.ub(Ja,su[lu])},ju.prototype.writeRepeatedUint32String=ju.prototype.Vd,ju.prototype.Wd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++){var Au=su[lu];Au!=null&&(dl(this,Ja,0),this.a.va(Au))}},ju.prototype.writeRepeatedUint64=ju.prototype.Wd,ju.prototype.Xd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.vb(Ja,su[lu])},ju.prototype.writeRepeatedUint64String=ju.prototype.Xd,ju.prototype.Md=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++){var Au=su[lu];Au!=null&&(dl(this,Ja,0),this.a.wa(Au))}},ju.prototype.writeRepeatedSint32=ju.prototype.Md,ju.prototype.Nd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++){var Au=su[lu];Au!=null&&(dl(this,Ja,0),this.a.xa(Au))}},ju.prototype.writeRepeatedSint64=ju.prototype.Nd,ju.prototype.Od=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++){var Au=su[lu];Au!=null&&(dl(this,Ja,0),this.a.Ta(Au))}},ju.prototype.writeRepeatedSint64String=ju.prototype.Od,ju.prototype.Pd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++){var Au=su[lu];Au!=null&&(dl(this,Ja,0),this.a.W(Au))}},ju.prototype.writeRepeatedSintHash64=ju.prototype.Pd,ju.prototype.yd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.Pa(Ja,su[lu])},ju.prototype.writeRepeatedFixed32=ju.prototype.yd,ju.prototype.zd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.Qa(Ja,su[lu])},ju.prototype.writeRepeatedFixed64=ju.prototype.zd,ju.prototype.Ad=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.nb(Ja,su[lu])},ju.prototype.writeRepeatedFixed64String=ju.prototype.Ad,ju.prototype.Jd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.Ra(Ja,su[lu])},ju.prototype.writeRepeatedSfixed32=ju.prototype.Jd,ju.prototype.Kd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.Sa(Ja,su[lu])},ju.prototype.writeRepeatedSfixed64=ju.prototype.Kd,ju.prototype.Ld=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.qb(Ja,su[lu])},ju.prototype.writeRepeatedSfixed64String=ju.prototype.Ld,ju.prototype.Cd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.L(Ja,su[lu])},ju.prototype.writeRepeatedFloat=ju.prototype.Cd,ju.prototype.wd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.J(Ja,su[lu])},ju.prototype.writeRepeatedDouble=ju.prototype.wd,ju.prototype.ud=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.I(Ja,su[lu])},ju.prototype.writeRepeatedBool=ju.prototype.ud,ju.prototype.xd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.R(Ja,su[lu])},ju.prototype.writeRepeatedEnum=ju.prototype.xd,ju.prototype.Td=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.U(Ja,su[lu])},ju.prototype.writeRepeatedString=ju.prototype.Td,ju.prototype.vd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.ja(Ja,su[lu])},ju.prototype.writeRepeatedBytes=ju.prototype.vd,ju.prototype.Id=function(Ja,su,lu){if(su!=null)for(var Au=0;Au<su.length;Au++){var Du=xl(this,Ja);lu(su[Au],this),Tl(this,Du)}},ju.prototype.writeRepeatedMessage=ju.prototype.Id,ju.prototype.Dd=function(Ja,su,lu){if(su!=null)for(var Au=0;Au<su.length;Au++)dl(this,Ja,3),lu(su[Au],this),dl(this,Ja,4)},ju.prototype.writeRepeatedGroup=ju.prototype.Dd,ju.prototype.Bd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.K(Ja,su[lu])},ju.prototype.writeRepeatedFixedHash64=ju.prototype.Bd,ju.prototype.Yd=function(Ja,su){if(su!=null)for(var lu=0;lu<su.length;lu++)this.N(Ja,su[lu])},ju.prototype.writeRepeatedVarintHash64=ju.prototype.Yd,ju.prototype.ad=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.M(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedInt32=ju.prototype.ad,ju.prototype.bd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.M(parseInt(su[lu],10));Tl(this,Ja)}},ju.prototype.writePackedInt32String=ju.prototype.bd,ju.prototype.cd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.ua(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedInt64=ju.prototype.cd,ju.prototype.md=function(Ja,su,lu,Au){if(su!=null){Ja=xl(this,Ja);for(var Du=0;Du<su.length;Du++)this.a.A(lu(su[Du]),Au(su[Du]));Tl(this,Ja)}},ju.prototype.writePackedSplitFixed64=ju.prototype.md,ju.prototype.nd=function(Ja,su,lu,Au){if(su!=null){Ja=xl(this,Ja);for(var Du=0;Du<su.length;Du++)this.a.l(lu(su[Du]),Au(su[Du]));Tl(this,Ja)}},ju.prototype.writePackedSplitVarint64=ju.prototype.nd,ju.prototype.od=function(Ja,su,lu,Au){if(su!=null){Ja=xl(this,Ja);for(var Du=this.a,zu=0;zu<su.length;zu++)gl(lu(su[zu]),Au(su[zu]),function(Cu,Uu){Du.l(Cu>>>0,Uu>>>0)});Tl(this,Ja)}},ju.prototype.writePackedSplitZigzagVarint64=ju.prototype.od,ju.prototype.dd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++){var Au=ll(su[lu]);this.a.l(Au.lo,Au.hi)}Tl(this,Ja)}},ju.prototype.writePackedInt64String=ju.prototype.dd,ju.prototype.pd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.j(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedUint32=ju.prototype.pd,ju.prototype.qd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.j(parseInt(su[lu],10));Tl(this,Ja)}},ju.prototype.writePackedUint32String=ju.prototype.qd,ju.prototype.rd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.va(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedUint64=ju.prototype.rd,ju.prototype.sd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++){var Au=Dl(su[lu]);this.a.l(Au.lo,Au.hi)}Tl(this,Ja)}},ju.prototype.writePackedUint64String=ju.prototype.sd,ju.prototype.hd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.wa(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedSint32=ju.prototype.hd,ju.prototype.jd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.xa(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedSint64=ju.prototype.jd,ju.prototype.kd=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.W(cl(su[lu]));Tl(this,Ja)}},ju.prototype.writePackedSint64String=ju.prototype.kd,ju.prototype.ld=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.W(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedSintHash64=ju.prototype.ld,ju.prototype.Wc=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(4*su.length),Ja=0;Ja<su.length;Ja++)this.a.s(su[Ja])},ju.prototype.writePackedFixed32=ju.prototype.Wc,ju.prototype.Xc=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(8*su.length),Ja=0;Ja<su.length;Ja++)this.a.V(su[Ja])},ju.prototype.writePackedFixed64=ju.prototype.Xc,ju.prototype.Yc=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(8*su.length),Ja=0;Ja<su.length;Ja++){var lu=Dl(su[Ja]);this.a.A(lu.lo,lu.hi)}},ju.prototype.writePackedFixed64String=ju.prototype.Yc,ju.prototype.ed=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(4*su.length),Ja=0;Ja<su.length;Ja++)this.a.S(su[Ja])},ju.prototype.writePackedSfixed32=ju.prototype.ed,ju.prototype.fd=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(8*su.length),Ja=0;Ja<su.length;Ja++)this.a.T(su[Ja])},ju.prototype.writePackedSfixed64=ju.prototype.fd,ju.prototype.gd=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(8*su.length),Ja=0;Ja<su.length;Ja++)this.a.ka(su[Ja])},ju.prototype.writePackedSfixed64String=ju.prototype.gd,ju.prototype.$c=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(4*su.length),Ja=0;Ja<su.length;Ja++)this.a.L(su[Ja])},ju.prototype.writePackedFloat=ju.prototype.$c,ju.prototype.Uc=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(8*su.length),Ja=0;Ja<su.length;Ja++)this.a.J(su[Ja])},ju.prototype.writePackedDouble=ju.prototype.Uc,ju.prototype.Tc=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(su.length),Ja=0;Ja<su.length;Ja++)this.a.I(su[Ja])},ju.prototype.writePackedBool=ju.prototype.Tc,ju.prototype.Vc=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.R(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedEnum=ju.prototype.Vc,ju.prototype.Zc=function(Ja,su){if(su!=null&&su.length)for(dl(this,Ja,2),this.a.j(8*su.length),Ja=0;Ja<su.length;Ja++)this.a.K(su[Ja])},ju.prototype.writePackedFixedHash64=ju.prototype.Zc,ju.prototype.td=function(Ja,su){if(su!=null&&su.length){Ja=xl(this,Ja);for(var lu=0;lu<su.length;lu++)this.a.N(su[lu]);Tl(this,Ja)}},ju.prototype.writePackedVarintHash64=ju.prototype.td,st.debug=_l,st.Map=Xa,st.Message=fl,st.BinaryReader=Pu,st.BinaryWriter=ju,st.ExtensionFieldInfo=Il,st.ExtensionFieldBinaryInfo=Rl,st.exportSymbol=Ns,st.inherits=Js,st.object={extend:pa},st.typeOf=Ws}(googleProtobuf)),googleProtobuf}var hasRequiredAny_pb;function requireAny_pb(){return hasRequiredAny_pb||(hasRequiredAny_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("proto.google.protobuf.Any",null,ms),proto.google.protobuf.Any=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(proto.google.protobuf.Any,t.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),t.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(ws){return proto.google.protobuf.Any.toObject(ws,this)},proto.google.protobuf.Any.toObject=function(ws,vs){var _s={typeUrl:t.Message.getFieldWithDefault(vs,1,""),value:vs.getValue_asB64()};return ws&&(_s.$jspbMessageInstance=vs),_s}),proto.google.protobuf.Any.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(_s,vs)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readString();ws.setTypeUrl(Es);break;case 2:var Es=vs.readBytes();ws.setValue(Es);break;default:vs.skipField();break}}return ws},proto.google.protobuf.Any.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getTypeUrl(),_s.length>0&&vs.writeString(1,_s),_s=ws.getValue_asU8(),_s.length>0&&vs.writeBytes(2,_s)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(ws){return t.Message.setProto3StringField(this,1,ws)},proto.google.protobuf.Any.prototype.getValue=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return t.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return t.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(ws){return t.Message.setProto3BytesField(this,2,ws)},et.object.extend(st,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(ws,vs,_s){_s||(_s="type.googleapis.com/"),_s.substr(-1)!="/"?this.setTypeUrl(_s+"/"+vs):this.setTypeUrl(_s+vs),this.setValue(ws)},proto.google.protobuf.Any.prototype.unpack=function(ws,vs){return this.getTypeName()==vs?ws(this.getValue_asU8()):null}}(any_pb)),any_pb}var any_pbExports=requireAny_pb();const google_protobuf_any_pb=getDefaultExportFromCjs$1(any_pbExports);var Tron_pb={},hasRequiredTron_pb;function requireTron_pb(){return hasRequiredTron_pb||(hasRequiredTron_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),ws=requireAny_pb();et.object.extend(proto,ws),et.exportSymbol("TronWebProto.Account",null,ms),et.exportSymbol("TronWebProto.Account.AccountResource",null,ms),et.exportSymbol("TronWebProto.Account.Frozen",null,ms),et.exportSymbol("TronWebProto.AccountId",null,ms),et.exportSymbol("TronWebProto.AccountType",null,ms),et.exportSymbol("TronWebProto.DelegatedResource",null,ms),et.exportSymbol("TronWebProto.Exchange",null,ms),et.exportSymbol("TronWebProto.Key",null,ms),et.exportSymbol("TronWebProto.MarketOrderDetail",null,ms),et.exportSymbol("TronWebProto.Permission",null,ms),et.exportSymbol("TronWebProto.Permission.PermissionType",null,ms),et.exportSymbol("TronWebProto.Proposal",null,ms),et.exportSymbol("TronWebProto.Proposal.State",null,ms),et.exportSymbol("TronWebProto.Transaction",null,ms),et.exportSymbol("TronWebProto.Transaction.Contract",null,ms),et.exportSymbol("TronWebProto.Transaction.Contract.ContractType",null,ms),et.exportSymbol("TronWebProto.Transaction.Result",null,ms),et.exportSymbol("TronWebProto.Transaction.Result.code",null,ms),et.exportSymbol("TronWebProto.Transaction.Result.contractResult",null,ms),et.exportSymbol("TronWebProto.Transaction.raw",null,ms),et.exportSymbol("TronWebProto.Vote",null,ms),et.exportSymbol("TronWebProto.Votes",null,ms),et.exportSymbol("TronWebProto.Witness",null,ms),et.exportSymbol("TronWebProto.authority",null,ms),TronWebProto.AccountId=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountId,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountId.displayName="TronWebProto.AccountId"),TronWebProto.Vote=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Vote,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Vote.displayName="TronWebProto.Vote"),TronWebProto.Proposal=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Proposal.repeatedFields_,null)},et.inherits(TronWebProto.Proposal,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Proposal.displayName="TronWebProto.Proposal"),TronWebProto.Exchange=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Exchange,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Exchange.displayName="TronWebProto.Exchange"),TronWebProto.Account=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Account.repeatedFields_,null)},et.inherits(TronWebProto.Account,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Account.displayName="TronWebProto.Account"),TronWebProto.Account.Frozen=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Account.Frozen,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Account.Frozen.displayName="TronWebProto.Account.Frozen"),TronWebProto.Account.AccountResource=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Account.AccountResource,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Account.AccountResource.displayName="TronWebProto.Account.AccountResource"),TronWebProto.Key=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Key,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Key.displayName="TronWebProto.Key"),TronWebProto.DelegatedResource=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.DelegatedResource,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.DelegatedResource.displayName="TronWebProto.DelegatedResource"),TronWebProto.authority=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.authority,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.authority.displayName="TronWebProto.authority"),TronWebProto.Permission=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Permission.repeatedFields_,null)},et.inherits(TronWebProto.Permission,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Permission.displayName="TronWebProto.Permission"),TronWebProto.Witness=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Witness,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Witness.displayName="TronWebProto.Witness"),TronWebProto.Votes=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Votes.repeatedFields_,null)},et.inherits(TronWebProto.Votes,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Votes.displayName="TronWebProto.Votes"),TronWebProto.MarketOrderDetail=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.MarketOrderDetail,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.MarketOrderDetail.displayName="TronWebProto.MarketOrderDetail"),TronWebProto.Transaction=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Transaction.repeatedFields_,null)},et.inherits(TronWebProto.Transaction,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Transaction.displayName="TronWebProto.Transaction"),TronWebProto.Transaction.Contract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.Transaction.Contract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Transaction.Contract.displayName="TronWebProto.Transaction.Contract"),TronWebProto.Transaction.Result=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Transaction.Result.repeatedFields_,null)},et.inherits(TronWebProto.Transaction.Result,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Transaction.Result.displayName="TronWebProto.Transaction.Result"),TronWebProto.Transaction.raw=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.Transaction.raw.repeatedFields_,null)},et.inherits(TronWebProto.Transaction.raw,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.Transaction.raw.displayName="TronWebProto.Transaction.raw"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountId.prototype.toObject=function(vs){return TronWebProto.AccountId.toObject(vs,this)},TronWebProto.AccountId.toObject=function(vs,_s){var Es={name:_s.getName_asB64(),address:_s.getAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.AccountId.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountId;return TronWebProto.AccountId.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountId.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setName(Ts);break;case 2:var Ts=_s.readBytes();vs.setAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountId.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountId.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountId.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getName_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es)},TronWebProto.AccountId.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountId.prototype.getName_asB64=function(){return t.Message.bytesAsB64(this.getName())},TronWebProto.AccountId.prototype.getName_asU8=function(){return t.Message.bytesAsU8(this.getName())},TronWebProto.AccountId.prototype.setName=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.AccountId.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountId.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.AccountId.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.AccountId.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Vote.prototype.toObject=function(vs){return TronWebProto.Vote.toObject(vs,this)},TronWebProto.Vote.toObject=function(vs,_s){var Es={voteAddress:_s.getVoteAddress_asB64(),voteCount:t.Message.getFieldWithDefault(_s,2,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Vote.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Vote;return TronWebProto.Vote.deserializeBinaryFromReader(Es,_s)},TronWebProto.Vote.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setVoteAddress(Ts);break;case 2:var Ts=_s.readInt64();vs.setVoteCount(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Vote.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Vote.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Vote.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getVoteAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getVoteCount(),Es!==0&&_s.writeInt64(2,Es)},TronWebProto.Vote.prototype.getVoteAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.Vote.prototype.getVoteAddress_asB64=function(){return t.Message.bytesAsB64(this.getVoteAddress())},TronWebProto.Vote.prototype.getVoteAddress_asU8=function(){return t.Message.bytesAsU8(this.getVoteAddress())},TronWebProto.Vote.prototype.setVoteAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.Vote.prototype.getVoteCount=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Vote.prototype.setVoteCount=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.Proposal.repeatedFields_=[6],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Proposal.prototype.toObject=function(vs){return TronWebProto.Proposal.toObject(vs,this)},TronWebProto.Proposal.toObject=function(vs,_s){var Es,Ts={proposalId:t.Message.getFieldWithDefault(_s,1,0),proposerAddress:_s.getProposerAddress_asB64(),parametersMap:(Es=_s.getParametersMap())?Es.toObject(vs,void 0):[],expirationTime:t.Message.getFieldWithDefault(_s,4,0),createTime:t.Message.getFieldWithDefault(_s,5,0),approvalsList:_s.getApprovalsList_asB64(),state:t.Message.getFieldWithDefault(_s,7,0)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.Proposal.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Proposal;return TronWebProto.Proposal.deserializeBinaryFromReader(Es,_s)},TronWebProto.Proposal.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setProposalId(Ts);break;case 2:var Ts=_s.readBytes();vs.setProposerAddress(Ts);break;case 3:var Ts=vs.getParametersMap();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readInt64,t.BinaryReader.prototype.readInt64,null,0,0)});break;case 4:var Ts=_s.readInt64();vs.setExpirationTime(Ts);break;case 5:var Ts=_s.readInt64();vs.setCreateTime(Ts);break;case 6:var Ts=_s.readBytes();vs.addApprovals(Ts);break;case 7:var Ts=_s.readEnum();vs.setState(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Proposal.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Proposal.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Proposal.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getProposalId(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getProposerAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getParametersMap(!0),Es&&Es.getLength()>0&&Es.serializeBinary(3,_s,t.BinaryWriter.prototype.writeInt64,t.BinaryWriter.prototype.writeInt64),Es=vs.getExpirationTime(),Es!==0&&_s.writeInt64(4,Es),Es=vs.getCreateTime(),Es!==0&&_s.writeInt64(5,Es),Es=vs.getApprovalsList_asU8(),Es.length>0&&_s.writeRepeatedBytes(6,Es),Es=vs.getState(),Es!==0&&_s.writeEnum(7,Es)},TronWebProto.Proposal.State={PENDING:0,DISAPPROVED:1,APPROVED:2,CANCELED:3},TronWebProto.Proposal.prototype.getProposalId=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Proposal.prototype.setProposalId=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.Proposal.prototype.getProposerAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.Proposal.prototype.getProposerAddress_asB64=function(){return t.Message.bytesAsB64(this.getProposerAddress())},TronWebProto.Proposal.prototype.getProposerAddress_asU8=function(){return t.Message.bytesAsU8(this.getProposerAddress())},TronWebProto.Proposal.prototype.setProposerAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.Proposal.prototype.getParametersMap=function(vs){return t.Message.getMapField(this,3,vs,null)},TronWebProto.Proposal.prototype.clearParametersMap=function(){return this.getParametersMap().clear(),this},TronWebProto.Proposal.prototype.getExpirationTime=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.Proposal.prototype.setExpirationTime=function(vs){return t.Message.setProto3IntField(this,4,vs)},TronWebProto.Proposal.prototype.getCreateTime=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.Proposal.prototype.setCreateTime=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.Proposal.prototype.getApprovalsList=function(){return t.Message.getRepeatedField(this,6)},TronWebProto.Proposal.prototype.getApprovalsList_asB64=function(){return t.Message.bytesListAsB64(this.getApprovalsList())},TronWebProto.Proposal.prototype.getApprovalsList_asU8=function(){return t.Message.bytesListAsU8(this.getApprovalsList())},TronWebProto.Proposal.prototype.setApprovalsList=function(vs){return t.Message.setField(this,6,vs||[])},TronWebProto.Proposal.prototype.addApprovals=function(vs,_s){return t.Message.addToRepeatedField(this,6,vs,_s)},TronWebProto.Proposal.prototype.clearApprovalsList=function(){return this.setApprovalsList([])},TronWebProto.Proposal.prototype.getState=function(){return t.Message.getFieldWithDefault(this,7,0)},TronWebProto.Proposal.prototype.setState=function(vs){return t.Message.setProto3EnumField(this,7,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Exchange.prototype.toObject=function(vs){return TronWebProto.Exchange.toObject(vs,this)},TronWebProto.Exchange.toObject=function(vs,_s){var Es={exchangeId:t.Message.getFieldWithDefault(_s,1,0),creatorAddress:_s.getCreatorAddress_asB64(),createTime:t.Message.getFieldWithDefault(_s,3,0),firstTokenId:_s.getFirstTokenId_asB64(),firstTokenBalance:t.Message.getFieldWithDefault(_s,7,0),secondTokenId:_s.getSecondTokenId_asB64(),secondTokenBalance:t.Message.getFieldWithDefault(_s,9,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Exchange.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Exchange;return TronWebProto.Exchange.deserializeBinaryFromReader(Es,_s)},TronWebProto.Exchange.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setExchangeId(Ts);break;case 2:var Ts=_s.readBytes();vs.setCreatorAddress(Ts);break;case 3:var Ts=_s.readInt64();vs.setCreateTime(Ts);break;case 6:var Ts=_s.readBytes();vs.setFirstTokenId(Ts);break;case 7:var Ts=_s.readInt64();vs.setFirstTokenBalance(Ts);break;case 8:var Ts=_s.readBytes();vs.setSecondTokenId(Ts);break;case 9:var Ts=_s.readInt64();vs.setSecondTokenBalance(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Exchange.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Exchange.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Exchange.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getExchangeId(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getCreatorAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getCreateTime(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getFirstTokenId_asU8(),Es.length>0&&_s.writeBytes(6,Es),Es=vs.getFirstTokenBalance(),Es!==0&&_s.writeInt64(7,Es),Es=vs.getSecondTokenId_asU8(),Es.length>0&&_s.writeBytes(8,Es),Es=vs.getSecondTokenBalance(),Es!==0&&_s.writeInt64(9,Es)},TronWebProto.Exchange.prototype.getExchangeId=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Exchange.prototype.setExchangeId=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.Exchange.prototype.getCreatorAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.Exchange.prototype.getCreatorAddress_asB64=function(){return t.Message.bytesAsB64(this.getCreatorAddress())},TronWebProto.Exchange.prototype.getCreatorAddress_asU8=function(){return t.Message.bytesAsU8(this.getCreatorAddress())},TronWebProto.Exchange.prototype.setCreatorAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.Exchange.prototype.getCreateTime=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.Exchange.prototype.setCreateTime=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.Exchange.prototype.getFirstTokenId=function(){return t.Message.getFieldWithDefault(this,6,"")},TronWebProto.Exchange.prototype.getFirstTokenId_asB64=function(){return t.Message.bytesAsB64(this.getFirstTokenId())},TronWebProto.Exchange.prototype.getFirstTokenId_asU8=function(){return t.Message.bytesAsU8(this.getFirstTokenId())},TronWebProto.Exchange.prototype.setFirstTokenId=function(vs){return t.Message.setProto3BytesField(this,6,vs)},TronWebProto.Exchange.prototype.getFirstTokenBalance=function(){return t.Message.getFieldWithDefault(this,7,0)},TronWebProto.Exchange.prototype.setFirstTokenBalance=function(vs){return t.Message.setProto3IntField(this,7,vs)},TronWebProto.Exchange.prototype.getSecondTokenId=function(){return t.Message.getFieldWithDefault(this,8,"")},TronWebProto.Exchange.prototype.getSecondTokenId_asB64=function(){return t.Message.bytesAsB64(this.getSecondTokenId())},TronWebProto.Exchange.prototype.getSecondTokenId_asU8=function(){return t.Message.bytesAsU8(this.getSecondTokenId())},TronWebProto.Exchange.prototype.setSecondTokenId=function(vs){return t.Message.setProto3BytesField(this,8,vs)},TronWebProto.Exchange.prototype.getSecondTokenBalance=function(){return t.Message.getFieldWithDefault(this,9,0)},TronWebProto.Exchange.prototype.setSecondTokenBalance=function(vs){return t.Message.setProto3IntField(this,9,vs)},TronWebProto.Account.repeatedFields_=[5,7,16,33],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Account.prototype.toObject=function(vs){return TronWebProto.Account.toObject(vs,this)},TronWebProto.Account.toObject=function(vs,_s){var Es,Ts={accountName:_s.getAccountName_asB64(),type:t.Message.getFieldWithDefault(_s,2,0),address:_s.getAddress_asB64(),balance:t.Message.getFieldWithDefault(_s,4,0),votesList:t.Message.toObjectList(_s.getVotesList(),TronWebProto.Vote.toObject,vs),assetMap:(Es=_s.getAssetMap())?Es.toObject(vs,void 0):[],assetv2Map:(Es=_s.getAssetv2Map())?Es.toObject(vs,void 0):[],frozenList:t.Message.toObjectList(_s.getFrozenList(),TronWebProto.Account.Frozen.toObject,vs),netUsage:t.Message.getFieldWithDefault(_s,8,0),acquiredDelegatedFrozenBalanceForBandwidth:t.Message.getFieldWithDefault(_s,41,0),delegatedFrozenBalanceForBandwidth:t.Message.getFieldWithDefault(_s,42,0),oldTronPower:t.Message.getFieldWithDefault(_s,46,0),tronPower:(Es=_s.getTronPower())&&TronWebProto.Account.Frozen.toObject(vs,Es),assetOptimized:t.Message.getBooleanFieldWithDefault(_s,60,!1),createTime:t.Message.getFieldWithDefault(_s,9,0),latestOprationTime:t.Message.getFieldWithDefault(_s,10,0),allowance:t.Message.getFieldWithDefault(_s,11,0),latestWithdrawTime:t.Message.getFieldWithDefault(_s,12,0),code:_s.getCode_asB64(),isWitness:t.Message.getBooleanFieldWithDefault(_s,14,!1),isCommittee:t.Message.getBooleanFieldWithDefault(_s,15,!1),frozenSupplyList:t.Message.toObjectList(_s.getFrozenSupplyList(),TronWebProto.Account.Frozen.toObject,vs),assetIssuedName:_s.getAssetIssuedName_asB64(),assetIssuedId:_s.getAssetIssuedId_asB64(),latestAssetOperationTimeMap:(Es=_s.getLatestAssetOperationTimeMap())?Es.toObject(vs,void 0):[],latestAssetOperationTimev2Map:(Es=_s.getLatestAssetOperationTimev2Map())?Es.toObject(vs,void 0):[],freeNetUsage:t.Message.getFieldWithDefault(_s,19,0),freeAssetNetUsageMap:(Es=_s.getFreeAssetNetUsageMap())?Es.toObject(vs,void 0):[],freeAssetNetUsagev2Map:(Es=_s.getFreeAssetNetUsagev2Map())?Es.toObject(vs,void 0):[],latestConsumeTime:t.Message.getFieldWithDefault(_s,21,0),latestConsumeFreeTime:t.Message.getFieldWithDefault(_s,22,0),accountId:_s.getAccountId_asB64(),accountResource:(Es=_s.getAccountResource())&&TronWebProto.Account.AccountResource.toObject(vs,Es),codehash:_s.getCodehash_asB64(),ownerPermission:(Es=_s.getOwnerPermission())&&TronWebProto.Permission.toObject(vs,Es),witnessPermission:(Es=_s.getWitnessPermission())&&TronWebProto.Permission.toObject(vs,Es),activePermissionList:t.Message.toObjectList(_s.getActivePermissionList(),TronWebProto.Permission.toObject,vs)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.Account.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Account;return TronWebProto.Account.deserializeBinaryFromReader(Es,_s)},TronWebProto.Account.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAccountName(Ts);break;case 2:var Ts=_s.readEnum();vs.setType(Ts);break;case 3:var Ts=_s.readBytes();vs.setAddress(Ts);break;case 4:var Ts=_s.readInt64();vs.setBalance(Ts);break;case 5:var Ts=new TronWebProto.Vote;_s.readMessage(Ts,TronWebProto.Vote.deserializeBinaryFromReader),vs.addVotes(Ts);break;case 6:var Ts=vs.getAssetMap();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readInt64,null,"",0)});break;case 56:var Ts=vs.getAssetv2Map();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readInt64,null,"",0)});break;case 7:var Ts=new TronWebProto.Account.Frozen;_s.readMessage(Ts,TronWebProto.Account.Frozen.deserializeBinaryFromReader),vs.addFrozen(Ts);break;case 8:var Ts=_s.readInt64();vs.setNetUsage(Ts);break;case 41:var Ts=_s.readInt64();vs.setAcquiredDelegatedFrozenBalanceForBandwidth(Ts);break;case 42:var Ts=_s.readInt64();vs.setDelegatedFrozenBalanceForBandwidth(Ts);break;case 46:var Ts=_s.readInt64();vs.setOldTronPower(Ts);break;case 47:var Ts=new TronWebProto.Account.Frozen;_s.readMessage(Ts,TronWebProto.Account.Frozen.deserializeBinaryFromReader),vs.setTronPower(Ts);break;case 60:var Ts=_s.readBool();vs.setAssetOptimized(Ts);break;case 9:var Ts=_s.readInt64();vs.setCreateTime(Ts);break;case 10:var Ts=_s.readInt64();vs.setLatestOprationTime(Ts);break;case 11:var Ts=_s.readInt64();vs.setAllowance(Ts);break;case 12:var Ts=_s.readInt64();vs.setLatestWithdrawTime(Ts);break;case 13:var Ts=_s.readBytes();vs.setCode(Ts);break;case 14:var Ts=_s.readBool();vs.setIsWitness(Ts);break;case 15:var Ts=_s.readBool();vs.setIsCommittee(Ts);break;case 16:var Ts=new TronWebProto.Account.Frozen;_s.readMessage(Ts,TronWebProto.Account.Frozen.deserializeBinaryFromReader),vs.addFrozenSupply(Ts);break;case 17:var Ts=_s.readBytes();vs.setAssetIssuedName(Ts);break;case 57:var Ts=_s.readBytes();vs.setAssetIssuedId(Ts);break;case 18:var Ts=vs.getLatestAssetOperationTimeMap();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readInt64,null,"",0)});break;case 58:var Ts=vs.getLatestAssetOperationTimev2Map();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readInt64,null,"",0)});break;case 19:var Ts=_s.readInt64();vs.setFreeNetUsage(Ts);break;case 20:var Ts=vs.getFreeAssetNetUsageMap();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readInt64,null,"",0)});break;case 59:var Ts=vs.getFreeAssetNetUsagev2Map();_s.readMessage(Ts,function(Ss,Rs){t.Map.deserializeBinary(Ss,Rs,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readInt64,null,"",0)});break;case 21:var Ts=_s.readInt64();vs.setLatestConsumeTime(Ts);break;case 22:var Ts=_s.readInt64();vs.setLatestConsumeFreeTime(Ts);break;case 23:var Ts=_s.readBytes();vs.setAccountId(Ts);break;case 26:var Ts=new TronWebProto.Account.AccountResource;_s.readMessage(Ts,TronWebProto.Account.AccountResource.deserializeBinaryFromReader),vs.setAccountResource(Ts);break;case 30:var Ts=_s.readBytes();vs.setCodehash(Ts);break;case 31:var Ts=new TronWebProto.Permission;_s.readMessage(Ts,TronWebProto.Permission.deserializeBinaryFromReader),vs.setOwnerPermission(Ts);break;case 32:var Ts=new TronWebProto.Permission;_s.readMessage(Ts,TronWebProto.Permission.deserializeBinaryFromReader),vs.setWitnessPermission(Ts);break;case 33:var Ts=new TronWebProto.Permission;_s.readMessage(Ts,TronWebProto.Permission.deserializeBinaryFromReader),vs.addActivePermission(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Account.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Account.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Account.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAccountName_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getType(),Es!==0&&_s.writeEnum(2,Es),Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(3,Es),Es=vs.getBalance(),Es!==0&&_s.writeInt64(4,Es),Es=vs.getVotesList(),Es.length>0&&_s.writeRepeatedMessage(5,Es,TronWebProto.Vote.serializeBinaryToWriter),Es=vs.getAssetMap(!0),Es&&Es.getLength()>0&&Es.serializeBinary(6,_s,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeInt64),Es=vs.getAssetv2Map(!0),Es&&Es.getLength()>0&&Es.serializeBinary(56,_s,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeInt64),Es=vs.getFrozenList(),Es.length>0&&_s.writeRepeatedMessage(7,Es,TronWebProto.Account.Frozen.serializeBinaryToWriter),Es=vs.getNetUsage(),Es!==0&&_s.writeInt64(8,Es),Es=vs.getAcquiredDelegatedFrozenBalanceForBandwidth(),Es!==0&&_s.writeInt64(41,Es),Es=vs.getDelegatedFrozenBalanceForBandwidth(),Es!==0&&_s.writeInt64(42,Es),Es=vs.getOldTronPower(),Es!==0&&_s.writeInt64(46,Es),Es=vs.getTronPower(),Es!=null&&_s.writeMessage(47,Es,TronWebProto.Account.Frozen.serializeBinaryToWriter),Es=vs.getAssetOptimized(),Es&&_s.writeBool(60,Es),Es=vs.getCreateTime(),Es!==0&&_s.writeInt64(9,Es),Es=vs.getLatestOprationTime(),Es!==0&&_s.writeInt64(10,Es),Es=vs.getAllowance(),Es!==0&&_s.writeInt64(11,Es),Es=vs.getLatestWithdrawTime(),Es!==0&&_s.writeInt64(12,Es),Es=vs.getCode_asU8(),Es.length>0&&_s.writeBytes(13,Es),Es=vs.getIsWitness(),Es&&_s.writeBool(14,Es),Es=vs.getIsCommittee(),Es&&_s.writeBool(15,Es),Es=vs.getFrozenSupplyList(),Es.length>0&&_s.writeRepeatedMessage(16,Es,TronWebProto.Account.Frozen.serializeBinaryToWriter),Es=vs.getAssetIssuedName_asU8(),Es.length>0&&_s.writeBytes(17,Es),Es=vs.getAssetIssuedId_asU8(),Es.length>0&&_s.writeBytes(57,Es),Es=vs.getLatestAssetOperationTimeMap(!0),Es&&Es.getLength()>0&&Es.serializeBinary(18,_s,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeInt64),Es=vs.getLatestAssetOperationTimev2Map(!0),Es&&Es.getLength()>0&&Es.serializeBinary(58,_s,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeInt64),Es=vs.getFreeNetUsage(),Es!==0&&_s.writeInt64(19,Es),Es=vs.getFreeAssetNetUsageMap(!0),Es&&Es.getLength()>0&&Es.serializeBinary(20,_s,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeInt64),Es=vs.getFreeAssetNetUsagev2Map(!0),Es&&Es.getLength()>0&&Es.serializeBinary(59,_s,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeInt64),Es=vs.getLatestConsumeTime(),Es!==0&&_s.writeInt64(21,Es),Es=vs.getLatestConsumeFreeTime(),Es!==0&&_s.writeInt64(22,Es),Es=vs.getAccountId_asU8(),Es.length>0&&_s.writeBytes(23,Es),Es=vs.getAccountResource(),Es!=null&&_s.writeMessage(26,Es,TronWebProto.Account.AccountResource.serializeBinaryToWriter),Es=vs.getCodehash_asU8(),Es.length>0&&_s.writeBytes(30,Es),Es=vs.getOwnerPermission(),Es!=null&&_s.writeMessage(31,Es,TronWebProto.Permission.serializeBinaryToWriter),Es=vs.getWitnessPermission(),Es!=null&&_s.writeMessage(32,Es,TronWebProto.Permission.serializeBinaryToWriter),Es=vs.getActivePermissionList(),Es.length>0&&_s.writeRepeatedMessage(33,Es,TronWebProto.Permission.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Account.Frozen.prototype.toObject=function(vs){return TronWebProto.Account.Frozen.toObject(vs,this)},TronWebProto.Account.Frozen.toObject=function(vs,_s){var Es={frozenBalance:t.Message.getFieldWithDefault(_s,1,0),expireTime:t.Message.getFieldWithDefault(_s,2,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Account.Frozen.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Account.Frozen;return TronWebProto.Account.Frozen.deserializeBinaryFromReader(Es,_s)},TronWebProto.Account.Frozen.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setFrozenBalance(Ts);break;case 2:var Ts=_s.readInt64();vs.setExpireTime(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Account.Frozen.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Account.Frozen.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Account.Frozen.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getFrozenBalance(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getExpireTime(),Es!==0&&_s.writeInt64(2,Es)},TronWebProto.Account.Frozen.prototype.getFrozenBalance=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Account.Frozen.prototype.setFrozenBalance=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.Account.Frozen.prototype.getExpireTime=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Account.Frozen.prototype.setExpireTime=function(vs){return t.Message.setProto3IntField(this,2,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Account.AccountResource.prototype.toObject=function(vs){return TronWebProto.Account.AccountResource.toObject(vs,this)},TronWebProto.Account.AccountResource.toObject=function(vs,_s){var Es,Ts={energyUsage:t.Message.getFieldWithDefault(_s,1,0),frozenBalanceForEnergy:(Es=_s.getFrozenBalanceForEnergy())&&TronWebProto.Account.Frozen.toObject(vs,Es),latestConsumeTimeForEnergy:t.Message.getFieldWithDefault(_s,3,0),acquiredDelegatedFrozenBalanceForEnergy:t.Message.getFieldWithDefault(_s,4,0),delegatedFrozenBalanceForEnergy:t.Message.getFieldWithDefault(_s,5,0),storageLimit:t.Message.getFieldWithDefault(_s,6,0),storageUsage:t.Message.getFieldWithDefault(_s,7,0),latestExchangeStorageTime:t.Message.getFieldWithDefault(_s,8,0)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.Account.AccountResource.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Account.AccountResource;return TronWebProto.Account.AccountResource.deserializeBinaryFromReader(Es,_s)},TronWebProto.Account.AccountResource.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setEnergyUsage(Ts);break;case 2:var Ts=new TronWebProto.Account.Frozen;_s.readMessage(Ts,TronWebProto.Account.Frozen.deserializeBinaryFromReader),vs.setFrozenBalanceForEnergy(Ts);break;case 3:var Ts=_s.readInt64();vs.setLatestConsumeTimeForEnergy(Ts);break;case 4:var Ts=_s.readInt64();vs.setAcquiredDelegatedFrozenBalanceForEnergy(Ts);break;case 5:var Ts=_s.readInt64();vs.setDelegatedFrozenBalanceForEnergy(Ts);break;case 6:var Ts=_s.readInt64();vs.setStorageLimit(Ts);break;case 7:var Ts=_s.readInt64();vs.setStorageUsage(Ts);break;case 8:var Ts=_s.readInt64();vs.setLatestExchangeStorageTime(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Account.AccountResource.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Account.AccountResource.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Account.AccountResource.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getEnergyUsage(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getFrozenBalanceForEnergy(),Es!=null&&_s.writeMessage(2,Es,TronWebProto.Account.Frozen.serializeBinaryToWriter),Es=vs.getLatestConsumeTimeForEnergy(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getAcquiredDelegatedFrozenBalanceForEnergy(),Es!==0&&_s.writeInt64(4,Es),Es=vs.getDelegatedFrozenBalanceForEnergy(),Es!==0&&_s.writeInt64(5,Es),Es=vs.getStorageLimit(),Es!==0&&_s.writeInt64(6,Es),Es=vs.getStorageUsage(),Es!==0&&_s.writeInt64(7,Es),Es=vs.getLatestExchangeStorageTime(),Es!==0&&_s.writeInt64(8,Es)},TronWebProto.Account.AccountResource.prototype.getEnergyUsage=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Account.AccountResource.prototype.setEnergyUsage=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.Account.AccountResource.prototype.getFrozenBalanceForEnergy=function(){return t.Message.getWrapperField(this,TronWebProto.Account.Frozen,2)},TronWebProto.Account.AccountResource.prototype.setFrozenBalanceForEnergy=function(vs){return t.Message.setWrapperField(this,2,vs)},TronWebProto.Account.AccountResource.prototype.clearFrozenBalanceForEnergy=function(){return this.setFrozenBalanceForEnergy(void 0)},TronWebProto.Account.AccountResource.prototype.hasFrozenBalanceForEnergy=function(){return t.Message.getField(this,2)!=null},TronWebProto.Account.AccountResource.prototype.getLatestConsumeTimeForEnergy=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.Account.AccountResource.prototype.setLatestConsumeTimeForEnergy=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.Account.AccountResource.prototype.getAcquiredDelegatedFrozenBalanceForEnergy=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.Account.AccountResource.prototype.setAcquiredDelegatedFrozenBalanceForEnergy=function(vs){return t.Message.setProto3IntField(this,4,vs)},TronWebProto.Account.AccountResource.prototype.getDelegatedFrozenBalanceForEnergy=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.Account.AccountResource.prototype.setDelegatedFrozenBalanceForEnergy=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.Account.AccountResource.prototype.getStorageLimit=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.Account.AccountResource.prototype.setStorageLimit=function(vs){return t.Message.setProto3IntField(this,6,vs)},TronWebProto.Account.AccountResource.prototype.getStorageUsage=function(){return t.Message.getFieldWithDefault(this,7,0)},TronWebProto.Account.AccountResource.prototype.setStorageUsage=function(vs){return t.Message.setProto3IntField(this,7,vs)},TronWebProto.Account.AccountResource.prototype.getLatestExchangeStorageTime=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.Account.AccountResource.prototype.setLatestExchangeStorageTime=function(vs){return t.Message.setProto3IntField(this,8,vs)},TronWebProto.Account.prototype.getAccountName=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.Account.prototype.getAccountName_asB64=function(){return t.Message.bytesAsB64(this.getAccountName())},TronWebProto.Account.prototype.getAccountName_asU8=function(){return t.Message.bytesAsU8(this.getAccountName())},TronWebProto.Account.prototype.setAccountName=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.Account.prototype.getType=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Account.prototype.setType=function(vs){return t.Message.setProto3EnumField(this,2,vs)},TronWebProto.Account.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.Account.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.Account.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.Account.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,3,vs)},TronWebProto.Account.prototype.getBalance=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.Account.prototype.setBalance=function(vs){return t.Message.setProto3IntField(this,4,vs)},TronWebProto.Account.prototype.getVotesList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Vote,5)},TronWebProto.Account.prototype.setVotesList=function(vs){return t.Message.setRepeatedWrapperField(this,5,vs)},TronWebProto.Account.prototype.addVotes=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,5,vs,TronWebProto.Vote,_s)},TronWebProto.Account.prototype.clearVotesList=function(){return this.setVotesList([])},TronWebProto.Account.prototype.getAssetMap=function(vs){return t.Message.getMapField(this,6,vs,null)},TronWebProto.Account.prototype.clearAssetMap=function(){return this.getAssetMap().clear(),this},TronWebProto.Account.prototype.getAssetv2Map=function(vs){return t.Message.getMapField(this,56,vs,null)},TronWebProto.Account.prototype.clearAssetv2Map=function(){return this.getAssetv2Map().clear(),this},TronWebProto.Account.prototype.getFrozenList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Account.Frozen,7)},TronWebProto.Account.prototype.setFrozenList=function(vs){return t.Message.setRepeatedWrapperField(this,7,vs)},TronWebProto.Account.prototype.addFrozen=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,7,vs,TronWebProto.Account.Frozen,_s)},TronWebProto.Account.prototype.clearFrozenList=function(){return this.setFrozenList([])},TronWebProto.Account.prototype.getNetUsage=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.Account.prototype.setNetUsage=function(vs){return t.Message.setProto3IntField(this,8,vs)},TronWebProto.Account.prototype.getAcquiredDelegatedFrozenBalanceForBandwidth=function(){return t.Message.getFieldWithDefault(this,41,0)},TronWebProto.Account.prototype.setAcquiredDelegatedFrozenBalanceForBandwidth=function(vs){return t.Message.setProto3IntField(this,41,vs)},TronWebProto.Account.prototype.getDelegatedFrozenBalanceForBandwidth=function(){return t.Message.getFieldWithDefault(this,42,0)},TronWebProto.Account.prototype.setDelegatedFrozenBalanceForBandwidth=function(vs){return t.Message.setProto3IntField(this,42,vs)},TronWebProto.Account.prototype.getOldTronPower=function(){return t.Message.getFieldWithDefault(this,46,0)},TronWebProto.Account.prototype.setOldTronPower=function(vs){return t.Message.setProto3IntField(this,46,vs)},TronWebProto.Account.prototype.getTronPower=function(){return t.Message.getWrapperField(this,TronWebProto.Account.Frozen,47)},TronWebProto.Account.prototype.setTronPower=function(vs){return t.Message.setWrapperField(this,47,vs)},TronWebProto.Account.prototype.clearTronPower=function(){return this.setTronPower(void 0)},TronWebProto.Account.prototype.hasTronPower=function(){return t.Message.getField(this,47)!=null},TronWebProto.Account.prototype.getAssetOptimized=function(){return t.Message.getBooleanFieldWithDefault(this,60,!1)},TronWebProto.Account.prototype.setAssetOptimized=function(vs){return t.Message.setProto3BooleanField(this,60,vs)},TronWebProto.Account.prototype.getCreateTime=function(){return t.Message.getFieldWithDefault(this,9,0)},TronWebProto.Account.prototype.setCreateTime=function(vs){return t.Message.setProto3IntField(this,9,vs)},TronWebProto.Account.prototype.getLatestOprationTime=function(){return t.Message.getFieldWithDefault(this,10,0)},TronWebProto.Account.prototype.setLatestOprationTime=function(vs){return t.Message.setProto3IntField(this,10,vs)},TronWebProto.Account.prototype.getAllowance=function(){return t.Message.getFieldWithDefault(this,11,0)},TronWebProto.Account.prototype.setAllowance=function(vs){return t.Message.setProto3IntField(this,11,vs)},TronWebProto.Account.prototype.getLatestWithdrawTime=function(){return t.Message.getFieldWithDefault(this,12,0)},TronWebProto.Account.prototype.setLatestWithdrawTime=function(vs){return t.Message.setProto3IntField(this,12,vs)},TronWebProto.Account.prototype.getCode=function(){return t.Message.getFieldWithDefault(this,13,"")},TronWebProto.Account.prototype.getCode_asB64=function(){return t.Message.bytesAsB64(this.getCode())},TronWebProto.Account.prototype.getCode_asU8=function(){return t.Message.bytesAsU8(this.getCode())},TronWebProto.Account.prototype.setCode=function(vs){return t.Message.setProto3BytesField(this,13,vs)},TronWebProto.Account.prototype.getIsWitness=function(){return t.Message.getBooleanFieldWithDefault(this,14,!1)},TronWebProto.Account.prototype.setIsWitness=function(vs){return t.Message.setProto3BooleanField(this,14,vs)},TronWebProto.Account.prototype.getIsCommittee=function(){return t.Message.getBooleanFieldWithDefault(this,15,!1)},TronWebProto.Account.prototype.setIsCommittee=function(vs){return t.Message.setProto3BooleanField(this,15,vs)},TronWebProto.Account.prototype.getFrozenSupplyList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Account.Frozen,16)},TronWebProto.Account.prototype.setFrozenSupplyList=function(vs){return t.Message.setRepeatedWrapperField(this,16,vs)},TronWebProto.Account.prototype.addFrozenSupply=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,16,vs,TronWebProto.Account.Frozen,_s)},TronWebProto.Account.prototype.clearFrozenSupplyList=function(){return this.setFrozenSupplyList([])},TronWebProto.Account.prototype.getAssetIssuedName=function(){return t.Message.getFieldWithDefault(this,17,"")},TronWebProto.Account.prototype.getAssetIssuedName_asB64=function(){return t.Message.bytesAsB64(this.getAssetIssuedName())},TronWebProto.Account.prototype.getAssetIssuedName_asU8=function(){return t.Message.bytesAsU8(this.getAssetIssuedName())},TronWebProto.Account.prototype.setAssetIssuedName=function(vs){return t.Message.setProto3BytesField(this,17,vs)},TronWebProto.Account.prototype.getAssetIssuedId=function(){return t.Message.getFieldWithDefault(this,57,"")},TronWebProto.Account.prototype.getAssetIssuedId_asB64=function(){return t.Message.bytesAsB64(this.getAssetIssuedId())},TronWebProto.Account.prototype.getAssetIssuedId_asU8=function(){return t.Message.bytesAsU8(this.getAssetIssuedId())},TronWebProto.Account.prototype.setAssetIssuedId=function(vs){return t.Message.setProto3BytesField(this,57,vs)},TronWebProto.Account.prototype.getLatestAssetOperationTimeMap=function(vs){return t.Message.getMapField(this,18,vs,null)},TronWebProto.Account.prototype.clearLatestAssetOperationTimeMap=function(){return this.getLatestAssetOperationTimeMap().clear(),this},TronWebProto.Account.prototype.getLatestAssetOperationTimev2Map=function(vs){return t.Message.getMapField(this,58,vs,null)},TronWebProto.Account.prototype.clearLatestAssetOperationTimev2Map=function(){return this.getLatestAssetOperationTimev2Map().clear(),this},TronWebProto.Account.prototype.getFreeNetUsage=function(){return t.Message.getFieldWithDefault(this,19,0)},TronWebProto.Account.prototype.setFreeNetUsage=function(vs){return t.Message.setProto3IntField(this,19,vs)},TronWebProto.Account.prototype.getFreeAssetNetUsageMap=function(vs){return t.Message.getMapField(this,20,vs,null)},TronWebProto.Account.prototype.clearFreeAssetNetUsageMap=function(){return this.getFreeAssetNetUsageMap().clear(),this},TronWebProto.Account.prototype.getFreeAssetNetUsagev2Map=function(vs){return t.Message.getMapField(this,59,vs,null)},TronWebProto.Account.prototype.clearFreeAssetNetUsagev2Map=function(){return this.getFreeAssetNetUsagev2Map().clear(),this},TronWebProto.Account.prototype.getLatestConsumeTime=function(){return t.Message.getFieldWithDefault(this,21,0)},TronWebProto.Account.prototype.setLatestConsumeTime=function(vs){return t.Message.setProto3IntField(this,21,vs)},TronWebProto.Account.prototype.getLatestConsumeFreeTime=function(){return t.Message.getFieldWithDefault(this,22,0)},TronWebProto.Account.prototype.setLatestConsumeFreeTime=function(vs){return t.Message.setProto3IntField(this,22,vs)},TronWebProto.Account.prototype.getAccountId=function(){return t.Message.getFieldWithDefault(this,23,"")},TronWebProto.Account.prototype.getAccountId_asB64=function(){return t.Message.bytesAsB64(this.getAccountId())},TronWebProto.Account.prototype.getAccountId_asU8=function(){return t.Message.bytesAsU8(this.getAccountId())},TronWebProto.Account.prototype.setAccountId=function(vs){return t.Message.setProto3BytesField(this,23,vs)},TronWebProto.Account.prototype.getAccountResource=function(){return t.Message.getWrapperField(this,TronWebProto.Account.AccountResource,26)},TronWebProto.Account.prototype.setAccountResource=function(vs){return t.Message.setWrapperField(this,26,vs)},TronWebProto.Account.prototype.clearAccountResource=function(){return this.setAccountResource(void 0)},TronWebProto.Account.prototype.hasAccountResource=function(){return t.Message.getField(this,26)!=null},TronWebProto.Account.prototype.getCodehash=function(){return t.Message.getFieldWithDefault(this,30,"")},TronWebProto.Account.prototype.getCodehash_asB64=function(){return t.Message.bytesAsB64(this.getCodehash())},TronWebProto.Account.prototype.getCodehash_asU8=function(){return t.Message.bytesAsU8(this.getCodehash())},TronWebProto.Account.prototype.setCodehash=function(vs){return t.Message.setProto3BytesField(this,30,vs)},TronWebProto.Account.prototype.getOwnerPermission=function(){return t.Message.getWrapperField(this,TronWebProto.Permission,31)},TronWebProto.Account.prototype.setOwnerPermission=function(vs){return t.Message.setWrapperField(this,31,vs)},TronWebProto.Account.prototype.clearOwnerPermission=function(){return this.setOwnerPermission(void 0)},TronWebProto.Account.prototype.hasOwnerPermission=function(){return t.Message.getField(this,31)!=null},TronWebProto.Account.prototype.getWitnessPermission=function(){return t.Message.getWrapperField(this,TronWebProto.Permission,32)},TronWebProto.Account.prototype.setWitnessPermission=function(vs){return t.Message.setWrapperField(this,32,vs)},TronWebProto.Account.prototype.clearWitnessPermission=function(){return this.setWitnessPermission(void 0)},TronWebProto.Account.prototype.hasWitnessPermission=function(){return t.Message.getField(this,32)!=null},TronWebProto.Account.prototype.getActivePermissionList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Permission,33)},TronWebProto.Account.prototype.setActivePermissionList=function(vs){return t.Message.setRepeatedWrapperField(this,33,vs)},TronWebProto.Account.prototype.addActivePermission=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,33,vs,TronWebProto.Permission,_s)},TronWebProto.Account.prototype.clearActivePermissionList=function(){return this.setActivePermissionList([])},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Key.prototype.toObject=function(vs){return TronWebProto.Key.toObject(vs,this)},TronWebProto.Key.toObject=function(vs,_s){var Es={address:_s.getAddress_asB64(),weight:t.Message.getFieldWithDefault(_s,2,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Key.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Key;return TronWebProto.Key.deserializeBinaryFromReader(Es,_s)},TronWebProto.Key.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAddress(Ts);break;case 2:var Ts=_s.readInt64();vs.setWeight(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Key.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Key.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Key.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getWeight(),Es!==0&&_s.writeInt64(2,Es)},TronWebProto.Key.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.Key.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.Key.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.Key.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.Key.prototype.getWeight=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Key.prototype.setWeight=function(vs){return t.Message.setProto3IntField(this,2,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.DelegatedResource.prototype.toObject=function(vs){return TronWebProto.DelegatedResource.toObject(vs,this)},TronWebProto.DelegatedResource.toObject=function(vs,_s){var Es={from:_s.getFrom_asB64(),to:_s.getTo_asB64(),frozenBalanceForBandwidth:t.Message.getFieldWithDefault(_s,3,0),frozenBalanceForEnergy:t.Message.getFieldWithDefault(_s,4,0),expireTimeForBandwidth:t.Message.getFieldWithDefault(_s,5,0),expireTimeForEnergy:t.Message.getFieldWithDefault(_s,6,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.DelegatedResource.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.DelegatedResource;return TronWebProto.DelegatedResource.deserializeBinaryFromReader(Es,_s)},TronWebProto.DelegatedResource.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setFrom(Ts);break;case 2:var Ts=_s.readBytes();vs.setTo(Ts);break;case 3:var Ts=_s.readInt64();vs.setFrozenBalanceForBandwidth(Ts);break;case 4:var Ts=_s.readInt64();vs.setFrozenBalanceForEnergy(Ts);break;case 5:var Ts=_s.readInt64();vs.setExpireTimeForBandwidth(Ts);break;case 6:var Ts=_s.readInt64();vs.setExpireTimeForEnergy(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.DelegatedResource.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.DelegatedResource.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.DelegatedResource.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getFrom_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getTo_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getFrozenBalanceForBandwidth(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getFrozenBalanceForEnergy(),Es!==0&&_s.writeInt64(4,Es),Es=vs.getExpireTimeForBandwidth(),Es!==0&&_s.writeInt64(5,Es),Es=vs.getExpireTimeForEnergy(),Es!==0&&_s.writeInt64(6,Es)},TronWebProto.DelegatedResource.prototype.getFrom=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.DelegatedResource.prototype.getFrom_asB64=function(){return t.Message.bytesAsB64(this.getFrom())},TronWebProto.DelegatedResource.prototype.getFrom_asU8=function(){return t.Message.bytesAsU8(this.getFrom())},TronWebProto.DelegatedResource.prototype.setFrom=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.DelegatedResource.prototype.getTo=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.DelegatedResource.prototype.getTo_asB64=function(){return t.Message.bytesAsB64(this.getTo())},TronWebProto.DelegatedResource.prototype.getTo_asU8=function(){return t.Message.bytesAsU8(this.getTo())},TronWebProto.DelegatedResource.prototype.setTo=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.DelegatedResource.prototype.getFrozenBalanceForBandwidth=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.DelegatedResource.prototype.setFrozenBalanceForBandwidth=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.DelegatedResource.prototype.getFrozenBalanceForEnergy=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.DelegatedResource.prototype.setFrozenBalanceForEnergy=function(vs){return t.Message.setProto3IntField(this,4,vs)},TronWebProto.DelegatedResource.prototype.getExpireTimeForBandwidth=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.DelegatedResource.prototype.setExpireTimeForBandwidth=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.DelegatedResource.prototype.getExpireTimeForEnergy=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.DelegatedResource.prototype.setExpireTimeForEnergy=function(vs){return t.Message.setProto3IntField(this,6,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.authority.prototype.toObject=function(vs){return TronWebProto.authority.toObject(vs,this)},TronWebProto.authority.toObject=function(vs,_s){var Es,Ts={account:(Es=_s.getAccount())&&TronWebProto.AccountId.toObject(vs,Es),permissionName:_s.getPermissionName_asB64()};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.authority.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.authority;return TronWebProto.authority.deserializeBinaryFromReader(Es,_s)},TronWebProto.authority.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=new TronWebProto.AccountId;_s.readMessage(Ts,TronWebProto.AccountId.deserializeBinaryFromReader),vs.setAccount(Ts);break;case 2:var Ts=_s.readBytes();vs.setPermissionName(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.authority.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.authority.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.authority.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAccount(),Es!=null&&_s.writeMessage(1,Es,TronWebProto.AccountId.serializeBinaryToWriter),Es=vs.getPermissionName_asU8(),Es.length>0&&_s.writeBytes(2,Es)},TronWebProto.authority.prototype.getAccount=function(){return t.Message.getWrapperField(this,TronWebProto.AccountId,1)},TronWebProto.authority.prototype.setAccount=function(vs){return t.Message.setWrapperField(this,1,vs)},TronWebProto.authority.prototype.clearAccount=function(){return this.setAccount(void 0)},TronWebProto.authority.prototype.hasAccount=function(){return t.Message.getField(this,1)!=null},TronWebProto.authority.prototype.getPermissionName=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.authority.prototype.getPermissionName_asB64=function(){return t.Message.bytesAsB64(this.getPermissionName())},TronWebProto.authority.prototype.getPermissionName_asU8=function(){return t.Message.bytesAsU8(this.getPermissionName())},TronWebProto.authority.prototype.setPermissionName=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.Permission.repeatedFields_=[7],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Permission.prototype.toObject=function(vs){return TronWebProto.Permission.toObject(vs,this)},TronWebProto.Permission.toObject=function(vs,_s){var Es={type:t.Message.getFieldWithDefault(_s,1,0),id:t.Message.getFieldWithDefault(_s,2,0),permissionName:t.Message.getFieldWithDefault(_s,3,""),threshold:t.Message.getFieldWithDefault(_s,4,0),parentId:t.Message.getFieldWithDefault(_s,5,0),operations:_s.getOperations_asB64(),keysList:t.Message.toObjectList(_s.getKeysList(),TronWebProto.Key.toObject,vs)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Permission.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Permission;return TronWebProto.Permission.deserializeBinaryFromReader(Es,_s)},TronWebProto.Permission.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readEnum();vs.setType(Ts);break;case 2:var Ts=_s.readInt32();vs.setId(Ts);break;case 3:var Ts=_s.readString();vs.setPermissionName(Ts);break;case 4:var Ts=_s.readInt64();vs.setThreshold(Ts);break;case 5:var Ts=_s.readInt32();vs.setParentId(Ts);break;case 6:var Ts=_s.readBytes();vs.setOperations(Ts);break;case 7:var Ts=new TronWebProto.Key;_s.readMessage(Ts,TronWebProto.Key.deserializeBinaryFromReader),vs.addKeys(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Permission.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Permission.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Permission.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getType(),Es!==0&&_s.writeEnum(1,Es),Es=vs.getId(),Es!==0&&_s.writeInt32(2,Es),Es=vs.getPermissionName(),Es.length>0&&_s.writeString(3,Es),Es=vs.getThreshold(),Es!==0&&_s.writeInt64(4,Es),Es=vs.getParentId(),Es!==0&&_s.writeInt32(5,Es),Es=vs.getOperations_asU8(),Es.length>0&&_s.writeBytes(6,Es),Es=vs.getKeysList(),Es.length>0&&_s.writeRepeatedMessage(7,Es,TronWebProto.Key.serializeBinaryToWriter)},TronWebProto.Permission.PermissionType={OWNER:0,WITNESS:1,ACTIVE:2},TronWebProto.Permission.prototype.getType=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Permission.prototype.setType=function(vs){return t.Message.setProto3EnumField(this,1,vs)},TronWebProto.Permission.prototype.getId=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Permission.prototype.setId=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.Permission.prototype.getPermissionName=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.Permission.prototype.setPermissionName=function(vs){return t.Message.setProto3StringField(this,3,vs)},TronWebProto.Permission.prototype.getThreshold=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.Permission.prototype.setThreshold=function(vs){return t.Message.setProto3IntField(this,4,vs)},TronWebProto.Permission.prototype.getParentId=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.Permission.prototype.setParentId=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.Permission.prototype.getOperations=function(){return t.Message.getFieldWithDefault(this,6,"")},TronWebProto.Permission.prototype.getOperations_asB64=function(){return t.Message.bytesAsB64(this.getOperations())},TronWebProto.Permission.prototype.getOperations_asU8=function(){return t.Message.bytesAsU8(this.getOperations())},TronWebProto.Permission.prototype.setOperations=function(vs){return t.Message.setProto3BytesField(this,6,vs)},TronWebProto.Permission.prototype.getKeysList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Key,7)},TronWebProto.Permission.prototype.setKeysList=function(vs){return t.Message.setRepeatedWrapperField(this,7,vs)},TronWebProto.Permission.prototype.addKeys=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,7,vs,TronWebProto.Key,_s)},TronWebProto.Permission.prototype.clearKeysList=function(){return this.setKeysList([])},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Witness.prototype.toObject=function(vs){return TronWebProto.Witness.toObject(vs,this)},TronWebProto.Witness.toObject=function(vs,_s){var Es={address:_s.getAddress_asB64(),votecount:t.Message.getFieldWithDefault(_s,2,0),pubkey:_s.getPubkey_asB64(),url:t.Message.getFieldWithDefault(_s,4,""),totalproduced:t.Message.getFieldWithDefault(_s,5,0),totalmissed:t.Message.getFieldWithDefault(_s,6,0),latestblocknum:t.Message.getFieldWithDefault(_s,7,0),latestslotnum:t.Message.getFieldWithDefault(_s,8,0),isjobs:t.Message.getBooleanFieldWithDefault(_s,9,!1)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Witness.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Witness;return TronWebProto.Witness.deserializeBinaryFromReader(Es,_s)},TronWebProto.Witness.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAddress(Ts);break;case 2:var Ts=_s.readInt64();vs.setVotecount(Ts);break;case 3:var Ts=_s.readBytes();vs.setPubkey(Ts);break;case 4:var Ts=_s.readString();vs.setUrl(Ts);break;case 5:var Ts=_s.readInt64();vs.setTotalproduced(Ts);break;case 6:var Ts=_s.readInt64();vs.setTotalmissed(Ts);break;case 7:var Ts=_s.readInt64();vs.setLatestblocknum(Ts);break;case 8:var Ts=_s.readInt64();vs.setLatestslotnum(Ts);break;case 9:var Ts=_s.readBool();vs.setIsjobs(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Witness.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Witness.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Witness.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getVotecount(),Es!==0&&_s.writeInt64(2,Es),Es=vs.getPubkey_asU8(),Es.length>0&&_s.writeBytes(3,Es),Es=vs.getUrl(),Es.length>0&&_s.writeString(4,Es),Es=vs.getTotalproduced(),Es!==0&&_s.writeInt64(5,Es),Es=vs.getTotalmissed(),Es!==0&&_s.writeInt64(6,Es),Es=vs.getLatestblocknum(),Es!==0&&_s.writeInt64(7,Es),Es=vs.getLatestslotnum(),Es!==0&&_s.writeInt64(8,Es),Es=vs.getIsjobs(),Es&&_s.writeBool(9,Es)},TronWebProto.Witness.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.Witness.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.Witness.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.Witness.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.Witness.prototype.getVotecount=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Witness.prototype.setVotecount=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.Witness.prototype.getPubkey=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.Witness.prototype.getPubkey_asB64=function(){return t.Message.bytesAsB64(this.getPubkey())},TronWebProto.Witness.prototype.getPubkey_asU8=function(){return t.Message.bytesAsU8(this.getPubkey())},TronWebProto.Witness.prototype.setPubkey=function(vs){return t.Message.setProto3BytesField(this,3,vs)},TronWebProto.Witness.prototype.getUrl=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.Witness.prototype.setUrl=function(vs){return t.Message.setProto3StringField(this,4,vs)},TronWebProto.Witness.prototype.getTotalproduced=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.Witness.prototype.setTotalproduced=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.Witness.prototype.getTotalmissed=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.Witness.prototype.setTotalmissed=function(vs){return t.Message.setProto3IntField(this,6,vs)},TronWebProto.Witness.prototype.getLatestblocknum=function(){return t.Message.getFieldWithDefault(this,7,0)},TronWebProto.Witness.prototype.setLatestblocknum=function(vs){return t.Message.setProto3IntField(this,7,vs)},TronWebProto.Witness.prototype.getLatestslotnum=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.Witness.prototype.setLatestslotnum=function(vs){return t.Message.setProto3IntField(this,8,vs)},TronWebProto.Witness.prototype.getIsjobs=function(){return t.Message.getBooleanFieldWithDefault(this,9,!1)},TronWebProto.Witness.prototype.setIsjobs=function(vs){return t.Message.setProto3BooleanField(this,9,vs)},TronWebProto.Votes.repeatedFields_=[2,3],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Votes.prototype.toObject=function(vs){return TronWebProto.Votes.toObject(vs,this)},TronWebProto.Votes.toObject=function(vs,_s){var Es={address:_s.getAddress_asB64(),oldVotesList:t.Message.toObjectList(_s.getOldVotesList(),TronWebProto.Vote.toObject,vs),newVotesList:t.Message.toObjectList(_s.getNewVotesList(),TronWebProto.Vote.toObject,vs)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Votes.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Votes;return TronWebProto.Votes.deserializeBinaryFromReader(Es,_s)},TronWebProto.Votes.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAddress(Ts);break;case 2:var Ts=new TronWebProto.Vote;_s.readMessage(Ts,TronWebProto.Vote.deserializeBinaryFromReader),vs.addOldVotes(Ts);break;case 3:var Ts=new TronWebProto.Vote;_s.readMessage(Ts,TronWebProto.Vote.deserializeBinaryFromReader),vs.addNewVotes(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Votes.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Votes.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Votes.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getOldVotesList(),Es.length>0&&_s.writeRepeatedMessage(2,Es,TronWebProto.Vote.serializeBinaryToWriter),Es=vs.getNewVotesList(),Es.length>0&&_s.writeRepeatedMessage(3,Es,TronWebProto.Vote.serializeBinaryToWriter)},TronWebProto.Votes.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.Votes.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.Votes.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.Votes.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.Votes.prototype.getOldVotesList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Vote,2)},TronWebProto.Votes.prototype.setOldVotesList=function(vs){return t.Message.setRepeatedWrapperField(this,2,vs)},TronWebProto.Votes.prototype.addOldVotes=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,2,vs,TronWebProto.Vote,_s)},TronWebProto.Votes.prototype.clearOldVotesList=function(){return this.setOldVotesList([])},TronWebProto.Votes.prototype.getNewVotesList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Vote,3)},TronWebProto.Votes.prototype.setNewVotesList=function(vs){return t.Message.setRepeatedWrapperField(this,3,vs)},TronWebProto.Votes.prototype.addNewVotes=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,3,vs,TronWebProto.Vote,_s)},TronWebProto.Votes.prototype.clearNewVotesList=function(){return this.setNewVotesList([])},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.MarketOrderDetail.prototype.toObject=function(vs){return TronWebProto.MarketOrderDetail.toObject(vs,this)},TronWebProto.MarketOrderDetail.toObject=function(vs,_s){var Es={makerorderid:_s.getMakerorderid_asB64(),takerorderid:_s.getTakerorderid_asB64(),fillsellquantity:t.Message.getFieldWithDefault(_s,3,0),fillbuyquantity:t.Message.getFieldWithDefault(_s,4,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.MarketOrderDetail.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.MarketOrderDetail;return TronWebProto.MarketOrderDetail.deserializeBinaryFromReader(Es,_s)},TronWebProto.MarketOrderDetail.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setMakerorderid(Ts);break;case 2:var Ts=_s.readBytes();vs.setTakerorderid(Ts);break;case 3:var Ts=_s.readInt64();vs.setFillsellquantity(Ts);break;case 4:var Ts=_s.readInt64();vs.setFillbuyquantity(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.MarketOrderDetail.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.MarketOrderDetail.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.MarketOrderDetail.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getMakerorderid_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getTakerorderid_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getFillsellquantity(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getFillbuyquantity(),Es!==0&&_s.writeInt64(4,Es)},TronWebProto.MarketOrderDetail.prototype.getMakerorderid=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.MarketOrderDetail.prototype.getMakerorderid_asB64=function(){return t.Message.bytesAsB64(this.getMakerorderid())},TronWebProto.MarketOrderDetail.prototype.getMakerorderid_asU8=function(){return t.Message.bytesAsU8(this.getMakerorderid())},TronWebProto.MarketOrderDetail.prototype.setMakerorderid=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.MarketOrderDetail.prototype.getTakerorderid=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.MarketOrderDetail.prototype.getTakerorderid_asB64=function(){return t.Message.bytesAsB64(this.getTakerorderid())},TronWebProto.MarketOrderDetail.prototype.getTakerorderid_asU8=function(){return t.Message.bytesAsU8(this.getTakerorderid())},TronWebProto.MarketOrderDetail.prototype.setTakerorderid=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.MarketOrderDetail.prototype.getFillsellquantity=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.MarketOrderDetail.prototype.setFillsellquantity=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.MarketOrderDetail.prototype.getFillbuyquantity=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.MarketOrderDetail.prototype.setFillbuyquantity=function(vs){return t.Message.setProto3IntField(this,4,vs)},TronWebProto.Transaction.repeatedFields_=[2,5],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.prototype.toObject=function(vs){return TronWebProto.Transaction.toObject(vs,this)},TronWebProto.Transaction.toObject=function(vs,_s){var Es,Ts={rawData:(Es=_s.getRawData())&&TronWebProto.Transaction.raw.toObject(vs,Es),signatureList:_s.getSignatureList_asB64(),retList:t.Message.toObjectList(_s.getRetList(),TronWebProto.Transaction.Result.toObject,vs)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.Transaction.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Transaction;return TronWebProto.Transaction.deserializeBinaryFromReader(Es,_s)},TronWebProto.Transaction.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=new TronWebProto.Transaction.raw;_s.readMessage(Ts,TronWebProto.Transaction.raw.deserializeBinaryFromReader),vs.setRawData(Ts);break;case 2:var Ts=_s.readBytes();vs.addSignature(Ts);break;case 5:var Ts=new TronWebProto.Transaction.Result;_s.readMessage(Ts,TronWebProto.Transaction.Result.deserializeBinaryFromReader),vs.addRet(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Transaction.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Transaction.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Transaction.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getRawData(),Es!=null&&_s.writeMessage(1,Es,TronWebProto.Transaction.raw.serializeBinaryToWriter),Es=vs.getSignatureList_asU8(),Es.length>0&&_s.writeRepeatedBytes(2,Es),Es=vs.getRetList(),Es.length>0&&_s.writeRepeatedMessage(5,Es,TronWebProto.Transaction.Result.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.Contract.prototype.toObject=function(vs){return TronWebProto.Transaction.Contract.toObject(vs,this)},TronWebProto.Transaction.Contract.toObject=function(vs,_s){var Es,Ts={type:t.Message.getFieldWithDefault(_s,1,0),parameter:(Es=_s.getParameter())&&ws.Any.toObject(vs,Es),provider:_s.getProvider_asB64(),contractname:_s.getContractname_asB64(),permissionId:t.Message.getFieldWithDefault(_s,5,0)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.Transaction.Contract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Transaction.Contract;return TronWebProto.Transaction.Contract.deserializeBinaryFromReader(Es,_s)},TronWebProto.Transaction.Contract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readEnum();vs.setType(Ts);break;case 2:var Ts=new ws.Any;_s.readMessage(Ts,ws.Any.deserializeBinaryFromReader),vs.setParameter(Ts);break;case 3:var Ts=_s.readBytes();vs.setProvider(Ts);break;case 4:var Ts=_s.readBytes();vs.setContractname(Ts);break;case 5:var Ts=_s.readInt32();vs.setPermissionId(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Transaction.Contract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Transaction.Contract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Transaction.Contract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getType(),Es!==0&&_s.writeEnum(1,Es),Es=vs.getParameter(),Es!=null&&_s.writeMessage(2,Es,ws.Any.serializeBinaryToWriter),Es=vs.getProvider_asU8(),Es.length>0&&_s.writeBytes(3,Es),Es=vs.getContractname_asU8(),Es.length>0&&_s.writeBytes(4,Es),Es=vs.getPermissionId(),Es!==0&&_s.writeInt32(5,Es)},TronWebProto.Transaction.Contract.ContractType={ACCOUNTCREATECONTRACT:0,TRANSFERCONTRACT:1,TRANSFERASSETCONTRACT:2,VOTEASSETCONTRACT:3,VOTEWITNESSCONTRACT:4,WITNESSCREATECONTRACT:5,ASSETISSUECONTRACT:6,WITNESSUPDATECONTRACT:8,PARTICIPATEASSETISSUECONTRACT:9,ACCOUNTUPDATECONTRACT:10,FREEZEBALANCECONTRACT:11,UNFREEZEBALANCECONTRACT:12,WITHDRAWBALANCECONTRACT:13,UNFREEZEASSETCONTRACT:14,UPDATEASSETCONTRACT:15,PROPOSALCREATECONTRACT:16,PROPOSALAPPROVECONTRACT:17,PROPOSALDELETECONTRACT:18,SETACCOUNTIDCONTRACT:19,CUSTOMCONTRACT:20,CREATESMARTCONTRACT:30,TRIGGERSMARTCONTRACT:31,GETCONTRACT:32,UPDATESETTINGCONTRACT:33,EXCHANGECREATECONTRACT:41,EXCHANGEINJECTCONTRACT:42,EXCHANGEWITHDRAWCONTRACT:43,EXCHANGETRANSACTIONCONTRACT:44,UPDATEENERGYLIMITCONTRACT:45,ACCOUNTPERMISSIONUPDATECONTRACT:46,CLEARABICONTRACT:48,UPDATEBROKERAGECONTRACT:49,SHIELDEDTRANSFERCONTRACT:51,MARKETSELLASSETCONTRACT:52,MARKETCANCELORDERCONTRACT:53,FREEZEBALANCEV2CONTRACT:54,UNFREEZEBALANCEV2CONTRACT:55,WITHDRAWEXPIREUNFREEZECONTRACT:56,DELEGATERESOURCECONTRACT:57,UNDELEGATERESOURCECONTRACT:58,CANCELALLUNFREEZEV2CONTRACT:59},TronWebProto.Transaction.Contract.prototype.getType=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Transaction.Contract.prototype.setType=function(vs){return t.Message.setProto3EnumField(this,1,vs)},TronWebProto.Transaction.Contract.prototype.getParameter=function(){return t.Message.getWrapperField(this,ws.Any,2)},TronWebProto.Transaction.Contract.prototype.setParameter=function(vs){return t.Message.setWrapperField(this,2,vs)},TronWebProto.Transaction.Contract.prototype.clearParameter=function(){return this.setParameter(void 0)},TronWebProto.Transaction.Contract.prototype.hasParameter=function(){return t.Message.getField(this,2)!=null},TronWebProto.Transaction.Contract.prototype.getProvider=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.Transaction.Contract.prototype.getProvider_asB64=function(){return t.Message.bytesAsB64(this.getProvider())},TronWebProto.Transaction.Contract.prototype.getProvider_asU8=function(){return t.Message.bytesAsU8(this.getProvider())},TronWebProto.Transaction.Contract.prototype.setProvider=function(vs){return t.Message.setProto3BytesField(this,3,vs)},TronWebProto.Transaction.Contract.prototype.getContractname=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.Transaction.Contract.prototype.getContractname_asB64=function(){return t.Message.bytesAsB64(this.getContractname())},TronWebProto.Transaction.Contract.prototype.getContractname_asU8=function(){return t.Message.bytesAsU8(this.getContractname())},TronWebProto.Transaction.Contract.prototype.setContractname=function(vs){return t.Message.setProto3BytesField(this,4,vs)},TronWebProto.Transaction.Contract.prototype.getPermissionId=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.Transaction.Contract.prototype.setPermissionId=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.Transaction.Result.repeatedFields_=[26],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.Result.prototype.toObject=function(vs){return TronWebProto.Transaction.Result.toObject(vs,this)},TronWebProto.Transaction.Result.toObject=function(vs,_s){var Es={fee:t.Message.getFieldWithDefault(_s,1,0),ret:t.Message.getFieldWithDefault(_s,2,0),contractret:t.Message.getFieldWithDefault(_s,3,0),assetissueid:t.Message.getFieldWithDefault(_s,14,""),withdrawAmount:t.Message.getFieldWithDefault(_s,15,0),unfreezeAmount:t.Message.getFieldWithDefault(_s,16,0),exchangeReceivedAmount:t.Message.getFieldWithDefault(_s,18,0),exchangeInjectAnotherAmount:t.Message.getFieldWithDefault(_s,19,0),exchangeWithdrawAnotherAmount:t.Message.getFieldWithDefault(_s,20,0),exchangeId:t.Message.getFieldWithDefault(_s,21,0),shieldedTransactionFee:t.Message.getFieldWithDefault(_s,22,0),orderid:_s.getOrderid_asB64(),orderdetailsList:t.Message.toObjectList(_s.getOrderdetailsList(),TronWebProto.MarketOrderDetail.toObject,vs)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Transaction.Result.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Transaction.Result;return TronWebProto.Transaction.Result.deserializeBinaryFromReader(Es,_s)},TronWebProto.Transaction.Result.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setFee(Ts);break;case 2:var Ts=_s.readEnum();vs.setRet(Ts);break;case 3:var Ts=_s.readEnum();vs.setContractret(Ts);break;case 14:var Ts=_s.readString();vs.setAssetissueid(Ts);break;case 15:var Ts=_s.readInt64();vs.setWithdrawAmount(Ts);break;case 16:var Ts=_s.readInt64();vs.setUnfreezeAmount(Ts);break;case 18:var Ts=_s.readInt64();vs.setExchangeReceivedAmount(Ts);break;case 19:var Ts=_s.readInt64();vs.setExchangeInjectAnotherAmount(Ts);break;case 20:var Ts=_s.readInt64();vs.setExchangeWithdrawAnotherAmount(Ts);break;case 21:var Ts=_s.readInt64();vs.setExchangeId(Ts);break;case 22:var Ts=_s.readInt64();vs.setShieldedTransactionFee(Ts);break;case 25:var Ts=_s.readBytes();vs.setOrderid(Ts);break;case 26:var Ts=new TronWebProto.MarketOrderDetail;_s.readMessage(Ts,TronWebProto.MarketOrderDetail.deserializeBinaryFromReader),vs.addOrderdetails(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Transaction.Result.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Transaction.Result.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Transaction.Result.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getFee(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getRet(),Es!==0&&_s.writeEnum(2,Es),Es=vs.getContractret(),Es!==0&&_s.writeEnum(3,Es),Es=vs.getAssetissueid(),Es.length>0&&_s.writeString(14,Es),Es=vs.getWithdrawAmount(),Es!==0&&_s.writeInt64(15,Es),Es=vs.getUnfreezeAmount(),Es!==0&&_s.writeInt64(16,Es),Es=vs.getExchangeReceivedAmount(),Es!==0&&_s.writeInt64(18,Es),Es=vs.getExchangeInjectAnotherAmount(),Es!==0&&_s.writeInt64(19,Es),Es=vs.getExchangeWithdrawAnotherAmount(),Es!==0&&_s.writeInt64(20,Es),Es=vs.getExchangeId(),Es!==0&&_s.writeInt64(21,Es),Es=vs.getShieldedTransactionFee(),Es!==0&&_s.writeInt64(22,Es),Es=vs.getOrderid_asU8(),Es.length>0&&_s.writeBytes(25,Es),Es=vs.getOrderdetailsList(),Es.length>0&&_s.writeRepeatedMessage(26,Es,TronWebProto.MarketOrderDetail.serializeBinaryToWriter)},TronWebProto.Transaction.Result.code={SUCESS:0,FAILED:1},TronWebProto.Transaction.Result.contractResult={DEFAULT:0,SUCCESS:1,REVERT:2,BAD_JUMP_DESTINATION:3,OUT_OF_MEMORY:4,PRECOMPILED_CONTRACT:5,STACK_TOO_SMALL:6,STACK_TOO_LARGE:7,ILLEGAL_OPERATION:8,STACK_OVERFLOW:9,OUT_OF_ENERGY:10,OUT_OF_TIME:11,JVM_STACK_OVER_FLOW:12,UNKNOWN:13,TRANSFER_FAILED:14,INVALID_CODE:15},TronWebProto.Transaction.Result.prototype.getFee=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.Transaction.Result.prototype.setFee=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.Transaction.Result.prototype.getRet=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.Transaction.Result.prototype.setRet=function(vs){return t.Message.setProto3EnumField(this,2,vs)},TronWebProto.Transaction.Result.prototype.getContractret=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.Transaction.Result.prototype.setContractret=function(vs){return t.Message.setProto3EnumField(this,3,vs)},TronWebProto.Transaction.Result.prototype.getAssetissueid=function(){return t.Message.getFieldWithDefault(this,14,"")},TronWebProto.Transaction.Result.prototype.setAssetissueid=function(vs){return t.Message.setProto3StringField(this,14,vs)},TronWebProto.Transaction.Result.prototype.getWithdrawAmount=function(){return t.Message.getFieldWithDefault(this,15,0)},TronWebProto.Transaction.Result.prototype.setWithdrawAmount=function(vs){return t.Message.setProto3IntField(this,15,vs)},TronWebProto.Transaction.Result.prototype.getUnfreezeAmount=function(){return t.Message.getFieldWithDefault(this,16,0)},TronWebProto.Transaction.Result.prototype.setUnfreezeAmount=function(vs){return t.Message.setProto3IntField(this,16,vs)},TronWebProto.Transaction.Result.prototype.getExchangeReceivedAmount=function(){return t.Message.getFieldWithDefault(this,18,0)},TronWebProto.Transaction.Result.prototype.setExchangeReceivedAmount=function(vs){return t.Message.setProto3IntField(this,18,vs)},TronWebProto.Transaction.Result.prototype.getExchangeInjectAnotherAmount=function(){return t.Message.getFieldWithDefault(this,19,0)},TronWebProto.Transaction.Result.prototype.setExchangeInjectAnotherAmount=function(vs){return t.Message.setProto3IntField(this,19,vs)},TronWebProto.Transaction.Result.prototype.getExchangeWithdrawAnotherAmount=function(){return t.Message.getFieldWithDefault(this,20,0)},TronWebProto.Transaction.Result.prototype.setExchangeWithdrawAnotherAmount=function(vs){return t.Message.setProto3IntField(this,20,vs)},TronWebProto.Transaction.Result.prototype.getExchangeId=function(){return t.Message.getFieldWithDefault(this,21,0)},TronWebProto.Transaction.Result.prototype.setExchangeId=function(vs){return t.Message.setProto3IntField(this,21,vs)},TronWebProto.Transaction.Result.prototype.getShieldedTransactionFee=function(){return t.Message.getFieldWithDefault(this,22,0)},TronWebProto.Transaction.Result.prototype.setShieldedTransactionFee=function(vs){return t.Message.setProto3IntField(this,22,vs)},TronWebProto.Transaction.Result.prototype.getOrderid=function(){return t.Message.getFieldWithDefault(this,25,"")},TronWebProto.Transaction.Result.prototype.getOrderid_asB64=function(){return t.Message.bytesAsB64(this.getOrderid())},TronWebProto.Transaction.Result.prototype.getOrderid_asU8=function(){return t.Message.bytesAsU8(this.getOrderid())},TronWebProto.Transaction.Result.prototype.setOrderid=function(vs){return t.Message.setProto3BytesField(this,25,vs)},TronWebProto.Transaction.Result.prototype.getOrderdetailsList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.MarketOrderDetail,26)},TronWebProto.Transaction.Result.prototype.setOrderdetailsList=function(vs){return t.Message.setRepeatedWrapperField(this,26,vs)},TronWebProto.Transaction.Result.prototype.addOrderdetails=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,26,vs,TronWebProto.MarketOrderDetail,_s)},TronWebProto.Transaction.Result.prototype.clearOrderdetailsList=function(){return this.setOrderdetailsList([])},TronWebProto.Transaction.raw.repeatedFields_=[9,11],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.raw.prototype.toObject=function(vs){return TronWebProto.Transaction.raw.toObject(vs,this)},TronWebProto.Transaction.raw.toObject=function(vs,_s){var Es={refBlockBytes:_s.getRefBlockBytes_asB64(),refBlockNum:t.Message.getFieldWithDefault(_s,3,0),refBlockHash:_s.getRefBlockHash_asB64(),expiration:t.Message.getFieldWithDefault(_s,8,0),authsList:t.Message.toObjectList(_s.getAuthsList(),TronWebProto.authority.toObject,vs),data:_s.getData_asB64(),contractList:t.Message.toObjectList(_s.getContractList(),TronWebProto.Transaction.Contract.toObject,vs),scripts:_s.getScripts_asB64(),timestamp:t.Message.getFieldWithDefault(_s,14,0),feeLimit:t.Message.getFieldWithDefault(_s,18,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.Transaction.raw.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.Transaction.raw;return TronWebProto.Transaction.raw.deserializeBinaryFromReader(Es,_s)},TronWebProto.Transaction.raw.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setRefBlockBytes(Ts);break;case 3:var Ts=_s.readInt64();vs.setRefBlockNum(Ts);break;case 4:var Ts=_s.readBytes();vs.setRefBlockHash(Ts);break;case 8:var Ts=_s.readInt64();vs.setExpiration(Ts);break;case 9:var Ts=new TronWebProto.authority;_s.readMessage(Ts,TronWebProto.authority.deserializeBinaryFromReader),vs.addAuths(Ts);break;case 10:var Ts=_s.readBytes();vs.setData(Ts);break;case 11:var Ts=new TronWebProto.Transaction.Contract;_s.readMessage(Ts,TronWebProto.Transaction.Contract.deserializeBinaryFromReader),vs.addContract(Ts);break;case 12:var Ts=_s.readBytes();vs.setScripts(Ts);break;case 14:var Ts=_s.readInt64();vs.setTimestamp(Ts);break;case 18:var Ts=_s.readInt64();vs.setFeeLimit(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.Transaction.raw.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.Transaction.raw.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.Transaction.raw.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getRefBlockBytes_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getRefBlockNum(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getRefBlockHash_asU8(),Es.length>0&&_s.writeBytes(4,Es),Es=vs.getExpiration(),Es!==0&&_s.writeInt64(8,Es),Es=vs.getAuthsList(),Es.length>0&&_s.writeRepeatedMessage(9,Es,TronWebProto.authority.serializeBinaryToWriter),Es=vs.getData_asU8(),Es.length>0&&_s.writeBytes(10,Es),Es=vs.getContractList(),Es.length>0&&_s.writeRepeatedMessage(11,Es,TronWebProto.Transaction.Contract.serializeBinaryToWriter),Es=vs.getScripts_asU8(),Es.length>0&&_s.writeBytes(12,Es),Es=vs.getTimestamp(),Es!==0&&_s.writeInt64(14,Es),Es=vs.getFeeLimit(),Es!==0&&_s.writeInt64(18,Es)},TronWebProto.Transaction.raw.prototype.getRefBlockBytes=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.Transaction.raw.prototype.getRefBlockBytes_asB64=function(){return t.Message.bytesAsB64(this.getRefBlockBytes())},TronWebProto.Transaction.raw.prototype.getRefBlockBytes_asU8=function(){return t.Message.bytesAsU8(this.getRefBlockBytes())},TronWebProto.Transaction.raw.prototype.setRefBlockBytes=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.Transaction.raw.prototype.getRefBlockNum=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.Transaction.raw.prototype.setRefBlockNum=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.Transaction.raw.prototype.getRefBlockHash=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.Transaction.raw.prototype.getRefBlockHash_asB64=function(){return t.Message.bytesAsB64(this.getRefBlockHash())},TronWebProto.Transaction.raw.prototype.getRefBlockHash_asU8=function(){return t.Message.bytesAsU8(this.getRefBlockHash())},TronWebProto.Transaction.raw.prototype.setRefBlockHash=function(vs){return t.Message.setProto3BytesField(this,4,vs)},TronWebProto.Transaction.raw.prototype.getExpiration=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.Transaction.raw.prototype.setExpiration=function(vs){return t.Message.setProto3IntField(this,8,vs)},TronWebProto.Transaction.raw.prototype.getAuthsList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.authority,9)},TronWebProto.Transaction.raw.prototype.setAuthsList=function(vs){return t.Message.setRepeatedWrapperField(this,9,vs)},TronWebProto.Transaction.raw.prototype.addAuths=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,9,vs,TronWebProto.authority,_s)},TronWebProto.Transaction.raw.prototype.clearAuthsList=function(){return this.setAuthsList([])},TronWebProto.Transaction.raw.prototype.getData=function(){return t.Message.getFieldWithDefault(this,10,"")},TronWebProto.Transaction.raw.prototype.getData_asB64=function(){return t.Message.bytesAsB64(this.getData())},TronWebProto.Transaction.raw.prototype.getData_asU8=function(){return t.Message.bytesAsU8(this.getData())},TronWebProto.Transaction.raw.prototype.setData=function(vs){return t.Message.setProto3BytesField(this,10,vs)},TronWebProto.Transaction.raw.prototype.getContractList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Transaction.Contract,11)},TronWebProto.Transaction.raw.prototype.setContractList=function(vs){return t.Message.setRepeatedWrapperField(this,11,vs)},TronWebProto.Transaction.raw.prototype.addContract=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,11,vs,TronWebProto.Transaction.Contract,_s)},TronWebProto.Transaction.raw.prototype.clearContractList=function(){return this.setContractList([])},TronWebProto.Transaction.raw.prototype.getScripts=function(){return t.Message.getFieldWithDefault(this,12,"")},TronWebProto.Transaction.raw.prototype.getScripts_asB64=function(){return t.Message.bytesAsB64(this.getScripts())},TronWebProto.Transaction.raw.prototype.getScripts_asU8=function(){return t.Message.bytesAsU8(this.getScripts())},TronWebProto.Transaction.raw.prototype.setScripts=function(vs){return t.Message.setProto3BytesField(this,12,vs)},TronWebProto.Transaction.raw.prototype.getTimestamp=function(){return t.Message.getFieldWithDefault(this,14,0)},TronWebProto.Transaction.raw.prototype.setTimestamp=function(vs){return t.Message.setProto3IntField(this,14,vs)},TronWebProto.Transaction.raw.prototype.getFeeLimit=function(){return t.Message.getFieldWithDefault(this,18,0)},TronWebProto.Transaction.raw.prototype.setFeeLimit=function(vs){return t.Message.setProto3IntField(this,18,vs)},TronWebProto.Transaction.prototype.getRawData=function(){return t.Message.getWrapperField(this,TronWebProto.Transaction.raw,1)},TronWebProto.Transaction.prototype.setRawData=function(vs){return t.Message.setWrapperField(this,1,vs)},TronWebProto.Transaction.prototype.clearRawData=function(){return this.setRawData(void 0)},TronWebProto.Transaction.prototype.hasRawData=function(){return t.Message.getField(this,1)!=null},TronWebProto.Transaction.prototype.getSignatureList=function(){return t.Message.getRepeatedField(this,2)},TronWebProto.Transaction.prototype.getSignatureList_asB64=function(){return t.Message.bytesListAsB64(this.getSignatureList())},TronWebProto.Transaction.prototype.getSignatureList_asU8=function(){return t.Message.bytesListAsU8(this.getSignatureList())},TronWebProto.Transaction.prototype.setSignatureList=function(vs){return t.Message.setField(this,2,vs||[])},TronWebProto.Transaction.prototype.addSignature=function(vs,_s){return t.Message.addToRepeatedField(this,2,vs,_s)},TronWebProto.Transaction.prototype.clearSignatureList=function(){return this.setSignatureList([])},TronWebProto.Transaction.prototype.getRetList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.Transaction.Result,5)},TronWebProto.Transaction.prototype.setRetList=function(vs){return t.Message.setRepeatedWrapperField(this,5,vs)},TronWebProto.Transaction.prototype.addRet=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,5,vs,TronWebProto.Transaction.Result,_s)},TronWebProto.Transaction.prototype.clearRetList=function(){return this.setRetList([])},TronWebProto.AccountType={NORMAL:0,ASSETISSUE:1,CONTRACT:2},et.object.extend(st,TronWebProto)}(Tron_pb)),Tron_pb}requireTron_pb();var balance_contract_pb={},common_pb={},hasRequiredCommon_pb;function requireCommon_pb(){return hasRequiredCommon_pb||(hasRequiredCommon_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("TronWebProto.ResourceCode",null,ms),TronWebProto.ResourceCode={BANDWIDTH:0,ENERGY:1,TRON_POWER:2},et.object.extend(st,TronWebProto)}(common_pb)),common_pb}var hasRequiredBalance_contract_pb;function requireBalance_contract_pb(){return hasRequiredBalance_contract_pb||(hasRequiredBalance_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),ws=requireCommon_pb();et.object.extend(proto,ws),et.exportSymbol("TronWebProto.AccountBalanceRequest",null,ms),et.exportSymbol("TronWebProto.AccountBalanceResponse",null,ms),et.exportSymbol("TronWebProto.AccountIdentifier",null,ms),et.exportSymbol("TronWebProto.AccountTrace",null,ms),et.exportSymbol("TronWebProto.BlockBalanceTrace",null,ms),et.exportSymbol("TronWebProto.BlockBalanceTrace.BlockIdentifier",null,ms),et.exportSymbol("TronWebProto.CancelAllUnfreezeV2Contract",null,ms),et.exportSymbol("TronWebProto.DelegateResourceContract",null,ms),et.exportSymbol("TronWebProto.FreezeBalanceContract",null,ms),et.exportSymbol("TronWebProto.FreezeBalanceV2Contract",null,ms),et.exportSymbol("TronWebProto.TransactionBalanceTrace",null,ms),et.exportSymbol("TronWebProto.TransactionBalanceTrace.Operation",null,ms),et.exportSymbol("TronWebProto.TransferContract",null,ms),et.exportSymbol("TronWebProto.UnDelegateResourceContract",null,ms),et.exportSymbol("TronWebProto.UnfreezeBalanceContract",null,ms),et.exportSymbol("TronWebProto.UnfreezeBalanceV2Contract",null,ms),et.exportSymbol("TronWebProto.WithdrawBalanceContract",null,ms),et.exportSymbol("TronWebProto.WithdrawExpireUnfreezeContract",null,ms),TronWebProto.FreezeBalanceContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.FreezeBalanceContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.FreezeBalanceContract.displayName="TronWebProto.FreezeBalanceContract"),TronWebProto.UnfreezeBalanceContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.UnfreezeBalanceContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeBalanceContract.displayName="TronWebProto.UnfreezeBalanceContract"),TronWebProto.WithdrawBalanceContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.WithdrawBalanceContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.WithdrawBalanceContract.displayName="TronWebProto.WithdrawBalanceContract"),TronWebProto.TransferContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.TransferContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.TransferContract.displayName="TronWebProto.TransferContract"),TronWebProto.TransactionBalanceTrace=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.TransactionBalanceTrace.repeatedFields_,null)},et.inherits(TronWebProto.TransactionBalanceTrace,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.TransactionBalanceTrace.displayName="TronWebProto.TransactionBalanceTrace"),TronWebProto.TransactionBalanceTrace.Operation=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.TransactionBalanceTrace.Operation,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.TransactionBalanceTrace.Operation.displayName="TronWebProto.TransactionBalanceTrace.Operation"),TronWebProto.BlockBalanceTrace=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.BlockBalanceTrace.repeatedFields_,null)},et.inherits(TronWebProto.BlockBalanceTrace,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.BlockBalanceTrace.displayName="TronWebProto.BlockBalanceTrace"),TronWebProto.BlockBalanceTrace.BlockIdentifier=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.BlockBalanceTrace.BlockIdentifier,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.BlockBalanceTrace.BlockIdentifier.displayName="TronWebProto.BlockBalanceTrace.BlockIdentifier"),TronWebProto.AccountTrace=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountTrace,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountTrace.displayName="TronWebProto.AccountTrace"),TronWebProto.AccountIdentifier=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountIdentifier,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountIdentifier.displayName="TronWebProto.AccountIdentifier"),TronWebProto.AccountBalanceRequest=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountBalanceRequest,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountBalanceRequest.displayName="TronWebProto.AccountBalanceRequest"),TronWebProto.AccountBalanceResponse=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountBalanceResponse,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountBalanceResponse.displayName="TronWebProto.AccountBalanceResponse"),TronWebProto.FreezeBalanceV2Contract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.FreezeBalanceV2Contract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.FreezeBalanceV2Contract.displayName="TronWebProto.FreezeBalanceV2Contract"),TronWebProto.UnfreezeBalanceV2Contract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.UnfreezeBalanceV2Contract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeBalanceV2Contract.displayName="TronWebProto.UnfreezeBalanceV2Contract"),TronWebProto.WithdrawExpireUnfreezeContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.WithdrawExpireUnfreezeContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.WithdrawExpireUnfreezeContract.displayName="TronWebProto.WithdrawExpireUnfreezeContract"),TronWebProto.DelegateResourceContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.DelegateResourceContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.DelegateResourceContract.displayName="TronWebProto.DelegateResourceContract"),TronWebProto.UnDelegateResourceContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.UnDelegateResourceContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UnDelegateResourceContract.displayName="TronWebProto.UnDelegateResourceContract"),TronWebProto.CancelAllUnfreezeV2Contract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.CancelAllUnfreezeV2Contract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.CancelAllUnfreezeV2Contract.displayName="TronWebProto.CancelAllUnfreezeV2Contract"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.FreezeBalanceContract.prototype.toObject=function(vs){return TronWebProto.FreezeBalanceContract.toObject(vs,this)},TronWebProto.FreezeBalanceContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),frozenBalance:t.Message.getFieldWithDefault(_s,2,0),frozenDuration:t.Message.getFieldWithDefault(_s,3,0),resource:t.Message.getFieldWithDefault(_s,10,0),receiverAddress:_s.getReceiverAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.FreezeBalanceContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.FreezeBalanceContract;return TronWebProto.FreezeBalanceContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.FreezeBalanceContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readInt64();vs.setFrozenBalance(Ts);break;case 3:var Ts=_s.readInt64();vs.setFrozenDuration(Ts);break;case 10:var Ts=_s.readEnum();vs.setResource(Ts);break;case 15:var Ts=_s.readBytes();vs.setReceiverAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.FreezeBalanceContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.FreezeBalanceContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.FreezeBalanceContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getFrozenBalance(),Es!==0&&_s.writeInt64(2,Es),Es=vs.getFrozenDuration(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getResource(),Es!==0&&_s.writeEnum(10,Es),Es=vs.getReceiverAddress_asU8(),Es.length>0&&_s.writeBytes(15,Es)},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.FreezeBalanceContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.FreezeBalanceContract.prototype.getFrozenBalance=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.FreezeBalanceContract.prototype.setFrozenBalance=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.FreezeBalanceContract.prototype.getFrozenDuration=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.FreezeBalanceContract.prototype.setFrozenDuration=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.FreezeBalanceContract.prototype.getResource=function(){return t.Message.getFieldWithDefault(this,10,0)},TronWebProto.FreezeBalanceContract.prototype.setResource=function(vs){return t.Message.setProto3EnumField(this,10,vs)},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress=function(){return t.Message.getFieldWithDefault(this,15,"")},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress_asB64=function(){return t.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress_asU8=function(){return t.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.FreezeBalanceContract.prototype.setReceiverAddress=function(vs){return t.Message.setProto3BytesField(this,15,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeBalanceContract.prototype.toObject=function(vs){return TronWebProto.UnfreezeBalanceContract.toObject(vs,this)},TronWebProto.UnfreezeBalanceContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),resource:t.Message.getFieldWithDefault(_s,10,0),receiverAddress:_s.getReceiverAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.UnfreezeBalanceContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.UnfreezeBalanceContract;return TronWebProto.UnfreezeBalanceContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.UnfreezeBalanceContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 10:var Ts=_s.readEnum();vs.setResource(Ts);break;case 15:var Ts=_s.readBytes();vs.setReceiverAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.UnfreezeBalanceContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.UnfreezeBalanceContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.UnfreezeBalanceContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getResource(),Es!==0&&_s.writeEnum(10,Es),Es=vs.getReceiverAddress_asU8(),Es.length>0&&_s.writeBytes(15,Es)},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.UnfreezeBalanceContract.prototype.getResource=function(){return t.Message.getFieldWithDefault(this,10,0)},TronWebProto.UnfreezeBalanceContract.prototype.setResource=function(vs){return t.Message.setProto3EnumField(this,10,vs)},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress=function(){return t.Message.getFieldWithDefault(this,15,"")},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress_asB64=function(){return t.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress_asU8=function(){return t.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.UnfreezeBalanceContract.prototype.setReceiverAddress=function(vs){return t.Message.setProto3BytesField(this,15,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.WithdrawBalanceContract.prototype.toObject=function(vs){return TronWebProto.WithdrawBalanceContract.toObject(vs,this)},TronWebProto.WithdrawBalanceContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.WithdrawBalanceContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.WithdrawBalanceContract;return TronWebProto.WithdrawBalanceContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.WithdrawBalanceContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.WithdrawBalanceContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.WithdrawBalanceContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.WithdrawBalanceContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es)},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WithdrawBalanceContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransferContract.prototype.toObject=function(vs){return TronWebProto.TransferContract.toObject(vs,this)},TronWebProto.TransferContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),toAddress:_s.getToAddress_asB64(),amount:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.TransferContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.TransferContract;return TronWebProto.TransferContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.TransferContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setToAddress(Ts);break;case 3:var Ts=_s.readInt64();vs.setAmount(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.TransferContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.TransferContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.TransferContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getToAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getAmount(),Es!==0&&_s.writeInt64(3,Es)},TronWebProto.TransferContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransferContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TransferContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TransferContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.TransferContract.prototype.getToAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransferContract.prototype.getToAddress_asB64=function(){return t.Message.bytesAsB64(this.getToAddress())},TronWebProto.TransferContract.prototype.getToAddress_asU8=function(){return t.Message.bytesAsU8(this.getToAddress())},TronWebProto.TransferContract.prototype.setToAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.TransferContract.prototype.getAmount=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.TransferContract.prototype.setAmount=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.TransactionBalanceTrace.repeatedFields_=[2],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransactionBalanceTrace.prototype.toObject=function(vs){return TronWebProto.TransactionBalanceTrace.toObject(vs,this)},TronWebProto.TransactionBalanceTrace.toObject=function(vs,_s){var Es={transactionIdentifier:_s.getTransactionIdentifier_asB64(),operationList:t.Message.toObjectList(_s.getOperationList(),TronWebProto.TransactionBalanceTrace.Operation.toObject,vs),type:t.Message.getFieldWithDefault(_s,3,""),status:t.Message.getFieldWithDefault(_s,4,"")};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.TransactionBalanceTrace.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.TransactionBalanceTrace;return TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader(Es,_s)},TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setTransactionIdentifier(Ts);break;case 2:var Ts=new TronWebProto.TransactionBalanceTrace.Operation;_s.readMessage(Ts,TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader),vs.addOperation(Ts);break;case 3:var Ts=_s.readString();vs.setType(Ts);break;case 4:var Ts=_s.readString();vs.setStatus(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.TransactionBalanceTrace.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getTransactionIdentifier_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getOperationList(),Es.length>0&&_s.writeRepeatedMessage(2,Es,TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter),Es=vs.getType(),Es.length>0&&_s.writeString(3,Es),Es=vs.getStatus(),Es.length>0&&_s.writeString(4,Es)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransactionBalanceTrace.Operation.prototype.toObject=function(vs){return TronWebProto.TransactionBalanceTrace.Operation.toObject(vs,this)},TronWebProto.TransactionBalanceTrace.Operation.toObject=function(vs,_s){var Es={operationIdentifier:t.Message.getFieldWithDefault(_s,1,0),address:_s.getAddress_asB64(),amount:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.TransactionBalanceTrace.Operation.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.TransactionBalanceTrace.Operation;return TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader(Es,_s)},TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setOperationIdentifier(Ts);break;case 2:var Ts=_s.readBytes();vs.setAddress(Ts);break;case 3:var Ts=_s.readInt64();vs.setAmount(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.TransactionBalanceTrace.Operation.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOperationIdentifier(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getAmount(),Es!==0&&_s.writeInt64(3,Es)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getOperationIdentifier=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.TransactionBalanceTrace.Operation.prototype.setOperationIdentifier=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.TransactionBalanceTrace.Operation.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAmount=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.TransactionBalanceTrace.Operation.prototype.setAmount=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier_asB64=function(){return t.Message.bytesAsB64(this.getTransactionIdentifier())},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier_asU8=function(){return t.Message.bytesAsU8(this.getTransactionIdentifier())},TronWebProto.TransactionBalanceTrace.prototype.setTransactionIdentifier=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.TransactionBalanceTrace.prototype.getOperationList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.TransactionBalanceTrace.Operation,2)},TronWebProto.TransactionBalanceTrace.prototype.setOperationList=function(vs){return t.Message.setRepeatedWrapperField(this,2,vs)},TronWebProto.TransactionBalanceTrace.prototype.addOperation=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,2,vs,TronWebProto.TransactionBalanceTrace.Operation,_s)},TronWebProto.TransactionBalanceTrace.prototype.clearOperationList=function(){return this.setOperationList([])},TronWebProto.TransactionBalanceTrace.prototype.getType=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.TransactionBalanceTrace.prototype.setType=function(vs){return t.Message.setProto3StringField(this,3,vs)},TronWebProto.TransactionBalanceTrace.prototype.getStatus=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.TransactionBalanceTrace.prototype.setStatus=function(vs){return t.Message.setProto3StringField(this,4,vs)},TronWebProto.BlockBalanceTrace.repeatedFields_=[3],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.BlockBalanceTrace.prototype.toObject=function(vs){return TronWebProto.BlockBalanceTrace.toObject(vs,this)},TronWebProto.BlockBalanceTrace.toObject=function(vs,_s){var Es,Ts={blockIdentifier:(Es=_s.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(vs,Es),timestamp:t.Message.getFieldWithDefault(_s,2,0),transactionBalanceTraceList:t.Message.toObjectList(_s.getTransactionBalanceTraceList(),TronWebProto.TransactionBalanceTrace.toObject,vs)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.BlockBalanceTrace.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.BlockBalanceTrace;return TronWebProto.BlockBalanceTrace.deserializeBinaryFromReader(Es,_s)},TronWebProto.BlockBalanceTrace.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=new TronWebProto.BlockBalanceTrace.BlockIdentifier;_s.readMessage(Ts,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),vs.setBlockIdentifier(Ts);break;case 2:var Ts=_s.readInt64();vs.setTimestamp(Ts);break;case 3:var Ts=new TronWebProto.TransactionBalanceTrace;_s.readMessage(Ts,TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader),vs.addTransactionBalanceTrace(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.BlockBalanceTrace.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.BlockBalanceTrace.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.BlockBalanceTrace.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getBlockIdentifier(),Es!=null&&_s.writeMessage(1,Es,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter),Es=vs.getTimestamp(),Es!==0&&_s.writeInt64(2,Es),Es=vs.getTransactionBalanceTraceList(),Es.length>0&&_s.writeRepeatedMessage(3,Es,TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.toObject=function(vs){return TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(vs,this)},TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject=function(vs,_s){var Es={hash:_s.getHash_asB64(),number:t.Message.getFieldWithDefault(_s,2,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.BlockBalanceTrace.BlockIdentifier;return TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader(Es,_s)},TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setHash(Ts);break;case 2:var Ts=_s.readInt64();vs.setNumber(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getHash_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getNumber(),Es!==0&&_s.writeInt64(2,Es)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash_asB64=function(){return t.Message.bytesAsB64(this.getHash())},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash_asU8=function(){return t.Message.bytesAsU8(this.getHash())},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.setHash=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getNumber=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.setNumber=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.BlockBalanceTrace.prototype.getBlockIdentifier=function(){return t.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,1)},TronWebProto.BlockBalanceTrace.prototype.setBlockIdentifier=function(vs){return t.Message.setWrapperField(this,1,vs)},TronWebProto.BlockBalanceTrace.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.BlockBalanceTrace.prototype.hasBlockIdentifier=function(){return t.Message.getField(this,1)!=null},TronWebProto.BlockBalanceTrace.prototype.getTimestamp=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.BlockBalanceTrace.prototype.setTimestamp=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.BlockBalanceTrace.prototype.getTransactionBalanceTraceList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.TransactionBalanceTrace,3)},TronWebProto.BlockBalanceTrace.prototype.setTransactionBalanceTraceList=function(vs){return t.Message.setRepeatedWrapperField(this,3,vs)},TronWebProto.BlockBalanceTrace.prototype.addTransactionBalanceTrace=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,3,vs,TronWebProto.TransactionBalanceTrace,_s)},TronWebProto.BlockBalanceTrace.prototype.clearTransactionBalanceTraceList=function(){return this.setTransactionBalanceTraceList([])},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountTrace.prototype.toObject=function(vs){return TronWebProto.AccountTrace.toObject(vs,this)},TronWebProto.AccountTrace.toObject=function(vs,_s){var Es={balance:t.Message.getFieldWithDefault(_s,1,0),placeholder:t.Message.getFieldWithDefault(_s,99,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.AccountTrace.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountTrace;return TronWebProto.AccountTrace.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountTrace.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setBalance(Ts);break;case 99:var Ts=_s.readInt64();vs.setPlaceholder(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountTrace.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountTrace.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountTrace.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getBalance(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getPlaceholder(),Es!==0&&_s.writeInt64(99,Es)},TronWebProto.AccountTrace.prototype.getBalance=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.AccountTrace.prototype.setBalance=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.AccountTrace.prototype.getPlaceholder=function(){return t.Message.getFieldWithDefault(this,99,0)},TronWebProto.AccountTrace.prototype.setPlaceholder=function(vs){return t.Message.setProto3IntField(this,99,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountIdentifier.prototype.toObject=function(vs){return TronWebProto.AccountIdentifier.toObject(vs,this)},TronWebProto.AccountIdentifier.toObject=function(vs,_s){var Es={address:_s.getAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.AccountIdentifier.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountIdentifier;return TronWebProto.AccountIdentifier.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountIdentifier.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountIdentifier.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountIdentifier.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountIdentifier.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es)},TronWebProto.AccountIdentifier.prototype.getAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountIdentifier.prototype.getAddress_asB64=function(){return t.Message.bytesAsB64(this.getAddress())},TronWebProto.AccountIdentifier.prototype.getAddress_asU8=function(){return t.Message.bytesAsU8(this.getAddress())},TronWebProto.AccountIdentifier.prototype.setAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountBalanceRequest.prototype.toObject=function(vs){return TronWebProto.AccountBalanceRequest.toObject(vs,this)},TronWebProto.AccountBalanceRequest.toObject=function(vs,_s){var Es,Ts={accountIdentifier:(Es=_s.getAccountIdentifier())&&TronWebProto.AccountIdentifier.toObject(vs,Es),blockIdentifier:(Es=_s.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(vs,Es)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.AccountBalanceRequest.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountBalanceRequest;return TronWebProto.AccountBalanceRequest.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountBalanceRequest.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=new TronWebProto.AccountIdentifier;_s.readMessage(Ts,TronWebProto.AccountIdentifier.deserializeBinaryFromReader),vs.setAccountIdentifier(Ts);break;case 2:var Ts=new TronWebProto.BlockBalanceTrace.BlockIdentifier;_s.readMessage(Ts,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),vs.setBlockIdentifier(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountBalanceRequest.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountBalanceRequest.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountBalanceRequest.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAccountIdentifier(),Es!=null&&_s.writeMessage(1,Es,TronWebProto.AccountIdentifier.serializeBinaryToWriter),Es=vs.getBlockIdentifier(),Es!=null&&_s.writeMessage(2,Es,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter)},TronWebProto.AccountBalanceRequest.prototype.getAccountIdentifier=function(){return t.Message.getWrapperField(this,TronWebProto.AccountIdentifier,1)},TronWebProto.AccountBalanceRequest.prototype.setAccountIdentifier=function(vs){return t.Message.setWrapperField(this,1,vs)},TronWebProto.AccountBalanceRequest.prototype.clearAccountIdentifier=function(){return this.setAccountIdentifier(void 0)},TronWebProto.AccountBalanceRequest.prototype.hasAccountIdentifier=function(){return t.Message.getField(this,1)!=null},TronWebProto.AccountBalanceRequest.prototype.getBlockIdentifier=function(){return t.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,2)},TronWebProto.AccountBalanceRequest.prototype.setBlockIdentifier=function(vs){return t.Message.setWrapperField(this,2,vs)},TronWebProto.AccountBalanceRequest.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.AccountBalanceRequest.prototype.hasBlockIdentifier=function(){return t.Message.getField(this,2)!=null},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountBalanceResponse.prototype.toObject=function(vs){return TronWebProto.AccountBalanceResponse.toObject(vs,this)},TronWebProto.AccountBalanceResponse.toObject=function(vs,_s){var Es,Ts={balance:t.Message.getFieldWithDefault(_s,1,0),blockIdentifier:(Es=_s.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(vs,Es)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.AccountBalanceResponse.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountBalanceResponse;return TronWebProto.AccountBalanceResponse.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountBalanceResponse.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setBalance(Ts);break;case 2:var Ts=new TronWebProto.BlockBalanceTrace.BlockIdentifier;_s.readMessage(Ts,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),vs.setBlockIdentifier(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountBalanceResponse.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountBalanceResponse.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountBalanceResponse.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getBalance(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getBlockIdentifier(),Es!=null&&_s.writeMessage(2,Es,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter)},TronWebProto.AccountBalanceResponse.prototype.getBalance=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.AccountBalanceResponse.prototype.setBalance=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.AccountBalanceResponse.prototype.getBlockIdentifier=function(){return t.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,2)},TronWebProto.AccountBalanceResponse.prototype.setBlockIdentifier=function(vs){return t.Message.setWrapperField(this,2,vs)},TronWebProto.AccountBalanceResponse.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.AccountBalanceResponse.prototype.hasBlockIdentifier=function(){return t.Message.getField(this,2)!=null},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.FreezeBalanceV2Contract.prototype.toObject=function(vs){return TronWebProto.FreezeBalanceV2Contract.toObject(vs,this)},TronWebProto.FreezeBalanceV2Contract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),frozenBalance:t.Message.getFieldWithDefault(_s,2,0),resource:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.FreezeBalanceV2Contract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.FreezeBalanceV2Contract;return TronWebProto.FreezeBalanceV2Contract.deserializeBinaryFromReader(Es,_s)},TronWebProto.FreezeBalanceV2Contract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readInt64();vs.setFrozenBalance(Ts);break;case 3:var Ts=_s.readEnum();vs.setResource(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.FreezeBalanceV2Contract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.FreezeBalanceV2Contract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.FreezeBalanceV2Contract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getFrozenBalance(),Es!==0&&_s.writeInt64(2,Es),Es=vs.getResource(),Es!==0&&_s.writeEnum(3,Es)},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.FreezeBalanceV2Contract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.FreezeBalanceV2Contract.prototype.getFrozenBalance=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.FreezeBalanceV2Contract.prototype.setFrozenBalance=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.FreezeBalanceV2Contract.prototype.getResource=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.FreezeBalanceV2Contract.prototype.setResource=function(vs){return t.Message.setProto3EnumField(this,3,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeBalanceV2Contract.prototype.toObject=function(vs){return TronWebProto.UnfreezeBalanceV2Contract.toObject(vs,this)},TronWebProto.UnfreezeBalanceV2Contract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),unfreezeBalance:t.Message.getFieldWithDefault(_s,2,0),resource:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.UnfreezeBalanceV2Contract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.UnfreezeBalanceV2Contract;return TronWebProto.UnfreezeBalanceV2Contract.deserializeBinaryFromReader(Es,_s)},TronWebProto.UnfreezeBalanceV2Contract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readInt64();vs.setUnfreezeBalance(Ts);break;case 3:var Ts=_s.readEnum();vs.setResource(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.UnfreezeBalanceV2Contract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.UnfreezeBalanceV2Contract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.UnfreezeBalanceV2Contract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getUnfreezeBalance(),Es!==0&&_s.writeInt64(2,Es),Es=vs.getResource(),Es!==0&&_s.writeEnum(3,Es)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceV2Contract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getUnfreezeBalance=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.UnfreezeBalanceV2Contract.prototype.setUnfreezeBalance=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getResource=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.UnfreezeBalanceV2Contract.prototype.setResource=function(vs){return t.Message.setProto3EnumField(this,3,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.WithdrawExpireUnfreezeContract.prototype.toObject=function(vs){return TronWebProto.WithdrawExpireUnfreezeContract.toObject(vs,this)},TronWebProto.WithdrawExpireUnfreezeContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.WithdrawExpireUnfreezeContract;return TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.WithdrawExpireUnfreezeContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.WithdrawExpireUnfreezeContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.WithdrawExpireUnfreezeContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es)},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WithdrawExpireUnfreezeContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.DelegateResourceContract.prototype.toObject=function(vs){return TronWebProto.DelegateResourceContract.toObject(vs,this)},TronWebProto.DelegateResourceContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),resource:t.Message.getFieldWithDefault(_s,2,0),balance:t.Message.getFieldWithDefault(_s,3,0),receiverAddress:_s.getReceiverAddress_asB64(),lock:t.Message.getBooleanFieldWithDefault(_s,5,!1),lockPeriod:t.Message.getFieldWithDefault(_s,6,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.DelegateResourceContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.DelegateResourceContract;return TronWebProto.DelegateResourceContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.DelegateResourceContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readEnum();vs.setResource(Ts);break;case 3:var Ts=_s.readInt64();vs.setBalance(Ts);break;case 4:var Ts=_s.readBytes();vs.setReceiverAddress(Ts);break;case 5:var Ts=_s.readBool();vs.setLock(Ts);break;case 6:var Ts=_s.readInt64();vs.setLockPeriod(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.DelegateResourceContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.DelegateResourceContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.DelegateResourceContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getResource(),Es!==0&&_s.writeEnum(2,Es),Es=vs.getBalance(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getReceiverAddress_asU8(),Es.length>0&&_s.writeBytes(4,Es),Es=vs.getLock(),Es&&_s.writeBool(5,Es),Es=vs.getLockPeriod(),Es!==0&&_s.writeInt64(6,Es)},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.DelegateResourceContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.DelegateResourceContract.prototype.getResource=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.DelegateResourceContract.prototype.setResource=function(vs){return t.Message.setProto3EnumField(this,2,vs)},TronWebProto.DelegateResourceContract.prototype.getBalance=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.DelegateResourceContract.prototype.setBalance=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress_asB64=function(){return t.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress_asU8=function(){return t.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.DelegateResourceContract.prototype.setReceiverAddress=function(vs){return t.Message.setProto3BytesField(this,4,vs)},TronWebProto.DelegateResourceContract.prototype.getLock=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},TronWebProto.DelegateResourceContract.prototype.setLock=function(vs){return t.Message.setProto3BooleanField(this,5,vs)},TronWebProto.DelegateResourceContract.prototype.getLockPeriod=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.DelegateResourceContract.prototype.setLockPeriod=function(vs){return t.Message.setProto3IntField(this,6,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnDelegateResourceContract.prototype.toObject=function(vs){return TronWebProto.UnDelegateResourceContract.toObject(vs,this)},TronWebProto.UnDelegateResourceContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),resource:t.Message.getFieldWithDefault(_s,2,0),balance:t.Message.getFieldWithDefault(_s,3,0),receiverAddress:_s.getReceiverAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.UnDelegateResourceContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.UnDelegateResourceContract;return TronWebProto.UnDelegateResourceContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.UnDelegateResourceContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readEnum();vs.setResource(Ts);break;case 3:var Ts=_s.readInt64();vs.setBalance(Ts);break;case 4:var Ts=_s.readBytes();vs.setReceiverAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.UnDelegateResourceContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.UnDelegateResourceContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.UnDelegateResourceContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getResource(),Es!==0&&_s.writeEnum(2,Es),Es=vs.getBalance(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getReceiverAddress_asU8(),Es.length>0&&_s.writeBytes(4,Es)},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnDelegateResourceContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.UnDelegateResourceContract.prototype.getResource=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.UnDelegateResourceContract.prototype.setResource=function(vs){return t.Message.setProto3EnumField(this,2,vs)},TronWebProto.UnDelegateResourceContract.prototype.getBalance=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.UnDelegateResourceContract.prototype.setBalance=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress_asB64=function(){return t.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress_asU8=function(){return t.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.UnDelegateResourceContract.prototype.setReceiverAddress=function(vs){return t.Message.setProto3BytesField(this,4,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.CancelAllUnfreezeV2Contract.prototype.toObject=function(vs){return TronWebProto.CancelAllUnfreezeV2Contract.toObject(vs,this)},TronWebProto.CancelAllUnfreezeV2Contract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.CancelAllUnfreezeV2Contract;return TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinaryFromReader(Es,_s)},TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.CancelAllUnfreezeV2Contract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.CancelAllUnfreezeV2Contract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.CancelAllUnfreezeV2Contract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es)},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.CancelAllUnfreezeV2Contract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},et.object.extend(st,TronWebProto)}(balance_contract_pb)),balance_contract_pb}requireBalance_contract_pb();var asset_issue_contract_pb={},hasRequiredAsset_issue_contract_pb;function requireAsset_issue_contract_pb(){return hasRequiredAsset_issue_contract_pb||(hasRequiredAsset_issue_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("TronWebProto.AssetIssueContract",null,ms),et.exportSymbol("TronWebProto.AssetIssueContract.FrozenSupply",null,ms),et.exportSymbol("TronWebProto.ParticipateAssetIssueContract",null,ms),et.exportSymbol("TronWebProto.TransferAssetContract",null,ms),et.exportSymbol("TronWebProto.UnfreezeAssetContract",null,ms),et.exportSymbol("TronWebProto.UpdateAssetContract",null,ms),TronWebProto.AssetIssueContract=function(ws){t.Message.initialize(this,ws,0,-1,TronWebProto.AssetIssueContract.repeatedFields_,null)},et.inherits(TronWebProto.AssetIssueContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AssetIssueContract.displayName="TronWebProto.AssetIssueContract"),TronWebProto.AssetIssueContract.FrozenSupply=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.AssetIssueContract.FrozenSupply,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AssetIssueContract.FrozenSupply.displayName="TronWebProto.AssetIssueContract.FrozenSupply"),TronWebProto.TransferAssetContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.TransferAssetContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.TransferAssetContract.displayName="TronWebProto.TransferAssetContract"),TronWebProto.UnfreezeAssetContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.UnfreezeAssetContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeAssetContract.displayName="TronWebProto.UnfreezeAssetContract"),TronWebProto.UpdateAssetContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.UpdateAssetContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UpdateAssetContract.displayName="TronWebProto.UpdateAssetContract"),TronWebProto.ParticipateAssetIssueContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ParticipateAssetIssueContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ParticipateAssetIssueContract.displayName="TronWebProto.ParticipateAssetIssueContract"),TronWebProto.AssetIssueContract.repeatedFields_=[5],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AssetIssueContract.prototype.toObject=function(ws){return TronWebProto.AssetIssueContract.toObject(ws,this)},TronWebProto.AssetIssueContract.toObject=function(ws,vs){var _s={id:t.Message.getFieldWithDefault(vs,41,""),ownerAddress:vs.getOwnerAddress_asB64(),name:vs.getName_asB64(),abbr:vs.getAbbr_asB64(),totalSupply:t.Message.getFieldWithDefault(vs,4,0),frozenSupplyList:t.Message.toObjectList(vs.getFrozenSupplyList(),TronWebProto.AssetIssueContract.FrozenSupply.toObject,ws),trxNum:t.Message.getFieldWithDefault(vs,6,0),precision:t.Message.getFieldWithDefault(vs,7,0),num:t.Message.getFieldWithDefault(vs,8,0),startTime:t.Message.getFieldWithDefault(vs,9,0),endTime:t.Message.getFieldWithDefault(vs,10,0),order:t.Message.getFieldWithDefault(vs,11,0),voteScore:t.Message.getFieldWithDefault(vs,16,0),description:vs.getDescription_asB64(),url:vs.getUrl_asB64(),freeAssetNetLimit:t.Message.getFieldWithDefault(vs,22,0),publicFreeAssetNetLimit:t.Message.getFieldWithDefault(vs,23,0),publicFreeAssetNetUsage:t.Message.getFieldWithDefault(vs,24,0),publicLatestFreeNetTime:t.Message.getFieldWithDefault(vs,25,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.AssetIssueContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.AssetIssueContract;return TronWebProto.AssetIssueContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.AssetIssueContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 41:var Es=vs.readString();ws.setId(Es);break;case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readBytes();ws.setName(Es);break;case 3:var Es=vs.readBytes();ws.setAbbr(Es);break;case 4:var Es=vs.readInt64();ws.setTotalSupply(Es);break;case 5:var Es=new TronWebProto.AssetIssueContract.FrozenSupply;vs.readMessage(Es,TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader),ws.addFrozenSupply(Es);break;case 6:var Es=vs.readInt32();ws.setTrxNum(Es);break;case 7:var Es=vs.readInt32();ws.setPrecision(Es);break;case 8:var Es=vs.readInt32();ws.setNum(Es);break;case 9:var Es=vs.readInt64();ws.setStartTime(Es);break;case 10:var Es=vs.readInt64();ws.setEndTime(Es);break;case 11:var Es=vs.readInt64();ws.setOrder(Es);break;case 16:var Es=vs.readInt32();ws.setVoteScore(Es);break;case 20:var Es=vs.readBytes();ws.setDescription(Es);break;case 21:var Es=vs.readBytes();ws.setUrl(Es);break;case 22:var Es=vs.readInt64();ws.setFreeAssetNetLimit(Es);break;case 23:var Es=vs.readInt64();ws.setPublicFreeAssetNetLimit(Es);break;case 24:var Es=vs.readInt64();ws.setPublicFreeAssetNetUsage(Es);break;case 25:var Es=vs.readInt64();ws.setPublicLatestFreeNetTime(Es);break;default:vs.skipField();break}}return ws},TronWebProto.AssetIssueContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.AssetIssueContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.AssetIssueContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getId(),_s.length>0&&vs.writeString(41,_s),_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getName_asU8(),_s.length>0&&vs.writeBytes(2,_s),_s=ws.getAbbr_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getTotalSupply(),_s!==0&&vs.writeInt64(4,_s),_s=ws.getFrozenSupplyList(),_s.length>0&&vs.writeRepeatedMessage(5,_s,TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter),_s=ws.getTrxNum(),_s!==0&&vs.writeInt32(6,_s),_s=ws.getPrecision(),_s!==0&&vs.writeInt32(7,_s),_s=ws.getNum(),_s!==0&&vs.writeInt32(8,_s),_s=ws.getStartTime(),_s!==0&&vs.writeInt64(9,_s),_s=ws.getEndTime(),_s!==0&&vs.writeInt64(10,_s),_s=ws.getOrder(),_s!==0&&vs.writeInt64(11,_s),_s=ws.getVoteScore(),_s!==0&&vs.writeInt32(16,_s),_s=ws.getDescription_asU8(),_s.length>0&&vs.writeBytes(20,_s),_s=ws.getUrl_asU8(),_s.length>0&&vs.writeBytes(21,_s),_s=ws.getFreeAssetNetLimit(),_s!==0&&vs.writeInt64(22,_s),_s=ws.getPublicFreeAssetNetLimit(),_s!==0&&vs.writeInt64(23,_s),_s=ws.getPublicFreeAssetNetUsage(),_s!==0&&vs.writeInt64(24,_s),_s=ws.getPublicLatestFreeNetTime(),_s!==0&&vs.writeInt64(25,_s)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AssetIssueContract.FrozenSupply.prototype.toObject=function(ws){return TronWebProto.AssetIssueContract.FrozenSupply.toObject(ws,this)},TronWebProto.AssetIssueContract.FrozenSupply.toObject=function(ws,vs){var _s={frozenAmount:t.Message.getFieldWithDefault(vs,1,0),frozenDays:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.AssetIssueContract.FrozenSupply;return TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader(_s,vs)},TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readInt64();ws.setFrozenAmount(Es);break;case 2:var Es=vs.readInt64();ws.setFrozenDays(Es);break;default:vs.skipField();break}}return ws},TronWebProto.AssetIssueContract.FrozenSupply.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getFrozenAmount(),_s!==0&&vs.writeInt64(1,_s),_s=ws.getFrozenDays(),_s!==0&&vs.writeInt64(2,_s)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.getFrozenAmount=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.setFrozenAmount=function(ws){return t.Message.setProto3IntField(this,1,ws)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.getFrozenDays=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.setFrozenDays=function(ws){return t.Message.setProto3IntField(this,2,ws)},TronWebProto.AssetIssueContract.prototype.getId=function(){return t.Message.getFieldWithDefault(this,41,"")},TronWebProto.AssetIssueContract.prototype.setId=function(ws){return t.Message.setProto3StringField(this,41,ws)},TronWebProto.AssetIssueContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.AssetIssueContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AssetIssueContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AssetIssueContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.AssetIssueContract.prototype.getName=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.AssetIssueContract.prototype.getName_asB64=function(){return t.Message.bytesAsB64(this.getName())},TronWebProto.AssetIssueContract.prototype.getName_asU8=function(){return t.Message.bytesAsU8(this.getName())},TronWebProto.AssetIssueContract.prototype.setName=function(ws){return t.Message.setProto3BytesField(this,2,ws)},TronWebProto.AssetIssueContract.prototype.getAbbr=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.AssetIssueContract.prototype.getAbbr_asB64=function(){return t.Message.bytesAsB64(this.getAbbr())},TronWebProto.AssetIssueContract.prototype.getAbbr_asU8=function(){return t.Message.bytesAsU8(this.getAbbr())},TronWebProto.AssetIssueContract.prototype.setAbbr=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.AssetIssueContract.prototype.getTotalSupply=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.AssetIssueContract.prototype.setTotalSupply=function(ws){return t.Message.setProto3IntField(this,4,ws)},TronWebProto.AssetIssueContract.prototype.getFrozenSupplyList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.AssetIssueContract.FrozenSupply,5)},TronWebProto.AssetIssueContract.prototype.setFrozenSupplyList=function(ws){return t.Message.setRepeatedWrapperField(this,5,ws)},TronWebProto.AssetIssueContract.prototype.addFrozenSupply=function(ws,vs){return t.Message.addToRepeatedWrapperField(this,5,ws,TronWebProto.AssetIssueContract.FrozenSupply,vs)},TronWebProto.AssetIssueContract.prototype.clearFrozenSupplyList=function(){return this.setFrozenSupplyList([])},TronWebProto.AssetIssueContract.prototype.getTrxNum=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.AssetIssueContract.prototype.setTrxNum=function(ws){return t.Message.setProto3IntField(this,6,ws)},TronWebProto.AssetIssueContract.prototype.getPrecision=function(){return t.Message.getFieldWithDefault(this,7,0)},TronWebProto.AssetIssueContract.prototype.setPrecision=function(ws){return t.Message.setProto3IntField(this,7,ws)},TronWebProto.AssetIssueContract.prototype.getNum=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.AssetIssueContract.prototype.setNum=function(ws){return t.Message.setProto3IntField(this,8,ws)},TronWebProto.AssetIssueContract.prototype.getStartTime=function(){return t.Message.getFieldWithDefault(this,9,0)},TronWebProto.AssetIssueContract.prototype.setStartTime=function(ws){return t.Message.setProto3IntField(this,9,ws)},TronWebProto.AssetIssueContract.prototype.getEndTime=function(){return t.Message.getFieldWithDefault(this,10,0)},TronWebProto.AssetIssueContract.prototype.setEndTime=function(ws){return t.Message.setProto3IntField(this,10,ws)},TronWebProto.AssetIssueContract.prototype.getOrder=function(){return t.Message.getFieldWithDefault(this,11,0)},TronWebProto.AssetIssueContract.prototype.setOrder=function(ws){return t.Message.setProto3IntField(this,11,ws)},TronWebProto.AssetIssueContract.prototype.getVoteScore=function(){return t.Message.getFieldWithDefault(this,16,0)},TronWebProto.AssetIssueContract.prototype.setVoteScore=function(ws){return t.Message.setProto3IntField(this,16,ws)},TronWebProto.AssetIssueContract.prototype.getDescription=function(){return t.Message.getFieldWithDefault(this,20,"")},TronWebProto.AssetIssueContract.prototype.getDescription_asB64=function(){return t.Message.bytesAsB64(this.getDescription())},TronWebProto.AssetIssueContract.prototype.getDescription_asU8=function(){return t.Message.bytesAsU8(this.getDescription())},TronWebProto.AssetIssueContract.prototype.setDescription=function(ws){return t.Message.setProto3BytesField(this,20,ws)},TronWebProto.AssetIssueContract.prototype.getUrl=function(){return t.Message.getFieldWithDefault(this,21,"")},TronWebProto.AssetIssueContract.prototype.getUrl_asB64=function(){return t.Message.bytesAsB64(this.getUrl())},TronWebProto.AssetIssueContract.prototype.getUrl_asU8=function(){return t.Message.bytesAsU8(this.getUrl())},TronWebProto.AssetIssueContract.prototype.setUrl=function(ws){return t.Message.setProto3BytesField(this,21,ws)},TronWebProto.AssetIssueContract.prototype.getFreeAssetNetLimit=function(){return t.Message.getFieldWithDefault(this,22,0)},TronWebProto.AssetIssueContract.prototype.setFreeAssetNetLimit=function(ws){return t.Message.setProto3IntField(this,22,ws)},TronWebProto.AssetIssueContract.prototype.getPublicFreeAssetNetLimit=function(){return t.Message.getFieldWithDefault(this,23,0)},TronWebProto.AssetIssueContract.prototype.setPublicFreeAssetNetLimit=function(ws){return t.Message.setProto3IntField(this,23,ws)},TronWebProto.AssetIssueContract.prototype.getPublicFreeAssetNetUsage=function(){return t.Message.getFieldWithDefault(this,24,0)},TronWebProto.AssetIssueContract.prototype.setPublicFreeAssetNetUsage=function(ws){return t.Message.setProto3IntField(this,24,ws)},TronWebProto.AssetIssueContract.prototype.getPublicLatestFreeNetTime=function(){return t.Message.getFieldWithDefault(this,25,0)},TronWebProto.AssetIssueContract.prototype.setPublicLatestFreeNetTime=function(ws){return t.Message.setProto3IntField(this,25,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransferAssetContract.prototype.toObject=function(ws){return TronWebProto.TransferAssetContract.toObject(ws,this)},TronWebProto.TransferAssetContract.toObject=function(ws,vs){var _s={assetName:vs.getAssetName_asB64(),ownerAddress:vs.getOwnerAddress_asB64(),toAddress:vs.getToAddress_asB64(),amount:t.Message.getFieldWithDefault(vs,4,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.TransferAssetContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.TransferAssetContract;return TronWebProto.TransferAssetContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.TransferAssetContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setAssetName(Es);break;case 2:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 3:var Es=vs.readBytes();ws.setToAddress(Es);break;case 4:var Es=vs.readInt64();ws.setAmount(Es);break;default:vs.skipField();break}}return ws},TronWebProto.TransferAssetContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.TransferAssetContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.TransferAssetContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getAssetName_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(2,_s),_s=ws.getToAddress_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getAmount(),_s!==0&&vs.writeInt64(4,_s)},TronWebProto.TransferAssetContract.prototype.getAssetName=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransferAssetContract.prototype.getAssetName_asB64=function(){return t.Message.bytesAsB64(this.getAssetName())},TronWebProto.TransferAssetContract.prototype.getAssetName_asU8=function(){return t.Message.bytesAsU8(this.getAssetName())},TronWebProto.TransferAssetContract.prototype.setAssetName=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.TransferAssetContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransferAssetContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TransferAssetContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TransferAssetContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,2,ws)},TronWebProto.TransferAssetContract.prototype.getToAddress=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.TransferAssetContract.prototype.getToAddress_asB64=function(){return t.Message.bytesAsB64(this.getToAddress())},TronWebProto.TransferAssetContract.prototype.getToAddress_asU8=function(){return t.Message.bytesAsU8(this.getToAddress())},TronWebProto.TransferAssetContract.prototype.setToAddress=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.TransferAssetContract.prototype.getAmount=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.TransferAssetContract.prototype.setAmount=function(ws){return t.Message.setProto3IntField(this,4,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeAssetContract.prototype.toObject=function(ws){return TronWebProto.UnfreezeAssetContract.toObject(ws,this)},TronWebProto.UnfreezeAssetContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64()};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.UnfreezeAssetContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.UnfreezeAssetContract;return TronWebProto.UnfreezeAssetContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.UnfreezeAssetContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;default:vs.skipField();break}}return ws},TronWebProto.UnfreezeAssetContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.UnfreezeAssetContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.UnfreezeAssetContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s)},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeAssetContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateAssetContract.prototype.toObject=function(ws){return TronWebProto.UpdateAssetContract.toObject(ws,this)},TronWebProto.UpdateAssetContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),description:vs.getDescription_asB64(),url:vs.getUrl_asB64(),newLimit:t.Message.getFieldWithDefault(vs,4,0),newPublicLimit:t.Message.getFieldWithDefault(vs,5,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.UpdateAssetContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.UpdateAssetContract;return TronWebProto.UpdateAssetContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.UpdateAssetContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readBytes();ws.setDescription(Es);break;case 3:var Es=vs.readBytes();ws.setUrl(Es);break;case 4:var Es=vs.readInt64();ws.setNewLimit(Es);break;case 5:var Es=vs.readInt64();ws.setNewPublicLimit(Es);break;default:vs.skipField();break}}return ws},TronWebProto.UpdateAssetContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.UpdateAssetContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.UpdateAssetContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getDescription_asU8(),_s.length>0&&vs.writeBytes(2,_s),_s=ws.getUrl_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getNewLimit(),_s!==0&&vs.writeInt64(4,_s),_s=ws.getNewPublicLimit(),_s!==0&&vs.writeInt64(5,_s)},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateAssetContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.UpdateAssetContract.prototype.getDescription=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateAssetContract.prototype.getDescription_asB64=function(){return t.Message.bytesAsB64(this.getDescription())},TronWebProto.UpdateAssetContract.prototype.getDescription_asU8=function(){return t.Message.bytesAsU8(this.getDescription())},TronWebProto.UpdateAssetContract.prototype.setDescription=function(ws){return t.Message.setProto3BytesField(this,2,ws)},TronWebProto.UpdateAssetContract.prototype.getUrl=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.UpdateAssetContract.prototype.getUrl_asB64=function(){return t.Message.bytesAsB64(this.getUrl())},TronWebProto.UpdateAssetContract.prototype.getUrl_asU8=function(){return t.Message.bytesAsU8(this.getUrl())},TronWebProto.UpdateAssetContract.prototype.setUrl=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.UpdateAssetContract.prototype.getNewLimit=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.UpdateAssetContract.prototype.setNewLimit=function(ws){return t.Message.setProto3IntField(this,4,ws)},TronWebProto.UpdateAssetContract.prototype.getNewPublicLimit=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.UpdateAssetContract.prototype.setNewPublicLimit=function(ws){return t.Message.setProto3IntField(this,5,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ParticipateAssetIssueContract.prototype.toObject=function(ws){return TronWebProto.ParticipateAssetIssueContract.toObject(ws,this)},TronWebProto.ParticipateAssetIssueContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),toAddress:vs.getToAddress_asB64(),assetName:vs.getAssetName_asB64(),amount:t.Message.getFieldWithDefault(vs,4,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ParticipateAssetIssueContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ParticipateAssetIssueContract;return TronWebProto.ParticipateAssetIssueContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ParticipateAssetIssueContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readBytes();ws.setToAddress(Es);break;case 3:var Es=vs.readBytes();ws.setAssetName(Es);break;case 4:var Es=vs.readInt64();ws.setAmount(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ParticipateAssetIssueContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ParticipateAssetIssueContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ParticipateAssetIssueContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getToAddress_asU8(),_s.length>0&&vs.writeBytes(2,_s),_s=ws.getAssetName_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getAmount(),_s!==0&&vs.writeInt64(4,_s)},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress_asB64=function(){return t.Message.bytesAsB64(this.getToAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress_asU8=function(){return t.Message.bytesAsU8(this.getToAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.setToAddress=function(ws){return t.Message.setProto3BytesField(this,2,ws)},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName_asB64=function(){return t.Message.bytesAsB64(this.getAssetName())},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName_asU8=function(){return t.Message.bytesAsU8(this.getAssetName())},TronWebProto.ParticipateAssetIssueContract.prototype.setAssetName=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.ParticipateAssetIssueContract.prototype.getAmount=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.ParticipateAssetIssueContract.prototype.setAmount=function(ws){return t.Message.setProto3IntField(this,4,ws)},et.object.extend(st,TronWebProto)}(asset_issue_contract_pb)),asset_issue_contract_pb}requireAsset_issue_contract_pb();var smart_contract_pb={},hasRequiredSmart_contract_pb;function requireSmart_contract_pb(){return hasRequiredSmart_contract_pb||(hasRequiredSmart_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),ws=requireTron_pb();et.object.extend(proto,ws),et.exportSymbol("TronWebProto.ClearABIContract",null,ms),et.exportSymbol("TronWebProto.ContractState",null,ms),et.exportSymbol("TronWebProto.CreateSmartContract",null,ms),et.exportSymbol("TronWebProto.SmartContract",null,ms),et.exportSymbol("TronWebProto.SmartContract.ABI",null,ms),et.exportSymbol("TronWebProto.SmartContract.ABI.Entry",null,ms),et.exportSymbol("TronWebProto.SmartContract.ABI.Entry.EntryType",null,ms),et.exportSymbol("TronWebProto.SmartContract.ABI.Entry.Param",null,ms),et.exportSymbol("TronWebProto.SmartContract.ABI.Entry.StateMutabilityType",null,ms),et.exportSymbol("TronWebProto.SmartContractDataWrapper",null,ms),et.exportSymbol("TronWebProto.TriggerSmartContract",null,ms),et.exportSymbol("TronWebProto.UpdateEnergyLimitContract",null,ms),et.exportSymbol("TronWebProto.UpdateSettingContract",null,ms),TronWebProto.SmartContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.SmartContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.displayName="TronWebProto.SmartContract"),TronWebProto.SmartContract.ABI=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.SmartContract.ABI.repeatedFields_,null)},et.inherits(TronWebProto.SmartContract.ABI,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.displayName="TronWebProto.SmartContract.ABI"),TronWebProto.SmartContract.ABI.Entry=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.SmartContract.ABI.Entry.repeatedFields_,null)},et.inherits(TronWebProto.SmartContract.ABI.Entry,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.Entry.displayName="TronWebProto.SmartContract.ABI.Entry"),TronWebProto.SmartContract.ABI.Entry.Param=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.SmartContract.ABI.Entry.Param,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.Entry.Param.displayName="TronWebProto.SmartContract.ABI.Entry.Param"),TronWebProto.ContractState=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.ContractState,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ContractState.displayName="TronWebProto.ContractState"),TronWebProto.CreateSmartContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.CreateSmartContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.CreateSmartContract.displayName="TronWebProto.CreateSmartContract"),TronWebProto.TriggerSmartContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.TriggerSmartContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.TriggerSmartContract.displayName="TronWebProto.TriggerSmartContract"),TronWebProto.ClearABIContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.ClearABIContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ClearABIContract.displayName="TronWebProto.ClearABIContract"),TronWebProto.UpdateSettingContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.UpdateSettingContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UpdateSettingContract.displayName="TronWebProto.UpdateSettingContract"),TronWebProto.UpdateEnergyLimitContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.UpdateEnergyLimitContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UpdateEnergyLimitContract.displayName="TronWebProto.UpdateEnergyLimitContract"),TronWebProto.SmartContractDataWrapper=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.SmartContractDataWrapper,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SmartContractDataWrapper.displayName="TronWebProto.SmartContractDataWrapper"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.prototype.toObject=function(vs){return TronWebProto.SmartContract.toObject(vs,this)},TronWebProto.SmartContract.toObject=function(vs,_s){var Es,Ts={originAddress:_s.getOriginAddress_asB64(),contractAddress:_s.getContractAddress_asB64(),abi:(Es=_s.getAbi())&&TronWebProto.SmartContract.ABI.toObject(vs,Es),bytecode:_s.getBytecode_asB64(),callValue:t.Message.getFieldWithDefault(_s,5,0),consumeUserResourcePercent:t.Message.getFieldWithDefault(_s,6,0),name:t.Message.getFieldWithDefault(_s,7,""),originEnergyLimit:t.Message.getFieldWithDefault(_s,8,0),codeHash:_s.getCodeHash_asB64(),trxHash:_s.getTrxHash_asB64(),version:t.Message.getFieldWithDefault(_s,11,0)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.SmartContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.SmartContract;return TronWebProto.SmartContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.SmartContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOriginAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setContractAddress(Ts);break;case 3:var Ts=new TronWebProto.SmartContract.ABI;_s.readMessage(Ts,TronWebProto.SmartContract.ABI.deserializeBinaryFromReader),vs.setAbi(Ts);break;case 4:var Ts=_s.readBytes();vs.setBytecode(Ts);break;case 5:var Ts=_s.readInt64();vs.setCallValue(Ts);break;case 6:var Ts=_s.readInt64();vs.setConsumeUserResourcePercent(Ts);break;case 7:var Ts=_s.readString();vs.setName(Ts);break;case 8:var Ts=_s.readInt64();vs.setOriginEnergyLimit(Ts);break;case 9:var Ts=_s.readBytes();vs.setCodeHash(Ts);break;case 10:var Ts=_s.readBytes();vs.setTrxHash(Ts);break;case 11:var Ts=_s.readInt32();vs.setVersion(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.SmartContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.SmartContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.SmartContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOriginAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getContractAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getAbi(),Es!=null&&_s.writeMessage(3,Es,TronWebProto.SmartContract.ABI.serializeBinaryToWriter),Es=vs.getBytecode_asU8(),Es.length>0&&_s.writeBytes(4,Es),Es=vs.getCallValue(),Es!==0&&_s.writeInt64(5,Es),Es=vs.getConsumeUserResourcePercent(),Es!==0&&_s.writeInt64(6,Es),Es=vs.getName(),Es.length>0&&_s.writeString(7,Es),Es=vs.getOriginEnergyLimit(),Es!==0&&_s.writeInt64(8,Es),Es=vs.getCodeHash_asU8(),Es.length>0&&_s.writeBytes(9,Es),Es=vs.getTrxHash_asU8(),Es.length>0&&_s.writeBytes(10,Es),Es=vs.getVersion(),Es!==0&&_s.writeInt32(11,Es)},TronWebProto.SmartContract.ABI.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.prototype.toObject=function(vs){return TronWebProto.SmartContract.ABI.toObject(vs,this)},TronWebProto.SmartContract.ABI.toObject=function(vs,_s){var Es={entrysList:t.Message.toObjectList(_s.getEntrysList(),TronWebProto.SmartContract.ABI.Entry.toObject,vs)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.SmartContract.ABI.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.SmartContract.ABI;return TronWebProto.SmartContract.ABI.deserializeBinaryFromReader(Es,_s)},TronWebProto.SmartContract.ABI.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=new TronWebProto.SmartContract.ABI.Entry;_s.readMessage(Ts,TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader),vs.addEntrys(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.SmartContract.ABI.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.SmartContract.ABI.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.SmartContract.ABI.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getEntrysList(),Es.length>0&&_s.writeRepeatedMessage(1,Es,TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter)},TronWebProto.SmartContract.ABI.Entry.repeatedFields_=[4,5],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.Entry.prototype.toObject=function(vs){return TronWebProto.SmartContract.ABI.Entry.toObject(vs,this)},TronWebProto.SmartContract.ABI.Entry.toObject=function(vs,_s){var Es={anonymous:t.Message.getBooleanFieldWithDefault(_s,1,!1),constant:t.Message.getBooleanFieldWithDefault(_s,2,!1),name:t.Message.getFieldWithDefault(_s,3,""),inputsList:t.Message.toObjectList(_s.getInputsList(),TronWebProto.SmartContract.ABI.Entry.Param.toObject,vs),outputsList:t.Message.toObjectList(_s.getOutputsList(),TronWebProto.SmartContract.ABI.Entry.Param.toObject,vs),type:t.Message.getFieldWithDefault(_s,6,0),payable:t.Message.getBooleanFieldWithDefault(_s,7,!1),statemutability:t.Message.getFieldWithDefault(_s,8,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.SmartContract.ABI.Entry.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.SmartContract.ABI.Entry;return TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader(Es,_s)},TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBool();vs.setAnonymous(Ts);break;case 2:var Ts=_s.readBool();vs.setConstant(Ts);break;case 3:var Ts=_s.readString();vs.setName(Ts);break;case 4:var Ts=new TronWebProto.SmartContract.ABI.Entry.Param;_s.readMessage(Ts,TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader),vs.addInputs(Ts);break;case 5:var Ts=new TronWebProto.SmartContract.ABI.Entry.Param;_s.readMessage(Ts,TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader),vs.addOutputs(Ts);break;case 6:var Ts=_s.readEnum();vs.setType(Ts);break;case 7:var Ts=_s.readBool();vs.setPayable(Ts);break;case 8:var Ts=_s.readEnum();vs.setStatemutability(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.SmartContract.ABI.Entry.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAnonymous(),Es&&_s.writeBool(1,Es),Es=vs.getConstant(),Es&&_s.writeBool(2,Es),Es=vs.getName(),Es.length>0&&_s.writeString(3,Es),Es=vs.getInputsList(),Es.length>0&&_s.writeRepeatedMessage(4,Es,TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter),Es=vs.getOutputsList(),Es.length>0&&_s.writeRepeatedMessage(5,Es,TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter),Es=vs.getType(),Es!==0&&_s.writeEnum(6,Es),Es=vs.getPayable(),Es&&_s.writeBool(7,Es),Es=vs.getStatemutability(),Es!==0&&_s.writeEnum(8,Es)},TronWebProto.SmartContract.ABI.Entry.EntryType={UNKNOWNENTRYTYPE:0,CONSTRUCTOR:1,FUNCTION:2,EVENT:3,FALLBACK:4,RECEIVE:5,ERROR:6},TronWebProto.SmartContract.ABI.Entry.StateMutabilityType={UNKNOWNMUTABILITYTYPE:0,PURE:1,VIEW:2,NONPAYABLE:3,PAYABLE:4},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.Entry.Param.prototype.toObject=function(vs){return TronWebProto.SmartContract.ABI.Entry.Param.toObject(vs,this)},TronWebProto.SmartContract.ABI.Entry.Param.toObject=function(vs,_s){var Es={indexed:t.Message.getBooleanFieldWithDefault(_s,1,!1),name:t.Message.getFieldWithDefault(_s,2,""),type:t.Message.getFieldWithDefault(_s,3,"")};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.SmartContract.ABI.Entry.Param;return TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader(Es,_s)},TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBool();vs.setIndexed(Ts);break;case 2:var Ts=_s.readString();vs.setName(Ts);break;case 3:var Ts=_s.readString();vs.setType(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.SmartContract.ABI.Entry.Param.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getIndexed(),Es&&_s.writeBool(1,Es),Es=vs.getName(),Es.length>0&&_s.writeString(2,Es),Es=vs.getType(),Es.length>0&&_s.writeString(3,Es)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getIndexed=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setIndexed=function(vs){return t.Message.setProto3BooleanField(this,1,vs)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getName=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setName=function(vs){return t.Message.setProto3StringField(this,2,vs)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getType=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setType=function(vs){return t.Message.setProto3StringField(this,3,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.getAnonymous=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setAnonymous=function(vs){return t.Message.setProto3BooleanField(this,1,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.getConstant=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setConstant=function(vs){return t.Message.setProto3BooleanField(this,2,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.getName=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.SmartContract.ABI.Entry.prototype.setName=function(vs){return t.Message.setProto3StringField(this,3,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.getInputsList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry.Param,4)},TronWebProto.SmartContract.ABI.Entry.prototype.setInputsList=function(vs){return t.Message.setRepeatedWrapperField(this,4,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.addInputs=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,4,vs,TronWebProto.SmartContract.ABI.Entry.Param,_s)},TronWebProto.SmartContract.ABI.Entry.prototype.clearInputsList=function(){return this.setInputsList([])},TronWebProto.SmartContract.ABI.Entry.prototype.getOutputsList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry.Param,5)},TronWebProto.SmartContract.ABI.Entry.prototype.setOutputsList=function(vs){return t.Message.setRepeatedWrapperField(this,5,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.addOutputs=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,5,vs,TronWebProto.SmartContract.ABI.Entry.Param,_s)},TronWebProto.SmartContract.ABI.Entry.prototype.clearOutputsList=function(){return this.setOutputsList([])},TronWebProto.SmartContract.ABI.Entry.prototype.getType=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.SmartContract.ABI.Entry.prototype.setType=function(vs){return t.Message.setProto3EnumField(this,6,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.getPayable=function(){return t.Message.getBooleanFieldWithDefault(this,7,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setPayable=function(vs){return t.Message.setProto3BooleanField(this,7,vs)},TronWebProto.SmartContract.ABI.Entry.prototype.getStatemutability=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.SmartContract.ABI.Entry.prototype.setStatemutability=function(vs){return t.Message.setProto3EnumField(this,8,vs)},TronWebProto.SmartContract.ABI.prototype.getEntrysList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry,1)},TronWebProto.SmartContract.ABI.prototype.setEntrysList=function(vs){return t.Message.setRepeatedWrapperField(this,1,vs)},TronWebProto.SmartContract.ABI.prototype.addEntrys=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,1,vs,TronWebProto.SmartContract.ABI.Entry,_s)},TronWebProto.SmartContract.ABI.prototype.clearEntrysList=function(){return this.setEntrysList([])},TronWebProto.SmartContract.prototype.getOriginAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.SmartContract.prototype.getOriginAddress_asB64=function(){return t.Message.bytesAsB64(this.getOriginAddress())},TronWebProto.SmartContract.prototype.getOriginAddress_asU8=function(){return t.Message.bytesAsU8(this.getOriginAddress())},TronWebProto.SmartContract.prototype.setOriginAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.SmartContract.prototype.getContractAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContract.prototype.getContractAddress_asB64=function(){return t.Message.bytesAsB64(this.getContractAddress())},TronWebProto.SmartContract.prototype.getContractAddress_asU8=function(){return t.Message.bytesAsU8(this.getContractAddress())},TronWebProto.SmartContract.prototype.setContractAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.SmartContract.prototype.getAbi=function(){return t.Message.getWrapperField(this,TronWebProto.SmartContract.ABI,3)},TronWebProto.SmartContract.prototype.setAbi=function(vs){return t.Message.setWrapperField(this,3,vs)},TronWebProto.SmartContract.prototype.clearAbi=function(){return this.setAbi(void 0)},TronWebProto.SmartContract.prototype.hasAbi=function(){return t.Message.getField(this,3)!=null},TronWebProto.SmartContract.prototype.getBytecode=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.SmartContract.prototype.getBytecode_asB64=function(){return t.Message.bytesAsB64(this.getBytecode())},TronWebProto.SmartContract.prototype.getBytecode_asU8=function(){return t.Message.bytesAsU8(this.getBytecode())},TronWebProto.SmartContract.prototype.setBytecode=function(vs){return t.Message.setProto3BytesField(this,4,vs)},TronWebProto.SmartContract.prototype.getCallValue=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.SmartContract.prototype.setCallValue=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.SmartContract.prototype.getConsumeUserResourcePercent=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.SmartContract.prototype.setConsumeUserResourcePercent=function(vs){return t.Message.setProto3IntField(this,6,vs)},TronWebProto.SmartContract.prototype.getName=function(){return t.Message.getFieldWithDefault(this,7,"")},TronWebProto.SmartContract.prototype.setName=function(vs){return t.Message.setProto3StringField(this,7,vs)},TronWebProto.SmartContract.prototype.getOriginEnergyLimit=function(){return t.Message.getFieldWithDefault(this,8,0)},TronWebProto.SmartContract.prototype.setOriginEnergyLimit=function(vs){return t.Message.setProto3IntField(this,8,vs)},TronWebProto.SmartContract.prototype.getCodeHash=function(){return t.Message.getFieldWithDefault(this,9,"")},TronWebProto.SmartContract.prototype.getCodeHash_asB64=function(){return t.Message.bytesAsB64(this.getCodeHash())},TronWebProto.SmartContract.prototype.getCodeHash_asU8=function(){return t.Message.bytesAsU8(this.getCodeHash())},TronWebProto.SmartContract.prototype.setCodeHash=function(vs){return t.Message.setProto3BytesField(this,9,vs)},TronWebProto.SmartContract.prototype.getTrxHash=function(){return t.Message.getFieldWithDefault(this,10,"")},TronWebProto.SmartContract.prototype.getTrxHash_asB64=function(){return t.Message.bytesAsB64(this.getTrxHash())},TronWebProto.SmartContract.prototype.getTrxHash_asU8=function(){return t.Message.bytesAsU8(this.getTrxHash())},TronWebProto.SmartContract.prototype.setTrxHash=function(vs){return t.Message.setProto3BytesField(this,10,vs)},TronWebProto.SmartContract.prototype.getVersion=function(){return t.Message.getFieldWithDefault(this,11,0)},TronWebProto.SmartContract.prototype.setVersion=function(vs){return t.Message.setProto3IntField(this,11,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ContractState.prototype.toObject=function(vs){return TronWebProto.ContractState.toObject(vs,this)},TronWebProto.ContractState.toObject=function(vs,_s){var Es={energyUsage:t.Message.getFieldWithDefault(_s,1,0),energyFactor:t.Message.getFieldWithDefault(_s,2,0),updateCycle:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.ContractState.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.ContractState;return TronWebProto.ContractState.deserializeBinaryFromReader(Es,_s)},TronWebProto.ContractState.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readInt64();vs.setEnergyUsage(Ts);break;case 2:var Ts=_s.readInt64();vs.setEnergyFactor(Ts);break;case 3:var Ts=_s.readInt64();vs.setUpdateCycle(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.ContractState.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.ContractState.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.ContractState.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getEnergyUsage(),Es!==0&&_s.writeInt64(1,Es),Es=vs.getEnergyFactor(),Es!==0&&_s.writeInt64(2,Es),Es=vs.getUpdateCycle(),Es!==0&&_s.writeInt64(3,Es)},TronWebProto.ContractState.prototype.getEnergyUsage=function(){return t.Message.getFieldWithDefault(this,1,0)},TronWebProto.ContractState.prototype.setEnergyUsage=function(vs){return t.Message.setProto3IntField(this,1,vs)},TronWebProto.ContractState.prototype.getEnergyFactor=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.ContractState.prototype.setEnergyFactor=function(vs){return t.Message.setProto3IntField(this,2,vs)},TronWebProto.ContractState.prototype.getUpdateCycle=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.ContractState.prototype.setUpdateCycle=function(vs){return t.Message.setProto3IntField(this,3,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.CreateSmartContract.prototype.toObject=function(vs){return TronWebProto.CreateSmartContract.toObject(vs,this)},TronWebProto.CreateSmartContract.toObject=function(vs,_s){var Es,Ts={ownerAddress:_s.getOwnerAddress_asB64(),newContract:(Es=_s.getNewContract())&&TronWebProto.SmartContract.toObject(vs,Es),callTokenValue:t.Message.getFieldWithDefault(_s,3,0),tokenId:t.Message.getFieldWithDefault(_s,4,0)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.CreateSmartContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.CreateSmartContract;return TronWebProto.CreateSmartContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.CreateSmartContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=new TronWebProto.SmartContract;_s.readMessage(Ts,TronWebProto.SmartContract.deserializeBinaryFromReader),vs.setNewContract(Ts);break;case 3:var Ts=_s.readInt64();vs.setCallTokenValue(Ts);break;case 4:var Ts=_s.readInt64();vs.setTokenId(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.CreateSmartContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.CreateSmartContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.CreateSmartContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getNewContract(),Es!=null&&_s.writeMessage(2,Es,TronWebProto.SmartContract.serializeBinaryToWriter),Es=vs.getCallTokenValue(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getTokenId(),Es!==0&&_s.writeInt64(4,Es)},TronWebProto.CreateSmartContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.CreateSmartContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.CreateSmartContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.CreateSmartContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.CreateSmartContract.prototype.getNewContract=function(){return t.Message.getWrapperField(this,TronWebProto.SmartContract,2)},TronWebProto.CreateSmartContract.prototype.setNewContract=function(vs){return t.Message.setWrapperField(this,2,vs)},TronWebProto.CreateSmartContract.prototype.clearNewContract=function(){return this.setNewContract(void 0)},TronWebProto.CreateSmartContract.prototype.hasNewContract=function(){return t.Message.getField(this,2)!=null},TronWebProto.CreateSmartContract.prototype.getCallTokenValue=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.CreateSmartContract.prototype.setCallTokenValue=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.CreateSmartContract.prototype.getTokenId=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.CreateSmartContract.prototype.setTokenId=function(vs){return t.Message.setProto3IntField(this,4,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.TriggerSmartContract.prototype.toObject=function(vs){return TronWebProto.TriggerSmartContract.toObject(vs,this)},TronWebProto.TriggerSmartContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),contractAddress:_s.getContractAddress_asB64(),callValue:t.Message.getFieldWithDefault(_s,3,0),data:_s.getData_asB64(),callTokenValue:t.Message.getFieldWithDefault(_s,5,0),tokenId:t.Message.getFieldWithDefault(_s,6,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.TriggerSmartContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.TriggerSmartContract;return TronWebProto.TriggerSmartContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.TriggerSmartContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setContractAddress(Ts);break;case 3:var Ts=_s.readInt64();vs.setCallValue(Ts);break;case 4:var Ts=_s.readBytes();vs.setData(Ts);break;case 5:var Ts=_s.readInt64();vs.setCallTokenValue(Ts);break;case 6:var Ts=_s.readInt64();vs.setTokenId(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.TriggerSmartContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.TriggerSmartContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.TriggerSmartContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getContractAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getCallValue(),Es!==0&&_s.writeInt64(3,Es),Es=vs.getData_asU8(),Es.length>0&&_s.writeBytes(4,Es),Es=vs.getCallTokenValue(),Es!==0&&_s.writeInt64(5,Es),Es=vs.getTokenId(),Es!==0&&_s.writeInt64(6,Es)},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TriggerSmartContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.TriggerSmartContract.prototype.getContractAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.TriggerSmartContract.prototype.getContractAddress_asB64=function(){return t.Message.bytesAsB64(this.getContractAddress())},TronWebProto.TriggerSmartContract.prototype.getContractAddress_asU8=function(){return t.Message.bytesAsU8(this.getContractAddress())},TronWebProto.TriggerSmartContract.prototype.setContractAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.TriggerSmartContract.prototype.getCallValue=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.TriggerSmartContract.prototype.setCallValue=function(vs){return t.Message.setProto3IntField(this,3,vs)},TronWebProto.TriggerSmartContract.prototype.getData=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.TriggerSmartContract.prototype.getData_asB64=function(){return t.Message.bytesAsB64(this.getData())},TronWebProto.TriggerSmartContract.prototype.getData_asU8=function(){return t.Message.bytesAsU8(this.getData())},TronWebProto.TriggerSmartContract.prototype.setData=function(vs){return t.Message.setProto3BytesField(this,4,vs)},TronWebProto.TriggerSmartContract.prototype.getCallTokenValue=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.TriggerSmartContract.prototype.setCallTokenValue=function(vs){return t.Message.setProto3IntField(this,5,vs)},TronWebProto.TriggerSmartContract.prototype.getTokenId=function(){return t.Message.getFieldWithDefault(this,6,0)},TronWebProto.TriggerSmartContract.prototype.setTokenId=function(vs){return t.Message.setProto3IntField(this,6,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ClearABIContract.prototype.toObject=function(vs){return TronWebProto.ClearABIContract.toObject(vs,this)},TronWebProto.ClearABIContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),contractAddress:_s.getContractAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.ClearABIContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.ClearABIContract;return TronWebProto.ClearABIContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.ClearABIContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setContractAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.ClearABIContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.ClearABIContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.ClearABIContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getContractAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es)},TronWebProto.ClearABIContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ClearABIContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ClearABIContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ClearABIContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.ClearABIContract.prototype.getContractAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.ClearABIContract.prototype.getContractAddress_asB64=function(){return t.Message.bytesAsB64(this.getContractAddress())},TronWebProto.ClearABIContract.prototype.getContractAddress_asU8=function(){return t.Message.bytesAsU8(this.getContractAddress())},TronWebProto.ClearABIContract.prototype.setContractAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateSettingContract.prototype.toObject=function(vs){return TronWebProto.UpdateSettingContract.toObject(vs,this)},TronWebProto.UpdateSettingContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),contractAddress:_s.getContractAddress_asB64(),consumeUserResourcePercent:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.UpdateSettingContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.UpdateSettingContract;return TronWebProto.UpdateSettingContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.UpdateSettingContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setContractAddress(Ts);break;case 3:var Ts=_s.readInt64();vs.setConsumeUserResourcePercent(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.UpdateSettingContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.UpdateSettingContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.UpdateSettingContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getContractAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getConsumeUserResourcePercent(),Es!==0&&_s.writeInt64(3,Es)},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateSettingContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.UpdateSettingContract.prototype.getContractAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateSettingContract.prototype.getContractAddress_asB64=function(){return t.Message.bytesAsB64(this.getContractAddress())},TronWebProto.UpdateSettingContract.prototype.getContractAddress_asU8=function(){return t.Message.bytesAsU8(this.getContractAddress())},TronWebProto.UpdateSettingContract.prototype.setContractAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.UpdateSettingContract.prototype.getConsumeUserResourcePercent=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.UpdateSettingContract.prototype.setConsumeUserResourcePercent=function(vs){return t.Message.setProto3IntField(this,3,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateEnergyLimitContract.prototype.toObject=function(vs){return TronWebProto.UpdateEnergyLimitContract.toObject(vs,this)},TronWebProto.UpdateEnergyLimitContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),contractAddress:_s.getContractAddress_asB64(),originEnergyLimit:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.UpdateEnergyLimitContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.UpdateEnergyLimitContract;return TronWebProto.UpdateEnergyLimitContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.UpdateEnergyLimitContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setContractAddress(Ts);break;case 3:var Ts=_s.readInt64();vs.setOriginEnergyLimit(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.UpdateEnergyLimitContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.UpdateEnergyLimitContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.UpdateEnergyLimitContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getContractAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getOriginEnergyLimit(),Es!==0&&_s.writeInt64(3,Es)},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress_asB64=function(){return t.Message.bytesAsB64(this.getContractAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress_asU8=function(){return t.Message.bytesAsU8(this.getContractAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.setContractAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.UpdateEnergyLimitContract.prototype.getOriginEnergyLimit=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.UpdateEnergyLimitContract.prototype.setOriginEnergyLimit=function(vs){return t.Message.setProto3IntField(this,3,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContractDataWrapper.prototype.toObject=function(vs){return TronWebProto.SmartContractDataWrapper.toObject(vs,this)},TronWebProto.SmartContractDataWrapper.toObject=function(vs,_s){var Es,Ts={smartContract:(Es=_s.getSmartContract())&&TronWebProto.SmartContract.toObject(vs,Es),runtimecode:_s.getRuntimecode_asB64(),contractState:(Es=_s.getContractState())&&TronWebProto.ContractState.toObject(vs,Es)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.SmartContractDataWrapper.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.SmartContractDataWrapper;return TronWebProto.SmartContractDataWrapper.deserializeBinaryFromReader(Es,_s)},TronWebProto.SmartContractDataWrapper.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=new TronWebProto.SmartContract;_s.readMessage(Ts,TronWebProto.SmartContract.deserializeBinaryFromReader),vs.setSmartContract(Ts);break;case 2:var Ts=_s.readBytes();vs.setRuntimecode(Ts);break;case 3:var Ts=new TronWebProto.ContractState;_s.readMessage(Ts,TronWebProto.ContractState.deserializeBinaryFromReader),vs.setContractState(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.SmartContractDataWrapper.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.SmartContractDataWrapper.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.SmartContractDataWrapper.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getSmartContract(),Es!=null&&_s.writeMessage(1,Es,TronWebProto.SmartContract.serializeBinaryToWriter),Es=vs.getRuntimecode_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getContractState(),Es!=null&&_s.writeMessage(3,Es,TronWebProto.ContractState.serializeBinaryToWriter)},TronWebProto.SmartContractDataWrapper.prototype.getSmartContract=function(){return t.Message.getWrapperField(this,TronWebProto.SmartContract,1)},TronWebProto.SmartContractDataWrapper.prototype.setSmartContract=function(vs){return t.Message.setWrapperField(this,1,vs)},TronWebProto.SmartContractDataWrapper.prototype.clearSmartContract=function(){return this.setSmartContract(void 0)},TronWebProto.SmartContractDataWrapper.prototype.hasSmartContract=function(){return t.Message.getField(this,1)!=null},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode_asB64=function(){return t.Message.bytesAsB64(this.getRuntimecode())},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode_asU8=function(){return t.Message.bytesAsU8(this.getRuntimecode())},TronWebProto.SmartContractDataWrapper.prototype.setRuntimecode=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.SmartContractDataWrapper.prototype.getContractState=function(){return t.Message.getWrapperField(this,TronWebProto.ContractState,3)},TronWebProto.SmartContractDataWrapper.prototype.setContractState=function(vs){return t.Message.setWrapperField(this,3,vs)},TronWebProto.SmartContractDataWrapper.prototype.clearContractState=function(){return this.setContractState(void 0)},TronWebProto.SmartContractDataWrapper.prototype.hasContractState=function(){return t.Message.getField(this,3)!=null},et.object.extend(st,TronWebProto)}(smart_contract_pb)),smart_contract_pb}requireSmart_contract_pb();requireCommon_pb();var witness_contract_pb={},hasRequiredWitness_contract_pb;function requireWitness_contract_pb(){return hasRequiredWitness_contract_pb||(hasRequiredWitness_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("TronWebProto.VoteWitnessContract",null,ms),et.exportSymbol("TronWebProto.VoteWitnessContract.Vote",null,ms),et.exportSymbol("TronWebProto.WitnessCreateContract",null,ms),et.exportSymbol("TronWebProto.WitnessUpdateContract",null,ms),TronWebProto.WitnessCreateContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.WitnessCreateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.WitnessCreateContract.displayName="TronWebProto.WitnessCreateContract"),TronWebProto.WitnessUpdateContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.WitnessUpdateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.WitnessUpdateContract.displayName="TronWebProto.WitnessUpdateContract"),TronWebProto.VoteWitnessContract=function(ws){t.Message.initialize(this,ws,0,-1,TronWebProto.VoteWitnessContract.repeatedFields_,null)},et.inherits(TronWebProto.VoteWitnessContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.VoteWitnessContract.displayName="TronWebProto.VoteWitnessContract"),TronWebProto.VoteWitnessContract.Vote=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.VoteWitnessContract.Vote,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.VoteWitnessContract.Vote.displayName="TronWebProto.VoteWitnessContract.Vote"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.WitnessCreateContract.prototype.toObject=function(ws){return TronWebProto.WitnessCreateContract.toObject(ws,this)},TronWebProto.WitnessCreateContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),url:vs.getUrl_asB64()};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.WitnessCreateContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.WitnessCreateContract;return TronWebProto.WitnessCreateContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.WitnessCreateContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readBytes();ws.setUrl(Es);break;default:vs.skipField();break}}return ws},TronWebProto.WitnessCreateContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.WitnessCreateContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.WitnessCreateContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getUrl_asU8(),_s.length>0&&vs.writeBytes(2,_s)},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WitnessCreateContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.WitnessCreateContract.prototype.getUrl=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.WitnessCreateContract.prototype.getUrl_asB64=function(){return t.Message.bytesAsB64(this.getUrl())},TronWebProto.WitnessCreateContract.prototype.getUrl_asU8=function(){return t.Message.bytesAsU8(this.getUrl())},TronWebProto.WitnessCreateContract.prototype.setUrl=function(ws){return t.Message.setProto3BytesField(this,2,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.WitnessUpdateContract.prototype.toObject=function(ws){return TronWebProto.WitnessUpdateContract.toObject(ws,this)},TronWebProto.WitnessUpdateContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),updateUrl:vs.getUpdateUrl_asB64()};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.WitnessUpdateContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.WitnessUpdateContract;return TronWebProto.WitnessUpdateContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.WitnessUpdateContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 12:var Es=vs.readBytes();ws.setUpdateUrl(Es);break;default:vs.skipField();break}}return ws},TronWebProto.WitnessUpdateContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.WitnessUpdateContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.WitnessUpdateContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getUpdateUrl_asU8(),_s.length>0&&vs.writeBytes(12,_s)},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WitnessUpdateContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl=function(){return t.Message.getFieldWithDefault(this,12,"")},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl_asB64=function(){return t.Message.bytesAsB64(this.getUpdateUrl())},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl_asU8=function(){return t.Message.bytesAsU8(this.getUpdateUrl())},TronWebProto.WitnessUpdateContract.prototype.setUpdateUrl=function(ws){return t.Message.setProto3BytesField(this,12,ws)},TronWebProto.VoteWitnessContract.repeatedFields_=[2],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.VoteWitnessContract.prototype.toObject=function(ws){return TronWebProto.VoteWitnessContract.toObject(ws,this)},TronWebProto.VoteWitnessContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),votesList:t.Message.toObjectList(vs.getVotesList(),TronWebProto.VoteWitnessContract.Vote.toObject,ws),support:t.Message.getBooleanFieldWithDefault(vs,3,!1)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.VoteWitnessContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.VoteWitnessContract;return TronWebProto.VoteWitnessContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.VoteWitnessContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=new TronWebProto.VoteWitnessContract.Vote;vs.readMessage(Es,TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader),ws.addVotes(Es);break;case 3:var Es=vs.readBool();ws.setSupport(Es);break;default:vs.skipField();break}}return ws},TronWebProto.VoteWitnessContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.VoteWitnessContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.VoteWitnessContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getVotesList(),_s.length>0&&vs.writeRepeatedMessage(2,_s,TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter),_s=ws.getSupport(),_s&&vs.writeBool(3,_s)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.VoteWitnessContract.Vote.prototype.toObject=function(ws){return TronWebProto.VoteWitnessContract.Vote.toObject(ws,this)},TronWebProto.VoteWitnessContract.Vote.toObject=function(ws,vs){var _s={voteAddress:vs.getVoteAddress_asB64(),voteCount:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.VoteWitnessContract.Vote.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.VoteWitnessContract.Vote;return TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader(_s,vs)},TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setVoteAddress(Es);break;case 2:var Es=vs.readInt64();ws.setVoteCount(Es);break;default:vs.skipField();break}}return ws},TronWebProto.VoteWitnessContract.Vote.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getVoteAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getVoteCount(),_s!==0&&vs.writeInt64(2,_s)},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress_asB64=function(){return t.Message.bytesAsB64(this.getVoteAddress())},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress_asU8=function(){return t.Message.bytesAsU8(this.getVoteAddress())},TronWebProto.VoteWitnessContract.Vote.prototype.setVoteAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteCount=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.VoteWitnessContract.Vote.prototype.setVoteCount=function(ws){return t.Message.setProto3IntField(this,2,ws)},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.VoteWitnessContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.VoteWitnessContract.prototype.getVotesList=function(){return t.Message.getRepeatedWrapperField(this,TronWebProto.VoteWitnessContract.Vote,2)},TronWebProto.VoteWitnessContract.prototype.setVotesList=function(ws){return t.Message.setRepeatedWrapperField(this,2,ws)},TronWebProto.VoteWitnessContract.prototype.addVotes=function(ws,vs){return t.Message.addToRepeatedWrapperField(this,2,ws,TronWebProto.VoteWitnessContract.Vote,vs)},TronWebProto.VoteWitnessContract.prototype.clearVotesList=function(){return this.setVotesList([])},TronWebProto.VoteWitnessContract.prototype.getSupport=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},TronWebProto.VoteWitnessContract.prototype.setSupport=function(ws){return t.Message.setProto3BooleanField(this,3,ws)},et.object.extend(st,TronWebProto)}(witness_contract_pb)),witness_contract_pb}requireWitness_contract_pb();var storage_contract_pb={},hasRequiredStorage_contract_pb;function requireStorage_contract_pb(){return hasRequiredStorage_contract_pb||(hasRequiredStorage_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("TronWebProto.BuyStorageBytesContract",null,ms),et.exportSymbol("TronWebProto.BuyStorageContract",null,ms),et.exportSymbol("TronWebProto.SellStorageContract",null,ms),et.exportSymbol("TronWebProto.UpdateBrokerageContract",null,ms),TronWebProto.BuyStorageBytesContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.BuyStorageBytesContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.BuyStorageBytesContract.displayName="TronWebProto.BuyStorageBytesContract"),TronWebProto.BuyStorageContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.BuyStorageContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.BuyStorageContract.displayName="TronWebProto.BuyStorageContract"),TronWebProto.SellStorageContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.SellStorageContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SellStorageContract.displayName="TronWebProto.SellStorageContract"),TronWebProto.UpdateBrokerageContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.UpdateBrokerageContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.UpdateBrokerageContract.displayName="TronWebProto.UpdateBrokerageContract"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.BuyStorageBytesContract.prototype.toObject=function(ws){return TronWebProto.BuyStorageBytesContract.toObject(ws,this)},TronWebProto.BuyStorageBytesContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),bytes:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.BuyStorageBytesContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.BuyStorageBytesContract;return TronWebProto.BuyStorageBytesContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.BuyStorageBytesContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setBytes(Es);break;default:vs.skipField();break}}return ws},TronWebProto.BuyStorageBytesContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.BuyStorageBytesContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.BuyStorageBytesContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getBytes(),_s!==0&&vs.writeInt64(2,_s)},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.BuyStorageBytesContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.BuyStorageBytesContract.prototype.getBytes=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.BuyStorageBytesContract.prototype.setBytes=function(ws){return t.Message.setProto3IntField(this,2,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.BuyStorageContract.prototype.toObject=function(ws){return TronWebProto.BuyStorageContract.toObject(ws,this)},TronWebProto.BuyStorageContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),quant:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.BuyStorageContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.BuyStorageContract;return TronWebProto.BuyStorageContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.BuyStorageContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setQuant(Es);break;default:vs.skipField();break}}return ws},TronWebProto.BuyStorageContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.BuyStorageContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.BuyStorageContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getQuant(),_s!==0&&vs.writeInt64(2,_s)},TronWebProto.BuyStorageContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.BuyStorageContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.BuyStorageContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.BuyStorageContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.BuyStorageContract.prototype.getQuant=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.BuyStorageContract.prototype.setQuant=function(ws){return t.Message.setProto3IntField(this,2,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SellStorageContract.prototype.toObject=function(ws){return TronWebProto.SellStorageContract.toObject(ws,this)},TronWebProto.SellStorageContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),storageBytes:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.SellStorageContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.SellStorageContract;return TronWebProto.SellStorageContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.SellStorageContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setStorageBytes(Es);break;default:vs.skipField();break}}return ws},TronWebProto.SellStorageContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.SellStorageContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.SellStorageContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getStorageBytes(),_s!==0&&vs.writeInt64(2,_s)},TronWebProto.SellStorageContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.SellStorageContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.SellStorageContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.SellStorageContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.SellStorageContract.prototype.getStorageBytes=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.SellStorageContract.prototype.setStorageBytes=function(ws){return t.Message.setProto3IntField(this,2,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateBrokerageContract.prototype.toObject=function(ws){return TronWebProto.UpdateBrokerageContract.toObject(ws,this)},TronWebProto.UpdateBrokerageContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),brokerage:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.UpdateBrokerageContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.UpdateBrokerageContract;return TronWebProto.UpdateBrokerageContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.UpdateBrokerageContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt32();ws.setBrokerage(Es);break;default:vs.skipField();break}}return ws},TronWebProto.UpdateBrokerageContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.UpdateBrokerageContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.UpdateBrokerageContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getBrokerage(),_s!==0&&vs.writeInt32(2,_s)},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateBrokerageContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.UpdateBrokerageContract.prototype.getBrokerage=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.UpdateBrokerageContract.prototype.setBrokerage=function(ws){return t.Message.setProto3IntField(this,2,ws)},et.object.extend(st,TronWebProto)}(storage_contract_pb)),storage_contract_pb}requireStorage_contract_pb();var account_contract_pb={},hasRequiredAccount_contract_pb;function requireAccount_contract_pb(){return hasRequiredAccount_contract_pb||(hasRequiredAccount_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),ws=requireTron_pb();et.object.extend(proto,ws),et.exportSymbol("TronWebProto.AccountCreateContract",null,ms),et.exportSymbol("TronWebProto.AccountPermissionUpdateContract",null,ms),et.exportSymbol("TronWebProto.AccountUpdateContract",null,ms),et.exportSymbol("TronWebProto.SetAccountIdContract",null,ms),TronWebProto.AccountCreateContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountCreateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountCreateContract.displayName="TronWebProto.AccountCreateContract"),TronWebProto.AccountUpdateContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.AccountUpdateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountUpdateContract.displayName="TronWebProto.AccountUpdateContract"),TronWebProto.SetAccountIdContract=function(vs){t.Message.initialize(this,vs,0,-1,null,null)},et.inherits(TronWebProto.SetAccountIdContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.SetAccountIdContract.displayName="TronWebProto.SetAccountIdContract"),TronWebProto.AccountPermissionUpdateContract=function(vs){t.Message.initialize(this,vs,0,-1,TronWebProto.AccountPermissionUpdateContract.repeatedFields_,null)},et.inherits(TronWebProto.AccountPermissionUpdateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.AccountPermissionUpdateContract.displayName="TronWebProto.AccountPermissionUpdateContract"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountCreateContract.prototype.toObject=function(vs){return TronWebProto.AccountCreateContract.toObject(vs,this)},TronWebProto.AccountCreateContract.toObject=function(vs,_s){var Es={ownerAddress:_s.getOwnerAddress_asB64(),accountAddress:_s.getAccountAddress_asB64(),type:t.Message.getFieldWithDefault(_s,3,0)};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.AccountCreateContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountCreateContract;return TronWebProto.AccountCreateContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountCreateContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=_s.readBytes();vs.setAccountAddress(Ts);break;case 3:var Ts=_s.readEnum();vs.setType(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountCreateContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountCreateContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountCreateContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getAccountAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es),Es=vs.getType(),Es!==0&&_s.writeEnum(3,Es)},TronWebProto.AccountCreateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountCreateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountCreateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountCreateContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.AccountCreateContract.prototype.getAccountAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountCreateContract.prototype.getAccountAddress_asB64=function(){return t.Message.bytesAsB64(this.getAccountAddress())},TronWebProto.AccountCreateContract.prototype.getAccountAddress_asU8=function(){return t.Message.bytesAsU8(this.getAccountAddress())},TronWebProto.AccountCreateContract.prototype.setAccountAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.AccountCreateContract.prototype.getType=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.AccountCreateContract.prototype.setType=function(vs){return t.Message.setProto3EnumField(this,3,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountUpdateContract.prototype.toObject=function(vs){return TronWebProto.AccountUpdateContract.toObject(vs,this)},TronWebProto.AccountUpdateContract.toObject=function(vs,_s){var Es={accountName:_s.getAccountName_asB64(),ownerAddress:_s.getOwnerAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.AccountUpdateContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountUpdateContract;return TronWebProto.AccountUpdateContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountUpdateContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAccountName(Ts);break;case 2:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountUpdateContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountUpdateContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountUpdateContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAccountName_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es)},TronWebProto.AccountUpdateContract.prototype.getAccountName=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountUpdateContract.prototype.getAccountName_asB64=function(){return t.Message.bytesAsB64(this.getAccountName())},TronWebProto.AccountUpdateContract.prototype.getAccountName_asU8=function(){return t.Message.bytesAsU8(this.getAccountName())},TronWebProto.AccountUpdateContract.prototype.setAccountName=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountUpdateContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.SetAccountIdContract.prototype.toObject=function(vs){return TronWebProto.SetAccountIdContract.toObject(vs,this)},TronWebProto.SetAccountIdContract.toObject=function(vs,_s){var Es={accountId:_s.getAccountId_asB64(),ownerAddress:_s.getOwnerAddress_asB64()};return vs&&(Es.$jspbMessageInstance=_s),Es}),TronWebProto.SetAccountIdContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.SetAccountIdContract;return TronWebProto.SetAccountIdContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.SetAccountIdContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setAccountId(Ts);break;case 2:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.SetAccountIdContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.SetAccountIdContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.SetAccountIdContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getAccountId_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(2,Es)},TronWebProto.SetAccountIdContract.prototype.getAccountId=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.SetAccountIdContract.prototype.getAccountId_asB64=function(){return t.Message.bytesAsB64(this.getAccountId())},TronWebProto.SetAccountIdContract.prototype.getAccountId_asU8=function(){return t.Message.bytesAsU8(this.getAccountId())},TronWebProto.SetAccountIdContract.prototype.setAccountId=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.SetAccountIdContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,2,vs)},TronWebProto.AccountPermissionUpdateContract.repeatedFields_=[4],t.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountPermissionUpdateContract.prototype.toObject=function(vs){return TronWebProto.AccountPermissionUpdateContract.toObject(vs,this)},TronWebProto.AccountPermissionUpdateContract.toObject=function(vs,_s){var Es,Ts={ownerAddress:_s.getOwnerAddress_asB64(),owner:(Es=_s.getOwner())&&ws.Permission.toObject(vs,Es),witness:(Es=_s.getWitness())&&ws.Permission.toObject(vs,Es),activesList:t.Message.toObjectList(_s.getActivesList(),ws.Permission.toObject,vs)};return vs&&(Ts.$jspbMessageInstance=_s),Ts}),TronWebProto.AccountPermissionUpdateContract.deserializeBinary=function(vs){var _s=new t.BinaryReader(vs),Es=new TronWebProto.AccountPermissionUpdateContract;return TronWebProto.AccountPermissionUpdateContract.deserializeBinaryFromReader(Es,_s)},TronWebProto.AccountPermissionUpdateContract.deserializeBinaryFromReader=function(vs,_s){for(;_s.nextField()&&!_s.isEndGroup();){var Es=_s.getFieldNumber();switch(Es){case 1:var Ts=_s.readBytes();vs.setOwnerAddress(Ts);break;case 2:var Ts=new ws.Permission;_s.readMessage(Ts,ws.Permission.deserializeBinaryFromReader),vs.setOwner(Ts);break;case 3:var Ts=new ws.Permission;_s.readMessage(Ts,ws.Permission.deserializeBinaryFromReader),vs.setWitness(Ts);break;case 4:var Ts=new ws.Permission;_s.readMessage(Ts,ws.Permission.deserializeBinaryFromReader),vs.addActives(Ts);break;default:_s.skipField();break}}return vs},TronWebProto.AccountPermissionUpdateContract.prototype.serializeBinary=function(){var vs=new t.BinaryWriter;return TronWebProto.AccountPermissionUpdateContract.serializeBinaryToWriter(this,vs),vs.getResultBuffer()},TronWebProto.AccountPermissionUpdateContract.serializeBinaryToWriter=function(vs,_s){var Es=void 0;Es=vs.getOwnerAddress_asU8(),Es.length>0&&_s.writeBytes(1,Es),Es=vs.getOwner(),Es!=null&&_s.writeMessage(2,Es,ws.Permission.serializeBinaryToWriter),Es=vs.getWitness(),Es!=null&&_s.writeMessage(3,Es,ws.Permission.serializeBinaryToWriter),Es=vs.getActivesList(),Es.length>0&&_s.writeRepeatedMessage(4,Es,ws.Permission.serializeBinaryToWriter)},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountPermissionUpdateContract.prototype.setOwnerAddress=function(vs){return t.Message.setProto3BytesField(this,1,vs)},TronWebProto.AccountPermissionUpdateContract.prototype.getOwner=function(){return t.Message.getWrapperField(this,ws.Permission,2)},TronWebProto.AccountPermissionUpdateContract.prototype.setOwner=function(vs){return t.Message.setWrapperField(this,2,vs)},TronWebProto.AccountPermissionUpdateContract.prototype.clearOwner=function(){return this.setOwner(void 0)},TronWebProto.AccountPermissionUpdateContract.prototype.hasOwner=function(){return t.Message.getField(this,2)!=null},TronWebProto.AccountPermissionUpdateContract.prototype.getWitness=function(){return t.Message.getWrapperField(this,ws.Permission,3)},TronWebProto.AccountPermissionUpdateContract.prototype.setWitness=function(vs){return t.Message.setWrapperField(this,3,vs)},TronWebProto.AccountPermissionUpdateContract.prototype.clearWitness=function(){return this.setWitness(void 0)},TronWebProto.AccountPermissionUpdateContract.prototype.hasWitness=function(){return t.Message.getField(this,3)!=null},TronWebProto.AccountPermissionUpdateContract.prototype.getActivesList=function(){return t.Message.getRepeatedWrapperField(this,ws.Permission,4)},TronWebProto.AccountPermissionUpdateContract.prototype.setActivesList=function(vs){return t.Message.setRepeatedWrapperField(this,4,vs)},TronWebProto.AccountPermissionUpdateContract.prototype.addActives=function(vs,_s){return t.Message.addToRepeatedWrapperField(this,4,vs,TronWebProto.Permission,_s)},TronWebProto.AccountPermissionUpdateContract.prototype.clearActivesList=function(){return this.setActivesList([])},et.object.extend(st,TronWebProto)}(account_contract_pb)),account_contract_pb}requireAccount_contract_pb();var proposal_contract_pb={},hasRequiredProposal_contract_pb;function requireProposal_contract_pb(){return hasRequiredProposal_contract_pb||(hasRequiredProposal_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("TronWebProto.ProposalApproveContract",null,ms),et.exportSymbol("TronWebProto.ProposalCreateContract",null,ms),et.exportSymbol("TronWebProto.ProposalDeleteContract",null,ms),TronWebProto.ProposalApproveContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ProposalApproveContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ProposalApproveContract.displayName="TronWebProto.ProposalApproveContract"),TronWebProto.ProposalCreateContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ProposalCreateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ProposalCreateContract.displayName="TronWebProto.ProposalCreateContract"),TronWebProto.ProposalDeleteContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ProposalDeleteContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ProposalDeleteContract.displayName="TronWebProto.ProposalDeleteContract"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalApproveContract.prototype.toObject=function(ws){return TronWebProto.ProposalApproveContract.toObject(ws,this)},TronWebProto.ProposalApproveContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),proposalId:t.Message.getFieldWithDefault(vs,2,0),isAddApproval:t.Message.getBooleanFieldWithDefault(vs,3,!1)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ProposalApproveContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ProposalApproveContract;return TronWebProto.ProposalApproveContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ProposalApproveContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setProposalId(Es);break;case 3:var Es=vs.readBool();ws.setIsAddApproval(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ProposalApproveContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ProposalApproveContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ProposalApproveContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getProposalId(),_s!==0&&vs.writeInt64(2,_s),_s=ws.getIsAddApproval(),_s&&vs.writeBool(3,_s)},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalApproveContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ProposalApproveContract.prototype.getProposalId=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.ProposalApproveContract.prototype.setProposalId=function(ws){return t.Message.setProto3IntField(this,2,ws)},TronWebProto.ProposalApproveContract.prototype.getIsAddApproval=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},TronWebProto.ProposalApproveContract.prototype.setIsAddApproval=function(ws){return t.Message.setProto3BooleanField(this,3,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalCreateContract.prototype.toObject=function(ws){return TronWebProto.ProposalCreateContract.toObject(ws,this)},TronWebProto.ProposalCreateContract.toObject=function(ws,vs){var _s,Es={ownerAddress:vs.getOwnerAddress_asB64(),parametersMap:(_s=vs.getParametersMap())?_s.toObject(ws,void 0):[]};return ws&&(Es.$jspbMessageInstance=vs),Es}),TronWebProto.ProposalCreateContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ProposalCreateContract;return TronWebProto.ProposalCreateContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ProposalCreateContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=ws.getParametersMap();vs.readMessage(Es,function(Ts,Ss){t.Map.deserializeBinary(Ts,Ss,t.BinaryReader.prototype.readInt64,t.BinaryReader.prototype.readInt64,null,0,0)});break;default:vs.skipField();break}}return ws},TronWebProto.ProposalCreateContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ProposalCreateContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ProposalCreateContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getParametersMap(!0),_s&&_s.getLength()>0&&_s.serializeBinary(2,vs,t.BinaryWriter.prototype.writeInt64,t.BinaryWriter.prototype.writeInt64)},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalCreateContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ProposalCreateContract.prototype.getParametersMap=function(ws){return t.Message.getMapField(this,2,ws,null)},TronWebProto.ProposalCreateContract.prototype.clearParametersMap=function(){return this.getParametersMap().clear(),this},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalDeleteContract.prototype.toObject=function(ws){return TronWebProto.ProposalDeleteContract.toObject(ws,this)},TronWebProto.ProposalDeleteContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),proposalId:t.Message.getFieldWithDefault(vs,2,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ProposalDeleteContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ProposalDeleteContract;return TronWebProto.ProposalDeleteContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ProposalDeleteContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setProposalId(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ProposalDeleteContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ProposalDeleteContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ProposalDeleteContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getProposalId(),_s!==0&&vs.writeInt64(2,_s)},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalDeleteContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ProposalDeleteContract.prototype.getProposalId=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.ProposalDeleteContract.prototype.setProposalId=function(ws){return t.Message.setProto3IntField(this,2,ws)},et.object.extend(st,TronWebProto)}(proposal_contract_pb)),proposal_contract_pb}requireProposal_contract_pb();var exchange_contract_pb={},hasRequiredExchange_contract_pb;function requireExchange_contract_pb(){return hasRequiredExchange_contract_pb||(hasRequiredExchange_contract_pb=1,function(st){var t=requireGoogleProtobuf(),et=t,ms=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof ms<"u"&&ms||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();et.exportSymbol("TronWebProto.ExchangeCreateContract",null,ms),et.exportSymbol("TronWebProto.ExchangeInjectContract",null,ms),et.exportSymbol("TronWebProto.ExchangeTransactionContract",null,ms),et.exportSymbol("TronWebProto.ExchangeWithdrawContract",null,ms),TronWebProto.ExchangeCreateContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ExchangeCreateContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ExchangeCreateContract.displayName="TronWebProto.ExchangeCreateContract"),TronWebProto.ExchangeInjectContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ExchangeInjectContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ExchangeInjectContract.displayName="TronWebProto.ExchangeInjectContract"),TronWebProto.ExchangeWithdrawContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ExchangeWithdrawContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ExchangeWithdrawContract.displayName="TronWebProto.ExchangeWithdrawContract"),TronWebProto.ExchangeTransactionContract=function(ws){t.Message.initialize(this,ws,0,-1,null,null)},et.inherits(TronWebProto.ExchangeTransactionContract,t.Message),et.DEBUG&&!COMPILED&&(TronWebProto.ExchangeTransactionContract.displayName="TronWebProto.ExchangeTransactionContract"),t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeCreateContract.prototype.toObject=function(ws){return TronWebProto.ExchangeCreateContract.toObject(ws,this)},TronWebProto.ExchangeCreateContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),firstTokenId:vs.getFirstTokenId_asB64(),firstTokenBalance:t.Message.getFieldWithDefault(vs,3,0),secondTokenId:vs.getSecondTokenId_asB64(),secondTokenBalance:t.Message.getFieldWithDefault(vs,5,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ExchangeCreateContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ExchangeCreateContract;return TronWebProto.ExchangeCreateContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ExchangeCreateContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readBytes();ws.setFirstTokenId(Es);break;case 3:var Es=vs.readInt64();ws.setFirstTokenBalance(Es);break;case 4:var Es=vs.readBytes();ws.setSecondTokenId(Es);break;case 5:var Es=vs.readInt64();ws.setSecondTokenBalance(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ExchangeCreateContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ExchangeCreateContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ExchangeCreateContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getFirstTokenId_asU8(),_s.length>0&&vs.writeBytes(2,_s),_s=ws.getFirstTokenBalance(),_s!==0&&vs.writeInt64(3,_s),_s=ws.getSecondTokenId_asU8(),_s.length>0&&vs.writeBytes(4,_s),_s=ws.getSecondTokenBalance(),_s!==0&&vs.writeInt64(5,_s)},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeCreateContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId=function(){return t.Message.getFieldWithDefault(this,2,"")},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId_asB64=function(){return t.Message.bytesAsB64(this.getFirstTokenId())},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId_asU8=function(){return t.Message.bytesAsU8(this.getFirstTokenId())},TronWebProto.ExchangeCreateContract.prototype.setFirstTokenId=function(ws){return t.Message.setProto3BytesField(this,2,ws)},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenBalance=function(){return t.Message.getFieldWithDefault(this,3,0)},TronWebProto.ExchangeCreateContract.prototype.setFirstTokenBalance=function(ws){return t.Message.setProto3IntField(this,3,ws)},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId=function(){return t.Message.getFieldWithDefault(this,4,"")},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId_asB64=function(){return t.Message.bytesAsB64(this.getSecondTokenId())},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId_asU8=function(){return t.Message.bytesAsU8(this.getSecondTokenId())},TronWebProto.ExchangeCreateContract.prototype.setSecondTokenId=function(ws){return t.Message.setProto3BytesField(this,4,ws)},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenBalance=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.ExchangeCreateContract.prototype.setSecondTokenBalance=function(ws){return t.Message.setProto3IntField(this,5,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeInjectContract.prototype.toObject=function(ws){return TronWebProto.ExchangeInjectContract.toObject(ws,this)},TronWebProto.ExchangeInjectContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),exchangeId:t.Message.getFieldWithDefault(vs,2,0),tokenId:vs.getTokenId_asB64(),quant:t.Message.getFieldWithDefault(vs,4,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ExchangeInjectContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ExchangeInjectContract;return TronWebProto.ExchangeInjectContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ExchangeInjectContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setExchangeId(Es);break;case 3:var Es=vs.readBytes();ws.setTokenId(Es);break;case 4:var Es=vs.readInt64();ws.setQuant(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ExchangeInjectContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ExchangeInjectContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ExchangeInjectContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getExchangeId(),_s!==0&&vs.writeInt64(2,_s),_s=ws.getTokenId_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getQuant(),_s!==0&&vs.writeInt64(4,_s)},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeInjectContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ExchangeInjectContract.prototype.getExchangeId=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeInjectContract.prototype.setExchangeId=function(ws){return t.Message.setProto3IntField(this,2,ws)},TronWebProto.ExchangeInjectContract.prototype.getTokenId=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeInjectContract.prototype.getTokenId_asB64=function(){return t.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeInjectContract.prototype.getTokenId_asU8=function(){return t.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeInjectContract.prototype.setTokenId=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.ExchangeInjectContract.prototype.getQuant=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeInjectContract.prototype.setQuant=function(ws){return t.Message.setProto3IntField(this,4,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeWithdrawContract.prototype.toObject=function(ws){return TronWebProto.ExchangeWithdrawContract.toObject(ws,this)},TronWebProto.ExchangeWithdrawContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),exchangeId:t.Message.getFieldWithDefault(vs,2,0),tokenId:vs.getTokenId_asB64(),quant:t.Message.getFieldWithDefault(vs,4,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ExchangeWithdrawContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ExchangeWithdrawContract;return TronWebProto.ExchangeWithdrawContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ExchangeWithdrawContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setExchangeId(Es);break;case 3:var Es=vs.readBytes();ws.setTokenId(Es);break;case 4:var Es=vs.readInt64();ws.setQuant(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ExchangeWithdrawContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ExchangeWithdrawContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ExchangeWithdrawContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getExchangeId(),_s!==0&&vs.writeInt64(2,_s),_s=ws.getTokenId_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getQuant(),_s!==0&&vs.writeInt64(4,_s)},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeWithdrawContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ExchangeWithdrawContract.prototype.getExchangeId=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeWithdrawContract.prototype.setExchangeId=function(ws){return t.Message.setProto3IntField(this,2,ws)},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId_asB64=function(){return t.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId_asU8=function(){return t.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeWithdrawContract.prototype.setTokenId=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.ExchangeWithdrawContract.prototype.getQuant=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeWithdrawContract.prototype.setQuant=function(ws){return t.Message.setProto3IntField(this,4,ws)},t.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeTransactionContract.prototype.toObject=function(ws){return TronWebProto.ExchangeTransactionContract.toObject(ws,this)},TronWebProto.ExchangeTransactionContract.toObject=function(ws,vs){var _s={ownerAddress:vs.getOwnerAddress_asB64(),exchangeId:t.Message.getFieldWithDefault(vs,2,0),tokenId:vs.getTokenId_asB64(),quant:t.Message.getFieldWithDefault(vs,4,0),expected:t.Message.getFieldWithDefault(vs,5,0)};return ws&&(_s.$jspbMessageInstance=vs),_s}),TronWebProto.ExchangeTransactionContract.deserializeBinary=function(ws){var vs=new t.BinaryReader(ws),_s=new TronWebProto.ExchangeTransactionContract;return TronWebProto.ExchangeTransactionContract.deserializeBinaryFromReader(_s,vs)},TronWebProto.ExchangeTransactionContract.deserializeBinaryFromReader=function(ws,vs){for(;vs.nextField()&&!vs.isEndGroup();){var _s=vs.getFieldNumber();switch(_s){case 1:var Es=vs.readBytes();ws.setOwnerAddress(Es);break;case 2:var Es=vs.readInt64();ws.setExchangeId(Es);break;case 3:var Es=vs.readBytes();ws.setTokenId(Es);break;case 4:var Es=vs.readInt64();ws.setQuant(Es);break;case 5:var Es=vs.readInt64();ws.setExpected(Es);break;default:vs.skipField();break}}return ws},TronWebProto.ExchangeTransactionContract.prototype.serializeBinary=function(){var ws=new t.BinaryWriter;return TronWebProto.ExchangeTransactionContract.serializeBinaryToWriter(this,ws),ws.getResultBuffer()},TronWebProto.ExchangeTransactionContract.serializeBinaryToWriter=function(ws,vs){var _s=void 0;_s=ws.getOwnerAddress_asU8(),_s.length>0&&vs.writeBytes(1,_s),_s=ws.getExchangeId(),_s!==0&&vs.writeInt64(2,_s),_s=ws.getTokenId_asU8(),_s.length>0&&vs.writeBytes(3,_s),_s=ws.getQuant(),_s!==0&&vs.writeInt64(4,_s),_s=ws.getExpected(),_s!==0&&vs.writeInt64(5,_s)},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress=function(){return t.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress_asB64=function(){return t.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress_asU8=function(){return t.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeTransactionContract.prototype.setOwnerAddress=function(ws){return t.Message.setProto3BytesField(this,1,ws)},TronWebProto.ExchangeTransactionContract.prototype.getExchangeId=function(){return t.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeTransactionContract.prototype.setExchangeId=function(ws){return t.Message.setProto3IntField(this,2,ws)},TronWebProto.ExchangeTransactionContract.prototype.getTokenId=function(){return t.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeTransactionContract.prototype.getTokenId_asB64=function(){return t.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeTransactionContract.prototype.getTokenId_asU8=function(){return t.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeTransactionContract.prototype.setTokenId=function(ws){return t.Message.setProto3BytesField(this,3,ws)},TronWebProto.ExchangeTransactionContract.prototype.getQuant=function(){return t.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeTransactionContract.prototype.setQuant=function(ws){return t.Message.setProto3IntField(this,4,ws)},TronWebProto.ExchangeTransactionContract.prototype.getExpected=function(){return t.Message.getFieldWithDefault(this,5,0)},TronWebProto.ExchangeTransactionContract.prototype.setExpected=function(ws){return t.Message.setProto3IntField(this,5,ws)},et.object.extend(st,TronWebProto)}(exchange_contract_pb)),exchange_contract_pb}requireExchange_contract_pb();const{Transaction,Permission,Key}=globalThis.TronWebProto,{TransferContract,FreezeBalanceContract,UnfreezeBalanceContract,WithdrawBalanceContract,FreezeBalanceV2Contract,UnfreezeBalanceV2Contract,CancelAllUnfreezeV2Contract,WithdrawExpireUnfreezeContract,DelegateResourceContract,UnDelegateResourceContract}=globalThis.TronWebProto,{TransferAssetContract,ParticipateAssetIssueContract,AssetIssueContract,UpdateAssetContract}=globalThis.TronWebProto,{TriggerSmartContract,ClearABIContract,UpdateEnergyLimitContract,UpdateSettingContract,CreateSmartContract,SmartContract}=globalThis.TronWebProto,{ResourceCode:ResourceCode$1}=globalThis.TronWebProto,{WitnessCreateContract,VoteWitnessContract}=globalThis.TronWebProto,{UpdateBrokerageContract}=globalThis.TronWebProto,{AccountCreateContract,AccountUpdateContract,SetAccountIdContract,AccountPermissionUpdateContract}=globalThis.TronWebProto,{ProposalCreateContract,ProposalDeleteContract,ProposalApproveContract}=globalThis.TronWebProto,{ExchangeCreateContract,ExchangeInjectContract,ExchangeWithdrawContract,ExchangeTransactionContract}=globalThis.TronWebProto,fromHexString=st=>!st||st.length===0?new Uint8Array([]):new Uint8Array(TronWeb.address.toHex(st).match(/.{1,2}/g).map(t=>parseInt(t,16))),stringToUint8Array=st=>!st||st.length===0?new Uint8Array([]):new Uint8Array((isHex$1(st)?st:TronWeb.toHex(st)).replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16))),flexToUint8Array=(st,t)=>stringToUint8Array(t?TronWeb.fromUtf8(st).replace(/^0x/,""):st.replace(/^0x/,"")),sha3$3=(st,t=!0)=>(t?"0x":"")+keccak256$1(Buffer.from(st,"utf-8")).toString().substring(2),buildCommonTransaction=(st,t,et,ms)=>{const ws=new google_protobuf_any_pb.Any;ws.pack(st.serializeBinary(),"protocol."+et);const vs=new Transaction.Contract;vs.setType(t),vs.setParameter(ws),ms&&vs.setPermissionId(ms);const _s=new Transaction.raw;_s.addContract(vs);const Es=new Transaction;return Es.setRawData(_s),Es},buildTransferContract=(st,t)=>{const{to_address:et,owner_address:ms,amount:ws}=st,vs=new TransferContract;return vs.setToAddress(fromHexString(et)),vs.setOwnerAddress(fromHexString(ms)),vs.setAmount(ws),buildCommonTransaction(vs,Transaction.Contract.ContractType.TRANSFERCONTRACT,"TransferContract",t.Permission_id)},buildTransferAssetContract=(st,t)=>{const{to_address:et,owner_address:ms,amount:ws,asset_name:vs}=st,_s=new TransferAssetContract;return _s.setToAddress(fromHexString(et)),_s.setOwnerAddress(fromHexString(ms)),_s.setAssetName(flexToUint8Array(vs,t.visible)),_s.setAmount(ws),buildCommonTransaction(_s,Transaction.Contract.ContractType.TRANSFERASSETCONTRACT,"TransferAssetContract",t.Permission_id)},buildParticipateAssetIssueContract=(st,t)=>{const et=new ParticipateAssetIssueContract;return et.setToAddress(fromHexString(st.to_address)),et.setOwnerAddress(fromHexString(st.owner_address)),et.setAssetName(flexToUint8Array(st.asset_name,t.visible)),et.setAmount(st.amount),buildCommonTransaction(et,Transaction.Contract.ContractType.PARTICIPATEASSETISSUECONTRACT,"ParticipateAssetIssueContract",t.Permission_id)},buildTriggerSmartContract=(st,t)=>{const et=new TriggerSmartContract,{owner_address:ms,contract_address:ws,parameter:vs="",function_selector:_s,call_value:Es,call_token_value:Ts,token_id:Ss,data:Rs}=st;if(et.setOwnerAddress(fromHexString(ms)),et.setContractAddress(fromHexString(ws)),et.setCallValue(Es),Rs)et.setData(stringToUint8Array(Rs));else if(_s){const Bs=sha3$3(_s).substring(2,10)+vs;et.setData(stringToUint8Array(Bs))}return Ss&&et.setTokenId(Ss),Ts&&et.setCallTokenValue(Ts),buildCommonTransaction(et,Transaction.Contract.ContractType.TRIGGERSMARTCONTRACT,"TriggerSmartContract",t.Permission_id)},buildFreezeBalanceContract=(st,t)=>{const et=new FreezeBalanceContract,{owner_address:ms,frozen_balance:ws,frozen_duration:vs,resource:_s,receiver_address:Es}=st;return et.setOwnerAddress(fromHexString(ms)),et.setFrozenBalance(ws),et.setFrozenDuration(vs),_s&&et.setResource(ResourceCode$1[_s]),Es&&et.setReceiverAddress(fromHexString(Es)),buildCommonTransaction(et,Transaction.Contract.ContractType.FREEZEBALANCECONTRACT,"FreezeBalanceContract",t.Permission_id)},buildUnfreezeBalanceContract=(st,t)=>{const et=new UnfreezeBalanceContract,{owner_address:ms,resource:ws,receiver_address:vs}=st;return et.setOwnerAddress(fromHexString(ms)),ws&&et.setResource(ResourceCode$1[ws]),vs&&et.setReceiverAddress(fromHexString(vs)),buildCommonTransaction(et,Transaction.Contract.ContractType.UNFREEZEBALANCECONTRACT,"UnfreezeBalanceContract",t.Permission_id)},buildWithdrawBalanceContract=(st,t)=>{const et=new WithdrawBalanceContract,{owner_address:ms}=st;return et.setOwnerAddress(fromHexString(ms)),buildCommonTransaction(et,Transaction.Contract.ContractType.WITHDRAWBALANCECONTRACT,"WithdrawBalanceContract",t.Permission_id)},buildFreezeBalanceV2Contract=(st,t)=>{const et=new FreezeBalanceV2Contract,{owner_address:ms,frozen_balance:ws,resource:vs}=st;return et.setOwnerAddress(fromHexString(ms)),et.setFrozenBalance(ws),et.setResource(ResourceCode$1[vs]),buildCommonTransaction(et,Transaction.Contract.ContractType.FREEZEBALANCEV2CONTRACT,"FreezeBalanceV2Contract",t.Permission_id)},buildCancelFreezeBalanceV2Contract=(st,t)=>{const et=new CancelAllUnfreezeV2Contract,{owner_address:ms}=st;return et.setOwnerAddress(fromHexString(ms)),buildCommonTransaction(et,Transaction.Contract.ContractType.CANCELALLUNFREEZEV2CONTRACT,"CancelAllUnfreezeV2Contract",t.Permission_id)},buildUnfreezeBalanceV2Contract=(st,t)=>{const et=new UnfreezeBalanceV2Contract,{owner_address:ms,unfreeze_balance:ws,resource:vs}=st;return et.setOwnerAddress(fromHexString(ms)),et.setUnfreezeBalance(ws),et.setResource(ResourceCode$1[vs]),buildCommonTransaction(et,Transaction.Contract.ContractType.UNFREEZEBALANCEV2CONTRACT,"UnfreezeBalanceV2Contract",t.Permission_id)},buildDelegateResourceContract=(st,t)=>{const et=new DelegateResourceContract,{owner_address:ms,receiver_address:ws,balance:vs,resource:_s,lock:Es=!1,lock_period:Ts}=st;return et.setOwnerAddress(fromHexString(ms)),et.setBalance(vs),et.setResource(ResourceCode$1[_s]),et.setLock(Es),et.setLockPeriod(Ts),et.setReceiverAddress(fromHexString(ws)),buildCommonTransaction(et,Transaction.Contract.ContractType.DELEGATERESOURCECONTRACT,"DelegateResourceContract",t.Permission_id)},buildUnDelegateResourceContract=(st,t)=>{const et=new UnDelegateResourceContract,{owner_address:ms,receiver_address:ws,balance:vs,resource:_s}=st;return et.setOwnerAddress(fromHexString(ms)),et.setBalance(vs),et.setResource(ResourceCode$1[_s]),et.setReceiverAddress(fromHexString(ws)),buildCommonTransaction(et,Transaction.Contract.ContractType.UNDELEGATERESOURCECONTRACT,"UnDelegateResourceContract",t.Permission_id)},buildWithdrawExpireUnfreezeContract=(st,t)=>{const et=new WithdrawExpireUnfreezeContract,{owner_address:ms}=st;return et.setOwnerAddress(fromHexString(ms)),buildCommonTransaction(et,Transaction.Contract.ContractType.WITHDRAWEXPIREUNFREEZECONTRACT,"WithdrawExpireUnfreezeContract",t.Permission_id)},buildCreateWitness=(st,t)=>{const et=new WitnessCreateContract,{owner_address:ms,url:ws}=st;return et.setOwnerAddress(fromHexString(ms)),et.setUrl(stringToUint8Array(ws.replace(/^0x/,""))),buildCommonTransaction(et,Transaction.Contract.ContractType.WITNESSCREATECONTRACT,"WitnessCreateContract",t.Permission_id)},buildVoteWitnessAccount=(st,t)=>{const et=new VoteWitnessContract,{owner_address:ms,votes:ws}=st;return et.setOwnerAddress(fromHexString(ms)),ws.forEach(vs=>{const _s=new VoteWitnessContract.Vote,{vote_address:Es,vote_count:Ts}=vs;_s.setVoteAddress(fromHexString(Es));const Ss=parseInt(Ts);_s.setVoteCount(Ss),et.addVotes(_s)}),buildCommonTransaction(et,Transaction.Contract.ContractType.VOTEWITNESSCONTRACT,"VoteWitnessContract",t.Permission_id)},buildCreateSmartContract=(st,t)=>{const et=st?.new_contract?{owner_address:st.owner_address,call_token_value:st.call_token_value,token_id:st.token_id,...st.new_contract}:st,{owner_address:ms,consume_user_resource_percent:ws,origin_energy_limit:vs,abi:_s,bytecode:Es="",parameter:Ts="",call_value:Ss,call_token_value:Rs,token_id:Bs,name:Is}=et;let{origin_address:Ws}=et;const Hs=new CreateSmartContract;Hs.setOwnerAddress(fromHexString(ms)),Bs&&Hs.setTokenId(Bs),Rs&&Hs.setCallTokenValue(Rs);const Ns=new SmartContract;if(_s){let Js;typeof _s=="string"?Js=JSON.parse(_s):Js=_s?.entrys||[];const ha=new SmartContract.ABI,pa=Ya=>{const Bc=new SmartContract.ABI.Entry.Param,{indexed:Qa,name:tu,type:eu}=Ya;return Qa===!0&&Bc.setIndexed(!0),Bc.setName(tu),Bc.setType(eu),Bc},za=Js.map(Ya=>{const{anonymous:Bc,constant:Qa,name:tu,inputs:eu,outputs:ru,type:cu,payable:ou,stateMutability:Ga}=Ya,Xa=new SmartContract.ABI.Entry;return Xa.setAnonymous(Bc),Xa.setConstant(Qa),Xa.setName(tu),eu&&Xa.setInputsList(eu.map(Fa=>pa(Fa))),ru&&Xa.setOutputsList(ru.map(Fa=>pa(Fa))),cu&&Xa.setType(SmartContract.ABI.Entry.EntryType[cu.toUpperCase()]),Xa.setPayable(ou),Ga&&Xa.setStatemutability(SmartContract.ABI.Entry.StateMutabilityType[Ga.toUpperCase()]),Xa});ha.setEntrysList(za),Ns.setAbi(ha)}if(Ss&&Ns.setCallValue(Ss),Ns.setConsumeUserResourcePercent(ws),Ns.setOriginEnergyLimit(vs),Ws||(Ws=ms),Ns.setOriginAddress(fromHexString(Ws)),Es){const Js=Es.replace(/^0x/,"")+Ts.replace(/^0x/,"");Ns.setBytecode(stringToUint8Array(Js))}return Ns.setName(Is),Hs.setNewContract(Ns),buildCommonTransaction(Hs,Transaction.Contract.ContractType.CREATESMARTCONTRACT,"CreateSmartContract",t.Permission_id)},buildClearABIContract=(st,t)=>{const{contract_address:et,owner_address:ms}=st,ws=new ClearABIContract;return ws.setOwnerAddress(fromHexString(ms)),ws.setContractAddress(fromHexString(et)),buildCommonTransaction(ws,Transaction.Contract.ContractType.CLEARABICONTRACT,"ClearABIContract",t.Permission_id)},buildUpdateBrokerageContract=(st,t)=>{const{brokerage:et,owner_address:ms}=st,ws=new UpdateBrokerageContract;return ws.setOwnerAddress(fromHexString(ms)),ws.setBrokerage(et),buildCommonTransaction(ws,Transaction.Contract.ContractType.UPDATEBROKERAGECONTRACT,"UpdateBrokerageContract",t.Permission_id)},buildAssetIssueContract=(st,t)=>{const{owner_address:et,name:ms,abbr:ws,description:vs,url:_s,total_supply:Es,trx_num:Ts,num:Ss,start_time:Rs,end_time:Bs,precision:Is,free_asset_net_limit:Ws,public_free_asset_net_limit:Hs,public_free_asset_net_usage:Ns=0,public_latest_free_net_time:Js=0,vote_score:ha=0,frozen_supply:pa}=st,za=new AssetIssueContract;if(za.setOwnerAddress(fromHexString(et)),ms&&za.setName(stringToUint8Array(ms.replace(/^0x/,""))),ws&&za.setAbbr(stringToUint8Array(ws.replace(/^0x/,""))),za.setTotalSupply(Es),za.setNum(Ss),za.setEndTime(Bs),za.setStartTime(Rs),za.setTrxNum(Ts),za.setVoteScore(ha),Is&&za.setPrecision(Is),Js&&za.setPublicLatestFreeNetTime(Js),vs&&za.setDescription(stringToUint8Array(vs.replace(/^0x/,""))),_s&&za.setUrl(stringToUint8Array(_s.replace(/^0x/,""))),za.setPublicFreeAssetNetUsage(Ns),za.setFreeAssetNetLimit(Ws),za.setPublicFreeAssetNetLimit(Hs),pa){const Ya=new AssetIssueContract.FrozenSupply;Ya.setFrozenAmount(pa.length?pa[0].frozen_amount:pa.frozen_amount),Ya.setFrozenDays(pa.length?pa[0].frozen_days:pa.frozen_days),za.addFrozenSupply(Ya)}return buildCommonTransaction(za,Transaction.Contract.ContractType.ASSETISSUECONTRACT,"AssetIssueContract",t.Permission_id)},buildAccountCreateContract=(st,t)=>{const et=new AccountCreateContract,{account_address:ms,owner_address:ws}=st;return et.setOwnerAddress(fromHexString(ws)),et.setAccountAddress(fromHexString(ms.replace(/^0x/,""))),buildCommonTransaction(et,Transaction.Contract.ContractType.ACCOUNTCREATECONTRACT,"AccountCreateContract",t.Permission_id)},buildAccountUpdateContract=(st,t)=>{const et=new AccountUpdateContract,{account_name:ms,owner_address:ws}=st;return et.setOwnerAddress(fromHexString(ws)),et.setAccountName(stringToUint8Array(ms.replace(/^0x/,""))),buildCommonTransaction(et,Transaction.Contract.ContractType.ACCOUNTUPDATECONTRACT,"AccountUpdateContract",t.Permission_id)},buildSetAccountIdContract=(st,t)=>{const et=new SetAccountIdContract,{account_id:ms,owner_address:ws}=st;return et.setOwnerAddress(fromHexString(ws)),et.setAccountId(stringToUint8Array(ms.replace(/^0x/,""))),buildCommonTransaction(et,Transaction.Contract.ContractType.SETACCOUNTIDCONTRACT,"SetAccountIdContract",t.Permission_id)},buildProposalCreateContract=(st,t)=>{const et=new ProposalCreateContract,{owner_address:ms,parameters:ws}=st;return et.setOwnerAddress(fromHexString(ms)),ws.forEach(vs=>{et.getParametersMap().set(vs.key,vs.value)}),buildCommonTransaction(et,Transaction.Contract.ContractType.PROPOSALCREATECONTRACT,"ProposalCreateContract",t.Permission_id)},buildProposalDeleteContract=(st,t)=>{const et=new ProposalDeleteContract,{owner_address:ms,proposal_id:ws}=st;return et.setOwnerAddress(fromHexString(ms)),et.setProposalId(ws),buildCommonTransaction(et,Transaction.Contract.ContractType.PROPOSALDELETECONTRACT,"ProposalDeleteContract",t.Permission_id)},buildVoteProposalContract=(st,t)=>{const et=new ProposalApproveContract,{owner_address:ms,proposal_id:ws,is_add_approval:vs}=st;return et.setOwnerAddress(fromHexString(ms)),et.setProposalId(ws),et.setIsAddApproval(vs),buildCommonTransaction(et,Transaction.Contract.ContractType.PROPOSALAPPROVECONTRACT,"ProposalApproveContract",t.Permission_id)},buildExchangeCreateContract=(st,t)=>{const et=new ExchangeCreateContract,{owner_address:ms,first_token_id:ws,first_token_balance:vs,second_token_id:_s,second_token_balance:Es}=st;return et.setOwnerAddress(fromHexString(ms)),et.setFirstTokenId(flexToUint8Array(ws,t.visible)),et.setFirstTokenBalance(vs),et.setSecondTokenId(flexToUint8Array(_s,t.visible)),et.setSecondTokenBalance(Es),buildCommonTransaction(et,Transaction.Contract.ContractType.EXCHANGECREATECONTRACT,"ExchangeCreateContract",t.Permission_id)},buildExchangeInjectContract=(st,t)=>{const et=new ExchangeInjectContract,{owner_address:ms,exchange_id:ws,token_id:vs,quant:_s}=st;return et.setOwnerAddress(fromHexString(ms)),et.setExchangeId(ws),et.setTokenId(flexToUint8Array(vs,t.visible)),et.setQuant(_s),buildCommonTransaction(et,Transaction.Contract.ContractType.EXCHANGEINJECTCONTRACT,"ExchangeInjectContract",t.Permission_id)},buildExchangeWithdrawContract=(st,t)=>{const et=new ExchangeWithdrawContract,{owner_address:ms,exchange_id:ws,token_id:vs,quant:_s}=st;return et.setOwnerAddress(fromHexString(ms)),et.setExchangeId(ws),et.setTokenId(flexToUint8Array(vs,t.visible)),et.setQuant(_s),buildCommonTransaction(et,Transaction.Contract.ContractType.EXCHANGEWITHDRAWCONTRACT,"ExchangeWithdrawContract",t.Permission_id)},buildExchangeTransactionContract=(st,t)=>{const et=new ExchangeTransactionContract,{owner_address:ms,exchange_id:ws,token_id:vs,quant:_s,expected:Es}=st;return et.setOwnerAddress(fromHexString(ms)),et.setExchangeId(ws),et.setTokenId(flexToUint8Array(vs,t.visible)),et.setQuant(_s),et.setExpected(Es),buildCommonTransaction(et,Transaction.Contract.ContractType.EXCHANGETRANSACTIONCONTRACT,"ExchangeTransactionContract",t.Permission_id)},buildUpdateSettingContract=(st,t)=>{const et=new UpdateSettingContract,{owner_address:ms,contract_address:ws,consume_user_resource_percent:vs}=st;return et.setOwnerAddress(fromHexString(ms)),et.setContractAddress(fromHexString(ws)),et.setConsumeUserResourcePercent(vs),buildCommonTransaction(et,Transaction.Contract.ContractType.UPDATESETTINGCONTRACT,"UpdateSettingContract",t.Permission_id)},buildUpdateEnergyLimitContract=(st,t)=>{const et=new UpdateEnergyLimitContract,{owner_address:ms,contract_address:ws,origin_energy_limit:vs}=st;return et.setOwnerAddress(fromHexString(ms)),et.setContractAddress(fromHexString(ws)),et.setOriginEnergyLimit(vs),buildCommonTransaction(et,Transaction.Contract.ContractType.UPDATEENERGYLIMITCONTRACT,"UpdateEnergyLimitContract",t.Permission_id)},buildAccountPermissionUpdateContract=(st,t)=>{const et=new AccountPermissionUpdateContract,{owner_address:ms,owner:ws,witness:vs,actives:_s}=st;et.setOwnerAddress(fromHexString(ms));const Es=Ss=>isNaN(Ss)?Ss==="Active"?2:Ss==="Witness"?1:0:Ss,Ts=Ss=>{const Rs=new Permission,{type:Bs,id:Is,permission_name:Ws,threshold:Hs,parentId:Ns,operations:Js,keys:ha}=Ss;return Rs.setType(Es(Bs)),Rs.setId(Is),Rs.setPermissionName(Ws),Rs.setThreshold(Hs),Ns&&Rs.setParentId(Ns),Js&&Rs.setOperations(stringToUint8Array(Js)),ha&&Rs.setKeysList(ha.map(pa=>{const za=new Key;return za.setAddress(fromHexString(pa.address)),za.setWeight(pa.weight),za})),Rs};return ws&&et.setOwner(Ts(ws)),vs&&et.setWitness(Ts(vs)),_s&&(Array.isArray(_s)?et.setActivesList(_s.map(Ss=>Ts(Ss))):et.setActivesList([Ts(_s)])),buildCommonTransaction(et,Transaction.Contract.ContractType.ACCOUNTPERMISSIONUPDATECONTRACT,"AccountPermissionUpdateContract",t.Permission_id)},buildUpdateAssetContract=(st,t)=>{const et=new UpdateAssetContract,{owner_address:ms,description:ws,url:vs,new_limit:_s,new_public_limit:Es}=st;return et.setOwnerAddress(fromHexString(ms)),ws&&et.setDescription(stringToUint8Array(ws.replace(/^0x/,""))),vs&&et.setUrl(stringToUint8Array(vs.replace(/^0x/,""))),_s&&et.setNewLimit(_s),Es&&et.setNewPublicLimit(Es),buildCommonTransaction(et,Transaction.Contract.ContractType.UPDATEASSETCONTRACT,"UpdateAssetContract",t.Permission_id)},contractJsonToProtobuf=(st,t,et)=>{switch(st.type){case"TransferContract":return buildTransferContract(t,et);case"TransferAssetContract":return buildTransferAssetContract(t,et);case"ParticipateAssetIssueContract":return buildParticipateAssetIssueContract(t,et);case"TriggerSmartContract":return buildTriggerSmartContract(t,et);case"FreezeBalanceContract":return buildFreezeBalanceContract(t,et);case"UnfreezeBalanceContract":return buildUnfreezeBalanceContract(t,et);case"WithdrawBalanceContract":return buildWithdrawBalanceContract(t,et);case"FreezeBalanceV2Contract":return buildFreezeBalanceV2Contract(t,et);case"CancelAllUnfreezeV2Contract":return buildCancelFreezeBalanceV2Contract(t,et);case"UnfreezeBalanceV2Contract":return buildUnfreezeBalanceV2Contract(t,et);case"DelegateResourceContract":return buildDelegateResourceContract(t,et);case"UnDelegateResourceContract":return buildUnDelegateResourceContract(t,et);case"WithdrawExpireUnfreezeContract":return buildWithdrawExpireUnfreezeContract(t,et);case"WitnessCreateContract":return buildCreateWitness(t,et);case"VoteWitnessContract":return buildVoteWitnessAccount(t,et);case"CreateSmartContract":return buildCreateSmartContract(t,et);case"ClearABIContract":return buildClearABIContract(t,et);case"UpdateBrokerageContract":return buildUpdateBrokerageContract(t,et);case"AssetIssueContract":return buildAssetIssueContract(t,et);case"AccountCreateContract":return buildAccountCreateContract(t,et);case"AccountUpdateContract":return buildAccountUpdateContract(t,et);case"SetAccountIdContract":return buildSetAccountIdContract(t,et);case"ProposalCreateContract":return buildProposalCreateContract(t,et);case"ProposalDeleteContract":return buildProposalDeleteContract(t,et);case"ProposalApproveContract":return buildVoteProposalContract(t,et);case"ExchangeCreateContract":return buildExchangeCreateContract(t,et);case"ExchangeInjectContract":return buildExchangeInjectContract(t,et);case"ExchangeWithdrawContract":return buildExchangeWithdrawContract(t,et);case"ExchangeTransactionContract":return buildExchangeTransactionContract(t,et);case"UpdateSettingContract":return buildUpdateSettingContract(t,et);case"UpdateEnergyLimitContract":return buildUpdateEnergyLimitContract(t,et);case"AccountPermissionUpdateContract":return buildAccountPermissionUpdateContract(t,et);case"UpdateAssetContract":return buildUpdateAssetContract(t,et)}},txJsonToPb=st=>{const t=st.raw_data,et=t.contract[0],ms=et.parameter.value,ws={Permission_id:et.Permission_id,visible:st.visible},vs=contractJsonToProtobuf(et,ms,ws),_s=vs.getRawData();return _s.setRefBlockBytes(stringToUint8Array(t.ref_block_bytes)),_s.setRefBlockHash(stringToUint8Array(t.ref_block_hash)),t.data&&_s.setData(stringToUint8Array(t.data)),t.fee_limit&&_s.setFeeLimit(t.fee_limit),t.expiration&&_s.setExpiration(t.expiration),t.timestamp&&_s.setTimestamp(t.timestamp),vs.setRawData(_s),vs},txJsonToPbWithArgs=(st,t={},et={})=>{const ms=st.raw_data,ws=ms.contract[0],vs=contractJsonToProtobuf(ws,t,{Permission_id:t?.Permission_id}),_s=vs.getRawData();return _s.setRefBlockBytes(stringToUint8Array(ms.ref_block_bytes)),_s.setRefBlockHash(stringToUint8Array(ms.ref_block_hash)),et.data&&_s.setData(stringToUint8Array(et.data.replace(/^0x/,""))),(et.fee_limit||t.fee_limit)&&_s.setFeeLimit(et.fee_limit||t.fee_limit),ms.expiration&&_s.setExpiration(ms.expiration),ms.timestamp&&_s.setTimestamp(ms.timestamp),vs.setRawData(_s),vs},compareTransaction=(st,t)=>{const et=t.getRawData().serializeBinary(),ms=byteArray2hexStr(et),ws=sha256$7(et);return ms.toLowerCase()===st.raw_data_hex.toLowerCase()&&ws.replace(/^0x/,"").toLowerCase()===st.txID.replace(/^0x/,"").toLowerCase()},txPbToRawDataHex=st=>byteArray2hexStr(st.getRawData().serializeBinary()),txCheck=st=>{const t=txJsonToPb(st);return compareTransaction(st,t)},txCheckWithArgs=(st,t,et)=>{const ms=txJsonToPbWithArgs(st,t,et);return compareTransaction(st,ms)},txPbToTxID=st=>{const t=st.getRawData().serializeBinary();return sha256$7(t)},ContractTypeMap={0:"AccountCreateContract",1:"TransferContract",2:"TransferAssetContract",4:"VoteWitnessContract",5:"WitnessCreateContract",6:"AssetIssueContract",9:"ParticipateAssetIssueContract",10:"AccountUpdateContract",11:"FreezeBalanceContract",12:"UnfreezeBalanceContract",13:"WithdrawBalanceContract",15:"UpdateAssetContract",16:"ProposalCreateContract",17:"ProposalApproveContract",18:"ProposalDeleteContract",19:"SetAccountIdContract",30:"CreateSmartContract",31:"TriggerSmartContract",33:"UpdateSettingContract",41:"ExchangeCreateContract",42:"ExchangeInjectContract",43:"ExchangeWithdrawContract",44:"ExchangeTransactionContract",45:"UpdateEnergyLimitContract",46:"AccountPermissionUpdateContract",48:"ClearABIContract",49:"UpdateBrokerageContract",54:"FreezeBalanceV2Contract",55:"UnfreezeBalanceV2Contract",56:"WithdrawExpireUnfreezeContract",57:"DelegateResourceContract",58:"UnDelegateResourceContract",59:"CancelAllUnfreezeV2Contract"},getAuthsList=st=>st.getAuthsList().map(et=>{const ms=byteArray2hexStr(et.getPermissionName_asU8()),ws=et.getAccount(),vs={name:byteArray2hexStr(ws.getName_asU8()),address:byteArray2hexStr(ws.getAddress_asU8())};return{permission_name:ms,account:vs}}),DCommonData=(st,t)=>{const et=Transaction.raw.deserializeBinary(hexStr2byteArray(t)),ms=et.getContractList()[0],ws=ms.getParameter().getValue(),vs=ContractTypeMap[ms.getType()];if(st!==vs)throw new Error(`type ${st} dismatches with rawDataHex type ${vs}`);return[{contract:[{parameter:{value:{},type_url:ms.getParameter().getTypeUrl()},type:st,Permission_id:ms.getPermissionId()}],data:byteArray2hexStr(et.getData()),fee_limit:et.getFeeLimit(),ref_block_bytes:byteArray2hexStr(et.getRefBlockBytes_asU8()),ref_block_hash:byteArray2hexStr(et.getRefBlockHash_asU8()),expiration:et.getExpiration(),timestamp:et.getTimestamp(),scripts:byteArray2hexStr(et.getScripts_asU8()),auths:getAuthsList(et)},ws]},DTriggerSmartContract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=TriggerSmartContract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8()),contract_address:byteArray2hexStr(ws.getContractAddress_asU8()),call_value:ws.getCallValue(),data:byteArray2hexStr(ws.getData_asU8()),call_token_value:ws.getCallTokenValue(),token_id:ws.getTokenId()},et},getResourceName=st=>{switch(st){case 0:return"BANDWIDTH";case 1:return"ENERGY";default:return"BANDWIDTH"}},DFreezeBalanceV2Contract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=FreezeBalanceV2Contract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8()),frozen_balance:ws.getFrozenBalance(),resource:getResourceName(ws.getResource())},et},DUnfreezeBalanceV2Contract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=UnfreezeBalanceV2Contract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8()),unfreeze_balance:ws.getUnfreezeBalance(),resource:getResourceName(ws.getResource())},et},DCancelAllUnfreezeV2Contract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=CancelAllUnfreezeV2Contract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8())},et},DDelegateResourceContract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=DelegateResourceContract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8()),balance:ws.getBalance(),lock:ws.getLock(),lock_period:ws.getLockPeriod(),receiver_address:byteArray2hexStr(ws.getReceiverAddress_asU8()),resource:getResourceName(ws.getResource())},et},DUnDelegateResourceContract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=UnDelegateResourceContract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8()),balance:ws.getBalance(),receiver_address:byteArray2hexStr(ws.getReceiverAddress_asU8()),resource:getResourceName(ws.getResource())},et},DWithdrawExpireUnfreezeContract=(st,t)=>{const[et,ms]=DCommonData(st,t),ws=WithdrawExpireUnfreezeContract.deserializeBinary(ms);return et.contract[0].parameter.value={owner_address:byteArray2hexStr(ws.getOwnerAddress_asU8())},et},DeserializeTransaction=(st,t)=>{if(!t)throw new Error("rawDataHex cannot be empty");if(!isHex$1(t))throw new Error("rawDataHex is not a valid hex string");switch(st){case"TriggerSmartContract":return DTriggerSmartContract(st,t);case"FreezeBalanceV2Contract":return DFreezeBalanceV2Contract(st,t);case"UnfreezeBalanceV2Contract":return DUnfreezeBalanceV2Contract(st,t);case"CancelAllUnfreezeV2Contract":return DCancelAllUnfreezeV2Contract(st,t);case"DelegateResourceContract":return DDelegateResourceContract(st,t);case"UnDelegateResourceContract":return DUnDelegateResourceContract(st,t);case"WithdrawExpireUnfreezeContract":return DWithdrawExpireUnfreezeContract(st,t);default:throw new Error(`trasaction ${st} not supported`)}},transaction=Object.freeze(Object.defineProperty({__proto__:null,DeserializeTransaction,txCheck,txCheckWithArgs,txJsonToPb,txJsonToPbWithArgs,txPbToRawDataHex,txPbToTxID},Symbol.toStringTag,{value:"Module"}));function fromUtf8(st){return TronWeb.fromUtf8(st).replace(/^0x/,"")}function deepCopyJson(st){return JSON.parse(JSON.stringify(st))}function resultManager(st,t,et){if(st.Error)throw new Error(st.Error);if(st.result&&st.result.message)throw new Error(TronWeb.toUtf8(st.result.message));if(txCheckWithArgs(st,t,et))return st;throw new Error("Invalid transaction")}function resultManagerTriggerSmartContract(st,t,et){if(st.Error)throw new Error(st.Error);if(st.result&&st.result.message)throw new Error(TronWeb.toUtf8(st.result.message));if(!(et._isConstant||et.estimateEnergy)){if(txCheckWithArgs(st.transaction,t,et))return st;throw new Error("Invalid transaction")}return st}function genContractAddress(st,t){return"41"+keccak256$1(Buffer.from(t+st,"hex")).toString().substring(2).slice(24)}function getHeaderInfo(st){return st.request("wallet/getblock",{detail:!1},"post").then(t=>({ref_block_bytes:t.block_header.raw_data.number.toString(16).slice(-4).padStart(4,"0"),ref_block_hash:t.blockID.slice(16,32),expiration:t.block_header.raw_data.timestamp+60*1e3,timestamp:t.block_header.raw_data.timestamp}))}function checkBlockHeader(st={}){if(typeof st.ref_block_bytes>"u"&&typeof st.ref_block_hash>"u"&&typeof st.expiration>"u"&&typeof st.timestamp>"u")return!1;if(typeof st.ref_block_bytes!="string")throw new Error("Invalid ref_block_bytes provided.");if(typeof st.ref_block_hash!="string")throw new Error("Invalid ref_block_hash provided.");if(typeof st.expiration!="number")throw new Error("Invalid expiration provided.");if(typeof st.timestamp!="number")throw new Error("Invalid timestamp provided.");return!0}async function createTransaction(st,t,et,ms,ws={}){const vs={visible:!1,txID:"",raw_data_hex:"",raw_data:{contract:[{parameter:{value:et,type_url:`type.googleapis.com/protocol.${t}`},type:t}],...checkBlockHeader(ws)?{}:await getHeaderInfo(st.fullNode),...ws}};ms&&(vs.raw_data.contract[0].Permission_id=ms);const _s=txJsonToPb(vs);return vs.txID=txPbToTxID(_s).replace(/^0x/,""),vs.raw_data_hex=txPbToRawDataHex(_s).toLowerCase(),vs}function getTransactionOptions(st={}){const t={};return checkBlockHeader(st.blockHeader)&&(t.ref_block_bytes=st.blockHeader.ref_block_bytes,t.ref_block_hash=st.blockHeader.ref_block_hash,t.expiration=st.blockHeader.expiration,t.timestamp=st.blockHeader.timestamp),t}class TransactionBuilder{tronWeb;validator;constructor(t){if(!t||!(t instanceof TronWeb))throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.validator=new Validator}async sendTrx(t,et=0,ms=this.tronWeb.defaultAddress.hex,ws={}){et=parseInt(et),this.validator.notValid([{name:"recipient",type:"address",value:t},{name:"origin",type:"address",value:ms},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:et}]);const vs={to_address:toHex$3(t),owner_address:toHex$3(ms),amount:et},_s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.TransferContract,vs,ws?.permissionId,_s)}async sendToken(t,et=0,ms,ws=this.tronWeb.defaultAddress.hex,vs={}){et=parseInt(et),this.validator.notValid([{name:"recipient",type:"address",value:t},{name:"origin",type:"address",value:ws},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:et},{name:"token ID",type:"tokenId",value:ms}]);const _s={to_address:toHex$3(t),owner_address:toHex$3(ws),asset_name:fromUtf8(ms),amount:et},Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.TransferAssetContract,_s,vs?.permissionId,Es)}async purchaseToken(t,et,ms=0,ws=this.tronWeb.defaultAddress.hex,vs={}){this.validator.notValid([{name:"buyer",type:"address",value:ws},{name:"issuer",type:"address",value:t},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:ms},{name:"token ID",type:"tokenId",value:et}]);const _s={to_address:toHex$3(t),owner_address:toHex$3(ws),asset_name:fromUtf8(et),amount:parseInt(ms)},Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.ParticipateAssetIssueContract,_s,vs?.permissionId,Es)}async freezeBalance(t=0,et=3,ms="BANDWIDTH",ws=this.tronWeb.defaultAddress.hex,vs,_s={}){this.validator.notValid([{name:"origin",type:"address",value:ws},{name:"receiver",type:"address",value:vs,optional:!0},{name:"amount",type:"integer",gt:0,value:t},{name:"duration",type:"integer",gte:3,value:et},{name:"resource",type:"resource",value:ms,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const Es={owner_address:toHex$3(ws),frozen_balance:parseInt(t),frozen_duration:parseInt(String(et))};ms!=="BANDWIDTH"&&(Es.resource=ms),isNotNullOrUndefined(vs)&&toHex$3(vs)!==toHex$3(ws)&&(Es.receiver_address=toHex$3(vs));const Ts=getTransactionOptions(_s);return createTransaction(this.tronWeb,ContractType.FreezeBalanceContract,Es,_s?.permissionId,Ts)}async unfreezeBalance(t="BANDWIDTH",et=this.tronWeb.defaultAddress.hex,ms,ws={}){this.validator.notValid([{name:"origin",type:"address",value:et},{name:"receiver",type:"address",value:ms,optional:!0},{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const vs={owner_address:toHex$3(et)};t!=="BANDWIDTH"&&(vs.resource=t),isNotNullOrUndefined(ms)&&toHex$3(ms)!==toHex$3(et)&&(vs.receiver_address=toHex$3(ms));const _s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.UnfreezeBalanceContract,vs,ws?.permissionId,_s)}async freezeBalanceV2(t=0,et="BANDWIDTH",ms=this.tronWeb.defaultAddress.hex,ws={}){this.validator.notValid([{name:"origin",type:"address",value:ms},{name:"amount",type:"integer",gt:0,value:t},{name:"resource",type:"resource",value:et,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const vs={owner_address:toHex$3(ms),frozen_balance:parseInt(t)};et!=="BANDWIDTH"&&(vs.resource=et);const _s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.FreezeBalanceV2Contract,vs,ws?.permissionId,_s)}async unfreezeBalanceV2(t=0,et="BANDWIDTH",ms=this.tronWeb.defaultAddress.hex,ws={}){this.validator.notValid([{name:"origin",type:"address",value:ms},{name:"amount",type:"integer",gt:0,value:t},{name:"resource",type:"resource",value:et,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const vs={owner_address:toHex$3(ms),unfreeze_balance:parseInt(t)};et!=="BANDWIDTH"&&(vs.resource=et);const _s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.UnfreezeBalanceV2Contract,vs,ws?.permissionId,_s)}async cancelUnfreezeBalanceV2(t=this.tronWeb.defaultAddress.hex,et={}){this.validator.notValid([{name:"origin",type:"address",value:t}]);const ms={owner_address:toHex$3(t)},ws=getTransactionOptions(et);return createTransaction(this.tronWeb,ContractType.CancelAllUnfreezeV2Contract,ms,et?.permissionId,ws)}async delegateResource(t=0,et,ms="BANDWIDTH",ws=this.tronWeb.defaultAddress.hex,vs=!1,_s,Es={}){if(this.validator.notValid([{name:"amount",type:"integer",gt:0,value:t},{name:"resource",type:"resource",value:ms,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'},{name:"receiver",type:"address",value:et},{name:"origin",type:"address",value:ws},{name:"lock",type:"boolean",value:vs},{name:"lock period",type:"integer",gte:0,value:_s,optional:!0}]),toHex$3(et)===toHex$3(ws))throw new Error("Receiver address must not be the same as owner address");const Ts={owner_address:toHex$3(ws),receiver_address:toHex$3(et),balance:parseInt(t)};ms!=="BANDWIDTH"&&(Ts.resource=ms),vs&&(Ts.lock=vs,isNotNullOrUndefined(_s)&&(Ts.lock_period=_s));const Ss=getTransactionOptions(Es);return createTransaction(this.tronWeb,ContractType.DelegateResourceContract,Ts,Es?.permissionId,Ss)}async undelegateResource(t=0,et,ms="BANDWIDTH",ws=this.tronWeb.defaultAddress.hex,vs={}){if(this.validator.notValid([{name:"origin",type:"address",value:ws},{name:"receiver",type:"address",value:et},{name:"amount",type:"integer",gt:0,value:t},{name:"resource",type:"resource",value:ms,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]),toHex$3(et)===toHex$3(ws))throw new Error("Receiver address must not be the same as owner address");const _s={owner_address:toHex$3(ws),receiver_address:toHex$3(et),balance:parseInt(t)};ms!=="BANDWIDTH"&&(_s.resource=ms);const Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.UnDelegateResourceContract,_s,vs?.permissionId,Es)}async withdrawExpireUnfreeze(t=this.tronWeb.defaultAddress.hex,et={}){this.validator.notValid([{name:"origin",type:"address",value:t}]);const ms={owner_address:toHex$3(t)},ws=getTransactionOptions(et);return createTransaction(this.tronWeb,ContractType.WithdrawExpireUnfreezeContract,ms,et?.permissionId,ws)}async withdrawBlockRewards(t=this.tronWeb.defaultAddress.hex,et={}){this.validator.notValid([{name:"origin",type:"address",value:t}]);const ms={owner_address:toHex$3(t)},ws=getTransactionOptions(et);return createTransaction(this.tronWeb,ContractType.WithdrawBalanceContract,ms,et?.permissionId,ws)}async applyForSR(t=this.tronWeb.defaultAddress.hex,et="",ms={}){this.validator.notValid([{name:"origin",type:"address",value:t},{name:"url",type:"url",value:et,msg:"Invalid url provided"},{name:"url",type:"string",value:et,lte:256,msg:"Invalid url provided"}]);const ws={owner_address:toHex$3(t),url:fromUtf8(et)},vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.WitnessCreateContract,ws,ms?.permissionId,vs)}async vote(t={},et=this.tronWeb.defaultAddress.hex,ms={}){this.validator.notValid([{name:"voter",type:"address",value:et},{name:"votes",type:"notEmptyObject",value:t}]);const ws=Object.entries(t);for(const[Ts,Ss]of ws)this.validator.notValid([{name:"SR",type:"address",value:Ts},{name:"vote count",type:"integer",gt:0,value:Ss,msg:"Invalid vote count provided for SR: "+Ts}]);const vs=ws.map(([Ts,Ss])=>({vote_address:toHex$3(Ts),vote_count:parseInt(Ss)})),_s={owner_address:toHex$3(et),votes:vs},Es=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.VoteWitnessContract,_s,ms?.permissionId,Es)}async createSmartContract(t={},et=this.tronWeb.defaultAddress.hex){const ms=t.feeLimit||this.tronWeb.feeLimit;let ws=t.userFeePercentage;typeof ws!="number"&&!ws&&(ws=100);const vs=t.originEnergyLimit||1e7,_s=t.callValue||0,Es=t.tokenValue,Ts=t.tokenId||t.token_id;let{abi:Ss}=t;const{parameters:Rs=[]}=t;let Bs="";const{bytecode:Is=!1,name:Ws=""}=t;if(Ss&&isString$1(Ss))try{Ss=JSON.parse(Ss)}catch{throw new Error("Invalid options.abi provided")}const Hs=Ss;let Ns=Hs;if(Hs.entrys&&(Ns=Hs.entrys),!isArray$1(Ns))throw new Error("Invalid options.abi provided");const Js=Ns.some(ru=>ru.type==="constructor"&&ru.stateMutability.toLowerCase()==="payable");if(this.validator.notValid([{name:"bytecode",type:"hex",value:Is},{name:"feeLimit",type:"integer",value:ms,gt:0},{name:"callValue",type:"integer",value:_s,gte:0},{name:"userFeePercentage",type:"integer",value:ws,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:vs,gte:0,lte:1e7},{name:"parameters",type:"array",value:Rs},{name:"issuer",type:"address",value:et},{name:"tokenValue",type:"integer",value:Es,gte:0,optional:!0},{name:"tokenId",type:"integer",value:Ts,gte:0,optional:!0}]),!Js&&(_s>0||Es>0))throw new Error("When contract is not payable, options.callValue and options.tokenValue must be 0");const{rawParameter:ha,funcABIV2:pa,parametersV2:za}=t;if(ha&&isString$1(ha))Bs=ha.replace(/^(0x)/,"");else if(pa)Bs=encodeParamsV2ByABI(pa,za).replace(/^(0x)/,"");else{let ru=Ns.find(cu=>cu.type==="constructor");if(typeof ru<"u"&&ru){const cu=new AbiCoder,ou=[],Ga=[];if(ru=ru.inputs,Rs.length!=ru.length)throw new Error(`constructor needs ${ru.length} but ${Rs.length} provided`);for(let Xa=0;Xa<Rs.length;Xa++){let Fa=ru[Xa].type,Zs=Rs[Xa];if(!Fa||!isString$1(Fa)||!Fa.length)throw new Error("Invalid parameter type provided: "+Fa);const Wa=Za=>isArray$1(Za)?Za.map(iu=>Wa(iu)):toHex$3(Za).replace(ADDRESS_PREFIX_REGEX,"0x");Fa==="address"||Fa.match(/^([^\x5b]*)(\x5b|$)/)?.[0]==="address["?Zs=Wa(Zs):/trcToken/.test(Fa)&&(Fa=Fa.replace(/trcToken/,"uint256")),ou.push(Fa),Ga.push(Zs)}try{Bs=cu.encode(ou,Ga).replace(/^(0x)/,"")}catch(Xa){throw new Error(Xa)}}else Bs=""}const Ya={owner_address:toHex$3(et),fee_limit:parseInt(ms),call_value:parseInt(_s),consume_user_resource_percent:ws,origin_energy_limit:vs,abi:JSON.stringify(Ns),bytecode:Is,parameter:Bs,name:Ws};isNotNullOrUndefined(Es)&&(Ya.call_token_value=parseInt(Es)),isNotNullOrUndefined(Ts)&&(Ya.token_id=parseInt(Ts));const Bc={};Bc.owner_address=Ya.owner_address,isNotNullOrUndefined(Ya.call_token_value)&&(Bc.call_token_value=Ya.call_token_value),isNotNullOrUndefined(Ya.token_id)&&(Bc.token_id=Ya.token_id);const Qa=Bc.new_contract={};Ya.abi?Qa.abi={entrys:JSON.parse(Ya.abi)}:Qa.abi={},Ya.call_value&&(Qa.call_value=Ya.call_value),Qa.consume_user_resource_percent=Ya.consume_user_resource_percent,Qa.origin_energy_limit=Ya.origin_energy_limit,Qa.origin_address=Ya.origin_address??Ya.owner_address,Ya.bytecode+Ya.parameter&&(Qa.bytecode=(Ya.bytecode+Ya.parameter).replace(/^0x/,"")),isNotNullOrUndefined(Ya.name)&&(Qa.name=Ya.name);const tu=getTransactionOptions(t),eu=await createTransaction(this.tronWeb,ContractType.CreateSmartContract,Bc,t?.permissionId,{...tu,fee_limit:Ya.fee_limit});return eu.contract_address=genContractAddress(Ya.owner_address,eu.txID),eu}async triggerSmartContract(t,et,ms,ws,vs){const _s=[t,et,ms,ws,vs];return typeof _s[2]!="object"&&(_s[2]={feeLimit:_s[2],callValue:_s[3]},_s.splice(3,1)),_s[2]?.txLocal?this._triggerSmartContractLocal(..._s):this._triggerSmartContract(..._s)}async triggerConstantContract(t,et,ms={},ws=[],vs=this.tronWeb.defaultAddress.hex){return ms._isConstant=!0,this._triggerSmartContract(t,et,ms,ws,vs)}async triggerConfirmedConstantContract(t,et,ms={},ws=[],vs=this.tronWeb.defaultAddress.hex){return ms._isConstant=!0,ms.confirmed=!0,this._triggerSmartContract(t,et,ms,ws,vs)}async estimateEnergy(t,et,ms={},ws=[],vs=this.tronWeb.defaultAddress.hex){return ms.estimateEnergy=!0,await this._triggerSmartContract(t,et,ms,ws,vs)}async deployConstantContract(t={input:"",ownerAddress:""}){const{input:et,ownerAddress:ms,tokenId:ws,tokenValue:vs,callValue:_s=0}=t;this.validator.notValid([{name:"input",type:"not-empty-string",value:et},{name:"callValue",type:"integer",value:_s,gte:0},{name:"owner",type:"address",value:ms},{name:"tokenValue",type:"integer",value:vs,gte:0,optional:!0},{name:"tokenId",type:"integer",value:ws,gte:0,optional:!0}]);const Es={data:et,owner_address:toHex$3(ms),call_value:_s};ws&&(Es.token_id=ws),vs&&(Es.call_token_value=vs);const Ts=`wallet${t.confirmed?"solidity":""}/estimateenergy`,Ss=await this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(Ts,Es,"post");if(Ss.Error)throw new Error(Ss.Error);if(Ss.result&&Ss.result.message)throw new Error(this.tronWeb.toUtf8(Ss.result.message));return Ss}_getTriggerSmartContractArgs(t,et,ms,ws,vs,_s,Es,Ts,Ss){const Rs={contract_address:toHex$3(t),owner_address:toHex$3(vs)};if(et&&isString$1(et)){et=et.replace(/\s*/g,"");let Bs;if(ws.length){const Is=new AbiCoder;let Ws=[];const Hs=[];for(let Ns=0;Ns<ws.length;Ns++){let{value:Js}=ws[Ns];const{type:ha}=ws[Ns];if(!ha||!isString$1(ha)||!ha.length)throw new Error("Invalid parameter type provided: "+ha);const pa=za=>isArray$1(za)?za.map(Ya=>pa(Ya)):toHex$3(za).replace(ADDRESS_PREFIX_REGEX,"0x");(ha==="address"||ha.match(/^([^\x5b]*)(\x5b|$)/)?.[0]==="address[")&&(Js=pa(Js)),Ws.push(ha),Hs.push(Js)}try{Ws=Ws.map(Ns=>(/trcToken/.test(Ns)&&(Ns=Ns.replace(/trcToken/,"uint256")),Ns)),Bs=Is.encode(Ws,Hs).replace(/^(0x)/,"")}catch(Ns){throw new Error(Ns)}}else Bs="";ms.funcABIV2&&(Bs=encodeParamsV2ByABI(ms.funcABIV2,ms.parametersV2).replace(/^(0x)/,"")),ms.shieldedParameter&&isString$1(ms.shieldedParameter)&&(Bs=ms.shieldedParameter.replace(/^(0x)/,"")),ms.rawParameter&&isString$1(ms.rawParameter)&&(Bs=ms.rawParameter.replace(/^(0x)/,"")),Rs.function_selector=et,Rs.parameter=Bs}else ms.input&&(Rs.data=ms.input);return Rs.call_value=parseInt(Ts),isNotNullOrUndefined(_s)&&(Rs.call_token_value=parseInt(_s)),isNotNullOrUndefined(Es)&&(Rs.token_id=parseInt(Es)),ms._isConstant||ms.estimateEnergy||(Rs.fee_limit=parseInt(Ss)),ms.permissionId&&(Rs.Permission_id=ms.permissionId),Rs}async _triggerSmartContractLocal(t,et,ms={},ws=[],vs=this.tronWeb.defaultAddress.hex){const{tokenValue:_s,tokenId:Es,callValue:Ts,feeLimit:Ss}=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},ms);this.validator.notValid([{name:"feeLimit",type:"integer",value:Ss,gt:0},{name:"callValue",type:"integer",value:Ts,gte:0},{name:"parameters",type:"array",value:ws},{name:"contract",type:"address",value:t},{name:"issuer",type:"address",value:vs,optional:!0},{name:"tokenValue",type:"integer",value:_s,gte:0,optional:!0},{name:"tokenId",type:"integer",value:Es,gte:0,optional:!0}]);const Rs=this._getTriggerSmartContractArgs(t,et,ms,ws,vs,_s,Es,Ts,Ss);Rs.function_selector&&(Rs.data=keccak256$1(Buffer.from(Rs.function_selector,"utf-8")).toString().substring(2,10)+Rs.parameter);const Bs={data:Rs.data,owner_address:Rs.owner_address,contract_address:Rs.contract_address};Rs.call_value&&(Bs.call_value=Rs.call_value),Rs.call_token_value&&(Bs.call_token_value=Rs.call_token_value),Rs.token_id&&(Bs.token_id=Rs.token_id);const Is=getTransactionOptions(ms),Ws=await createTransaction(this.tronWeb,ContractType.TriggerSmartContract,Bs,ms.permissionId,{...Is,fee_limit:Rs.fee_limit});return{result:{result:!0},transaction:Ws}}async _triggerSmartContract(t,et,ms={},ws=[],vs=this.tronWeb.defaultAddress.hex){const{tokenValue:_s,tokenId:Es,callValue:Ts,feeLimit:Ss}=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},ms);this.validator.notValid([{name:"feeLimit",type:"integer",value:Ss,gt:0},{name:"callValue",type:"integer",value:Ts,gte:0},{name:"parameters",type:"array",value:ws},{name:"contract",type:"address",value:t},{name:"issuer",type:"address",value:vs,optional:!0},{name:"tokenValue",type:"integer",value:_s,gte:0,optional:!0},{name:"tokenId",type:"integer",value:Es,gte:0,optional:!0}]);const Rs=this._getTriggerSmartContractArgs(t,et,ms,ws,vs,_s,Es,Ts,Ss);let Bs="triggersmartcontract";ms._isConstant?Bs="triggerconstantcontract":ms.estimateEnergy&&(Bs="estimateenergy"),Bs=`wallet${ms.confirmed?"solidity":""}/${Bs}`;const Is=await this.tronWeb[ms.confirmed?"solidityNode":"fullNode"].request(Bs,Rs,"post");return resultManagerTriggerSmartContract(Is,Rs,ms)}async clearABI(t,et=this.tronWeb.defaultAddress.hex,ms={}){if(!TronWeb.isAddress(t))throw new Error("Invalid contract address provided");if(!TronWeb.isAddress(et))throw new Error("Invalid owner address provided");const ws={contract_address:toHex$3(t),owner_address:toHex$3(et)};this.tronWeb.trx.cache.contracts[t]&&delete this.tronWeb.trx.cache.contracts[t];const vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.ClearABIContract,ws,ms?.permissionId,vs)}async updateBrokerage(t,et=this.tronWeb.defaultAddress.hex,ms={}){if(!isNotNullOrUndefined(t))throw new Error("Invalid brokerage provided");if(!isInteger(t)||t<0||t>100)throw new Error("Brokerage must be an integer between 0 and 100");if(!TronWeb.isAddress(et))throw new Error("Invalid owner address provided");const ws={brokerage:parseInt(t),owner_address:toHex$3(et)},vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.UpdateBrokerageContract,ws,ms?.permissionId,vs)}async createToken(t={},et=this.tronWeb.defaultAddress.hex){const{name:ms=!1,abbreviation:ws=!1,description:vs="",url:_s=!1,totalSupply:Es=0,trxRatio:Ts=1,tokenRatio:Ss=1,saleStart:Rs=Date.now(),saleEnd:Bs=!1,freeBandwidth:Is=0,freeBandwidthLimit:Ws=0,frozenAmount:Hs=0,frozenDuration:Ns=0,voteScore:Js,precision:ha}=t;if(this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:Es},{name:"TRX ratio",type:"positive-integer",value:Ts},{name:"Token ratio",type:"positive-integer",value:Ss},{name:"token abbreviation",type:"string",value:ws,lte:32,gt:0},{name:"token name",type:"not-empty-string",value:ms},{name:"token description",type:"string",value:vs,lte:200},{name:"token url",type:"url",value:_s},{name:"token url",type:"string",value:_s,lte:256},{name:"issuer",type:"address",value:et},{name:"sale start timestamp",type:"integer",value:Rs,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:Bs,gt:Rs},{name:"Frozen supply",type:"integer",value:Hs,gte:0},{name:"Frozen duration",type:"integer",value:Ns,gte:0}]),isNotNullOrUndefined(Js)&&(!isInteger(Js)||Js<=0))throw new Error("voteScore must be a positive integer greater than 0");if(isNotNullOrUndefined(ha)&&(!isInteger(ha)||ha<0||ha>6))throw new Error("precision must be a positive integer >= 0 and <= 6");const pa={owner_address:toHex$3(et),name:fromUtf8(ms),abbr:fromUtf8(ws),description:fromUtf8(vs),url:fromUtf8(_s),total_supply:parseInt(Es),trx_num:parseInt(Ts),num:parseInt(Ss),start_time:parseInt(Rs),end_time:parseInt(Bs),frozen_supply:[{frozen_amount:parseInt(Hs),frozen_days:parseInt(Ns)}]};["name","abbr","description","url"].forEach(Ya=>{pa[Ya]||delete pa[Ya]}),parseInt(Hs)>0||delete pa.frozen_supply,Is&&!isNaN(parseInt(Is))&&parseInt(Is)>=0&&(pa.free_asset_net_limit=parseInt(Is)),Ws&&!isNaN(parseInt(Ws))&&parseInt(Ws)>=0&&(pa.public_free_asset_net_limit=parseInt(Ws)),ha&&!isNaN(parseInt(ha))&&(pa.precision=parseInt(ha)),Js&&!isNaN(parseInt(Js))&&(pa.vote_score=parseInt(Js));const za=getTransactionOptions(t);return createTransaction(this.tronWeb,ContractType.AssetIssueContract,pa,t?.permissionId,za)}async createAccount(t,et=this.tronWeb.defaultAddress.hex,ms={}){this.validator.notValid([{name:"account",type:"address",value:t},{name:"origin",type:"address",value:et}]);const ws={owner_address:toHex$3(et),account_address:toHex$3(t)},vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.AccountCreateContract,ws,ms?.permissionId,vs)}async updateAccount(t,et=this.tronWeb.defaultAddress.hex,ms={}){this.validator.notValid([{name:"Name",type:"string",lte:200,gt:0,value:t,msg:"Invalid accountName"},{name:"origin",type:"address",value:et}]);const ws={account_name:fromUtf8(t),owner_address:toHex$3(et)},vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.AccountUpdateContract,ws,ms?.permissionId,vs)}async setAccountId(t,et=this.tronWeb.defaultAddress.hex,ms={}){t&&isString$1(t)&&t.startsWith("0x")&&(t=t.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:t},{name:"accountId",type:"string",lte:32,gte:8,value:t},{name:"origin",type:"address",value:et}]);const ws={account_id:t,owner_address:toHex$3(et)},vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.SetAccountIdContract,ws,ms?.permissionId,vs)}async updateToken(t={},et=this.tronWeb.defaultAddress.hex){const{description:ms="",url:ws=!1,freeBandwidth:vs=0,freeBandwidthLimit:_s=0}=t;this.validator.notValid([{name:"token description",type:"string",value:ms,lte:200},{name:"token url",type:"url",value:ws},{name:"token url",type:"string",value:ws,lte:256},{name:"issuer",type:"address",value:et}]);const Es={owner_address:toHex$3(et),description:fromUtf8(ms),url:fromUtf8(ws)};vs&&!isNaN(parseInt(vs))&&parseInt(vs)>=0&&(Es.new_limit=parseInt(vs)),_s&&!isNaN(parseInt(_s))&&parseInt(_s)>=0&&(Es.new_public_limit=parseInt(_s));const Ts=getTransactionOptions(t);return createTransaction(this.tronWeb,ContractType.UpdateAssetContract,Es,t?.permissionId,Ts)}async sendAsset(t,et=0,ms,ws=this.tronWeb.defaultAddress.hex,vs={}){return this.sendToken(t,et,ms,ws,vs)}async purchaseAsset(t,et,ms=0,ws=this.tronWeb.defaultAddress.hex,vs={}){return this.purchaseToken(t,et,ms,ws,vs)}async createAsset(t,et){return this.createToken(t,et)}async updateAsset(t={},et=this.tronWeb.defaultAddress.hex){return this.updateToken(t,et)}async createProposal(t,et=this.tronWeb.defaultAddress.hex,ms={}){this.validator.notValid([{name:"issuer",type:"address",value:et}]);const ws="Invalid proposal parameters provided";if(!t)throw new Error(ws);const vs=isArray$1(t)?t:[t];for(const Ts of vs)if(!isObject$1(Ts))throw new Error(ws);const _s={owner_address:toHex$3(et),parameters:vs},Es=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.ProposalCreateContract,_s,ms?.permissionId,Es)}async deleteProposal(t,et=this.tronWeb.defaultAddress.hex,ms={}){this.validator.notValid([{name:"issuer",type:"address",value:et},{name:"proposalID",type:"integer",value:t,gte:0}]);const ws={owner_address:toHex$3(et),proposal_id:parseInt(t)},vs=getTransactionOptions(ms);return createTransaction(this.tronWeb,ContractType.ProposalDeleteContract,ws,ms?.permissionId,vs)}async voteProposal(t,et=!1,ms=this.tronWeb.defaultAddress.hex,ws={}){this.validator.notValid([{name:"voter",type:"address",value:ms},{name:"proposalID",type:"integer",value:t,gte:0},{name:"has approval",type:"boolean",value:et}]);const vs={owner_address:toHex$3(ms),proposal_id:parseInt(t),is_add_approval:et},_s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.ProposalApproveContract,vs,ws?.permissionId,_s)}async createTRXExchange(t,et,ms,ws=this.tronWeb.defaultAddress.hex,vs={}){this.validator.notValid([{name:"owner",type:"address",value:ws},{name:"token name",type:"not-empty-string",value:t},{name:"token balance",type:"positive-integer",value:et},{name:"trx balance",type:"positive-integer",value:ms}]);const _s={owner_address:toHex$3(ws),first_token_id:fromUtf8(t),first_token_balance:et,second_token_id:"5f",second_token_balance:ms},Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.ExchangeCreateContract,_s,vs?.permissionId,Es)}async createTokenExchange(t,et,ms,ws,vs=this.tronWeb.defaultAddress.hex,_s={}){this.validator.notValid([{name:"owner",type:"address",value:vs},{name:"first token name",type:"not-empty-string",value:t},{name:"second token name",type:"not-empty-string",value:ms},{name:"first token balance",type:"positive-integer",value:et},{name:"second token balance",type:"positive-integer",value:ws}]);const Es={owner_address:toHex$3(vs),first_token_id:fromUtf8(t),first_token_balance:et,second_token_id:fromUtf8(ms),second_token_balance:ws},Ts=getTransactionOptions(_s);return createTransaction(this.tronWeb,ContractType.ExchangeCreateContract,Es,_s?.permissionId,Ts)}async injectExchangeTokens(t,et,ms,ws=this.tronWeb.defaultAddress.hex,vs={}){this.validator.notValid([{name:"owner",type:"address",value:ws},{name:"token name",type:"not-empty-string",value:et},{name:"token amount",type:"integer",value:ms,gte:1},{name:"exchangeID",type:"integer",value:t,gte:0}]);const _s={owner_address:toHex$3(ws),exchange_id:parseInt(t),token_id:fromUtf8(et),quant:parseInt(ms)},Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.ExchangeInjectContract,_s,vs?.permissionId,Es)}async withdrawExchangeTokens(t,et,ms,ws=this.tronWeb.defaultAddress.hex,vs={}){this.validator.notValid([{name:"owner",type:"address",value:ws},{name:"token name",type:"not-empty-string",value:et},{name:"token amount",type:"integer",value:ms,gte:1},{name:"exchangeID",type:"integer",value:t,gte:0}]);const _s={owner_address:toHex$3(ws),exchange_id:parseInt(t),token_id:fromUtf8(et),quant:parseInt(ms)},Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.ExchangeWithdrawContract,_s,vs?.permissionId,Es)}async tradeExchangeTokens(t,et,ms,ws,vs=this.tronWeb.defaultAddress.hex,_s={}){this.validator.notValid([{name:"owner",type:"address",value:vs},{name:"token name",type:"not-empty-string",value:et},{name:"tokenAmountSold",type:"integer",value:ms,gte:1},{name:"tokenAmountExpected",type:"integer",value:ws,gte:1},{name:"exchangeID",type:"integer",value:t,gte:0}]);const Es={owner_address:toHex$3(vs),exchange_id:parseInt(t),token_id:TronWeb.fromAscii(et).replace(/^0x/,""),quant:parseInt(ms),expected:parseInt(ws)},Ts=getTransactionOptions(_s);return createTransaction(this.tronWeb,ContractType.ExchangeTransactionContract,Es,_s?.permissionId,Ts)}async updateSetting(t,et,ms=this.tronWeb.defaultAddress.hex,ws={}){this.validator.notValid([{name:"owner",type:"address",value:ms},{name:"contract",type:"address",value:t},{name:"userFeePercentage",type:"integer",value:et,gte:0,lte:100}]);const vs={owner_address:toHex$3(ms),contract_address:toHex$3(t),consume_user_resource_percent:et},_s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.UpdateSettingContract,vs,ws?.permissionId,_s)}async updateEnergyLimit(t,et=0,ms=this.tronWeb.defaultAddress.hex,ws={}){this.validator.notValid([{name:"owner",type:"address",value:ms},{name:"contract",type:"address",value:t},{name:"originEnergyLimit",type:"integer",value:et,gte:0,lte:1e7}]);const vs={owner_address:toHex$3(ms),contract_address:toHex$3(t),origin_energy_limit:et},_s=getTransactionOptions(ws);return createTransaction(this.tronWeb,ContractType.UpdateEnergyLimitContract,vs,ws?.permissionId,_s)}checkPermissions(t,et){if(t){if(t.type!==et||!t.permission_name||!isString$1(t.permission_name)||!isInteger(t.threshold)||t.threshold<1||!t.keys)return!1;for(const ms of t.keys)if(!TronWeb.isAddress(ms.address)||!isInteger(ms.weight)||ms.weight>t.threshold||ms.weight<1||et===2&&!t.operations)return!1}return!0}async updateAccountPermissions(t=this.tronWeb.defaultAddress.hex,et,ms,ws,vs={}){if(!TronWeb.isAddress(t))throw new Error("Invalid ownerAddress provided");if(!this.checkPermissions(et,0))throw new Error("Invalid ownerPermissions provided");if(!this.checkPermissions(ms,1))throw new Error("Invalid witnessPermissions provided");Array.isArray(ws)||(ws=[ws]);for(const Ts of ws)if(!this.checkPermissions(Ts,2))throw new Error("Invalid activesPermissions provided");const _s={owner_address:toHex$3(t)};if(et){const Ts=deepCopyJson(et);"type"in Ts&&delete Ts.type,Ts.keys=Ts.keys?.map(({address:Ss,weight:Rs})=>({address:this.tronWeb.address.toHex(Ss),weight:Rs})),_s.owner=Ts}if(ms){const Ts=deepCopyJson(ms);Ts.type="Witness",Ts.keys=Ts.keys.map(({address:Ss,weight:Rs})=>({address:this.tronWeb.address.toHex(Ss),weight:Rs})),_s.witness=Ts}if(ws){const Ts=deepCopyJson(ws);Ts.forEach(Ss=>{Ss.type="Active"}),Ts.forEach(Ss=>{Ss.keys=Ss.keys.map(({address:Rs,weight:Bs})=>({address:this.tronWeb.address.toHex(Rs),weight:Bs}))}),_s.actives=Ts}const Es=getTransactionOptions(vs);return createTransaction(this.tronWeb,ContractType.AccountPermissionUpdateContract,_s,vs?.permissionId,Es)}async newTxID(t,et={}){if(et?.txLocal){const ms=t.raw_data.contract[0];try{const ws=await createTransaction(this.tronWeb,ms.type,ms.parameter.value,ms.Permission_id,{fee_limit:t.raw_data.fee_limit,data:t.raw_data.data,ref_block_bytes:t.raw_data.ref_block_bytes,ref_block_hash:t.raw_data.ref_block_hash,expiration:t.raw_data.expiration,timestamp:t.raw_data.timestamp});return ws.signature=t.signature,ws.visible=t.visible,ws}catch{throw new Error("Error generating a new transaction id.")}}try{const ms=await this.tronWeb.fullNode.request("wallet/getsignweight",t,"post");return typeof t.visible=="boolean"&&(ms.transaction.transaction.visible=t.visible),resultManager(ms.transaction.transaction,{...t.raw_data.contract[0].parameter.value,Permission_id:t.raw_data.contract[0].Permission_id},{data:t.raw_data.data,fee_limit:t.raw_data.fee_limit})}catch{throw new Error("Error generating a new transaction id.")}}async alterTransaction(t,et={}){if(Reflect.has(t,"signature"))throw new Error("You can not extend the expiration of a signed transaction.");if(et.data){if(et.dataFormat!=="hex"&&(et.data=TronWeb.toHex(et.data)),et.data=et.data.replace(/^0x/,""),et.data.length===0)throw new Error("Invalid data provided");t.raw_data.data=et.data}if(et.extension){if(et.extension=parseInt(et.extension*1e3),isNaN(et.extension)||t.raw_data.expiration+et.extension<=Date.now()+3e3)throw new Error("Invalid extension provided");t.raw_data.expiration+=et.extension}return await this.newTxID(t,{txLocal:et.txLocal})}async extendExpiration(t,et,ms={}){return await this.alterTransaction(t,{extension:et,txLocal:ms?.txLocal})}async addUpdateData(t,et,ms="utf8",ws={}){return this.alterTransaction(t,{data:et,dataFormat:ms,txLocal:ws?.txLocal})}}const TRX_MESSAGE_HEADER=`TRON Signed Message:
32`,ETH_MESSAGE_HEADER=`Ethereum Signed Message:
32`;function toHex$2(st){return TronWeb.address.toHex(st)}class Trx{tronWeb;cache;validator;signMessage;sendAsset;send;sendTrx;broadcast;broadcastHex;signTransaction;constructor(t){this.tronWeb=t,this.cache={contracts:{}},this.validator=new Validator,this.signMessage=this.sign,this.sendAsset=this.sendToken,this.send=this.sendTransaction,this.sendTrx=this.sendTransaction,this.broadcast=this.sendRawTransaction,this.broadcastHex=this.sendHexTransaction,this.signTransaction=this.sign}_parseToken(t){return{...t,name:this.tronWeb.toUtf8(t.name),abbr:t.abbr&&this.tronWeb.toUtf8(t.abbr),description:t.description&&this.tronWeb.toUtf8(t.description),url:t.url&&this.tronWeb.toUtf8(t.url)}}getCurrentBlock(){return this.tronWeb.fullNode.request("wallet/getnowblock")}getConfirmedCurrentBlock(){return this.tronWeb.solidityNode.request("walletsolidity/getnowblock")}async getBlock(t=this.tronWeb.defaultBlock){if(t===!1)throw new Error("No block identifier provided");return t=="earliest"&&(t=0),t=="latest"?this.getCurrentBlock():isNaN(+t)&&utils$9.isHex(t.toString())?this.getBlockByHash(t):this.getBlockByNumber(t)}async getBlockByHash(t){const et=await this.tronWeb.fullNode.request("wallet/getblockbyid",{value:t},"post");if(!Object.keys(et).length)throw new Error("Block not found");return et}async getBlockByNumber(t){if(!utils$9.isInteger(t)||t<0)throw new Error("Invalid block number provided");return this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(t)},"post").then(et=>{if(!Object.keys(et).length)throw new Error("Block not found");return et})}async getBlockTransactionCount(t=this.tronWeb.defaultBlock){const{transactions:et=[]}=await this.getBlock(t);return et.length}async getTransactionFromBlock(t=this.tronWeb.defaultBlock,et){const{transactions:ms}=await this.getBlock(t);if(!ms)throw new Error("Transaction not found in block");if(et>=0&&et<ms.length)return ms[et];throw new Error("Invalid transaction index provided")}async getTransactionsFromBlock(t=this.tronWeb.defaultBlock){const{transactions:et}=await this.getBlock(t);if(!et)throw new Error("Transaction not found in block");return et}async getTransaction(t){const et=await this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:t},"post");if(!Object.keys(et).length)throw new Error("Transaction not found");return et}async getConfirmedTransaction(t){const et=await this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:t},"post");if(!Object.keys(et).length)throw new Error("Transaction not found");return et}getUnconfirmedTransactionInfo(t){return this.tronWeb.fullNode.request("wallet/gettransactioninfobyid",{value:t},"post")}getTransactionInfo(t){return this.tronWeb.solidityNode.request("walletsolidity/gettransactioninfobyid",{value:t},"post")}getTransactionsToAddress(t=this.tronWeb.defaultAddress.hex,et=30,ms=0){return this.getTransactionsRelated(this.tronWeb.address.toHex(t),"to",et,ms)}getTransactionsFromAddress(t=this.tronWeb.defaultAddress.hex,et=30,ms=0){return this.getTransactionsRelated(this.tronWeb.address.toHex(t),"from",et,ms)}async getTransactionsRelated(t=this.tronWeb.defaultAddress.hex,et="all",ms=30,ws=0){if(this.tronWeb.fullnodeSatisfies(">=4.1.1"))throw new Error("This api is not supported any more");if(!["to","from","all"].includes(et))throw new Error('Invalid direction provided: Expected "to", "from" or "all"');if(et=="all"){const[vs,_s]=await Promise.all([this.getTransactionsRelated(t,"from",ms,ws),this.getTransactionsRelated(t,"to",ms,ws)]);return[...vs.map(Es=>(Es.direction="from",Es)),..._s.map(Es=>(Es.direction="to",Es))].sort((Es,Ts)=>Ts.raw_data.timestamp-Es.raw_data.timestamp)}if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");if(!utils$9.isInteger(ms)||ms<0||ws&&ms<1)throw new Error("Invalid limit provided");if(!utils$9.isInteger(ws)||ws<0)throw new Error("Invalid offset provided");return t=this.tronWeb.address.toHex(t),this.tronWeb.solidityNode.request(`walletextension/gettransactions${et}this`,{account:{address:t},offset:ws,limit:ms},"post").then(({transaction:vs})=>vs)}async getAccount(t=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return t=this.tronWeb.address.toHex(t),this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:t},"post")}getAccountById(t){return this.getAccountInfoById(t,{confirmed:!0})}async getAccountInfoById(t,et){return this.validator.notValid([{name:"accountId",type:"hex",value:t},{name:"accountId",type:"string",lte:32,gte:8,value:t}]),t.startsWith("0x")&&(t=t.slice(2)),this.tronWeb[et.confirmed?"solidityNode":"fullNode"].request(`wallet${et.confirmed?"solidity":""}/getaccountbyid`,{account_id:t},"post")}async getBalance(t=this.tronWeb.defaultAddress.hex){const{balance:et=0}=await this.getAccount(t);return et}async getUnconfirmedAccount(t=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return t=this.tronWeb.address.toHex(t),this.tronWeb.fullNode.request("wallet/getaccount",{address:t},"post")}getUnconfirmedAccountById(t){return this.getAccountInfoById(t,{confirmed:!1})}async getUnconfirmedBalance(t=this.tronWeb.defaultAddress.hex){const{balance:et=0}=await this.getUnconfirmedAccount(t);return et}async getBandwidth(t=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return t=this.tronWeb.address.toHex(t),this.tronWeb.fullNode.request("wallet/getaccountnet",{address:t},"post").then(({freeNetUsed:et=0,freeNetLimit:ms=0,NetUsed:ws=0,NetLimit:vs=0})=>ms-et+(vs-ws))}async getTokensIssuedByAddress(t=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return t=this.tronWeb.address.toHex(t),this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:t},"post").then(({assetIssue:et})=>et?et.map(ws=>this._parseToken(ws)).reduce((ws,vs)=>(ws[vs.name]=vs,ws),{}):{})}async getTokenFromID(t){if(utils$9.isInteger(t)&&(t=t.toString()),!utils$9.isString(t)||!t.length)throw new Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(t)},"post").then(et=>{if(!et.name)throw new Error("Token does not exist");return this._parseToken(et)})}async listNodes(){const{nodes:t=[]}=await this.tronWeb.fullNode.request("wallet/listnodes");return t.map(({address:{host:et,port:ms}})=>`${this.tronWeb.toUtf8(et)}:${ms}`)}async getBlockRange(t=0,et=30){if(!utils$9.isInteger(t)||t<0)throw new Error("Invalid start of range provided");if(!utils$9.isInteger(et)||et<t)throw new Error("Invalid end of range provided");if(et+1-t>100)throw new Error("Invalid range size, which should be no more than 100.");return this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(t),endNum:parseInt(et)+1},"post").then(({block:ms=[]})=>ms)}async listSuperRepresentatives(){const{witnesses:t=[]}=await this.tronWeb.fullNode.request("wallet/listwitnesses");return t}async listTokens(t=0,et=0){if(!utils$9.isInteger(t)||t<0||et&&t<1)throw new Error("Invalid limit provided");if(!utils$9.isInteger(et)||et<0)throw new Error("Invalid offset provided");return t?this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(et),limit:parseInt(t)},"post").then(({assetIssue:ms=[]})=>ms.map(ws=>this._parseToken(ws))):this.tronWeb.fullNode.request("wallet/getassetissuelist").then(({assetIssue:ms=[]})=>ms.map(ws=>this._parseToken(ws)))}async timeUntilNextVoteCycle(){const{num:t=-1}=await this.tronWeb.fullNode.request("wallet/getnextmaintenancetime");if(t==-1)throw new Error("Failed to get time until next vote cycle");return Math.floor(t/1e3)}async getContract(t){if(!this.tronWeb.isAddress(t))throw new Error("Invalid contract address provided");if(this.cache.contracts[t])return this.cache.contracts[t];t=this.tronWeb.address.toHex(t);const et=await this.tronWeb.fullNode.request("wallet/getcontract",{value:t});if(et.Error)throw new Error("Contract does not exist");return this.cache.contracts[t]=et,et}ecRecover(t){return Trx.ecRecover(t)}static ecRecover(t){if(!txCheck(t))throw new Error("Invalid transaction");if(!t.signature?.length)throw new Error("Transaction is not signed");if(t.signature.length===1){const et=ecRecover(t.txID,t.signature[0]);return TronWeb.address.fromHex(et)}return t.signature.map(et=>{const ms=ecRecover(t.txID,et);return TronWeb.address.fromHex(ms)})}async verifyMessage(t,et,ms=this.tronWeb.defaultAddress.base58,ws=!0){if(!utils$9.isHex(t))throw new Error("Expected hex message input");if(Trx.verifySignature(t,ms,et,ws))return!0;throw new Error("Signature does not match")}static verifySignature(t,et,ms,ws=!0){t=t.replace(/^0x/,"");const vs=[...toUtf8Bytes(ws?TRX_MESSAGE_HEADER:ETH_MESSAGE_HEADER),...utils$9.code.hexStr2byteArray(t)],_s=keccak256$1(new Uint8Array(vs)),Es=recoverAddress$1(_s,Signature.from(`0x${ms.replace(/^0x/,"")}`)),Ts=ADDRESS_PREFIX+Es.substr(2);return TronWeb.address.fromHex(Ts)==TronWeb.address.fromHex(et)}async verifyMessageV2(t,et){return Trx.verifyMessageV2(t,et)}static verifyMessageV2(t,et){return utils$9.message.verifyMessage(t,et)}verifyTypedData(t,et,ms,ws,vs=this.tronWeb.defaultAddress.base58){if(Trx.verifyTypedData(t,et,ms,ws,vs))return!0;throw new Error("Signature does not match")}static verifyTypedData(t,et,ms,ws,vs){const _s=utils$9._TypedDataEncoder.hash(t,et,ms),Es=recoverAddress$1(_s,Signature.from(`0x${ws.replace(/^0x/,"")}`)),Ts=ADDRESS_PREFIX+Es.substr(2);return TronWeb.address.fromHex(Ts)==TronWeb.address.fromHex(vs)}async sign(t,et=this.tronWeb.defaultPrivateKey,ms=!0,ws=!1){if(utils$9.isString(t)){if(!utils$9.isHex(t))throw new Error("Expected hex message input");return Trx.signString(t,et,ms)}if(!utils$9.isObject(t))throw new Error("Invalid transaction provided");if(!ws&&t.signature)throw new Error("Transaction is already signed");if(!ws){if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(et)).toLowerCase()!==this.tronWeb.address.toHex(t.raw_data.contract[0].parameter.value.owner_address))throw new Error("Private key does not match address in transaction");if(!txCheck(t))throw new Error("Invalid transaction")}return utils$9.crypto.signTransaction(et,t)}static signString(t,et,ms=!0){t=t.replace(/^0x/,"");const ws=`0x${et.replace(/^0x/,"")}`,vs=new SigningKey(ws),_s=[...toUtf8Bytes(ms?TRX_MESSAGE_HEADER:ETH_MESSAGE_HEADER),...utils$9.code.hexStr2byteArray(t)],Es=keccak256$1(new Uint8Array(_s)),Ts=vs.sign(Es);return["0x",Ts.r.substring(2),Ts.s.substring(2),Number(Ts.v).toString(16)].join("")}signMessageV2(t,et=this.tronWeb.defaultPrivateKey){return Trx.signMessageV2(t,et)}static signMessageV2(t,et){return utils$9.message.signMessage(t,et)}_signTypedData(t,et,ms,ws=this.tronWeb.defaultPrivateKey){return Trx._signTypedData(t,et,ms,ws)}static _signTypedData(t,et,ms,ws){return utils$9.crypto._signTypedData(t,et,ms,ws)}async multiSign(t,et=this.tronWeb.defaultPrivateKey,ms=0){if(!utils$9.isObject(t)||!t.raw_data||!t.raw_data.contract)throw new Error("Invalid transaction provided");if(!t.raw_data.contract[0].Permission_id&&ms>0){t.raw_data.contract[0].Permission_id=ms;const ws=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(et)).toLowerCase(),vs=await this.getSignWeight(t,ms);if(vs.result.code==="PERMISSION_ERROR")throw new Error(vs.result.message);let _s=!1;if(vs.permission.keys.map(Es=>{Es.address===ws&&(_s=!0)}),!_s)throw new Error(et+" has no permission to sign");if(vs.approved_list&&vs.approved_list.indexOf(ws)!=-1)throw new Error(et+" already sign transaction");if(vs.transaction&&vs.transaction.transaction)t=vs.transaction.transaction,ms>0&&(t.raw_data.contract[0].Permission_id=ms);else throw new Error("Invalid transaction provided")}if(!txCheck(t))throw new Error("Invalid transaction");return utils$9.crypto.signTransaction(et,t)}async getApprovedList(t){if(!utils$9.isObject(t))throw new Error("Invalid transaction provided");return this.tronWeb.fullNode.request("wallet/getapprovedlist",t,"post")}async getSignWeight(t,et){if(!utils$9.isObject(t)||!t.raw_data||!t.raw_data.contract)throw new Error("Invalid transaction provided");return utils$9.isInteger(et)?t.raw_data.contract[0].Permission_id=parseInt(et):typeof t.raw_data.contract[0].Permission_id!="number"&&(t.raw_data.contract[0].Permission_id=0),this.tronWeb.fullNode.request("wallet/getsignweight",t,"post")}async sendRawTransaction(t){if(!utils$9.isObject(t))throw new Error("Invalid transaction provided");if(!t.signature||!utils$9.isArray(t.signature))throw new Error("Transaction is not signed");return{...await this.tronWeb.fullNode.request("wallet/broadcasttransaction",t,"post"),transaction:t}}async sendHexTransaction(t){if(!utils$9.isHex(t))throw new Error("Invalid hex transaction provided");const et={transaction:t},ms=await this.tronWeb.fullNode.request("wallet/broadcasthex",et,"post");return ms.result?{...ms,transaction:JSON.parse(ms.transaction),hexTransaction:t}:ms}async sendTransaction(t,et,ms={}){if(typeof ms=="string"&&(ms={privateKey:ms}),!this.tronWeb.isAddress(t))throw new Error("Invalid recipient provided");if(!utils$9.isInteger(et)||et<=0)throw new Error("Invalid amount provided");if(ms={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...ms},!ms.privateKey&&!ms.address)throw new Error("Function requires either a private key or address to be set");const ws=ms.privateKey?this.tronWeb.address.fromPrivateKey(ms.privateKey):ms.address,vs=await this.tronWeb.transactionBuilder.sendTrx(t,et,ws),_s=await this.sign(vs,ms.privateKey);return await this.sendRawTransaction(_s)}async sendToken(t,et,ms,ws={}){if(typeof ws=="string"&&(ws={privateKey:ws}),!this.tronWeb.isAddress(t))throw new Error("Invalid recipient provided");if(!utils$9.isInteger(et)||et<=0)throw new Error("Invalid amount provided");if(utils$9.isInteger(ms)&&(ms=ms.toString()),!utils$9.isString(ms))throw new Error("Invalid token ID provided");if(ws={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...ws},!ws.privateKey&&!ws.address)throw new Error("Function requires either a private key or address to be set");const vs=ws.privateKey?this.tronWeb.address.fromPrivateKey(ws.privateKey):ws.address,_s=await this.tronWeb.transactionBuilder.sendToken(t,et,ms,vs),Es=await this.sign(_s,ws.privateKey);return await this.sendRawTransaction(Es)}async freezeBalance(t=0,et=3,ms="BANDWIDTH",ws={},vs){if(typeof ws=="string"&&(ws={privateKey:ws}),!["BANDWIDTH","ENERGY"].includes(ms))throw new Error('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"');if(!utils$9.isInteger(t)||t<=0)throw new Error("Invalid amount provided");if(!utils$9.isInteger(et)||et<3)throw new Error("Invalid duration provided, minimum of 3 days");if(ws={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...ws},!ws.privateKey&&!ws.address)throw new Error("Function requires either a private key or address to be set");const _s=ws.privateKey?this.tronWeb.address.fromPrivateKey(ws.privateKey):ws.address,Es=await this.tronWeb.transactionBuilder.freezeBalance(t,et,ms,_s,vs),Ts=await this.sign(Es,ws.privateKey);return await this.sendRawTransaction(Ts)}async unfreezeBalance(t="BANDWIDTH",et={},ms){if(typeof et=="string"&&(et={privateKey:et}),!["BANDWIDTH","ENERGY"].includes(t))throw new Error('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"');if(et={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...et},!et.privateKey&&!et.address)throw new Error("Function requires either a private key or address to be set");const ws=et.privateKey?this.tronWeb.address.fromPrivateKey(et.privateKey):et.address,vs=await this.tronWeb.transactionBuilder.unfreezeBalance(t,ws,ms),_s=await this.sign(vs,et.privateKey);return await this.sendRawTransaction(_s)}async updateAccount(t,et={}){if(typeof et=="string"&&(et={privateKey:et}),!utils$9.isString(t)||!t.length)throw new Error("Name must be a string");if(et={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...et},!et.privateKey&&!et.address)throw Error("Function requires either a private key or address to be set");const ms=et.privateKey?this.tronWeb.address.fromPrivateKey(et.privateKey):et.address,ws=await this.tronWeb.transactionBuilder.updateAccount(t,ms),vs=await this.sign(ws,et.privateKey);return await this.sendRawTransaction(vs)}async getProposal(t){if(!utils$9.isInteger(t)||t<0)throw new Error("Invalid proposalID provided");return this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(t)},"post")}async listProposals(){const{proposals:t=[]}=await this.tronWeb.fullNode.request("wallet/listproposals",{},"post");return t}async getChainParameters(){const{chainParameter:t=[]}=await this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post");return t}async getAccountResources(t=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(t)},"post")}async getDelegatedResourceV2(t=this.tronWeb.defaultAddress.hex,et=this.tronWeb.defaultAddress.hex,ms={confirmed:!0}){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");if(!this.tronWeb.isAddress(et))throw new Error("Invalid address provided");return this.tronWeb[ms.confirmed?"solidityNode":"fullNode"].request(`wallet${ms.confirmed?"solidity":""}/getdelegatedresourcev2`,{fromAddress:toHex$2(t),toAddress:toHex$2(et)},"post")}async getDelegatedResourceAccountIndexV2(t=this.tronWeb.defaultAddress.hex,et={confirmed:!0}){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return this.tronWeb[et.confirmed?"solidityNode":"fullNode"].request(`wallet${et.confirmed?"solidity":""}/getdelegatedresourceaccountindexv2`,{value:toHex$2(t)},"post")}async getCanDelegatedMaxSize(t=this.tronWeb.defaultAddress.hex,et="BANDWIDTH",ms={confirmed:!0}){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return this.validator.notValid([{name:"resource",type:"resource",value:et,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]),this.tronWeb[ms.confirmed?"solidityNode":"fullNode"].request(`wallet${ms.confirmed?"solidity":""}/getcandelegatedmaxsize`,{owner_address:toHex$2(t),type:et==="ENERGY"?1:0},"post")}async getAvailableUnfreezeCount(t=this.tronWeb.defaultAddress.hex,et={confirmed:!0}){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return this.tronWeb[et.confirmed?"solidityNode":"fullNode"].request(`wallet${et.confirmed?"solidity":""}/getavailableunfreezecount`,{owner_address:toHex$2(t)},"post")}async getCanWithdrawUnfreezeAmount(t=this.tronWeb.defaultAddress.hex,et=Date.now(),ms={confirmed:!0}){if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");if(!utils$9.isInteger(et)||et<0)throw new Error("Invalid timestamp provided");return this.tronWeb[ms.confirmed?"solidityNode":"fullNode"].request(`wallet${ms.confirmed?"solidity":""}/getcanwithdrawunfreezeamount`,{owner_address:toHex$2(t),timestamp:et},"post")}async getExchangeByID(t){if(!utils$9.isInteger(t)||t<0)throw new Error("Invalid exchangeID provided");return this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:t},"post")}async listExchanges(){return this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then(({exchanges:t=[]})=>t)}async listExchangesPaginated(t=10,et=0){return this.tronWeb.fullNode.request("wallet/getpaginatedexchangelist",{limit:t,offset:et},"post").then(({exchanges:ms=[]})=>ms)}async getNodeInfo(){return this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post")}async getTokenListByName(t){if(utils$9.isInteger(t)&&(t=t.toString()),!utils$9.isString(t)||!t.length)throw new Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(t)},"post").then(et=>{if(Array.isArray(et.assetIssue))return et.assetIssue.map(ms=>this._parseToken(ms));if(!et.name)throw new Error("Token does not exist");return this._parseToken(et)})}getTokenByID(t){if(utils$9.isInteger(t)&&(t=t.toString()),!utils$9.isString(t)||!t.length)throw new Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:t},"post").then(et=>{if(!et.name)throw new Error("Token does not exist");return this._parseToken(et)})}async getReward(t,et={}){return et.confirmed=!0,this._getReward(t,et)}async getUnconfirmedReward(t,et={}){return et.confirmed=!1,this._getReward(t,et)}async getBrokerage(t,et={}){return et.confirmed=!0,this._getBrokerage(t,et)}async getUnconfirmedBrokerage(t,et={}){return et.confirmed=!1,this._getBrokerage(t,et)}async _getReward(t=this.tronWeb.defaultAddress.hex,et){this.validator.notValid([{name:"origin",type:"address",value:t}]);const ms={address:toHex$2(t)};return this.tronWeb[et.confirmed?"solidityNode":"fullNode"].request(`wallet${et.confirmed?"solidity":""}/getReward`,ms,"post").then((ws={reward:void 0})=>{if(typeof ws.reward>"u")throw new Error("Not found.");return ws.reward})}async _getBrokerage(t=this.tronWeb.defaultAddress.hex,et){this.validator.notValid([{name:"origin",type:"address",value:t}]);const ms={address:toHex$2(t)};return this.tronWeb[et.confirmed?"solidityNode":"fullNode"].request(`wallet${et.confirmed?"solidity":""}/getBrokerage`,ms,"post").then((ws={})=>{if(typeof ws.brokerage>"u")throw new Error("Not found.");return ws.brokerage})}async getBandwidthPrices(){return this.tronWeb.fullNode.request("wallet/getbandwidthprices",{},"post").then((t={})=>{if(typeof t.prices>"u")throw new Error("Not found.");return t.prices})}async getEnergyPrices(){return this.tronWeb.fullNode.request("wallet/getenergyprices",{},"post").then((t={})=>{if(typeof t.prices>"u")throw new Error("Not found.");return t.prices})}}const getFunctionSelector=st=>{if("stateMutability"in st&&(st.stateMutability=st.stateMutability?st.stateMutability.toLowerCase():"nonpayable"),st.type=st.type?st.type.toLowerCase():"",st.type==="fallback"||st.type==="receive")return"0x";const t=new utils$9.ethersUtils.Interface([st]);let et;if(st.type==="event"?et=t.getEvent(st.name):et=t.getFunction(st.name),et)return et.format("sighash");throw new Error("unknown function")},decodeOutput=(st,t)=>decodeParamsV2ByABI(st,t);class Method{tronWeb;contract;abi;name;inputs;outputs;functionSelector;signature;defaultOptions;constructor(t,et){this.tronWeb=t.tronWeb,this.contract=t,this.abi=et,this.name=et.name||et.type,this.inputs=et.inputs||[],this.outputs=[],"outputs"in et&&et.outputs&&(this.outputs=et.outputs),this.functionSelector=getFunctionSelector(et),this.signature=sha3$2(this.functionSelector,!1).slice(0,8),this.defaultOptions={feeLimit:this.tronWeb.feeLimit,callValue:0,userFeePercentage:100,shouldPollResponse:!1}}decodeInput(t){const et=JSON.parse(JSON.stringify(this.abi));return et.outputs=et.inputs,decodeOutput(et,"0x"+t)}onMethod(...t){let et="";return this.abi&&!/event/i.test(this.abi.type)&&(et=encodeParamsV2ByABI(this.abi,t)),{call:async(ms={})=>(ms={...ms,rawParameter:et},await this._call([],[],ms)),send:async(ms={},ws=this.tronWeb.defaultPrivateKey)=>(ms={...ms,rawParameter:et},await this._send([],[],ms,ws))}}async _call(t,et,ms={}){if(t.length!==et.length)throw new Error("Invalid argument count provided");if(!this.contract.address)throw new Error("Smart contract is missing address");if(!this.contract.deployed)throw new Error("Calling smart contracts requires you to load the contract first");if("stateMutability"in this.abi){const{stateMutability:Ts}=this.abi;if(Ts&&!["pure","view"].includes(Ts.toLowerCase()))throw new Error(`Methods with state mutability "${Ts}" must use send()`)}ms={...this.defaultOptions,from:this.tronWeb.defaultAddress.hex,...ms,_isConstant:!0};const ws=et.map((Ts,Ss)=>({type:t[Ss],value:Ts})),vs=await this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,ms,ws,ms.from?this.tronWeb.address.toHex(ms.from):void 0);if(!utils$9.hasProperty(vs,"constant_result"))throw new Error("Failed to execute");const _s=vs.constant_result[0].length;if(_s===0||_s%64===8){let Ts="The call has been reverted or has thrown an error.";if(_s!==0){Ts+=" Error message: ";let Ss="";const Rs=vs.constant_result[0].substring(8);for(let Bs=0;Bs<_s-8;Bs+=64)Ss+=this.tronWeb.toUtf8(Rs.substring(Bs,Bs+64));Ts+=Ss.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}throw new Error(Ts)}let Es=decodeOutput(this.abi,"0x"+vs.constant_result[0]);return Es.length===1&&Object.keys(Es).length===1&&(Es=Es[0]),Es}async _send(t,et,ms={},ws=this.tronWeb.defaultPrivateKey){if(t.length!==et.length)throw new Error("Invalid argument count provided");if(!this.contract.address)throw new Error("Smart contract is missing address");if(!this.contract.deployed)throw new Error("Calling smart contracts requires you to load the contract first");const{stateMutability:vs}=this.abi;if(["pure","view"].includes(vs.toLowerCase()))throw new Error(`Methods with state mutability "${vs}" must use call()`);["payable"].includes(vs.toLowerCase())||(ms.callValue=0),ms={...this.defaultOptions,from:this.tronWeb.defaultAddress.hex,...ms};const _s=et.map((Is,Ws)=>({type:t[Ws],value:Is})),Es=ws?this.tronWeb.address.fromPrivateKey(ws):this.tronWeb.defaultAddress.base58,Ts=await this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,ms,_s,this.tronWeb.address.toHex(Es));if(!Ts.result||!Ts.result.result)throw new Error("Unknown error: "+JSON.stringify(Ts,null,2));const Ss=await this.tronWeb.trx.sign(Ts.transaction,ws);if(!Ss.signature)throw ws?new Error("Invalid private key provided"):new Error("Transaction was not signed properly");const Rs=await this.tronWeb.trx.sendRawTransaction(Ss);if(Rs.code){const Is={error:Rs.code,message:Rs.code};Rs.message&&(Is.message=this.tronWeb.toUtf8(Rs.message));const Ws=new Error(Is.message);throw Ws.error=Rs.code,Ws}if(!ms.shouldPollResponse)return Ss.txID;const Bs=async Is=>{if(Is===(ms.pollTimes||20)){const Ns=new Error("Cannot find result in solidity node");throw Ns.error="Cannot find result in solidity node",Ns.transaction=Ss,Ns}const Ws=await this.tronWeb.trx.getTransactionInfo(Ss.txID);if(!Object.keys(Ws).length)return await new Promise(Ns=>setTimeout(Ns,3e3)),Bs(Is+1);if(Ws.result&&Ws.result==="FAILED"){const Ns=new Error(this.tronWeb.toUtf8(Ws.resMessage));throw Ns.error=this.tronWeb.toUtf8(Ws.resMessage),Ns.transaction=Ss,Ns.output=Ws,Ns}if(!utils$9.hasProperty(Ws,"contractResult")){const Ns=new Error("Failed to execute: "+JSON.stringify(Ws,null,2));throw Ns.error="Failed to execute: "+JSON.stringify(Ws,null,2),Ns.transaction=Ss,Ns.output=Ws,Ns}if(ms.rawResponse)return Ws;let Hs=decodeOutput(this.abi,"0x"+Ws.contractResult[0]);return Hs.length===1&&Object.keys(Hs).length===1&&(Hs=Hs[0]),ms.keepTxID?[Ss.txID,Hs]:Hs};return Bs(0)}}class Contract{tronWeb;abi;address;eventListener;bytecode;deployed;lastBlock;methods;methodInstances;props;constructor(t,et=[],ms){if(!t||!(t instanceof TronWeb))throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.address=ms,this.abi=et,this.eventListener=!1,this.bytecode=!1,this.deployed=!1,this.lastBlock=!1,this.methods={},this.methodInstances={},this.props=[],utils$9.address.isAddress(ms)?this.deployed=!0:this.address=!1,this.loadAbi(et)}hasProperty(t){return this.hasOwnProperty(t)||this.__proto__.hasOwnProperty(t)}loadAbi(t){this.abi=t,this.methods={},this.props.forEach(et=>delete this[et]),t.forEach(et=>{if(!et.type||/constructor|error/i.test(et.type))return;const ms=new Method(this,et),ws=ms.onMethod.bind(ms),{name:vs,functionSelector:_s,signature:Es}=ms;this.methods[vs]=ws,this.methods[_s]=ws,this.methods[Es]=ws,this.methodInstances[vs]=ms,this.methodInstances[_s]=ms,this.methodInstances[Es]=ms,this.hasProperty(vs)||(this[vs]=ws,this.props.push(vs)),this.hasProperty(_s)||(this[_s]=ws,this.props.push(_s)),this.hasProperty(Es)||(this[Es]=ws,this.props.push(Es))})}decodeInput(t){const et=t.substring(0,8),ms=t.substring(8);if(!this.methodInstances[et])throw new Error("Contract method "+et+" not found");return{name:this.methodInstances[et].name,params:this.methodInstances[et].decodeInput(ms)}}async new(t,et=this.tronWeb.defaultPrivateKey){const ms=this.tronWeb.address.fromPrivateKey(et),ws=await this.tronWeb.transactionBuilder.createSmartContract(t,ms),vs=await this.tronWeb.trx.sign(ws,et),_s=await this.tronWeb.trx.sendRawTransaction(vs);if(_s.code)throw{error:_s.code,message:this.tronWeb.toUtf8(_s.message)};return await utils$9.sleep(3e3),this.at(vs.contract_address)}async at(t){try{const et=await this.tronWeb.trx.getContract(t);if(!et.contract_address)throw new Error("Unknown error: "+JSON.stringify(et,null,2));return this.address=et.contract_address,this.bytecode=et.bytecode,this.deployed=!0,this.loadAbi(et.abi?et.abi.entrys?et.abi.entrys:[]:[]),this}catch(et){throw et.toString().includes("does not exist")?new Error("Contract has not been deployed on the network"):new Error(et)}}}class Plugin{tronWeb;pluginNoOverride;disablePlugins;constructor(t,et={}){if(!t||!(t instanceof TronWeb))throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.pluginNoOverride=["register"],this.disablePlugins=!!et.disablePlugins}register(t,et){let ms={requires:"0.0.0",components:{}};const ws={libs:[],plugged:[],skipped:[],error:void 0};if(this.disablePlugins)return ws.error="This instance of TronWeb has plugins disabled.",ws;const vs=new t(this.tronWeb);if(utils$9.isFunction(vs.pluginInterface)&&(ms=vs.pluginInterface(et)),semver.satisfies(TronWeb.version,ms.requires))if(ms.fullClass){const _s=vs.constructor.name,Es=_s.substring(0,1).toLowerCase()+_s.substring(1);_s!==Es&&(Object.assign(TronWeb,{[_s]:t}),Object.assign(this.tronWeb,{[Es]:vs}),ws.libs.push(_s))}else for(const _s in ms.components){if(!this.tronWeb.hasOwnProperty(_s))continue;const Es=ms.components[_s],Ts=this.tronWeb[_s].pluginNoOverride||[];for(const Ss in Es){if(Ss==="constructor"||this.tronWeb[_s][Ss]&&(Ts.includes(Ss)||/^_/.test(Ss))){ws.skipped.push(Ss);continue}this.tronWeb[_s][Ss]=Es[Ss].bind(this.tronWeb[_s]),ws.plugged.push(Ss)}}else throw new Error("The plugin is not compatible with this version of TronWeb");return ws}}class Event{tronWeb;constructor(t){if(!t||!(t instanceof TronWeb))throw new Error("Expected instance of TronWeb");this.tronWeb=t}setServer(t,et="healthcheck"){if(!t)return this.tronWeb.eventServer=void 0;if(utils$9.isString(t)&&(t=new HttpProvider(t)),!this.tronWeb.isValidProvider(t))throw new Error("Invalid event server provided");this.tronWeb.eventServer=t,this.tronWeb.eventServer.isConnected=()=>this.tronWeb.eventServer.request(et).then(()=>!0).catch(()=>!1)}async getEventsByContractAddress(t,et={}){const ms=Object.assign({limit:20},et),{eventName:ws,blockNumber:vs,onlyUnconfirmed:_s,onlyConfirmed:Es,minBlockTimestamp:Ts,maxBlockTimestamp:Ss,orderBy:Rs,fingerprint:Bs}=ms;let{limit:Is}=ms;if(!this.tronWeb.eventServer)throw new Error("No event server configured");if(!this.tronWeb.isAddress(t))throw new Error("Invalid contract address provided");if(typeof Ts<"u"&&!utils$9.isInteger(Ts))throw new Error("Invalid minBlockTimestamp provided");if(typeof Ss<"u"&&!utils$9.isInteger(Ss))throw new Error("Invalid maxBlockTimestamp provided");utils$9.isInteger(Is)&&Is>200&&(console.warn("Defaulting to maximum accepted limit: 200"),Is=200);const Ws={};ws&&(Ws.event_name=ws),vs&&(Ws.block_number=vs),typeof _s=="boolean"&&(Ws.only_unconfirmed=_s),typeof Es=="boolean"&&(Ws.only_confirmed=Es),Ts&&(Ws.min_block_timestamp=Ts),Ss&&(Ws.max_block_timestamp=Ss),Rs&&(Ws.order_by=Rs),Bs&&(Ws.fingerprint=Bs),utils$9.isInteger(Is)&&(Ws.limit=Is);const Hs=await this.tronWeb.eventServer.request(`v1/contracts/${this.tronWeb.address.fromHex(t)}/events?${new URLSearchParams(Ws).toString()}`);if(Hs.success)return Hs;throw new Error(Hs.error)}async getEventsByTransactionID(t,et={}){if(!this.tronWeb.eventServer)throw new Error("No event server configured");const ms={};return typeof et.only_unconfirmed=="boolean"&&(ms.only_unconfirmed=et.only_unconfirmed),typeof et.only_confirmed=="boolean"&&(ms.only_confirmed=et.only_confirmed),this.tronWeb.eventServer.request(`v1/transactions/${t}/events?${new URLSearchParams(ms).toString()}`).then(ws=>{if(ws.success)return ws;throw new Error(JSON.parse(ws.error).message)})}async getEventsByBlockNumber(t,et={}){if(!this.tronWeb.eventServer)throw new Error("No event server configured");const ms={};return typeof et.only_confirmed=="boolean"&&(ms.only_confirmed=et.only_confirmed),et.limit&&(ms.limit=et.limit),et.fingerprint&&(ms.fingerprint=et.fingerprint),this.tronWeb.eventServer.request(`v1/blocks/${t}/events?${new URLSearchParams(ms).toString()}`).then(ws=>{if(ws.success)return ws;throw new Error(ws.error)})}async getEventsOfLatestBlock(t={}){if(!this.tronWeb.eventServer)throw new Error("No event server configured");const et={};return typeof t.only_confirmed=="boolean"&&(et.only_confirmed=t.only_confirmed),this.tronWeb.eventServer.request(`v1/blocks/latest/events?${new URLSearchParams(et).toString()}`).then(ms=>{if(ms.success)return ms;throw new Error(ms.error)})}}const DEFAULT_VERSION="4.7.1",FEE_LIMIT=15e7,version$4="6.0.3";function isValidOptions(st){return!!st&&typeof st=="object"&&(!!st.fullNode||!!st.fullHost)}class TronWeb extends EventEmitter{providers;BigNumber;transactionBuilder;trx;plugin;event;version;static version=version$4;utils;defaultBlock;defaultPrivateKey;defaultAddress;fullnodeVersion;feeLimit;fullNode;solidityNode;eventServer;constructor(t,et="",ms,ws=""){super();let vs,_s=!1,Es=!1;isValidOptions(t)?(vs=t.fullNode||t.fullHost,et=t.solidityNode||t.fullHost,ms=t.eventServer||t.fullHost,_s=t.headers||!1,Es=t.eventHeaders||_s,ws=t.privateKey):vs=t,utils$9.isString(vs)&&(vs=new providers$1.HttpProvider(vs)),utils$9.isString(et)&&(et=new providers$1.HttpProvider(et)),utils$9.isString(ms)&&(ms=new providers$1.HttpProvider(ms)),this.event=new Event(this),this.transactionBuilder=new TransactionBuilder(this),this.trx=new Trx(this),this.plugin=new Plugin(this,{disablePlugins:isValidOptions(t)?t.disablePlugins:!1}),this.utils=utils$9,this.setFullNode(vs),this.setSolidityNode(et),this.setEventServer(ms),this.providers=providers$1,this.BigNumber=BigNumber,this.defaultBlock=!1,this.defaultPrivateKey=!1,this.defaultAddress={hex:!1,base58:!1},this.version=TronWeb.version,this.sha3=TronWeb.sha3,this.fromUtf8=TronWeb.fromUtf8,this.address=TronWeb.address,this.toAscii=TronWeb.toAscii,this.toUtf8=TronWeb.toUtf8,this.isAddress=TronWeb.isAddress,this.fromAscii=TronWeb.fromAscii,this.toHex=TronWeb.toHex,this.toBigNumber=TronWeb.toBigNumber,this.toDecimal=TronWeb.toDecimal,this.fromDecimal=TronWeb.fromDecimal,this.toSun=TronWeb.toSun,this.fromSun=TronWeb.fromSun,this.createAccount=TronWeb.createAccount,this.createRandom=TronWeb.createRandom,this.fromMnemonic=TronWeb.fromMnemonic,ws&&this.setPrivateKey(ws),this.fullnodeVersion=DEFAULT_VERSION,this.feeLimit=FEE_LIMIT,_s&&this.setFullNodeHeader(_s),Es&&this.setEventHeader(Es)}async getFullnodeVersion(){try{const t=await this.trx.getNodeInfo();this.fullnodeVersion=t.configNodeInfo.codeVersion,this.fullnodeVersion.split(".").length===2&&(this.fullnodeVersion+=".0")}catch{this.fullnodeVersion=DEFAULT_VERSION}}setDefaultBlock(t=!1){if([!1,"latest","earliest",0].includes(t))return this.defaultBlock=t;if(!utils$9.isInteger(t)||!t)throw new Error("Invalid block ID provided");return this.defaultBlock=Math.abs(t)}setPrivateKey(t){try{this.setAddress(TronWeb.address.fromPrivateKey(t))}catch{throw new Error("Invalid private key provided")}this.defaultPrivateKey=t,this.emit("privateKeyChanged",t)}setAddress(t){if(!TronWeb.isAddress(t))throw new Error("Invalid address provided");const et=TronWeb.address.toHex(t),ms=TronWeb.address.fromHex(t);this.defaultPrivateKey&&TronWeb.address.fromPrivateKey(this.defaultPrivateKey)!==ms&&(this.defaultPrivateKey=!1),this.defaultAddress={hex:et,base58:ms},this.emit("addressChanged",{hex:et,base58:ms})}fullnodeSatisfies(t){return semver.satisfies(this.fullnodeVersion,t)}isValidProvider(t){return Object.values(providers$1).some(et=>t instanceof et)}setFullNode(t){if(isString$1(t)&&(t=new providers$1.HttpProvider(t)),!this.isValidProvider(t))throw new Error("Invalid full node provided");this.fullNode=t,this.fullNode.setStatusPage("wallet/getnowblock")}setSolidityNode(t){if(utils$9.isString(t)&&(t=new providers$1.HttpProvider(t)),!this.isValidProvider(t))throw new Error("Invalid solidity node provided");this.solidityNode=t,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}setEventServer(t,et){this.event.setServer(t,et)}setHeader(t={}){const et=new providers$1.HttpProvider(this.fullNode.host,3e4,"","",t),ms=new providers$1.HttpProvider(this.solidityNode.host,3e4,"","",t),ws=new providers$1.HttpProvider(this.eventServer.host,3e4,"","",t);this.setFullNode(et),this.setSolidityNode(ms),this.setEventServer(ws)}setFullNodeHeader(t={}){const et=new providers$1.HttpProvider(this.fullNode.host,3e4,"","",t),ms=new providers$1.HttpProvider(this.solidityNode.host,3e4,"","",t);this.setFullNode(et),this.setSolidityNode(ms)}setEventHeader(t={}){const et=new providers$1.HttpProvider(this.eventServer.host,3e4,"","",t);this.setEventServer(et)}currentProviders(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}currentProvider(){return this.currentProviders()}getEventResult(...t){return this.event.getEventsByContractAddress(...t)}getEventByTransactionID(...t){return this.event.getEventsByTransactionID(...t)}contract(t=[],et){return new Contract(this,t,et)}address;static get address(){return{fromHex(t){return fromHex$1(t)},toHex(t){return toHex$3(t)},toChecksumAddress(t){return toChecksumAddress(t)},isChecksumAddress(t){return isChecksumAddress(t)},fromPrivateKey(t,et=!1){return fromPrivateKey(t,et)}}}sha3;static sha3(t,et=!0){return(et?"0x":"")+keccak256$1(Buffer.from(t,"utf-8")).toString().substring(2)}toHex;static toHex(t){if(utils$9.isBoolean(t))return TronWeb.fromDecimal(+t);if(utils$9.isBigNumber(t))return TronWeb.fromDecimal(t);if(typeof t=="object")return TronWeb.fromUtf8(JSON.stringify(t));if(utils$9.isString(t)){if(/^(-|)0x/.test(t))return t;if(!isFinite(t)||/^\s*$/.test(t))return TronWeb.fromUtf8(t)}const et=TronWeb.fromDecimal(t);if(et==="0xNaN")throw new Error("The passed value is not convertible to a hex string");return et}toUtf8;static toUtf8(t){if(utils$9.isHex(t))return t=t.replace(/^0x/,""),Buffer.from(t,"hex").toString("utf8");throw new Error("The passed value is not a valid hex string")}fromUtf8;static fromUtf8(t){if(!utils$9.isString(t))throw new Error("The passed value is not a valid utf-8 string");return"0x"+Buffer.from(t,"utf8").toString("hex")}toAscii;static toAscii(t){if(utils$9.isHex(t)){let et="",ms=0;const ws=t.length;for(t.substring(0,2)==="0x"&&(ms=2);ms<ws;ms+=2){const vs=parseInt(t.substr(ms,2),16);et+=String.fromCharCode(vs)}return et}else throw new Error("The passed value is not a valid hex string")}fromAscii;static fromAscii(t,et){if(!utils$9.isString(t))throw new Error("The passed value is not a valid utf-8 string");return"0x"+Buffer.from(t,"ascii").toString("hex").padEnd(et,"0")}toDecimal;static toDecimal(t){return TronWeb.toBigNumber(t).toNumber()}fromDecimal;static fromDecimal(t){const et=TronWeb.toBigNumber(t),ms=et.toString(16);return et.isLessThan(0)?"-0x"+ms.substr(1):"0x"+ms}fromSun;static fromSun(t){const et=TronWeb.toBigNumber(t).div(1e6);return utils$9.isBigNumber(t)?et:et.toString(10)}toSun;static toSun(t){const et=TronWeb.toBigNumber(t).times(1e6);return utils$9.isBigNumber(t)?et:et.toString(10)}toBigNumber;static toBigNumber(t=0){return utils$9.isBigNumber(t)?t:utils$9.isString(t)&&/^(-|)0x/.test(t)?new BigNumber(t.replace("0x",""),16):new BigNumber(t.toString(10),10)}isAddress;static isAddress(t=""){return isAddress(t)}createAccount;static async createAccount(){return utils$9.accounts.generateAccount()}createRandom;static createRandom(...t){return utils$9.accounts.generateRandom(...t)}fromMnemonic;static fromMnemonic(...t){return utils$9.accounts.generateAccountWithMnemonic(...t)}async isConnected(){return{fullNode:await this.fullNode.isConnected(),solidityNode:await this.solidityNode.isConnected(),eventServer:this.eventServer&&await this.eventServer.isConnected()}}}function getAddress(st){return TronWeb.address.toHex(st).replace(ADDRESS_PREFIX_REGEX,"0x")}function getTronAddress(st){return TronWeb.address.toHex(st)}const padding$1=new Uint8Array(32);padding$1.fill(0);const BN__1=BigInt(-1),BN_0=BigInt(0),BN_1=BigInt(1),BN_MAX_UINT256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(st){const t=getBytes(st),et=t.length%32;return et?concat$1([t,padding$1.slice(et)]):hexlify(t)}const hexTrue=toBeHex(BN_1,32),hexFalse=toBeHex(BN_0,32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(st){return function(t){return assertArgument(typeof t=="string",`invalid domain value for ${JSON.stringify(st)}`,`domain.${st}`,t),t}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(st){const t=getBigInt(st,"domain.chainId");return assertArgument(t>=0,"invalid chain ID","domain.chainId",st),Number.isSafeInteger(t)?Number(t):toQuantity(t)},verifyingContract:function(st){try{return getTronAddress(st).toLowerCase()}catch{}assertArgument(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",st)},salt:function(st){const t=getBytes(st,"domain.salt");return assertArgument(t.length===32,'invalid domain value "salt"',"domain.salt",st),hexlify(t)}};function getBaseEncoder(st){{const t=st.match(/^(u?)int(\d*)$/);if(t){const et=t[1]==="",ms=parseInt(t[2]||"256");assertArgument(ms%8===0&&ms!==0&&ms<=256&&(t[2]==null||t[2]===String(ms)),"invalid numeric width","type",st);const ws=mask(BN_MAX_UINT256,et?ms-1:ms),vs=et?(ws+BN_1)*BN__1:BN_0;return function(_s){const Es=getBigInt(_s,"value");return assertArgument(Es>=vs&&Es<=ws,`value out-of-bounds for ${st}`,"value",Es),toBeHex(et?toTwos(Es,256):Es,32)}}}{const t=st.match(/^bytes(\d+)$/);if(t){const et=parseInt(t[1]);return assertArgument(et!==0&&et<=32&&t[1]===String(et),"invalid bytes width","type",st),function(ms){const ws=getBytes(ms);return assertArgument(ws.length===et,`invalid length for ${st}`,"value",ms),hexPadRight(ms)}}}switch(st){case"trcToken":return getBaseEncoder("uint256");case"address":return function(t){return zeroPadValue(getAddress(t),32)};case"bool":return function(t){return t?hexTrue:hexFalse};case"bytes":return function(t){return keccak256$1(t)};case"string":return function(t){return id(t)}}return null}function encodeType(st,t){return`${st}(${t.map(({name:et,type:ms})=>ms+" "+et).join(",")})`}class TypedDataEncoder{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(t){this.#e=JSON.stringify(t),this.#t=new Map,this.#r=new Map;const et=new Map,ms=new Map,ws=new Map;Object.keys(t).forEach(Es=>{et.set(Es,new Set),ms.set(Es,[]),ws.set(Es,new Set)});for(const Es in t){const Ts=new Set;for(const Ss of t[Es]){assertArgument(!Ts.has(Ss.name),`duplicate variable name ${JSON.stringify(Ss.name)} in ${JSON.stringify(Es)}`,"types",t),Ts.add(Ss.name);const Rs=Ss.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;assertArgument(Rs!==Es,`circular type reference to ${JSON.stringify(Rs)}`,"types",t),!getBaseEncoder(Rs)&&(assertArgument(ms.has(Rs),`unknown type ${JSON.stringify(Rs)}`,"types",t),ms.get(Rs).push(Es),et.get(Es).add(Rs))}}const vs=Array.from(ms.keys()).filter(Es=>ms.get(Es).length===0);assertArgument(vs.length!==0,"missing primary type","types",t),assertArgument(vs.length===1,`ambiguous primary types or unused types: ${vs.map(Es=>JSON.stringify(Es)).join(", ")}`,"types",t),defineProperties(this,{primaryType:vs[0]});function _s(Es,Ts){assertArgument(!Ts.has(Es),`circular type reference to ${JSON.stringify(Es)}`,"types",t),Ts.add(Es);for(const Ss of et.get(Es))if(ms.has(Ss)){_s(Ss,Ts);for(const Rs of Ts)ws.get(Rs).add(Ss)}Ts.delete(Es)}_s(this.primaryType,new Set);for(const[Es,Ts]of ws){const Ss=Array.from(Ts);Ss.sort(),this.#t.set(Es,encodeType(Es,t[Es])+Ss.map(Rs=>encodeType(Rs,t[Rs])).join(""))}}getEncoder(t){let et=this.#r.get(t);return et||(et=this.#n(t),this.#r.set(t,et)),et}#n(t){{const ws=getBaseEncoder(t);if(ws)return ws}const et=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(et){const ws=et[1],vs=this.getEncoder(ws);return _s=>{assertArgument(!et[3]||parseInt(et[3])===_s.length,`array length mismatch; expected length ${parseInt(et[3])}`,"value",_s);let Es=_s.map(vs);return this.#t.has(ws)&&(Es=Es.map(keccak256$1)),keccak256$1(concat$1(Es))}}const ms=this.types[t];if(ms){const ws=id(this.#t.get(t));return vs=>{const _s=ms.map(({name:Es,type:Ts})=>{const Ss=this.getEncoder(Ts)(vs[Es]);return this.#t.has(Ts)?keccak256$1(Ss):Ss});return _s.unshift(ws),concat$1(_s)}}assertArgument(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const et=this.#t.get(t);return assertArgument(et,`unknown type: ${JSON.stringify(t)}`,"name",t),et}encodeData(t,et){return this.getEncoder(t)(et)}hashStruct(t,et){return keccak256$1(this.encodeData(t,et))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,et,ms){if(getBaseEncoder(t))return ms(t,et);const ws=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(ws)return assertArgument(!ws[3]||parseInt(ws[3])===et.length,`array length mismatch; expected length ${parseInt(ws[3])}`,"value",et),et.map(_s=>this._visit(ws[1],_s,ms));const vs=this.types[t];if(vs)return vs.reduce((_s,{name:Es,type:Ts})=>(_s[Es]=this._visit(Ts,et[Es],ms),_s),{});assertArgument(!1,`unknown type: ${t}`,"type",t)}visit(t,et){return this._visit(this.primaryType,t,et)}static from(t){return new TypedDataEncoder(t)}static getPrimaryType(t){return TypedDataEncoder.from(t).primaryType}static hashStruct(t,et,ms){return TypedDataEncoder.from(et).hashStruct(t,ms)}static hashDomain(t){const et=[];for(const ms in t){if(t[ms]==null)continue;const ws=domainFieldTypes[ms];assertArgument(ws,`invalid typed-data domain key: ${JSON.stringify(ms)}`,"domain",t),et.push({name:ms,type:ws})}return et.sort((ms,ws)=>domainFieldNames.indexOf(ms.name)-domainFieldNames.indexOf(ws.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:et},t)}static encode(t,et,ms){return concat$1(["0x1901",TypedDataEncoder.hashDomain(t),TypedDataEncoder.from(et).hash(ms)])}static hash(t,et,ms){return keccak256$1(TypedDataEncoder.encode(t,et,ms))}static async resolveNames(t,et,ms,ws){t=Object.assign({},t);for(const Es in t)t[Es]==null&&delete t[Es];const vs={};t.verifyingContract&&!isHexString(t.verifyingContract,20)&&(vs[t.verifyingContract]="0x");const _s=TypedDataEncoder.from(et);_s.visit(ms,(Es,Ts)=>(Es==="address"&&!isHexString(Ts,20)&&(vs[Ts]="0x"),Ts));for(const Es in vs)vs[Es]=await ws(Es);return t.verifyingContract&&vs[t.verifyingContract]&&(t.verifyingContract=vs[t.verifyingContract]),ms=_s.visit(ms,(Es,Ts)=>Es==="address"&&vs[Ts]?vs[Ts]:Ts),{domain:t,value:ms}}static getPayload(t,et,ms){TypedDataEncoder.hashDomain(t);const ws={},vs=[];domainFieldNames.forEach(Ts=>{const Ss=t[Ts];Ss!=null&&(ws[Ts]=domainChecks[Ts](Ss),vs.push({name:Ts,type:domainFieldTypes[Ts]}))});const _s=TypedDataEncoder.from(et),Es=Object.assign({},et);return assertArgument(Es.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",et),Es.EIP712Domain=vs,_s.encode(ms),{types:Es,domain:ws,primaryType:_s.primaryType,message:_s.visit(ms,(Ts,Ss)=>{if(Ts.match(/^bytes(\d*)/))return hexlify(getBytes(Ss));if(Ts.match(/^u?int/))return getBigInt(Ss).toString();switch(Ts){case"trcToken":return getBigInt(Ss).toString();case"address":return Ss.toLowerCase();case"bool":return!!Ss;case"string":return assertArgument(typeof Ss=="string","invalid string","value",Ss),Ss}assertArgument(!1,"unsupported type","type",Ts)})}}}function number(st){if(!Number.isSafeInteger(st)||st<0)throw new Error(`positive integer expected, not ${st}`)}function isBytes$3(st){return st instanceof Uint8Array||st!=null&&typeof st=="object"&&st.constructor.name==="Uint8Array"}function bytes$1(st,...t){if(!isBytes$3(st))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(st.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${st.length}`)}function hash$2(st){if(typeof st!="function"||typeof st.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(st.outputLen),number(st.blockLen)}function exists(st,t=!0){if(st.destroyed)throw new Error("Hash instance has been destroyed");if(t&&st.finished)throw new Error("Hash#digest() has already been called")}function output(st,t){bytes$1(st);const et=t.outputLen;if(st.length<et)throw new Error(`digestInto() expects output buffer of length at least ${et}`)}const crypto$5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView$1=st=>new DataView(st.buffer,st.byteOffset,st.byteLength),rotr$1=(st,t)=>st<<32-t|st>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$2(st){if(typeof st!="string")throw new Error(`utf8ToBytes expected string, got ${typeof st}`);return new Uint8Array(new TextEncoder().encode(st))}function toBytes$2(st){return typeof st=="string"&&(st=utf8ToBytes$2(st)),bytes$1(st),st}function concatBytes$2(...st){let t=0;for(let ms=0;ms<st.length;ms++){const ws=st[ms];bytes$1(ws),t+=ws.length}const et=new Uint8Array(t);for(let ms=0,ws=0;ms<st.length;ms++){const vs=st[ms];et.set(vs,ws),ws+=vs.length}return et}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor(st){const t=ms=>st().update(toBytes$2(ms)).digest(),et=st();return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=()=>st(),t}function randomBytes$1(st=32){if(crypto$5&&typeof crypto$5.getRandomValues=="function")return crypto$5.getRandomValues(new Uint8Array(st));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(st,t,et,ms){if(typeof st.setBigUint64=="function")return st.setBigUint64(t,et,ms);const ws=BigInt(32),vs=BigInt(4294967295),_s=Number(et>>ws&vs),Es=Number(et&vs),Ts=ms?4:0,Ss=ms?0:4;st.setUint32(t+Ts,_s,ms),st.setUint32(t+Ss,Es,ms)}const Chi=(st,t,et)=>st&t^~st&et,Maj=(st,t,et)=>st&t^st&et^t&et;class HashMD extends Hash$1{constructor(t,et,ms,ws){super(),this.blockLen=t,this.outputLen=et,this.padOffset=ms,this.isLE=ws,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=createView$1(this.buffer)}update(t){exists(this);const{view:et,buffer:ms,blockLen:ws}=this;t=toBytes$2(t);const vs=t.length;for(let _s=0;_s<vs;){const Es=Math.min(ws-this.pos,vs-_s);if(Es===ws){const Ts=createView$1(t);for(;ws<=vs-_s;_s+=ws)this.process(Ts,_s);continue}ms.set(t.subarray(_s,_s+Es),this.pos),this.pos+=Es,_s+=Es,this.pos===ws&&(this.process(et,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){exists(this),output(t,this),this.finished=!0;const{buffer:et,view:ms,blockLen:ws,isLE:vs}=this;let{pos:_s}=this;et[_s++]=128,this.buffer.subarray(_s).fill(0),this.padOffset>ws-_s&&(this.process(ms,0),_s=0);for(let Bs=_s;Bs<ws;Bs++)et[Bs]=0;setBigUint64(ms,ws-8,BigInt(this.length*8),vs),this.process(ms,0);const Es=createView$1(t),Ts=this.outputLen;if(Ts%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Ss=Ts/4,Rs=this.get();if(Ss>Rs.length)throw new Error("_sha2: outputLen bigger than state");for(let Bs=0;Bs<Ss;Bs++)Es.setUint32(4*Bs,Rs[Bs],vs)}digest(){const{buffer:t,outputLen:et}=this;this.digestInto(t);const ms=t.slice(0,et);return this.destroy(),ms}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:et,buffer:ms,length:ws,finished:vs,destroyed:_s,pos:Es}=this;return t.length=ws,t.pos=Es,t.finished=vs,t.destroyed=_s,ws%et&&t.buffer.set(ms),t}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);let SHA256$1=class extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:t,B:et,C:ms,D:ws,E:vs,F:_s,G:Es,H:Ts}=this;return[t,et,ms,ws,vs,_s,Es,Ts]}set(t,et,ms,ws,vs,_s,Es,Ts){this.A=t|0,this.B=et|0,this.C=ms|0,this.D=ws|0,this.E=vs|0,this.F=_s|0,this.G=Es|0,this.H=Ts|0}process(t,et){for(let Bs=0;Bs<16;Bs++,et+=4)SHA256_W[Bs]=t.getUint32(et,!1);for(let Bs=16;Bs<64;Bs++){const Is=SHA256_W[Bs-15],Ws=SHA256_W[Bs-2],Hs=rotr$1(Is,7)^rotr$1(Is,18)^Is>>>3,Ns=rotr$1(Ws,17)^rotr$1(Ws,19)^Ws>>>10;SHA256_W[Bs]=Ns+SHA256_W[Bs-7]+Hs+SHA256_W[Bs-16]|0}let{A:ms,B:ws,C:vs,D:_s,E:Es,F:Ts,G:Ss,H:Rs}=this;for(let Bs=0;Bs<64;Bs++){const Is=rotr$1(Es,6)^rotr$1(Es,11)^rotr$1(Es,25),Ws=Rs+Is+Chi(Es,Ts,Ss)+SHA256_K[Bs]+SHA256_W[Bs]|0,Ns=(rotr$1(ms,2)^rotr$1(ms,13)^rotr$1(ms,22))+Maj(ms,ws,vs)|0;Rs=Ss,Ss=Ts,Ts=Es,Es=_s+Ws|0,_s=vs,vs=ws,ws=ms,ms=Ws+Ns|0}ms=ms+this.A|0,ws=ws+this.B|0,vs=vs+this.C|0,_s=_s+this.D|0,Es=Es+this.E|0,Ts=Ts+this.F|0,Ss=Ss+this.G|0,Rs=Rs+this.H|0,this.set(ms,ws,vs,_s,Es,Ts,Ss,Rs)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$6=wrapConstructor(()=>new SHA256$1);class HMAC extends Hash$1{constructor(t,et){super(),this.finished=!1,this.destroyed=!1,hash$2(t);const ms=toBytes$2(et);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ws=this.blockLen,vs=new Uint8Array(ws);vs.set(ms.length>ws?t.create().update(ms).digest():ms);for(let _s=0;_s<vs.length;_s++)vs[_s]^=54;this.iHash.update(vs),this.oHash=t.create();for(let _s=0;_s<vs.length;_s++)vs[_s]^=106;this.oHash.update(vs),vs.fill(0)}update(t){return exists(this),this.iHash.update(t),this}digestInto(t){exists(this),bytes$1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:et,iHash:ms,finished:ws,destroyed:vs,blockLen:_s,outputLen:Es}=this;return t=t,t.finished=ws,t.destroyed=vs,t.blockLen=_s,t.outputLen=Es,t.oHash=et._cloneInto(t.oHash),t.iHash=ms._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$3=(st,t,et)=>new HMAC(st,t).update(et).digest();hmac$3.create=(st,t)=>new HMAC(st,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2);function isBytes$2(st){return st instanceof Uint8Array||st!=null&&typeof st=="object"&&st.constructor.name==="Uint8Array"}function abytes$1(st){if(!isBytes$2(st))throw new Error("Uint8Array expected")}const hexes$1=Array.from({length:256},(st,t)=>t.toString(16).padStart(2,"0"));function bytesToHex$1(st){abytes$1(st);let t="";for(let et=0;et<st.length;et++)t+=hexes$1[st[et]];return t}function numberToHexUnpadded(st){const t=st.toString(16);return t.length&1?`0${t}`:t}function hexToNumber$1(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);return BigInt(st===""?"0":`0x${st}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(st){if(st>=asciis._0&&st<=asciis._9)return st-asciis._0;if(st>=asciis._A&&st<=asciis._F)return st-(asciis._A-10);if(st>=asciis._a&&st<=asciis._f)return st-(asciis._a-10)}function hexToBytes$1(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);const t=st.length,et=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const ms=new Uint8Array(et);for(let ws=0,vs=0;ws<et;ws++,vs+=2){const _s=asciiToBase16(st.charCodeAt(vs)),Es=asciiToBase16(st.charCodeAt(vs+1));if(_s===void 0||Es===void 0){const Ts=st[vs]+st[vs+1];throw new Error('hex string expected, got non-hex character "'+Ts+'" at index '+vs)}ms[ws]=_s*16+Es}return ms}function bytesToNumberBE(st){return hexToNumber$1(bytesToHex$1(st))}function bytesToNumberLE(st){return abytes$1(st),hexToNumber$1(bytesToHex$1(Uint8Array.from(st).reverse()))}function numberToBytesBE(st,t){return hexToBytes$1(st.toString(16).padStart(t*2,"0"))}function numberToBytesLE(st,t){return numberToBytesBE(st,t).reverse()}function numberToVarBytesBE(st){return hexToBytes$1(numberToHexUnpadded(st))}function ensureBytes(st,t,et){let ms;if(typeof t=="string")try{ms=hexToBytes$1(t)}catch(vs){throw new Error(`${st} must be valid hex string, got "${t}". Cause: ${vs}`)}else if(isBytes$2(t))ms=Uint8Array.from(t);else throw new Error(`${st} must be hex string or Uint8Array`);const ws=ms.length;if(typeof et=="number"&&ws!==et)throw new Error(`${st} expected ${et} bytes, got ${ws}`);return ms}function concatBytes$1(...st){let t=0;for(let ms=0;ms<st.length;ms++){const ws=st[ms];abytes$1(ws),t+=ws.length}const et=new Uint8Array(t);for(let ms=0,ws=0;ms<st.length;ms++){const vs=st[ms];et.set(vs,ws),ws+=vs.length}return et}function equalBytes(st,t){if(st.length!==t.length)return!1;let et=0;for(let ms=0;ms<st.length;ms++)et|=st[ms]^t[ms];return et===0}function utf8ToBytes$1(st){if(typeof st!="string")throw new Error(`utf8ToBytes expected string, got ${typeof st}`);return new Uint8Array(new TextEncoder().encode(st))}function bitLen(st){let t;for(t=0;st>_0n$4;st>>=_1n$5,t+=1);return t}function bitGet(st,t){return st>>BigInt(t)&_1n$5}function bitSet(st,t,et){return st|(et?_1n$5:_0n$4)<<BigInt(t)}const bitMask=st=>(_2n$3<<BigInt(st-1))-_1n$5,u8n=st=>new Uint8Array(st),u8fr=st=>Uint8Array.from(st);function createHmacDrbg(st,t,et){if(typeof st!="number"||st<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof et!="function")throw new Error("hmacFn must be a function");let ms=u8n(st),ws=u8n(st),vs=0;const _s=()=>{ms.fill(1),ws.fill(0),vs=0},Es=(...Bs)=>et(ws,ms,...Bs),Ts=(Bs=u8n())=>{ws=Es(u8fr([0]),Bs),ms=Es(),Bs.length!==0&&(ws=Es(u8fr([1]),Bs),ms=Es())},Ss=()=>{if(vs++>=1e3)throw new Error("drbg: tried 1000 values");let Bs=0;const Is=[];for(;Bs<t;){ms=Es();const Ws=ms.slice();Is.push(Ws),Bs+=ms.length}return concatBytes$1(...Is)};return(Bs,Is)=>{_s(),Ts(Bs);let Ws;for(;!(Ws=Is(Ss()));)Ts();return _s(),Ws}}const validatorFns={bigint:st=>typeof st=="bigint",function:st=>typeof st=="function",boolean:st=>typeof st=="boolean",string:st=>typeof st=="string",stringOrUint8Array:st=>typeof st=="string"||isBytes$2(st),isSafeInteger:st=>Number.isSafeInteger(st),array:st=>Array.isArray(st),field:(st,t)=>t.Fp.isValid(st),hash:st=>typeof st=="function"&&Number.isSafeInteger(st.outputLen)};function validateObject(st,t,et={}){const ms=(ws,vs,_s)=>{const Es=validatorFns[vs];if(typeof Es!="function")throw new Error(`Invalid validator "${vs}", expected function`);const Ts=st[ws];if(!(_s&&Ts===void 0)&&!Es(Ts,st))throw new Error(`Invalid param ${String(ws)}=${Ts} (${typeof Ts}), expected ${vs}`)};for(const[ws,vs]of Object.entries(t))ms(ws,vs,!1);for(const[ws,vs]of Object.entries(et))ms(ws,vs,!0);return st}const ut$4=Object.freeze(Object.defineProperty({__proto__:null,abytes:abytes$1,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes,hexToBytes:hexToBytes$1,hexToNumber:hexToNumber$1,isBytes:isBytes$2,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(st,t){const et=st%t;return et>=_0n$3?et:t+et}function pow$1(st,t,et){if(et<=_0n$3||t<_0n$3)throw new Error("Expected power/modulo > 0");if(et===_1n$4)return _0n$3;let ms=_1n$4;for(;t>_0n$3;)t&_1n$4&&(ms=ms*st%et),st=st*st%et,t>>=_1n$4;return ms}function pow2(st,t,et){let ms=st;for(;t-- >_0n$3;)ms*=ms,ms%=et;return ms}function invert(st,t){if(st===_0n$3||t<=_0n$3)throw new Error(`invert: expected positive integers, got n=${st} mod=${t}`);let et=mod(st,t),ms=t,ws=_0n$3,vs=_1n$4;for(;et!==_0n$3;){const Es=ms/et,Ts=ms%et,Ss=ws-vs*Es;ms=et,et=Ts,ws=vs,vs=Ss}if(ms!==_1n$4)throw new Error("invert: does not exist");return mod(ws,t)}function tonelliShanks(st){const t=(st-_1n$4)/_2n$2;let et,ms,ws;for(et=st-_1n$4,ms=0;et%_2n$2===_0n$3;et/=_2n$2,ms++);for(ws=_2n$2;ws<st&&pow$1(ws,t,st)!==st-_1n$4;ws++);if(ms===1){const _s=(st+_1n$4)/_4n;return function(Ts,Ss){const Rs=Ts.pow(Ss,_s);if(!Ts.eql(Ts.sqr(Rs),Ss))throw new Error("Cannot find square root");return Rs}}const vs=(et+_1n$4)/_2n$2;return function(Es,Ts){if(Es.pow(Ts,t)===Es.neg(Es.ONE))throw new Error("Cannot find square root");let Ss=ms,Rs=Es.pow(Es.mul(Es.ONE,ws),et),Bs=Es.pow(Ts,vs),Is=Es.pow(Ts,et);for(;!Es.eql(Is,Es.ONE);){if(Es.eql(Is,Es.ZERO))return Es.ZERO;let Ws=1;for(let Ns=Es.sqr(Is);Ws<Ss&&!Es.eql(Ns,Es.ONE);Ws++)Ns=Es.sqr(Ns);const Hs=Es.pow(Rs,_1n$4<<BigInt(Ss-Ws-1));Rs=Es.sqr(Hs),Bs=Es.mul(Bs,Hs),Is=Es.mul(Is,Rs),Ss=Ws}return Bs}}function FpSqrt(st){if(st%_4n===_3n$1){const t=(st+_1n$4)/_4n;return function(ms,ws){const vs=ms.pow(ws,t);if(!ms.eql(ms.sqr(vs),ws))throw new Error("Cannot find square root");return vs}}if(st%_8n===_5n){const t=(st-_5n)/_8n;return function(ms,ws){const vs=ms.mul(ws,_2n$2),_s=ms.pow(vs,t),Es=ms.mul(ws,_s),Ts=ms.mul(ms.mul(Es,_2n$2),_s),Ss=ms.mul(Es,ms.sub(Ts,ms.ONE));if(!ms.eql(ms.sqr(Ss),ws))throw new Error("Cannot find square root");return Ss}}return tonelliShanks(st)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(st){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},et=FIELD_FIELDS.reduce((ms,ws)=>(ms[ws]="function",ms),t);return validateObject(st,et)}function FpPow(st,t,et){if(et<_0n$3)throw new Error("Expected power > 0");if(et===_0n$3)return st.ONE;if(et===_1n$4)return t;let ms=st.ONE,ws=t;for(;et>_0n$3;)et&_1n$4&&(ms=st.mul(ms,ws)),ws=st.sqr(ws),et>>=_1n$4;return ms}function FpInvertBatch(st,t){const et=new Array(t.length),ms=t.reduce((vs,_s,Es)=>st.is0(_s)?vs:(et[Es]=vs,st.mul(vs,_s)),st.ONE),ws=st.inv(ms);return t.reduceRight((vs,_s,Es)=>st.is0(_s)?vs:(et[Es]=st.mul(vs,et[Es]),st.mul(vs,_s)),ws),et}function nLength(st,t){const et=t!==void 0?t:st.toString(2).length,ms=Math.ceil(et/8);return{nBitLength:et,nByteLength:ms}}function Field(st,t,et=!1,ms={}){if(st<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${st}`);const{nBitLength:ws,nByteLength:vs}=nLength(st,t);if(vs>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _s=FpSqrt(st),Es=Object.freeze({ORDER:st,BITS:ws,BYTES:vs,MASK:bitMask(ws),ZERO:_0n$3,ONE:_1n$4,create:Ts=>mod(Ts,st),isValid:Ts=>{if(typeof Ts!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Ts}`);return _0n$3<=Ts&&Ts<st},is0:Ts=>Ts===_0n$3,isOdd:Ts=>(Ts&_1n$4)===_1n$4,neg:Ts=>mod(-Ts,st),eql:(Ts,Ss)=>Ts===Ss,sqr:Ts=>mod(Ts*Ts,st),add:(Ts,Ss)=>mod(Ts+Ss,st),sub:(Ts,Ss)=>mod(Ts-Ss,st),mul:(Ts,Ss)=>mod(Ts*Ss,st),pow:(Ts,Ss)=>FpPow(Es,Ts,Ss),div:(Ts,Ss)=>mod(Ts*invert(Ss,st),st),sqrN:Ts=>Ts*Ts,addN:(Ts,Ss)=>Ts+Ss,subN:(Ts,Ss)=>Ts-Ss,mulN:(Ts,Ss)=>Ts*Ss,inv:Ts=>invert(Ts,st),sqrt:ms.sqrt||(Ts=>_s(Es,Ts)),invertBatch:Ts=>FpInvertBatch(Es,Ts),cmov:(Ts,Ss,Rs)=>Rs?Ss:Ts,toBytes:Ts=>et?numberToBytesLE(Ts,vs):numberToBytesBE(Ts,vs),fromBytes:Ts=>{if(Ts.length!==vs)throw new Error(`Fp.fromBytes: expected ${vs}, got ${Ts.length}`);return et?bytesToNumberLE(Ts):bytesToNumberBE(Ts)}});return Object.freeze(Es)}function getFieldBytesLength(st){if(typeof st!="bigint")throw new Error("field order must be bigint");const t=st.toString(2).length;return Math.ceil(t/8)}function getMinHashLength(st){const t=getFieldBytesLength(st);return t+Math.ceil(t/2)}function mapHashToField(st,t,et=!1){const ms=st.length,ws=getFieldBytesLength(t),vs=getMinHashLength(t);if(ms<16||ms<vs||ms>1024)throw new Error(`expected ${vs}-1024 bytes of input, got ${ms}`);const _s=et?bytesToNumberBE(st):bytesToNumberLE(st),Es=mod(_s,t-_1n$4)+_1n$4;return et?numberToBytesLE(Es,ws):numberToBytesBE(Es,ws)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1);function wNAF(st,t){const et=(ws,vs)=>{const _s=vs.negate();return ws?_s:vs},ms=ws=>{const vs=Math.ceil(t/ws)+1,_s=2**(ws-1);return{windows:vs,windowSize:_s}};return{constTimeNegate:et,unsafeLadder(ws,vs){let _s=st.ZERO,Es=ws;for(;vs>_0n$2;)vs&_1n$3&&(_s=_s.add(Es)),Es=Es.double(),vs>>=_1n$3;return _s},precomputeWindow(ws,vs){const{windows:_s,windowSize:Es}=ms(vs),Ts=[];let Ss=ws,Rs=Ss;for(let Bs=0;Bs<_s;Bs++){Rs=Ss,Ts.push(Rs);for(let Is=1;Is<Es;Is++)Rs=Rs.add(Ss),Ts.push(Rs);Ss=Rs.double()}return Ts},wNAF(ws,vs,_s){const{windows:Es,windowSize:Ts}=ms(ws);let Ss=st.ZERO,Rs=st.BASE;const Bs=BigInt(2**ws-1),Is=2**ws,Ws=BigInt(ws);for(let Hs=0;Hs<Es;Hs++){const Ns=Hs*Ts;let Js=Number(_s&Bs);_s>>=Ws,Js>Ts&&(Js-=Is,_s+=_1n$3);const ha=Ns,pa=Ns+Math.abs(Js)-1,za=Hs%2!==0,Ya=Js<0;Js===0?Rs=Rs.add(et(za,vs[ha])):Ss=Ss.add(et(Ya,vs[pa]))}return{p:Ss,f:Rs}},wNAFCached(ws,vs,_s,Es){const Ts=ws._WINDOW_SIZE||1;let Ss=vs.get(ws);return Ss||(Ss=this.precomputeWindow(ws,Ts),Ts!==1&&vs.set(ws,Es(Ss))),this.wNAF(Ts,Ss,_s)}}}function validateBasic(st){return validateField(st.Fp),validateObject(st,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(st.n,st.nBitLength),...st,p:st.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(st){const t=validateBasic(st);validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:et,Fp:ms,a:ws}=t;if(et){if(!ms.eql(ws,ms.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof et!="object"||typeof et.beta!="bigint"||typeof et.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$4,DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(st){const{Err:t}=DER;if(st.length<2||st[0]!==2)throw new t("Invalid signature integer tag");const et=st[1],ms=st.subarray(2,et+2);if(!et||ms.length!==et)throw new t("Invalid signature integer: wrong length");if(ms[0]&128)throw new t("Invalid signature integer: negative");if(ms[0]===0&&!(ms[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:b2n(ms),l:st.subarray(et+2)}},toSig(st){const{Err:t}=DER,et=typeof st=="string"?h2b(st):st;abytes$1(et);let ms=et.length;if(ms<2||et[0]!=48)throw new t("Invalid signature tag");if(et[1]!==ms-2)throw new t("Invalid signature: incorrect length");const{d:ws,l:vs}=DER._parseInt(et.subarray(2)),{d:_s,l:Es}=DER._parseInt(vs);if(Es.length)throw new t("Invalid signature: left bytes after parsing");return{r:ws,s:_s}},hexFromSig(st){const t=Ss=>Number.parseInt(Ss[0],16)&8?"00"+Ss:Ss,et=Ss=>{const Rs=Ss.toString(16);return Rs.length&1?`0${Rs}`:Rs},ms=t(et(st.s)),ws=t(et(st.r)),vs=ms.length/2,_s=ws.length/2,Es=et(vs),Ts=et(_s);return`30${et(_s+vs+4)}02${Ts}${ws}02${Es}${ms}`}},_0n$1=BigInt(0),_1n$2=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(st){const t=validatePointOpts(st),{Fp:et}=t,ms=t.toBytes||((Hs,Ns,Js)=>{const ha=Ns.toAffine();return concatBytes$1(Uint8Array.from([4]),et.toBytes(ha.x),et.toBytes(ha.y))}),ws=t.fromBytes||(Hs=>{const Ns=Hs.subarray(1),Js=et.fromBytes(Ns.subarray(0,et.BYTES)),ha=et.fromBytes(Ns.subarray(et.BYTES,2*et.BYTES));return{x:Js,y:ha}});function vs(Hs){const{a:Ns,b:Js}=t,ha=et.sqr(Hs),pa=et.mul(ha,Hs);return et.add(et.add(pa,et.mul(Hs,Ns)),Js)}if(!et.eql(et.sqr(t.Gy),vs(t.Gx)))throw new Error("bad generator point: equation left != right");function _s(Hs){return typeof Hs=="bigint"&&_0n$1<Hs&&Hs<t.n}function Es(Hs){if(!_s(Hs))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Ts(Hs){const{allowedPrivateKeyLengths:Ns,nByteLength:Js,wrapPrivateKey:ha,n:pa}=t;if(Ns&&typeof Hs!="bigint"){if(isBytes$2(Hs)&&(Hs=bytesToHex$1(Hs)),typeof Hs!="string"||!Ns.includes(Hs.length))throw new Error("Invalid key");Hs=Hs.padStart(Js*2,"0")}let za;try{za=typeof Hs=="bigint"?Hs:bytesToNumberBE(ensureBytes("private key",Hs,Js))}catch{throw new Error(`private key must be ${Js} bytes, hex or bigint, not ${typeof Hs}`)}return ha&&(za=mod(za,pa)),Es(za),za}const Ss=new Map;function Rs(Hs){if(!(Hs instanceof Bs))throw new Error("ProjectivePoint expected")}class Bs{constructor(Ns,Js,ha){if(this.px=Ns,this.py=Js,this.pz=ha,Ns==null||!et.isValid(Ns))throw new Error("x required");if(Js==null||!et.isValid(Js))throw new Error("y required");if(ha==null||!et.isValid(ha))throw new Error("z required")}static fromAffine(Ns){const{x:Js,y:ha}=Ns||{};if(!Ns||!et.isValid(Js)||!et.isValid(ha))throw new Error("invalid affine point");if(Ns instanceof Bs)throw new Error("projective point not allowed");const pa=za=>et.eql(za,et.ZERO);return pa(Js)&&pa(ha)?Bs.ZERO:new Bs(Js,ha,et.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ns){const Js=et.invertBatch(Ns.map(ha=>ha.pz));return Ns.map((ha,pa)=>ha.toAffine(Js[pa])).map(Bs.fromAffine)}static fromHex(Ns){const Js=Bs.fromAffine(ws(ensureBytes("pointHex",Ns)));return Js.assertValidity(),Js}static fromPrivateKey(Ns){return Bs.BASE.multiply(Ts(Ns))}_setWindowSize(Ns){this._WINDOW_SIZE=Ns,Ss.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!et.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ns,y:Js}=this.toAffine();if(!et.isValid(Ns)||!et.isValid(Js))throw new Error("bad point: x or y not FE");const ha=et.sqr(Js),pa=vs(Ns);if(!et.eql(ha,pa))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ns}=this.toAffine();if(et.isOdd)return!et.isOdd(Ns);throw new Error("Field doesn't support isOdd")}equals(Ns){Rs(Ns);const{px:Js,py:ha,pz:pa}=this,{px:za,py:Ya,pz:Bc}=Ns,Qa=et.eql(et.mul(Js,Bc),et.mul(za,pa)),tu=et.eql(et.mul(ha,Bc),et.mul(Ya,pa));return Qa&&tu}negate(){return new Bs(this.px,et.neg(this.py),this.pz)}double(){const{a:Ns,b:Js}=t,ha=et.mul(Js,_3n),{px:pa,py:za,pz:Ya}=this;let Bc=et.ZERO,Qa=et.ZERO,tu=et.ZERO,eu=et.mul(pa,pa),ru=et.mul(za,za),cu=et.mul(Ya,Ya),ou=et.mul(pa,za);return ou=et.add(ou,ou),tu=et.mul(pa,Ya),tu=et.add(tu,tu),Bc=et.mul(Ns,tu),Qa=et.mul(ha,cu),Qa=et.add(Bc,Qa),Bc=et.sub(ru,Qa),Qa=et.add(ru,Qa),Qa=et.mul(Bc,Qa),Bc=et.mul(ou,Bc),tu=et.mul(ha,tu),cu=et.mul(Ns,cu),ou=et.sub(eu,cu),ou=et.mul(Ns,ou),ou=et.add(ou,tu),tu=et.add(eu,eu),eu=et.add(tu,eu),eu=et.add(eu,cu),eu=et.mul(eu,ou),Qa=et.add(Qa,eu),cu=et.mul(za,Ya),cu=et.add(cu,cu),eu=et.mul(cu,ou),Bc=et.sub(Bc,eu),tu=et.mul(cu,ru),tu=et.add(tu,tu),tu=et.add(tu,tu),new Bs(Bc,Qa,tu)}add(Ns){Rs(Ns);const{px:Js,py:ha,pz:pa}=this,{px:za,py:Ya,pz:Bc}=Ns;let Qa=et.ZERO,tu=et.ZERO,eu=et.ZERO;const ru=t.a,cu=et.mul(t.b,_3n);let ou=et.mul(Js,za),Ga=et.mul(ha,Ya),Xa=et.mul(pa,Bc),Fa=et.add(Js,ha),Zs=et.add(za,Ya);Fa=et.mul(Fa,Zs),Zs=et.add(ou,Ga),Fa=et.sub(Fa,Zs),Zs=et.add(Js,pa);let Wa=et.add(za,Bc);return Zs=et.mul(Zs,Wa),Wa=et.add(ou,Xa),Zs=et.sub(Zs,Wa),Wa=et.add(ha,pa),Qa=et.add(Ya,Bc),Wa=et.mul(Wa,Qa),Qa=et.add(Ga,Xa),Wa=et.sub(Wa,Qa),eu=et.mul(ru,Zs),Qa=et.mul(cu,Xa),eu=et.add(Qa,eu),Qa=et.sub(Ga,eu),eu=et.add(Ga,eu),tu=et.mul(Qa,eu),Ga=et.add(ou,ou),Ga=et.add(Ga,ou),Xa=et.mul(ru,Xa),Zs=et.mul(cu,Zs),Ga=et.add(Ga,Xa),Xa=et.sub(ou,Xa),Xa=et.mul(ru,Xa),Zs=et.add(Zs,Xa),ou=et.mul(Ga,Zs),tu=et.add(tu,ou),ou=et.mul(Wa,Zs),Qa=et.mul(Fa,Qa),Qa=et.sub(Qa,ou),ou=et.mul(Fa,Ga),eu=et.mul(Wa,eu),eu=et.add(eu,ou),new Bs(Qa,tu,eu)}subtract(Ns){return this.add(Ns.negate())}is0(){return this.equals(Bs.ZERO)}wNAF(Ns){return Ws.wNAFCached(this,Ss,Ns,Js=>{const ha=et.invertBatch(Js.map(pa=>pa.pz));return Js.map((pa,za)=>pa.toAffine(ha[za])).map(Bs.fromAffine)})}multiplyUnsafe(Ns){const Js=Bs.ZERO;if(Ns===_0n$1)return Js;if(Es(Ns),Ns===_1n$2)return this;const{endo:ha}=t;if(!ha)return Ws.unsafeLadder(this,Ns);let{k1neg:pa,k1:za,k2neg:Ya,k2:Bc}=ha.splitScalar(Ns),Qa=Js,tu=Js,eu=this;for(;za>_0n$1||Bc>_0n$1;)za&_1n$2&&(Qa=Qa.add(eu)),Bc&_1n$2&&(tu=tu.add(eu)),eu=eu.double(),za>>=_1n$2,Bc>>=_1n$2;return pa&&(Qa=Qa.negate()),Ya&&(tu=tu.negate()),tu=new Bs(et.mul(tu.px,ha.beta),tu.py,tu.pz),Qa.add(tu)}multiply(Ns){Es(Ns);let Js=Ns,ha,pa;const{endo:za}=t;if(za){const{k1neg:Ya,k1:Bc,k2neg:Qa,k2:tu}=za.splitScalar(Js);let{p:eu,f:ru}=this.wNAF(Bc),{p:cu,f:ou}=this.wNAF(tu);eu=Ws.constTimeNegate(Ya,eu),cu=Ws.constTimeNegate(Qa,cu),cu=new Bs(et.mul(cu.px,za.beta),cu.py,cu.pz),ha=eu.add(cu),pa=ru.add(ou)}else{const{p:Ya,f:Bc}=this.wNAF(Js);ha=Ya,pa=Bc}return Bs.normalizeZ([ha,pa])[0]}multiplyAndAddUnsafe(Ns,Js,ha){const pa=Bs.BASE,za=(Bc,Qa)=>Qa===_0n$1||Qa===_1n$2||!Bc.equals(pa)?Bc.multiplyUnsafe(Qa):Bc.multiply(Qa),Ya=za(this,Js).add(za(Ns,ha));return Ya.is0()?void 0:Ya}toAffine(Ns){const{px:Js,py:ha,pz:pa}=this,za=this.is0();Ns==null&&(Ns=za?et.ONE:et.inv(pa));const Ya=et.mul(Js,Ns),Bc=et.mul(ha,Ns),Qa=et.mul(pa,Ns);if(za)return{x:et.ZERO,y:et.ZERO};if(!et.eql(Qa,et.ONE))throw new Error("invZ was invalid");return{x:Ya,y:Bc}}isTorsionFree(){const{h:Ns,isTorsionFree:Js}=t;if(Ns===_1n$2)return!0;if(Js)return Js(Bs,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ns,clearCofactor:Js}=t;return Ns===_1n$2?this:Js?Js(Bs,this):this.multiplyUnsafe(t.h)}toRawBytes(Ns=!0){return this.assertValidity(),ms(Bs,this,Ns)}toHex(Ns=!0){return bytesToHex$1(this.toRawBytes(Ns))}}Bs.BASE=new Bs(t.Gx,t.Gy,et.ONE),Bs.ZERO=new Bs(et.ZERO,et.ONE,et.ZERO);const Is=t.nBitLength,Ws=wNAF(Bs,t.endo?Math.ceil(Is/2):Is);return{CURVE:t,ProjectivePoint:Bs,normPrivateKeyToScalar:Ts,weierstrassEquation:vs,isWithinCurveOrder:_s}}function validateOpts(st){const t=validateBasic(st);return validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function weierstrass(st){const t=validateOpts(st),{Fp:et,n:ms}=t,ws=et.BYTES+1,vs=2*et.BYTES+1;function _s(Zs){return _0n$1<Zs&&Zs<et.ORDER}function Es(Zs){return mod(Zs,ms)}function Ts(Zs){return invert(Zs,ms)}const{ProjectivePoint:Ss,normPrivateKeyToScalar:Rs,weierstrassEquation:Bs,isWithinCurveOrder:Is}=weierstrassPoints({...t,toBytes(Zs,Wa,Za){const iu=Wa.toAffine(),au=et.toBytes(iu.x),nu=concatBytes$1;return Za?nu(Uint8Array.from([Wa.hasEvenY()?2:3]),au):nu(Uint8Array.from([4]),au,et.toBytes(iu.y))},fromBytes(Zs){const Wa=Zs.length,Za=Zs[0],iu=Zs.subarray(1);if(Wa===ws&&(Za===2||Za===3)){const au=bytesToNumberBE(iu);if(!_s(au))throw new Error("Point is not on curve");const nu=Bs(au);let uu;try{uu=et.sqrt(nu)}catch(Eu){const $u=Eu instanceof Error?": "+Eu.message:"";throw new Error("Point is not on curve"+$u)}const fu=(uu&_1n$2)===_1n$2;return(Za&1)===1!==fu&&(uu=et.neg(uu)),{x:au,y:uu}}else if(Wa===vs&&Za===4){const au=et.fromBytes(iu.subarray(0,et.BYTES)),nu=et.fromBytes(iu.subarray(et.BYTES,2*et.BYTES));return{x:au,y:nu}}else throw new Error(`Point of length ${Wa} was invalid. Expected ${ws} compressed bytes or ${vs} uncompressed bytes`)}}),Ws=Zs=>bytesToHex$1(numberToBytesBE(Zs,t.nByteLength));function Hs(Zs){const Wa=ms>>_1n$2;return Zs>Wa}function Ns(Zs){return Hs(Zs)?Es(-Zs):Zs}const Js=(Zs,Wa,Za)=>bytesToNumberBE(Zs.slice(Wa,Za));class ha{constructor(Wa,Za,iu){this.r=Wa,this.s=Za,this.recovery=iu,this.assertValidity()}static fromCompact(Wa){const Za=t.nByteLength;return Wa=ensureBytes("compactSignature",Wa,Za*2),new ha(Js(Wa,0,Za),Js(Wa,Za,2*Za))}static fromDER(Wa){const{r:Za,s:iu}=DER.toSig(ensureBytes("DER",Wa));return new ha(Za,iu)}assertValidity(){if(!Is(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Is(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Wa){return new ha(this.r,this.s,Wa)}recoverPublicKey(Wa){const{r:Za,s:iu,recovery:au}=this,nu=tu(ensureBytes("msgHash",Wa));if(au==null||![0,1,2,3].includes(au))throw new Error("recovery id invalid");const uu=au===2||au===3?Za+t.n:Za;if(uu>=et.ORDER)throw new Error("recovery id 2 or 3 invalid");const fu=(au&1)===0?"02":"03",hu=Ss.fromHex(fu+Ws(uu)),Eu=Ts(uu),$u=Es(-nu*Eu),Ou=Es(iu*Eu),gu=Ss.BASE.multiplyAndAddUnsafe(hu,$u,Ou);if(!gu)throw new Error("point at infinify");return gu.assertValidity(),gu}hasHighS(){return Hs(this.s)}normalizeS(){return this.hasHighS()?new ha(this.r,Es(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return Ws(this.r)+Ws(this.s)}}const pa={isValidPrivateKey(Zs){try{return Rs(Zs),!0}catch{return!1}},normPrivateKeyToScalar:Rs,randomPrivateKey:()=>{const Zs=getMinHashLength(t.n);return mapHashToField(t.randomBytes(Zs),t.n)},precompute(Zs=8,Wa=Ss.BASE){return Wa._setWindowSize(Zs),Wa.multiply(BigInt(3)),Wa}};function za(Zs,Wa=!0){return Ss.fromPrivateKey(Zs).toRawBytes(Wa)}function Ya(Zs){const Wa=isBytes$2(Zs),Za=typeof Zs=="string",iu=(Wa||Za)&&Zs.length;return Wa?iu===ws||iu===vs:Za?iu===2*ws||iu===2*vs:Zs instanceof Ss}function Bc(Zs,Wa,Za=!0){if(Ya(Zs))throw new Error("first arg must be private key");if(!Ya(Wa))throw new Error("second arg must be public key");return Ss.fromHex(Wa).multiply(Rs(Zs)).toRawBytes(Za)}const Qa=t.bits2int||function(Zs){const Wa=bytesToNumberBE(Zs),Za=Zs.length*8-t.nBitLength;return Za>0?Wa>>BigInt(Za):Wa},tu=t.bits2int_modN||function(Zs){return Es(Qa(Zs))},eu=bitMask(t.nBitLength);function ru(Zs){if(typeof Zs!="bigint")throw new Error("bigint expected");if(!(_0n$1<=Zs&&Zs<eu))throw new Error(`bigint expected < 2^${t.nBitLength}`);return numberToBytesBE(Zs,t.nByteLength)}function cu(Zs,Wa,Za=ou){if(["recovered","canonical"].some(Tu=>Tu in Za))throw new Error("sign() legacy options not supported");const{hash:iu,randomBytes:au}=t;let{lowS:nu,prehash:uu,extraEntropy:fu}=Za;nu==null&&(nu=!0),Zs=ensureBytes("msgHash",Zs),uu&&(Zs=ensureBytes("prehashed msgHash",iu(Zs)));const hu=tu(Zs),Eu=Rs(Wa),$u=[ru(Eu),ru(hu)];if(fu!=null&&fu!==!1){const Tu=fu===!0?au(et.BYTES):fu;$u.push(ensureBytes("extraEntropy",Tu))}const Ou=concatBytes$1(...$u),gu=hu;function yu(Tu){const du=Qa(Tu);if(!Is(du))return;const wu=Ts(du),Ru=Ss.BASE.multiply(du).toAffine(),Ku=Es(Ru.x);if(Ku===_0n$1)return;const Zu=Es(wu*Es(gu+Ku*Eu));if(Zu===_0n$1)return;let tl=(Ru.x===Ku?0:2)|Number(Ru.y&_1n$2),sl=Zu;return nu&&Hs(Zu)&&(sl=Ns(Zu),tl^=1),new ha(Ku,sl,tl)}return{seed:Ou,k2sig:yu}}const ou={lowS:t.lowS,prehash:!1},Ga={lowS:t.lowS,prehash:!1};function Xa(Zs,Wa,Za=ou){const{seed:iu,k2sig:au}=cu(Zs,Wa,Za),nu=t;return createHmacDrbg(nu.hash.outputLen,nu.nByteLength,nu.hmac)(iu,au)}Ss.BASE._setWindowSize(8);function Fa(Zs,Wa,Za,iu=Ga){const au=Zs;if(Wa=ensureBytes("msgHash",Wa),Za=ensureBytes("publicKey",Za),"strict"in iu)throw new Error("options.strict was renamed to lowS");const{lowS:nu,prehash:uu}=iu;let fu,hu;try{if(typeof au=="string"||isBytes$2(au))try{fu=ha.fromDER(au)}catch(Ru){if(!(Ru instanceof DER.Err))throw Ru;fu=ha.fromCompact(au)}else if(typeof au=="object"&&typeof au.r=="bigint"&&typeof au.s=="bigint"){const{r:Ru,s:Ku}=au;fu=new ha(Ru,Ku)}else throw new Error("PARSE");hu=Ss.fromHex(Za)}catch(Ru){if(Ru.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(nu&&fu.hasHighS())return!1;uu&&(Wa=t.hash(Wa));const{r:Eu,s:$u}=fu,Ou=tu(Wa),gu=Ts($u),yu=Es(Ou*gu),Tu=Es(Eu*gu),du=Ss.BASE.multiplyAndAddUnsafe(hu,yu,Tu)?.toAffine();return du?Es(du.x)===Eu:!1}return{CURVE:t,getPublicKey:za,getSharedSecret:Bc,sign:Xa,verify:Fa,ProjectivePoint:Ss,Signature:ha,utils:pa}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(st){return{hash:st,hmac:(t,...et)=>hmac$3(st,t,concatBytes$2(...et)),randomBytes:randomBytes$1}}function createCurve(st,t){const et=ms=>weierstrass({...st,...getHash(ms)});return Object.freeze({...et(t),create:et})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$1=BigInt(1),_2n$1=BigInt(2),divNearest=(st,t)=>(st+t/_2n$1)/t;function sqrtMod(st){const t=secp256k1P,et=BigInt(3),ms=BigInt(6),ws=BigInt(11),vs=BigInt(22),_s=BigInt(23),Es=BigInt(44),Ts=BigInt(88),Ss=st*st*st%t,Rs=Ss*Ss*st%t,Bs=pow2(Rs,et,t)*Rs%t,Is=pow2(Bs,et,t)*Rs%t,Ws=pow2(Is,_2n$1,t)*Ss%t,Hs=pow2(Ws,ws,t)*Ws%t,Ns=pow2(Hs,vs,t)*Hs%t,Js=pow2(Ns,Es,t)*Ns%t,ha=pow2(Js,Ts,t)*Js%t,pa=pow2(ha,Es,t)*Ns%t,za=pow2(pa,et,t)*Rs%t,Ya=pow2(za,_s,t)*Hs%t,Bc=pow2(Ya,ms,t)*Ss%t,Qa=pow2(Bc,_2n$1,t);if(!Fp.eql(Fp.sqr(Qa),st))throw new Error("Cannot find square root");return Qa}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:st=>{const t=secp256k1N,et=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ms=-_1n$1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ws=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),vs=et,_s=BigInt("0x100000000000000000000000000000000"),Es=divNearest(vs*st,t),Ts=divNearest(-ms*st,t);let Ss=mod(st-Es*et-Ts*ws,t),Rs=mod(-Es*ms-Ts*vs,t);const Bs=Ss>_s,Is=Rs>_s;if(Bs&&(Ss=t-Ss),Is&&(Rs=t-Rs),Ss>_s||Rs>_s)throw new Error("splitScalar: Endomorphism failed, k="+st);return{k1neg:Bs,k1:Ss,k2neg:Is,k2:Rs}}}},sha256$6);BigInt(0);secp256k1$1.ProjectivePoint;function normalizePrivateKeyBytes(st){return hexStr2byteArray(byteArray2hexStr(st).padStart(64,"0"))}function getBase58CheckAddress(st){const t=SHA256(st);let ms=SHA256(t).slice(0,4);return ms=st.concat(ms),encode58(ms)}function decodeBase58Address(st){if(typeof st!="string"||st.length<=4)return!1;let t=decode58(st);if(st.length<=4)return!1;const ms=t.length-4,ws=t.slice(ms);t=t.slice(0,ms);const vs=SHA256(t),Es=SHA256(vs).slice(0,4);if(ws[0]==Es[0]&&ws[1]==Es[1]&&ws[2]==Es[2]&&ws[3]==Es[3])return t;throw new Error("Invalid address provided")}function signTransaction(st,t){typeof st=="string"&&(st=hexStr2byteArray(st));const et=t.txID,ms=ECKeySign(hexStr2byteArray(et),st);return Array.isArray(t.signature)?t.signature.includes(ms)||t.signature.push(ms):t.signature=[ms],t}function ecRecover(st,t){st="0x"+st.replace(/^0x/,""),t="0x"+t.replace(/^0x/,"");const et=recoverAddress$1(arrayify(st),Signature.from(t));return ADDRESS_PREFIX+et.substring(2)}function arrayToBase64String(st){return btoa(String.fromCharCode(...st))}function signBytes(st,t){typeof st=="string"&&(st=hexStr2byteArray(st));const et=SHA256(t);return ECKeySign(et,st)}function _signTypedData(st,t,et,ms){const ws=`0x${ms.replace(/^0x/,"")}`,vs=new SigningKey(ws),_s=TypedDataEncoder.hash(st,t,et),Es=vs.sign(_s);return["0x",Es.r.substring(2),Es.s.substring(2),Number(Es.v).toString(16)].join("")}function getRowBytesFromTransactionBase64(st){const t=base64DecodeFromString(st);return globalThis.proto.protocol.Transaction.deserializeBinary(t).getRawData().serializeBinary()}function genPriKey(){const st=secp256k1$1.utils.randomPrivateKey();let t=byteArray2hexStr(st);return t=t.padStart(64,"0"),hexStr2byteArray(t)}function computeAddress(st){st.length===65&&(st=st.slice(1));const t=keccak256$1(new Uint8Array(st)).toString().substring(2),et=ADDRESS_PREFIX+t.substring(24);return hexStr2byteArray(et)}function getAddressFromPriKey(st){const t=getPubKeyFromPriKey(st);return computeAddress(t)}function decode58Check(st){const t=decode58(st);if(t.length<=4)return!1;const et=t.slice(0,t.length-4),ms=SHA256(et),ws=SHA256(ms);return ws[0]===t[et.length]&&ws[1]===t[et.length+1]&&ws[2]===t[et.length+2]&&ws[3]===t[et.length+3]?et:!1}function isAddressValid(st){if(typeof st!="string"||st.length!==ADDRESS_SIZE)return!1;let t=decode58(st);if(t.length!==25||t[0]!==ADDRESS_PREFIX_BYTE)return!1;const et=t.slice(21);t=t.slice(0,21);const ms=SHA256(t),vs=SHA256(ms).slice(0,4);return et[0]==vs[0]&&et[1]==vs[1]&&et[2]==vs[2]&&et[3]==vs[3]}function getBase58CheckAddressFromPriKeyBase64String(st){const t=base64DecodeFromString(st),et=getPubKeyFromPriKey(t),ms=computeAddress(et);return getBase58CheckAddress(ms)}function getHexStrAddressFromPriKeyBase64String(st){const t=base64DecodeFromString(st),et=getPubKeyFromPriKey(t),ms=computeAddress(et);return byteArray2hexStr(ms)}function getAddressFromPriKeyBase64String(st){const t=base64DecodeFromString(st),et=getPubKeyFromPriKey(t),ms=computeAddress(et);return base64EncodeToString(ms)}function getPubKeyFromPriKey(st){const t=secp256k1$1.ProjectivePoint.fromPrivateKey(new Uint8Array(normalizePrivateKeyBytes(st))),et=t.x,ms=t.y,ws=et.toString(16).padStart(64,"0"),vs=ms.toString(16).padStart(64,"0"),_s=`04${ws}${vs}`;return hexStr2byteArray(_s)}function ECKeySign(st,t){const et=secp256k1$1.sign(byteArray2hexStr(st),byteArray2hexStr(t)),ms=et.r.toString(16),ws=et.s.toString(16),vs=et.recovery+27;return ms.padStart(64,"0")+ws.padStart(64,"0")+byte2hexStr(vs)}function SHA256(st){const t=byteArray2hexStr(st),et=sha256$7("0x"+t).replace(/^0x/,"");return hexStr2byteArray(et)}function passwordToAddress(st){const t=base64DecodeFromString(st),et=getAddressFromPriKey(t);return getBase58CheckAddress(et)}function pkToAddress(st,t=!1){const et=hexStr2byteArray(st,t),ms=getAddressFromPriKey(et);return getBase58CheckAddress(ms)}function sha3$2(st,t=!0){return(t?"0x":"")+keccak256$1(Buffer.from(st,"utf-8")).toString().substring(2)}const crypto$4=Object.freeze(Object.defineProperty({__proto__:null,ECKeySign,SHA256,_signTypedData,arrayToBase64String,computeAddress,decode58Check,decodeBase58Address,ecRecover,genPriKey,getAddressFromPriKey,getAddressFromPriKeyBase64String,getBase58CheckAddress,getBase58CheckAddressFromPriKeyBase64String,getHexStrAddressFromPriKeyBase64String,getPubKeyFromPriKey,getRowBytesFromTransactionBase64,isAddressValid,passwordToAddress,pkToAddress,sha3:sha3$2,signBytes,signTransaction},Symbol.toStringTag,{value:"Module"})),INVALID_TRON_PATH_ERROR_MSG="Invalid tron path provided";function generateAccount(){const st=genPriKey(),t=getPubKeyFromPriKey(st),et=getAddressFromPriKey(st),ms=byteArray2hexStr(st),ws=byteArray2hexStr(t);return{privateKey:ms,publicKey:ws,address:{base58:getBase58CheckAddress(et),hex:byteArray2hexStr(et)}}}function generateRandom(st="",t=TRON_BIP39_PATH_INDEX_0,et){const ms=HDNodeWallet.createRandom(st,t,et);return{mnemonic:ms.mnemonic,privateKey:ms.privateKey,publicKey:ms.signingKey.publicKey,address:pkToAddress(ms.privateKey.replace(/^0x/,"")),path:ms.path}}function generateAccountWithMnemonic(st,t=TRON_BIP39_PATH_INDEX_0,et="",ms=null){if(!String(t).match(/^m\/44\'\/195\'/))throw new Error(INVALID_TRON_PATH_ERROR_MSG);const ws=HDNodeWallet.fromMnemonic(Mnemonic.fromPhrase(st,et,ms),t);return{mnemonic:ws.mnemonic,privateKey:ws.privateKey,publicKey:ws.signingKey.publicKey,address:pkToAddress(ws.privateKey.replace(/^0x/,""))}}const accounts=Object.freeze(Object.defineProperty({__proto__:null,generateAccount,generateAccountWithMnemonic,generateRandom},Symbol.toStringTag,{value:"Module"})),TRON_MESSAGE_PREFIX=`TRON Signed Message:
`;function hashMessage(st){return typeof st=="string"?st=toUtf8Bytes(st):Array.isArray(st)&&(st=new Uint8Array(st)),keccak256$1(concat$1([toUtf8Bytes(TRON_MESSAGE_PREFIX),toUtf8Bytes(String(st.length)),st]))}function signMessage(st,t){t.match(/^0x/)||(t="0x"+t);const et=new SigningKey(t),ms=hashMessage(st),ws=et.sign(ms);return joinSignature(ws)}function verifyMessage(st,t){t.match(/^0x/)||(t="0x"+t);const et=recoverAddress$1(hashMessage(st),t);return getBase58CheckAddress(hexStr2byteArray(et.replace(/^0x/,ADDRESS_PREFIX)))}const message=Object.freeze(Object.defineProperty({__proto__:null,TRON_MESSAGE_PREFIX,hashMessage,signMessage,verifyMessage},Symbol.toStringTag,{value:"Module"})),utils$9={...validations,address:address$1,code:code$2,accounts,base58:base58$1,bytes:bytes$3,crypto:crypto$4,abi,message,_TypedDataEncoder:TypedDataEncoder,transaction,ethersUtils};var ResourceCode;(function(st){st[st.BANDWIDTH=0]="BANDWIDTH",st[st.ENERGY=1]="ENERGY",st[st.TRON_POWER=2]="TRON_POWER"})(ResourceCode||(ResourceCode={}));var TransactionSignWeight_response_code;(function(st){st.ENOUGH_PERMISSION="ENOUGH_PERMISSION",st.NOT_ENOUGH_PERMISSION="NOT_ENOUGH_PERMISSION",st.SIGNATURE_FORMAT_ERROR="SIGNATURE_FORMAT_ERROR",st.COMPUTE_ADDRESS_ERROR="COMPUTE_ADDRESS_ERROR",st.PERMISSION_ERROR="PERMISSION_ERROR",st.OTHER_ERROR="OTHER_ERROR"})(TransactionSignWeight_response_code||(TransactionSignWeight_response_code={}));var BroadcastReturn_response_code;(function(st){st[st.SUCCESS=0]="SUCCESS",st[st.SIGERROR=1]="SIGERROR",st[st.CONTRACT_VALIDATE_ERROR=2]="CONTRACT_VALIDATE_ERROR",st[st.CONTRACT_EXE_ERROR=3]="CONTRACT_EXE_ERROR",st[st.BANDWITH_ERROR=4]="BANDWITH_ERROR",st[st.DUP_TRANSACTION_ERROR=5]="DUP_TRANSACTION_ERROR",st[st.TAPOS_ERROR=6]="TAPOS_ERROR",st[st.TOO_BIG_TRANSACTION_ERROR=7]="TOO_BIG_TRANSACTION_ERROR",st[st.TRANSACTION_EXPIRATION_ERROR=8]="TRANSACTION_EXPIRATION_ERROR",st[st.SERVER_BUSY=9]="SERVER_BUSY",st[st.NO_CONNECTION=10]="NO_CONNECTION",st[st.NOT_ENOUGH_EFFECTIVE_CONNECTION=11]="NOT_ENOUGH_EFFECTIVE_CONNECTION",st[st.OTHER_ERROR=20]="OTHER_ERROR"})(BroadcastReturn_response_code||(BroadcastReturn_response_code={}));var ProposalState;(function(st){st[st.PENDING=0]="PENDING",st[st.DISAPPROVED=1]="DISAPPROVED",st[st.APPROVED=2]="APPROVED",st[st.CANCELED=3]="CANCELED"})(ProposalState||(ProposalState={}));var src$3={},types$3={},providers={},hasRequiredProviders;function requireProviders(){if(hasRequiredProviders)return providers;hasRequiredProviders=1,Object.defineProperty(providers,"__esModule",{value:!0}),providers.IJSONRpcProvider=providers.IJSONRpcConnection=void 0;class st{}providers.IJSONRpcConnection=st;class t{constructor(ms){}}return providers.IJSONRpcProvider=t,providers}var misc$4={},hasRequiredMisc$4;function requireMisc$4(){return hasRequiredMisc$4||(hasRequiredMisc$4=1,Object.defineProperty(misc$4,"__esModule",{value:!0})),misc$4}var hasRequiredTypes$3;function requireTypes$3(){return hasRequiredTypes$3||(hasRequiredTypes$3=1,function(st){var t=types$3&&types$3.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=types$3&&types$3.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireProviders(),st),et(requireMisc$4(),st)}(types$3)),types$3}var packages={},utils$8={},ConnectMethodUtils={},src$2={},connect$2={},connect$1={},constants$4={},hasRequiredConstants$4;function requireConstants$4(){return hasRequiredConstants$4||(hasRequiredConstants$4=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.ConnectorState=st.CONNECT_PROTOCOL_VER=st.CONNECT_JSONRPC_VER=st.OKXCONNECTOR_SESSION_LIVE_TTL=st.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL=st.OKXCONNECTOR_MESSAGE_TTL=st.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=st.OKXCONNECTOR_WS_URL_LIST=st.OKXCONNECTOR_WS_URL_IDX_KEY=st.OKXCONNECTOR_WS_URL_3=st.OKXCONNECTOR_WS_URL_2=st.OKXCONNECTOR_WS_URL_1=st.EVENT_EMITTER_MAX_LISTENERS=st.OKXCONNECTOR_PROTOCOL_VERSION=void 0,st.OKXCONNECTOR_PROTOCOL_VERSION=2,st.EVENT_EMITTER_MAX_LISTENERS=10,st.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",st.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",st.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",st.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",st.OKXCONNECTOR_WS_URL_LIST=[st.OKXCONNECTOR_WS_URL_1,st.OKXCONNECTOR_WS_URL_2,st.OKXCONNECTOR_WS_URL_3],st.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},st.OKXCONNECTOR_MESSAGE_TTL=3e5,st.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL=864e5,st.OKXCONNECTOR_SESSION_LIVE_TTL=864e5,st.CONNECT_JSONRPC_VER="2.0",st.CONNECT_PROTOCOL_VER=2,st.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}}(constants$4)),constants$4}var storageconstants={},hasRequiredStorageconstants;function requireStorageconstants(){return hasRequiredStorageconstants||(hasRequiredStorageconstants=1,Object.defineProperty(storageconstants,"__esModule",{value:!0}),storageconstants.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE=storageconstants.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE=storageconstants.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=storageconstants.OKXCONNECTOR_STORAGE_CIPHER_METHOD=storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=storageconstants.OKXCONNECTOR_STORAGER_CRYPTO_SALT=storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=storageconstants.OKXCONNECTOR_TON_KEY=storageconstants.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=storageconstants.OKXCONNECTOR_TOKEN_CACHE=storageconstants.OKXCONNECTOR_JWT_KEY=storageconstants.OKXCONNECTOR_SESSION_PREFIX_KEY=storageconstants.OKXCONNECTOR_CRYPTO_KEY=storageconstants.OKXCONNECTOR_CACHE_KEY_DAPP=storageconstants.OKXCONNECTOR_CACHE_KEY=void 0,storageconstants.OKXCONNECTOR_CACHE_KEY="ck",storageconstants.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",storageconstants.OKXCONNECTOR_CRYPTO_KEY="cck_k",storageconstants.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",storageconstants.OKXCONNECTOR_JWT_KEY="cjk_k",storageconstants.OKXCONNECTOR_TOKEN_CACHE="ct",storageconstants.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",storageconstants.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",storageconstants.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",storageconstants.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc",storageconstants.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key",storageconstants.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE="okx_connect_te_cache_key",storageconstants.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE="okx_connect_twe_cache_key"),storageconstants}var storage={};function commonjsRequire(st){throw new Error('Could not dynamically require "'+st+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={},browser$d={exports:{}},safeBuffer$1={exports:{}},dist={},hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(st){Object.defineProperties(st,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},et={};et.byteLength=Rs,et.toByteArray=Is,et.fromByteArray=Ns;for(var ms=[],ws=[],vs=typeof Uint8Array<"u"?Uint8Array:Array,_s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Es=0,Ts=_s.length;Es<Ts;++Es)ms[Es]=_s[Es],ws[_s.charCodeAt(Es)]=Es;ws[45]=62,ws[95]=63;function Ss(pa){var za=pa.length;if(za%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Ya=pa.indexOf("=");Ya===-1&&(Ya=za);var Bc=Ya===za?0:4-Ya%4;return[Ya,Bc]}function Rs(pa){var za=Ss(pa),Ya=za[0],Bc=za[1];return(Ya+Bc)*3/4-Bc}function Bs(pa,za,Ya){return(za+Ya)*3/4-Ya}function Is(pa){var za,Ya=Ss(pa),Bc=Ya[0],Qa=Ya[1],tu=new vs(Bs(pa,Bc,Qa)),eu=0,ru=Qa>0?Bc-4:Bc,cu;for(cu=0;cu<ru;cu+=4)za=ws[pa.charCodeAt(cu)]<<18|ws[pa.charCodeAt(cu+1)]<<12|ws[pa.charCodeAt(cu+2)]<<6|ws[pa.charCodeAt(cu+3)],tu[eu++]=za>>16&255,tu[eu++]=za>>8&255,tu[eu++]=za&255;return Qa===2&&(za=ws[pa.charCodeAt(cu)]<<2|ws[pa.charCodeAt(cu+1)]>>4,tu[eu++]=za&255),Qa===1&&(za=ws[pa.charCodeAt(cu)]<<10|ws[pa.charCodeAt(cu+1)]<<4|ws[pa.charCodeAt(cu+2)]>>2,tu[eu++]=za>>8&255,tu[eu++]=za&255),tu}function Ws(pa){return ms[pa>>18&63]+ms[pa>>12&63]+ms[pa>>6&63]+ms[pa&63]}function Hs(pa,za,Ya){for(var Bc,Qa=[],tu=za;tu<Ya;tu+=3)Bc=(pa[tu]<<16&16711680)+(pa[tu+1]<<8&65280)+(pa[tu+2]&255),Qa.push(Ws(Bc));return Qa.join("")}function Ns(pa){for(var za,Ya=pa.length,Bc=Ya%3,Qa=[],tu=16383,eu=0,ru=Ya-Bc;eu<ru;eu+=tu)Qa.push(Hs(pa,eu,eu+tu>ru?ru:eu+tu));return Bc===1?(za=pa[Ya-1],Qa.push(ms[za>>2]+ms[za<<4&63]+"==")):Bc===2&&(za=(pa[Ya-2]<<8)+pa[Ya-1],Qa.push(ms[za>>10]+ms[za>>4&63]+ms[za<<2&63]+"=")),Qa.join("")}var Js={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Js.read=function(pa,za,Ya,Bc,Qa){var tu,eu,ru=Qa*8-Bc-1,cu=(1<<ru)-1,ou=cu>>1,Ga=-7,Xa=Ya?Qa-1:0,Fa=Ya?-1:1,Zs=pa[za+Xa];for(Xa+=Fa,tu=Zs&(1<<-Ga)-1,Zs>>=-Ga,Ga+=ru;Ga>0;tu=tu*256+pa[za+Xa],Xa+=Fa,Ga-=8);for(eu=tu&(1<<-Ga)-1,tu>>=-Ga,Ga+=Bc;Ga>0;eu=eu*256+pa[za+Xa],Xa+=Fa,Ga-=8);if(tu===0)tu=1-ou;else{if(tu===cu)return eu?NaN:(Zs?-1:1)*(1/0);eu=eu+Math.pow(2,Bc),tu=tu-ou}return(Zs?-1:1)*eu*Math.pow(2,tu-Bc)},Js.write=function(pa,za,Ya,Bc,Qa,tu){var eu,ru,cu,ou=tu*8-Qa-1,Ga=(1<<ou)-1,Xa=Ga>>1,Fa=Qa===23?Math.pow(2,-24)-Math.pow(2,-77):0,Zs=Bc?0:tu-1,Wa=Bc?1:-1,Za=za<0||za===0&&1/za<0?1:0;for(za=Math.abs(za),isNaN(za)||za===1/0?(ru=isNaN(za)?1:0,eu=Ga):(eu=Math.floor(Math.log(za)/Math.LN2),za*(cu=Math.pow(2,-eu))<1&&(eu--,cu*=2),eu+Xa>=1?za+=Fa/cu:za+=Fa*Math.pow(2,1-Xa),za*cu>=2&&(eu++,cu/=2),eu+Xa>=Ga?(ru=0,eu=Ga):eu+Xa>=1?(ru=(za*cu-1)*Math.pow(2,Qa),eu=eu+Xa):(ru=za*Math.pow(2,Xa-1)*Math.pow(2,Qa),eu=0));Qa>=8;pa[Ya+Zs]=ru&255,Zs+=Wa,ru/=256,Qa-=8);for(eu=eu<<Qa|ru,ou+=Qa;ou>0;pa[Ya+Zs]=eu&255,Zs+=Wa,eu/=256,ou-=8);pa[Ya+Zs-Wa]|=Za*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(pa){const za=et,Ya=Js,Bc=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;pa.Buffer=Ga,pa.SlowBuffer=hu,pa.INSPECT_MAX_BYTES=50;const Qa=2147483647;pa.kMaxLength=Qa;const{Uint8Array:tu,ArrayBuffer:eu,SharedArrayBuffer:ru}=globalThis;Ga.TYPED_ARRAY_SUPPORT=cu(),!Ga.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function cu(){try{const Nu=new tu(1),mu={foo:function(){return 42}};return Object.setPrototypeOf(mu,tu.prototype),Object.setPrototypeOf(Nu,mu),Nu.foo()===42}catch{return!1}}Object.defineProperty(Ga.prototype,"parent",{enumerable:!0,get:function(){if(Ga.isBuffer(this))return this.buffer}}),Object.defineProperty(Ga.prototype,"offset",{enumerable:!0,get:function(){if(Ga.isBuffer(this))return this.byteOffset}});function ou(Nu){if(Nu>Qa)throw new RangeError('The value "'+Nu+'" is invalid for option "size"');const mu=new tu(Nu);return Object.setPrototypeOf(mu,Ga.prototype),mu}function Ga(Nu,mu,_u){if(typeof Nu=="number"){if(typeof mu=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Wa(Nu)}return Xa(Nu,mu,_u)}Ga.poolSize=8192;function Xa(Nu,mu,_u){if(typeof Nu=="string")return Za(Nu,mu);if(eu.isView(Nu))return au(Nu);if(Nu==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nu);if(kl(Nu,eu)||Nu&&kl(Nu.buffer,eu)||typeof ru<"u"&&(kl(Nu,ru)||Nu&&kl(Nu.buffer,ru)))return nu(Nu,mu,_u);if(typeof Nu=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Lu=Nu.valueOf&&Nu.valueOf();if(Lu!=null&&Lu!==Nu)return Ga.from(Lu,mu,_u);const Vu=uu(Nu);if(Vu)return Vu;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Nu[Symbol.toPrimitive]=="function")return Ga.from(Nu[Symbol.toPrimitive]("string"),mu,_u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nu)}Ga.from=function(Nu,mu,_u){return Xa(Nu,mu,_u)},Object.setPrototypeOf(Ga.prototype,tu.prototype),Object.setPrototypeOf(Ga,tu);function Fa(Nu){if(typeof Nu!="number")throw new TypeError('"size" argument must be of type number');if(Nu<0)throw new RangeError('The value "'+Nu+'" is invalid for option "size"')}function Zs(Nu,mu,_u){return Fa(Nu),Nu<=0?ou(Nu):mu!==void 0?typeof _u=="string"?ou(Nu).fill(mu,_u):ou(Nu).fill(mu):ou(Nu)}Ga.alloc=function(Nu,mu,_u){return Zs(Nu,mu,_u)};function Wa(Nu){return Fa(Nu),ou(Nu<0?0:fu(Nu)|0)}Ga.allocUnsafe=function(Nu){return Wa(Nu)},Ga.allocUnsafeSlow=function(Nu){return Wa(Nu)};function Za(Nu,mu){if((typeof mu!="string"||mu==="")&&(mu="utf8"),!Ga.isEncoding(mu))throw new TypeError("Unknown encoding: "+mu);const _u=Eu(Nu,mu)|0;let Lu=ou(_u);const Vu=Lu.write(Nu,mu);return Vu!==_u&&(Lu=Lu.slice(0,Vu)),Lu}function iu(Nu){const mu=Nu.length<0?0:fu(Nu.length)|0,_u=ou(mu);for(let Lu=0;Lu<mu;Lu+=1)_u[Lu]=Nu[Lu]&255;return _u}function au(Nu){if(kl(Nu,tu)){const mu=new tu(Nu);return nu(mu.buffer,mu.byteOffset,mu.byteLength)}return iu(Nu)}function nu(Nu,mu,_u){if(mu<0||Nu.byteLength<mu)throw new RangeError('"offset" is outside of buffer bounds');if(Nu.byteLength<mu+(_u||0))throw new RangeError('"length" is outside of buffer bounds');let Lu;return mu===void 0&&_u===void 0?Lu=new tu(Nu):_u===void 0?Lu=new tu(Nu,mu):Lu=new tu(Nu,mu,_u),Object.setPrototypeOf(Lu,Ga.prototype),Lu}function uu(Nu){if(Ga.isBuffer(Nu)){const mu=fu(Nu.length)|0,_u=ou(mu);return _u.length===0||Nu.copy(_u,0,0,mu),_u}if(Nu.length!==void 0)return typeof Nu.length!="number"||Fl(Nu.length)?ou(0):iu(Nu);if(Nu.type==="Buffer"&&Array.isArray(Nu.data))return iu(Nu.data)}function fu(Nu){if(Nu>=Qa)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qa.toString(16)+" bytes");return Nu|0}function hu(Nu){return+Nu!=Nu&&(Nu=0),Ga.alloc(+Nu)}Ga.isBuffer=function(mu){return mu!=null&&mu._isBuffer===!0&&mu!==Ga.prototype},Ga.compare=function(mu,_u){if(kl(mu,tu)&&(mu=Ga.from(mu,mu.offset,mu.byteLength)),kl(_u,tu)&&(_u=Ga.from(_u,_u.offset,_u.byteLength)),!Ga.isBuffer(mu)||!Ga.isBuffer(_u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(mu===_u)return 0;let Lu=mu.length,Vu=_u.length;for(let vu=0,Su=Math.min(Lu,Vu);vu<Su;++vu)if(mu[vu]!==_u[vu]){Lu=mu[vu],Vu=_u[vu];break}return Lu<Vu?-1:Vu<Lu?1:0},Ga.isEncoding=function(mu){switch(String(mu).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ga.concat=function(mu,_u){if(!Array.isArray(mu))throw new TypeError('"list" argument must be an Array of Buffers');if(mu.length===0)return Ga.alloc(0);let Lu;if(_u===void 0)for(_u=0,Lu=0;Lu<mu.length;++Lu)_u+=mu[Lu].length;const Vu=Ga.allocUnsafe(_u);let vu=0;for(Lu=0;Lu<mu.length;++Lu){let Su=mu[Lu];if(kl(Su,tu))vu+Su.length>Vu.length?(Ga.isBuffer(Su)||(Su=Ga.from(Su)),Su.copy(Vu,vu)):tu.prototype.set.call(Vu,Su,vu);else if(Ga.isBuffer(Su))Su.copy(Vu,vu);else throw new TypeError('"list" argument must be an Array of Buffers');vu+=Su.length}return Vu};function Eu(Nu,mu){if(Ga.isBuffer(Nu))return Nu.length;if(eu.isView(Nu)||kl(Nu,eu))return Nu.byteLength;if(typeof Nu!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Nu);const _u=Nu.length,Lu=arguments.length>2&&arguments[2]===!0;if(!Lu&&_u===0)return 0;let Vu=!1;for(;;)switch(mu){case"ascii":case"latin1":case"binary":return _u;case"utf8":case"utf-8":return Il(Nu).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _u*2;case"hex":return _u>>>1;case"base64":return Ml(Nu).length;default:if(Vu)return Lu?-1:Il(Nu).length;mu=(""+mu).toLowerCase(),Vu=!0}}Ga.byteLength=Eu;function $u(Nu,mu,_u){let Lu=!1;if((mu===void 0||mu<0)&&(mu=0),mu>this.length||((_u===void 0||_u>this.length)&&(_u=this.length),_u<=0)||(_u>>>=0,mu>>>=0,_u<=mu))return"";for(Nu||(Nu="utf8");;)switch(Nu){case"hex":return Ju(this,mu,_u);case"utf8":case"utf-8":return tl(this,mu,_u);case"ascii":return Fu(this,mu,_u);case"latin1":case"binary":return Mu(this,mu,_u);case"base64":return Zu(this,mu,_u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vf(this,mu,_u);default:if(Lu)throw new TypeError("Unknown encoding: "+Nu);Nu=(Nu+"").toLowerCase(),Lu=!0}}Ga.prototype._isBuffer=!0;function Ou(Nu,mu,_u){const Lu=Nu[mu];Nu[mu]=Nu[_u],Nu[_u]=Lu}Ga.prototype.swap16=function(){const mu=this.length;if(mu%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _u=0;_u<mu;_u+=2)Ou(this,_u,_u+1);return this},Ga.prototype.swap32=function(){const mu=this.length;if(mu%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _u=0;_u<mu;_u+=4)Ou(this,_u,_u+3),Ou(this,_u+1,_u+2);return this},Ga.prototype.swap64=function(){const mu=this.length;if(mu%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _u=0;_u<mu;_u+=8)Ou(this,_u,_u+7),Ou(this,_u+1,_u+6),Ou(this,_u+2,_u+5),Ou(this,_u+3,_u+4);return this},Ga.prototype.toString=function(){const mu=this.length;return mu===0?"":arguments.length===0?tl(this,0,mu):$u.apply(this,arguments)},Ga.prototype.toLocaleString=Ga.prototype.toString,Ga.prototype.equals=function(mu){if(!Ga.isBuffer(mu))throw new TypeError("Argument must be a Buffer");return this===mu?!0:Ga.compare(this,mu)===0},Ga.prototype.inspect=function(){let mu="";const _u=pa.INSPECT_MAX_BYTES;return mu=this.toString("hex",0,_u).replace(/(.{2})/g,"$1 ").trim(),this.length>_u&&(mu+=" ... "),"<Buffer "+mu+">"},Bc&&(Ga.prototype[Bc]=Ga.prototype.inspect),Ga.prototype.compare=function(mu,_u,Lu,Vu,vu){if(kl(mu,tu)&&(mu=Ga.from(mu,mu.offset,mu.byteLength)),!Ga.isBuffer(mu))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof mu);if(_u===void 0&&(_u=0),Lu===void 0&&(Lu=mu?mu.length:0),Vu===void 0&&(Vu=0),vu===void 0&&(vu=this.length),_u<0||Lu>mu.length||Vu<0||vu>this.length)throw new RangeError("out of range index");if(Vu>=vu&&_u>=Lu)return 0;if(Vu>=vu)return-1;if(_u>=Lu)return 1;if(_u>>>=0,Lu>>>=0,Vu>>>=0,vu>>>=0,this===mu)return 0;let Su=vu-Vu,Iu=Lu-_u;const bu=Math.min(Su,Iu),Wu=this.slice(Vu,vu),Xu=mu.slice(_u,Lu);for(let Qu=0;Qu<bu;++Qu)if(Wu[Qu]!==Xu[Qu]){Su=Wu[Qu],Iu=Xu[Qu];break}return Su<Iu?-1:Iu<Su?1:0};function gu(Nu,mu,_u,Lu,Vu){if(Nu.length===0)return-1;if(typeof _u=="string"?(Lu=_u,_u=0):_u>2147483647?_u=2147483647:_u<-2147483648&&(_u=-2147483648),_u=+_u,Fl(_u)&&(_u=Vu?0:Nu.length-1),_u<0&&(_u=Nu.length+_u),_u>=Nu.length){if(Vu)return-1;_u=Nu.length-1}else if(_u<0)if(Vu)_u=0;else return-1;if(typeof mu=="string"&&(mu=Ga.from(mu,Lu)),Ga.isBuffer(mu))return mu.length===0?-1:yu(Nu,mu,_u,Lu,Vu);if(typeof mu=="number")return mu=mu&255,typeof tu.prototype.indexOf=="function"?Vu?tu.prototype.indexOf.call(Nu,mu,_u):tu.prototype.lastIndexOf.call(Nu,mu,_u):yu(Nu,[mu],_u,Lu,Vu);throw new TypeError("val must be string, number or Buffer")}function yu(Nu,mu,_u,Lu,Vu){let vu=1,Su=Nu.length,Iu=mu.length;if(Lu!==void 0&&(Lu=String(Lu).toLowerCase(),Lu==="ucs2"||Lu==="ucs-2"||Lu==="utf16le"||Lu==="utf-16le")){if(Nu.length<2||mu.length<2)return-1;vu=2,Su/=2,Iu/=2,_u/=2}function bu(Xu,Qu){return vu===1?Xu[Qu]:Xu.readUInt16BE(Qu*vu)}let Wu;if(Vu){let Xu=-1;for(Wu=_u;Wu<Su;Wu++)if(bu(Nu,Wu)===bu(mu,Xu===-1?0:Wu-Xu)){if(Xu===-1&&(Xu=Wu),Wu-Xu+1===Iu)return Xu*vu}else Xu!==-1&&(Wu-=Wu-Xu),Xu=-1}else for(_u+Iu>Su&&(_u=Su-Iu),Wu=_u;Wu>=0;Wu--){let Xu=!0;for(let Qu=0;Qu<Iu;Qu++)if(bu(Nu,Wu+Qu)!==bu(mu,Qu)){Xu=!1;break}if(Xu)return Wu}return-1}Ga.prototype.includes=function(mu,_u,Lu){return this.indexOf(mu,_u,Lu)!==-1},Ga.prototype.indexOf=function(mu,_u,Lu){return gu(this,mu,_u,Lu,!0)},Ga.prototype.lastIndexOf=function(mu,_u,Lu){return gu(this,mu,_u,Lu,!1)};function Tu(Nu,mu,_u,Lu){_u=Number(_u)||0;const Vu=Nu.length-_u;Lu?(Lu=Number(Lu),Lu>Vu&&(Lu=Vu)):Lu=Vu;const vu=mu.length;Lu>vu/2&&(Lu=vu/2);let Su;for(Su=0;Su<Lu;++Su){const Iu=parseInt(mu.substr(Su*2,2),16);if(Fl(Iu))return Su;Nu[_u+Su]=Iu}return Su}function du(Nu,mu,_u,Lu){return Ul(Il(mu,Nu.length-_u),Nu,_u,Lu)}function wu(Nu,mu,_u,Lu){return Ul(Rl(mu),Nu,_u,Lu)}function Ru(Nu,mu,_u,Lu){return Ul(Ml(mu),Nu,_u,Lu)}function Ku(Nu,mu,_u,Lu){return Ul(fl(mu,Nu.length-_u),Nu,_u,Lu)}Ga.prototype.write=function(mu,_u,Lu,Vu){if(_u===void 0)Vu="utf8",Lu=this.length,_u=0;else if(Lu===void 0&&typeof _u=="string")Vu=_u,Lu=this.length,_u=0;else if(isFinite(_u))_u=_u>>>0,isFinite(Lu)?(Lu=Lu>>>0,Vu===void 0&&(Vu="utf8")):(Vu=Lu,Lu=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const vu=this.length-_u;if((Lu===void 0||Lu>vu)&&(Lu=vu),mu.length>0&&(Lu<0||_u<0)||_u>this.length)throw new RangeError("Attempt to write outside buffer bounds");Vu||(Vu="utf8");let Su=!1;for(;;)switch(Vu){case"hex":return Tu(this,mu,_u,Lu);case"utf8":case"utf-8":return du(this,mu,_u,Lu);case"ascii":case"latin1":case"binary":return wu(this,mu,_u,Lu);case"base64":return Ru(this,mu,_u,Lu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ku(this,mu,_u,Lu);default:if(Su)throw new TypeError("Unknown encoding: "+Vu);Vu=(""+Vu).toLowerCase(),Su=!0}},Ga.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zu(Nu,mu,_u){return mu===0&&_u===Nu.length?za.fromByteArray(Nu):za.fromByteArray(Nu.slice(mu,_u))}function tl(Nu,mu,_u){_u=Math.min(Nu.length,_u);const Lu=[];let Vu=mu;for(;Vu<_u;){const vu=Nu[Vu];let Su=null,Iu=vu>239?4:vu>223?3:vu>191?2:1;if(Vu+Iu<=_u){let bu,Wu,Xu,Qu;switch(Iu){case 1:vu<128&&(Su=vu);break;case 2:bu=Nu[Vu+1],(bu&192)===128&&(Qu=(vu&31)<<6|bu&63,Qu>127&&(Su=Qu));break;case 3:bu=Nu[Vu+1],Wu=Nu[Vu+2],(bu&192)===128&&(Wu&192)===128&&(Qu=(vu&15)<<12|(bu&63)<<6|Wu&63,Qu>2047&&(Qu<55296||Qu>57343)&&(Su=Qu));break;case 4:bu=Nu[Vu+1],Wu=Nu[Vu+2],Xu=Nu[Vu+3],(bu&192)===128&&(Wu&192)===128&&(Xu&192)===128&&(Qu=(vu&15)<<18|(bu&63)<<12|(Wu&63)<<6|Xu&63,Qu>65535&&Qu<1114112&&(Su=Qu))}}Su===null?(Su=65533,Iu=1):Su>65535&&(Su-=65536,Lu.push(Su>>>10&1023|55296),Su=56320|Su&1023),Lu.push(Su),Vu+=Iu}return gl(Lu)}const sl=4096;function gl(Nu){const mu=Nu.length;if(mu<=sl)return String.fromCharCode.apply(String,Nu);let _u="",Lu=0;for(;Lu<mu;)_u+=String.fromCharCode.apply(String,Nu.slice(Lu,Lu+=sl));return _u}function Fu(Nu,mu,_u){let Lu="";_u=Math.min(Nu.length,_u);for(let Vu=mu;Vu<_u;++Vu)Lu+=String.fromCharCode(Nu[Vu]&127);return Lu}function Mu(Nu,mu,_u){let Lu="";_u=Math.min(Nu.length,_u);for(let Vu=mu;Vu<_u;++Vu)Lu+=String.fromCharCode(Nu[Vu]);return Lu}function Ju(Nu,mu,_u){const Lu=Nu.length;(!mu||mu<0)&&(mu=0),(!_u||_u<0||_u>Lu)&&(_u=Lu);let Vu="";for(let vu=mu;vu<_u;++vu)Vu+=Pl[Nu[vu]];return Vu}function vf(Nu,mu,_u){const Lu=Nu.slice(mu,_u);let Vu="";for(let vu=0;vu<Lu.length-1;vu+=2)Vu+=String.fromCharCode(Lu[vu]+Lu[vu+1]*256);return Vu}Ga.prototype.slice=function(mu,_u){const Lu=this.length;mu=~~mu,_u=_u===void 0?Lu:~~_u,mu<0?(mu+=Lu,mu<0&&(mu=0)):mu>Lu&&(mu=Lu),_u<0?(_u+=Lu,_u<0&&(_u=0)):_u>Lu&&(_u=Lu),_u<mu&&(_u=mu);const Vu=this.subarray(mu,_u);return Object.setPrototypeOf(Vu,Ga.prototype),Vu};function wf(Nu,mu,_u){if(Nu%1!==0||Nu<0)throw new RangeError("offset is not uint");if(Nu+mu>_u)throw new RangeError("Trying to access beyond buffer length")}Ga.prototype.readUintLE=Ga.prototype.readUIntLE=function(mu,_u,Lu){mu=mu>>>0,_u=_u>>>0,Lu||wf(mu,_u,this.length);let Vu=this[mu],vu=1,Su=0;for(;++Su<_u&&(vu*=256);)Vu+=this[mu+Su]*vu;return Vu},Ga.prototype.readUintBE=Ga.prototype.readUIntBE=function(mu,_u,Lu){mu=mu>>>0,_u=_u>>>0,Lu||wf(mu,_u,this.length);let Vu=this[mu+--_u],vu=1;for(;_u>0&&(vu*=256);)Vu+=this[mu+--_u]*vu;return Vu},Ga.prototype.readUint8=Ga.prototype.readUInt8=function(mu,_u){return mu=mu>>>0,_u||wf(mu,1,this.length),this[mu]},Ga.prototype.readUint16LE=Ga.prototype.readUInt16LE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,2,this.length),this[mu]|this[mu+1]<<8},Ga.prototype.readUint16BE=Ga.prototype.readUInt16BE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,2,this.length),this[mu]<<8|this[mu+1]},Ga.prototype.readUint32LE=Ga.prototype.readUInt32LE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,4,this.length),(this[mu]|this[mu+1]<<8|this[mu+2]<<16)+this[mu+3]*16777216},Ga.prototype.readUint32BE=Ga.prototype.readUInt32BE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,4,this.length),this[mu]*16777216+(this[mu+1]<<16|this[mu+2]<<8|this[mu+3])},Ga.prototype.readBigUInt64LE=Wl(function(mu){mu=mu>>>0,Pu(mu,"offset");const _u=this[mu],Lu=this[mu+7];(_u===void 0||Lu===void 0)&&xf(mu,this.length-8);const Vu=_u+this[++mu]*2**8+this[++mu]*2**16+this[++mu]*2**24,vu=this[++mu]+this[++mu]*2**8+this[++mu]*2**16+Lu*2**24;return BigInt(Vu)+(BigInt(vu)<<BigInt(32))}),Ga.prototype.readBigUInt64BE=Wl(function(mu){mu=mu>>>0,Pu(mu,"offset");const _u=this[mu],Lu=this[mu+7];(_u===void 0||Lu===void 0)&&xf(mu,this.length-8);const Vu=_u*2**24+this[++mu]*2**16+this[++mu]*2**8+this[++mu],vu=this[++mu]*2**24+this[++mu]*2**16+this[++mu]*2**8+Lu;return(BigInt(Vu)<<BigInt(32))+BigInt(vu)}),Ga.prototype.readIntLE=function(mu,_u,Lu){mu=mu>>>0,_u=_u>>>0,Lu||wf(mu,_u,this.length);let Vu=this[mu],vu=1,Su=0;for(;++Su<_u&&(vu*=256);)Vu+=this[mu+Su]*vu;return vu*=128,Vu>=vu&&(Vu-=Math.pow(2,8*_u)),Vu},Ga.prototype.readIntBE=function(mu,_u,Lu){mu=mu>>>0,_u=_u>>>0,Lu||wf(mu,_u,this.length);let Vu=_u,vu=1,Su=this[mu+--Vu];for(;Vu>0&&(vu*=256);)Su+=this[mu+--Vu]*vu;return vu*=128,Su>=vu&&(Su-=Math.pow(2,8*_u)),Su},Ga.prototype.readInt8=function(mu,_u){return mu=mu>>>0,_u||wf(mu,1,this.length),this[mu]&128?(255-this[mu]+1)*-1:this[mu]},Ga.prototype.readInt16LE=function(mu,_u){mu=mu>>>0,_u||wf(mu,2,this.length);const Lu=this[mu]|this[mu+1]<<8;return Lu&32768?Lu|4294901760:Lu},Ga.prototype.readInt16BE=function(mu,_u){mu=mu>>>0,_u||wf(mu,2,this.length);const Lu=this[mu+1]|this[mu]<<8;return Lu&32768?Lu|4294901760:Lu},Ga.prototype.readInt32LE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,4,this.length),this[mu]|this[mu+1]<<8|this[mu+2]<<16|this[mu+3]<<24},Ga.prototype.readInt32BE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,4,this.length),this[mu]<<24|this[mu+1]<<16|this[mu+2]<<8|this[mu+3]},Ga.prototype.readBigInt64LE=Wl(function(mu){mu=mu>>>0,Pu(mu,"offset");const _u=this[mu],Lu=this[mu+7];(_u===void 0||Lu===void 0)&&xf(mu,this.length-8);const Vu=this[mu+4]+this[mu+5]*2**8+this[mu+6]*2**16+(Lu<<24);return(BigInt(Vu)<<BigInt(32))+BigInt(_u+this[++mu]*2**8+this[++mu]*2**16+this[++mu]*2**24)}),Ga.prototype.readBigInt64BE=Wl(function(mu){mu=mu>>>0,Pu(mu,"offset");const _u=this[mu],Lu=this[mu+7];(_u===void 0||Lu===void 0)&&xf(mu,this.length-8);const Vu=(_u<<24)+this[++mu]*2**16+this[++mu]*2**8+this[++mu];return(BigInt(Vu)<<BigInt(32))+BigInt(this[++mu]*2**24+this[++mu]*2**16+this[++mu]*2**8+Lu)}),Ga.prototype.readFloatLE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,4,this.length),Ya.read(this,mu,!0,23,4)},Ga.prototype.readFloatBE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,4,this.length),Ya.read(this,mu,!1,23,4)},Ga.prototype.readDoubleLE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,8,this.length),Ya.read(this,mu,!0,52,8)},Ga.prototype.readDoubleBE=function(mu,_u){return mu=mu>>>0,_u||wf(mu,8,this.length),Ya.read(this,mu,!1,52,8)};function el(Nu,mu,_u,Lu,Vu,vu){if(!Ga.isBuffer(Nu))throw new TypeError('"buffer" argument must be a Buffer instance');if(mu>Vu||mu<vu)throw new RangeError('"value" argument is out of bounds');if(_u+Lu>Nu.length)throw new RangeError("Index out of range")}Ga.prototype.writeUintLE=Ga.prototype.writeUIntLE=function(mu,_u,Lu,Vu){if(mu=+mu,_u=_u>>>0,Lu=Lu>>>0,!Vu){const Iu=Math.pow(2,8*Lu)-1;el(this,mu,_u,Lu,Iu,0)}let vu=1,Su=0;for(this[_u]=mu&255;++Su<Lu&&(vu*=256);)this[_u+Su]=mu/vu&255;return _u+Lu},Ga.prototype.writeUintBE=Ga.prototype.writeUIntBE=function(mu,_u,Lu,Vu){if(mu=+mu,_u=_u>>>0,Lu=Lu>>>0,!Vu){const Iu=Math.pow(2,8*Lu)-1;el(this,mu,_u,Lu,Iu,0)}let vu=Lu-1,Su=1;for(this[_u+vu]=mu&255;--vu>=0&&(Su*=256);)this[_u+vu]=mu/Su&255;return _u+Lu},Ga.prototype.writeUint8=Ga.prototype.writeUInt8=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,1,255,0),this[_u]=mu&255,_u+1},Ga.prototype.writeUint16LE=Ga.prototype.writeUInt16LE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,2,65535,0),this[_u]=mu&255,this[_u+1]=mu>>>8,_u+2},Ga.prototype.writeUint16BE=Ga.prototype.writeUInt16BE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,2,65535,0),this[_u]=mu>>>8,this[_u+1]=mu&255,_u+2},Ga.prototype.writeUint32LE=Ga.prototype.writeUInt32LE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,4,4294967295,0),this[_u+3]=mu>>>24,this[_u+2]=mu>>>16,this[_u+1]=mu>>>8,this[_u]=mu&255,_u+4},Ga.prototype.writeUint32BE=Ga.prototype.writeUInt32BE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,4,4294967295,0),this[_u]=mu>>>24,this[_u+1]=mu>>>16,this[_u+2]=mu>>>8,this[_u+3]=mu&255,_u+4};function il(Nu,mu,_u,Lu,Vu){qu(mu,Lu,Vu,Nu,_u,7);let vu=Number(mu&BigInt(4294967295));Nu[_u++]=vu,vu=vu>>8,Nu[_u++]=vu,vu=vu>>8,Nu[_u++]=vu,vu=vu>>8,Nu[_u++]=vu;let Su=Number(mu>>BigInt(32)&BigInt(4294967295));return Nu[_u++]=Su,Su=Su>>8,Nu[_u++]=Su,Su=Su>>8,Nu[_u++]=Su,Su=Su>>8,Nu[_u++]=Su,_u}function hl(Nu,mu,_u,Lu,Vu){qu(mu,Lu,Vu,Nu,_u,7);let vu=Number(mu&BigInt(4294967295));Nu[_u+7]=vu,vu=vu>>8,Nu[_u+6]=vu,vu=vu>>8,Nu[_u+5]=vu,vu=vu>>8,Nu[_u+4]=vu;let Su=Number(mu>>BigInt(32)&BigInt(4294967295));return Nu[_u+3]=Su,Su=Su>>8,Nu[_u+2]=Su,Su=Su>>8,Nu[_u+1]=Su,Su=Su>>8,Nu[_u]=Su,_u+8}Ga.prototype.writeBigUInt64LE=Wl(function(mu,_u=0){return il(this,mu,_u,BigInt(0),BigInt("0xffffffffffffffff"))}),Ga.prototype.writeBigUInt64BE=Wl(function(mu,_u=0){return hl(this,mu,_u,BigInt(0),BigInt("0xffffffffffffffff"))}),Ga.prototype.writeIntLE=function(mu,_u,Lu,Vu){if(mu=+mu,_u=_u>>>0,!Vu){const bu=Math.pow(2,8*Lu-1);el(this,mu,_u,Lu,bu-1,-bu)}let vu=0,Su=1,Iu=0;for(this[_u]=mu&255;++vu<Lu&&(Su*=256);)mu<0&&Iu===0&&this[_u+vu-1]!==0&&(Iu=1),this[_u+vu]=(mu/Su>>0)-Iu&255;return _u+Lu},Ga.prototype.writeIntBE=function(mu,_u,Lu,Vu){if(mu=+mu,_u=_u>>>0,!Vu){const bu=Math.pow(2,8*Lu-1);el(this,mu,_u,Lu,bu-1,-bu)}let vu=Lu-1,Su=1,Iu=0;for(this[_u+vu]=mu&255;--vu>=0&&(Su*=256);)mu<0&&Iu===0&&this[_u+vu+1]!==0&&(Iu=1),this[_u+vu]=(mu/Su>>0)-Iu&255;return _u+Lu},Ga.prototype.writeInt8=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,1,127,-128),mu<0&&(mu=255+mu+1),this[_u]=mu&255,_u+1},Ga.prototype.writeInt16LE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,2,32767,-32768),this[_u]=mu&255,this[_u+1]=mu>>>8,_u+2},Ga.prototype.writeInt16BE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,2,32767,-32768),this[_u]=mu>>>8,this[_u+1]=mu&255,_u+2},Ga.prototype.writeInt32LE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,4,2147483647,-2147483648),this[_u]=mu&255,this[_u+1]=mu>>>8,this[_u+2]=mu>>>16,this[_u+3]=mu>>>24,_u+4},Ga.prototype.writeInt32BE=function(mu,_u,Lu){return mu=+mu,_u=_u>>>0,Lu||el(this,mu,_u,4,2147483647,-2147483648),mu<0&&(mu=4294967295+mu+1),this[_u]=mu>>>24,this[_u+1]=mu>>>16,this[_u+2]=mu>>>8,this[_u+3]=mu&255,_u+4},Ga.prototype.writeBigInt64LE=Wl(function(mu,_u=0){return il(this,mu,_u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ga.prototype.writeBigInt64BE=Wl(function(mu,_u=0){return hl(this,mu,_u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function cl(Nu,mu,_u,Lu,Vu,vu){if(_u+Lu>Nu.length)throw new RangeError("Index out of range");if(_u<0)throw new RangeError("Index out of range")}function ul(Nu,mu,_u,Lu,Vu){return mu=+mu,_u=_u>>>0,Vu||cl(Nu,mu,_u,4),Ya.write(Nu,mu,_u,Lu,23,4),_u+4}Ga.prototype.writeFloatLE=function(mu,_u,Lu){return ul(this,mu,_u,!0,Lu)},Ga.prototype.writeFloatBE=function(mu,_u,Lu){return ul(this,mu,_u,!1,Lu)};function yl(Nu,mu,_u,Lu,Vu){return mu=+mu,_u=_u>>>0,Vu||cl(Nu,mu,_u,8),Ya.write(Nu,mu,_u,Lu,52,8),_u+8}Ga.prototype.writeDoubleLE=function(mu,_u,Lu){return yl(this,mu,_u,!0,Lu)},Ga.prototype.writeDoubleBE=function(mu,_u,Lu){return yl(this,mu,_u,!1,Lu)},Ga.prototype.copy=function(mu,_u,Lu,Vu){if(!Ga.isBuffer(mu))throw new TypeError("argument should be a Buffer");if(Lu||(Lu=0),!Vu&&Vu!==0&&(Vu=this.length),_u>=mu.length&&(_u=mu.length),_u||(_u=0),Vu>0&&Vu<Lu&&(Vu=Lu),Vu===Lu||mu.length===0||this.length===0)return 0;if(_u<0)throw new RangeError("targetStart out of bounds");if(Lu<0||Lu>=this.length)throw new RangeError("Index out of range");if(Vu<0)throw new RangeError("sourceEnd out of bounds");Vu>this.length&&(Vu=this.length),mu.length-_u<Vu-Lu&&(Vu=mu.length-_u+Lu);const vu=Vu-Lu;return this===mu&&typeof tu.prototype.copyWithin=="function"?this.copyWithin(_u,Lu,Vu):tu.prototype.set.call(mu,this.subarray(Lu,Vu),_u),vu},Ga.prototype.fill=function(mu,_u,Lu,Vu){if(typeof mu=="string"){if(typeof _u=="string"?(Vu=_u,_u=0,Lu=this.length):typeof Lu=="string"&&(Vu=Lu,Lu=this.length),Vu!==void 0&&typeof Vu!="string")throw new TypeError("encoding must be a string");if(typeof Vu=="string"&&!Ga.isEncoding(Vu))throw new TypeError("Unknown encoding: "+Vu);if(mu.length===1){const Su=mu.charCodeAt(0);(Vu==="utf8"&&Su<128||Vu==="latin1")&&(mu=Su)}}else typeof mu=="number"?mu=mu&255:typeof mu=="boolean"&&(mu=Number(mu));if(_u<0||this.length<_u||this.length<Lu)throw new RangeError("Out of range index");if(Lu<=_u)return this;_u=_u>>>0,Lu=Lu===void 0?this.length:Lu>>>0,mu||(mu=0);let vu;if(typeof mu=="number")for(vu=_u;vu<Lu;++vu)this[vu]=mu;else{const Su=Ga.isBuffer(mu)?mu:Ga.from(mu,Vu),Iu=Su.length;if(Iu===0)throw new TypeError('The value "'+mu+'" is invalid for argument "value"');for(vu=0;vu<Lu-_u;++vu)this[vu+_u]=Su[vu%Iu]}return this};const Cl={};function Bu(Nu,mu,_u){Cl[Nu]=class extends _u{constructor(){super(),Object.defineProperty(this,"message",{value:mu.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Nu}]`,this.stack,delete this.name}get code(){return Nu}set code(Vu){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Vu,writable:!0})}toString(){return`${this.name} [${Nu}]: ${this.message}`}}}Bu("ERR_BUFFER_OUT_OF_BOUNDS",function(Nu){return Nu?`${Nu} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Bu("ERR_INVALID_ARG_TYPE",function(Nu,mu){return`The "${Nu}" argument must be of type number. Received type ${typeof mu}`},TypeError),Bu("ERR_OUT_OF_RANGE",function(Nu,mu,_u){let Lu=`The value of "${Nu}" is out of range.`,Vu=_u;return Number.isInteger(_u)&&Math.abs(_u)>2**32?Vu=pu(String(_u)):typeof _u=="bigint"&&(Vu=String(_u),(_u>BigInt(2)**BigInt(32)||_u<-(BigInt(2)**BigInt(32)))&&(Vu=pu(Vu)),Vu+="n"),Lu+=` It must be ${mu}. Received ${Vu}`,Lu},RangeError);function pu(Nu){let mu="",_u=Nu.length;const Lu=Nu[0]==="-"?1:0;for(;_u>=Lu+4;_u-=3)mu=`_${Nu.slice(_u-3,_u)}${mu}`;return`${Nu.slice(0,_u)}${mu}`}function xu(Nu,mu,_u){Pu(mu,"offset"),(Nu[mu]===void 0||Nu[mu+_u]===void 0)&&xf(mu,Nu.length-(_u+1))}function qu(Nu,mu,_u,Lu,Vu,vu){if(Nu>_u||Nu<mu){const Su=typeof mu=="bigint"?"n":"";let Iu;throw mu===0||mu===BigInt(0)?Iu=`>= 0${Su} and < 2${Su} ** ${(vu+1)*8}${Su}`:Iu=`>= -(2${Su} ** ${(vu+1)*8-1}${Su}) and < 2 ** ${(vu+1)*8-1}${Su}`,new Cl.ERR_OUT_OF_RANGE("value",Iu,Nu)}xu(Lu,Vu,vu)}function Pu(Nu,mu){if(typeof Nu!="number")throw new Cl.ERR_INVALID_ARG_TYPE(mu,"number",Nu)}function xf(Nu,mu,_u){throw Math.floor(Nu)!==Nu?(Pu(Nu,_u),new Cl.ERR_OUT_OF_RANGE("offset","an integer",Nu)):mu<0?new Cl.ERR_BUFFER_OUT_OF_BOUNDS:new Cl.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${mu}`,Nu)}const nl=/[^+/0-9A-Za-z-_]/g;function wl(Nu){if(Nu=Nu.split("=")[0],Nu=Nu.trim().replace(nl,""),Nu.length<2)return"";for(;Nu.length%4!==0;)Nu=Nu+"=";return Nu}function Il(Nu,mu){mu=mu||1/0;let _u;const Lu=Nu.length;let Vu=null;const vu=[];for(let Su=0;Su<Lu;++Su){if(_u=Nu.charCodeAt(Su),_u>55295&&_u<57344){if(!Vu){if(_u>56319){(mu-=3)>-1&&vu.push(239,191,189);continue}else if(Su+1===Lu){(mu-=3)>-1&&vu.push(239,191,189);continue}Vu=_u;continue}if(_u<56320){(mu-=3)>-1&&vu.push(239,191,189),Vu=_u;continue}_u=(Vu-55296<<10|_u-56320)+65536}else Vu&&(mu-=3)>-1&&vu.push(239,191,189);if(Vu=null,_u<128){if((mu-=1)<0)break;vu.push(_u)}else if(_u<2048){if((mu-=2)<0)break;vu.push(_u>>6|192,_u&63|128)}else if(_u<65536){if((mu-=3)<0)break;vu.push(_u>>12|224,_u>>6&63|128,_u&63|128)}else if(_u<1114112){if((mu-=4)<0)break;vu.push(_u>>18|240,_u>>12&63|128,_u>>6&63|128,_u&63|128)}else throw new Error("Invalid code point")}return vu}function Rl(Nu){const mu=[];for(let _u=0;_u<Nu.length;++_u)mu.push(Nu.charCodeAt(_u)&255);return mu}function fl(Nu,mu){let _u,Lu,Vu;const vu=[];for(let Su=0;Su<Nu.length&&!((mu-=2)<0);++Su)_u=Nu.charCodeAt(Su),Lu=_u>>8,Vu=_u%256,vu.push(Vu),vu.push(Lu);return vu}function Ml(Nu){return za.toByteArray(wl(Nu))}function Ul(Nu,mu,_u,Lu){let Vu;for(Vu=0;Vu<Lu&&!(Vu+_u>=mu.length||Vu>=Nu.length);++Vu)mu[Vu+_u]=Nu[Vu];return Vu}function kl(Nu,mu){return Nu instanceof mu||Nu!=null&&Nu.constructor!=null&&Nu.constructor.name!=null&&Nu.constructor.name===mu.name}function Fl(Nu){return Nu!==Nu}const Pl=function(){const Nu="0123456789abcdef",mu=new Array(256);for(let _u=0;_u<16;++_u){const Lu=_u*16;for(let Vu=0;Vu<16;++Vu)mu[Lu+Vu]=Nu[_u]+Nu[Vu]}return mu}();function Wl(Nu){return typeof BigInt>"u"?jl:Nu}function jl(){throw new Error("BigInt not supported")}})(t);const ha=t.Buffer;st.Blob=t.Blob,st.BlobOptions=t.BlobOptions,st.Buffer=t.Buffer,st.File=t.File,st.FileOptions=t.FileOptions,st.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,st.SlowBuffer=t.SlowBuffer,st.TranscodeEncoding=t.TranscodeEncoding,st.atob=t.atob,st.btoa=t.btoa,st.constants=t.constants,st.default=ha,st.isAscii=t.isAscii,st.isUtf8=t.isUtf8,st.kMaxLength=t.kMaxLength,st.kStringMaxLength=t.kStringMaxLength,st.resolveObjectURL=t.resolveObjectURL,st.transcode=t.transcode}(dist)),dist}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(st,t){var et=requireDist(),ms=et.Buffer;function ws(_s,Es){for(var Ts in _s)Es[Ts]=_s[Ts]}ms.from&&ms.alloc&&ms.allocUnsafe&&ms.allocUnsafeSlow?st.exports=et:(ws(et,t),t.Buffer=vs);function vs(_s,Es,Ts){return ms(_s,Es,Ts)}vs.prototype=Object.create(ms.prototype),ws(ms,vs),vs.from=function(_s,Es,Ts){if(typeof _s=="number")throw new TypeError("Argument must not be a number");return ms(_s,Es,Ts)},vs.alloc=function(_s,Es,Ts){if(typeof _s!="number")throw new TypeError("Argument must be a number");var Ss=ms(_s);return Es!==void 0?typeof Ts=="string"?Ss.fill(Es,Ts):Ss.fill(Es):Ss.fill(0),Ss},vs.allocUnsafe=function(_s){if(typeof _s!="number")throw new TypeError("Argument must be a number");return ms(_s)},vs.allocUnsafeSlow=function(_s){if(typeof _s!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(_s)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$d;function requireBrowser$d(){if(hasRequiredBrowser$d)return browser$d.exports;hasRequiredBrowser$d=1;var st=65536,t=4294967295;function et(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var ms=requireSafeBuffer$1().Buffer,ws=window.crypto||window.msCrypto;ws&&ws.getRandomValues?browser$d.exports=vs:browser$d.exports=et;function vs(_s,Es){if(_s>t)throw new RangeError("requested too many random bytes");var Ts=ms.allocUnsafe(_s);if(_s>0)if(_s>st)for(var Ss=0;Ss<_s;Ss+=st)ws.getRandomValues(Ts.slice(Ss,Ss+st));else ws.getRandomValues(Ts);return typeof Es=="function"?process$1.nextTick(function(){Es(null,Ts)}):Ts}return browser$d.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(t,et){et&&(t.super_=et,t.prototype=Object.create(et.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,et){if(et){t.super_=et;var ms=function(){};ms.prototype=et.prototype,t.prototype=new ms,t.prototype.constructor=t}}),inherits_browser.exports}var events$1={exports:{}},hasRequiredEvents$1;function requireEvents$1(){if(hasRequiredEvents$1)return events$1.exports;hasRequiredEvents$1=1;var st=typeof Reflect=="object"?Reflect:null,t=st&&typeof st.apply=="function"?st.apply:function(Bc,Qa,tu){return Function.prototype.apply.call(Bc,Qa,tu)},et;st&&typeof st.ownKeys=="function"?et=st.ownKeys:Object.getOwnPropertySymbols?et=function(Bc){return Object.getOwnPropertyNames(Bc).concat(Object.getOwnPropertySymbols(Bc))}:et=function(Bc){return Object.getOwnPropertyNames(Bc)};function ms(Ya){console&&console.warn&&console.warn(Ya)}var ws=Number.isNaN||function(Bc){return Bc!==Bc};function vs(){vs.init.call(this)}events$1.exports=vs,events$1.exports.once=ha,vs.EventEmitter=vs,vs.prototype._events=void 0,vs.prototype._eventsCount=0,vs.prototype._maxListeners=void 0;var _s=10;function Es(Ya){if(typeof Ya!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ya)}Object.defineProperty(vs,"defaultMaxListeners",{enumerable:!0,get:function(){return _s},set:function(Ya){if(typeof Ya!="number"||Ya<0||ws(Ya))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ya+".");_s=Ya}}),vs.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},vs.prototype.setMaxListeners=function(Bc){if(typeof Bc!="number"||Bc<0||ws(Bc))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Bc+".");return this._maxListeners=Bc,this};function Ts(Ya){return Ya._maxListeners===void 0?vs.defaultMaxListeners:Ya._maxListeners}vs.prototype.getMaxListeners=function(){return Ts(this)},vs.prototype.emit=function(Bc){for(var Qa=[],tu=1;tu<arguments.length;tu++)Qa.push(arguments[tu]);var eu=Bc==="error",ru=this._events;if(ru!==void 0)eu=eu&&ru.error===void 0;else if(!eu)return!1;if(eu){var cu;if(Qa.length>0&&(cu=Qa[0]),cu instanceof Error)throw cu;var ou=new Error("Unhandled error."+(cu?" ("+cu.message+")":""));throw ou.context=cu,ou}var Ga=ru[Bc];if(Ga===void 0)return!1;if(typeof Ga=="function")t(Ga,this,Qa);else for(var Xa=Ga.length,Fa=Hs(Ga,Xa),tu=0;tu<Xa;++tu)t(Fa[tu],this,Qa);return!0};function Ss(Ya,Bc,Qa,tu){var eu,ru,cu;if(Es(Qa),ru=Ya._events,ru===void 0?(ru=Ya._events=Object.create(null),Ya._eventsCount=0):(ru.newListener!==void 0&&(Ya.emit("newListener",Bc,Qa.listener?Qa.listener:Qa),ru=Ya._events),cu=ru[Bc]),cu===void 0)cu=ru[Bc]=Qa,++Ya._eventsCount;else if(typeof cu=="function"?cu=ru[Bc]=tu?[Qa,cu]:[cu,Qa]:tu?cu.unshift(Qa):cu.push(Qa),eu=Ts(Ya),eu>0&&cu.length>eu&&!cu.warned){cu.warned=!0;var ou=new Error("Possible EventEmitter memory leak detected. "+cu.length+" "+String(Bc)+" listeners added. Use emitter.setMaxListeners() to increase limit");ou.name="MaxListenersExceededWarning",ou.emitter=Ya,ou.type=Bc,ou.count=cu.length,ms(ou)}return Ya}vs.prototype.addListener=function(Bc,Qa){return Ss(this,Bc,Qa,!1)},vs.prototype.on=vs.prototype.addListener,vs.prototype.prependListener=function(Bc,Qa){return Ss(this,Bc,Qa,!0)};function Rs(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bs(Ya,Bc,Qa){var tu={fired:!1,wrapFn:void 0,target:Ya,type:Bc,listener:Qa},eu=Rs.bind(tu);return eu.listener=Qa,tu.wrapFn=eu,eu}vs.prototype.once=function(Bc,Qa){return Es(Qa),this.on(Bc,Bs(this,Bc,Qa)),this},vs.prototype.prependOnceListener=function(Bc,Qa){return Es(Qa),this.prependListener(Bc,Bs(this,Bc,Qa)),this},vs.prototype.removeListener=function(Bc,Qa){var tu,eu,ru,cu,ou;if(Es(Qa),eu=this._events,eu===void 0)return this;if(tu=eu[Bc],tu===void 0)return this;if(tu===Qa||tu.listener===Qa)--this._eventsCount===0?this._events=Object.create(null):(delete eu[Bc],eu.removeListener&&this.emit("removeListener",Bc,tu.listener||Qa));else if(typeof tu!="function"){for(ru=-1,cu=tu.length-1;cu>=0;cu--)if(tu[cu]===Qa||tu[cu].listener===Qa){ou=tu[cu].listener,ru=cu;break}if(ru<0)return this;ru===0?tu.shift():Ns(tu,ru),tu.length===1&&(eu[Bc]=tu[0]),eu.removeListener!==void 0&&this.emit("removeListener",Bc,ou||Qa)}return this},vs.prototype.off=vs.prototype.removeListener,vs.prototype.removeAllListeners=function(Bc){var Qa,tu,eu;if(tu=this._events,tu===void 0)return this;if(tu.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):tu[Bc]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete tu[Bc]),this;if(arguments.length===0){var ru=Object.keys(tu),cu;for(eu=0;eu<ru.length;++eu)cu=ru[eu],cu!=="removeListener"&&this.removeAllListeners(cu);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Qa=tu[Bc],typeof Qa=="function")this.removeListener(Bc,Qa);else if(Qa!==void 0)for(eu=Qa.length-1;eu>=0;eu--)this.removeListener(Bc,Qa[eu]);return this};function Is(Ya,Bc,Qa){var tu=Ya._events;if(tu===void 0)return[];var eu=tu[Bc];return eu===void 0?[]:typeof eu=="function"?Qa?[eu.listener||eu]:[eu]:Qa?Js(eu):Hs(eu,eu.length)}vs.prototype.listeners=function(Bc){return Is(this,Bc,!0)},vs.prototype.rawListeners=function(Bc){return Is(this,Bc,!1)},vs.listenerCount=function(Ya,Bc){return typeof Ya.listenerCount=="function"?Ya.listenerCount(Bc):Ws.call(Ya,Bc)},vs.prototype.listenerCount=Ws;function Ws(Ya){var Bc=this._events;if(Bc!==void 0){var Qa=Bc[Ya];if(typeof Qa=="function")return 1;if(Qa!==void 0)return Qa.length}return 0}vs.prototype.eventNames=function(){return this._eventsCount>0?et(this._events):[]};function Hs(Ya,Bc){for(var Qa=new Array(Bc),tu=0;tu<Bc;++tu)Qa[tu]=Ya[tu];return Qa}function Ns(Ya,Bc){for(;Bc+1<Ya.length;Bc++)Ya[Bc]=Ya[Bc+1];Ya.pop()}function Js(Ya){for(var Bc=new Array(Ya.length),Qa=0;Qa<Bc.length;++Qa)Bc[Qa]=Ya[Qa].listener||Ya[Qa];return Bc}function ha(Ya,Bc){return new Promise(function(Qa,tu){function eu(cu){Ya.removeListener(Bc,ru),tu(cu)}function ru(){typeof Ya.removeListener=="function"&&Ya.removeListener("error",eu),Qa([].slice.call(arguments))}za(Ya,Bc,ru,{once:!0}),Bc!=="error"&&pa(Ya,eu,{once:!0})})}function pa(Ya,Bc,Qa){typeof Ya.on=="function"&&za(Ya,"error",Bc,Qa)}function za(Ya,Bc,Qa,tu){if(typeof Ya.on=="function")tu.once?Ya.once(Bc,Qa):Ya.on(Bc,Qa);else if(typeof Ya.addEventListener=="function")Ya.addEventListener(Bc,function eu(ru){tu.once&&Ya.removeEventListener(Bc,eu),Qa(ru)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Ya)}return events$1.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents$1().EventEmitter),streamBrowser$1}var util$2={},types$2={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},et=Symbol("test"),ms=Object(et);if(typeof et=="string"||Object.prototype.toString.call(et)!=="[object Symbol]"||Object.prototype.toString.call(ms)!=="[object Symbol]")return!1;var ws=42;t[et]=ws;for(var vs in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var _s=Object.getOwnPropertySymbols(t);if(_s.length!==1||_s[0]!==et||!Object.prototype.propertyIsEnumerable.call(t,et))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var Es=Object.getOwnPropertyDescriptor(t,et);if(Es.value!==ws||Es.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var st=requireShams$1();return shams=function(){return st()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(t){return t!==t}),_isNaN}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var st=require_isNaN();return sign$1=function(et){return st(et)||et===0?et:et<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var st=requireGOPD();if(st)try{st([],"length")}catch{st=null}return gopd=st,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var st=Object.defineProperty||!1;if(st)try{st({},"a",{value:1})}catch{st=!1}return esDefineProperty=st,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var st=typeof Symbol<"u"&&Symbol,t=requireShams$1();return hasSymbols=function(){return typeof st!="function"||typeof Symbol!="function"||typeof st("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var st=requireEsObjectAtoms();return Object_getPrototypeOf=st.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var st="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,et=Math.max,ms="[object Function]",ws=function(Ts,Ss){for(var Rs=[],Bs=0;Bs<Ts.length;Bs+=1)Rs[Bs]=Ts[Bs];for(var Is=0;Is<Ss.length;Is+=1)Rs[Is+Ts.length]=Ss[Is];return Rs},vs=function(Ts,Ss){for(var Rs=[],Bs=Ss,Is=0;Bs<Ts.length;Bs+=1,Is+=1)Rs[Is]=Ts[Bs];return Rs},_s=function(Es,Ts){for(var Ss="",Rs=0;Rs<Es.length;Rs+=1)Ss+=Es[Rs],Rs+1<Es.length&&(Ss+=Ts);return Ss};return implementation=function(Ts){var Ss=this;if(typeof Ss!="function"||t.apply(Ss)!==ms)throw new TypeError(st+Ss);for(var Rs=vs(arguments,1),Bs,Is=function(){if(this instanceof Bs){var ha=Ss.apply(this,ws(Rs,arguments));return Object(ha)===ha?ha:this}return Ss.apply(Ts,ws(Rs,arguments))},Ws=et(0,Ss.length-Rs.length),Hs=[],Ns=0;Ns<Ws;Ns++)Hs[Ns]="$"+Ns;if(Bs=Function("binder","return function ("+_s(Hs,",")+"){ return binder.apply(this,arguments); }")(Is),Ss.prototype){var Js=function(){};Js.prototype=Ss.prototype,Bs.prototype=new Js,Js.prototype=null}return Bs},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var st=requireImplementation();return functionBind=Function.prototype.bind||st,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var st=requireFunctionBind(),t=requireFunctionApply(),et=requireFunctionCall(),ms=requireReflectApply();return actualApply=ms||st.call(et,t),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var st=requireFunctionBind(),t=requireType(),et=requireFunctionCall(),ms=requireActualApply();return callBindApplyHelpers=function(vs){if(vs.length<1||typeof vs[0]!="function")throw new t("a function is required");return ms(st,et,vs)},callBindApplyHelpers}var get$1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var st=requireCallBindApplyHelpers(),t=requireGopd(),et;try{et=[].__proto__===Array.prototype}catch(_s){if(!_s||typeof _s!="object"||!("code"in _s)||_s.code!=="ERR_PROTO_ACCESS")throw _s}var ms=!!et&&t&&t(Object.prototype,"__proto__"),ws=Object,vs=ws.getPrototypeOf;return get$1=ms&&typeof ms.get=="function"?st([ms.get]):typeof vs=="function"?function(Es){return vs(Es==null?Es:ws(Es))}:!1,get$1}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var st=requireReflect_getPrototypeOf(),t=requireObject_getPrototypeOf(),et=requireGet();return getProto=st?function(ws){return st(ws)}:t?function(ws){if(!ws||typeof ws!="object"&&typeof ws!="function")throw new TypeError("getProto: not an object");return t(ws)}:et?function(ws){return et(ws)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var st=Function.prototype.call,t=Object.prototype.hasOwnProperty,et=requireFunctionBind();return hasown=et.call(st,t),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var st,t=requireEsObjectAtoms(),et=requireEsErrors(),ms=require_eval(),ws=requireRange(),vs=requireRef(),_s=requireSyntax(),Es=requireType(),Ts=requireUri(),Ss=requireAbs(),Rs=requireFloor(),Bs=requireMax(),Is=requireMin(),Ws=requirePow(),Hs=requireRound(),Ns=requireSign$1(),Js=Function,ha=function(Tu){try{return Js('"use strict"; return ('+Tu+").constructor;")()}catch{}},pa=requireGopd(),za=requireEsDefineProperty(),Ya=function(){throw new Es},Bc=pa?function(){try{return arguments.callee,Ya}catch{try{return pa(arguments,"callee").get}catch{return Ya}}}():Ya,Qa=requireHasSymbols()(),tu=requireGetProto(),eu=requireObject_getPrototypeOf(),ru=requireReflect_getPrototypeOf(),cu=requireFunctionApply(),ou=requireFunctionCall(),Ga={},Xa=typeof Uint8Array>"u"||!tu?st:tu(Uint8Array),Fa={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?st:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?st:ArrayBuffer,"%ArrayIteratorPrototype%":Qa&&tu?tu([][Symbol.iterator]()):st,"%AsyncFromSyncIteratorPrototype%":st,"%AsyncFunction%":Ga,"%AsyncGenerator%":Ga,"%AsyncGeneratorFunction%":Ga,"%AsyncIteratorPrototype%":Ga,"%Atomics%":typeof Atomics>"u"?st:Atomics,"%BigInt%":typeof BigInt>"u"?st:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?st:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?st:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?st:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":et,"%eval%":eval,"%EvalError%":ms,"%Float16Array%":typeof Float16Array>"u"?st:Float16Array,"%Float32Array%":typeof Float32Array>"u"?st:Float32Array,"%Float64Array%":typeof Float64Array>"u"?st:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?st:FinalizationRegistry,"%Function%":Js,"%GeneratorFunction%":Ga,"%Int8Array%":typeof Int8Array>"u"?st:Int8Array,"%Int16Array%":typeof Int16Array>"u"?st:Int16Array,"%Int32Array%":typeof Int32Array>"u"?st:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qa&&tu?tu(tu([][Symbol.iterator]())):st,"%JSON%":typeof JSON=="object"?JSON:st,"%Map%":typeof Map>"u"?st:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qa||!tu?st:tu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":pa,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?st:Promise,"%Proxy%":typeof Proxy>"u"?st:Proxy,"%RangeError%":ws,"%ReferenceError%":vs,"%Reflect%":typeof Reflect>"u"?st:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?st:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qa||!tu?st:tu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?st:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qa&&tu?tu(""[Symbol.iterator]()):st,"%Symbol%":Qa?Symbol:st,"%SyntaxError%":_s,"%ThrowTypeError%":Bc,"%TypedArray%":Xa,"%TypeError%":Es,"%Uint8Array%":typeof Uint8Array>"u"?st:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?st:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?st:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?st:Uint32Array,"%URIError%":Ts,"%WeakMap%":typeof WeakMap>"u"?st:WeakMap,"%WeakRef%":typeof WeakRef>"u"?st:WeakRef,"%WeakSet%":typeof WeakSet>"u"?st:WeakSet,"%Function.prototype.call%":ou,"%Function.prototype.apply%":cu,"%Object.defineProperty%":za,"%Object.getPrototypeOf%":eu,"%Math.abs%":Ss,"%Math.floor%":Rs,"%Math.max%":Bs,"%Math.min%":Is,"%Math.pow%":Ws,"%Math.round%":Hs,"%Math.sign%":Ns,"%Reflect.getPrototypeOf%":ru};if(tu)try{null.error}catch(Tu){var Zs=tu(tu(Tu));Fa["%Error.prototype%"]=Zs}var Wa=function Tu(du){var wu;if(du==="%AsyncFunction%")wu=ha("async function () {}");else if(du==="%GeneratorFunction%")wu=ha("function* () {}");else if(du==="%AsyncGeneratorFunction%")wu=ha("async function* () {}");else if(du==="%AsyncGenerator%"){var Ru=Tu("%AsyncGeneratorFunction%");Ru&&(wu=Ru.prototype)}else if(du==="%AsyncIteratorPrototype%"){var Ku=Tu("%AsyncGenerator%");Ku&&tu&&(wu=tu(Ku.prototype))}return Fa[du]=wu,wu},Za={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},iu=requireFunctionBind(),au=requireHasown(),nu=iu.call(ou,Array.prototype.concat),uu=iu.call(cu,Array.prototype.splice),fu=iu.call(ou,String.prototype.replace),hu=iu.call(ou,String.prototype.slice),Eu=iu.call(ou,RegExp.prototype.exec),$u=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ou=/\\(\\)?/g,gu=function(du){var wu=hu(du,0,1),Ru=hu(du,-1);if(wu==="%"&&Ru!=="%")throw new _s("invalid intrinsic syntax, expected closing `%`");if(Ru==="%"&&wu!=="%")throw new _s("invalid intrinsic syntax, expected opening `%`");var Ku=[];return fu(du,$u,function(Zu,tl,sl,gl){Ku[Ku.length]=sl?fu(gl,Ou,"$1"):tl||Zu}),Ku},yu=function(du,wu){var Ru=du,Ku;if(au(Za,Ru)&&(Ku=Za[Ru],Ru="%"+Ku[0]+"%"),au(Fa,Ru)){var Zu=Fa[Ru];if(Zu===Ga&&(Zu=Wa(Ru)),typeof Zu>"u"&&!wu)throw new Es("intrinsic "+du+" exists, but is not available. Please file an issue!");return{alias:Ku,name:Ru,value:Zu}}throw new _s("intrinsic "+du+" does not exist!")};return getIntrinsic=function(du,wu){if(typeof du!="string"||du.length===0)throw new Es("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof wu!="boolean")throw new Es('"allowMissing" argument must be a boolean');if(Eu(/^%?[^%]*%?$/,du)===null)throw new _s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ru=gu(du),Ku=Ru.length>0?Ru[0]:"",Zu=yu("%"+Ku+"%",wu),tl=Zu.name,sl=Zu.value,gl=!1,Fu=Zu.alias;Fu&&(Ku=Fu[0],uu(Ru,nu([0,1],Fu)));for(var Mu=1,Ju=!0;Mu<Ru.length;Mu+=1){var vf=Ru[Mu],wf=hu(vf,0,1),el=hu(vf,-1);if((wf==='"'||wf==="'"||wf==="`"||el==='"'||el==="'"||el==="`")&&wf!==el)throw new _s("property names with quotes must have matching quotes");if((vf==="constructor"||!Ju)&&(gl=!0),Ku+="."+vf,tl="%"+Ku+"%",au(Fa,tl))sl=Fa[tl];else if(sl!=null){if(!(vf in sl)){if(!wu)throw new Es("base intrinsic for "+du+" exists, but the property is not available.");return}if(pa&&Mu+1>=Ru.length){var il=pa(sl,vf);Ju=!!il,Ju&&"get"in il&&!("originalValue"in il.get)?sl=il.get:sl=sl[vf]}else Ju=au(sl,vf),sl=sl[vf];Ju&&!gl&&(Fa[tl]=sl)}}return sl},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var st=requireGetIntrinsic(),t=requireCallBindApplyHelpers(),et=t([st("%String.prototype.indexOf%")]);return callBound=function(ws,vs){var _s=st(ws,!!vs);return typeof _s=="function"&&et(ws,".prototype.")>-1?t([_s]):_s},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var st=requireShams()(),t=requireCallBound(),et=t("Object.prototype.toString"),ms=function(Es){return st&&Es&&typeof Es=="object"&&Symbol.toStringTag in Es?!1:et(Es)==="[object Arguments]"},ws=function(Es){return ms(Es)?!0:Es!==null&&typeof Es=="object"&&"length"in Es&&typeof Es.length=="number"&&Es.length>=0&&et(Es)!=="[object Array]"&&"callee"in Es&&et(Es.callee)==="[object Function]"},vs=function(){return ms(arguments)}();return ms.isLegacyArguments=ws,isArguments=vs?ms:ws,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var st=requireCallBound(),t=requireShams()(),et=requireHasown(),ms=requireGopd(),ws;if(t){var vs=st("RegExp.prototype.exec"),_s={},Es=function(){throw _s},Ts={toString:Es,valueOf:Es};typeof Symbol.toPrimitive=="symbol"&&(Ts[Symbol.toPrimitive]=Es),ws=function(Is){if(!Is||typeof Is!="object")return!1;var Ws=ms(Is,"lastIndex"),Hs=Ws&&et(Ws,"value");if(!Hs)return!1;try{vs(Is,Ts)}catch(Ns){return Ns===_s}}}else{var Ss=st("Object.prototype.toString"),Rs="[object RegExp]";ws=function(Is){return!Is||typeof Is!="object"&&typeof Is!="function"?!1:Ss(Is)===Rs}}return isRegex=ws,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var st=requireCallBound(),t=requireIsRegex(),et=st("RegExp.prototype.exec"),ms=requireType();return safeRegexTest=function(vs){if(!t(vs))throw new ms("`regex` must be a RegExp");return function(Es){return et(vs,Es)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var st=requireCallBound(),t=requireSafeRegexTest(),et=t(/^\s*(?:function)?\*/),ms=requireShams()(),ws=requireGetProto(),vs=st("Object.prototype.toString"),_s=st("Function.prototype.toString"),Es=function(){if(!ms)return!1;try{return Function("return function*() {}")()}catch{}},Ts;return isGeneratorFunction=function(Rs){if(typeof Rs!="function")return!1;if(et(_s(Rs)))return!0;if(!ms){var Bs=vs(Rs);return Bs==="[object GeneratorFunction]"}if(!ws)return!1;if(typeof Ts>"u"){var Is=Es();Ts=Is?ws(Is):!1}return ws(Rs)===Ts},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var st=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,et,ms;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{et=Object.defineProperty({},"length",{get:function(){throw ms}}),ms={},t(function(){throw 42},null,et)}catch(pa){pa!==ms&&(t=null)}else t=null;var ws=/^\s*class\b/,vs=function(za){try{var Ya=st.call(za);return ws.test(Ya)}catch{return!1}},_s=function(za){try{return vs(za)?!1:(st.call(za),!0)}catch{return!1}},Es=Object.prototype.toString,Ts="[object Object]",Ss="[object Function]",Rs="[object GeneratorFunction]",Bs="[object HTMLAllCollection]",Is="[object HTML document.all class]",Ws="[object HTMLCollection]",Hs=typeof Symbol=="function"&&!!Symbol.toStringTag,Ns=!(0 in[,]),Js=function(){return!1};if(typeof document=="object"){var ha=document.all;Es.call(ha)===Es.call(document.all)&&(Js=function(za){if((Ns||!za)&&(typeof za>"u"||typeof za=="object"))try{var Ya=Es.call(za);return(Ya===Bs||Ya===Is||Ya===Ws||Ya===Ts)&&za("")==null}catch{}return!1})}return isCallable=t?function(za){if(Js(za))return!0;if(!za||typeof za!="function"&&typeof za!="object")return!1;try{t(za,null,et)}catch(Ya){if(Ya!==ms)return!1}return!vs(za)&&_s(za)}:function(za){if(Js(za))return!0;if(!za||typeof za!="function"&&typeof za!="object")return!1;if(Hs)return _s(za);if(vs(za))return!1;var Ya=Es.call(za);return Ya!==Ss&&Ya!==Rs&&!/^\[object HTML/.test(Ya)?!1:_s(za)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var st=requireIsCallable(),t=Object.prototype.toString,et=Object.prototype.hasOwnProperty,ms=function(Ts,Ss,Rs){for(var Bs=0,Is=Ts.length;Bs<Is;Bs++)et.call(Ts,Bs)&&(Rs==null?Ss(Ts[Bs],Bs,Ts):Ss.call(Rs,Ts[Bs],Bs,Ts))},ws=function(Ts,Ss,Rs){for(var Bs=0,Is=Ts.length;Bs<Is;Bs++)Rs==null?Ss(Ts.charAt(Bs),Bs,Ts):Ss.call(Rs,Ts.charAt(Bs),Bs,Ts)},vs=function(Ts,Ss,Rs){for(var Bs in Ts)et.call(Ts,Bs)&&(Rs==null?Ss(Ts[Bs],Bs,Ts):Ss.call(Rs,Ts[Bs],Bs,Ts))};function _s(Es){return t.call(Es)==="[object Array]"}return forEach=function(Ts,Ss,Rs){if(!st(Ss))throw new TypeError("iterator must be a function");var Bs;arguments.length>=3&&(Bs=Rs),_s(Ts)?ms(Ts,Ss,Bs):typeof Ts=="string"?ws(Ts,Ss,Bs):vs(Ts,Ss,Bs)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var st=requirePossibleTypedArrayNames(),t=typeof globalThis>"u"?window:globalThis;return availableTypedArrays=function(){for(var ms=[],ws=0;ws<st.length;ws++)typeof t[st[ws]]=="function"&&(ms[ms.length]=st[ws]);return ms},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var st=requireEsDefineProperty(),t=requireSyntax(),et=requireType(),ms=requireGopd();return defineDataProperty=function(vs,_s,Es){if(!vs||typeof vs!="object"&&typeof vs!="function")throw new et("`obj` must be an object or a function`");if(typeof _s!="string"&&typeof _s!="symbol")throw new et("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new et("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new et("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new et("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new et("`loose`, if provided, must be a boolean");var Ts=arguments.length>3?arguments[3]:null,Ss=arguments.length>4?arguments[4]:null,Rs=arguments.length>5?arguments[5]:null,Bs=arguments.length>6?arguments[6]:!1,Is=!!ms&&ms(vs,_s);if(st)st(vs,_s,{configurable:Rs===null&&Is?Is.configurable:!Rs,enumerable:Ts===null&&Is?Is.enumerable:!Ts,value:Es,writable:Ss===null&&Is?Is.writable:!Ss});else if(Bs||!Ts&&!Ss&&!Rs)vs[_s]=Es;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var st=requireEsDefineProperty(),t=function(){return!!st};return t.hasArrayLengthDefineBug=function(){if(!st)return null;try{return st([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=t,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var st=requireGetIntrinsic(),t=requireDefineDataProperty(),et=requireHasPropertyDescriptors()(),ms=requireGopd(),ws=requireType(),vs=st("%Math.floor%");return setFunctionLength=function(Es,Ts){if(typeof Es!="function")throw new ws("`fn` is not a function");if(typeof Ts!="number"||Ts<0||Ts>4294967295||vs(Ts)!==Ts)throw new ws("`length` must be a positive 32-bit integer");var Ss=arguments.length>2&&!!arguments[2],Rs=!0,Bs=!0;if("length"in Es&&ms){var Is=ms(Es,"length");Is&&!Is.configurable&&(Rs=!1),Is&&!Is.writable&&(Bs=!1)}return(Rs||Bs||!Ss)&&(et?t(Es,"length",Ts,!0,!0):t(Es,"length",Ts)),Es},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var st=requireFunctionBind(),t=requireFunctionApply(),et=requireActualApply();return applyBind=function(){return et(st,t,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(st){var t=requireSetFunctionLength(),et=requireEsDefineProperty(),ms=requireCallBindApplyHelpers(),ws=requireApplyBind();st.exports=function(_s){var Es=ms(arguments),Ts=_s.length-(arguments.length-1);return t(Es,1+(Ts>0?Ts:0),!0)},et?et(st.exports,"apply",{value:ws}):st.exports.apply=ws}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var st=requireForEach(),t=requireAvailableTypedArrays(),et=requireCallBind(),ms=requireCallBound(),ws=requireGopd(),vs=requireGetProto(),_s=ms("Object.prototype.toString"),Es=requireShams()(),Ts=typeof globalThis>"u"?window:globalThis,Ss=t(),Rs=ms("String.prototype.slice"),Bs=ms("Array.prototype.indexOf",!0)||function(Js,ha){for(var pa=0;pa<Js.length;pa+=1)if(Js[pa]===ha)return pa;return-1},Is={__proto__:null};Es&&ws&&vs?st(Ss,function(Ns){var Js=new Ts[Ns];if(Symbol.toStringTag in Js&&vs){var ha=vs(Js),pa=ws(ha,Symbol.toStringTag);if(!pa&&ha){var za=vs(ha);pa=ws(za,Symbol.toStringTag)}Is["$"+Ns]=et(pa.get)}}):st(Ss,function(Ns){var Js=new Ts[Ns],ha=Js.slice||Js.set;ha&&(Is["$"+Ns]=et(ha))});var Ws=function(Js){var ha=!1;return st(Is,function(pa,za){if(!ha)try{"$"+pa(Js)===za&&(ha=Rs(za,1))}catch{}}),ha},Hs=function(Js){var ha=!1;return st(Is,function(pa,za){if(!ha)try{pa(Js),ha=Rs(za,1)}catch{}}),ha};return whichTypedArray=function(Js){if(!Js||typeof Js!="object")return!1;if(!Es){var ha=Rs(_s(Js),8,-1);return Bs(Ss,ha)>-1?ha:ha!=="Object"?!1:Hs(Js)}return ws?Ws(Js):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var st=requireWhichTypedArray();return isTypedArray=function(et){return!!st(et)},isTypedArray}var hasRequiredTypes$2;function requireTypes$2(){return hasRequiredTypes$2||(hasRequiredTypes$2=1,function(st){var t=requireIsArguments(),et=requireIsGeneratorFunction(),ms=requireWhichTypedArray(),ws=requireIsTypedArray();function vs(Mu){return Mu.call.bind(Mu)}var _s=typeof BigInt<"u",Es=typeof Symbol<"u",Ts=vs(Object.prototype.toString),Ss=vs(Number.prototype.valueOf),Rs=vs(String.prototype.valueOf),Bs=vs(Boolean.prototype.valueOf);if(_s)var Is=vs(BigInt.prototype.valueOf);if(Es)var Ws=vs(Symbol.prototype.valueOf);function Hs(Mu,Ju){if(typeof Mu!="object")return!1;try{return Ju(Mu),!0}catch{return!1}}st.isArgumentsObject=t,st.isGeneratorFunction=et,st.isTypedArray=ws;function Ns(Mu){return typeof Promise<"u"&&Mu instanceof Promise||Mu!==null&&typeof Mu=="object"&&typeof Mu.then=="function"&&typeof Mu.catch=="function"}st.isPromise=Ns;function Js(Mu){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Mu):ws(Mu)||hu(Mu)}st.isArrayBufferView=Js;function ha(Mu){return ms(Mu)==="Uint8Array"}st.isUint8Array=ha;function pa(Mu){return ms(Mu)==="Uint8ClampedArray"}st.isUint8ClampedArray=pa;function za(Mu){return ms(Mu)==="Uint16Array"}st.isUint16Array=za;function Ya(Mu){return ms(Mu)==="Uint32Array"}st.isUint32Array=Ya;function Bc(Mu){return ms(Mu)==="Int8Array"}st.isInt8Array=Bc;function Qa(Mu){return ms(Mu)==="Int16Array"}st.isInt16Array=Qa;function tu(Mu){return ms(Mu)==="Int32Array"}st.isInt32Array=tu;function eu(Mu){return ms(Mu)==="Float32Array"}st.isFloat32Array=eu;function ru(Mu){return ms(Mu)==="Float64Array"}st.isFloat64Array=ru;function cu(Mu){return ms(Mu)==="BigInt64Array"}st.isBigInt64Array=cu;function ou(Mu){return ms(Mu)==="BigUint64Array"}st.isBigUint64Array=ou;function Ga(Mu){return Ts(Mu)==="[object Map]"}Ga.working=typeof Map<"u"&&Ga(new Map);function Xa(Mu){return typeof Map>"u"?!1:Ga.working?Ga(Mu):Mu instanceof Map}st.isMap=Xa;function Fa(Mu){return Ts(Mu)==="[object Set]"}Fa.working=typeof Set<"u"&&Fa(new Set);function Zs(Mu){return typeof Set>"u"?!1:Fa.working?Fa(Mu):Mu instanceof Set}st.isSet=Zs;function Wa(Mu){return Ts(Mu)==="[object WeakMap]"}Wa.working=typeof WeakMap<"u"&&Wa(new WeakMap);function Za(Mu){return typeof WeakMap>"u"?!1:Wa.working?Wa(Mu):Mu instanceof WeakMap}st.isWeakMap=Za;function iu(Mu){return Ts(Mu)==="[object WeakSet]"}iu.working=typeof WeakSet<"u"&&iu(new WeakSet);function au(Mu){return iu(Mu)}st.isWeakSet=au;function nu(Mu){return Ts(Mu)==="[object ArrayBuffer]"}nu.working=typeof ArrayBuffer<"u"&&nu(new ArrayBuffer);function uu(Mu){return typeof ArrayBuffer>"u"?!1:nu.working?nu(Mu):Mu instanceof ArrayBuffer}st.isArrayBuffer=uu;function fu(Mu){return Ts(Mu)==="[object DataView]"}fu.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&fu(new DataView(new ArrayBuffer(1),0,1));function hu(Mu){return typeof DataView>"u"?!1:fu.working?fu(Mu):Mu instanceof DataView}st.isDataView=hu;var Eu=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function $u(Mu){return Ts(Mu)==="[object SharedArrayBuffer]"}function Ou(Mu){return typeof Eu>"u"?!1:(typeof $u.working>"u"&&($u.working=$u(new Eu)),$u.working?$u(Mu):Mu instanceof Eu)}st.isSharedArrayBuffer=Ou;function gu(Mu){return Ts(Mu)==="[object AsyncFunction]"}st.isAsyncFunction=gu;function yu(Mu){return Ts(Mu)==="[object Map Iterator]"}st.isMapIterator=yu;function Tu(Mu){return Ts(Mu)==="[object Set Iterator]"}st.isSetIterator=Tu;function du(Mu){return Ts(Mu)==="[object Generator]"}st.isGeneratorObject=du;function wu(Mu){return Ts(Mu)==="[object WebAssembly.Module]"}st.isWebAssemblyCompiledModule=wu;function Ru(Mu){return Hs(Mu,Ss)}st.isNumberObject=Ru;function Ku(Mu){return Hs(Mu,Rs)}st.isStringObject=Ku;function Zu(Mu){return Hs(Mu,Bs)}st.isBooleanObject=Zu;function tl(Mu){return _s&&Hs(Mu,Is)}st.isBigIntObject=tl;function sl(Mu){return Es&&Hs(Mu,Ws)}st.isSymbolObject=sl;function gl(Mu){return Ru(Mu)||Ku(Mu)||Zu(Mu)||tl(Mu)||sl(Mu)}st.isBoxedPrimitive=gl;function Fu(Mu){return typeof Uint8Array<"u"&&(uu(Mu)||Ou(Mu))}st.isAnyArrayBuffer=Fu,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Mu){Object.defineProperty(st,Mu,{enumerable:!1,value:function(){throw new Error(Mu+" is not supported in userland")}})})}(types$2)),types$2}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$2;function requireUtil$2(){return hasRequiredUtil$2||(hasRequiredUtil$2=1,function(st){var t={},et=Object.getOwnPropertyDescriptors||function(Eu){for(var $u=Object.keys(Eu),Ou={},gu=0;gu<$u.length;gu++)Ou[$u[gu]]=Object.getOwnPropertyDescriptor(Eu,$u[gu]);return Ou},ms=/%[sdj%]/g;st.format=function(hu){if(!Qa(hu)){for(var Eu=[],$u=0;$u<arguments.length;$u++)Eu.push(Es(arguments[$u]));return Eu.join(" ")}for(var $u=1,Ou=arguments,gu=Ou.length,yu=String(hu).replace(ms,function(du){if(du==="%%")return"%";if($u>=gu)return du;switch(du){case"%s":return String(Ou[$u++]);case"%d":return Number(Ou[$u++]);case"%j":try{return JSON.stringify(Ou[$u++])}catch{return"[Circular]"}default:return du}}),Tu=Ou[$u];$u<gu;Tu=Ou[++$u])za(Tu)||!cu(Tu)?yu+=" "+Tu:yu+=" "+Es(Tu);return yu},st.deprecate=function(hu,Eu){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return hu;if(typeof process$1>"u")return function(){return st.deprecate(hu,Eu).apply(this,arguments)};var $u=!1;function Ou(){if(!$u){if(process$1.throwDeprecation)throw new Error(Eu);process$1.traceDeprecation?console.trace(Eu):console.error(Eu),$u=!0}return hu.apply(this,arguments)}return Ou};var ws={},vs=/^$/;if(t.NODE_DEBUG){var _s=t.NODE_DEBUG;_s=_s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),vs=new RegExp("^"+_s+"$","i")}st.debuglog=function(hu){if(hu=hu.toUpperCase(),!ws[hu])if(vs.test(hu)){var Eu=process$1.pid;ws[hu]=function(){var $u=st.format.apply(st,arguments);console.error("%s %d: %s",hu,Eu,$u)}}else ws[hu]=function(){};return ws[hu]};function Es(hu,Eu){var $u={seen:[],stylize:Ss};return arguments.length>=3&&($u.depth=arguments[2]),arguments.length>=4&&($u.colors=arguments[3]),pa(Eu)?$u.showHidden=Eu:Eu&&st._extend($u,Eu),eu($u.showHidden)&&($u.showHidden=!1),eu($u.depth)&&($u.depth=2),eu($u.colors)&&($u.colors=!1),eu($u.customInspect)&&($u.customInspect=!0),$u.colors&&($u.stylize=Ts),Bs($u,hu,$u.depth)}st.inspect=Es,Es.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Es.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Ts(hu,Eu){var $u=Es.styles[Eu];return $u?"\x1B["+Es.colors[$u][0]+"m"+hu+"\x1B["+Es.colors[$u][1]+"m":hu}function Ss(hu,Eu){return hu}function Rs(hu){var Eu={};return hu.forEach(function($u,Ou){Eu[$u]=!0}),Eu}function Bs(hu,Eu,$u){if(hu.customInspect&&Eu&&Xa(Eu.inspect)&&Eu.inspect!==st.inspect&&!(Eu.constructor&&Eu.constructor.prototype===Eu)){var Ou=Eu.inspect($u,hu);return Qa(Ou)||(Ou=Bs(hu,Ou,$u)),Ou}var gu=Is(hu,Eu);if(gu)return gu;var yu=Object.keys(Eu),Tu=Rs(yu);if(hu.showHidden&&(yu=Object.getOwnPropertyNames(Eu)),Ga(Eu)&&(yu.indexOf("message")>=0||yu.indexOf("description")>=0))return Ws(Eu);if(yu.length===0){if(Xa(Eu)){var du=Eu.name?": "+Eu.name:"";return hu.stylize("[Function"+du+"]","special")}if(ru(Eu))return hu.stylize(RegExp.prototype.toString.call(Eu),"regexp");if(ou(Eu))return hu.stylize(Date.prototype.toString.call(Eu),"date");if(Ga(Eu))return Ws(Eu)}var wu="",Ru=!1,Ku=["{","}"];if(ha(Eu)&&(Ru=!0,Ku=["[","]"]),Xa(Eu)){var Zu=Eu.name?": "+Eu.name:"";wu=" [Function"+Zu+"]"}if(ru(Eu)&&(wu=" "+RegExp.prototype.toString.call(Eu)),ou(Eu)&&(wu=" "+Date.prototype.toUTCString.call(Eu)),Ga(Eu)&&(wu=" "+Ws(Eu)),yu.length===0&&(!Ru||Eu.length==0))return Ku[0]+wu+Ku[1];if($u<0)return ru(Eu)?hu.stylize(RegExp.prototype.toString.call(Eu),"regexp"):hu.stylize("[Object]","special");hu.seen.push(Eu);var tl;return Ru?tl=Hs(hu,Eu,$u,Tu,yu):tl=yu.map(function(sl){return Ns(hu,Eu,$u,Tu,sl,Ru)}),hu.seen.pop(),Js(tl,wu,Ku)}function Is(hu,Eu){if(eu(Eu))return hu.stylize("undefined","undefined");if(Qa(Eu)){var $u="'"+JSON.stringify(Eu).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return hu.stylize($u,"string")}if(Bc(Eu))return hu.stylize(""+Eu,"number");if(pa(Eu))return hu.stylize(""+Eu,"boolean");if(za(Eu))return hu.stylize("null","null")}function Ws(hu){return"["+Error.prototype.toString.call(hu)+"]"}function Hs(hu,Eu,$u,Ou,gu){for(var yu=[],Tu=0,du=Eu.length;Tu<du;++Tu)au(Eu,String(Tu))?yu.push(Ns(hu,Eu,$u,Ou,String(Tu),!0)):yu.push("");return gu.forEach(function(wu){wu.match(/^\d+$/)||yu.push(Ns(hu,Eu,$u,Ou,wu,!0))}),yu}function Ns(hu,Eu,$u,Ou,gu,yu){var Tu,du,wu;if(wu=Object.getOwnPropertyDescriptor(Eu,gu)||{value:Eu[gu]},wu.get?wu.set?du=hu.stylize("[Getter/Setter]","special"):du=hu.stylize("[Getter]","special"):wu.set&&(du=hu.stylize("[Setter]","special")),au(Ou,gu)||(Tu="["+gu+"]"),du||(hu.seen.indexOf(wu.value)<0?(za($u)?du=Bs(hu,wu.value,null):du=Bs(hu,wu.value,$u-1),du.indexOf(`
`)>-1&&(yu?du=du.split(`
`).map(function(Ru){return"  "+Ru}).join(`
`).slice(2):du=`
`+du.split(`
`).map(function(Ru){return"   "+Ru}).join(`
`))):du=hu.stylize("[Circular]","special")),eu(Tu)){if(yu&&gu.match(/^\d+$/))return du;Tu=JSON.stringify(""+gu),Tu.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Tu=Tu.slice(1,-1),Tu=hu.stylize(Tu,"name")):(Tu=Tu.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Tu=hu.stylize(Tu,"string"))}return Tu+": "+du}function Js(hu,Eu,$u){var Ou=hu.reduce(function(gu,yu){return yu.indexOf(`
`)>=0,gu+yu.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ou>60?$u[0]+(Eu===""?"":Eu+`
 `)+" "+hu.join(`,
  `)+" "+$u[1]:$u[0]+Eu+" "+hu.join(", ")+" "+$u[1]}st.types=requireTypes$2();function ha(hu){return Array.isArray(hu)}st.isArray=ha;function pa(hu){return typeof hu=="boolean"}st.isBoolean=pa;function za(hu){return hu===null}st.isNull=za;function Ya(hu){return hu==null}st.isNullOrUndefined=Ya;function Bc(hu){return typeof hu=="number"}st.isNumber=Bc;function Qa(hu){return typeof hu=="string"}st.isString=Qa;function tu(hu){return typeof hu=="symbol"}st.isSymbol=tu;function eu(hu){return hu===void 0}st.isUndefined=eu;function ru(hu){return cu(hu)&&Zs(hu)==="[object RegExp]"}st.isRegExp=ru,st.types.isRegExp=ru;function cu(hu){return typeof hu=="object"&&hu!==null}st.isObject=cu;function ou(hu){return cu(hu)&&Zs(hu)==="[object Date]"}st.isDate=ou,st.types.isDate=ou;function Ga(hu){return cu(hu)&&(Zs(hu)==="[object Error]"||hu instanceof Error)}st.isError=Ga,st.types.isNativeError=Ga;function Xa(hu){return typeof hu=="function"}st.isFunction=Xa;function Fa(hu){return hu===null||typeof hu=="boolean"||typeof hu=="number"||typeof hu=="string"||typeof hu=="symbol"||typeof hu>"u"}st.isPrimitive=Fa,st.isBuffer=requireIsBufferBrowser();function Zs(hu){return Object.prototype.toString.call(hu)}function Wa(hu){return hu<10?"0"+hu.toString(10):hu.toString(10)}var Za=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function iu(){var hu=new Date,Eu=[Wa(hu.getHours()),Wa(hu.getMinutes()),Wa(hu.getSeconds())].join(":");return[hu.getDate(),Za[hu.getMonth()],Eu].join(" ")}st.log=function(){console.log("%s - %s",iu(),st.format.apply(st,arguments))},st.inherits=requireInherits_browser(),st._extend=function(hu,Eu){if(!Eu||!cu(Eu))return hu;for(var $u=Object.keys(Eu),Ou=$u.length;Ou--;)hu[$u[Ou]]=Eu[$u[Ou]];return hu};function au(hu,Eu){return Object.prototype.hasOwnProperty.call(hu,Eu)}var nu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;st.promisify=function(Eu){if(typeof Eu!="function")throw new TypeError('The "original" argument must be of type Function');if(nu&&Eu[nu]){var $u=Eu[nu];if(typeof $u!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($u,nu,{value:$u,enumerable:!1,writable:!1,configurable:!0}),$u}function $u(){for(var Ou,gu,yu=new Promise(function(wu,Ru){Ou=wu,gu=Ru}),Tu=[],du=0;du<arguments.length;du++)Tu.push(arguments[du]);Tu.push(function(wu,Ru){wu?gu(wu):Ou(Ru)});try{Eu.apply(this,Tu)}catch(wu){gu(wu)}return yu}return Object.setPrototypeOf($u,Object.getPrototypeOf(Eu)),nu&&Object.defineProperty($u,nu,{value:$u,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($u,et(Eu))},st.promisify.custom=nu;function uu(hu,Eu){if(!hu){var $u=new Error("Promise was rejected with a falsy value");$u.reason=hu,hu=$u}return Eu(hu)}function fu(hu){if(typeof hu!="function")throw new TypeError('The "original" argument must be of type Function');function Eu(){for(var $u=[],Ou=0;Ou<arguments.length;Ou++)$u.push(arguments[Ou]);var gu=$u.pop();if(typeof gu!="function")throw new TypeError("The last argument must be of type Function");var yu=this,Tu=function(){return gu.apply(yu,arguments)};hu.apply(this,$u).then(function(du){process$1.nextTick(Tu.bind(null,null,du))},function(du){process$1.nextTick(uu.bind(null,du,Tu))})}return Object.setPrototypeOf(Eu,Object.getPrototypeOf(hu)),Object.defineProperties(Eu,et(hu)),Eu}st.callbackify=fu}(util$2)),util$2}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function st(Hs,Ns){var Js=Object.keys(Hs);if(Object.getOwnPropertySymbols){var ha=Object.getOwnPropertySymbols(Hs);Ns&&(ha=ha.filter(function(pa){return Object.getOwnPropertyDescriptor(Hs,pa).enumerable})),Js.push.apply(Js,ha)}return Js}function t(Hs){for(var Ns=1;Ns<arguments.length;Ns++){var Js=arguments[Ns]!=null?arguments[Ns]:{};Ns%2?st(Object(Js),!0).forEach(function(ha){et(Hs,ha,Js[ha])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Hs,Object.getOwnPropertyDescriptors(Js)):st(Object(Js)).forEach(function(ha){Object.defineProperty(Hs,ha,Object.getOwnPropertyDescriptor(Js,ha))})}return Hs}function et(Hs,Ns,Js){return Ns=_s(Ns),Ns in Hs?Object.defineProperty(Hs,Ns,{value:Js,enumerable:!0,configurable:!0,writable:!0}):Hs[Ns]=Js,Hs}function ms(Hs,Ns){if(!(Hs instanceof Ns))throw new TypeError("Cannot call a class as a function")}function ws(Hs,Ns){for(var Js=0;Js<Ns.length;Js++){var ha=Ns[Js];ha.enumerable=ha.enumerable||!1,ha.configurable=!0,"value"in ha&&(ha.writable=!0),Object.defineProperty(Hs,_s(ha.key),ha)}}function vs(Hs,Ns,Js){return Ns&&ws(Hs.prototype,Ns),Object.defineProperty(Hs,"prototype",{writable:!1}),Hs}function _s(Hs){var Ns=Es(Hs,"string");return typeof Ns=="symbol"?Ns:String(Ns)}function Es(Hs,Ns){if(typeof Hs!="object"||Hs===null)return Hs;var Js=Hs[Symbol.toPrimitive];if(Js!==void 0){var ha=Js.call(Hs,Ns);if(typeof ha!="object")return ha;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Hs)}var Ts=requireDist(),Ss=Ts.Buffer,Rs=requireUtil$2(),Bs=Rs.inspect,Is=Bs&&Bs.custom||"inspect";function Ws(Hs,Ns,Js){Ss.prototype.copy.call(Hs,Ns,Js)}return buffer_list=function(){function Hs(){ms(this,Hs),this.head=null,this.tail=null,this.length=0}return vs(Hs,[{key:"push",value:function(Js){var ha={data:Js,next:null};this.length>0?this.tail.next=ha:this.head=ha,this.tail=ha,++this.length}},{key:"unshift",value:function(Js){var ha={data:Js,next:this.head};this.length===0&&(this.tail=ha),this.head=ha,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Js=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Js}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Js){if(this.length===0)return"";for(var ha=this.head,pa=""+ha.data;ha=ha.next;)pa+=Js+ha.data;return pa}},{key:"concat",value:function(Js){if(this.length===0)return Ss.alloc(0);for(var ha=Ss.allocUnsafe(Js>>>0),pa=this.head,za=0;pa;)Ws(pa.data,ha,za),za+=pa.data.length,pa=pa.next;return ha}},{key:"consume",value:function(Js,ha){var pa;return Js<this.head.data.length?(pa=this.head.data.slice(0,Js),this.head.data=this.head.data.slice(Js)):Js===this.head.data.length?pa=this.shift():pa=ha?this._getString(Js):this._getBuffer(Js),pa}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Js){var ha=this.head,pa=1,za=ha.data;for(Js-=za.length;ha=ha.next;){var Ya=ha.data,Bc=Js>Ya.length?Ya.length:Js;if(Bc===Ya.length?za+=Ya:za+=Ya.slice(0,Js),Js-=Bc,Js===0){Bc===Ya.length?(++pa,ha.next?this.head=ha.next:this.head=this.tail=null):(this.head=ha,ha.data=Ya.slice(Bc));break}++pa}return this.length-=pa,za}},{key:"_getBuffer",value:function(Js){var ha=Ss.allocUnsafe(Js),pa=this.head,za=1;for(pa.data.copy(ha),Js-=pa.data.length;pa=pa.next;){var Ya=pa.data,Bc=Js>Ya.length?Ya.length:Js;if(Ya.copy(ha,ha.length-Js,0,Bc),Js-=Bc,Js===0){Bc===Ya.length?(++za,pa.next?this.head=pa.next:this.head=this.tail=null):(this.head=pa,pa.data=Ya.slice(Bc));break}++za}return this.length-=za,ha}},{key:Is,value:function(Js,ha){return Bs(this,t(t({},ha),{},{depth:0,customInspect:!1}))}}]),Hs}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function st(_s,Es){var Ts=this,Ss=this._readableState&&this._readableState.destroyed,Rs=this._writableState&&this._writableState.destroyed;return Ss||Rs?(Es?Es(_s):_s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(ws,this,_s)):process$1.nextTick(ws,this,_s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_s||null,function(Bs){!Es&&Bs?Ts._writableState?Ts._writableState.errorEmitted?process$1.nextTick(et,Ts):(Ts._writableState.errorEmitted=!0,process$1.nextTick(t,Ts,Bs)):process$1.nextTick(t,Ts,Bs):Es?(process$1.nextTick(et,Ts),Es(Bs)):process$1.nextTick(et,Ts)}),this)}function t(_s,Es){ws(_s,Es),et(_s)}function et(_s){_s._writableState&&!_s._writableState.emitClose||_s._readableState&&!_s._readableState.emitClose||_s.emit("close")}function ms(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ws(_s,Es){_s.emit("error",Es)}function vs(_s,Es){var Ts=_s._readableState,Ss=_s._writableState;Ts&&Ts.autoDestroy||Ss&&Ss.autoDestroy?_s.destroy(Es):_s.emit("error",Es)}return destroy_1$1={destroy:st,undestroy:ms,errorOrDestroy:vs},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function st(Es,Ts){Es.prototype=Object.create(Ts.prototype),Es.prototype.constructor=Es,Es.__proto__=Ts}var t={};function et(Es,Ts,Ss){Ss||(Ss=Error);function Rs(Is,Ws,Hs){return typeof Ts=="string"?Ts:Ts(Is,Ws,Hs)}var Bs=function(Is){st(Ws,Is);function Ws(Hs,Ns,Js){return Is.call(this,Rs(Hs,Ns,Js))||this}return Ws}(Ss);Bs.prototype.name=Ss.name,Bs.prototype.code=Es,t[Es]=Bs}function ms(Es,Ts){if(Array.isArray(Es)){var Ss=Es.length;return Es=Es.map(function(Rs){return String(Rs)}),Ss>2?"one of ".concat(Ts," ").concat(Es.slice(0,Ss-1).join(", "),", or ")+Es[Ss-1]:Ss===2?"one of ".concat(Ts," ").concat(Es[0]," or ").concat(Es[1]):"of ".concat(Ts," ").concat(Es[0])}else return"of ".concat(Ts," ").concat(String(Es))}function ws(Es,Ts,Ss){return Es.substr(0,Ts.length)===Ts}function vs(Es,Ts,Ss){return(Ss===void 0||Ss>Es.length)&&(Ss=Es.length),Es.substring(Ss-Ts.length,Ss)===Ts}function _s(Es,Ts,Ss){return typeof Ss!="number"&&(Ss=0),Ss+Ts.length>Es.length?!1:Es.indexOf(Ts,Ss)!==-1}return et("ERR_INVALID_OPT_VALUE",function(Es,Ts){return'The value "'+Ts+'" is invalid for option "'+Es+'"'},TypeError),et("ERR_INVALID_ARG_TYPE",function(Es,Ts,Ss){var Rs;typeof Ts=="string"&&ws(Ts,"not ")?(Rs="must not be",Ts=Ts.replace(/^not /,"")):Rs="must be";var Bs;if(vs(Es," argument"))Bs="The ".concat(Es," ").concat(Rs," ").concat(ms(Ts,"type"));else{var Is=_s(Es,".")?"property":"argument";Bs='The "'.concat(Es,'" ').concat(Is," ").concat(Rs," ").concat(ms(Ts,"type"))}return Bs+=". Received type ".concat(typeof Ss),Bs},TypeError),et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),et("ERR_METHOD_NOT_IMPLEMENTED",function(Es){return"The "+Es+" method is not implemented"}),et("ERR_STREAM_PREMATURE_CLOSE","Premature close"),et("ERR_STREAM_DESTROYED",function(Es){return"Cannot call "+Es+" after a stream was destroyed"}),et("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),et("ERR_STREAM_WRITE_AFTER_END","write after end"),et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),et("ERR_UNKNOWN_ENCODING",function(Es){return"Unknown encoding: "+Es},TypeError),et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=t,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var st=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function t(ms,ws,vs){return ms.highWaterMark!=null?ms.highWaterMark:ws?ms[vs]:null}function et(ms,ws,vs,_s){var Es=t(ws,_s,vs);if(Es!=null){if(!(isFinite(Es)&&Math.floor(Es)===Es)||Es<0){var Ts=_s?vs:"highWaterMark";throw new st(Ts,Es)}return Math.floor(Es)}return ms.objectMode?16:16*1024}return state={getHighWaterMark:et},state}var browser$c,hasRequiredBrowser$c;function requireBrowser$c(){if(hasRequiredBrowser$c)return browser$c;hasRequiredBrowser$c=1,browser$c=st;function st(et,ms){if(t("noDeprecation"))return et;var ws=!1;function vs(){if(!ws){if(t("throwDeprecation"))throw new Error(ms);t("traceDeprecation")?console.trace(ms):console.warn(ms),ws=!0}return et.apply(this,arguments)}return vs}function t(et){try{if(!window.localStorage)return!1}catch{return!1}var ms=window.localStorage[et];return ms==null?!1:String(ms).toLowerCase()==="true"}return browser$c}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=eu;function st(Ou){var gu=this;this.next=null,this.entry=null,this.finish=function(){$u(gu,Ou)}}var t;eu.WritableState=Qa;var et={deprecate:requireBrowser$c()},ms=requireStreamBrowser$1(),ws=requireDist().Buffer,vs=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _s(Ou){return ws.from(Ou)}function Es(Ou){return ws.isBuffer(Ou)||Ou instanceof vs}var Ts=requireDestroy$1(),Ss=requireState(),Rs=Ss.getHighWaterMark,Bs=requireErrorsBrowser().codes,Is=Bs.ERR_INVALID_ARG_TYPE,Ws=Bs.ERR_METHOD_NOT_IMPLEMENTED,Hs=Bs.ERR_MULTIPLE_CALLBACK,Ns=Bs.ERR_STREAM_CANNOT_PIPE,Js=Bs.ERR_STREAM_DESTROYED,ha=Bs.ERR_STREAM_NULL_VALUES,pa=Bs.ERR_STREAM_WRITE_AFTER_END,za=Bs.ERR_UNKNOWN_ENCODING,Ya=Ts.errorOrDestroy;requireInherits_browser()(eu,ms);function Bc(){}function Qa(Ou,gu,yu){t=t||require_stream_duplex$1(),Ou=Ou||{},typeof yu!="boolean"&&(yu=gu instanceof t),this.objectMode=!!Ou.objectMode,yu&&(this.objectMode=this.objectMode||!!Ou.writableObjectMode),this.highWaterMark=Rs(this,Ou,"writableHighWaterMark",yu),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Tu=Ou.decodeStrings===!1;this.decodeStrings=!Tu,this.defaultEncoding=Ou.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(du){Wa(gu,du)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ou.emitClose!==!1,this.autoDestroy=!!Ou.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new st(this)}Qa.prototype.getBuffer=function(){for(var gu=this.bufferedRequest,yu=[];gu;)yu.push(gu),gu=gu.next;return yu},function(){try{Object.defineProperty(Qa.prototype,"buffer",{get:et.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var tu;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(tu=Function.prototype[Symbol.hasInstance],Object.defineProperty(eu,Symbol.hasInstance,{value:function(gu){return tu.call(this,gu)?!0:this!==eu?!1:gu&&gu._writableState instanceof Qa}})):tu=function(gu){return gu instanceof this};function eu(Ou){t=t||require_stream_duplex$1();var gu=this instanceof t;if(!gu&&!tu.call(eu,this))return new eu(Ou);this._writableState=new Qa(Ou,this,gu),this.writable=!0,Ou&&(typeof Ou.write=="function"&&(this._write=Ou.write),typeof Ou.writev=="function"&&(this._writev=Ou.writev),typeof Ou.destroy=="function"&&(this._destroy=Ou.destroy),typeof Ou.final=="function"&&(this._final=Ou.final)),ms.call(this)}eu.prototype.pipe=function(){Ya(this,new Ns)};function ru(Ou,gu){var yu=new pa;Ya(Ou,yu),process$1.nextTick(gu,yu)}function cu(Ou,gu,yu,Tu){var du;return yu===null?du=new ha:typeof yu!="string"&&!gu.objectMode&&(du=new Is("chunk",["string","Buffer"],yu)),du?(Ya(Ou,du),process$1.nextTick(Tu,du),!1):!0}eu.prototype.write=function(Ou,gu,yu){var Tu=this._writableState,du=!1,wu=!Tu.objectMode&&Es(Ou);return wu&&!ws.isBuffer(Ou)&&(Ou=_s(Ou)),typeof gu=="function"&&(yu=gu,gu=null),wu?gu="buffer":gu||(gu=Tu.defaultEncoding),typeof yu!="function"&&(yu=Bc),Tu.ending?ru(this,yu):(wu||cu(this,Tu,Ou,yu))&&(Tu.pendingcb++,du=Ga(this,Tu,wu,Ou,gu,yu)),du},eu.prototype.cork=function(){this._writableState.corked++},eu.prototype.uncork=function(){var Ou=this._writableState;Ou.corked&&(Ou.corked--,!Ou.writing&&!Ou.corked&&!Ou.bufferProcessing&&Ou.bufferedRequest&&au(this,Ou))},eu.prototype.setDefaultEncoding=function(gu){if(typeof gu=="string"&&(gu=gu.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((gu+"").toLowerCase())>-1))throw new za(gu);return this._writableState.defaultEncoding=gu,this},Object.defineProperty(eu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ou(Ou,gu,yu){return!Ou.objectMode&&Ou.decodeStrings!==!1&&typeof gu=="string"&&(gu=ws.from(gu,yu)),gu}Object.defineProperty(eu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ga(Ou,gu,yu,Tu,du,wu){if(!yu){var Ru=ou(gu,Tu,du);Tu!==Ru&&(yu=!0,du="buffer",Tu=Ru)}var Ku=gu.objectMode?1:Tu.length;gu.length+=Ku;var Zu=gu.length<gu.highWaterMark;if(Zu||(gu.needDrain=!0),gu.writing||gu.corked){var tl=gu.lastBufferedRequest;gu.lastBufferedRequest={chunk:Tu,encoding:du,isBuf:yu,callback:wu,next:null},tl?tl.next=gu.lastBufferedRequest:gu.bufferedRequest=gu.lastBufferedRequest,gu.bufferedRequestCount+=1}else Xa(Ou,gu,!1,Ku,Tu,du,wu);return Zu}function Xa(Ou,gu,yu,Tu,du,wu,Ru){gu.writelen=Tu,gu.writecb=Ru,gu.writing=!0,gu.sync=!0,gu.destroyed?gu.onwrite(new Js("write")):yu?Ou._writev(du,gu.onwrite):Ou._write(du,wu,gu.onwrite),gu.sync=!1}function Fa(Ou,gu,yu,Tu,du){--gu.pendingcb,yu?(process$1.nextTick(du,Tu),process$1.nextTick(hu,Ou,gu),Ou._writableState.errorEmitted=!0,Ya(Ou,Tu)):(du(Tu),Ou._writableState.errorEmitted=!0,Ya(Ou,Tu),hu(Ou,gu))}function Zs(Ou){Ou.writing=!1,Ou.writecb=null,Ou.length-=Ou.writelen,Ou.writelen=0}function Wa(Ou,gu){var yu=Ou._writableState,Tu=yu.sync,du=yu.writecb;if(typeof du!="function")throw new Hs;if(Zs(yu),gu)Fa(Ou,yu,Tu,gu,du);else{var wu=nu(yu)||Ou.destroyed;!wu&&!yu.corked&&!yu.bufferProcessing&&yu.bufferedRequest&&au(Ou,yu),Tu?process$1.nextTick(Za,Ou,yu,wu,du):Za(Ou,yu,wu,du)}}function Za(Ou,gu,yu,Tu){yu||iu(Ou,gu),gu.pendingcb--,Tu(),hu(Ou,gu)}function iu(Ou,gu){gu.length===0&&gu.needDrain&&(gu.needDrain=!1,Ou.emit("drain"))}function au(Ou,gu){gu.bufferProcessing=!0;var yu=gu.bufferedRequest;if(Ou._writev&&yu&&yu.next){var Tu=gu.bufferedRequestCount,du=new Array(Tu),wu=gu.corkedRequestsFree;wu.entry=yu;for(var Ru=0,Ku=!0;yu;)du[Ru]=yu,yu.isBuf||(Ku=!1),yu=yu.next,Ru+=1;du.allBuffers=Ku,Xa(Ou,gu,!0,gu.length,du,"",wu.finish),gu.pendingcb++,gu.lastBufferedRequest=null,wu.next?(gu.corkedRequestsFree=wu.next,wu.next=null):gu.corkedRequestsFree=new st(gu),gu.bufferedRequestCount=0}else{for(;yu;){var Zu=yu.chunk,tl=yu.encoding,sl=yu.callback,gl=gu.objectMode?1:Zu.length;if(Xa(Ou,gu,!1,gl,Zu,tl,sl),yu=yu.next,gu.bufferedRequestCount--,gu.writing)break}yu===null&&(gu.lastBufferedRequest=null)}gu.bufferedRequest=yu,gu.bufferProcessing=!1}eu.prototype._write=function(Ou,gu,yu){yu(new Ws("_write()"))},eu.prototype._writev=null,eu.prototype.end=function(Ou,gu,yu){var Tu=this._writableState;return typeof Ou=="function"?(yu=Ou,Ou=null,gu=null):typeof gu=="function"&&(yu=gu,gu=null),Ou!=null&&this.write(Ou,gu),Tu.corked&&(Tu.corked=1,this.uncork()),Tu.ending||Eu(this,Tu,yu),this},Object.defineProperty(eu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nu(Ou){return Ou.ending&&Ou.length===0&&Ou.bufferedRequest===null&&!Ou.finished&&!Ou.writing}function uu(Ou,gu){Ou._final(function(yu){gu.pendingcb--,yu&&Ya(Ou,yu),gu.prefinished=!0,Ou.emit("prefinish"),hu(Ou,gu)})}function fu(Ou,gu){!gu.prefinished&&!gu.finalCalled&&(typeof Ou._final=="function"&&!gu.destroyed?(gu.pendingcb++,gu.finalCalled=!0,process$1.nextTick(uu,Ou,gu)):(gu.prefinished=!0,Ou.emit("prefinish")))}function hu(Ou,gu){var yu=nu(gu);if(yu&&(fu(Ou,gu),gu.pendingcb===0&&(gu.finished=!0,Ou.emit("finish"),gu.autoDestroy))){var Tu=Ou._readableState;(!Tu||Tu.autoDestroy&&Tu.endEmitted)&&Ou.destroy()}return yu}function Eu(Ou,gu,yu){gu.ending=!0,hu(Ou,gu),yu&&(gu.finished?process$1.nextTick(yu):Ou.once("finish",yu)),gu.ended=!0,Ou.writable=!1}function $u(Ou,gu,yu){var Tu=Ou.entry;for(Ou.entry=null;Tu;){var du=Tu.callback;gu.pendingcb--,du(yu),Tu=Tu.next}gu.corkedRequestsFree.next=Ou}return Object.defineProperty(eu.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(gu){this._writableState&&(this._writableState.destroyed=gu)}}),eu.prototype.destroy=Ts.destroy,eu.prototype._undestroy=Ts.undestroy,eu.prototype._destroy=function(Ou,gu){gu(Ou)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var st=Object.keys||function(Ss){var Rs=[];for(var Bs in Ss)Rs.push(Bs);return Rs};_stream_duplex$1=_s;var t=require_stream_readable$1(),et=require_stream_writable$1();requireInherits_browser()(_s,t);for(var ms=st(et.prototype),ws=0;ws<ms.length;ws++){var vs=ms[ws];_s.prototype[vs]||(_s.prototype[vs]=et.prototype[vs])}function _s(Ss){if(!(this instanceof _s))return new _s(Ss);t.call(this,Ss),et.call(this,Ss),this.allowHalfOpen=!0,Ss&&(Ss.readable===!1&&(this.readable=!1),Ss.writable===!1&&(this.writable=!1),Ss.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Es)))}Object.defineProperty(_s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Es(){this._writableState.ended||process$1.nextTick(Ts,this)}function Ts(Ss){Ss.end()}return Object.defineProperty(_s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Rs){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Rs,this._writableState.destroyed=Rs)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var st=requireSafeBuffer$1().Buffer,t=st.isEncoding||function(ha){switch(ha=""+ha,ha&&ha.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function et(ha){if(!ha)return"utf8";for(var pa;;)switch(ha){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ha;default:if(pa)return;ha=(""+ha).toLowerCase(),pa=!0}}function ms(ha){var pa=et(ha);if(typeof pa!="string"&&(st.isEncoding===t||!t(ha)))throw new Error("Unknown encoding: "+ha);return pa||ha}string_decoder.StringDecoder=ws;function ws(ha){this.encoding=ms(ha);var pa;switch(this.encoding){case"utf16le":this.text=Bs,this.end=Is,pa=4;break;case"utf8":this.fillLast=Ts,pa=4;break;case"base64":this.text=Ws,this.end=Hs,pa=3;break;default:this.write=Ns,this.end=Js;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=st.allocUnsafe(pa)}ws.prototype.write=function(ha){if(ha.length===0)return"";var pa,za;if(this.lastNeed){if(pa=this.fillLast(ha),pa===void 0)return"";za=this.lastNeed,this.lastNeed=0}else za=0;return za<ha.length?pa?pa+this.text(ha,za):this.text(ha,za):pa||""},ws.prototype.end=Rs,ws.prototype.text=Ss,ws.prototype.fillLast=function(ha){if(this.lastNeed<=ha.length)return ha.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ha.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ha.length),this.lastNeed-=ha.length};function vs(ha){return ha<=127?0:ha>>5===6?2:ha>>4===14?3:ha>>3===30?4:ha>>6===2?-1:-2}function _s(ha,pa,za){var Ya=pa.length-1;if(Ya<za)return 0;var Bc=vs(pa[Ya]);return Bc>=0?(Bc>0&&(ha.lastNeed=Bc-1),Bc):--Ya<za||Bc===-2?0:(Bc=vs(pa[Ya]),Bc>=0?(Bc>0&&(ha.lastNeed=Bc-2),Bc):--Ya<za||Bc===-2?0:(Bc=vs(pa[Ya]),Bc>=0?(Bc>0&&(Bc===2?Bc=0:ha.lastNeed=Bc-3),Bc):0))}function Es(ha,pa,za){if((pa[0]&192)!==128)return ha.lastNeed=0,"ï¿½";if(ha.lastNeed>1&&pa.length>1){if((pa[1]&192)!==128)return ha.lastNeed=1,"ï¿½";if(ha.lastNeed>2&&pa.length>2&&(pa[2]&192)!==128)return ha.lastNeed=2,"ï¿½"}}function Ts(ha){var pa=this.lastTotal-this.lastNeed,za=Es(this,ha);if(za!==void 0)return za;if(this.lastNeed<=ha.length)return ha.copy(this.lastChar,pa,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ha.copy(this.lastChar,pa,0,ha.length),this.lastNeed-=ha.length}function Ss(ha,pa){var za=_s(this,ha,pa);if(!this.lastNeed)return ha.toString("utf8",pa);this.lastTotal=za;var Ya=ha.length-(za-this.lastNeed);return ha.copy(this.lastChar,0,Ya),ha.toString("utf8",pa,Ya)}function Rs(ha){var pa=ha&&ha.length?this.write(ha):"";return this.lastNeed?pa+"ï¿½":pa}function Bs(ha,pa){if((ha.length-pa)%2===0){var za=ha.toString("utf16le",pa);if(za){var Ya=za.charCodeAt(za.length-1);if(Ya>=55296&&Ya<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ha[ha.length-2],this.lastChar[1]=ha[ha.length-1],za.slice(0,-1)}return za}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ha[ha.length-1],ha.toString("utf16le",pa,ha.length-1)}function Is(ha){var pa=ha&&ha.length?this.write(ha):"";if(this.lastNeed){var za=this.lastTotal-this.lastNeed;return pa+this.lastChar.toString("utf16le",0,za)}return pa}function Ws(ha,pa){var za=(ha.length-pa)%3;return za===0?ha.toString("base64",pa):(this.lastNeed=3-za,this.lastTotal=3,za===1?this.lastChar[0]=ha[ha.length-1]:(this.lastChar[0]=ha[ha.length-2],this.lastChar[1]=ha[ha.length-1]),ha.toString("base64",pa,ha.length-za))}function Hs(ha){var pa=ha&&ha.length?this.write(ha):"";return this.lastNeed?pa+this.lastChar.toString("base64",0,3-this.lastNeed):pa}function Ns(ha){return ha.toString(this.encoding)}function Js(ha){return ha&&ha.length?this.write(ha):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var st=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function t(vs){var _s=!1;return function(){if(!_s){_s=!0;for(var Es=arguments.length,Ts=new Array(Es),Ss=0;Ss<Es;Ss++)Ts[Ss]=arguments[Ss];vs.apply(this,Ts)}}}function et(){}function ms(vs){return vs.setHeader&&typeof vs.abort=="function"}function ws(vs,_s,Es){if(typeof _s=="function")return ws(vs,null,_s);_s||(_s={}),Es=t(Es||et);var Ts=_s.readable||_s.readable!==!1&&vs.readable,Ss=_s.writable||_s.writable!==!1&&vs.writable,Rs=function(){vs.writable||Is()},Bs=vs._writableState&&vs._writableState.finished,Is=function(){Ss=!1,Bs=!0,Ts||Es.call(vs)},Ws=vs._readableState&&vs._readableState.endEmitted,Hs=function(){Ts=!1,Ws=!0,Ss||Es.call(vs)},Ns=function(za){Es.call(vs,za)},Js=function(){var za;if(Ts&&!Ws)return(!vs._readableState||!vs._readableState.ended)&&(za=new st),Es.call(vs,za);if(Ss&&!Bs)return(!vs._writableState||!vs._writableState.ended)&&(za=new st),Es.call(vs,za)},ha=function(){vs.req.on("finish",Is)};return ms(vs)?(vs.on("complete",Is),vs.on("abort",Js),vs.req?ha():vs.on("request",ha)):Ss&&!vs._writableState&&(vs.on("end",Rs),vs.on("close",Rs)),vs.on("end",Hs),vs.on("finish",Is),_s.error!==!1&&vs.on("error",Ns),vs.on("close",Js),function(){vs.removeListener("complete",Is),vs.removeListener("abort",Js),vs.removeListener("request",ha),vs.req&&vs.req.removeListener("finish",Is),vs.removeListener("end",Rs),vs.removeListener("close",Rs),vs.removeListener("finish",Is),vs.removeListener("end",Hs),vs.removeListener("error",Ns),vs.removeListener("close",Js)}}return endOfStream=ws,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var st;function t(za,Ya,Bc){return Ya=et(Ya),Ya in za?Object.defineProperty(za,Ya,{value:Bc,enumerable:!0,configurable:!0,writable:!0}):za[Ya]=Bc,za}function et(za){var Ya=ms(za,"string");return typeof Ya=="symbol"?Ya:String(Ya)}function ms(za,Ya){if(typeof za!="object"||za===null)return za;var Bc=za[Symbol.toPrimitive];if(Bc!==void 0){var Qa=Bc.call(za,Ya);if(typeof Qa!="object")return Qa;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ya==="string"?String:Number)(za)}var ws=requireEndOfStream(),vs=Symbol("lastResolve"),_s=Symbol("lastReject"),Es=Symbol("error"),Ts=Symbol("ended"),Ss=Symbol("lastPromise"),Rs=Symbol("handlePromise"),Bs=Symbol("stream");function Is(za,Ya){return{value:za,done:Ya}}function Ws(za){var Ya=za[vs];if(Ya!==null){var Bc=za[Bs].read();Bc!==null&&(za[Ss]=null,za[vs]=null,za[_s]=null,Ya(Is(Bc,!1)))}}function Hs(za){process$1.nextTick(Ws,za)}function Ns(za,Ya){return function(Bc,Qa){za.then(function(){if(Ya[Ts]){Bc(Is(void 0,!0));return}Ya[Rs](Bc,Qa)},Qa)}}var Js=Object.getPrototypeOf(function(){}),ha=Object.setPrototypeOf((st={get stream(){return this[Bs]},next:function(){var Ya=this,Bc=this[Es];if(Bc!==null)return Promise.reject(Bc);if(this[Ts])return Promise.resolve(Is(void 0,!0));if(this[Bs].destroyed)return new Promise(function(ru,cu){process$1.nextTick(function(){Ya[Es]?cu(Ya[Es]):ru(Is(void 0,!0))})});var Qa=this[Ss],tu;if(Qa)tu=new Promise(Ns(Qa,this));else{var eu=this[Bs].read();if(eu!==null)return Promise.resolve(Is(eu,!1));tu=new Promise(this[Rs])}return this[Ss]=tu,tu}},t(st,Symbol.asyncIterator,function(){return this}),t(st,"return",function(){var Ya=this;return new Promise(function(Bc,Qa){Ya[Bs].destroy(null,function(tu){if(tu){Qa(tu);return}Bc(Is(void 0,!0))})})}),st),Js),pa=function(Ya){var Bc,Qa=Object.create(ha,(Bc={},t(Bc,Bs,{value:Ya,writable:!0}),t(Bc,vs,{value:null,writable:!0}),t(Bc,_s,{value:null,writable:!0}),t(Bc,Es,{value:null,writable:!0}),t(Bc,Ts,{value:Ya._readableState.endEmitted,writable:!0}),t(Bc,Rs,{value:function(eu,ru){var cu=Qa[Bs].read();cu?(Qa[Ss]=null,Qa[vs]=null,Qa[_s]=null,eu(Is(cu,!1))):(Qa[vs]=eu,Qa[_s]=ru)},writable:!0}),Bc));return Qa[Ss]=null,ws(Ya,function(tu){if(tu&&tu.code!=="ERR_STREAM_PREMATURE_CLOSE"){var eu=Qa[_s];eu!==null&&(Qa[Ss]=null,Qa[vs]=null,Qa[_s]=null,eu(tu)),Qa[Es]=tu;return}var ru=Qa[vs];ru!==null&&(Qa[Ss]=null,Qa[vs]=null,Qa[_s]=null,ru(Is(void 0,!0))),Qa[Ts]=!0}),Ya.on("readable",Hs.bind(null,Qa)),Qa};return async_iterator=pa,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=ru;var st;ru.ReadableState=eu,requireEvents$1().EventEmitter;var t=function(Ru,Ku){return Ru.listeners(Ku).length},et=requireStreamBrowser$1(),ms=requireDist().Buffer,ws=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function vs(wu){return ms.from(wu)}function _s(wu){return ms.isBuffer(wu)||wu instanceof ws}var Es=requireUtil$2(),Ts;Es&&Es.debuglog?Ts=Es.debuglog("stream"):Ts=function(){};var Ss=requireBuffer_list(),Rs=requireDestroy$1(),Bs=requireState(),Is=Bs.getHighWaterMark,Ws=requireErrorsBrowser().codes,Hs=Ws.ERR_INVALID_ARG_TYPE,Ns=Ws.ERR_STREAM_PUSH_AFTER_EOF,Js=Ws.ERR_METHOD_NOT_IMPLEMENTED,ha=Ws.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,pa,za,Ya;requireInherits_browser()(ru,et);var Bc=Rs.errorOrDestroy,Qa=["error","close","destroy","pause","resume"];function tu(wu,Ru,Ku){if(typeof wu.prependListener=="function")return wu.prependListener(Ru,Ku);!wu._events||!wu._events[Ru]?wu.on(Ru,Ku):Array.isArray(wu._events[Ru])?wu._events[Ru].unshift(Ku):wu._events[Ru]=[Ku,wu._events[Ru]]}function eu(wu,Ru,Ku){st=st||require_stream_duplex$1(),wu=wu||{},typeof Ku!="boolean"&&(Ku=Ru instanceof st),this.objectMode=!!wu.objectMode,Ku&&(this.objectMode=this.objectMode||!!wu.readableObjectMode),this.highWaterMark=Is(this,wu,"readableHighWaterMark",Ku),this.buffer=new Ss,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=wu.emitClose!==!1,this.autoDestroy=!!wu.autoDestroy,this.destroyed=!1,this.defaultEncoding=wu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,wu.encoding&&(pa||(pa=requireString_decoder().StringDecoder),this.decoder=new pa(wu.encoding),this.encoding=wu.encoding)}function ru(wu){if(st=st||require_stream_duplex$1(),!(this instanceof ru))return new ru(wu);var Ru=this instanceof st;this._readableState=new eu(wu,this,Ru),this.readable=!0,wu&&(typeof wu.read=="function"&&(this._read=wu.read),typeof wu.destroy=="function"&&(this._destroy=wu.destroy)),et.call(this)}Object.defineProperty(ru.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Ru){this._readableState&&(this._readableState.destroyed=Ru)}}),ru.prototype.destroy=Rs.destroy,ru.prototype._undestroy=Rs.undestroy,ru.prototype._destroy=function(wu,Ru){Ru(wu)},ru.prototype.push=function(wu,Ru){var Ku=this._readableState,Zu;return Ku.objectMode?Zu=!0:typeof wu=="string"&&(Ru=Ru||Ku.defaultEncoding,Ru!==Ku.encoding&&(wu=ms.from(wu,Ru),Ru=""),Zu=!0),cu(this,wu,Ru,!1,Zu)},ru.prototype.unshift=function(wu){return cu(this,wu,null,!0,!1)};function cu(wu,Ru,Ku,Zu,tl){Ts("readableAddChunk",Ru);var sl=wu._readableState;if(Ru===null)sl.reading=!1,Wa(wu,sl);else{var gl;if(tl||(gl=Ga(sl,Ru)),gl)Bc(wu,gl);else if(sl.objectMode||Ru&&Ru.length>0)if(typeof Ru!="string"&&!sl.objectMode&&Object.getPrototypeOf(Ru)!==ms.prototype&&(Ru=vs(Ru)),Zu)sl.endEmitted?Bc(wu,new ha):ou(wu,sl,Ru,!0);else if(sl.ended)Bc(wu,new Ns);else{if(sl.destroyed)return!1;sl.reading=!1,sl.decoder&&!Ku?(Ru=sl.decoder.write(Ru),sl.objectMode||Ru.length!==0?ou(wu,sl,Ru,!1):au(wu,sl)):ou(wu,sl,Ru,!1)}else Zu||(sl.reading=!1,au(wu,sl))}return!sl.ended&&(sl.length<sl.highWaterMark||sl.length===0)}function ou(wu,Ru,Ku,Zu){Ru.flowing&&Ru.length===0&&!Ru.sync?(Ru.awaitDrain=0,wu.emit("data",Ku)):(Ru.length+=Ru.objectMode?1:Ku.length,Zu?Ru.buffer.unshift(Ku):Ru.buffer.push(Ku),Ru.needReadable&&Za(wu)),au(wu,Ru)}function Ga(wu,Ru){var Ku;return!_s(Ru)&&typeof Ru!="string"&&Ru!==void 0&&!wu.objectMode&&(Ku=new Hs("chunk",["string","Buffer","Uint8Array"],Ru)),Ku}ru.prototype.isPaused=function(){return this._readableState.flowing===!1},ru.prototype.setEncoding=function(wu){pa||(pa=requireString_decoder().StringDecoder);var Ru=new pa(wu);this._readableState.decoder=Ru,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ku=this._readableState.buffer.head,Zu="";Ku!==null;)Zu+=Ru.write(Ku.data),Ku=Ku.next;return this._readableState.buffer.clear(),Zu!==""&&this._readableState.buffer.push(Zu),this._readableState.length=Zu.length,this};var Xa=1073741824;function Fa(wu){return wu>=Xa?wu=Xa:(wu--,wu|=wu>>>1,wu|=wu>>>2,wu|=wu>>>4,wu|=wu>>>8,wu|=wu>>>16,wu++),wu}function Zs(wu,Ru){return wu<=0||Ru.length===0&&Ru.ended?0:Ru.objectMode?1:wu!==wu?Ru.flowing&&Ru.length?Ru.buffer.head.data.length:Ru.length:(wu>Ru.highWaterMark&&(Ru.highWaterMark=Fa(wu)),wu<=Ru.length?wu:Ru.ended?Ru.length:(Ru.needReadable=!0,0))}ru.prototype.read=function(wu){Ts("read",wu),wu=parseInt(wu,10);var Ru=this._readableState,Ku=wu;if(wu!==0&&(Ru.emittedReadable=!1),wu===0&&Ru.needReadable&&((Ru.highWaterMark!==0?Ru.length>=Ru.highWaterMark:Ru.length>0)||Ru.ended))return Ts("read: emitReadable",Ru.length,Ru.ended),Ru.length===0&&Ru.ended?yu(this):Za(this),null;if(wu=Zs(wu,Ru),wu===0&&Ru.ended)return Ru.length===0&&yu(this),null;var Zu=Ru.needReadable;Ts("need readable",Zu),(Ru.length===0||Ru.length-wu<Ru.highWaterMark)&&(Zu=!0,Ts("length less than watermark",Zu)),Ru.ended||Ru.reading?(Zu=!1,Ts("reading or ended",Zu)):Zu&&(Ts("do read"),Ru.reading=!0,Ru.sync=!0,Ru.length===0&&(Ru.needReadable=!0),this._read(Ru.highWaterMark),Ru.sync=!1,Ru.reading||(wu=Zs(Ku,Ru)));var tl;return wu>0?tl=gu(wu,Ru):tl=null,tl===null?(Ru.needReadable=Ru.length<=Ru.highWaterMark,wu=0):(Ru.length-=wu,Ru.awaitDrain=0),Ru.length===0&&(Ru.ended||(Ru.needReadable=!0),Ku!==wu&&Ru.ended&&yu(this)),tl!==null&&this.emit("data",tl),tl};function Wa(wu,Ru){if(Ts("onEofChunk"),!Ru.ended){if(Ru.decoder){var Ku=Ru.decoder.end();Ku&&Ku.length&&(Ru.buffer.push(Ku),Ru.length+=Ru.objectMode?1:Ku.length)}Ru.ended=!0,Ru.sync?Za(wu):(Ru.needReadable=!1,Ru.emittedReadable||(Ru.emittedReadable=!0,iu(wu)))}}function Za(wu){var Ru=wu._readableState;Ts("emitReadable",Ru.needReadable,Ru.emittedReadable),Ru.needReadable=!1,Ru.emittedReadable||(Ts("emitReadable",Ru.flowing),Ru.emittedReadable=!0,process$1.nextTick(iu,wu))}function iu(wu){var Ru=wu._readableState;Ts("emitReadable_",Ru.destroyed,Ru.length,Ru.ended),!Ru.destroyed&&(Ru.length||Ru.ended)&&(wu.emit("readable"),Ru.emittedReadable=!1),Ru.needReadable=!Ru.flowing&&!Ru.ended&&Ru.length<=Ru.highWaterMark,Ou(wu)}function au(wu,Ru){Ru.readingMore||(Ru.readingMore=!0,process$1.nextTick(nu,wu,Ru))}function nu(wu,Ru){for(;!Ru.reading&&!Ru.ended&&(Ru.length<Ru.highWaterMark||Ru.flowing&&Ru.length===0);){var Ku=Ru.length;if(Ts("maybeReadMore read 0"),wu.read(0),Ku===Ru.length)break}Ru.readingMore=!1}ru.prototype._read=function(wu){Bc(this,new Js("_read()"))},ru.prototype.pipe=function(wu,Ru){var Ku=this,Zu=this._readableState;switch(Zu.pipesCount){case 0:Zu.pipes=wu;break;case 1:Zu.pipes=[Zu.pipes,wu];break;default:Zu.pipes.push(wu);break}Zu.pipesCount+=1,Ts("pipe count=%d opts=%j",Zu.pipesCount,Ru);var tl=(!Ru||Ru.end!==!1)&&wu!==process$1.stdout&&wu!==process$1.stderr,sl=tl?Fu:cl;Zu.endEmitted?process$1.nextTick(sl):Ku.once("end",sl),wu.on("unpipe",gl);function gl(ul,yl){Ts("onunpipe"),ul===Ku&&yl&&yl.hasUnpiped===!1&&(yl.hasUnpiped=!0,vf())}function Fu(){Ts("onend"),wu.end()}var Mu=uu(Ku);wu.on("drain",Mu);var Ju=!1;function vf(){Ts("cleanup"),wu.removeListener("close",il),wu.removeListener("finish",hl),wu.removeListener("drain",Mu),wu.removeListener("error",el),wu.removeListener("unpipe",gl),Ku.removeListener("end",Fu),Ku.removeListener("end",cl),Ku.removeListener("data",wf),Ju=!0,Zu.awaitDrain&&(!wu._writableState||wu._writableState.needDrain)&&Mu()}Ku.on("data",wf);function wf(ul){Ts("ondata");var yl=wu.write(ul);Ts("dest.write",yl),yl===!1&&((Zu.pipesCount===1&&Zu.pipes===wu||Zu.pipesCount>1&&du(Zu.pipes,wu)!==-1)&&!Ju&&(Ts("false write response, pause",Zu.awaitDrain),Zu.awaitDrain++),Ku.pause())}function el(ul){Ts("onerror",ul),cl(),wu.removeListener("error",el),t(wu,"error")===0&&Bc(wu,ul)}tu(wu,"error",el);function il(){wu.removeListener("finish",hl),cl()}wu.once("close",il);function hl(){Ts("onfinish"),wu.removeListener("close",il),cl()}wu.once("finish",hl);function cl(){Ts("unpipe"),Ku.unpipe(wu)}return wu.emit("pipe",Ku),Zu.flowing||(Ts("pipe resume"),Ku.resume()),wu};function uu(wu){return function(){var Ku=wu._readableState;Ts("pipeOnDrain",Ku.awaitDrain),Ku.awaitDrain&&Ku.awaitDrain--,Ku.awaitDrain===0&&t(wu,"data")&&(Ku.flowing=!0,Ou(wu))}}ru.prototype.unpipe=function(wu){var Ru=this._readableState,Ku={hasUnpiped:!1};if(Ru.pipesCount===0)return this;if(Ru.pipesCount===1)return wu&&wu!==Ru.pipes?this:(wu||(wu=Ru.pipes),Ru.pipes=null,Ru.pipesCount=0,Ru.flowing=!1,wu&&wu.emit("unpipe",this,Ku),this);if(!wu){var Zu=Ru.pipes,tl=Ru.pipesCount;Ru.pipes=null,Ru.pipesCount=0,Ru.flowing=!1;for(var sl=0;sl<tl;sl++)Zu[sl].emit("unpipe",this,{hasUnpiped:!1});return this}var gl=du(Ru.pipes,wu);return gl===-1?this:(Ru.pipes.splice(gl,1),Ru.pipesCount-=1,Ru.pipesCount===1&&(Ru.pipes=Ru.pipes[0]),wu.emit("unpipe",this,Ku),this)},ru.prototype.on=function(wu,Ru){var Ku=et.prototype.on.call(this,wu,Ru),Zu=this._readableState;return wu==="data"?(Zu.readableListening=this.listenerCount("readable")>0,Zu.flowing!==!1&&this.resume()):wu==="readable"&&!Zu.endEmitted&&!Zu.readableListening&&(Zu.readableListening=Zu.needReadable=!0,Zu.flowing=!1,Zu.emittedReadable=!1,Ts("on readable",Zu.length,Zu.reading),Zu.length?Za(this):Zu.reading||process$1.nextTick(hu,this)),Ku},ru.prototype.addListener=ru.prototype.on,ru.prototype.removeListener=function(wu,Ru){var Ku=et.prototype.removeListener.call(this,wu,Ru);return wu==="readable"&&process$1.nextTick(fu,this),Ku},ru.prototype.removeAllListeners=function(wu){var Ru=et.prototype.removeAllListeners.apply(this,arguments);return(wu==="readable"||wu===void 0)&&process$1.nextTick(fu,this),Ru};function fu(wu){var Ru=wu._readableState;Ru.readableListening=wu.listenerCount("readable")>0,Ru.resumeScheduled&&!Ru.paused?Ru.flowing=!0:wu.listenerCount("data")>0&&wu.resume()}function hu(wu){Ts("readable nexttick read 0"),wu.read(0)}ru.prototype.resume=function(){var wu=this._readableState;return wu.flowing||(Ts("resume"),wu.flowing=!wu.readableListening,Eu(this,wu)),wu.paused=!1,this};function Eu(wu,Ru){Ru.resumeScheduled||(Ru.resumeScheduled=!0,process$1.nextTick($u,wu,Ru))}function $u(wu,Ru){Ts("resume",Ru.reading),Ru.reading||wu.read(0),Ru.resumeScheduled=!1,wu.emit("resume"),Ou(wu),Ru.flowing&&!Ru.reading&&wu.read(0)}ru.prototype.pause=function(){return Ts("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ts("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ou(wu){var Ru=wu._readableState;for(Ts("flow",Ru.flowing);Ru.flowing&&wu.read()!==null;);}ru.prototype.wrap=function(wu){var Ru=this,Ku=this._readableState,Zu=!1;wu.on("end",function(){if(Ts("wrapped end"),Ku.decoder&&!Ku.ended){var gl=Ku.decoder.end();gl&&gl.length&&Ru.push(gl)}Ru.push(null)}),wu.on("data",function(gl){if(Ts("wrapped data"),Ku.decoder&&(gl=Ku.decoder.write(gl)),!(Ku.objectMode&&gl==null)&&!(!Ku.objectMode&&(!gl||!gl.length))){var Fu=Ru.push(gl);Fu||(Zu=!0,wu.pause())}});for(var tl in wu)this[tl]===void 0&&typeof wu[tl]=="function"&&(this[tl]=function(Fu){return function(){return wu[Fu].apply(wu,arguments)}}(tl));for(var sl=0;sl<Qa.length;sl++)wu.on(Qa[sl],this.emit.bind(this,Qa[sl]));return this._read=function(gl){Ts("wrapped _read",gl),Zu&&(Zu=!1,wu.resume())},this},typeof Symbol=="function"&&(ru.prototype[Symbol.asyncIterator]=function(){return za===void 0&&(za=requireAsync_iterator()),za(this)}),Object.defineProperty(ru.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ru.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ru.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ru){this._readableState&&(this._readableState.flowing=Ru)}}),ru._fromList=gu,Object.defineProperty(ru.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function gu(wu,Ru){if(Ru.length===0)return null;var Ku;return Ru.objectMode?Ku=Ru.buffer.shift():!wu||wu>=Ru.length?(Ru.decoder?Ku=Ru.buffer.join(""):Ru.buffer.length===1?Ku=Ru.buffer.first():Ku=Ru.buffer.concat(Ru.length),Ru.buffer.clear()):Ku=Ru.buffer.consume(wu,Ru.decoder),Ku}function yu(wu){var Ru=wu._readableState;Ts("endReadable",Ru.endEmitted),Ru.endEmitted||(Ru.ended=!0,process$1.nextTick(Tu,Ru,wu))}function Tu(wu,Ru){if(Ts("endReadableNT",wu.endEmitted,wu.length),!wu.endEmitted&&wu.length===0&&(wu.endEmitted=!0,Ru.readable=!1,Ru.emit("end"),wu.autoDestroy)){var Ku=Ru._writableState;(!Ku||Ku.autoDestroy&&Ku.finished)&&Ru.destroy()}}typeof Symbol=="function"&&(ru.from=function(wu,Ru){return Ya===void 0&&(Ya=requireFromBrowser()),Ya(ru,wu,Ru)});function du(wu,Ru){for(var Ku=0,Zu=wu.length;Ku<Zu;Ku++)if(wu[Ku]===Ru)return Ku;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=Es;var st=requireErrorsBrowser().codes,t=st.ERR_METHOD_NOT_IMPLEMENTED,et=st.ERR_MULTIPLE_CALLBACK,ms=st.ERR_TRANSFORM_ALREADY_TRANSFORMING,ws=st.ERR_TRANSFORM_WITH_LENGTH_0,vs=require_stream_duplex$1();requireInherits_browser()(Es,vs);function _s(Rs,Bs){var Is=this._transformState;Is.transforming=!1;var Ws=Is.writecb;if(Ws===null)return this.emit("error",new et);Is.writechunk=null,Is.writecb=null,Bs!=null&&this.push(Bs),Ws(Rs);var Hs=this._readableState;Hs.reading=!1,(Hs.needReadable||Hs.length<Hs.highWaterMark)&&this._read(Hs.highWaterMark)}function Es(Rs){if(!(this instanceof Es))return new Es(Rs);vs.call(this,Rs),this._transformState={afterTransform:_s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Rs&&(typeof Rs.transform=="function"&&(this._transform=Rs.transform),typeof Rs.flush=="function"&&(this._flush=Rs.flush)),this.on("prefinish",Ts)}function Ts(){var Rs=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(Bs,Is){Ss(Rs,Bs,Is)}):Ss(this,null,null)}Es.prototype.push=function(Rs,Bs){return this._transformState.needTransform=!1,vs.prototype.push.call(this,Rs,Bs)},Es.prototype._transform=function(Rs,Bs,Is){Is(new t("_transform()"))},Es.prototype._write=function(Rs,Bs,Is){var Ws=this._transformState;if(Ws.writecb=Is,Ws.writechunk=Rs,Ws.writeencoding=Bs,!Ws.transforming){var Hs=this._readableState;(Ws.needTransform||Hs.needReadable||Hs.length<Hs.highWaterMark)&&this._read(Hs.highWaterMark)}},Es.prototype._read=function(Rs){var Bs=this._transformState;Bs.writechunk!==null&&!Bs.transforming?(Bs.transforming=!0,this._transform(Bs.writechunk,Bs.writeencoding,Bs.afterTransform)):Bs.needTransform=!0},Es.prototype._destroy=function(Rs,Bs){vs.prototype._destroy.call(this,Rs,function(Is){Bs(Is)})};function Ss(Rs,Bs,Is){if(Bs)return Rs.emit("error",Bs);if(Is!=null&&Rs.push(Is),Rs._writableState.length)throw new ws;if(Rs._transformState.transforming)throw new ms;return Rs.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=t;var st=require_stream_transform$1();requireInherits_browser()(t,st);function t(et){if(!(this instanceof t))return new t(et);st.call(this,et)}return t.prototype._transform=function(et,ms,ws){ws(null,et)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var st;function t(Is){var Ws=!1;return function(){Ws||(Ws=!0,Is.apply(void 0,arguments))}}var et=requireErrorsBrowser().codes,ms=et.ERR_MISSING_ARGS,ws=et.ERR_STREAM_DESTROYED;function vs(Is){if(Is)throw Is}function _s(Is){return Is.setHeader&&typeof Is.abort=="function"}function Es(Is,Ws,Hs,Ns){Ns=t(Ns);var Js=!1;Is.on("close",function(){Js=!0}),st===void 0&&(st=requireEndOfStream()),st(Is,{readable:Ws,writable:Hs},function(pa){if(pa)return Ns(pa);Js=!0,Ns()});var ha=!1;return function(pa){if(!Js&&!ha){if(ha=!0,_s(Is))return Is.abort();if(typeof Is.destroy=="function")return Is.destroy();Ns(pa||new ws("pipe"))}}}function Ts(Is){Is()}function Ss(Is,Ws){return Is.pipe(Ws)}function Rs(Is){return!Is.length||typeof Is[Is.length-1]!="function"?vs:Is.pop()}function Bs(){for(var Is=arguments.length,Ws=new Array(Is),Hs=0;Hs<Is;Hs++)Ws[Hs]=arguments[Hs];var Ns=Rs(Ws);if(Array.isArray(Ws[0])&&(Ws=Ws[0]),Ws.length<2)throw new ms("streams");var Js,ha=Ws.map(function(pa,za){var Ya=za<Ws.length-1,Bc=za>0;return Es(pa,Ya,Bc,function(Qa){Js||(Js=Qa),Qa&&ha.forEach(Ts),!Ya&&(ha.forEach(Ts),Ns(Js))})});return Ws.reduce(Ss)}return pipeline_1=Bs,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=et;var st=requireEvents$1().EventEmitter,t=requireInherits_browser();t(et,st),et.Readable=require_stream_readable$1(),et.Writable=require_stream_writable$1(),et.Duplex=require_stream_duplex$1(),et.Transform=require_stream_transform$1(),et.PassThrough=require_stream_passthrough$1(),et.finished=requireEndOfStream(),et.pipeline=requirePipeline(),et.Stream=et;function et(){st.call(this)}return et.prototype.pipe=function(ms,ws){var vs=this;function _s(Ws){ms.writable&&ms.write(Ws)===!1&&vs.pause&&vs.pause()}vs.on("data",_s);function Es(){vs.readable&&vs.resume&&vs.resume()}ms.on("drain",Es),!ms._isStdio&&(!ws||ws.end!==!1)&&(vs.on("end",Ss),vs.on("close",Rs));var Ts=!1;function Ss(){Ts||(Ts=!0,ms.end())}function Rs(){Ts||(Ts=!0,typeof ms.destroy=="function"&&ms.destroy())}function Bs(Ws){if(Is(),st.listenerCount(this,"error")===0)throw Ws}vs.on("error",Bs),ms.on("error",Bs);function Is(){vs.removeListener("data",_s),ms.removeListener("drain",Es),vs.removeListener("end",Ss),vs.removeListener("close",Rs),vs.removeListener("error",Bs),ms.removeListener("error",Bs),vs.removeListener("end",Is),vs.removeListener("close",Is),ms.removeListener("close",Is)}return vs.on("end",Is),vs.on("close",Is),ms.on("close",Is),ms.emit("pipe",vs),ms},streamBrowserify}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var st=requireSafeBuffer$1().Buffer,t=requireStreamBrowserify().Transform,et=requireInherits_browser();function ms(Es){t.call(this),this._block=st.allocUnsafe(Es),this._blockSize=Es,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}et(ms,t),ms.prototype._transform=function(Es,Ts,Ss){var Rs=null;try{this.update(Es,Ts)}catch(Bs){Rs=Bs}Ss(Rs)},ms.prototype._flush=function(Es){var Ts=null;try{this.push(this.digest())}catch(Ss){Ts=Ss}Es(Ts)};var ws=typeof Uint8Array<"u",vs=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(st.prototype instanceof Uint8Array||st.TYPED_ARRAY_SUPPORT);function _s(Es,Ts){if(Es instanceof st)return Es;if(typeof Es=="string")return st.from(Es,Ts);if(vs&&ArrayBuffer.isView(Es)){if(Es.byteLength===0)return st.alloc(0);var Ss=st.from(Es.buffer,Es.byteOffset,Es.byteLength);if(Ss.byteLength===Es.byteLength)return Ss}if(ws&&Es instanceof Uint8Array||st.isBuffer(Es)&&Es.constructor&&typeof Es.constructor.isBuffer=="function"&&Es.constructor.isBuffer(Es))return st.from(Es);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return ms.prototype.update=function(Es,Ts){if(this._finalized)throw new Error("Digest already called");Es=_s(Es,Ts);for(var Ss=this._block,Rs=0;this._blockOffset+Es.length-Rs>=this._blockSize;){for(var Bs=this._blockOffset;Bs<this._blockSize;)Ss[Bs++]=Es[Rs++];this._update(),this._blockOffset=0}for(;Rs<Es.length;)Ss[this._blockOffset++]=Es[Rs++];for(var Is=0,Ws=Es.length*8;Ws>0;++Is)this._length[Is]+=Ws,Ws=this._length[Is]/4294967296|0,Ws>0&&(this._length[Is]-=4294967296*Ws);return this},ms.prototype._update=function(){throw new Error("_update is not implemented")},ms.prototype.digest=function(Es){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Ts=this._digest();Es!==void 0&&(Ts=Ts.toString(Es)),this._block.fill(0),this._blockOffset=0;for(var Ss=0;Ss<4;++Ss)this._length[Ss]=0;return Ts},ms.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=ms,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var st=requireInherits_browser(),t=requireHashBase$1(),et=requireSafeBuffer$1().Buffer,ms=new Array(16);function ws(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}st(ws,t),ws.prototype._update=function(){for(var Rs=ms,Bs=0;Bs<16;++Bs)Rs[Bs]=this._block.readInt32LE(Bs*4);var Is=this._a,Ws=this._b,Hs=this._c,Ns=this._d;Is=_s(Is,Ws,Hs,Ns,Rs[0],3614090360,7),Ns=_s(Ns,Is,Ws,Hs,Rs[1],3905402710,12),Hs=_s(Hs,Ns,Is,Ws,Rs[2],606105819,17),Ws=_s(Ws,Hs,Ns,Is,Rs[3],3250441966,22),Is=_s(Is,Ws,Hs,Ns,Rs[4],4118548399,7),Ns=_s(Ns,Is,Ws,Hs,Rs[5],1200080426,12),Hs=_s(Hs,Ns,Is,Ws,Rs[6],2821735955,17),Ws=_s(Ws,Hs,Ns,Is,Rs[7],4249261313,22),Is=_s(Is,Ws,Hs,Ns,Rs[8],1770035416,7),Ns=_s(Ns,Is,Ws,Hs,Rs[9],2336552879,12),Hs=_s(Hs,Ns,Is,Ws,Rs[10],4294925233,17),Ws=_s(Ws,Hs,Ns,Is,Rs[11],2304563134,22),Is=_s(Is,Ws,Hs,Ns,Rs[12],1804603682,7),Ns=_s(Ns,Is,Ws,Hs,Rs[13],4254626195,12),Hs=_s(Hs,Ns,Is,Ws,Rs[14],2792965006,17),Ws=_s(Ws,Hs,Ns,Is,Rs[15],1236535329,22),Is=Es(Is,Ws,Hs,Ns,Rs[1],4129170786,5),Ns=Es(Ns,Is,Ws,Hs,Rs[6],3225465664,9),Hs=Es(Hs,Ns,Is,Ws,Rs[11],643717713,14),Ws=Es(Ws,Hs,Ns,Is,Rs[0],3921069994,20),Is=Es(Is,Ws,Hs,Ns,Rs[5],3593408605,5),Ns=Es(Ns,Is,Ws,Hs,Rs[10],38016083,9),Hs=Es(Hs,Ns,Is,Ws,Rs[15],3634488961,14),Ws=Es(Ws,Hs,Ns,Is,Rs[4],3889429448,20),Is=Es(Is,Ws,Hs,Ns,Rs[9],568446438,5),Ns=Es(Ns,Is,Ws,Hs,Rs[14],3275163606,9),Hs=Es(Hs,Ns,Is,Ws,Rs[3],4107603335,14),Ws=Es(Ws,Hs,Ns,Is,Rs[8],1163531501,20),Is=Es(Is,Ws,Hs,Ns,Rs[13],2850285829,5),Ns=Es(Ns,Is,Ws,Hs,Rs[2],4243563512,9),Hs=Es(Hs,Ns,Is,Ws,Rs[7],1735328473,14),Ws=Es(Ws,Hs,Ns,Is,Rs[12],2368359562,20),Is=Ts(Is,Ws,Hs,Ns,Rs[5],4294588738,4),Ns=Ts(Ns,Is,Ws,Hs,Rs[8],2272392833,11),Hs=Ts(Hs,Ns,Is,Ws,Rs[11],1839030562,16),Ws=Ts(Ws,Hs,Ns,Is,Rs[14],4259657740,23),Is=Ts(Is,Ws,Hs,Ns,Rs[1],2763975236,4),Ns=Ts(Ns,Is,Ws,Hs,Rs[4],1272893353,11),Hs=Ts(Hs,Ns,Is,Ws,Rs[7],4139469664,16),Ws=Ts(Ws,Hs,Ns,Is,Rs[10],3200236656,23),Is=Ts(Is,Ws,Hs,Ns,Rs[13],681279174,4),Ns=Ts(Ns,Is,Ws,Hs,Rs[0],3936430074,11),Hs=Ts(Hs,Ns,Is,Ws,Rs[3],3572445317,16),Ws=Ts(Ws,Hs,Ns,Is,Rs[6],76029189,23),Is=Ts(Is,Ws,Hs,Ns,Rs[9],3654602809,4),Ns=Ts(Ns,Is,Ws,Hs,Rs[12],3873151461,11),Hs=Ts(Hs,Ns,Is,Ws,Rs[15],530742520,16),Ws=Ts(Ws,Hs,Ns,Is,Rs[2],3299628645,23),Is=Ss(Is,Ws,Hs,Ns,Rs[0],4096336452,6),Ns=Ss(Ns,Is,Ws,Hs,Rs[7],1126891415,10),Hs=Ss(Hs,Ns,Is,Ws,Rs[14],2878612391,15),Ws=Ss(Ws,Hs,Ns,Is,Rs[5],4237533241,21),Is=Ss(Is,Ws,Hs,Ns,Rs[12],1700485571,6),Ns=Ss(Ns,Is,Ws,Hs,Rs[3],2399980690,10),Hs=Ss(Hs,Ns,Is,Ws,Rs[10],4293915773,15),Ws=Ss(Ws,Hs,Ns,Is,Rs[1],2240044497,21),Is=Ss(Is,Ws,Hs,Ns,Rs[8],1873313359,6),Ns=Ss(Ns,Is,Ws,Hs,Rs[15],4264355552,10),Hs=Ss(Hs,Ns,Is,Ws,Rs[6],2734768916,15),Ws=Ss(Ws,Hs,Ns,Is,Rs[13],1309151649,21),Is=Ss(Is,Ws,Hs,Ns,Rs[4],4149444226,6),Ns=Ss(Ns,Is,Ws,Hs,Rs[11],3174756917,10),Hs=Ss(Hs,Ns,Is,Ws,Rs[2],718787259,15),Ws=Ss(Ws,Hs,Ns,Is,Rs[9],3951481745,21),this._a=this._a+Is|0,this._b=this._b+Ws|0,this._c=this._c+Hs|0,this._d=this._d+Ns|0},ws.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Rs=et.allocUnsafe(16);return Rs.writeInt32LE(this._a,0),Rs.writeInt32LE(this._b,4),Rs.writeInt32LE(this._c,8),Rs.writeInt32LE(this._d,12),Rs};function vs(Rs,Bs){return Rs<<Bs|Rs>>>32-Bs}function _s(Rs,Bs,Is,Ws,Hs,Ns,Js){return vs(Rs+(Bs&Is|~Bs&Ws)+Hs+Ns|0,Js)+Bs|0}function Es(Rs,Bs,Is,Ws,Hs,Ns,Js){return vs(Rs+(Bs&Ws|Is&~Ws)+Hs+Ns|0,Js)+Bs|0}function Ts(Rs,Bs,Is,Ws,Hs,Ns,Js){return vs(Rs+(Bs^Is^Ws)+Hs+Ns|0,Js)+Bs|0}function Ss(Rs,Bs,Is,Ws,Hs,Ns,Js){return vs(Rs+(Is^(Bs|~Ws))+Hs+Ns|0,Js)+Bs|0}return md5_js=ws,md5_js}var ripemd160$3,hasRequiredRipemd160$2;function requireRipemd160$2(){if(hasRequiredRipemd160$2)return ripemd160$3;hasRequiredRipemd160$2=1;var st=requireDist().Buffer,t=requireInherits_browser(),et=requireHashBase$1(),ms=new Array(16),ws=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vs=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Es=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ts=[0,1518500249,1859775393,2400959708,2840853838],Ss=[1352829926,1548603684,1836072691,2053994217,0];function Rs(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}t(Rs,et),Rs.prototype._update=function(){for(var ha=ms,pa=0;pa<16;++pa)ha[pa]=this._block.readInt32LE(pa*4);for(var za=this._a|0,Ya=this._b|0,Bc=this._c|0,Qa=this._d|0,tu=this._e|0,eu=this._a|0,ru=this._b|0,cu=this._c|0,ou=this._d|0,Ga=this._e|0,Xa=0;Xa<80;Xa+=1){var Fa,Zs;Xa<16?(Fa=Is(za,Ya,Bc,Qa,tu,ha[ws[Xa]],Ts[0],_s[Xa]),Zs=Js(eu,ru,cu,ou,Ga,ha[vs[Xa]],Ss[0],Es[Xa])):Xa<32?(Fa=Ws(za,Ya,Bc,Qa,tu,ha[ws[Xa]],Ts[1],_s[Xa]),Zs=Ns(eu,ru,cu,ou,Ga,ha[vs[Xa]],Ss[1],Es[Xa])):Xa<48?(Fa=Hs(za,Ya,Bc,Qa,tu,ha[ws[Xa]],Ts[2],_s[Xa]),Zs=Hs(eu,ru,cu,ou,Ga,ha[vs[Xa]],Ss[2],Es[Xa])):Xa<64?(Fa=Ns(za,Ya,Bc,Qa,tu,ha[ws[Xa]],Ts[3],_s[Xa]),Zs=Ws(eu,ru,cu,ou,Ga,ha[vs[Xa]],Ss[3],Es[Xa])):(Fa=Js(za,Ya,Bc,Qa,tu,ha[ws[Xa]],Ts[4],_s[Xa]),Zs=Is(eu,ru,cu,ou,Ga,ha[vs[Xa]],Ss[4],Es[Xa])),za=tu,tu=Qa,Qa=Bs(Bc,10),Bc=Ya,Ya=Fa,eu=Ga,Ga=ou,ou=Bs(cu,10),cu=ru,ru=Zs}var Wa=this._b+Bc+ou|0;this._b=this._c+Qa+Ga|0,this._c=this._d+tu+eu|0,this._d=this._e+za+ru|0,this._e=this._a+Ya+cu|0,this._a=Wa},Rs.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ha=st.alloc?st.alloc(20):new st(20);return ha.writeInt32LE(this._a,0),ha.writeInt32LE(this._b,4),ha.writeInt32LE(this._c,8),ha.writeInt32LE(this._d,12),ha.writeInt32LE(this._e,16),ha};function Bs(ha,pa){return ha<<pa|ha>>>32-pa}function Is(ha,pa,za,Ya,Bc,Qa,tu,eu){return Bs(ha+(pa^za^Ya)+Qa+tu|0,eu)+Bc|0}function Ws(ha,pa,za,Ya,Bc,Qa,tu,eu){return Bs(ha+(pa&za|~pa&Ya)+Qa+tu|0,eu)+Bc|0}function Hs(ha,pa,za,Ya,Bc,Qa,tu,eu){return Bs(ha+((pa|~za)^Ya)+Qa+tu|0,eu)+Bc|0}function Ns(ha,pa,za,Ya,Bc,Qa,tu,eu){return Bs(ha+(pa&Ya|za&~Ya)+Qa+tu|0,eu)+Bc|0}function Js(ha,pa,za,Ya,Bc,Qa,tu,eu){return Bs(ha+(pa^(za|~Ya))+Qa+tu|0,eu)+Bc|0}return ripemd160$3=Rs,ripemd160$3}var sha_js={exports:{}},isarray$1,hasRequiredIsarray$1;function requireIsarray$1(){if(hasRequiredIsarray$1)return isarray$1;hasRequiredIsarray$1=1;var st={}.toString;return isarray$1=Array.isArray||function(t){return st.call(t)=="[object Array]"},isarray$1}var typedArrayBuffer,hasRequiredTypedArrayBuffer;function requireTypedArrayBuffer(){if(hasRequiredTypedArrayBuffer)return typedArrayBuffer;hasRequiredTypedArrayBuffer=1;var st=requireType(),t=requireCallBound(),et=t("TypedArray.prototype.buffer",!0),ms=requireIsTypedArray();return typedArrayBuffer=et||function(vs){if(!ms(vs))throw new st("Not a Typed Array");return vs.buffer},typedArrayBuffer}var toBuffer,hasRequiredToBuffer$1;function requireToBuffer$1(){if(hasRequiredToBuffer$1)return toBuffer;hasRequiredToBuffer$1=1;var st=requireSafeBuffer$1().Buffer,t=requireIsarray$1(),et=requireTypedArrayBuffer(),ms=ArrayBuffer.isView||function(Ts){try{return et(Ts),!0}catch{return!1}},ws=typeof Uint8Array<"u",vs=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",_s=vs&&(st.prototype instanceof Uint8Array||st.TYPED_ARRAY_SUPPORT);return toBuffer=function(Ts,Ss){if(Ts instanceof st)return Ts;if(typeof Ts=="string")return st.from(Ts,Ss);if(vs&&ms(Ts)){if(Ts.byteLength===0)return st.alloc(0);if(_s){var Rs=st.from(Ts.buffer,Ts.byteOffset,Ts.byteLength);if(Rs.byteLength===Ts.byteLength)return Rs}var Bs=Ts instanceof Uint8Array?Ts:new Uint8Array(Ts.buffer,Ts.byteOffset,Ts.byteLength),Is=st.from(Bs);if(Is.length===Ts.byteLength)return Is}if(ws&&Ts instanceof Uint8Array)return st.from(Ts);var Ws=t(Ts);if(Ws)for(var Hs=0;Hs<Ts.length;Hs+=1){var Ns=Ts[Hs];if(typeof Ns!="number"||Ns<0||Ns>255||~~Ns!==Ns)throw new RangeError("Array items must be numbers in the range 0-255.")}if(Ws||st.isBuffer(Ts)&&Ts.constructor&&typeof Ts.constructor.isBuffer=="function"&&Ts.constructor.isBuffer(Ts))return st.from(Ts);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},toBuffer}var hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var st=requireSafeBuffer$1().Buffer,t=requireToBuffer$1();function et(ms,ws){this._block=st.alloc(ms),this._finalSize=ws,this._blockSize=ms,this._len=0}return et.prototype.update=function(ms,ws){ms=t(ms,ws||"utf8");for(var vs=this._block,_s=this._blockSize,Es=ms.length,Ts=this._len,Ss=0;Ss<Es;){for(var Rs=Ts%_s,Bs=Math.min(Es-Ss,_s-Rs),Is=0;Is<Bs;Is++)vs[Rs+Is]=ms[Ss+Is];Ts+=Bs,Ss+=Bs,Ts%_s===0&&this._update(vs)}return this._len+=Es,this},et.prototype.digest=function(ms){var ws=this._len%this._blockSize;this._block[ws]=128,this._block.fill(0,ws+1),ws>=this._finalSize&&(this._update(this._block),this._block.fill(0));var vs=this._len*8;if(vs<=4294967295)this._block.writeUInt32BE(vs,this._blockSize-4);else{var _s=(vs&4294967295)>>>0,Es=(vs-_s)/4294967296;this._block.writeUInt32BE(Es,this._blockSize-8),this._block.writeUInt32BE(_s,this._blockSize-4)}this._update(this._block);var Ts=this._hash();return ms?Ts.toString(ms):Ts},et.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=et,hash$1}var sha$2,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$2;hasRequiredSha$1=1;var st=requireInherits_browser(),t=requireHash$1(),et=requireSafeBuffer$1().Buffer,ms=[1518500249,1859775393,-1894007588,-899497514],ws=new Array(80);function vs(){this.init(),this._w=ws,t.call(this,64,56)}st(vs,t),vs.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _s(Ss){return Ss<<5|Ss>>>27}function Es(Ss){return Ss<<30|Ss>>>2}function Ts(Ss,Rs,Bs,Is){return Ss===0?Rs&Bs|~Rs&Is:Ss===2?Rs&Bs|Rs&Is|Bs&Is:Rs^Bs^Is}return vs.prototype._update=function(Ss){for(var Rs=this._w,Bs=this._a|0,Is=this._b|0,Ws=this._c|0,Hs=this._d|0,Ns=this._e|0,Js=0;Js<16;++Js)Rs[Js]=Ss.readInt32BE(Js*4);for(;Js<80;++Js)Rs[Js]=Rs[Js-3]^Rs[Js-8]^Rs[Js-14]^Rs[Js-16];for(var ha=0;ha<80;++ha){var pa=~~(ha/20),za=_s(Bs)+Ts(pa,Is,Ws,Hs)+Ns+Rs[ha]+ms[pa]|0;Ns=Hs,Hs=Ws,Ws=Es(Is),Is=Bs,Bs=za}this._a=Bs+this._a|0,this._b=Is+this._b|0,this._c=Ws+this._c|0,this._d=Hs+this._d|0,this._e=Ns+this._e|0},vs.prototype._hash=function(){var Ss=et.allocUnsafe(20);return Ss.writeInt32BE(this._a|0,0),Ss.writeInt32BE(this._b|0,4),Ss.writeInt32BE(this._c|0,8),Ss.writeInt32BE(this._d|0,12),Ss.writeInt32BE(this._e|0,16),Ss},sha$2=vs,sha$2}var sha1$2,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$2;hasRequiredSha1$1=1;var st=requireInherits_browser(),t=requireHash$1(),et=requireSafeBuffer$1().Buffer,ms=[1518500249,1859775393,-1894007588,-899497514],ws=new Array(80);function vs(){this.init(),this._w=ws,t.call(this,64,56)}st(vs,t),vs.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _s(Rs){return Rs<<1|Rs>>>31}function Es(Rs){return Rs<<5|Rs>>>27}function Ts(Rs){return Rs<<30|Rs>>>2}function Ss(Rs,Bs,Is,Ws){return Rs===0?Bs&Is|~Bs&Ws:Rs===2?Bs&Is|Bs&Ws|Is&Ws:Bs^Is^Ws}return vs.prototype._update=function(Rs){for(var Bs=this._w,Is=this._a|0,Ws=this._b|0,Hs=this._c|0,Ns=this._d|0,Js=this._e|0,ha=0;ha<16;++ha)Bs[ha]=Rs.readInt32BE(ha*4);for(;ha<80;++ha)Bs[ha]=_s(Bs[ha-3]^Bs[ha-8]^Bs[ha-14]^Bs[ha-16]);for(var pa=0;pa<80;++pa){var za=~~(pa/20),Ya=Es(Is)+Ss(za,Ws,Hs,Ns)+Js+Bs[pa]+ms[za]|0;Js=Ns,Ns=Hs,Hs=Ts(Ws),Ws=Is,Is=Ya}this._a=Is+this._a|0,this._b=Ws+this._b|0,this._c=Hs+this._c|0,this._d=Ns+this._d|0,this._e=Js+this._e|0},vs.prototype._hash=function(){var Rs=et.allocUnsafe(20);return Rs.writeInt32BE(this._a|0,0),Rs.writeInt32BE(this._b|0,4),Rs.writeInt32BE(this._c|0,8),Rs.writeInt32BE(this._d|0,12),Rs.writeInt32BE(this._e|0,16),Rs},sha1$2=vs,sha1$2}var sha256$5,hasRequiredSha256$2;function requireSha256$2(){if(hasRequiredSha256$2)return sha256$5;hasRequiredSha256$2=1;var st=requireInherits_browser(),t=requireHash$1(),et=requireSafeBuffer$1().Buffer,ms=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ws=new Array(64);function vs(){this.init(),this._w=ws,t.call(this,64,56)}st(vs,t),vs.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function _s(Is,Ws,Hs){return Hs^Is&(Ws^Hs)}function Es(Is,Ws,Hs){return Is&Ws|Hs&(Is|Ws)}function Ts(Is){return(Is>>>2|Is<<30)^(Is>>>13|Is<<19)^(Is>>>22|Is<<10)}function Ss(Is){return(Is>>>6|Is<<26)^(Is>>>11|Is<<21)^(Is>>>25|Is<<7)}function Rs(Is){return(Is>>>7|Is<<25)^(Is>>>18|Is<<14)^Is>>>3}function Bs(Is){return(Is>>>17|Is<<15)^(Is>>>19|Is<<13)^Is>>>10}return vs.prototype._update=function(Is){for(var Ws=this._w,Hs=this._a|0,Ns=this._b|0,Js=this._c|0,ha=this._d|0,pa=this._e|0,za=this._f|0,Ya=this._g|0,Bc=this._h|0,Qa=0;Qa<16;++Qa)Ws[Qa]=Is.readInt32BE(Qa*4);for(;Qa<64;++Qa)Ws[Qa]=Bs(Ws[Qa-2])+Ws[Qa-7]+Rs(Ws[Qa-15])+Ws[Qa-16]|0;for(var tu=0;tu<64;++tu){var eu=Bc+Ss(pa)+_s(pa,za,Ya)+ms[tu]+Ws[tu]|0,ru=Ts(Hs)+Es(Hs,Ns,Js)|0;Bc=Ya,Ya=za,za=pa,pa=ha+eu|0,ha=Js,Js=Ns,Ns=Hs,Hs=eu+ru|0}this._a=Hs+this._a|0,this._b=Ns+this._b|0,this._c=Js+this._c|0,this._d=ha+this._d|0,this._e=pa+this._e|0,this._f=za+this._f|0,this._g=Ya+this._g|0,this._h=Bc+this._h|0},vs.prototype._hash=function(){var Is=et.allocUnsafe(32);return Is.writeInt32BE(this._a,0),Is.writeInt32BE(this._b,4),Is.writeInt32BE(this._c,8),Is.writeInt32BE(this._d,12),Is.writeInt32BE(this._e,16),Is.writeInt32BE(this._f,20),Is.writeInt32BE(this._g,24),Is.writeInt32BE(this._h,28),Is},sha256$5=vs,sha256$5}var sha224$3,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$3;hasRequiredSha224$1=1;var st=requireInherits_browser(),t=requireSha256$2(),et=requireHash$1(),ms=requireSafeBuffer$1().Buffer,ws=new Array(64);function vs(){this.init(),this._w=ws,et.call(this,64,56)}return st(vs,t),vs.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},vs.prototype._hash=function(){var _s=ms.allocUnsafe(28);return _s.writeInt32BE(this._a,0),_s.writeInt32BE(this._b,4),_s.writeInt32BE(this._c,8),_s.writeInt32BE(this._d,12),_s.writeInt32BE(this._e,16),_s.writeInt32BE(this._f,20),_s.writeInt32BE(this._g,24),_s},sha224$3=vs,sha224$3}var sha512$5,hasRequiredSha512$2;function requireSha512$2(){if(hasRequiredSha512$2)return sha512$5;hasRequiredSha512$2=1;var st=requireInherits_browser(),t=requireHash$1(),et=requireSafeBuffer$1().Buffer,ms=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ws=new Array(160);function vs(){this.init(),this._w=ws,t.call(this,128,112)}st(vs,t),vs.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function _s(Ns,Js,ha){return ha^Ns&(Js^ha)}function Es(Ns,Js,ha){return Ns&Js|ha&(Ns|Js)}function Ts(Ns,Js){return(Ns>>>28|Js<<4)^(Js>>>2|Ns<<30)^(Js>>>7|Ns<<25)}function Ss(Ns,Js){return(Ns>>>14|Js<<18)^(Ns>>>18|Js<<14)^(Js>>>9|Ns<<23)}function Rs(Ns,Js){return(Ns>>>1|Js<<31)^(Ns>>>8|Js<<24)^Ns>>>7}function Bs(Ns,Js){return(Ns>>>1|Js<<31)^(Ns>>>8|Js<<24)^(Ns>>>7|Js<<25)}function Is(Ns,Js){return(Ns>>>19|Js<<13)^(Js>>>29|Ns<<3)^Ns>>>6}function Ws(Ns,Js){return(Ns>>>19|Js<<13)^(Js>>>29|Ns<<3)^(Ns>>>6|Js<<26)}function Hs(Ns,Js){return Ns>>>0<Js>>>0?1:0}return vs.prototype._update=function(Ns){for(var Js=this._w,ha=this._ah|0,pa=this._bh|0,za=this._ch|0,Ya=this._dh|0,Bc=this._eh|0,Qa=this._fh|0,tu=this._gh|0,eu=this._hh|0,ru=this._al|0,cu=this._bl|0,ou=this._cl|0,Ga=this._dl|0,Xa=this._el|0,Fa=this._fl|0,Zs=this._gl|0,Wa=this._hl|0,Za=0;Za<32;Za+=2)Js[Za]=Ns.readInt32BE(Za*4),Js[Za+1]=Ns.readInt32BE(Za*4+4);for(;Za<160;Za+=2){var iu=Js[Za-30],au=Js[Za-15*2+1],nu=Rs(iu,au),uu=Bs(au,iu);iu=Js[Za-2*2],au=Js[Za-2*2+1];var fu=Is(iu,au),hu=Ws(au,iu),Eu=Js[Za-7*2],$u=Js[Za-7*2+1],Ou=Js[Za-16*2],gu=Js[Za-16*2+1],yu=uu+$u|0,Tu=nu+Eu+Hs(yu,uu)|0;yu=yu+hu|0,Tu=Tu+fu+Hs(yu,hu)|0,yu=yu+gu|0,Tu=Tu+Ou+Hs(yu,gu)|0,Js[Za]=Tu,Js[Za+1]=yu}for(var du=0;du<160;du+=2){Tu=Js[du],yu=Js[du+1];var wu=Es(ha,pa,za),Ru=Es(ru,cu,ou),Ku=Ts(ha,ru),Zu=Ts(ru,ha),tl=Ss(Bc,Xa),sl=Ss(Xa,Bc),gl=ms[du],Fu=ms[du+1],Mu=_s(Bc,Qa,tu),Ju=_s(Xa,Fa,Zs),vf=Wa+sl|0,wf=eu+tl+Hs(vf,Wa)|0;vf=vf+Ju|0,wf=wf+Mu+Hs(vf,Ju)|0,vf=vf+Fu|0,wf=wf+gl+Hs(vf,Fu)|0,vf=vf+yu|0,wf=wf+Tu+Hs(vf,yu)|0;var el=Zu+Ru|0,il=Ku+wu+Hs(el,Zu)|0;eu=tu,Wa=Zs,tu=Qa,Zs=Fa,Qa=Bc,Fa=Xa,Xa=Ga+vf|0,Bc=Ya+wf+Hs(Xa,Ga)|0,Ya=za,Ga=ou,za=pa,ou=cu,pa=ha,cu=ru,ru=vf+el|0,ha=wf+il+Hs(ru,vf)|0}this._al=this._al+ru|0,this._bl=this._bl+cu|0,this._cl=this._cl+ou|0,this._dl=this._dl+Ga|0,this._el=this._el+Xa|0,this._fl=this._fl+Fa|0,this._gl=this._gl+Zs|0,this._hl=this._hl+Wa|0,this._ah=this._ah+ha+Hs(this._al,ru)|0,this._bh=this._bh+pa+Hs(this._bl,cu)|0,this._ch=this._ch+za+Hs(this._cl,ou)|0,this._dh=this._dh+Ya+Hs(this._dl,Ga)|0,this._eh=this._eh+Bc+Hs(this._el,Xa)|0,this._fh=this._fh+Qa+Hs(this._fl,Fa)|0,this._gh=this._gh+tu+Hs(this._gl,Zs)|0,this._hh=this._hh+eu+Hs(this._hl,Wa)|0},vs.prototype._hash=function(){var Ns=et.allocUnsafe(64);function Js(ha,pa,za){Ns.writeInt32BE(ha,za),Ns.writeInt32BE(pa,za+4)}return Js(this._ah,this._al,0),Js(this._bh,this._bl,8),Js(this._ch,this._cl,16),Js(this._dh,this._dl,24),Js(this._eh,this._el,32),Js(this._fh,this._fl,40),Js(this._gh,this._gl,48),Js(this._hh,this._hl,56),Ns},sha512$5=vs,sha512$5}var sha384$3,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$3;hasRequiredSha384$1=1;var st=requireInherits_browser(),t=requireSha512$2(),et=requireHash$1(),ms=requireSafeBuffer$1().Buffer,ws=new Array(160);function vs(){this.init(),this._w=ws,et.call(this,128,112)}return st(vs,t),vs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},vs.prototype._hash=function(){var _s=ms.allocUnsafe(48);function Es(Ts,Ss,Rs){_s.writeInt32BE(Ts,Rs),_s.writeInt32BE(Ss,Rs+4)}return Es(this._ah,this._al,0),Es(this._bh,this._bl,8),Es(this._ch,this._cl,16),Es(this._dh,this._dl,24),Es(this._eh,this._el,32),Es(this._fh,this._fl,40),_s},sha384$3=vs,sha384$3}var hasRequiredSha_js;function requireSha_js(){return hasRequiredSha_js||(hasRequiredSha_js=1,function(st){st.exports=function(et){var ms=et.toLowerCase(),ws=st.exports[ms];if(!ws)throw new Error(ms+" is not supported (we accept pull requests)");return new ws},st.exports.sha=requireSha$1(),st.exports.sha1=requireSha1$1(),st.exports.sha224=requireSha224$1(),st.exports.sha256=requireSha256$2(),st.exports.sha384=requireSha384$1(),st.exports.sha512=requireSha512$2()}(sha_js)),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var st=requireSafeBuffer$1().Buffer,t=requireStreamBrowserify().Transform,et=requireString_decoder().StringDecoder,ms=requireInherits_browser();function ws(Ts){t.call(this),this.hashMode=typeof Ts=="string",this.hashMode?this[Ts]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}ms(ws,t);var vs=typeof Uint8Array<"u",_s=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(st.prototype instanceof Uint8Array||st.TYPED_ARRAY_SUPPORT);function Es(Ts,Ss){if(Ts instanceof st)return Ts;if(typeof Ts=="string")return st.from(Ts,Ss);if(_s&&ArrayBuffer.isView(Ts)){if(Ts.byteLength===0)return st.alloc(0);var Rs=st.from(Ts.buffer,Ts.byteOffset,Ts.byteLength);if(Rs.byteLength===Ts.byteLength)return Rs}if(vs&&Ts instanceof Uint8Array||st.isBuffer(Ts)&&Ts.constructor&&typeof Ts.constructor.isBuffer=="function"&&Ts.constructor.isBuffer(Ts))return st.from(Ts);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return ws.prototype.update=function(Ts,Ss,Rs){var Bs=Es(Ts,Ss),Is=this._update(Bs);return this.hashMode?this:(Rs&&(Is=this._toString(Is,Rs)),Is)},ws.prototype.setAutoPadding=function(){},ws.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},ws.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},ws.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},ws.prototype._transform=function(Ts,Ss,Rs){var Bs;try{this.hashMode?this._update(Ts):this.push(this._update(Ts))}catch(Is){Bs=Is}finally{Rs(Bs)}},ws.prototype._flush=function(Ts){var Ss;try{this.push(this.__final())}catch(Rs){Ss=Rs}Ts(Ss)},ws.prototype._finalOrDigest=function(Ts){var Ss=this.__final()||st.alloc(0);return Ts&&(Ss=this._toString(Ss,Ts,!0)),Ss},ws.prototype._toString=function(Ts,Ss,Rs){if(this._decoder||(this._decoder=new et(Ss),this._encoding=Ss),this._encoding!==Ss)throw new Error("canât switch encodings");var Bs=this._decoder.write(Ts);return Rs&&(Bs+=this._decoder.end()),Bs},cipherBase=ws,cipherBase}var browser$b,hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b;hasRequiredBrowser$b=1;var st=requireInherits_browser(),t=requireMd5_js(),et=requireRipemd160$2(),ms=requireSha_js(),ws=requireCipherBase();function vs(_s){ws.call(this,"digest"),this._hash=_s}return st(vs,ws),vs.prototype._update=function(_s){this._hash.update(_s)},vs.prototype._final=function(){return this._hash.digest()},browser$b=function(Es){return Es=Es.toLowerCase(),Es==="md5"?new t:Es==="rmd160"||Es==="ripemd160"?new et:new vs(ms(Es))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var st=requireInherits_browser(),t=requireSafeBuffer$1().Buffer,et=requireCipherBase(),ms=t.alloc(128),ws=64;function vs(_s,Es){et.call(this,"digest"),typeof Es=="string"&&(Es=t.from(Es)),this._alg=_s,this._key=Es,Es.length>ws?Es=_s(Es):Es.length<ws&&(Es=t.concat([Es,ms],ws));for(var Ts=this._ipad=t.allocUnsafe(ws),Ss=this._opad=t.allocUnsafe(ws),Rs=0;Rs<ws;Rs++)Ts[Rs]=Es[Rs]^54,Ss[Rs]=Es[Rs]^92;this._hash=[Ts]}return st(vs,et),vs.prototype._update=function(_s){this._hash.push(_s)},vs.prototype._final=function(){var _s=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,_s]))},legacy=vs,legacy}var md5$3,hasRequiredMd5$2;function requireMd5$2(){if(hasRequiredMd5$2)return md5$3;hasRequiredMd5$2=1;var st=requireMd5_js();return md5$3=function(t){return new st().update(t).digest()},md5$3}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1;var st=requireInherits_browser(),t=requireLegacy(),et=requireCipherBase(),ms=requireSafeBuffer$1().Buffer,ws=requireMd5$2(),vs=requireRipemd160$2(),_s=requireSha_js(),Es=ms.alloc(128);function Ts(Ss,Rs){et.call(this,"digest"),typeof Rs=="string"&&(Rs=ms.from(Rs));var Bs=Ss==="sha512"||Ss==="sha384"?128:64;if(this._alg=Ss,this._key=Rs,Rs.length>Bs){var Is=Ss==="rmd160"?new vs:_s(Ss);Rs=Is.update(Rs).digest()}else Rs.length<Bs&&(Rs=ms.concat([Rs,Es],Bs));for(var Ws=this._ipad=ms.allocUnsafe(Bs),Hs=this._opad=ms.allocUnsafe(Bs),Ns=0;Ns<Bs;Ns++)Ws[Ns]=Rs[Ns]^54,Hs[Ns]=Rs[Ns]^92;this._hash=Ss==="rmd160"?new vs:_s(Ss),this._hash.update(Ws)}return st(Ts,et),Ts.prototype._update=function(Ss){this._hash.update(Ss)},Ts.prototype._final=function(){var Ss=this._hash.digest(),Rs=this._alg==="rmd160"?new vs:_s(this._alg);return Rs.update(this._opad).update(Ss).digest()},browser$a=function(Rs,Bs){return Rs=Rs.toLowerCase(),Rs==="rmd160"||Rs==="ripemd160"?new Ts("rmd160",Bs):Rs==="md5"?new t(ws,Bs):new Ts(Rs,Bs)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$4={sign:"ecdsa",hash:"sha256",id:""},sha224$2={sign:"ecdsa",hash:"sha224",id:""},sha384$2={sign:"ecdsa",hash:"sha384",id:""},sha512$4={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$4,sha224:sha224$2,sha384:sha384$2,sha512:sha512$4,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var st=Math.pow(2,30)-1;return precondition=function(t,et){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof et!="number")throw new TypeError("Key length not a number");if(et<0||et>st||et!==et)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var st;if(window.process&&window.process.browser)st="utf-8";else if(window.process&&window.process.version){var t=parseInt(process$1.version.split(".")[0].slice(1),10);st=t>=6?"utf-8":"binary"}else st="utf-8";return defaultEncoding_1=st,defaultEncoding_1}var makeHash,hasRequiredMakeHash;function requireMakeHash(){if(hasRequiredMakeHash)return makeHash;hasRequiredMakeHash=1;var st=4,t=new Buffer(st);t.fill(0);var et=8,ms=16;function ws(vs){if(vs.length%st!==0){var _s=vs.length+(st-vs.length%st);vs=Buffer.concat([vs,t],_s)}for(var Es=new Array(vs.length>>>2),Ts=0,Ss=0;Ts<vs.length;Ts+=st,Ss++)Es[Ss]=vs.readInt32LE(Ts);return Es}return makeHash=function(_s,Es){var Ts=Es(ws(_s),_s.length*et);_s=new Buffer(ms);for(var Ss=0;Ss<Ts.length;Ss++)_s.writeInt32LE(Ts[Ss],Ss<<2,!0);return _s},makeHash}var md5$2,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$2;hasRequiredMd5$1=1;var st=requireMakeHash();function t(Ss,Rs){Ss[Rs>>5]|=128<<Rs%32,Ss[(Rs+64>>>9<<4)+14]=Rs;for(var Bs=1732584193,Is=-271733879,Ws=-1732584194,Hs=271733878,Ns=0;Ns<Ss.length;Ns+=16){var Js=Bs,ha=Is,pa=Ws,za=Hs;Bs=ms(Bs,Is,Ws,Hs,Ss[Ns+0],7,-680876936),Hs=ms(Hs,Bs,Is,Ws,Ss[Ns+1],12,-389564586),Ws=ms(Ws,Hs,Bs,Is,Ss[Ns+2],17,606105819),Is=ms(Is,Ws,Hs,Bs,Ss[Ns+3],22,-1044525330),Bs=ms(Bs,Is,Ws,Hs,Ss[Ns+4],7,-176418897),Hs=ms(Hs,Bs,Is,Ws,Ss[Ns+5],12,1200080426),Ws=ms(Ws,Hs,Bs,Is,Ss[Ns+6],17,-1473231341),Is=ms(Is,Ws,Hs,Bs,Ss[Ns+7],22,-45705983),Bs=ms(Bs,Is,Ws,Hs,Ss[Ns+8],7,1770035416),Hs=ms(Hs,Bs,Is,Ws,Ss[Ns+9],12,-1958414417),Ws=ms(Ws,Hs,Bs,Is,Ss[Ns+10],17,-42063),Is=ms(Is,Ws,Hs,Bs,Ss[Ns+11],22,-1990404162),Bs=ms(Bs,Is,Ws,Hs,Ss[Ns+12],7,1804603682),Hs=ms(Hs,Bs,Is,Ws,Ss[Ns+13],12,-40341101),Ws=ms(Ws,Hs,Bs,Is,Ss[Ns+14],17,-1502002290),Is=ms(Is,Ws,Hs,Bs,Ss[Ns+15],22,1236535329),Bs=ws(Bs,Is,Ws,Hs,Ss[Ns+1],5,-165796510),Hs=ws(Hs,Bs,Is,Ws,Ss[Ns+6],9,-1069501632),Ws=ws(Ws,Hs,Bs,Is,Ss[Ns+11],14,643717713),Is=ws(Is,Ws,Hs,Bs,Ss[Ns+0],20,-373897302),Bs=ws(Bs,Is,Ws,Hs,Ss[Ns+5],5,-701558691),Hs=ws(Hs,Bs,Is,Ws,Ss[Ns+10],9,38016083),Ws=ws(Ws,Hs,Bs,Is,Ss[Ns+15],14,-660478335),Is=ws(Is,Ws,Hs,Bs,Ss[Ns+4],20,-405537848),Bs=ws(Bs,Is,Ws,Hs,Ss[Ns+9],5,568446438),Hs=ws(Hs,Bs,Is,Ws,Ss[Ns+14],9,-1019803690),Ws=ws(Ws,Hs,Bs,Is,Ss[Ns+3],14,-187363961),Is=ws(Is,Ws,Hs,Bs,Ss[Ns+8],20,1163531501),Bs=ws(Bs,Is,Ws,Hs,Ss[Ns+13],5,-1444681467),Hs=ws(Hs,Bs,Is,Ws,Ss[Ns+2],9,-51403784),Ws=ws(Ws,Hs,Bs,Is,Ss[Ns+7],14,1735328473),Is=ws(Is,Ws,Hs,Bs,Ss[Ns+12],20,-1926607734),Bs=vs(Bs,Is,Ws,Hs,Ss[Ns+5],4,-378558),Hs=vs(Hs,Bs,Is,Ws,Ss[Ns+8],11,-2022574463),Ws=vs(Ws,Hs,Bs,Is,Ss[Ns+11],16,1839030562),Is=vs(Is,Ws,Hs,Bs,Ss[Ns+14],23,-35309556),Bs=vs(Bs,Is,Ws,Hs,Ss[Ns+1],4,-1530992060),Hs=vs(Hs,Bs,Is,Ws,Ss[Ns+4],11,1272893353),Ws=vs(Ws,Hs,Bs,Is,Ss[Ns+7],16,-155497632),Is=vs(Is,Ws,Hs,Bs,Ss[Ns+10],23,-1094730640),Bs=vs(Bs,Is,Ws,Hs,Ss[Ns+13],4,681279174),Hs=vs(Hs,Bs,Is,Ws,Ss[Ns+0],11,-358537222),Ws=vs(Ws,Hs,Bs,Is,Ss[Ns+3],16,-722521979),Is=vs(Is,Ws,Hs,Bs,Ss[Ns+6],23,76029189),Bs=vs(Bs,Is,Ws,Hs,Ss[Ns+9],4,-640364487),Hs=vs(Hs,Bs,Is,Ws,Ss[Ns+12],11,-421815835),Ws=vs(Ws,Hs,Bs,Is,Ss[Ns+15],16,530742520),Is=vs(Is,Ws,Hs,Bs,Ss[Ns+2],23,-995338651),Bs=_s(Bs,Is,Ws,Hs,Ss[Ns+0],6,-198630844),Hs=_s(Hs,Bs,Is,Ws,Ss[Ns+7],10,1126891415),Ws=_s(Ws,Hs,Bs,Is,Ss[Ns+14],15,-1416354905),Is=_s(Is,Ws,Hs,Bs,Ss[Ns+5],21,-57434055),Bs=_s(Bs,Is,Ws,Hs,Ss[Ns+12],6,1700485571),Hs=_s(Hs,Bs,Is,Ws,Ss[Ns+3],10,-1894986606),Ws=_s(Ws,Hs,Bs,Is,Ss[Ns+10],15,-1051523),Is=_s(Is,Ws,Hs,Bs,Ss[Ns+1],21,-2054922799),Bs=_s(Bs,Is,Ws,Hs,Ss[Ns+8],6,1873313359),Hs=_s(Hs,Bs,Is,Ws,Ss[Ns+15],10,-30611744),Ws=_s(Ws,Hs,Bs,Is,Ss[Ns+6],15,-1560198380),Is=_s(Is,Ws,Hs,Bs,Ss[Ns+13],21,1309151649),Bs=_s(Bs,Is,Ws,Hs,Ss[Ns+4],6,-145523070),Hs=_s(Hs,Bs,Is,Ws,Ss[Ns+11],10,-1120210379),Ws=_s(Ws,Hs,Bs,Is,Ss[Ns+2],15,718787259),Is=_s(Is,Ws,Hs,Bs,Ss[Ns+9],21,-343485551),Bs=Es(Bs,Js),Is=Es(Is,ha),Ws=Es(Ws,pa),Hs=Es(Hs,za)}return[Bs,Is,Ws,Hs]}function et(Ss,Rs,Bs,Is,Ws,Hs){return Es(Ts(Es(Es(Rs,Ss),Es(Is,Hs)),Ws),Bs)}function ms(Ss,Rs,Bs,Is,Ws,Hs,Ns){return et(Rs&Bs|~Rs&Is,Ss,Rs,Ws,Hs,Ns)}function ws(Ss,Rs,Bs,Is,Ws,Hs,Ns){return et(Rs&Is|Bs&~Is,Ss,Rs,Ws,Hs,Ns)}function vs(Ss,Rs,Bs,Is,Ws,Hs,Ns){return et(Rs^Bs^Is,Ss,Rs,Ws,Hs,Ns)}function _s(Ss,Rs,Bs,Is,Ws,Hs,Ns){return et(Bs^(Rs|~Is),Ss,Rs,Ws,Hs,Ns)}function Es(Ss,Rs){var Bs=(Ss&65535)+(Rs&65535),Is=(Ss>>16)+(Rs>>16)+(Bs>>16);return Is<<16|Bs&65535}function Ts(Ss,Rs){return Ss<<Rs|Ss>>>32-Rs}return md5$2=function(Rs){return st(Rs,t)},md5$2}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var st=requireStreamBrowserify().Transform,t=requireInherits_browser();function et(ms){st.call(this),this._block=new Buffer(ms),this._blockSize=ms,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return t(et,st),et.prototype._transform=function(ms,ws,vs){var _s=null;try{ws!=="buffer"&&(ms=new Buffer(ms,ws)),this.update(ms)}catch(Es){_s=Es}vs(_s)},et.prototype._flush=function(ms){var ws=null;try{this.push(this._digest())}catch(vs){ws=vs}ms(ws)},et.prototype.update=function(ms,ws){if(!Buffer.isBuffer(ms)&&typeof ms!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(ms)||(ms=new Buffer(ms,ws||"binary"));for(var vs=this._block,_s=0;this._blockOffset+ms.length-_s>=this._blockSize;){for(var Es=this._blockOffset;Es<this._blockSize;)vs[Es++]=ms[_s++];this._update(),this._blockOffset=0}for(;_s<ms.length;)vs[this._blockOffset++]=ms[_s++];for(var Ts=0,Ss=ms.length*8;Ss>0;++Ts)this._length[Ts]+=Ss,Ss=this._length[Ts]/4294967296|0,Ss>0&&(this._length[Ts]-=4294967296*Ss);return this},et.prototype._update=function(ms){throw new Error("_update is not implemented")},et.prototype.digest=function(ms){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ws=this._digest();return ms!==void 0&&(ws=ws.toString(ms)),ws},et.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=et,hashBase}var ripemd160$2,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$2;hasRequiredRipemd160$1=1;var st=requireInherits_browser(),t=requireHashBase();function et(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}st(et,t),et.prototype._update=function(){for(var Ss=new Array(16),Rs=0;Rs<16;++Rs)Ss[Rs]=this._block.readInt32LE(Rs*4);var Bs=this._a,Is=this._b,Ws=this._c,Hs=this._d,Ns=this._e;Bs=ws(Bs,Is,Ws,Hs,Ns,Ss[0],0,11),Ws=ms(Ws,10),Ns=ws(Ns,Bs,Is,Ws,Hs,Ss[1],0,14),Is=ms(Is,10),Hs=ws(Hs,Ns,Bs,Is,Ws,Ss[2],0,15),Bs=ms(Bs,10),Ws=ws(Ws,Hs,Ns,Bs,Is,Ss[3],0,12),Ns=ms(Ns,10),Is=ws(Is,Ws,Hs,Ns,Bs,Ss[4],0,5),Hs=ms(Hs,10),Bs=ws(Bs,Is,Ws,Hs,Ns,Ss[5],0,8),Ws=ms(Ws,10),Ns=ws(Ns,Bs,Is,Ws,Hs,Ss[6],0,7),Is=ms(Is,10),Hs=ws(Hs,Ns,Bs,Is,Ws,Ss[7],0,9),Bs=ms(Bs,10),Ws=ws(Ws,Hs,Ns,Bs,Is,Ss[8],0,11),Ns=ms(Ns,10),Is=ws(Is,Ws,Hs,Ns,Bs,Ss[9],0,13),Hs=ms(Hs,10),Bs=ws(Bs,Is,Ws,Hs,Ns,Ss[10],0,14),Ws=ms(Ws,10),Ns=ws(Ns,Bs,Is,Ws,Hs,Ss[11],0,15),Is=ms(Is,10),Hs=ws(Hs,Ns,Bs,Is,Ws,Ss[12],0,6),Bs=ms(Bs,10),Ws=ws(Ws,Hs,Ns,Bs,Is,Ss[13],0,7),Ns=ms(Ns,10),Is=ws(Is,Ws,Hs,Ns,Bs,Ss[14],0,9),Hs=ms(Hs,10),Bs=ws(Bs,Is,Ws,Hs,Ns,Ss[15],0,8),Ws=ms(Ws,10),Ns=vs(Ns,Bs,Is,Ws,Hs,Ss[7],1518500249,7),Is=ms(Is,10),Hs=vs(Hs,Ns,Bs,Is,Ws,Ss[4],1518500249,6),Bs=ms(Bs,10),Ws=vs(Ws,Hs,Ns,Bs,Is,Ss[13],1518500249,8),Ns=ms(Ns,10),Is=vs(Is,Ws,Hs,Ns,Bs,Ss[1],1518500249,13),Hs=ms(Hs,10),Bs=vs(Bs,Is,Ws,Hs,Ns,Ss[10],1518500249,11),Ws=ms(Ws,10),Ns=vs(Ns,Bs,Is,Ws,Hs,Ss[6],1518500249,9),Is=ms(Is,10),Hs=vs(Hs,Ns,Bs,Is,Ws,Ss[15],1518500249,7),Bs=ms(Bs,10),Ws=vs(Ws,Hs,Ns,Bs,Is,Ss[3],1518500249,15),Ns=ms(Ns,10),Is=vs(Is,Ws,Hs,Ns,Bs,Ss[12],1518500249,7),Hs=ms(Hs,10),Bs=vs(Bs,Is,Ws,Hs,Ns,Ss[0],1518500249,12),Ws=ms(Ws,10),Ns=vs(Ns,Bs,Is,Ws,Hs,Ss[9],1518500249,15),Is=ms(Is,10),Hs=vs(Hs,Ns,Bs,Is,Ws,Ss[5],1518500249,9),Bs=ms(Bs,10),Ws=vs(Ws,Hs,Ns,Bs,Is,Ss[2],1518500249,11),Ns=ms(Ns,10),Is=vs(Is,Ws,Hs,Ns,Bs,Ss[14],1518500249,7),Hs=ms(Hs,10),Bs=vs(Bs,Is,Ws,Hs,Ns,Ss[11],1518500249,13),Ws=ms(Ws,10),Ns=vs(Ns,Bs,Is,Ws,Hs,Ss[8],1518500249,12),Is=ms(Is,10),Hs=_s(Hs,Ns,Bs,Is,Ws,Ss[3],1859775393,11),Bs=ms(Bs,10),Ws=_s(Ws,Hs,Ns,Bs,Is,Ss[10],1859775393,13),Ns=ms(Ns,10),Is=_s(Is,Ws,Hs,Ns,Bs,Ss[14],1859775393,6),Hs=ms(Hs,10),Bs=_s(Bs,Is,Ws,Hs,Ns,Ss[4],1859775393,7),Ws=ms(Ws,10),Ns=_s(Ns,Bs,Is,Ws,Hs,Ss[9],1859775393,14),Is=ms(Is,10),Hs=_s(Hs,Ns,Bs,Is,Ws,Ss[15],1859775393,9),Bs=ms(Bs,10),Ws=_s(Ws,Hs,Ns,Bs,Is,Ss[8],1859775393,13),Ns=ms(Ns,10),Is=_s(Is,Ws,Hs,Ns,Bs,Ss[1],1859775393,15),Hs=ms(Hs,10),Bs=_s(Bs,Is,Ws,Hs,Ns,Ss[2],1859775393,14),Ws=ms(Ws,10),Ns=_s(Ns,Bs,Is,Ws,Hs,Ss[7],1859775393,8),Is=ms(Is,10),Hs=_s(Hs,Ns,Bs,Is,Ws,Ss[0],1859775393,13),Bs=ms(Bs,10),Ws=_s(Ws,Hs,Ns,Bs,Is,Ss[6],1859775393,6),Ns=ms(Ns,10),Is=_s(Is,Ws,Hs,Ns,Bs,Ss[13],1859775393,5),Hs=ms(Hs,10),Bs=_s(Bs,Is,Ws,Hs,Ns,Ss[11],1859775393,12),Ws=ms(Ws,10),Ns=_s(Ns,Bs,Is,Ws,Hs,Ss[5],1859775393,7),Is=ms(Is,10),Hs=_s(Hs,Ns,Bs,Is,Ws,Ss[12],1859775393,5),Bs=ms(Bs,10),Ws=Es(Ws,Hs,Ns,Bs,Is,Ss[1],2400959708,11),Ns=ms(Ns,10),Is=Es(Is,Ws,Hs,Ns,Bs,Ss[9],2400959708,12),Hs=ms(Hs,10),Bs=Es(Bs,Is,Ws,Hs,Ns,Ss[11],2400959708,14),Ws=ms(Ws,10),Ns=Es(Ns,Bs,Is,Ws,Hs,Ss[10],2400959708,15),Is=ms(Is,10),Hs=Es(Hs,Ns,Bs,Is,Ws,Ss[0],2400959708,14),Bs=ms(Bs,10),Ws=Es(Ws,Hs,Ns,Bs,Is,Ss[8],2400959708,15),Ns=ms(Ns,10),Is=Es(Is,Ws,Hs,Ns,Bs,Ss[12],2400959708,9),Hs=ms(Hs,10),Bs=Es(Bs,Is,Ws,Hs,Ns,Ss[4],2400959708,8),Ws=ms(Ws,10),Ns=Es(Ns,Bs,Is,Ws,Hs,Ss[13],2400959708,9),Is=ms(Is,10),Hs=Es(Hs,Ns,Bs,Is,Ws,Ss[3],2400959708,14),Bs=ms(Bs,10),Ws=Es(Ws,Hs,Ns,Bs,Is,Ss[7],2400959708,5),Ns=ms(Ns,10),Is=Es(Is,Ws,Hs,Ns,Bs,Ss[15],2400959708,6),Hs=ms(Hs,10),Bs=Es(Bs,Is,Ws,Hs,Ns,Ss[14],2400959708,8),Ws=ms(Ws,10),Ns=Es(Ns,Bs,Is,Ws,Hs,Ss[5],2400959708,6),Is=ms(Is,10),Hs=Es(Hs,Ns,Bs,Is,Ws,Ss[6],2400959708,5),Bs=ms(Bs,10),Ws=Es(Ws,Hs,Ns,Bs,Is,Ss[2],2400959708,12),Ns=ms(Ns,10),Is=Ts(Is,Ws,Hs,Ns,Bs,Ss[4],2840853838,9),Hs=ms(Hs,10),Bs=Ts(Bs,Is,Ws,Hs,Ns,Ss[0],2840853838,15),Ws=ms(Ws,10),Ns=Ts(Ns,Bs,Is,Ws,Hs,Ss[5],2840853838,5),Is=ms(Is,10),Hs=Ts(Hs,Ns,Bs,Is,Ws,Ss[9],2840853838,11),Bs=ms(Bs,10),Ws=Ts(Ws,Hs,Ns,Bs,Is,Ss[7],2840853838,6),Ns=ms(Ns,10),Is=Ts(Is,Ws,Hs,Ns,Bs,Ss[12],2840853838,8),Hs=ms(Hs,10),Bs=Ts(Bs,Is,Ws,Hs,Ns,Ss[2],2840853838,13),Ws=ms(Ws,10),Ns=Ts(Ns,Bs,Is,Ws,Hs,Ss[10],2840853838,12),Is=ms(Is,10),Hs=Ts(Hs,Ns,Bs,Is,Ws,Ss[14],2840853838,5),Bs=ms(Bs,10),Ws=Ts(Ws,Hs,Ns,Bs,Is,Ss[1],2840853838,12),Ns=ms(Ns,10),Is=Ts(Is,Ws,Hs,Ns,Bs,Ss[3],2840853838,13),Hs=ms(Hs,10),Bs=Ts(Bs,Is,Ws,Hs,Ns,Ss[8],2840853838,14),Ws=ms(Ws,10),Ns=Ts(Ns,Bs,Is,Ws,Hs,Ss[11],2840853838,11),Is=ms(Is,10),Hs=Ts(Hs,Ns,Bs,Is,Ws,Ss[6],2840853838,8),Bs=ms(Bs,10),Ws=Ts(Ws,Hs,Ns,Bs,Is,Ss[15],2840853838,5),Ns=ms(Ns,10),Is=Ts(Is,Ws,Hs,Ns,Bs,Ss[13],2840853838,6),Hs=ms(Hs,10);var Js=this._a,ha=this._b,pa=this._c,za=this._d,Ya=this._e;Js=Ts(Js,ha,pa,za,Ya,Ss[5],1352829926,8),pa=ms(pa,10),Ya=Ts(Ya,Js,ha,pa,za,Ss[14],1352829926,9),ha=ms(ha,10),za=Ts(za,Ya,Js,ha,pa,Ss[7],1352829926,9),Js=ms(Js,10),pa=Ts(pa,za,Ya,Js,ha,Ss[0],1352829926,11),Ya=ms(Ya,10),ha=Ts(ha,pa,za,Ya,Js,Ss[9],1352829926,13),za=ms(za,10),Js=Ts(Js,ha,pa,za,Ya,Ss[2],1352829926,15),pa=ms(pa,10),Ya=Ts(Ya,Js,ha,pa,za,Ss[11],1352829926,15),ha=ms(ha,10),za=Ts(za,Ya,Js,ha,pa,Ss[4],1352829926,5),Js=ms(Js,10),pa=Ts(pa,za,Ya,Js,ha,Ss[13],1352829926,7),Ya=ms(Ya,10),ha=Ts(ha,pa,za,Ya,Js,Ss[6],1352829926,7),za=ms(za,10),Js=Ts(Js,ha,pa,za,Ya,Ss[15],1352829926,8),pa=ms(pa,10),Ya=Ts(Ya,Js,ha,pa,za,Ss[8],1352829926,11),ha=ms(ha,10),za=Ts(za,Ya,Js,ha,pa,Ss[1],1352829926,14),Js=ms(Js,10),pa=Ts(pa,za,Ya,Js,ha,Ss[10],1352829926,14),Ya=ms(Ya,10),ha=Ts(ha,pa,za,Ya,Js,Ss[3],1352829926,12),za=ms(za,10),Js=Ts(Js,ha,pa,za,Ya,Ss[12],1352829926,6),pa=ms(pa,10),Ya=Es(Ya,Js,ha,pa,za,Ss[6],1548603684,9),ha=ms(ha,10),za=Es(za,Ya,Js,ha,pa,Ss[11],1548603684,13),Js=ms(Js,10),pa=Es(pa,za,Ya,Js,ha,Ss[3],1548603684,15),Ya=ms(Ya,10),ha=Es(ha,pa,za,Ya,Js,Ss[7],1548603684,7),za=ms(za,10),Js=Es(Js,ha,pa,za,Ya,Ss[0],1548603684,12),pa=ms(pa,10),Ya=Es(Ya,Js,ha,pa,za,Ss[13],1548603684,8),ha=ms(ha,10),za=Es(za,Ya,Js,ha,pa,Ss[5],1548603684,9),Js=ms(Js,10),pa=Es(pa,za,Ya,Js,ha,Ss[10],1548603684,11),Ya=ms(Ya,10),ha=Es(ha,pa,za,Ya,Js,Ss[14],1548603684,7),za=ms(za,10),Js=Es(Js,ha,pa,za,Ya,Ss[15],1548603684,7),pa=ms(pa,10),Ya=Es(Ya,Js,ha,pa,za,Ss[8],1548603684,12),ha=ms(ha,10),za=Es(za,Ya,Js,ha,pa,Ss[12],1548603684,7),Js=ms(Js,10),pa=Es(pa,za,Ya,Js,ha,Ss[4],1548603684,6),Ya=ms(Ya,10),ha=Es(ha,pa,za,Ya,Js,Ss[9],1548603684,15),za=ms(za,10),Js=Es(Js,ha,pa,za,Ya,Ss[1],1548603684,13),pa=ms(pa,10),Ya=Es(Ya,Js,ha,pa,za,Ss[2],1548603684,11),ha=ms(ha,10),za=_s(za,Ya,Js,ha,pa,Ss[15],1836072691,9),Js=ms(Js,10),pa=_s(pa,za,Ya,Js,ha,Ss[5],1836072691,7),Ya=ms(Ya,10),ha=_s(ha,pa,za,Ya,Js,Ss[1],1836072691,15),za=ms(za,10),Js=_s(Js,ha,pa,za,Ya,Ss[3],1836072691,11),pa=ms(pa,10),Ya=_s(Ya,Js,ha,pa,za,Ss[7],1836072691,8),ha=ms(ha,10),za=_s(za,Ya,Js,ha,pa,Ss[14],1836072691,6),Js=ms(Js,10),pa=_s(pa,za,Ya,Js,ha,Ss[6],1836072691,6),Ya=ms(Ya,10),ha=_s(ha,pa,za,Ya,Js,Ss[9],1836072691,14),za=ms(za,10),Js=_s(Js,ha,pa,za,Ya,Ss[11],1836072691,12),pa=ms(pa,10),Ya=_s(Ya,Js,ha,pa,za,Ss[8],1836072691,13),ha=ms(ha,10),za=_s(za,Ya,Js,ha,pa,Ss[12],1836072691,5),Js=ms(Js,10),pa=_s(pa,za,Ya,Js,ha,Ss[2],1836072691,14),Ya=ms(Ya,10),ha=_s(ha,pa,za,Ya,Js,Ss[10],1836072691,13),za=ms(za,10),Js=_s(Js,ha,pa,za,Ya,Ss[0],1836072691,13),pa=ms(pa,10),Ya=_s(Ya,Js,ha,pa,za,Ss[4],1836072691,7),ha=ms(ha,10),za=_s(za,Ya,Js,ha,pa,Ss[13],1836072691,5),Js=ms(Js,10),pa=vs(pa,za,Ya,Js,ha,Ss[8],2053994217,15),Ya=ms(Ya,10),ha=vs(ha,pa,za,Ya,Js,Ss[6],2053994217,5),za=ms(za,10),Js=vs(Js,ha,pa,za,Ya,Ss[4],2053994217,8),pa=ms(pa,10),Ya=vs(Ya,Js,ha,pa,za,Ss[1],2053994217,11),ha=ms(ha,10),za=vs(za,Ya,Js,ha,pa,Ss[3],2053994217,14),Js=ms(Js,10),pa=vs(pa,za,Ya,Js,ha,Ss[11],2053994217,14),Ya=ms(Ya,10),ha=vs(ha,pa,za,Ya,Js,Ss[15],2053994217,6),za=ms(za,10),Js=vs(Js,ha,pa,za,Ya,Ss[0],2053994217,14),pa=ms(pa,10),Ya=vs(Ya,Js,ha,pa,za,Ss[5],2053994217,6),ha=ms(ha,10),za=vs(za,Ya,Js,ha,pa,Ss[12],2053994217,9),Js=ms(Js,10),pa=vs(pa,za,Ya,Js,ha,Ss[2],2053994217,12),Ya=ms(Ya,10),ha=vs(ha,pa,za,Ya,Js,Ss[13],2053994217,9),za=ms(za,10),Js=vs(Js,ha,pa,za,Ya,Ss[9],2053994217,12),pa=ms(pa,10),Ya=vs(Ya,Js,ha,pa,za,Ss[7],2053994217,5),ha=ms(ha,10),za=vs(za,Ya,Js,ha,pa,Ss[10],2053994217,15),Js=ms(Js,10),pa=vs(pa,za,Ya,Js,ha,Ss[14],2053994217,8),Ya=ms(Ya,10),ha=ws(ha,pa,za,Ya,Js,Ss[12],0,8),za=ms(za,10),Js=ws(Js,ha,pa,za,Ya,Ss[15],0,5),pa=ms(pa,10),Ya=ws(Ya,Js,ha,pa,za,Ss[10],0,12),ha=ms(ha,10),za=ws(za,Ya,Js,ha,pa,Ss[4],0,9),Js=ms(Js,10),pa=ws(pa,za,Ya,Js,ha,Ss[1],0,12),Ya=ms(Ya,10),ha=ws(ha,pa,za,Ya,Js,Ss[5],0,5),za=ms(za,10),Js=ws(Js,ha,pa,za,Ya,Ss[8],0,14),pa=ms(pa,10),Ya=ws(Ya,Js,ha,pa,za,Ss[7],0,6),ha=ms(ha,10),za=ws(za,Ya,Js,ha,pa,Ss[6],0,8),Js=ms(Js,10),pa=ws(pa,za,Ya,Js,ha,Ss[2],0,13),Ya=ms(Ya,10),ha=ws(ha,pa,za,Ya,Js,Ss[13],0,6),za=ms(za,10),Js=ws(Js,ha,pa,za,Ya,Ss[14],0,5),pa=ms(pa,10),Ya=ws(Ya,Js,ha,pa,za,Ss[0],0,15),ha=ms(ha,10),za=ws(za,Ya,Js,ha,pa,Ss[3],0,13),Js=ms(Js,10),pa=ws(pa,za,Ya,Js,ha,Ss[9],0,11),Ya=ms(Ya,10),ha=ws(ha,pa,za,Ya,Js,Ss[11],0,11),za=ms(za,10);var Bc=this._b+Ws+za|0;this._b=this._c+Hs+Ya|0,this._c=this._d+Ns+Js|0,this._d=this._e+Bs+ha|0,this._e=this._a+Is+pa|0,this._a=Bc},et.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Ss=new Buffer(20);return Ss.writeInt32LE(this._a,0),Ss.writeInt32LE(this._b,4),Ss.writeInt32LE(this._c,8),Ss.writeInt32LE(this._d,12),Ss.writeInt32LE(this._e,16),Ss};function ms(Ss,Rs){return Ss<<Rs|Ss>>>32-Rs}function ws(Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){return ms(Ss+(Rs^Bs^Is)+Hs+Ns|0,Js)+Ws|0}function vs(Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){return ms(Ss+(Rs&Bs|~Rs&Is)+Hs+Ns|0,Js)+Ws|0}function _s(Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){return ms(Ss+((Rs|~Bs)^Is)+Hs+Ns|0,Js)+Ws|0}function Es(Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){return ms(Ss+(Rs&Is|Bs&~Is)+Hs+Ns|0,Js)+Ws|0}function Ts(Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){return ms(Ss+(Rs^(Bs|~Is))+Hs+Ns|0,Js)+Ws|0}return ripemd160$2=et,ripemd160$2}var toBuffer_1,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer_1;hasRequiredToBuffer=1;var st=requireSafeBuffer$1().Buffer,t=requireToBuffer$1(),et=typeof Uint8Array<"u",ms=et&&typeof ArrayBuffer<"u",ws=ms&&ArrayBuffer.isView;return toBuffer_1=function(vs,_s,Es){if(typeof vs=="string"||st.isBuffer(vs)||et&&vs instanceof Uint8Array||ws&&ws(vs))return t(vs,_s);throw new TypeError(Es+" must be a string, a Buffer, a Uint8Array, or a DataView")},toBuffer_1}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var st=requireMd5$1(),t=requireRipemd160$1(),et=requireSha_js(),ms=requireSafeBuffer$1().Buffer,ws=requirePrecondition(),vs=requireDefaultEncoding(),_s=requireToBuffer(),Es=ms.alloc(128),Ts={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},Ss={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function Rs(Hs){return new t().update(Hs).digest()}function Bs(Hs){function Ns(Js){return et(Hs).update(Js).digest()}return Hs==="rmd160"||Hs==="ripemd160"?Rs:Hs==="md5"?st:Ns}function Is(Hs,Ns,Js){var ha=Bs(Hs),pa=Hs==="sha512"||Hs==="sha384"?128:64;Ns.length>pa?Ns=ha(Ns):Ns.length<pa&&(Ns=ms.concat([Ns,Es],pa));for(var za=ms.allocUnsafe(pa+Ts[Hs]),Ya=ms.allocUnsafe(pa+Ts[Hs]),Bc=0;Bc<pa;Bc++)za[Bc]=Ns[Bc]^54,Ya[Bc]=Ns[Bc]^92;var Qa=ms.allocUnsafe(pa+Js+4);za.copy(Qa,0,0,pa),this.ipad1=Qa,this.ipad2=za,this.opad=Ya,this.alg=Hs,this.blocksize=pa,this.hash=ha,this.size=Ts[Hs]}Is.prototype.run=function(Hs,Ns){Hs.copy(Ns,this.blocksize);var Js=this.hash(Ns);return Js.copy(this.opad,this.blocksize),this.hash(this.opad)};function Ws(Hs,Ns,Js,ha,pa){ws(Js,ha),Hs=_s(Hs,vs,"Password"),Ns=_s(Ns,vs,"Salt");var za=(pa||"sha1").toLowerCase(),Ya=Ss[za]||za,Bc=Ts[Ya];if(typeof Bc!="number"||!Bc)throw new TypeError("Digest algorithm not supported: "+pa);var Qa=new Is(Ya,Hs,Ns.length),tu=ms.allocUnsafe(ha),eu=ms.allocUnsafe(Ns.length+4);Ns.copy(eu,0,0,Ns.length);for(var ru=0,cu=Bc,ou=Math.ceil(ha/cu),Ga=1;Ga<=ou;Ga++){eu.writeUInt32BE(Ga,Ns.length);for(var Xa=Qa.run(eu,Qa.ipad1),Fa=Xa,Zs=1;Zs<Js;Zs++){Fa=Qa.run(Fa,Qa.ipad2);for(var Wa=0;Wa<cu;Wa++)Xa[Wa]^=Fa[Wa]}Xa.copy(tu,ru),ru+=cu}return tu}return syncBrowser=Ws,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var st=requireSafeBuffer$1().Buffer,t=requirePrecondition(),et=requireDefaultEncoding(),ms=requireSyncBrowser(),ws=requireToBuffer(),vs,_s=window.crypto&&window.crypto.subtle,Es={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Ts=[],Ss;function Rs(){return Ss||(window.process&&window.process.nextTick?Ss=window.process.nextTick:window.queueMicrotask?Ss=window.queueMicrotask:window.setImmediate?Ss=window.setImmediate:Ss=window.setTimeout,Ss)}function Bs(Hs,Ns,Js,ha,pa){return _s.importKey("raw",Hs,{name:"PBKDF2"},!1,["deriveBits"]).then(function(za){return _s.deriveBits({name:"PBKDF2",salt:Ns,iterations:Js,hash:{name:pa}},za,ha<<3)}).then(function(za){return st.from(za)})}function Is(Hs){if(window.process&&!window.process.browser||!_s||!_s.importKey||!_s.deriveBits)return Promise.resolve(!1);if(Ts[Hs]!==void 0)return Ts[Hs];vs=vs||st.alloc(8);var Ns=Bs(vs,vs,10,128,Hs).then(function(){return!0},function(){return!1});return Ts[Hs]=Ns,Ns}function Ws(Hs,Ns){Hs.then(function(Js){Rs()(function(){Ns(null,Js)})},function(Js){Rs()(function(){Ns(Js)})})}return async=function(Hs,Ns,Js,ha,pa,za){typeof pa=="function"&&(za=pa,pa=void 0),pa=pa||"sha1";var Ya=Es[pa.toLowerCase()];if(!Ya||typeof window.Promise!="function"){Rs()(function(){var Bc;try{Bc=ms(Hs,Ns,Js,ha,pa)}catch(Qa){za(Qa);return}za(null,Bc)});return}if(t(Js,ha),Hs=ws(Hs,et,"Password"),Ns=ws(Ns,et,"Salt"),typeof za!="function")throw new Error("No callback provided to pbkdf2");Ws(Is(Ya).then(function(Bc){return Bc?Bs(Hs,Ns,Js,ha,Ya):ms(Hs,Ns,Js,ha,pa)}),za)},async}var hasRequiredBrowser$9;function requireBrowser$9(){return hasRequiredBrowser$9||(hasRequiredBrowser$9=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$7={},hasRequiredUtils$8;function requireUtils$8(){if(hasRequiredUtils$8)return utils$7;hasRequiredUtils$8=1,utils$7.readUInt32BE=function(ws,vs){var _s=ws[0+vs]<<24|ws[1+vs]<<16|ws[2+vs]<<8|ws[3+vs];return _s>>>0},utils$7.writeUInt32BE=function(ws,vs,_s){ws[0+_s]=vs>>>24,ws[1+_s]=vs>>>16&255,ws[2+_s]=vs>>>8&255,ws[3+_s]=vs&255},utils$7.ip=function(ws,vs,_s,Es){for(var Ts=0,Ss=0,Rs=6;Rs>=0;Rs-=2){for(var Bs=0;Bs<=24;Bs+=8)Ts<<=1,Ts|=vs>>>Bs+Rs&1;for(var Bs=0;Bs<=24;Bs+=8)Ts<<=1,Ts|=ws>>>Bs+Rs&1}for(var Rs=6;Rs>=0;Rs-=2){for(var Bs=1;Bs<=25;Bs+=8)Ss<<=1,Ss|=vs>>>Bs+Rs&1;for(var Bs=1;Bs<=25;Bs+=8)Ss<<=1,Ss|=ws>>>Bs+Rs&1}_s[Es+0]=Ts>>>0,_s[Es+1]=Ss>>>0},utils$7.rip=function(ws,vs,_s,Es){for(var Ts=0,Ss=0,Rs=0;Rs<4;Rs++)for(var Bs=24;Bs>=0;Bs-=8)Ts<<=1,Ts|=vs>>>Bs+Rs&1,Ts<<=1,Ts|=ws>>>Bs+Rs&1;for(var Rs=4;Rs<8;Rs++)for(var Bs=24;Bs>=0;Bs-=8)Ss<<=1,Ss|=vs>>>Bs+Rs&1,Ss<<=1,Ss|=ws>>>Bs+Rs&1;_s[Es+0]=Ts>>>0,_s[Es+1]=Ss>>>0},utils$7.pc1=function(ws,vs,_s,Es){for(var Ts=0,Ss=0,Rs=7;Rs>=5;Rs--){for(var Bs=0;Bs<=24;Bs+=8)Ts<<=1,Ts|=vs>>Bs+Rs&1;for(var Bs=0;Bs<=24;Bs+=8)Ts<<=1,Ts|=ws>>Bs+Rs&1}for(var Bs=0;Bs<=24;Bs+=8)Ts<<=1,Ts|=vs>>Bs+Rs&1;for(var Rs=1;Rs<=3;Rs++){for(var Bs=0;Bs<=24;Bs+=8)Ss<<=1,Ss|=vs>>Bs+Rs&1;for(var Bs=0;Bs<=24;Bs+=8)Ss<<=1,Ss|=ws>>Bs+Rs&1}for(var Bs=0;Bs<=24;Bs+=8)Ss<<=1,Ss|=ws>>Bs+Rs&1;_s[Es+0]=Ts>>>0,_s[Es+1]=Ss>>>0},utils$7.r28shl=function(ws,vs){return ws<<vs&268435455|ws>>>28-vs};var st=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$7.pc2=function(ws,vs,_s,Es){for(var Ts=0,Ss=0,Rs=st.length>>>1,Bs=0;Bs<Rs;Bs++)Ts<<=1,Ts|=ws>>>st[Bs]&1;for(var Bs=Rs;Bs<st.length;Bs++)Ss<<=1,Ss|=vs>>>st[Bs]&1;_s[Es+0]=Ts>>>0,_s[Es+1]=Ss>>>0},utils$7.expand=function(ws,vs,_s){var Es=0,Ts=0;Es=(ws&1)<<5|ws>>>27;for(var Ss=23;Ss>=15;Ss-=4)Es<<=6,Es|=ws>>>Ss&63;for(var Ss=11;Ss>=3;Ss-=4)Ts|=ws>>>Ss&63,Ts<<=6;Ts|=(ws&31)<<1|ws>>>31,vs[_s+0]=Es>>>0,vs[_s+1]=Ts>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$7.substitute=function(ws,vs){for(var _s=0,Es=0;Es<4;Es++){var Ts=ws>>>18-Es*6&63,Ss=t[Es*64+Ts];_s<<=4,_s|=Ss}for(var Es=0;Es<4;Es++){var Ts=vs>>>18-Es*6&63,Ss=t[4*64+Es*64+Ts];_s<<=4,_s|=Ss}return _s>>>0};var et=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$7.permute=function(ws){for(var vs=0,_s=0;_s<et.length;_s++)vs<<=1,vs|=ws>>>et[_s]&1;return vs>>>0},utils$7.padSplit=function(ws,vs,_s){for(var Es=ws.toString(2);Es.length<vs;)Es="0"+Es;for(var Ts=[],Ss=0;Ss<vs;Ss+=_s)Ts.push(Es.slice(Ss,Ss+_s));return Ts.join(" ")},utils$7}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=st;function st(t,et){if(!t)throw new Error(et||"Assertion failed")}return st.equal=function(et,ms,ws){if(et!=ms)throw new Error(ws||"Assertion failed: "+et+" != "+ms)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var st=requireMinimalisticAssert();function t(et){this.options=et,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=et.padding!==!1}return cipher=t,t.prototype._init=function(){},t.prototype.update=function(ms){return ms.length===0?[]:this.type==="decrypt"?this._updateDecrypt(ms):this._updateEncrypt(ms)},t.prototype._buffer=function(ms,ws){for(var vs=Math.min(this.buffer.length-this.bufferOff,ms.length-ws),_s=0;_s<vs;_s++)this.buffer[this.bufferOff+_s]=ms[ws+_s];return this.bufferOff+=vs,vs},t.prototype._flushBuffer=function(ms,ws){return this._update(this.buffer,0,ms,ws),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(ms){var ws=0,vs=0,_s=(this.bufferOff+ms.length)/this.blockSize|0,Es=new Array(_s*this.blockSize);this.bufferOff!==0&&(ws+=this._buffer(ms,ws),this.bufferOff===this.buffer.length&&(vs+=this._flushBuffer(Es,vs)));for(var Ts=ms.length-(ms.length-ws)%this.blockSize;ws<Ts;ws+=this.blockSize)this._update(ms,ws,Es,vs),vs+=this.blockSize;for(;ws<ms.length;ws++,this.bufferOff++)this.buffer[this.bufferOff]=ms[ws];return Es},t.prototype._updateDecrypt=function(ms){for(var ws=0,vs=0,_s=Math.ceil((this.bufferOff+ms.length)/this.blockSize)-1,Es=new Array(_s*this.blockSize);_s>0;_s--)ws+=this._buffer(ms,ws),vs+=this._flushBuffer(Es,vs);return ws+=this._buffer(ms,ws),Es},t.prototype.final=function(ms){var ws;ms&&(ws=this.update(ms));var vs;return this.type==="encrypt"?vs=this._finalEncrypt():vs=this._finalDecrypt(),ws?ws.concat(vs):vs},t.prototype._pad=function(ms,ws){if(ws===0)return!1;for(;ws<ms.length;)ms[ws++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var ms=new Array(this.blockSize);return this._update(this.buffer,0,ms,0),ms},t.prototype._unpad=function(ms){return ms},t.prototype._finalDecrypt=function(){st.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var ms=new Array(this.blockSize);return this._flushBuffer(ms,0),this._unpad(ms)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var st=requireMinimalisticAssert(),t=requireInherits_browser(),et=requireUtils$8(),ms=requireCipher();function ws(){this.tmp=new Array(2),this.keys=null}function vs(Es){ms.call(this,Es);var Ts=new ws;this._desState=Ts,this.deriveKeys(Ts,Es.key)}t(vs,ms),des=vs,vs.create=function(Ts){return new vs(Ts)};var _s=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return vs.prototype.deriveKeys=function(Ts,Ss){Ts.keys=new Array(16*2),st.equal(Ss.length,this.blockSize,"Invalid key length");var Rs=et.readUInt32BE(Ss,0),Bs=et.readUInt32BE(Ss,4);et.pc1(Rs,Bs,Ts.tmp,0),Rs=Ts.tmp[0],Bs=Ts.tmp[1];for(var Is=0;Is<Ts.keys.length;Is+=2){var Ws=_s[Is>>>1];Rs=et.r28shl(Rs,Ws),Bs=et.r28shl(Bs,Ws),et.pc2(Rs,Bs,Ts.keys,Is)}},vs.prototype._update=function(Ts,Ss,Rs,Bs){var Is=this._desState,Ws=et.readUInt32BE(Ts,Ss),Hs=et.readUInt32BE(Ts,Ss+4);et.ip(Ws,Hs,Is.tmp,0),Ws=Is.tmp[0],Hs=Is.tmp[1],this.type==="encrypt"?this._encrypt(Is,Ws,Hs,Is.tmp,0):this._decrypt(Is,Ws,Hs,Is.tmp,0),Ws=Is.tmp[0],Hs=Is.tmp[1],et.writeUInt32BE(Rs,Ws,Bs),et.writeUInt32BE(Rs,Hs,Bs+4)},vs.prototype._pad=function(Ts,Ss){if(this.padding===!1)return!1;for(var Rs=Ts.length-Ss,Bs=Ss;Bs<Ts.length;Bs++)Ts[Bs]=Rs;return!0},vs.prototype._unpad=function(Ts){if(this.padding===!1)return Ts;for(var Ss=Ts[Ts.length-1],Rs=Ts.length-Ss;Rs<Ts.length;Rs++)st.equal(Ts[Rs],Ss);return Ts.slice(0,Ts.length-Ss)},vs.prototype._encrypt=function(Ts,Ss,Rs,Bs,Is){for(var Ws=Ss,Hs=Rs,Ns=0;Ns<Ts.keys.length;Ns+=2){var Js=Ts.keys[Ns],ha=Ts.keys[Ns+1];et.expand(Hs,Ts.tmp,0),Js^=Ts.tmp[0],ha^=Ts.tmp[1];var pa=et.substitute(Js,ha),za=et.permute(pa),Ya=Hs;Hs=(Ws^za)>>>0,Ws=Ya}et.rip(Hs,Ws,Bs,Is)},vs.prototype._decrypt=function(Ts,Ss,Rs,Bs,Is){for(var Ws=Rs,Hs=Ss,Ns=Ts.keys.length-2;Ns>=0;Ns-=2){var Js=Ts.keys[Ns],ha=Ts.keys[Ns+1];et.expand(Ws,Ts.tmp,0),Js^=Ts.tmp[0],ha^=Ts.tmp[1];var pa=et.substitute(Js,ha),za=et.permute(pa),Ya=Ws;Ws=(Hs^za)>>>0,Hs=Ya}et.rip(Ws,Hs,Bs,Is)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var st=requireMinimalisticAssert(),t=requireInherits_browser(),et={};function ms(vs){st.equal(vs.length,8,"Invalid IV length"),this.iv=new Array(8);for(var _s=0;_s<this.iv.length;_s++)this.iv[_s]=vs[_s]}function ws(vs){function _s(Rs){vs.call(this,Rs),this._cbcInit()}t(_s,vs);for(var Es=Object.keys(et),Ts=0;Ts<Es.length;Ts++){var Ss=Es[Ts];_s.prototype[Ss]=et[Ss]}return _s.create=function(Bs){return new _s(Bs)},_s}return cbc$1.instantiate=ws,et._cbcInit=function(){var _s=new ms(this.options.iv);this._cbcState=_s},et._update=function(_s,Es,Ts,Ss){var Rs=this._cbcState,Bs=this.constructor.super_.prototype,Is=Rs.iv;if(this.type==="encrypt"){for(var Ws=0;Ws<this.blockSize;Ws++)Is[Ws]^=_s[Es+Ws];Bs._update.call(this,Is,0,Ts,Ss);for(var Ws=0;Ws<this.blockSize;Ws++)Is[Ws]=Ts[Ss+Ws]}else{Bs._update.call(this,_s,Es,Ts,Ss);for(var Ws=0;Ws<this.blockSize;Ws++)Ts[Ss+Ws]^=Is[Ws];for(var Ws=0;Ws<this.blockSize;Ws++)Is[Ws]=_s[Es+Ws]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var st=requireMinimalisticAssert(),t=requireInherits_browser(),et=requireCipher(),ms=requireDes$1();function ws(_s,Es){st.equal(Es.length,24,"Invalid key length");var Ts=Es.slice(0,8),Ss=Es.slice(8,16),Rs=Es.slice(16,24);_s==="encrypt"?this.ciphers=[ms.create({type:"encrypt",key:Ts}),ms.create({type:"decrypt",key:Ss}),ms.create({type:"encrypt",key:Rs})]:this.ciphers=[ms.create({type:"decrypt",key:Rs}),ms.create({type:"encrypt",key:Ss}),ms.create({type:"decrypt",key:Ts})]}function vs(_s){et.call(this,_s);var Es=new ws(this.type,this.options.key);this._edeState=Es}return t(vs,et),ede=vs,vs.create=function(Es){return new vs(Es)},vs.prototype._update=function(Es,Ts,Ss,Rs){var Bs=this._edeState;Bs.ciphers[0]._update(Es,Ts,Ss,Rs),Bs.ciphers[1]._update(Ss,Rs,Ss,Rs),Bs.ciphers[2]._update(Ss,Rs,Ss,Rs)},vs.prototype._pad=ms.prototype._pad,vs.prototype._unpad=ms.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$8(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var st=requireCipherBase(),t=requireDes(),et=requireInherits_browser(),ms=requireSafeBuffer$1().Buffer,ws={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};ws.des=ws["des-cbc"],ws.des3=ws["des-ede3-cbc"],browserifyDes=vs,et(vs,st);function vs(_s){st.call(this);var Es=_s.mode.toLowerCase(),Ts=ws[Es],Ss;_s.decrypt?Ss="decrypt":Ss="encrypt";var Rs=_s.key;ms.isBuffer(Rs)||(Rs=ms.from(Rs)),(Es==="des-ede"||Es==="des-ede-cbc")&&(Rs=ms.concat([Rs,Rs.slice(0,8)]));var Bs=_s.iv;ms.isBuffer(Bs)||(Bs=ms.from(Bs)),this._des=Ts.create({key:Rs,iv:Bs,type:Ss})}return vs.prototype._update=function(_s){return ms.from(this._des.update(_s))},vs.prototype._final=function(){return ms.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(st,t){return st._cipher.encryptBlock(t)},ecb.decrypt=function(st,t){return st._cipher.decryptBlock(t)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(t,et){for(var ms=Math.min(t.length,et.length),ws=new Buffer(ms),vs=0;vs<ms;++vs)ws[vs]=t[vs]^et[vs];return ws}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var st=requireBufferXor();return cbc.encrypt=function(t,et){var ms=st(et,t._prev);return t._prev=t._cipher.encryptBlock(ms),t._prev},cbc.decrypt=function(t,et){var ms=t._prev;t._prev=et;var ws=t._cipher.decryptBlock(et);return st(ws,ms)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var st=requireSafeBuffer$1().Buffer,t=requireBufferXor();function et(ms,ws,vs){var _s=ws.length,Es=t(ws,ms._cache);return ms._cache=ms._cache.slice(_s),ms._prev=st.concat([ms._prev,vs?ws:Es]),Es}return cfb.encrypt=function(ms,ws,vs){for(var _s=st.allocUnsafe(0),Es;ws.length;)if(ms._cache.length===0&&(ms._cache=ms._cipher.encryptBlock(ms._prev),ms._prev=st.allocUnsafe(0)),ms._cache.length<=ws.length)Es=ms._cache.length,_s=st.concat([_s,et(ms,ws.slice(0,Es),vs)]),ws=ws.slice(Es);else{_s=st.concat([_s,et(ms,ws,vs)]);break}return _s},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var st=requireSafeBuffer$1().Buffer;function t(et,ms,ws){var vs=et._cipher.encryptBlock(et._prev),_s=vs[0]^ms;return et._prev=st.concat([et._prev.slice(1),st.from([ws?ms:_s])]),_s}return cfb8.encrypt=function(et,ms,ws){for(var vs=ms.length,_s=st.allocUnsafe(vs),Es=-1;++Es<vs;)_s[Es]=t(et,ms[Es],ws);return _s},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var st=requireSafeBuffer$1().Buffer;function t(ms,ws,vs){for(var _s,Es=-1,Ts=8,Ss=0,Rs,Bs;++Es<Ts;)_s=ms._cipher.encryptBlock(ms._prev),Rs=ws&1<<7-Es?128:0,Bs=_s[0]^Rs,Ss+=(Bs&128)>>Es%8,ms._prev=et(ms._prev,vs?Rs:Bs);return Ss}function et(ms,ws){var vs=ms.length,_s=-1,Es=st.allocUnsafe(ms.length);for(ms=st.concat([ms,st.from([ws])]);++_s<vs;)Es[_s]=ms[_s]<<1|ms[_s+1]>>7;return Es}return cfb1.encrypt=function(ms,ws,vs){for(var _s=ws.length,Es=st.allocUnsafe(_s),Ts=-1;++Ts<_s;)Es[Ts]=t(ms,ws[Ts],vs);return Es},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var st=requireBufferXor();function t(et){return et._prev=et._cipher.encryptBlock(et._prev),et._prev}return ofb.encrypt=function(et,ms){for(;et._cache.length<ms.length;)et._cache=Buffer.concat([et._cache,t(et)]);var ws=et._cache.slice(0,ms.length);return et._cache=et._cache.slice(ms.length),st(ms,ws)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function st(t){for(var et=t.length,ms;et--;)if(ms=t.readUInt8(et),ms===255)t.writeUInt8(0,et);else{ms++,t.writeUInt8(ms,et);break}}return incr32_1=st,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var st=requireBufferXor(),t=requireSafeBuffer$1().Buffer,et=requireIncr32();function ms(vs){var _s=vs._cipher.encryptBlockRaw(vs._prev);return et(vs._prev),_s}var ws=16;return ctr.encrypt=function(vs,_s){var Es=Math.ceil(_s.length/ws),Ts=vs._cache.length;vs._cache=t.concat([vs._cache,t.allocUnsafe(Es*ws)]);for(var Ss=0;Ss<Es;Ss++){var Rs=ms(vs),Bs=Ts+Ss*ws;vs._cache.writeUInt32BE(Rs[0],Bs+0),vs._cache.writeUInt32BE(Rs[1],Bs+4),vs._cache.writeUInt32BE(Rs[2],Bs+8),vs._cache.writeUInt32BE(Rs[3],Bs+12)}var Is=vs._cache.slice(0,_s.length);return vs._cache=vs._cache.slice(_s.length),st(_s,Is)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$1={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var st={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},t=require$$2$1;for(var et in t)t[et].module=st[t[et].mode];return modes_1=t,modes_1}var aes$2={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$2;hasRequiredAes$1=1;var st=requireSafeBuffer$1().Buffer;function t(Es){st.isBuffer(Es)||(Es=st.from(Es));for(var Ts=Es.length/4|0,Ss=new Array(Ts),Rs=0;Rs<Ts;Rs++)Ss[Rs]=Es.readUInt32BE(Rs*4);return Ss}function et(Es){for(var Ts=0;Ts<Es.length;Es++)Es[Ts]=0}function ms(Es,Ts,Ss,Rs,Bs){for(var Is=Ss[0],Ws=Ss[1],Hs=Ss[2],Ns=Ss[3],Js=Es[0]^Ts[0],ha=Es[1]^Ts[1],pa=Es[2]^Ts[2],za=Es[3]^Ts[3],Ya,Bc,Qa,tu,eu=4,ru=1;ru<Bs;ru++)Ya=Is[Js>>>24]^Ws[ha>>>16&255]^Hs[pa>>>8&255]^Ns[za&255]^Ts[eu++],Bc=Is[ha>>>24]^Ws[pa>>>16&255]^Hs[za>>>8&255]^Ns[Js&255]^Ts[eu++],Qa=Is[pa>>>24]^Ws[za>>>16&255]^Hs[Js>>>8&255]^Ns[ha&255]^Ts[eu++],tu=Is[za>>>24]^Ws[Js>>>16&255]^Hs[ha>>>8&255]^Ns[pa&255]^Ts[eu++],Js=Ya,ha=Bc,pa=Qa,za=tu;return Ya=(Rs[Js>>>24]<<24|Rs[ha>>>16&255]<<16|Rs[pa>>>8&255]<<8|Rs[za&255])^Ts[eu++],Bc=(Rs[ha>>>24]<<24|Rs[pa>>>16&255]<<16|Rs[za>>>8&255]<<8|Rs[Js&255])^Ts[eu++],Qa=(Rs[pa>>>24]<<24|Rs[za>>>16&255]<<16|Rs[Js>>>8&255]<<8|Rs[ha&255])^Ts[eu++],tu=(Rs[za>>>24]<<24|Rs[Js>>>16&255]<<16|Rs[ha>>>8&255]<<8|Rs[pa&255])^Ts[eu++],Ya=Ya>>>0,Bc=Bc>>>0,Qa=Qa>>>0,tu=tu>>>0,[Ya,Bc,Qa,tu]}var ws=[0,1,2,4,8,16,32,64,128,27,54],vs=function(){for(var Es=new Array(256),Ts=0;Ts<256;Ts++)Ts<128?Es[Ts]=Ts<<1:Es[Ts]=Ts<<1^283;for(var Ss=[],Rs=[],Bs=[[],[],[],[]],Is=[[],[],[],[]],Ws=0,Hs=0,Ns=0;Ns<256;++Ns){var Js=Hs^Hs<<1^Hs<<2^Hs<<3^Hs<<4;Js=Js>>>8^Js&255^99,Ss[Ws]=Js,Rs[Js]=Ws;var ha=Es[Ws],pa=Es[ha],za=Es[pa],Ya=Es[Js]*257^Js*16843008;Bs[0][Ws]=Ya<<24|Ya>>>8,Bs[1][Ws]=Ya<<16|Ya>>>16,Bs[2][Ws]=Ya<<8|Ya>>>24,Bs[3][Ws]=Ya,Ya=za*16843009^pa*65537^ha*257^Ws*16843008,Is[0][Js]=Ya<<24|Ya>>>8,Is[1][Js]=Ya<<16|Ya>>>16,Is[2][Js]=Ya<<8|Ya>>>24,Is[3][Js]=Ya,Ws===0?Ws=Hs=1:(Ws=ha^Es[Es[Es[za^ha]]],Hs^=Es[Es[Hs]])}return{SBOX:Ss,INV_SBOX:Rs,SUB_MIX:Bs,INV_SUB_MIX:Is}}();function _s(Es){this._key=t(Es),this._reset()}return _s.blockSize=4*4,_s.keySize=256/8,_s.prototype.blockSize=_s.blockSize,_s.prototype.keySize=_s.keySize,_s.prototype._reset=function(){for(var Es=this._key,Ts=Es.length,Ss=Ts+6,Rs=(Ss+1)*4,Bs=[],Is=0;Is<Ts;Is++)Bs[Is]=Es[Is];for(Is=Ts;Is<Rs;Is++){var Ws=Bs[Is-1];Is%Ts===0?(Ws=Ws<<8|Ws>>>24,Ws=vs.SBOX[Ws>>>24]<<24|vs.SBOX[Ws>>>16&255]<<16|vs.SBOX[Ws>>>8&255]<<8|vs.SBOX[Ws&255],Ws^=ws[Is/Ts|0]<<24):Ts>6&&Is%Ts===4&&(Ws=vs.SBOX[Ws>>>24]<<24|vs.SBOX[Ws>>>16&255]<<16|vs.SBOX[Ws>>>8&255]<<8|vs.SBOX[Ws&255]),Bs[Is]=Bs[Is-Ts]^Ws}for(var Hs=[],Ns=0;Ns<Rs;Ns++){var Js=Rs-Ns,ha=Bs[Js-(Ns%4?0:4)];Ns<4||Js<=4?Hs[Ns]=ha:Hs[Ns]=vs.INV_SUB_MIX[0][vs.SBOX[ha>>>24]]^vs.INV_SUB_MIX[1][vs.SBOX[ha>>>16&255]]^vs.INV_SUB_MIX[2][vs.SBOX[ha>>>8&255]]^vs.INV_SUB_MIX[3][vs.SBOX[ha&255]]}this._nRounds=Ss,this._keySchedule=Bs,this._invKeySchedule=Hs},_s.prototype.encryptBlockRaw=function(Es){return Es=t(Es),ms(Es,this._keySchedule,vs.SUB_MIX,vs.SBOX,this._nRounds)},_s.prototype.encryptBlock=function(Es){var Ts=this.encryptBlockRaw(Es),Ss=st.allocUnsafe(16);return Ss.writeUInt32BE(Ts[0],0),Ss.writeUInt32BE(Ts[1],4),Ss.writeUInt32BE(Ts[2],8),Ss.writeUInt32BE(Ts[3],12),Ss},_s.prototype.decryptBlock=function(Es){Es=t(Es);var Ts=Es[1];Es[1]=Es[3],Es[3]=Ts;var Ss=ms(Es,this._invKeySchedule,vs.INV_SUB_MIX,vs.INV_SBOX,this._nRounds),Rs=st.allocUnsafe(16);return Rs.writeUInt32BE(Ss[0],0),Rs.writeUInt32BE(Ss[3],4),Rs.writeUInt32BE(Ss[2],8),Rs.writeUInt32BE(Ss[1],12),Rs},_s.prototype.scrub=function(){et(this._keySchedule),et(this._invKeySchedule),et(this._key)},aes$2.AES=_s,aes$2}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var st=requireSafeBuffer$1().Buffer,t=st.alloc(16,0);function et(vs){return[vs.readUInt32BE(0),vs.readUInt32BE(4),vs.readUInt32BE(8),vs.readUInt32BE(12)]}function ms(vs){var _s=st.allocUnsafe(16);return _s.writeUInt32BE(vs[0]>>>0,0),_s.writeUInt32BE(vs[1]>>>0,4),_s.writeUInt32BE(vs[2]>>>0,8),_s.writeUInt32BE(vs[3]>>>0,12),_s}function ws(vs){this.h=vs,this.state=st.alloc(16,0),this.cache=st.allocUnsafe(0)}return ws.prototype.ghash=function(vs){for(var _s=-1;++_s<vs.length;)this.state[_s]^=vs[_s];this._multiply()},ws.prototype._multiply=function(){for(var vs=et(this.h),_s=[0,0,0,0],Es,Ts,Ss,Rs=-1;++Rs<128;){for(Ts=(this.state[~~(Rs/8)]&1<<7-Rs%8)!==0,Ts&&(_s[0]^=vs[0],_s[1]^=vs[1],_s[2]^=vs[2],_s[3]^=vs[3]),Ss=(vs[3]&1)!==0,Es=3;Es>0;Es--)vs[Es]=vs[Es]>>>1|(vs[Es-1]&1)<<31;vs[0]=vs[0]>>>1,Ss&&(vs[0]=vs[0]^225<<24)}this.state=ms(_s)},ws.prototype.update=function(vs){this.cache=st.concat([this.cache,vs]);for(var _s;this.cache.length>=16;)_s=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(_s)},ws.prototype.final=function(vs,_s){return this.cache.length&&this.ghash(st.concat([this.cache,t],16)),this.ghash(ms([0,vs,0,_s])),this.state},ghash=ws,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var st=requireAes$1(),t=requireSafeBuffer$1().Buffer,et=requireCipherBase(),ms=requireInherits_browser(),ws=requireGhash(),vs=requireBufferXor(),_s=requireIncr32();function Es(Rs,Bs){var Is=0;Rs.length!==Bs.length&&Is++;for(var Ws=Math.min(Rs.length,Bs.length),Hs=0;Hs<Ws;++Hs)Is+=Rs[Hs]^Bs[Hs];return Is}function Ts(Rs,Bs,Is){if(Bs.length===12)return Rs._finID=t.concat([Bs,t.from([0,0,0,1])]),t.concat([Bs,t.from([0,0,0,2])]);var Ws=new ws(Is),Hs=Bs.length,Ns=Hs%16;Ws.update(Bs),Ns&&(Ns=16-Ns,Ws.update(t.alloc(Ns,0))),Ws.update(t.alloc(8,0));var Js=Hs*8,ha=t.alloc(8);ha.writeUIntBE(Js,0,8),Ws.update(ha),Rs._finID=Ws.state;var pa=t.from(Rs._finID);return _s(pa),pa}function Ss(Rs,Bs,Is,Ws){et.call(this);var Hs=t.alloc(4,0);this._cipher=new st.AES(Bs);var Ns=this._cipher.encryptBlock(Hs);this._ghash=new ws(Ns),Is=Ts(this,Is,Ns),this._prev=t.from(Is),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=Ws,this._alen=0,this._len=0,this._mode=Rs,this._authTag=null,this._called=!1}return ms(Ss,et),Ss.prototype._update=function(Rs){if(!this._called&&this._alen){var Bs=16-this._alen%16;Bs<16&&(Bs=t.alloc(Bs,0),this._ghash.update(Bs))}this._called=!0;var Is=this._mode.encrypt(this,Rs);return this._decrypt?this._ghash.update(Rs):this._ghash.update(Is),this._len+=Rs.length,Is},Ss.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Rs=vs(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Es(Rs,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Rs,this._cipher.scrub()},Ss.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Ss.prototype.setAuthTag=function(Bs){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Bs},Ss.prototype.setAAD=function(Bs){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Bs),this._alen+=Bs.length},authCipher=Ss,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var st=requireAes$1(),t=requireSafeBuffer$1().Buffer,et=requireCipherBase(),ms=requireInherits_browser();function ws(vs,_s,Es,Ts){et.call(this),this._cipher=new st.AES(_s),this._prev=t.from(Es),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=Ts,this._mode=vs}return ms(ws,et),ws.prototype._update=function(vs){return this._mode.encrypt(this,vs,this._decrypt)},ws.prototype._final=function(){this._cipher.scrub()},streamCipher=ws,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var st=requireSafeBuffer$1().Buffer,t=requireMd5_js();function et(ms,ws,vs,_s){if(st.isBuffer(ms)||(ms=st.from(ms,"binary")),ws&&(st.isBuffer(ws)||(ws=st.from(ws,"binary")),ws.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var Es=vs/8,Ts=st.alloc(Es),Ss=st.alloc(_s||0),Rs=st.alloc(0);Es>0||_s>0;){var Bs=new t;Bs.update(Rs),Bs.update(ms),ws&&Bs.update(ws),Rs=Bs.digest();var Is=0;if(Es>0){var Ws=Ts.length-Es;Is=Math.min(Es,Rs.length),Rs.copy(Ts,Ws,0,Is),Es-=Is}if(Is<Rs.length&&_s>0){var Hs=Ss.length-_s,Ns=Math.min(_s,Rs.length-Is);Rs.copy(Ss,Hs,Is,Is+Ns),_s-=Ns}}return Rs.fill(0),{key:Ts,iv:Ss}}return evp_bytestokey=et,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var st=requireModes$1(),t=requireAuthCipher(),et=requireSafeBuffer$1().Buffer,ms=requireStreamCipher(),ws=requireCipherBase(),vs=requireAes$1(),_s=requireEvp_bytestokey(),Es=requireInherits_browser();function Ts(Ws,Hs,Ns){ws.call(this),this._cache=new Rs,this._cipher=new vs.AES(Hs),this._prev=et.from(Ns),this._mode=Ws,this._autopadding=!0}Es(Ts,ws),Ts.prototype._update=function(Ws){this._cache.add(Ws);for(var Hs,Ns,Js=[];Hs=this._cache.get();)Ns=this._mode.encrypt(this,Hs),Js.push(Ns);return et.concat(Js)};var Ss=et.alloc(16,16);Ts.prototype._final=function(){var Ws=this._cache.flush();if(this._autopadding)return Ws=this._mode.encrypt(this,Ws),this._cipher.scrub(),Ws;if(!Ws.equals(Ss))throw this._cipher.scrub(),new Error("data not multiple of block length")},Ts.prototype.setAutoPadding=function(Ws){return this._autopadding=!!Ws,this};function Rs(){this.cache=et.allocUnsafe(0)}Rs.prototype.add=function(Ws){this.cache=et.concat([this.cache,Ws])},Rs.prototype.get=function(){if(this.cache.length>15){var Ws=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Ws}return null},Rs.prototype.flush=function(){for(var Ws=16-this.cache.length,Hs=et.allocUnsafe(Ws),Ns=-1;++Ns<Ws;)Hs.writeUInt8(Ws,Ns);return et.concat([this.cache,Hs])};function Bs(Ws,Hs,Ns){var Js=st[Ws.toLowerCase()];if(!Js)throw new TypeError("invalid suite type");if(typeof Hs=="string"&&(Hs=et.from(Hs)),Hs.length!==Js.key/8)throw new TypeError("invalid key length "+Hs.length);if(typeof Ns=="string"&&(Ns=et.from(Ns)),Js.mode!=="GCM"&&Ns.length!==Js.iv)throw new TypeError("invalid iv length "+Ns.length);return Js.type==="stream"?new ms(Js.module,Hs,Ns):Js.type==="auth"?new t(Js.module,Hs,Ns):new Ts(Js.module,Hs,Ns)}function Is(Ws,Hs){var Ns=st[Ws.toLowerCase()];if(!Ns)throw new TypeError("invalid suite type");var Js=_s(Hs,!1,Ns.key,Ns.iv);return Bs(Ws,Js.key,Js.iv)}return encrypter.createCipheriv=Bs,encrypter.createCipher=Is,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var st=requireAuthCipher(),t=requireSafeBuffer$1().Buffer,et=requireModes$1(),ms=requireStreamCipher(),ws=requireCipherBase(),vs=requireAes$1(),_s=requireEvp_bytestokey(),Es=requireInherits_browser();function Ts(Ws,Hs,Ns){ws.call(this),this._cache=new Ss,this._last=void 0,this._cipher=new vs.AES(Hs),this._prev=t.from(Ns),this._mode=Ws,this._autopadding=!0}Es(Ts,ws),Ts.prototype._update=function(Ws){this._cache.add(Ws);for(var Hs,Ns,Js=[];Hs=this._cache.get(this._autopadding);)Ns=this._mode.decrypt(this,Hs),Js.push(Ns);return t.concat(Js)},Ts.prototype._final=function(){var Ws=this._cache.flush();if(this._autopadding)return Rs(this._mode.decrypt(this,Ws));if(Ws)throw new Error("data not multiple of block length")},Ts.prototype.setAutoPadding=function(Ws){return this._autopadding=!!Ws,this};function Ss(){this.cache=t.allocUnsafe(0)}Ss.prototype.add=function(Ws){this.cache=t.concat([this.cache,Ws])},Ss.prototype.get=function(Ws){var Hs;if(Ws){if(this.cache.length>16)return Hs=this.cache.slice(0,16),this.cache=this.cache.slice(16),Hs}else if(this.cache.length>=16)return Hs=this.cache.slice(0,16),this.cache=this.cache.slice(16),Hs;return null},Ss.prototype.flush=function(){if(this.cache.length)return this.cache};function Rs(Ws){var Hs=Ws[15];if(Hs<1||Hs>16)throw new Error("unable to decrypt data");for(var Ns=-1;++Ns<Hs;)if(Ws[Ns+(16-Hs)]!==Hs)throw new Error("unable to decrypt data");if(Hs!==16)return Ws.slice(0,16-Hs)}function Bs(Ws,Hs,Ns){var Js=et[Ws.toLowerCase()];if(!Js)throw new TypeError("invalid suite type");if(typeof Ns=="string"&&(Ns=t.from(Ns)),Js.mode!=="GCM"&&Ns.length!==Js.iv)throw new TypeError("invalid iv length "+Ns.length);if(typeof Hs=="string"&&(Hs=t.from(Hs)),Hs.length!==Js.key/8)throw new TypeError("invalid key length "+Hs.length);return Js.type==="stream"?new ms(Js.module,Hs,Ns,!0):Js.type==="auth"?new st(Js.module,Hs,Ns,!0):new Ts(Js.module,Hs,Ns)}function Is(Ws,Hs){var Ns=et[Ws.toLowerCase()];if(!Ns)throw new TypeError("invalid suite type");var Js=_s(Hs,!1,Ns.key,Ns.iv);return Bs(Ws,Js.key,Js.iv)}return decrypter.createDecipher=Is,decrypter.createDecipheriv=Bs,decrypter}var hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$7;hasRequiredBrowser$8=1;var st=requireEncrypter(),t=requireDecrypter(),et=require$$2$1;function ms(){return Object.keys(et)}return browser$7.createCipher=browser$7.Cipher=st.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=st.createCipheriv,browser$7.createDecipher=browser$7.Decipher=t.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=t.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=ms,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(st){st["des-ecb"]={key:8,iv:0},st["des-cbc"]=st.des={key:8,iv:8},st["des-ede3-cbc"]=st.des3={key:24,iv:8},st["des-ede3"]={key:24,iv:0},st["des-ede-cbc"]={key:16,iv:8},st["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$7;function requireBrowser$7(){if(hasRequiredBrowser$7)return browser$8;hasRequiredBrowser$7=1;var st=requireBrowserifyDes(),t=requireBrowser$8(),et=requireModes$1(),ms=requireModes(),ws=requireEvp_bytestokey();function vs(Rs,Bs){Rs=Rs.toLowerCase();var Is,Ws;if(et[Rs])Is=et[Rs].key,Ws=et[Rs].iv;else if(ms[Rs])Is=ms[Rs].key*8,Ws=ms[Rs].iv;else throw new TypeError("invalid suite type");var Hs=ws(Bs,!1,Is,Ws);return Es(Rs,Hs.key,Hs.iv)}function _s(Rs,Bs){Rs=Rs.toLowerCase();var Is,Ws;if(et[Rs])Is=et[Rs].key,Ws=et[Rs].iv;else if(ms[Rs])Is=ms[Rs].key*8,Ws=ms[Rs].iv;else throw new TypeError("invalid suite type");var Hs=ws(Bs,!1,Is,Ws);return Ts(Rs,Hs.key,Hs.iv)}function Es(Rs,Bs,Is){if(Rs=Rs.toLowerCase(),et[Rs])return t.createCipheriv(Rs,Bs,Is);if(ms[Rs])return new st({key:Bs,iv:Is,mode:Rs});throw new TypeError("invalid suite type")}function Ts(Rs,Bs,Is){if(Rs=Rs.toLowerCase(),et[Rs])return t.createDecipheriv(Rs,Bs,Is);if(ms[Rs])return new st({key:Bs,iv:Is,mode:Rs,decrypt:!0});throw new TypeError("invalid suite type")}function Ss(){return Object.keys(ms).concat(t.getCiphers())}return browser$8.createCipher=browser$8.Cipher=vs,browser$8.createCipheriv=browser$8.Cipheriv=Es,browser$8.createDecipher=browser$8.Decipher=_s,browser$8.createDecipheriv=browser$8.Decipheriv=Ts,browser$8.listCiphers=browser$8.getCiphers=Ss,browser$8}var browser$6={},bn$5={exports:{}},bn$4=bn$5.exports,hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(st){(function(t,et){function ms(ou,Ga){if(!ou)throw new Error(Ga||"Assertion failed")}function ws(ou,Ga){ou.super_=Ga;var Xa=function(){};Xa.prototype=Ga.prototype,ou.prototype=new Xa,ou.prototype.constructor=ou}function vs(ou,Ga,Xa){if(vs.isBN(ou))return ou;this.negative=0,this.words=null,this.length=0,this.red=null,ou!==null&&((Ga==="le"||Ga==="be")&&(Xa=Ga,Ga=10),this._init(ou||0,Ga||10,Xa||"be"))}typeof t=="object"?t.exports=vs:et.BN=vs,vs.BN=vs,vs.wordSize=26;var _s;try{typeof window<"u"&&typeof window.Buffer<"u"?_s=window.Buffer:_s=requireDist().Buffer}catch{}vs.isBN=function(Ga){return Ga instanceof vs?!0:Ga!==null&&typeof Ga=="object"&&Ga.constructor.wordSize===vs.wordSize&&Array.isArray(Ga.words)},vs.max=function(Ga,Xa){return Ga.cmp(Xa)>0?Ga:Xa},vs.min=function(Ga,Xa){return Ga.cmp(Xa)<0?Ga:Xa},vs.prototype._init=function(Ga,Xa,Fa){if(typeof Ga=="number")return this._initNumber(Ga,Xa,Fa);if(typeof Ga=="object")return this._initArray(Ga,Xa,Fa);Xa==="hex"&&(Xa=16),ms(Xa===(Xa|0)&&Xa>=2&&Xa<=36),Ga=Ga.toString().replace(/\s+/g,"");var Zs=0;Ga[0]==="-"&&(Zs++,this.negative=1),Zs<Ga.length&&(Xa===16?this._parseHex(Ga,Zs,Fa):(this._parseBase(Ga,Xa,Zs),Fa==="le"&&this._initArray(this.toArray(),Xa,Fa)))},vs.prototype._initNumber=function(Ga,Xa,Fa){Ga<0&&(this.negative=1,Ga=-Ga),Ga<67108864?(this.words=[Ga&67108863],this.length=1):Ga<4503599627370496?(this.words=[Ga&67108863,Ga/67108864&67108863],this.length=2):(ms(Ga<9007199254740992),this.words=[Ga&67108863,Ga/67108864&67108863,1],this.length=3),Fa==="le"&&this._initArray(this.toArray(),Xa,Fa)},vs.prototype._initArray=function(Ga,Xa,Fa){if(ms(typeof Ga.length=="number"),Ga.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ga.length/3),this.words=new Array(this.length);for(var Zs=0;Zs<this.length;Zs++)this.words[Zs]=0;var Wa,Za,iu=0;if(Fa==="be")for(Zs=Ga.length-1,Wa=0;Zs>=0;Zs-=3)Za=Ga[Zs]|Ga[Zs-1]<<8|Ga[Zs-2]<<16,this.words[Wa]|=Za<<iu&67108863,this.words[Wa+1]=Za>>>26-iu&67108863,iu+=24,iu>=26&&(iu-=26,Wa++);else if(Fa==="le")for(Zs=0,Wa=0;Zs<Ga.length;Zs+=3)Za=Ga[Zs]|Ga[Zs+1]<<8|Ga[Zs+2]<<16,this.words[Wa]|=Za<<iu&67108863,this.words[Wa+1]=Za>>>26-iu&67108863,iu+=24,iu>=26&&(iu-=26,Wa++);return this.strip()};function Es(ou,Ga){var Xa=ou.charCodeAt(Ga);return Xa>=65&&Xa<=70?Xa-55:Xa>=97&&Xa<=102?Xa-87:Xa-48&15}function Ts(ou,Ga,Xa){var Fa=Es(ou,Xa);return Xa-1>=Ga&&(Fa|=Es(ou,Xa-1)<<4),Fa}vs.prototype._parseHex=function(Ga,Xa,Fa){this.length=Math.ceil((Ga.length-Xa)/6),this.words=new Array(this.length);for(var Zs=0;Zs<this.length;Zs++)this.words[Zs]=0;var Wa=0,Za=0,iu;if(Fa==="be")for(Zs=Ga.length-1;Zs>=Xa;Zs-=2)iu=Ts(Ga,Xa,Zs)<<Wa,this.words[Za]|=iu&67108863,Wa>=18?(Wa-=18,Za+=1,this.words[Za]|=iu>>>26):Wa+=8;else{var au=Ga.length-Xa;for(Zs=au%2===0?Xa+1:Xa;Zs<Ga.length;Zs+=2)iu=Ts(Ga,Xa,Zs)<<Wa,this.words[Za]|=iu&67108863,Wa>=18?(Wa-=18,Za+=1,this.words[Za]|=iu>>>26):Wa+=8}this.strip()};function Ss(ou,Ga,Xa,Fa){for(var Zs=0,Wa=Math.min(ou.length,Xa),Za=Ga;Za<Wa;Za++){var iu=ou.charCodeAt(Za)-48;Zs*=Fa,iu>=49?Zs+=iu-49+10:iu>=17?Zs+=iu-17+10:Zs+=iu}return Zs}vs.prototype._parseBase=function(Ga,Xa,Fa){this.words=[0],this.length=1;for(var Zs=0,Wa=1;Wa<=67108863;Wa*=Xa)Zs++;Zs--,Wa=Wa/Xa|0;for(var Za=Ga.length-Fa,iu=Za%Zs,au=Math.min(Za,Za-iu)+Fa,nu=0,uu=Fa;uu<au;uu+=Zs)nu=Ss(Ga,uu,uu+Zs,Xa),this.imuln(Wa),this.words[0]+nu<67108864?this.words[0]+=nu:this._iaddn(nu);if(iu!==0){var fu=1;for(nu=Ss(Ga,uu,Ga.length,Xa),uu=0;uu<iu;uu++)fu*=Xa;this.imuln(fu),this.words[0]+nu<67108864?this.words[0]+=nu:this._iaddn(nu)}this.strip()},vs.prototype.copy=function(Ga){Ga.words=new Array(this.length);for(var Xa=0;Xa<this.length;Xa++)Ga.words[Xa]=this.words[Xa];Ga.length=this.length,Ga.negative=this.negative,Ga.red=this.red},vs.prototype.clone=function(){var Ga=new vs(null);return this.copy(Ga),Ga},vs.prototype._expand=function(Ga){for(;this.length<Ga;)this.words[this.length++]=0;return this},vs.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},vs.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},vs.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Rs=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Bs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Is=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];vs.prototype.toString=function(Ga,Xa){Ga=Ga||10,Xa=Xa|0||1;var Fa;if(Ga===16||Ga==="hex"){Fa="";for(var Zs=0,Wa=0,Za=0;Za<this.length;Za++){var iu=this.words[Za],au=((iu<<Zs|Wa)&16777215).toString(16);Wa=iu>>>24-Zs&16777215,Zs+=2,Zs>=26&&(Zs-=26,Za--),Wa!==0||Za!==this.length-1?Fa=Rs[6-au.length]+au+Fa:Fa=au+Fa}for(Wa!==0&&(Fa=Wa.toString(16)+Fa);Fa.length%Xa!==0;)Fa="0"+Fa;return this.negative!==0&&(Fa="-"+Fa),Fa}if(Ga===(Ga|0)&&Ga>=2&&Ga<=36){var nu=Bs[Ga],uu=Is[Ga];Fa="";var fu=this.clone();for(fu.negative=0;!fu.isZero();){var hu=fu.modn(uu).toString(Ga);fu=fu.idivn(uu),fu.isZero()?Fa=hu+Fa:Fa=Rs[nu-hu.length]+hu+Fa}for(this.isZero()&&(Fa="0"+Fa);Fa.length%Xa!==0;)Fa="0"+Fa;return this.negative!==0&&(Fa="-"+Fa),Fa}ms(!1,"Base should be between 2 and 36")},vs.prototype.toNumber=function(){var Ga=this.words[0];return this.length===2?Ga+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ga+=4503599627370496+this.words[1]*67108864:this.length>2&&ms(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ga:Ga},vs.prototype.toJSON=function(){return this.toString(16)},vs.prototype.toBuffer=function(Ga,Xa){return ms(typeof _s<"u"),this.toArrayLike(_s,Ga,Xa)},vs.prototype.toArray=function(Ga,Xa){return this.toArrayLike(Array,Ga,Xa)},vs.prototype.toArrayLike=function(Ga,Xa,Fa){var Zs=this.byteLength(),Wa=Fa||Math.max(1,Zs);ms(Zs<=Wa,"byte array longer than desired length"),ms(Wa>0,"Requested array length <= 0"),this.strip();var Za=Xa==="le",iu=new Ga(Wa),au,nu,uu=this.clone();if(Za){for(nu=0;!uu.isZero();nu++)au=uu.andln(255),uu.iushrn(8),iu[nu]=au;for(;nu<Wa;nu++)iu[nu]=0}else{for(nu=0;nu<Wa-Zs;nu++)iu[nu]=0;for(nu=0;!uu.isZero();nu++)au=uu.andln(255),uu.iushrn(8),iu[Wa-nu-1]=au}return iu},Math.clz32?vs.prototype._countBits=function(Ga){return 32-Math.clz32(Ga)}:vs.prototype._countBits=function(Ga){var Xa=Ga,Fa=0;return Xa>=4096&&(Fa+=13,Xa>>>=13),Xa>=64&&(Fa+=7,Xa>>>=7),Xa>=8&&(Fa+=4,Xa>>>=4),Xa>=2&&(Fa+=2,Xa>>>=2),Fa+Xa},vs.prototype._zeroBits=function(Ga){if(Ga===0)return 26;var Xa=Ga,Fa=0;return(Xa&8191)===0&&(Fa+=13,Xa>>>=13),(Xa&127)===0&&(Fa+=7,Xa>>>=7),(Xa&15)===0&&(Fa+=4,Xa>>>=4),(Xa&3)===0&&(Fa+=2,Xa>>>=2),(Xa&1)===0&&Fa++,Fa},vs.prototype.bitLength=function(){var Ga=this.words[this.length-1],Xa=this._countBits(Ga);return(this.length-1)*26+Xa};function Ws(ou){for(var Ga=new Array(ou.bitLength()),Xa=0;Xa<Ga.length;Xa++){var Fa=Xa/26|0,Zs=Xa%26;Ga[Xa]=(ou.words[Fa]&1<<Zs)>>>Zs}return Ga}vs.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ga=0,Xa=0;Xa<this.length;Xa++){var Fa=this._zeroBits(this.words[Xa]);if(Ga+=Fa,Fa!==26)break}return Ga},vs.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},vs.prototype.toTwos=function(Ga){return this.negative!==0?this.abs().inotn(Ga).iaddn(1):this.clone()},vs.prototype.fromTwos=function(Ga){return this.testn(Ga-1)?this.notn(Ga).iaddn(1).ineg():this.clone()},vs.prototype.isNeg=function(){return this.negative!==0},vs.prototype.neg=function(){return this.clone().ineg()},vs.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},vs.prototype.iuor=function(Ga){for(;this.length<Ga.length;)this.words[this.length++]=0;for(var Xa=0;Xa<Ga.length;Xa++)this.words[Xa]=this.words[Xa]|Ga.words[Xa];return this.strip()},vs.prototype.ior=function(Ga){return ms((this.negative|Ga.negative)===0),this.iuor(Ga)},vs.prototype.or=function(Ga){return this.length>Ga.length?this.clone().ior(Ga):Ga.clone().ior(this)},vs.prototype.uor=function(Ga){return this.length>Ga.length?this.clone().iuor(Ga):Ga.clone().iuor(this)},vs.prototype.iuand=function(Ga){var Xa;this.length>Ga.length?Xa=Ga:Xa=this;for(var Fa=0;Fa<Xa.length;Fa++)this.words[Fa]=this.words[Fa]&Ga.words[Fa];return this.length=Xa.length,this.strip()},vs.prototype.iand=function(Ga){return ms((this.negative|Ga.negative)===0),this.iuand(Ga)},vs.prototype.and=function(Ga){return this.length>Ga.length?this.clone().iand(Ga):Ga.clone().iand(this)},vs.prototype.uand=function(Ga){return this.length>Ga.length?this.clone().iuand(Ga):Ga.clone().iuand(this)},vs.prototype.iuxor=function(Ga){var Xa,Fa;this.length>Ga.length?(Xa=this,Fa=Ga):(Xa=Ga,Fa=this);for(var Zs=0;Zs<Fa.length;Zs++)this.words[Zs]=Xa.words[Zs]^Fa.words[Zs];if(this!==Xa)for(;Zs<Xa.length;Zs++)this.words[Zs]=Xa.words[Zs];return this.length=Xa.length,this.strip()},vs.prototype.ixor=function(Ga){return ms((this.negative|Ga.negative)===0),this.iuxor(Ga)},vs.prototype.xor=function(Ga){return this.length>Ga.length?this.clone().ixor(Ga):Ga.clone().ixor(this)},vs.prototype.uxor=function(Ga){return this.length>Ga.length?this.clone().iuxor(Ga):Ga.clone().iuxor(this)},vs.prototype.inotn=function(Ga){ms(typeof Ga=="number"&&Ga>=0);var Xa=Math.ceil(Ga/26)|0,Fa=Ga%26;this._expand(Xa),Fa>0&&Xa--;for(var Zs=0;Zs<Xa;Zs++)this.words[Zs]=~this.words[Zs]&67108863;return Fa>0&&(this.words[Zs]=~this.words[Zs]&67108863>>26-Fa),this.strip()},vs.prototype.notn=function(Ga){return this.clone().inotn(Ga)},vs.prototype.setn=function(Ga,Xa){ms(typeof Ga=="number"&&Ga>=0);var Fa=Ga/26|0,Zs=Ga%26;return this._expand(Fa+1),Xa?this.words[Fa]=this.words[Fa]|1<<Zs:this.words[Fa]=this.words[Fa]&~(1<<Zs),this.strip()},vs.prototype.iadd=function(Ga){var Xa;if(this.negative!==0&&Ga.negative===0)return this.negative=0,Xa=this.isub(Ga),this.negative^=1,this._normSign();if(this.negative===0&&Ga.negative!==0)return Ga.negative=0,Xa=this.isub(Ga),Ga.negative=1,Xa._normSign();var Fa,Zs;this.length>Ga.length?(Fa=this,Zs=Ga):(Fa=Ga,Zs=this);for(var Wa=0,Za=0;Za<Zs.length;Za++)Xa=(Fa.words[Za]|0)+(Zs.words[Za]|0)+Wa,this.words[Za]=Xa&67108863,Wa=Xa>>>26;for(;Wa!==0&&Za<Fa.length;Za++)Xa=(Fa.words[Za]|0)+Wa,this.words[Za]=Xa&67108863,Wa=Xa>>>26;if(this.length=Fa.length,Wa!==0)this.words[this.length]=Wa,this.length++;else if(Fa!==this)for(;Za<Fa.length;Za++)this.words[Za]=Fa.words[Za];return this},vs.prototype.add=function(Ga){var Xa;return Ga.negative!==0&&this.negative===0?(Ga.negative=0,Xa=this.sub(Ga),Ga.negative^=1,Xa):Ga.negative===0&&this.negative!==0?(this.negative=0,Xa=Ga.sub(this),this.negative=1,Xa):this.length>Ga.length?this.clone().iadd(Ga):Ga.clone().iadd(this)},vs.prototype.isub=function(Ga){if(Ga.negative!==0){Ga.negative=0;var Xa=this.iadd(Ga);return Ga.negative=1,Xa._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ga),this.negative=1,this._normSign();var Fa=this.cmp(Ga);if(Fa===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Zs,Wa;Fa>0?(Zs=this,Wa=Ga):(Zs=Ga,Wa=this);for(var Za=0,iu=0;iu<Wa.length;iu++)Xa=(Zs.words[iu]|0)-(Wa.words[iu]|0)+Za,Za=Xa>>26,this.words[iu]=Xa&67108863;for(;Za!==0&&iu<Zs.length;iu++)Xa=(Zs.words[iu]|0)+Za,Za=Xa>>26,this.words[iu]=Xa&67108863;if(Za===0&&iu<Zs.length&&Zs!==this)for(;iu<Zs.length;iu++)this.words[iu]=Zs.words[iu];return this.length=Math.max(this.length,iu),Zs!==this&&(this.negative=1),this.strip()},vs.prototype.sub=function(Ga){return this.clone().isub(Ga)};function Hs(ou,Ga,Xa){Xa.negative=Ga.negative^ou.negative;var Fa=ou.length+Ga.length|0;Xa.length=Fa,Fa=Fa-1|0;var Zs=ou.words[0]|0,Wa=Ga.words[0]|0,Za=Zs*Wa,iu=Za&67108863,au=Za/67108864|0;Xa.words[0]=iu;for(var nu=1;nu<Fa;nu++){for(var uu=au>>>26,fu=au&67108863,hu=Math.min(nu,Ga.length-1),Eu=Math.max(0,nu-ou.length+1);Eu<=hu;Eu++){var $u=nu-Eu|0;Zs=ou.words[$u]|0,Wa=Ga.words[Eu]|0,Za=Zs*Wa+fu,uu+=Za/67108864|0,fu=Za&67108863}Xa.words[nu]=fu|0,au=uu|0}return au!==0?Xa.words[nu]=au|0:Xa.length--,Xa.strip()}var Ns=function(Ga,Xa,Fa){var Zs=Ga.words,Wa=Xa.words,Za=Fa.words,iu=0,au,nu,uu,fu=Zs[0]|0,hu=fu&8191,Eu=fu>>>13,$u=Zs[1]|0,Ou=$u&8191,gu=$u>>>13,yu=Zs[2]|0,Tu=yu&8191,du=yu>>>13,wu=Zs[3]|0,Ru=wu&8191,Ku=wu>>>13,Zu=Zs[4]|0,tl=Zu&8191,sl=Zu>>>13,gl=Zs[5]|0,Fu=gl&8191,Mu=gl>>>13,Ju=Zs[6]|0,vf=Ju&8191,wf=Ju>>>13,el=Zs[7]|0,il=el&8191,hl=el>>>13,cl=Zs[8]|0,ul=cl&8191,yl=cl>>>13,Cl=Zs[9]|0,Bu=Cl&8191,pu=Cl>>>13,xu=Wa[0]|0,qu=xu&8191,Pu=xu>>>13,xf=Wa[1]|0,nl=xf&8191,wl=xf>>>13,Il=Wa[2]|0,Rl=Il&8191,fl=Il>>>13,Ml=Wa[3]|0,Ul=Ml&8191,kl=Ml>>>13,Fl=Wa[4]|0,Pl=Fl&8191,Wl=Fl>>>13,jl=Wa[5]|0,Nu=jl&8191,mu=jl>>>13,_u=Wa[6]|0,Lu=_u&8191,Vu=_u>>>13,vu=Wa[7]|0,Su=vu&8191,Iu=vu>>>13,bu=Wa[8]|0,Wu=bu&8191,Xu=bu>>>13,Qu=Wa[9]|0,ol=Qu&8191,vl=Qu>>>13;Fa.negative=Ga.negative^Xa.negative,Fa.length=19,au=Math.imul(hu,qu),nu=Math.imul(hu,Pu),nu=nu+Math.imul(Eu,qu)|0,uu=Math.imul(Eu,Pu);var _l=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(_l>>>26)|0,_l&=67108863,au=Math.imul(Ou,qu),nu=Math.imul(Ou,Pu),nu=nu+Math.imul(gu,qu)|0,uu=Math.imul(gu,Pu),au=au+Math.imul(hu,nl)|0,nu=nu+Math.imul(hu,wl)|0,nu=nu+Math.imul(Eu,nl)|0,uu=uu+Math.imul(Eu,wl)|0;var rl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(rl>>>26)|0,rl&=67108863,au=Math.imul(Tu,qu),nu=Math.imul(Tu,Pu),nu=nu+Math.imul(du,qu)|0,uu=Math.imul(du,Pu),au=au+Math.imul(Ou,nl)|0,nu=nu+Math.imul(Ou,wl)|0,nu=nu+Math.imul(gu,nl)|0,uu=uu+Math.imul(gu,wl)|0,au=au+Math.imul(hu,Rl)|0,nu=nu+Math.imul(hu,fl)|0,nu=nu+Math.imul(Eu,Rl)|0,uu=uu+Math.imul(Eu,fl)|0;var Al=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Al>>>26)|0,Al&=67108863,au=Math.imul(Ru,qu),nu=Math.imul(Ru,Pu),nu=nu+Math.imul(Ku,qu)|0,uu=Math.imul(Ku,Pu),au=au+Math.imul(Tu,nl)|0,nu=nu+Math.imul(Tu,wl)|0,nu=nu+Math.imul(du,nl)|0,uu=uu+Math.imul(du,wl)|0,au=au+Math.imul(Ou,Rl)|0,nu=nu+Math.imul(Ou,fl)|0,nu=nu+Math.imul(gu,Rl)|0,uu=uu+Math.imul(gu,fl)|0,au=au+Math.imul(hu,Ul)|0,nu=nu+Math.imul(hu,kl)|0,nu=nu+Math.imul(Eu,Ul)|0,uu=uu+Math.imul(Eu,kl)|0;var $l=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+($l>>>26)|0,$l&=67108863,au=Math.imul(tl,qu),nu=Math.imul(tl,Pu),nu=nu+Math.imul(sl,qu)|0,uu=Math.imul(sl,Pu),au=au+Math.imul(Ru,nl)|0,nu=nu+Math.imul(Ru,wl)|0,nu=nu+Math.imul(Ku,nl)|0,uu=uu+Math.imul(Ku,wl)|0,au=au+Math.imul(Tu,Rl)|0,nu=nu+Math.imul(Tu,fl)|0,nu=nu+Math.imul(du,Rl)|0,uu=uu+Math.imul(du,fl)|0,au=au+Math.imul(Ou,Ul)|0,nu=nu+Math.imul(Ou,kl)|0,nu=nu+Math.imul(gu,Ul)|0,uu=uu+Math.imul(gu,kl)|0,au=au+Math.imul(hu,Pl)|0,nu=nu+Math.imul(hu,Wl)|0,nu=nu+Math.imul(Eu,Pl)|0,uu=uu+Math.imul(Eu,Wl)|0;var Dl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Dl>>>26)|0,Dl&=67108863,au=Math.imul(Fu,qu),nu=Math.imul(Fu,Pu),nu=nu+Math.imul(Mu,qu)|0,uu=Math.imul(Mu,Pu),au=au+Math.imul(tl,nl)|0,nu=nu+Math.imul(tl,wl)|0,nu=nu+Math.imul(sl,nl)|0,uu=uu+Math.imul(sl,wl)|0,au=au+Math.imul(Ru,Rl)|0,nu=nu+Math.imul(Ru,fl)|0,nu=nu+Math.imul(Ku,Rl)|0,uu=uu+Math.imul(Ku,fl)|0,au=au+Math.imul(Tu,Ul)|0,nu=nu+Math.imul(Tu,kl)|0,nu=nu+Math.imul(du,Ul)|0,uu=uu+Math.imul(du,kl)|0,au=au+Math.imul(Ou,Pl)|0,nu=nu+Math.imul(Ou,Wl)|0,nu=nu+Math.imul(gu,Pl)|0,uu=uu+Math.imul(gu,Wl)|0,au=au+Math.imul(hu,Nu)|0,nu=nu+Math.imul(hu,mu)|0,nu=nu+Math.imul(Eu,Nu)|0,uu=uu+Math.imul(Eu,mu)|0;var Ol=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Ol>>>26)|0,Ol&=67108863,au=Math.imul(vf,qu),nu=Math.imul(vf,Pu),nu=nu+Math.imul(wf,qu)|0,uu=Math.imul(wf,Pu),au=au+Math.imul(Fu,nl)|0,nu=nu+Math.imul(Fu,wl)|0,nu=nu+Math.imul(Mu,nl)|0,uu=uu+Math.imul(Mu,wl)|0,au=au+Math.imul(tl,Rl)|0,nu=nu+Math.imul(tl,fl)|0,nu=nu+Math.imul(sl,Rl)|0,uu=uu+Math.imul(sl,fl)|0,au=au+Math.imul(Ru,Ul)|0,nu=nu+Math.imul(Ru,kl)|0,nu=nu+Math.imul(Ku,Ul)|0,uu=uu+Math.imul(Ku,kl)|0,au=au+Math.imul(Tu,Pl)|0,nu=nu+Math.imul(Tu,Wl)|0,nu=nu+Math.imul(du,Pl)|0,uu=uu+Math.imul(du,Wl)|0,au=au+Math.imul(Ou,Nu)|0,nu=nu+Math.imul(Ou,mu)|0,nu=nu+Math.imul(gu,Nu)|0,uu=uu+Math.imul(gu,mu)|0,au=au+Math.imul(hu,Lu)|0,nu=nu+Math.imul(hu,Vu)|0,nu=nu+Math.imul(Eu,Lu)|0,uu=uu+Math.imul(Eu,Vu)|0;var ll=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(ll>>>26)|0,ll&=67108863,au=Math.imul(il,qu),nu=Math.imul(il,Pu),nu=nu+Math.imul(hl,qu)|0,uu=Math.imul(hl,Pu),au=au+Math.imul(vf,nl)|0,nu=nu+Math.imul(vf,wl)|0,nu=nu+Math.imul(wf,nl)|0,uu=uu+Math.imul(wf,wl)|0,au=au+Math.imul(Fu,Rl)|0,nu=nu+Math.imul(Fu,fl)|0,nu=nu+Math.imul(Mu,Rl)|0,uu=uu+Math.imul(Mu,fl)|0,au=au+Math.imul(tl,Ul)|0,nu=nu+Math.imul(tl,kl)|0,nu=nu+Math.imul(sl,Ul)|0,uu=uu+Math.imul(sl,kl)|0,au=au+Math.imul(Ru,Pl)|0,nu=nu+Math.imul(Ru,Wl)|0,nu=nu+Math.imul(Ku,Pl)|0,uu=uu+Math.imul(Ku,Wl)|0,au=au+Math.imul(Tu,Nu)|0,nu=nu+Math.imul(Tu,mu)|0,nu=nu+Math.imul(du,Nu)|0,uu=uu+Math.imul(du,mu)|0,au=au+Math.imul(Ou,Lu)|0,nu=nu+Math.imul(Ou,Vu)|0,nu=nu+Math.imul(gu,Lu)|0,uu=uu+Math.imul(gu,Vu)|0,au=au+Math.imul(hu,Su)|0,nu=nu+Math.imul(hu,Iu)|0,nu=nu+Math.imul(Eu,Su)|0,uu=uu+Math.imul(Eu,Iu)|0;var ju=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(ju>>>26)|0,ju&=67108863,au=Math.imul(ul,qu),nu=Math.imul(ul,Pu),nu=nu+Math.imul(yl,qu)|0,uu=Math.imul(yl,Pu),au=au+Math.imul(il,nl)|0,nu=nu+Math.imul(il,wl)|0,nu=nu+Math.imul(hl,nl)|0,uu=uu+Math.imul(hl,wl)|0,au=au+Math.imul(vf,Rl)|0,nu=nu+Math.imul(vf,fl)|0,nu=nu+Math.imul(wf,Rl)|0,uu=uu+Math.imul(wf,fl)|0,au=au+Math.imul(Fu,Ul)|0,nu=nu+Math.imul(Fu,kl)|0,nu=nu+Math.imul(Mu,Ul)|0,uu=uu+Math.imul(Mu,kl)|0,au=au+Math.imul(tl,Pl)|0,nu=nu+Math.imul(tl,Wl)|0,nu=nu+Math.imul(sl,Pl)|0,uu=uu+Math.imul(sl,Wl)|0,au=au+Math.imul(Ru,Nu)|0,nu=nu+Math.imul(Ru,mu)|0,nu=nu+Math.imul(Ku,Nu)|0,uu=uu+Math.imul(Ku,mu)|0,au=au+Math.imul(Tu,Lu)|0,nu=nu+Math.imul(Tu,Vu)|0,nu=nu+Math.imul(du,Lu)|0,uu=uu+Math.imul(du,Vu)|0,au=au+Math.imul(Ou,Su)|0,nu=nu+Math.imul(Ou,Iu)|0,nu=nu+Math.imul(gu,Su)|0,uu=uu+Math.imul(gu,Iu)|0,au=au+Math.imul(hu,Wu)|0,nu=nu+Math.imul(hu,Xu)|0,nu=nu+Math.imul(Eu,Wu)|0,uu=uu+Math.imul(Eu,Xu)|0;var Ll=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,au=Math.imul(Bu,qu),nu=Math.imul(Bu,Pu),nu=nu+Math.imul(pu,qu)|0,uu=Math.imul(pu,Pu),au=au+Math.imul(ul,nl)|0,nu=nu+Math.imul(ul,wl)|0,nu=nu+Math.imul(yl,nl)|0,uu=uu+Math.imul(yl,wl)|0,au=au+Math.imul(il,Rl)|0,nu=nu+Math.imul(il,fl)|0,nu=nu+Math.imul(hl,Rl)|0,uu=uu+Math.imul(hl,fl)|0,au=au+Math.imul(vf,Ul)|0,nu=nu+Math.imul(vf,kl)|0,nu=nu+Math.imul(wf,Ul)|0,uu=uu+Math.imul(wf,kl)|0,au=au+Math.imul(Fu,Pl)|0,nu=nu+Math.imul(Fu,Wl)|0,nu=nu+Math.imul(Mu,Pl)|0,uu=uu+Math.imul(Mu,Wl)|0,au=au+Math.imul(tl,Nu)|0,nu=nu+Math.imul(tl,mu)|0,nu=nu+Math.imul(sl,Nu)|0,uu=uu+Math.imul(sl,mu)|0,au=au+Math.imul(Ru,Lu)|0,nu=nu+Math.imul(Ru,Vu)|0,nu=nu+Math.imul(Ku,Lu)|0,uu=uu+Math.imul(Ku,Vu)|0,au=au+Math.imul(Tu,Su)|0,nu=nu+Math.imul(Tu,Iu)|0,nu=nu+Math.imul(du,Su)|0,uu=uu+Math.imul(du,Iu)|0,au=au+Math.imul(Ou,Wu)|0,nu=nu+Math.imul(Ou,Xu)|0,nu=nu+Math.imul(gu,Wu)|0,uu=uu+Math.imul(gu,Xu)|0,au=au+Math.imul(hu,ol)|0,nu=nu+Math.imul(hu,vl)|0,nu=nu+Math.imul(Eu,ol)|0,uu=uu+Math.imul(Eu,vl)|0;var xl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(xl>>>26)|0,xl&=67108863,au=Math.imul(Bu,nl),nu=Math.imul(Bu,wl),nu=nu+Math.imul(pu,nl)|0,uu=Math.imul(pu,wl),au=au+Math.imul(ul,Rl)|0,nu=nu+Math.imul(ul,fl)|0,nu=nu+Math.imul(yl,Rl)|0,uu=uu+Math.imul(yl,fl)|0,au=au+Math.imul(il,Ul)|0,nu=nu+Math.imul(il,kl)|0,nu=nu+Math.imul(hl,Ul)|0,uu=uu+Math.imul(hl,kl)|0,au=au+Math.imul(vf,Pl)|0,nu=nu+Math.imul(vf,Wl)|0,nu=nu+Math.imul(wf,Pl)|0,uu=uu+Math.imul(wf,Wl)|0,au=au+Math.imul(Fu,Nu)|0,nu=nu+Math.imul(Fu,mu)|0,nu=nu+Math.imul(Mu,Nu)|0,uu=uu+Math.imul(Mu,mu)|0,au=au+Math.imul(tl,Lu)|0,nu=nu+Math.imul(tl,Vu)|0,nu=nu+Math.imul(sl,Lu)|0,uu=uu+Math.imul(sl,Vu)|0,au=au+Math.imul(Ru,Su)|0,nu=nu+Math.imul(Ru,Iu)|0,nu=nu+Math.imul(Ku,Su)|0,uu=uu+Math.imul(Ku,Iu)|0,au=au+Math.imul(Tu,Wu)|0,nu=nu+Math.imul(Tu,Xu)|0,nu=nu+Math.imul(du,Wu)|0,uu=uu+Math.imul(du,Xu)|0,au=au+Math.imul(Ou,ol)|0,nu=nu+Math.imul(Ou,vl)|0,nu=nu+Math.imul(gu,ol)|0,uu=uu+Math.imul(gu,vl)|0;var Tl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Tl>>>26)|0,Tl&=67108863,au=Math.imul(Bu,Rl),nu=Math.imul(Bu,fl),nu=nu+Math.imul(pu,Rl)|0,uu=Math.imul(pu,fl),au=au+Math.imul(ul,Ul)|0,nu=nu+Math.imul(ul,kl)|0,nu=nu+Math.imul(yl,Ul)|0,uu=uu+Math.imul(yl,kl)|0,au=au+Math.imul(il,Pl)|0,nu=nu+Math.imul(il,Wl)|0,nu=nu+Math.imul(hl,Pl)|0,uu=uu+Math.imul(hl,Wl)|0,au=au+Math.imul(vf,Nu)|0,nu=nu+Math.imul(vf,mu)|0,nu=nu+Math.imul(wf,Nu)|0,uu=uu+Math.imul(wf,mu)|0,au=au+Math.imul(Fu,Lu)|0,nu=nu+Math.imul(Fu,Vu)|0,nu=nu+Math.imul(Mu,Lu)|0,uu=uu+Math.imul(Mu,Vu)|0,au=au+Math.imul(tl,Su)|0,nu=nu+Math.imul(tl,Iu)|0,nu=nu+Math.imul(sl,Su)|0,uu=uu+Math.imul(sl,Iu)|0,au=au+Math.imul(Ru,Wu)|0,nu=nu+Math.imul(Ru,Xu)|0,nu=nu+Math.imul(Ku,Wu)|0,uu=uu+Math.imul(Ku,Xu)|0,au=au+Math.imul(Tu,ol)|0,nu=nu+Math.imul(Tu,vl)|0,nu=nu+Math.imul(du,ol)|0,uu=uu+Math.imul(du,vl)|0;var dl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(dl>>>26)|0,dl&=67108863,au=Math.imul(Bu,Ul),nu=Math.imul(Bu,kl),nu=nu+Math.imul(pu,Ul)|0,uu=Math.imul(pu,kl),au=au+Math.imul(ul,Pl)|0,nu=nu+Math.imul(ul,Wl)|0,nu=nu+Math.imul(yl,Pl)|0,uu=uu+Math.imul(yl,Wl)|0,au=au+Math.imul(il,Nu)|0,nu=nu+Math.imul(il,mu)|0,nu=nu+Math.imul(hl,Nu)|0,uu=uu+Math.imul(hl,mu)|0,au=au+Math.imul(vf,Lu)|0,nu=nu+Math.imul(vf,Vu)|0,nu=nu+Math.imul(wf,Lu)|0,uu=uu+Math.imul(wf,Vu)|0,au=au+Math.imul(Fu,Su)|0,nu=nu+Math.imul(Fu,Iu)|0,nu=nu+Math.imul(Mu,Su)|0,uu=uu+Math.imul(Mu,Iu)|0,au=au+Math.imul(tl,Wu)|0,nu=nu+Math.imul(tl,Xu)|0,nu=nu+Math.imul(sl,Wu)|0,uu=uu+Math.imul(sl,Xu)|0,au=au+Math.imul(Ru,ol)|0,nu=nu+Math.imul(Ru,vl)|0,nu=nu+Math.imul(Ku,ol)|0,uu=uu+Math.imul(Ku,vl)|0;var Bl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,au=Math.imul(Bu,Pl),nu=Math.imul(Bu,Wl),nu=nu+Math.imul(pu,Pl)|0,uu=Math.imul(pu,Wl),au=au+Math.imul(ul,Nu)|0,nu=nu+Math.imul(ul,mu)|0,nu=nu+Math.imul(yl,Nu)|0,uu=uu+Math.imul(yl,mu)|0,au=au+Math.imul(il,Lu)|0,nu=nu+Math.imul(il,Vu)|0,nu=nu+Math.imul(hl,Lu)|0,uu=uu+Math.imul(hl,Vu)|0,au=au+Math.imul(vf,Su)|0,nu=nu+Math.imul(vf,Iu)|0,nu=nu+Math.imul(wf,Su)|0,uu=uu+Math.imul(wf,Iu)|0,au=au+Math.imul(Fu,Wu)|0,nu=nu+Math.imul(Fu,Xu)|0,nu=nu+Math.imul(Mu,Wu)|0,uu=uu+Math.imul(Mu,Xu)|0,au=au+Math.imul(tl,ol)|0,nu=nu+Math.imul(tl,vl)|0,nu=nu+Math.imul(sl,ol)|0,uu=uu+Math.imul(sl,vl)|0;var Sl=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Sl>>>26)|0,Sl&=67108863,au=Math.imul(Bu,Nu),nu=Math.imul(Bu,mu),nu=nu+Math.imul(pu,Nu)|0,uu=Math.imul(pu,mu),au=au+Math.imul(ul,Lu)|0,nu=nu+Math.imul(ul,Vu)|0,nu=nu+Math.imul(yl,Lu)|0,uu=uu+Math.imul(yl,Vu)|0,au=au+Math.imul(il,Su)|0,nu=nu+Math.imul(il,Iu)|0,nu=nu+Math.imul(hl,Su)|0,uu=uu+Math.imul(hl,Iu)|0,au=au+Math.imul(vf,Wu)|0,nu=nu+Math.imul(vf,Xu)|0,nu=nu+Math.imul(wf,Wu)|0,uu=uu+Math.imul(wf,Xu)|0,au=au+Math.imul(Fu,ol)|0,nu=nu+Math.imul(Fu,vl)|0,nu=nu+Math.imul(Mu,ol)|0,uu=uu+Math.imul(Mu,vl)|0;var Ja=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Ja>>>26)|0,Ja&=67108863,au=Math.imul(Bu,Lu),nu=Math.imul(Bu,Vu),nu=nu+Math.imul(pu,Lu)|0,uu=Math.imul(pu,Vu),au=au+Math.imul(ul,Su)|0,nu=nu+Math.imul(ul,Iu)|0,nu=nu+Math.imul(yl,Su)|0,uu=uu+Math.imul(yl,Iu)|0,au=au+Math.imul(il,Wu)|0,nu=nu+Math.imul(il,Xu)|0,nu=nu+Math.imul(hl,Wu)|0,uu=uu+Math.imul(hl,Xu)|0,au=au+Math.imul(vf,ol)|0,nu=nu+Math.imul(vf,vl)|0,nu=nu+Math.imul(wf,ol)|0,uu=uu+Math.imul(wf,vl)|0;var su=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(su>>>26)|0,su&=67108863,au=Math.imul(Bu,Su),nu=Math.imul(Bu,Iu),nu=nu+Math.imul(pu,Su)|0,uu=Math.imul(pu,Iu),au=au+Math.imul(ul,Wu)|0,nu=nu+Math.imul(ul,Xu)|0,nu=nu+Math.imul(yl,Wu)|0,uu=uu+Math.imul(yl,Xu)|0,au=au+Math.imul(il,ol)|0,nu=nu+Math.imul(il,vl)|0,nu=nu+Math.imul(hl,ol)|0,uu=uu+Math.imul(hl,vl)|0;var lu=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(lu>>>26)|0,lu&=67108863,au=Math.imul(Bu,Wu),nu=Math.imul(Bu,Xu),nu=nu+Math.imul(pu,Wu)|0,uu=Math.imul(pu,Xu),au=au+Math.imul(ul,ol)|0,nu=nu+Math.imul(ul,vl)|0,nu=nu+Math.imul(yl,ol)|0,uu=uu+Math.imul(yl,vl)|0;var Au=(iu+au|0)+((nu&8191)<<13)|0;iu=(uu+(nu>>>13)|0)+(Au>>>26)|0,Au&=67108863,au=Math.imul(Bu,ol),nu=Math.imul(Bu,vl),nu=nu+Math.imul(pu,ol)|0,uu=Math.imul(pu,vl);var Du=(iu+au|0)+((nu&8191)<<13)|0;return iu=(uu+(nu>>>13)|0)+(Du>>>26)|0,Du&=67108863,Za[0]=_l,Za[1]=rl,Za[2]=Al,Za[3]=$l,Za[4]=Dl,Za[5]=Ol,Za[6]=ll,Za[7]=ju,Za[8]=Ll,Za[9]=xl,Za[10]=Tl,Za[11]=dl,Za[12]=Bl,Za[13]=Sl,Za[14]=Ja,Za[15]=su,Za[16]=lu,Za[17]=Au,Za[18]=Du,iu!==0&&(Za[19]=iu,Fa.length++),Fa};Math.imul||(Ns=Hs);function Js(ou,Ga,Xa){Xa.negative=Ga.negative^ou.negative,Xa.length=ou.length+Ga.length;for(var Fa=0,Zs=0,Wa=0;Wa<Xa.length-1;Wa++){var Za=Zs;Zs=0;for(var iu=Fa&67108863,au=Math.min(Wa,Ga.length-1),nu=Math.max(0,Wa-ou.length+1);nu<=au;nu++){var uu=Wa-nu,fu=ou.words[uu]|0,hu=Ga.words[nu]|0,Eu=fu*hu,$u=Eu&67108863;Za=Za+(Eu/67108864|0)|0,$u=$u+iu|0,iu=$u&67108863,Za=Za+($u>>>26)|0,Zs+=Za>>>26,Za&=67108863}Xa.words[Wa]=iu,Fa=Za,Za=Zs}return Fa!==0?Xa.words[Wa]=Fa:Xa.length--,Xa.strip()}function ha(ou,Ga,Xa){var Fa=new pa;return Fa.mulp(ou,Ga,Xa)}vs.prototype.mulTo=function(Ga,Xa){var Fa,Zs=this.length+Ga.length;return this.length===10&&Ga.length===10?Fa=Ns(this,Ga,Xa):Zs<63?Fa=Hs(this,Ga,Xa):Zs<1024?Fa=Js(this,Ga,Xa):Fa=ha(this,Ga,Xa),Fa};function pa(ou,Ga){this.x=ou,this.y=Ga}pa.prototype.makeRBT=function(Ga){for(var Xa=new Array(Ga),Fa=vs.prototype._countBits(Ga)-1,Zs=0;Zs<Ga;Zs++)Xa[Zs]=this.revBin(Zs,Fa,Ga);return Xa},pa.prototype.revBin=function(Ga,Xa,Fa){if(Ga===0||Ga===Fa-1)return Ga;for(var Zs=0,Wa=0;Wa<Xa;Wa++)Zs|=(Ga&1)<<Xa-Wa-1,Ga>>=1;return Zs},pa.prototype.permute=function(Ga,Xa,Fa,Zs,Wa,Za){for(var iu=0;iu<Za;iu++)Zs[iu]=Xa[Ga[iu]],Wa[iu]=Fa[Ga[iu]]},pa.prototype.transform=function(Ga,Xa,Fa,Zs,Wa,Za){this.permute(Za,Ga,Xa,Fa,Zs,Wa);for(var iu=1;iu<Wa;iu<<=1)for(var au=iu<<1,nu=Math.cos(2*Math.PI/au),uu=Math.sin(2*Math.PI/au),fu=0;fu<Wa;fu+=au)for(var hu=nu,Eu=uu,$u=0;$u<iu;$u++){var Ou=Fa[fu+$u],gu=Zs[fu+$u],yu=Fa[fu+$u+iu],Tu=Zs[fu+$u+iu],du=hu*yu-Eu*Tu;Tu=hu*Tu+Eu*yu,yu=du,Fa[fu+$u]=Ou+yu,Zs[fu+$u]=gu+Tu,Fa[fu+$u+iu]=Ou-yu,Zs[fu+$u+iu]=gu-Tu,$u!==au&&(du=nu*hu-uu*Eu,Eu=nu*Eu+uu*hu,hu=du)}},pa.prototype.guessLen13b=function(Ga,Xa){var Fa=Math.max(Xa,Ga)|1,Zs=Fa&1,Wa=0;for(Fa=Fa/2|0;Fa;Fa=Fa>>>1)Wa++;return 1<<Wa+1+Zs},pa.prototype.conjugate=function(Ga,Xa,Fa){if(!(Fa<=1))for(var Zs=0;Zs<Fa/2;Zs++){var Wa=Ga[Zs];Ga[Zs]=Ga[Fa-Zs-1],Ga[Fa-Zs-1]=Wa,Wa=Xa[Zs],Xa[Zs]=-Xa[Fa-Zs-1],Xa[Fa-Zs-1]=-Wa}},pa.prototype.normalize13b=function(Ga,Xa){for(var Fa=0,Zs=0;Zs<Xa/2;Zs++){var Wa=Math.round(Ga[2*Zs+1]/Xa)*8192+Math.round(Ga[2*Zs]/Xa)+Fa;Ga[Zs]=Wa&67108863,Wa<67108864?Fa=0:Fa=Wa/67108864|0}return Ga},pa.prototype.convert13b=function(Ga,Xa,Fa,Zs){for(var Wa=0,Za=0;Za<Xa;Za++)Wa=Wa+(Ga[Za]|0),Fa[2*Za]=Wa&8191,Wa=Wa>>>13,Fa[2*Za+1]=Wa&8191,Wa=Wa>>>13;for(Za=2*Xa;Za<Zs;++Za)Fa[Za]=0;ms(Wa===0),ms((Wa&-8192)===0)},pa.prototype.stub=function(Ga){for(var Xa=new Array(Ga),Fa=0;Fa<Ga;Fa++)Xa[Fa]=0;return Xa},pa.prototype.mulp=function(Ga,Xa,Fa){var Zs=2*this.guessLen13b(Ga.length,Xa.length),Wa=this.makeRBT(Zs),Za=this.stub(Zs),iu=new Array(Zs),au=new Array(Zs),nu=new Array(Zs),uu=new Array(Zs),fu=new Array(Zs),hu=new Array(Zs),Eu=Fa.words;Eu.length=Zs,this.convert13b(Ga.words,Ga.length,iu,Zs),this.convert13b(Xa.words,Xa.length,uu,Zs),this.transform(iu,Za,au,nu,Zs,Wa),this.transform(uu,Za,fu,hu,Zs,Wa);for(var $u=0;$u<Zs;$u++){var Ou=au[$u]*fu[$u]-nu[$u]*hu[$u];nu[$u]=au[$u]*hu[$u]+nu[$u]*fu[$u],au[$u]=Ou}return this.conjugate(au,nu,Zs),this.transform(au,nu,Eu,Za,Zs,Wa),this.conjugate(Eu,Za,Zs),this.normalize13b(Eu,Zs),Fa.negative=Ga.negative^Xa.negative,Fa.length=Ga.length+Xa.length,Fa.strip()},vs.prototype.mul=function(Ga){var Xa=new vs(null);return Xa.words=new Array(this.length+Ga.length),this.mulTo(Ga,Xa)},vs.prototype.mulf=function(Ga){var Xa=new vs(null);return Xa.words=new Array(this.length+Ga.length),ha(this,Ga,Xa)},vs.prototype.imul=function(Ga){return this.clone().mulTo(Ga,this)},vs.prototype.imuln=function(Ga){ms(typeof Ga=="number"),ms(Ga<67108864);for(var Xa=0,Fa=0;Fa<this.length;Fa++){var Zs=(this.words[Fa]|0)*Ga,Wa=(Zs&67108863)+(Xa&67108863);Xa>>=26,Xa+=Zs/67108864|0,Xa+=Wa>>>26,this.words[Fa]=Wa&67108863}return Xa!==0&&(this.words[Fa]=Xa,this.length++),this.length=Ga===0?1:this.length,this},vs.prototype.muln=function(Ga){return this.clone().imuln(Ga)},vs.prototype.sqr=function(){return this.mul(this)},vs.prototype.isqr=function(){return this.imul(this.clone())},vs.prototype.pow=function(Ga){var Xa=Ws(Ga);if(Xa.length===0)return new vs(1);for(var Fa=this,Zs=0;Zs<Xa.length&&Xa[Zs]===0;Zs++,Fa=Fa.sqr());if(++Zs<Xa.length)for(var Wa=Fa.sqr();Zs<Xa.length;Zs++,Wa=Wa.sqr())Xa[Zs]!==0&&(Fa=Fa.mul(Wa));return Fa},vs.prototype.iushln=function(Ga){ms(typeof Ga=="number"&&Ga>=0);var Xa=Ga%26,Fa=(Ga-Xa)/26,Zs=67108863>>>26-Xa<<26-Xa,Wa;if(Xa!==0){var Za=0;for(Wa=0;Wa<this.length;Wa++){var iu=this.words[Wa]&Zs,au=(this.words[Wa]|0)-iu<<Xa;this.words[Wa]=au|Za,Za=iu>>>26-Xa}Za&&(this.words[Wa]=Za,this.length++)}if(Fa!==0){for(Wa=this.length-1;Wa>=0;Wa--)this.words[Wa+Fa]=this.words[Wa];for(Wa=0;Wa<Fa;Wa++)this.words[Wa]=0;this.length+=Fa}return this.strip()},vs.prototype.ishln=function(Ga){return ms(this.negative===0),this.iushln(Ga)},vs.prototype.iushrn=function(Ga,Xa,Fa){ms(typeof Ga=="number"&&Ga>=0);var Zs;Xa?Zs=(Xa-Xa%26)/26:Zs=0;var Wa=Ga%26,Za=Math.min((Ga-Wa)/26,this.length),iu=67108863^67108863>>>Wa<<Wa,au=Fa;if(Zs-=Za,Zs=Math.max(0,Zs),au){for(var nu=0;nu<Za;nu++)au.words[nu]=this.words[nu];au.length=Za}if(Za!==0)if(this.length>Za)for(this.length-=Za,nu=0;nu<this.length;nu++)this.words[nu]=this.words[nu+Za];else this.words[0]=0,this.length=1;var uu=0;for(nu=this.length-1;nu>=0&&(uu!==0||nu>=Zs);nu--){var fu=this.words[nu]|0;this.words[nu]=uu<<26-Wa|fu>>>Wa,uu=fu&iu}return au&&uu!==0&&(au.words[au.length++]=uu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},vs.prototype.ishrn=function(Ga,Xa,Fa){return ms(this.negative===0),this.iushrn(Ga,Xa,Fa)},vs.prototype.shln=function(Ga){return this.clone().ishln(Ga)},vs.prototype.ushln=function(Ga){return this.clone().iushln(Ga)},vs.prototype.shrn=function(Ga){return this.clone().ishrn(Ga)},vs.prototype.ushrn=function(Ga){return this.clone().iushrn(Ga)},vs.prototype.testn=function(Ga){ms(typeof Ga=="number"&&Ga>=0);var Xa=Ga%26,Fa=(Ga-Xa)/26,Zs=1<<Xa;if(this.length<=Fa)return!1;var Wa=this.words[Fa];return!!(Wa&Zs)},vs.prototype.imaskn=function(Ga){ms(typeof Ga=="number"&&Ga>=0);var Xa=Ga%26,Fa=(Ga-Xa)/26;if(ms(this.negative===0,"imaskn works only with positive numbers"),this.length<=Fa)return this;if(Xa!==0&&Fa++,this.length=Math.min(Fa,this.length),Xa!==0){var Zs=67108863^67108863>>>Xa<<Xa;this.words[this.length-1]&=Zs}return this.strip()},vs.prototype.maskn=function(Ga){return this.clone().imaskn(Ga)},vs.prototype.iaddn=function(Ga){return ms(typeof Ga=="number"),ms(Ga<67108864),Ga<0?this.isubn(-Ga):this.negative!==0?this.length===1&&(this.words[0]|0)<Ga?(this.words[0]=Ga-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ga),this.negative=1,this):this._iaddn(Ga)},vs.prototype._iaddn=function(Ga){this.words[0]+=Ga;for(var Xa=0;Xa<this.length&&this.words[Xa]>=67108864;Xa++)this.words[Xa]-=67108864,Xa===this.length-1?this.words[Xa+1]=1:this.words[Xa+1]++;return this.length=Math.max(this.length,Xa+1),this},vs.prototype.isubn=function(Ga){if(ms(typeof Ga=="number"),ms(Ga<67108864),Ga<0)return this.iaddn(-Ga);if(this.negative!==0)return this.negative=0,this.iaddn(Ga),this.negative=1,this;if(this.words[0]-=Ga,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Xa=0;Xa<this.length&&this.words[Xa]<0;Xa++)this.words[Xa]+=67108864,this.words[Xa+1]-=1;return this.strip()},vs.prototype.addn=function(Ga){return this.clone().iaddn(Ga)},vs.prototype.subn=function(Ga){return this.clone().isubn(Ga)},vs.prototype.iabs=function(){return this.negative=0,this},vs.prototype.abs=function(){return this.clone().iabs()},vs.prototype._ishlnsubmul=function(Ga,Xa,Fa){var Zs=Ga.length+Fa,Wa;this._expand(Zs);var Za,iu=0;for(Wa=0;Wa<Ga.length;Wa++){Za=(this.words[Wa+Fa]|0)+iu;var au=(Ga.words[Wa]|0)*Xa;Za-=au&67108863,iu=(Za>>26)-(au/67108864|0),this.words[Wa+Fa]=Za&67108863}for(;Wa<this.length-Fa;Wa++)Za=(this.words[Wa+Fa]|0)+iu,iu=Za>>26,this.words[Wa+Fa]=Za&67108863;if(iu===0)return this.strip();for(ms(iu===-1),iu=0,Wa=0;Wa<this.length;Wa++)Za=-(this.words[Wa]|0)+iu,iu=Za>>26,this.words[Wa]=Za&67108863;return this.negative=1,this.strip()},vs.prototype._wordDiv=function(Ga,Xa){var Fa=this.length-Ga.length,Zs=this.clone(),Wa=Ga,Za=Wa.words[Wa.length-1]|0,iu=this._countBits(Za);Fa=26-iu,Fa!==0&&(Wa=Wa.ushln(Fa),Zs.iushln(Fa),Za=Wa.words[Wa.length-1]|0);var au=Zs.length-Wa.length,nu;if(Xa!=="mod"){nu=new vs(null),nu.length=au+1,nu.words=new Array(nu.length);for(var uu=0;uu<nu.length;uu++)nu.words[uu]=0}var fu=Zs.clone()._ishlnsubmul(Wa,1,au);fu.negative===0&&(Zs=fu,nu&&(nu.words[au]=1));for(var hu=au-1;hu>=0;hu--){var Eu=(Zs.words[Wa.length+hu]|0)*67108864+(Zs.words[Wa.length+hu-1]|0);for(Eu=Math.min(Eu/Za|0,67108863),Zs._ishlnsubmul(Wa,Eu,hu);Zs.negative!==0;)Eu--,Zs.negative=0,Zs._ishlnsubmul(Wa,1,hu),Zs.isZero()||(Zs.negative^=1);nu&&(nu.words[hu]=Eu)}return nu&&nu.strip(),Zs.strip(),Xa!=="div"&&Fa!==0&&Zs.iushrn(Fa),{div:nu||null,mod:Zs}},vs.prototype.divmod=function(Ga,Xa,Fa){if(ms(!Ga.isZero()),this.isZero())return{div:new vs(0),mod:new vs(0)};var Zs,Wa,Za;return this.negative!==0&&Ga.negative===0?(Za=this.neg().divmod(Ga,Xa),Xa!=="mod"&&(Zs=Za.div.neg()),Xa!=="div"&&(Wa=Za.mod.neg(),Fa&&Wa.negative!==0&&Wa.iadd(Ga)),{div:Zs,mod:Wa}):this.negative===0&&Ga.negative!==0?(Za=this.divmod(Ga.neg(),Xa),Xa!=="mod"&&(Zs=Za.div.neg()),{div:Zs,mod:Za.mod}):(this.negative&Ga.negative)!==0?(Za=this.neg().divmod(Ga.neg(),Xa),Xa!=="div"&&(Wa=Za.mod.neg(),Fa&&Wa.negative!==0&&Wa.isub(Ga)),{div:Za.div,mod:Wa}):Ga.length>this.length||this.cmp(Ga)<0?{div:new vs(0),mod:this}:Ga.length===1?Xa==="div"?{div:this.divn(Ga.words[0]),mod:null}:Xa==="mod"?{div:null,mod:new vs(this.modn(Ga.words[0]))}:{div:this.divn(Ga.words[0]),mod:new vs(this.modn(Ga.words[0]))}:this._wordDiv(Ga,Xa)},vs.prototype.div=function(Ga){return this.divmod(Ga,"div",!1).div},vs.prototype.mod=function(Ga){return this.divmod(Ga,"mod",!1).mod},vs.prototype.umod=function(Ga){return this.divmod(Ga,"mod",!0).mod},vs.prototype.divRound=function(Ga){var Xa=this.divmod(Ga);if(Xa.mod.isZero())return Xa.div;var Fa=Xa.div.negative!==0?Xa.mod.isub(Ga):Xa.mod,Zs=Ga.ushrn(1),Wa=Ga.andln(1),Za=Fa.cmp(Zs);return Za<0||Wa===1&&Za===0?Xa.div:Xa.div.negative!==0?Xa.div.isubn(1):Xa.div.iaddn(1)},vs.prototype.modn=function(Ga){ms(Ga<=67108863);for(var Xa=(1<<26)%Ga,Fa=0,Zs=this.length-1;Zs>=0;Zs--)Fa=(Xa*Fa+(this.words[Zs]|0))%Ga;return Fa},vs.prototype.idivn=function(Ga){ms(Ga<=67108863);for(var Xa=0,Fa=this.length-1;Fa>=0;Fa--){var Zs=(this.words[Fa]|0)+Xa*67108864;this.words[Fa]=Zs/Ga|0,Xa=Zs%Ga}return this.strip()},vs.prototype.divn=function(Ga){return this.clone().idivn(Ga)},vs.prototype.egcd=function(Ga){ms(Ga.negative===0),ms(!Ga.isZero());var Xa=this,Fa=Ga.clone();Xa.negative!==0?Xa=Xa.umod(Ga):Xa=Xa.clone();for(var Zs=new vs(1),Wa=new vs(0),Za=new vs(0),iu=new vs(1),au=0;Xa.isEven()&&Fa.isEven();)Xa.iushrn(1),Fa.iushrn(1),++au;for(var nu=Fa.clone(),uu=Xa.clone();!Xa.isZero();){for(var fu=0,hu=1;(Xa.words[0]&hu)===0&&fu<26;++fu,hu<<=1);if(fu>0)for(Xa.iushrn(fu);fu-- >0;)(Zs.isOdd()||Wa.isOdd())&&(Zs.iadd(nu),Wa.isub(uu)),Zs.iushrn(1),Wa.iushrn(1);for(var Eu=0,$u=1;(Fa.words[0]&$u)===0&&Eu<26;++Eu,$u<<=1);if(Eu>0)for(Fa.iushrn(Eu);Eu-- >0;)(Za.isOdd()||iu.isOdd())&&(Za.iadd(nu),iu.isub(uu)),Za.iushrn(1),iu.iushrn(1);Xa.cmp(Fa)>=0?(Xa.isub(Fa),Zs.isub(Za),Wa.isub(iu)):(Fa.isub(Xa),Za.isub(Zs),iu.isub(Wa))}return{a:Za,b:iu,gcd:Fa.iushln(au)}},vs.prototype._invmp=function(Ga){ms(Ga.negative===0),ms(!Ga.isZero());var Xa=this,Fa=Ga.clone();Xa.negative!==0?Xa=Xa.umod(Ga):Xa=Xa.clone();for(var Zs=new vs(1),Wa=new vs(0),Za=Fa.clone();Xa.cmpn(1)>0&&Fa.cmpn(1)>0;){for(var iu=0,au=1;(Xa.words[0]&au)===0&&iu<26;++iu,au<<=1);if(iu>0)for(Xa.iushrn(iu);iu-- >0;)Zs.isOdd()&&Zs.iadd(Za),Zs.iushrn(1);for(var nu=0,uu=1;(Fa.words[0]&uu)===0&&nu<26;++nu,uu<<=1);if(nu>0)for(Fa.iushrn(nu);nu-- >0;)Wa.isOdd()&&Wa.iadd(Za),Wa.iushrn(1);Xa.cmp(Fa)>=0?(Xa.isub(Fa),Zs.isub(Wa)):(Fa.isub(Xa),Wa.isub(Zs))}var fu;return Xa.cmpn(1)===0?fu=Zs:fu=Wa,fu.cmpn(0)<0&&fu.iadd(Ga),fu},vs.prototype.gcd=function(Ga){if(this.isZero())return Ga.abs();if(Ga.isZero())return this.abs();var Xa=this.clone(),Fa=Ga.clone();Xa.negative=0,Fa.negative=0;for(var Zs=0;Xa.isEven()&&Fa.isEven();Zs++)Xa.iushrn(1),Fa.iushrn(1);do{for(;Xa.isEven();)Xa.iushrn(1);for(;Fa.isEven();)Fa.iushrn(1);var Wa=Xa.cmp(Fa);if(Wa<0){var Za=Xa;Xa=Fa,Fa=Za}else if(Wa===0||Fa.cmpn(1)===0)break;Xa.isub(Fa)}while(!0);return Fa.iushln(Zs)},vs.prototype.invm=function(Ga){return this.egcd(Ga).a.umod(Ga)},vs.prototype.isEven=function(){return(this.words[0]&1)===0},vs.prototype.isOdd=function(){return(this.words[0]&1)===1},vs.prototype.andln=function(Ga){return this.words[0]&Ga},vs.prototype.bincn=function(Ga){ms(typeof Ga=="number");var Xa=Ga%26,Fa=(Ga-Xa)/26,Zs=1<<Xa;if(this.length<=Fa)return this._expand(Fa+1),this.words[Fa]|=Zs,this;for(var Wa=Zs,Za=Fa;Wa!==0&&Za<this.length;Za++){var iu=this.words[Za]|0;iu+=Wa,Wa=iu>>>26,iu&=67108863,this.words[Za]=iu}return Wa!==0&&(this.words[Za]=Wa,this.length++),this},vs.prototype.isZero=function(){return this.length===1&&this.words[0]===0},vs.prototype.cmpn=function(Ga){var Xa=Ga<0;if(this.negative!==0&&!Xa)return-1;if(this.negative===0&&Xa)return 1;this.strip();var Fa;if(this.length>1)Fa=1;else{Xa&&(Ga=-Ga),ms(Ga<=67108863,"Number is too big");var Zs=this.words[0]|0;Fa=Zs===Ga?0:Zs<Ga?-1:1}return this.negative!==0?-Fa|0:Fa},vs.prototype.cmp=function(Ga){if(this.negative!==0&&Ga.negative===0)return-1;if(this.negative===0&&Ga.negative!==0)return 1;var Xa=this.ucmp(Ga);return this.negative!==0?-Xa|0:Xa},vs.prototype.ucmp=function(Ga){if(this.length>Ga.length)return 1;if(this.length<Ga.length)return-1;for(var Xa=0,Fa=this.length-1;Fa>=0;Fa--){var Zs=this.words[Fa]|0,Wa=Ga.words[Fa]|0;if(Zs!==Wa){Zs<Wa?Xa=-1:Zs>Wa&&(Xa=1);break}}return Xa},vs.prototype.gtn=function(Ga){return this.cmpn(Ga)===1},vs.prototype.gt=function(Ga){return this.cmp(Ga)===1},vs.prototype.gten=function(Ga){return this.cmpn(Ga)>=0},vs.prototype.gte=function(Ga){return this.cmp(Ga)>=0},vs.prototype.ltn=function(Ga){return this.cmpn(Ga)===-1},vs.prototype.lt=function(Ga){return this.cmp(Ga)===-1},vs.prototype.lten=function(Ga){return this.cmpn(Ga)<=0},vs.prototype.lte=function(Ga){return this.cmp(Ga)<=0},vs.prototype.eqn=function(Ga){return this.cmpn(Ga)===0},vs.prototype.eq=function(Ga){return this.cmp(Ga)===0},vs.red=function(Ga){return new ru(Ga)},vs.prototype.toRed=function(Ga){return ms(!this.red,"Already a number in reduction context"),ms(this.negative===0,"red works only with positives"),Ga.convertTo(this)._forceRed(Ga)},vs.prototype.fromRed=function(){return ms(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},vs.prototype._forceRed=function(Ga){return this.red=Ga,this},vs.prototype.forceRed=function(Ga){return ms(!this.red,"Already a number in reduction context"),this._forceRed(Ga)},vs.prototype.redAdd=function(Ga){return ms(this.red,"redAdd works only with red numbers"),this.red.add(this,Ga)},vs.prototype.redIAdd=function(Ga){return ms(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ga)},vs.prototype.redSub=function(Ga){return ms(this.red,"redSub works only with red numbers"),this.red.sub(this,Ga)},vs.prototype.redISub=function(Ga){return ms(this.red,"redISub works only with red numbers"),this.red.isub(this,Ga)},vs.prototype.redShl=function(Ga){return ms(this.red,"redShl works only with red numbers"),this.red.shl(this,Ga)},vs.prototype.redMul=function(Ga){return ms(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ga),this.red.mul(this,Ga)},vs.prototype.redIMul=function(Ga){return ms(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ga),this.red.imul(this,Ga)},vs.prototype.redSqr=function(){return ms(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},vs.prototype.redISqr=function(){return ms(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},vs.prototype.redSqrt=function(){return ms(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},vs.prototype.redInvm=function(){return ms(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},vs.prototype.redNeg=function(){return ms(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},vs.prototype.redPow=function(Ga){return ms(this.red&&!Ga.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ga)};var za={k256:null,p224:null,p192:null,p25519:null};function Ya(ou,Ga){this.name=ou,this.p=new vs(Ga,16),this.n=this.p.bitLength(),this.k=new vs(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ya.prototype._tmp=function(){var Ga=new vs(null);return Ga.words=new Array(Math.ceil(this.n/13)),Ga},Ya.prototype.ireduce=function(Ga){var Xa=Ga,Fa;do this.split(Xa,this.tmp),Xa=this.imulK(Xa),Xa=Xa.iadd(this.tmp),Fa=Xa.bitLength();while(Fa>this.n);var Zs=Fa<this.n?-1:Xa.ucmp(this.p);return Zs===0?(Xa.words[0]=0,Xa.length=1):Zs>0?Xa.isub(this.p):Xa.strip!==void 0?Xa.strip():Xa._strip(),Xa},Ya.prototype.split=function(Ga,Xa){Ga.iushrn(this.n,0,Xa)},Ya.prototype.imulK=function(Ga){return Ga.imul(this.k)};function Bc(){Ya.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ws(Bc,Ya),Bc.prototype.split=function(Ga,Xa){for(var Fa=4194303,Zs=Math.min(Ga.length,9),Wa=0;Wa<Zs;Wa++)Xa.words[Wa]=Ga.words[Wa];if(Xa.length=Zs,Ga.length<=9){Ga.words[0]=0,Ga.length=1;return}var Za=Ga.words[9];for(Xa.words[Xa.length++]=Za&Fa,Wa=10;Wa<Ga.length;Wa++){var iu=Ga.words[Wa]|0;Ga.words[Wa-10]=(iu&Fa)<<4|Za>>>22,Za=iu}Za>>>=22,Ga.words[Wa-10]=Za,Za===0&&Ga.length>10?Ga.length-=10:Ga.length-=9},Bc.prototype.imulK=function(Ga){Ga.words[Ga.length]=0,Ga.words[Ga.length+1]=0,Ga.length+=2;for(var Xa=0,Fa=0;Fa<Ga.length;Fa++){var Zs=Ga.words[Fa]|0;Xa+=Zs*977,Ga.words[Fa]=Xa&67108863,Xa=Zs*64+(Xa/67108864|0)}return Ga.words[Ga.length-1]===0&&(Ga.length--,Ga.words[Ga.length-1]===0&&Ga.length--),Ga};function Qa(){Ya.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ws(Qa,Ya);function tu(){Ya.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ws(tu,Ya);function eu(){Ya.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ws(eu,Ya),eu.prototype.imulK=function(Ga){for(var Xa=0,Fa=0;Fa<Ga.length;Fa++){var Zs=(Ga.words[Fa]|0)*19+Xa,Wa=Zs&67108863;Zs>>>=26,Ga.words[Fa]=Wa,Xa=Zs}return Xa!==0&&(Ga.words[Ga.length++]=Xa),Ga},vs._prime=function(Ga){if(za[Ga])return za[Ga];var Xa;if(Ga==="k256")Xa=new Bc;else if(Ga==="p224")Xa=new Qa;else if(Ga==="p192")Xa=new tu;else if(Ga==="p25519")Xa=new eu;else throw new Error("Unknown prime "+Ga);return za[Ga]=Xa,Xa};function ru(ou){if(typeof ou=="string"){var Ga=vs._prime(ou);this.m=Ga.p,this.prime=Ga}else ms(ou.gtn(1),"modulus must be greater than 1"),this.m=ou,this.prime=null}ru.prototype._verify1=function(Ga){ms(Ga.negative===0,"red works only with positives"),ms(Ga.red,"red works only with red numbers")},ru.prototype._verify2=function(Ga,Xa){ms((Ga.negative|Xa.negative)===0,"red works only with positives"),ms(Ga.red&&Ga.red===Xa.red,"red works only with red numbers")},ru.prototype.imod=function(Ga){return this.prime?this.prime.ireduce(Ga)._forceRed(this):Ga.umod(this.m)._forceRed(this)},ru.prototype.neg=function(Ga){return Ga.isZero()?Ga.clone():this.m.sub(Ga)._forceRed(this)},ru.prototype.add=function(Ga,Xa){this._verify2(Ga,Xa);var Fa=Ga.add(Xa);return Fa.cmp(this.m)>=0&&Fa.isub(this.m),Fa._forceRed(this)},ru.prototype.iadd=function(Ga,Xa){this._verify2(Ga,Xa);var Fa=Ga.iadd(Xa);return Fa.cmp(this.m)>=0&&Fa.isub(this.m),Fa},ru.prototype.sub=function(Ga,Xa){this._verify2(Ga,Xa);var Fa=Ga.sub(Xa);return Fa.cmpn(0)<0&&Fa.iadd(this.m),Fa._forceRed(this)},ru.prototype.isub=function(Ga,Xa){this._verify2(Ga,Xa);var Fa=Ga.isub(Xa);return Fa.cmpn(0)<0&&Fa.iadd(this.m),Fa},ru.prototype.shl=function(Ga,Xa){return this._verify1(Ga),this.imod(Ga.ushln(Xa))},ru.prototype.imul=function(Ga,Xa){return this._verify2(Ga,Xa),this.imod(Ga.imul(Xa))},ru.prototype.mul=function(Ga,Xa){return this._verify2(Ga,Xa),this.imod(Ga.mul(Xa))},ru.prototype.isqr=function(Ga){return this.imul(Ga,Ga.clone())},ru.prototype.sqr=function(Ga){return this.mul(Ga,Ga)},ru.prototype.sqrt=function(Ga){if(Ga.isZero())return Ga.clone();var Xa=this.m.andln(3);if(ms(Xa%2===1),Xa===3){var Fa=this.m.add(new vs(1)).iushrn(2);return this.pow(Ga,Fa)}for(var Zs=this.m.subn(1),Wa=0;!Zs.isZero()&&Zs.andln(1)===0;)Wa++,Zs.iushrn(1);ms(!Zs.isZero());var Za=new vs(1).toRed(this),iu=Za.redNeg(),au=this.m.subn(1).iushrn(1),nu=this.m.bitLength();for(nu=new vs(2*nu*nu).toRed(this);this.pow(nu,au).cmp(iu)!==0;)nu.redIAdd(iu);for(var uu=this.pow(nu,Zs),fu=this.pow(Ga,Zs.addn(1).iushrn(1)),hu=this.pow(Ga,Zs),Eu=Wa;hu.cmp(Za)!==0;){for(var $u=hu,Ou=0;$u.cmp(Za)!==0;Ou++)$u=$u.redSqr();ms(Ou<Eu);var gu=this.pow(uu,new vs(1).iushln(Eu-Ou-1));fu=fu.redMul(gu),uu=gu.redSqr(),hu=hu.redMul(uu),Eu=Ou}return fu},ru.prototype.invm=function(Ga){var Xa=Ga._invmp(this.m);return Xa.negative!==0?(Xa.negative=0,this.imod(Xa).redNeg()):this.imod(Xa)},ru.prototype.pow=function(Ga,Xa){if(Xa.isZero())return new vs(1).toRed(this);if(Xa.cmpn(1)===0)return Ga.clone();var Fa=4,Zs=new Array(1<<Fa);Zs[0]=new vs(1).toRed(this),Zs[1]=Ga;for(var Wa=2;Wa<Zs.length;Wa++)Zs[Wa]=this.mul(Zs[Wa-1],Ga);var Za=Zs[0],iu=0,au=0,nu=Xa.bitLength()%26;for(nu===0&&(nu=26),Wa=Xa.length-1;Wa>=0;Wa--){for(var uu=Xa.words[Wa],fu=nu-1;fu>=0;fu--){var hu=uu>>fu&1;if(Za!==Zs[0]&&(Za=this.sqr(Za)),hu===0&&iu===0){au=0;continue}iu<<=1,iu|=hu,au++,!(au!==Fa&&(Wa!==0||fu!==0))&&(Za=this.mul(Za,Zs[iu]),au=0,iu=0)}nu=26}return Za},ru.prototype.convertTo=function(Ga){var Xa=Ga.umod(this.m);return Xa===Ga?Xa.clone():Xa},ru.prototype.convertFrom=function(Ga){var Xa=Ga.clone();return Xa.red=null,Xa},vs.mont=function(Ga){return new cu(Ga)};function cu(ou){ru.call(this,ou),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new vs(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ws(cu,ru),cu.prototype.convertTo=function(Ga){return this.imod(Ga.ushln(this.shift))},cu.prototype.convertFrom=function(Ga){var Xa=this.imod(Ga.mul(this.rinv));return Xa.red=null,Xa},cu.prototype.imul=function(Ga,Xa){if(Ga.isZero()||Xa.isZero())return Ga.words[0]=0,Ga.length=1,Ga;var Fa=Ga.imul(Xa),Zs=Fa.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Wa=Fa.isub(Zs).iushrn(this.shift),Za=Wa;return Wa.cmp(this.m)>=0?Za=Wa.isub(this.m):Wa.cmpn(0)<0&&(Za=Wa.iadd(this.m)),Za._forceRed(this)},cu.prototype.mul=function(Ga,Xa){if(Ga.isZero()||Xa.isZero())return new vs(0)._forceRed(this);var Fa=Ga.mul(Xa),Zs=Fa.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Wa=Fa.isub(Zs).iushrn(this.shift),Za=Wa;return Wa.cmp(this.m)>=0?Za=Wa.isub(this.m):Wa.cmpn(0)<0&&(Za=Wa.iadd(this.m)),Za._forceRed(this)},cu.prototype.invm=function(Ga){var Xa=this.imod(Ga._invmp(this.m).mul(this.r2));return Xa._forceRed(this)}})(st,bn$4)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var st;brorand.exports=function(ws){return st||(st=new t(null)),st.generate(ws)};function t(ms){this.rand=ms}if(brorand.exports.Rand=t,t.prototype.generate=function(ws){return this._rand(ws)},t.prototype._rand=function(ws){if(this.rand.getBytes)return this.rand.getBytes(ws);for(var vs=new Uint8Array(ws),_s=0;_s<vs.length;_s++)vs[_s]=this.rand.getByte();return vs},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(ws){var vs=new Uint8Array(ws);return self.crypto.getRandomValues(vs),vs}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(ws){var vs=new Uint8Array(ws);return self.msCrypto.getRandomValues(vs),vs}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var et=requireCryptoBrowserify();if(typeof et.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(ws){return et.randomBytes(ws)}}catch{}return brorand.exports}var mr$3,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$3;hasRequiredMr=1;var st=requireBn$1(),t=requireBrorand();function et(ms){this.rand=ms||new t.Rand}return mr$3=et,et.create=function(ws){return new et(ws)},et.prototype._randbelow=function(ws){var vs=ws.bitLength(),_s=Math.ceil(vs/8);do var Es=new st(this.rand.generate(_s));while(Es.cmp(ws)>=0);return Es},et.prototype._randrange=function(ws,vs){var _s=vs.sub(ws);return ws.add(this._randbelow(_s))},et.prototype.test=function(ws,vs,_s){var Es=ws.bitLength(),Ts=st.mont(ws),Ss=new st(1).toRed(Ts);vs||(vs=Math.max(1,Es/48|0));for(var Rs=ws.subn(1),Bs=0;!Rs.testn(Bs);Bs++);for(var Is=ws.shrn(Bs),Ws=Rs.toRed(Ts),Hs=!0;vs>0;vs--){var Ns=this._randrange(new st(2),Rs);_s&&_s(Ns);var Js=Ns.toRed(Ts).redPow(Is);if(!(Js.cmp(Ss)===0||Js.cmp(Ws)===0)){for(var ha=1;ha<Bs;ha++){if(Js=Js.redSqr(),Js.cmp(Ss)===0)return!1;if(Js.cmp(Ws)===0)break}if(ha===Bs)return!1}}return Hs},et.prototype.getDivisor=function(ws,vs){var _s=ws.bitLength(),Es=st.mont(ws),Ts=new st(1).toRed(Es);vs||(vs=Math.max(1,_s/48|0));for(var Ss=ws.subn(1),Rs=0;!Ss.testn(Rs);Rs++);for(var Bs=ws.shrn(Rs),Is=Ss.toRed(Es);vs>0;vs--){var Ws=this._randrange(new st(2),Ss),Hs=ws.gcd(Ws);if(Hs.cmpn(1)!==0)return Hs;var Ns=Ws.toRed(Es).redPow(Bs);if(!(Ns.cmp(Ts)===0||Ns.cmp(Is)===0)){for(var Js=1;Js<Rs;Js++){if(Ns=Ns.redSqr(),Ns.cmp(Ts)===0)return Ns.fromRed().subn(1).gcd(ws);if(Ns.cmp(Is)===0)break}if(Js===Rs)return Ns=Ns.redSqr(),Ns.fromRed().subn(1).gcd(ws)}}return!1},mr$3}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var st=requireBrowser$d();generatePrime=Js,Js.simpleSieve=Hs,Js.fermatTest=Ns;var t=requireBn$1(),et=new t(24),ms=requireMr(),ws=new ms,vs=new t(1),_s=new t(2),Es=new t(5);new t(16),new t(8);var Ts=new t(10),Ss=new t(3);new t(7);var Rs=new t(11),Bs=new t(4);new t(12);var Is=null;function Ws(){if(Is!==null)return Is;var ha=1048576,pa=[];pa[0]=2;for(var za=1,Ya=3;Ya<ha;Ya+=2){for(var Bc=Math.ceil(Math.sqrt(Ya)),Qa=0;Qa<za&&pa[Qa]<=Bc&&Ya%pa[Qa]!==0;Qa++);za!==Qa&&pa[Qa]<=Bc||(pa[za++]=Ya)}return Is=pa,pa}function Hs(ha){for(var pa=Ws(),za=0;za<pa.length;za++)if(ha.modn(pa[za])===0)return ha.cmpn(pa[za])===0;return!0}function Ns(ha){var pa=t.mont(ha);return _s.toRed(pa).redPow(ha.subn(1)).fromRed().cmpn(1)===0}function Js(ha,pa){if(ha<16)return pa===2||pa===5?new t([140,123]):new t([140,39]);pa=new t(pa);for(var za,Ya;;){for(za=new t(st(Math.ceil(ha/8)));za.bitLength()>ha;)za.ishrn(1);if(za.isEven()&&za.iadd(vs),za.testn(1)||za.iadd(_s),pa.cmp(_s)){if(!pa.cmp(Es))for(;za.mod(Ts).cmp(Ss);)za.iadd(Bs)}else for(;za.mod(et).cmp(Rs);)za.iadd(Bs);if(Ya=za.shrn(1),Hs(Ya)&&Hs(za)&&Ns(Ya)&&Ns(za)&&ws.test(Ya)&&ws.test(za))return za}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var st=requireBn$1(),t=requireMr(),et=new t,ms=new st(24),ws=new st(11),vs=new st(10),_s=new st(3),Es=new st(7),Ts=requireGeneratePrime(),Ss=requireBrowser$d();dh=Hs;function Rs(Js,ha){return ha=ha||"utf8",Buffer.isBuffer(Js)||(Js=new Buffer(Js,ha)),this._pub=new st(Js),this}function Bs(Js,ha){return ha=ha||"utf8",Buffer.isBuffer(Js)||(Js=new Buffer(Js,ha)),this._priv=new st(Js),this}var Is={};function Ws(Js,ha){var pa=ha.toString("hex"),za=[pa,Js.toString(16)].join("_");if(za in Is)return Is[za];var Ya=0;if(Js.isEven()||!Ts.simpleSieve||!Ts.fermatTest(Js)||!et.test(Js))return Ya+=1,pa==="02"||pa==="05"?Ya+=8:Ya+=4,Is[za]=Ya,Ya;et.test(Js.shrn(1))||(Ya+=2);var Bc;switch(pa){case"02":Js.mod(ms).cmp(ws)&&(Ya+=8);break;case"05":Bc=Js.mod(vs),Bc.cmp(_s)&&Bc.cmp(Es)&&(Ya+=8);break;default:Ya+=4}return Is[za]=Ya,Ya}function Hs(Js,ha,pa){this.setGenerator(ha),this.__prime=new st(Js),this._prime=st.mont(this.__prime),this._primeLen=Js.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,pa?(this.setPublicKey=Rs,this.setPrivateKey=Bs):this._primeCode=8}Object.defineProperty(Hs.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Ws(this.__prime,this.__gen)),this._primeCode}}),Hs.prototype.generateKeys=function(){return this._priv||(this._priv=new st(Ss(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Hs.prototype.computeSecret=function(Js){Js=new st(Js),Js=Js.toRed(this._prime);var ha=Js.redPow(this._priv).fromRed(),pa=new Buffer(ha.toArray()),za=this.getPrime();if(pa.length<za.length){var Ya=new Buffer(za.length-pa.length);Ya.fill(0),pa=Buffer.concat([Ya,pa])}return pa},Hs.prototype.getPublicKey=function(ha){return Ns(this._pub,ha)},Hs.prototype.getPrivateKey=function(ha){return Ns(this._priv,ha)},Hs.prototype.getPrime=function(Js){return Ns(this.__prime,Js)},Hs.prototype.getGenerator=function(Js){return Ns(this._gen,Js)},Hs.prototype.setGenerator=function(Js,ha){return ha=ha||"utf8",Buffer.isBuffer(Js)||(Js=new Buffer(Js,ha)),this.__gen=Js,this._gen=new st(Js),this};function Ns(Js,ha){var pa=new Buffer(Js.toArray());return ha?pa.toString(ha):pa}return dh}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var st=requireGeneratePrime(),t=require$$1$2,et=requireDh();function ms(_s){var Es=new Buffer(t[_s].prime,"hex"),Ts=new Buffer(t[_s].gen,"hex");return new et(Es,Ts)}var ws={binary:!0,hex:!0,base64:!0};function vs(_s,Es,Ts,Ss){return Buffer.isBuffer(Es)||ws[Es]===void 0?vs(_s,"binary",Es,Ts):(Es=Es||"binary",Ss=Ss||"binary",Ts=Ts||new Buffer([2]),Buffer.isBuffer(Ts)||(Ts=new Buffer(Ts,Ss)),typeof _s=="number"?new et(st(_s,Ts),Ts,!0):(Buffer.isBuffer(_s)||(_s=new Buffer(_s,Es)),new et(_s,Ts,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=ms,browser$6.createDiffieHellman=browser$6.DiffieHellman=vs,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:st}:processNextickArgs.exports=process$1;function st(t,et,ms,ws){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var vs=arguments.length,_s,Es;switch(vs){case 0:case 1:return process$1.nextTick(t);case 2:return process$1.nextTick(function(){t.call(null,et)});case 3:return process$1.nextTick(function(){t.call(null,et,ms)});case 4:return process$1.nextTick(function(){t.call(null,et,ms,ws)});default:for(_s=new Array(vs-1),Es=0;Es<_s.length;)_s[Es++]=arguments[Es];return process$1.nextTick(function(){t.apply(null,_s)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var st={}.toString;return isarray=Array.isArray||function(t){return st.call(t)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents$1().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(st,t){var et=requireDist(),ms=et.Buffer;function ws(_s,Es){for(var Ts in _s)Es[Ts]=_s[Ts]}ms.from&&ms.alloc&&ms.allocUnsafe&&ms.allocUnsafeSlow?st.exports=et:(ws(et,t),t.Buffer=vs);function vs(_s,Es,Ts){return ms(_s,Es,Ts)}ws(ms,vs),vs.from=function(_s,Es,Ts){if(typeof _s=="number")throw new TypeError("Argument must not be a number");return ms(_s,Es,Ts)},vs.alloc=function(_s,Es,Ts){if(typeof _s!="number")throw new TypeError("Argument must be a number");var Ss=ms(_s);return Es!==void 0?typeof Ts=="string"?Ss.fill(Es,Ts):Ss.fill(Es):Ss.fill(0),Ss},vs.allocUnsafe=function(_s){if(typeof _s!="number")throw new TypeError("Argument must be a number");return ms(_s)},vs.allocUnsafeSlow=function(_s){if(typeof _s!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(_s)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$1={},hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$1;hasRequiredUtil$1=1;function st(Ns){return Array.isArray?Array.isArray(Ns):Hs(Ns)==="[object Array]"}util$1.isArray=st;function t(Ns){return typeof Ns=="boolean"}util$1.isBoolean=t;function et(Ns){return Ns===null}util$1.isNull=et;function ms(Ns){return Ns==null}util$1.isNullOrUndefined=ms;function ws(Ns){return typeof Ns=="number"}util$1.isNumber=ws;function vs(Ns){return typeof Ns=="string"}util$1.isString=vs;function _s(Ns){return typeof Ns=="symbol"}util$1.isSymbol=_s;function Es(Ns){return Ns===void 0}util$1.isUndefined=Es;function Ts(Ns){return Hs(Ns)==="[object RegExp]"}util$1.isRegExp=Ts;function Ss(Ns){return typeof Ns=="object"&&Ns!==null}util$1.isObject=Ss;function Rs(Ns){return Hs(Ns)==="[object Date]"}util$1.isDate=Rs;function Bs(Ns){return Hs(Ns)==="[object Error]"||Ns instanceof Error}util$1.isError=Bs;function Is(Ns){return typeof Ns=="function"}util$1.isFunction=Is;function Ws(Ns){return Ns===null||typeof Ns=="boolean"||typeof Ns=="number"||typeof Ns=="string"||typeof Ns=="symbol"||typeof Ns>"u"}util$1.isPrimitive=Ws,util$1.isBuffer=requireDist().Buffer.isBuffer;function Hs(Ns){return Object.prototype.toString.call(Ns)}return util$1}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(st){function t(vs,_s){if(!(vs instanceof _s))throw new TypeError("Cannot call a class as a function")}var et=requireSafeBuffer().Buffer,ms=requireUtil$2();function ws(vs,_s,Es){vs.copy(_s,Es)}st.exports=function(){function vs(){t(this,vs),this.head=null,this.tail=null,this.length=0}return vs.prototype.push=function(Es){var Ts={data:Es,next:null};this.length>0?this.tail.next=Ts:this.head=Ts,this.tail=Ts,++this.length},vs.prototype.unshift=function(Es){var Ts={data:Es,next:this.head};this.length===0&&(this.tail=Ts),this.head=Ts,++this.length},vs.prototype.shift=function(){if(this.length!==0){var Es=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Es}},vs.prototype.clear=function(){this.head=this.tail=null,this.length=0},vs.prototype.join=function(Es){if(this.length===0)return"";for(var Ts=this.head,Ss=""+Ts.data;Ts=Ts.next;)Ss+=Es+Ts.data;return Ss},vs.prototype.concat=function(Es){if(this.length===0)return et.alloc(0);for(var Ts=et.allocUnsafe(Es>>>0),Ss=this.head,Rs=0;Ss;)ws(Ss.data,Ts,Rs),Rs+=Ss.data.length,Ss=Ss.next;return Ts},vs}(),ms&&ms.inspect&&ms.inspect.custom&&(st.exports.prototype[ms.inspect.custom]=function(){var vs=ms.inspect({length:this.length});return this.constructor.name+" "+vs})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var st=requireProcessNextickArgs();function t(ws,vs){var _s=this,Es=this._readableState&&this._readableState.destroyed,Ts=this._writableState&&this._writableState.destroyed;return Es||Ts?(vs?vs(ws):ws&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,st.nextTick(ms,this,ws)):st.nextTick(ms,this,ws)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ws||null,function(Ss){!vs&&Ss?_s._writableState?_s._writableState.errorEmitted||(_s._writableState.errorEmitted=!0,st.nextTick(ms,_s,Ss)):st.nextTick(ms,_s,Ss):vs&&vs(Ss)}),this)}function et(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ms(ws,vs){ws.emit("error",vs)}return destroy_1={destroy:t,undestroy:et},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var st=requireProcessNextickArgs();_stream_writable=Ns;function t(Za){var iu=this;this.next=null,this.entry=null,this.finish=function(){Wa(iu,Za)}}var et=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:st.nextTick,ms;Ns.WritableState=Ws;var ws=Object.create(requireUtil$1());ws.inherits=requireInherits_browser();var vs={deprecate:requireBrowser$c()},_s=requireStreamBrowser(),Es=requireSafeBuffer().Buffer,Ts=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ss(Za){return Es.from(Za)}function Rs(Za){return Es.isBuffer(Za)||Za instanceof Ts}var Bs=requireDestroy();ws.inherits(Ns,_s);function Is(){}function Ws(Za,iu){ms=ms||require_stream_duplex(),Za=Za||{};var au=iu instanceof ms;this.objectMode=!!Za.objectMode,au&&(this.objectMode=this.objectMode||!!Za.writableObjectMode);var nu=Za.highWaterMark,uu=Za.writableHighWaterMark,fu=this.objectMode?16:16*1024;nu||nu===0?this.highWaterMark=nu:au&&(uu||uu===0)?this.highWaterMark=uu:this.highWaterMark=fu,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var hu=Za.decodeStrings===!1;this.decodeStrings=!hu,this.defaultEncoding=Za.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Eu){tu(iu,Eu)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Ws.prototype.getBuffer=function(){for(var iu=this.bufferedRequest,au=[];iu;)au.push(iu),iu=iu.next;return au},function(){try{Object.defineProperty(Ws.prototype,"buffer",{get:vs.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Hs;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Hs=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ns,Symbol.hasInstance,{value:function(Za){return Hs.call(this,Za)?!0:this!==Ns?!1:Za&&Za._writableState instanceof Ws}})):Hs=function(Za){return Za instanceof this};function Ns(Za){if(ms=ms||require_stream_duplex(),!Hs.call(Ns,this)&&!(this instanceof ms))return new Ns(Za);this._writableState=new Ws(Za,this),this.writable=!0,Za&&(typeof Za.write=="function"&&(this._write=Za.write),typeof Za.writev=="function"&&(this._writev=Za.writev),typeof Za.destroy=="function"&&(this._destroy=Za.destroy),typeof Za.final=="function"&&(this._final=Za.final)),_s.call(this)}Ns.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Js(Za,iu){var au=new Error("write after end");Za.emit("error",au),st.nextTick(iu,au)}function ha(Za,iu,au,nu){var uu=!0,fu=!1;return au===null?fu=new TypeError("May not write null values to stream"):typeof au!="string"&&au!==void 0&&!iu.objectMode&&(fu=new TypeError("Invalid non-string/buffer chunk")),fu&&(Za.emit("error",fu),st.nextTick(nu,fu),uu=!1),uu}Ns.prototype.write=function(Za,iu,au){var nu=this._writableState,uu=!1,fu=!nu.objectMode&&Rs(Za);return fu&&!Es.isBuffer(Za)&&(Za=Ss(Za)),typeof iu=="function"&&(au=iu,iu=null),fu?iu="buffer":iu||(iu=nu.defaultEncoding),typeof au!="function"&&(au=Is),nu.ended?Js(this,au):(fu||ha(this,nu,Za,au))&&(nu.pendingcb++,uu=za(this,nu,fu,Za,iu,au)),uu},Ns.prototype.cork=function(){var Za=this._writableState;Za.corked++},Ns.prototype.uncork=function(){var Za=this._writableState;Za.corked&&(Za.corked--,!Za.writing&&!Za.corked&&!Za.bufferProcessing&&Za.bufferedRequest&&cu(this,Za))},Ns.prototype.setDefaultEncoding=function(iu){if(typeof iu=="string"&&(iu=iu.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((iu+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+iu);return this._writableState.defaultEncoding=iu,this};function pa(Za,iu,au){return!Za.objectMode&&Za.decodeStrings!==!1&&typeof iu=="string"&&(iu=Es.from(iu,au)),iu}Object.defineProperty(Ns.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function za(Za,iu,au,nu,uu,fu){if(!au){var hu=pa(iu,nu,uu);nu!==hu&&(au=!0,uu="buffer",nu=hu)}var Eu=iu.objectMode?1:nu.length;iu.length+=Eu;var $u=iu.length<iu.highWaterMark;if($u||(iu.needDrain=!0),iu.writing||iu.corked){var Ou=iu.lastBufferedRequest;iu.lastBufferedRequest={chunk:nu,encoding:uu,isBuf:au,callback:fu,next:null},Ou?Ou.next=iu.lastBufferedRequest:iu.bufferedRequest=iu.lastBufferedRequest,iu.bufferedRequestCount+=1}else Ya(Za,iu,!1,Eu,nu,uu,fu);return $u}function Ya(Za,iu,au,nu,uu,fu,hu){iu.writelen=nu,iu.writecb=hu,iu.writing=!0,iu.sync=!0,au?Za._writev(uu,iu.onwrite):Za._write(uu,fu,iu.onwrite),iu.sync=!1}function Bc(Za,iu,au,nu,uu){--iu.pendingcb,au?(st.nextTick(uu,nu),st.nextTick(Fa,Za,iu),Za._writableState.errorEmitted=!0,Za.emit("error",nu)):(uu(nu),Za._writableState.errorEmitted=!0,Za.emit("error",nu),Fa(Za,iu))}function Qa(Za){Za.writing=!1,Za.writecb=null,Za.length-=Za.writelen,Za.writelen=0}function tu(Za,iu){var au=Za._writableState,nu=au.sync,uu=au.writecb;if(Qa(au),iu)Bc(Za,au,nu,iu,uu);else{var fu=ou(au);!fu&&!au.corked&&!au.bufferProcessing&&au.bufferedRequest&&cu(Za,au),nu?et(eu,Za,au,fu,uu):eu(Za,au,fu,uu)}}function eu(Za,iu,au,nu){au||ru(Za,iu),iu.pendingcb--,nu(),Fa(Za,iu)}function ru(Za,iu){iu.length===0&&iu.needDrain&&(iu.needDrain=!1,Za.emit("drain"))}function cu(Za,iu){iu.bufferProcessing=!0;var au=iu.bufferedRequest;if(Za._writev&&au&&au.next){var nu=iu.bufferedRequestCount,uu=new Array(nu),fu=iu.corkedRequestsFree;fu.entry=au;for(var hu=0,Eu=!0;au;)uu[hu]=au,au.isBuf||(Eu=!1),au=au.next,hu+=1;uu.allBuffers=Eu,Ya(Za,iu,!0,iu.length,uu,"",fu.finish),iu.pendingcb++,iu.lastBufferedRequest=null,fu.next?(iu.corkedRequestsFree=fu.next,fu.next=null):iu.corkedRequestsFree=new t(iu),iu.bufferedRequestCount=0}else{for(;au;){var $u=au.chunk,Ou=au.encoding,gu=au.callback,yu=iu.objectMode?1:$u.length;if(Ya(Za,iu,!1,yu,$u,Ou,gu),au=au.next,iu.bufferedRequestCount--,iu.writing)break}au===null&&(iu.lastBufferedRequest=null)}iu.bufferedRequest=au,iu.bufferProcessing=!1}Ns.prototype._write=function(Za,iu,au){au(new Error("_write() is not implemented"))},Ns.prototype._writev=null,Ns.prototype.end=function(Za,iu,au){var nu=this._writableState;typeof Za=="function"?(au=Za,Za=null,iu=null):typeof iu=="function"&&(au=iu,iu=null),Za!=null&&this.write(Za,iu),nu.corked&&(nu.corked=1,this.uncork()),nu.ending||Zs(this,nu,au)};function ou(Za){return Za.ending&&Za.length===0&&Za.bufferedRequest===null&&!Za.finished&&!Za.writing}function Ga(Za,iu){Za._final(function(au){iu.pendingcb--,au&&Za.emit("error",au),iu.prefinished=!0,Za.emit("prefinish"),Fa(Za,iu)})}function Xa(Za,iu){!iu.prefinished&&!iu.finalCalled&&(typeof Za._final=="function"?(iu.pendingcb++,iu.finalCalled=!0,st.nextTick(Ga,Za,iu)):(iu.prefinished=!0,Za.emit("prefinish")))}function Fa(Za,iu){var au=ou(iu);return au&&(Xa(Za,iu),iu.pendingcb===0&&(iu.finished=!0,Za.emit("finish"))),au}function Zs(Za,iu,au){iu.ending=!0,Fa(Za,iu),au&&(iu.finished?st.nextTick(au):Za.once("finish",au)),iu.ended=!0,Za.writable=!1}function Wa(Za,iu,au){var nu=Za.entry;for(Za.entry=null;nu;){var uu=nu.callback;iu.pendingcb--,uu(au),nu=nu.next}iu.corkedRequestsFree.next=Za}return Object.defineProperty(Ns.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Za){this._writableState&&(this._writableState.destroyed=Za)}}),Ns.prototype.destroy=Bs.destroy,Ns.prototype._undestroy=Bs.undestroy,Ns.prototype._destroy=function(Za,iu){this.end(),iu(Za)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var st=requireProcessNextickArgs(),t=Object.keys||function(Bs){var Is=[];for(var Ws in Bs)Is.push(Ws);return Is};_stream_duplex=Ts;var et=Object.create(requireUtil$1());et.inherits=requireInherits_browser();var ms=require_stream_readable(),ws=require_stream_writable();et.inherits(Ts,ms);for(var vs=t(ws.prototype),_s=0;_s<vs.length;_s++){var Es=vs[_s];Ts.prototype[Es]||(Ts.prototype[Es]=ws.prototype[Es])}function Ts(Bs){if(!(this instanceof Ts))return new Ts(Bs);ms.call(this,Bs),ws.call(this,Bs),Bs&&Bs.readable===!1&&(this.readable=!1),Bs&&Bs.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Bs&&Bs.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ss)}Object.defineProperty(Ts.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ss(){this.allowHalfOpen||this._writableState.ended||st.nextTick(Rs,this)}function Rs(Bs){Bs.end()}return Object.defineProperty(Ts.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Bs){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Bs,this._writableState.destroyed=Bs)}}),Ts.prototype._destroy=function(Bs,Is){this.push(null),this.end(),st.nextTick(Is,Bs)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var st=requireProcessNextickArgs();_stream_readable=pa;var t=requireIsarray(),et;pa.ReadableState=ha,requireEvents$1().EventEmitter;var ms=function(gu,yu){return gu.listeners(yu).length},ws=requireStreamBrowser(),vs=requireSafeBuffer().Buffer,_s=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Es(gu){return vs.from(gu)}function Ts(gu){return vs.isBuffer(gu)||gu instanceof _s}var Ss=Object.create(requireUtil$1());Ss.inherits=requireInherits_browser();var Rs=requireUtil$2(),Bs=void 0;Rs&&Rs.debuglog?Bs=Rs.debuglog("stream"):Bs=function(){};var Is=requireBufferList(),Ws=requireDestroy(),Hs;Ss.inherits(pa,ws);var Ns=["error","close","destroy","pause","resume"];function Js(gu,yu,Tu){if(typeof gu.prependListener=="function")return gu.prependListener(yu,Tu);!gu._events||!gu._events[yu]?gu.on(yu,Tu):t(gu._events[yu])?gu._events[yu].unshift(Tu):gu._events[yu]=[Tu,gu._events[yu]]}function ha(gu,yu){et=et||require_stream_duplex(),gu=gu||{};var Tu=yu instanceof et;this.objectMode=!!gu.objectMode,Tu&&(this.objectMode=this.objectMode||!!gu.readableObjectMode);var du=gu.highWaterMark,wu=gu.readableHighWaterMark,Ru=this.objectMode?16:16*1024;du||du===0?this.highWaterMark=du:Tu&&(wu||wu===0)?this.highWaterMark=wu:this.highWaterMark=Ru,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Is,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=gu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,gu.encoding&&(Hs||(Hs=requireString_decoder().StringDecoder),this.decoder=new Hs(gu.encoding),this.encoding=gu.encoding)}function pa(gu){if(et=et||require_stream_duplex(),!(this instanceof pa))return new pa(gu);this._readableState=new ha(gu,this),this.readable=!0,gu&&(typeof gu.read=="function"&&(this._read=gu.read),typeof gu.destroy=="function"&&(this._destroy=gu.destroy)),ws.call(this)}Object.defineProperty(pa.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(gu){this._readableState&&(this._readableState.destroyed=gu)}}),pa.prototype.destroy=Ws.destroy,pa.prototype._undestroy=Ws.undestroy,pa.prototype._destroy=function(gu,yu){this.push(null),yu(gu)},pa.prototype.push=function(gu,yu){var Tu=this._readableState,du;return Tu.objectMode?du=!0:typeof gu=="string"&&(yu=yu||Tu.defaultEncoding,yu!==Tu.encoding&&(gu=vs.from(gu,yu),yu=""),du=!0),za(this,gu,yu,!1,du)},pa.prototype.unshift=function(gu){return za(this,gu,null,!0,!1)};function za(gu,yu,Tu,du,wu){var Ru=gu._readableState;if(yu===null)Ru.reading=!1,cu(gu,Ru);else{var Ku;wu||(Ku=Bc(Ru,yu)),Ku?gu.emit("error",Ku):Ru.objectMode||yu&&yu.length>0?(typeof yu!="string"&&!Ru.objectMode&&Object.getPrototypeOf(yu)!==vs.prototype&&(yu=Es(yu)),du?Ru.endEmitted?gu.emit("error",new Error("stream.unshift() after end event")):Ya(gu,Ru,yu,!0):Ru.ended?gu.emit("error",new Error("stream.push() after EOF")):(Ru.reading=!1,Ru.decoder&&!Tu?(yu=Ru.decoder.write(yu),Ru.objectMode||yu.length!==0?Ya(gu,Ru,yu,!1):Xa(gu,Ru)):Ya(gu,Ru,yu,!1))):du||(Ru.reading=!1)}return Qa(Ru)}function Ya(gu,yu,Tu,du){yu.flowing&&yu.length===0&&!yu.sync?(gu.emit("data",Tu),gu.read(0)):(yu.length+=yu.objectMode?1:Tu.length,du?yu.buffer.unshift(Tu):yu.buffer.push(Tu),yu.needReadable&&ou(gu)),Xa(gu,yu)}function Bc(gu,yu){var Tu;return!Ts(yu)&&typeof yu!="string"&&yu!==void 0&&!gu.objectMode&&(Tu=new TypeError("Invalid non-string/buffer chunk")),Tu}function Qa(gu){return!gu.ended&&(gu.needReadable||gu.length<gu.highWaterMark||gu.length===0)}pa.prototype.isPaused=function(){return this._readableState.flowing===!1},pa.prototype.setEncoding=function(gu){return Hs||(Hs=requireString_decoder().StringDecoder),this._readableState.decoder=new Hs(gu),this._readableState.encoding=gu,this};var tu=8388608;function eu(gu){return gu>=tu?gu=tu:(gu--,gu|=gu>>>1,gu|=gu>>>2,gu|=gu>>>4,gu|=gu>>>8,gu|=gu>>>16,gu++),gu}function ru(gu,yu){return gu<=0||yu.length===0&&yu.ended?0:yu.objectMode?1:gu!==gu?yu.flowing&&yu.length?yu.buffer.head.data.length:yu.length:(gu>yu.highWaterMark&&(yu.highWaterMark=eu(gu)),gu<=yu.length?gu:yu.ended?yu.length:(yu.needReadable=!0,0))}pa.prototype.read=function(gu){Bs("read",gu),gu=parseInt(gu,10);var yu=this._readableState,Tu=gu;if(gu!==0&&(yu.emittedReadable=!1),gu===0&&yu.needReadable&&(yu.length>=yu.highWaterMark||yu.ended))return Bs("read: emitReadable",yu.length,yu.ended),yu.length===0&&yu.ended?Eu(this):ou(this),null;if(gu=ru(gu,yu),gu===0&&yu.ended)return yu.length===0&&Eu(this),null;var du=yu.needReadable;Bs("need readable",du),(yu.length===0||yu.length-gu<yu.highWaterMark)&&(du=!0,Bs("length less than watermark",du)),yu.ended||yu.reading?(du=!1,Bs("reading or ended",du)):du&&(Bs("do read"),yu.reading=!0,yu.sync=!0,yu.length===0&&(yu.needReadable=!0),this._read(yu.highWaterMark),yu.sync=!1,yu.reading||(gu=ru(Tu,yu)));var wu;return gu>0?wu=nu(gu,yu):wu=null,wu===null?(yu.needReadable=!0,gu=0):yu.length-=gu,yu.length===0&&(yu.ended||(yu.needReadable=!0),Tu!==gu&&yu.ended&&Eu(this)),wu!==null&&this.emit("data",wu),wu};function cu(gu,yu){if(!yu.ended){if(yu.decoder){var Tu=yu.decoder.end();Tu&&Tu.length&&(yu.buffer.push(Tu),yu.length+=yu.objectMode?1:Tu.length)}yu.ended=!0,ou(gu)}}function ou(gu){var yu=gu._readableState;yu.needReadable=!1,yu.emittedReadable||(Bs("emitReadable",yu.flowing),yu.emittedReadable=!0,yu.sync?st.nextTick(Ga,gu):Ga(gu))}function Ga(gu){Bs("emit readable"),gu.emit("readable"),au(gu)}function Xa(gu,yu){yu.readingMore||(yu.readingMore=!0,st.nextTick(Fa,gu,yu))}function Fa(gu,yu){for(var Tu=yu.length;!yu.reading&&!yu.flowing&&!yu.ended&&yu.length<yu.highWaterMark&&(Bs("maybeReadMore read 0"),gu.read(0),Tu!==yu.length);)Tu=yu.length;yu.readingMore=!1}pa.prototype._read=function(gu){this.emit("error",new Error("_read() is not implemented"))},pa.prototype.pipe=function(gu,yu){var Tu=this,du=this._readableState;switch(du.pipesCount){case 0:du.pipes=gu;break;case 1:du.pipes=[du.pipes,gu];break;default:du.pipes.push(gu);break}du.pipesCount+=1,Bs("pipe count=%d opts=%j",du.pipesCount,yu);var wu=(!yu||yu.end!==!1)&&gu!==process$1.stdout&&gu!==process$1.stderr,Ru=wu?Zu:el;du.endEmitted?st.nextTick(Ru):Tu.once("end",Ru),gu.on("unpipe",Ku);function Ku(il,hl){Bs("onunpipe"),il===Tu&&hl&&hl.hasUnpiped===!1&&(hl.hasUnpiped=!0,gl())}function Zu(){Bs("onend"),gu.end()}var tl=Zs(Tu);gu.on("drain",tl);var sl=!1;function gl(){Bs("cleanup"),gu.removeListener("close",vf),gu.removeListener("finish",wf),gu.removeListener("drain",tl),gu.removeListener("error",Ju),gu.removeListener("unpipe",Ku),Tu.removeListener("end",Zu),Tu.removeListener("end",el),Tu.removeListener("data",Mu),sl=!0,du.awaitDrain&&(!gu._writableState||gu._writableState.needDrain)&&tl()}var Fu=!1;Tu.on("data",Mu);function Mu(il){Bs("ondata"),Fu=!1;var hl=gu.write(il);hl===!1&&!Fu&&((du.pipesCount===1&&du.pipes===gu||du.pipesCount>1&&Ou(du.pipes,gu)!==-1)&&!sl&&(Bs("false write response, pause",du.awaitDrain),du.awaitDrain++,Fu=!0),Tu.pause())}function Ju(il){Bs("onerror",il),el(),gu.removeListener("error",Ju),ms(gu,"error")===0&&gu.emit("error",il)}Js(gu,"error",Ju);function vf(){gu.removeListener("finish",wf),el()}gu.once("close",vf);function wf(){Bs("onfinish"),gu.removeListener("close",vf),el()}gu.once("finish",wf);function el(){Bs("unpipe"),Tu.unpipe(gu)}return gu.emit("pipe",Tu),du.flowing||(Bs("pipe resume"),Tu.resume()),gu};function Zs(gu){return function(){var yu=gu._readableState;Bs("pipeOnDrain",yu.awaitDrain),yu.awaitDrain&&yu.awaitDrain--,yu.awaitDrain===0&&ms(gu,"data")&&(yu.flowing=!0,au(gu))}}pa.prototype.unpipe=function(gu){var yu=this._readableState,Tu={hasUnpiped:!1};if(yu.pipesCount===0)return this;if(yu.pipesCount===1)return gu&&gu!==yu.pipes?this:(gu||(gu=yu.pipes),yu.pipes=null,yu.pipesCount=0,yu.flowing=!1,gu&&gu.emit("unpipe",this,Tu),this);if(!gu){var du=yu.pipes,wu=yu.pipesCount;yu.pipes=null,yu.pipesCount=0,yu.flowing=!1;for(var Ru=0;Ru<wu;Ru++)du[Ru].emit("unpipe",this,{hasUnpiped:!1});return this}var Ku=Ou(yu.pipes,gu);return Ku===-1?this:(yu.pipes.splice(Ku,1),yu.pipesCount-=1,yu.pipesCount===1&&(yu.pipes=yu.pipes[0]),gu.emit("unpipe",this,Tu),this)},pa.prototype.on=function(gu,yu){var Tu=ws.prototype.on.call(this,gu,yu);if(gu==="data")this._readableState.flowing!==!1&&this.resume();else if(gu==="readable"){var du=this._readableState;!du.endEmitted&&!du.readableListening&&(du.readableListening=du.needReadable=!0,du.emittedReadable=!1,du.reading?du.length&&ou(this):st.nextTick(Wa,this))}return Tu},pa.prototype.addListener=pa.prototype.on;function Wa(gu){Bs("readable nexttick read 0"),gu.read(0)}pa.prototype.resume=function(){var gu=this._readableState;return gu.flowing||(Bs("resume"),gu.flowing=!0,Za(this,gu)),this};function Za(gu,yu){yu.resumeScheduled||(yu.resumeScheduled=!0,st.nextTick(iu,gu,yu))}function iu(gu,yu){yu.reading||(Bs("resume read 0"),gu.read(0)),yu.resumeScheduled=!1,yu.awaitDrain=0,gu.emit("resume"),au(gu),yu.flowing&&!yu.reading&&gu.read(0)}pa.prototype.pause=function(){return Bs("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Bs("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function au(gu){var yu=gu._readableState;for(Bs("flow",yu.flowing);yu.flowing&&gu.read()!==null;);}pa.prototype.wrap=function(gu){var yu=this,Tu=this._readableState,du=!1;gu.on("end",function(){if(Bs("wrapped end"),Tu.decoder&&!Tu.ended){var Ku=Tu.decoder.end();Ku&&Ku.length&&yu.push(Ku)}yu.push(null)}),gu.on("data",function(Ku){if(Bs("wrapped data"),Tu.decoder&&(Ku=Tu.decoder.write(Ku)),!(Tu.objectMode&&Ku==null)&&!(!Tu.objectMode&&(!Ku||!Ku.length))){var Zu=yu.push(Ku);Zu||(du=!0,gu.pause())}});for(var wu in gu)this[wu]===void 0&&typeof gu[wu]=="function"&&(this[wu]=function(Ku){return function(){return gu[Ku].apply(gu,arguments)}}(wu));for(var Ru=0;Ru<Ns.length;Ru++)gu.on(Ns[Ru],this.emit.bind(this,Ns[Ru]));return this._read=function(Ku){Bs("wrapped _read",Ku),du&&(du=!1,gu.resume())},this},Object.defineProperty(pa.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),pa._fromList=nu;function nu(gu,yu){if(yu.length===0)return null;var Tu;return yu.objectMode?Tu=yu.buffer.shift():!gu||gu>=yu.length?(yu.decoder?Tu=yu.buffer.join(""):yu.buffer.length===1?Tu=yu.buffer.head.data:Tu=yu.buffer.concat(yu.length),yu.buffer.clear()):Tu=uu(gu,yu.buffer,yu.decoder),Tu}function uu(gu,yu,Tu){var du;return gu<yu.head.data.length?(du=yu.head.data.slice(0,gu),yu.head.data=yu.head.data.slice(gu)):gu===yu.head.data.length?du=yu.shift():du=Tu?fu(gu,yu):hu(gu,yu),du}function fu(gu,yu){var Tu=yu.head,du=1,wu=Tu.data;for(gu-=wu.length;Tu=Tu.next;){var Ru=Tu.data,Ku=gu>Ru.length?Ru.length:gu;if(Ku===Ru.length?wu+=Ru:wu+=Ru.slice(0,gu),gu-=Ku,gu===0){Ku===Ru.length?(++du,Tu.next?yu.head=Tu.next:yu.head=yu.tail=null):(yu.head=Tu,Tu.data=Ru.slice(Ku));break}++du}return yu.length-=du,wu}function hu(gu,yu){var Tu=vs.allocUnsafe(gu),du=yu.head,wu=1;for(du.data.copy(Tu),gu-=du.data.length;du=du.next;){var Ru=du.data,Ku=gu>Ru.length?Ru.length:gu;if(Ru.copy(Tu,Tu.length-gu,0,Ku),gu-=Ku,gu===0){Ku===Ru.length?(++wu,du.next?yu.head=du.next:yu.head=yu.tail=null):(yu.head=du,du.data=Ru.slice(Ku));break}++wu}return yu.length-=wu,Tu}function Eu(gu){var yu=gu._readableState;if(yu.length>0)throw new Error('"endReadable()" called on non-empty stream');yu.endEmitted||(yu.ended=!0,st.nextTick($u,yu,gu))}function $u(gu,yu){!gu.endEmitted&&gu.length===0&&(gu.endEmitted=!0,yu.readable=!1,yu.emit("end"))}function Ou(gu,yu){for(var Tu=0,du=gu.length;Tu<du;Tu++)if(gu[Tu]===yu)return Tu;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=ms;var st=require_stream_duplex(),t=Object.create(requireUtil$1());t.inherits=requireInherits_browser(),t.inherits(ms,st);function et(_s,Es){var Ts=this._transformState;Ts.transforming=!1;var Ss=Ts.writecb;if(!Ss)return this.emit("error",new Error("write callback called multiple times"));Ts.writechunk=null,Ts.writecb=null,Es!=null&&this.push(Es),Ss(_s);var Rs=this._readableState;Rs.reading=!1,(Rs.needReadable||Rs.length<Rs.highWaterMark)&&this._read(Rs.highWaterMark)}function ms(_s){if(!(this instanceof ms))return new ms(_s);st.call(this,_s),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_s&&(typeof _s.transform=="function"&&(this._transform=_s.transform),typeof _s.flush=="function"&&(this._flush=_s.flush)),this.on("prefinish",ws)}function ws(){var _s=this;typeof this._flush=="function"?this._flush(function(Es,Ts){vs(_s,Es,Ts)}):vs(this,null,null)}ms.prototype.push=function(_s,Es){return this._transformState.needTransform=!1,st.prototype.push.call(this,_s,Es)},ms.prototype._transform=function(_s,Es,Ts){throw new Error("_transform() is not implemented")},ms.prototype._write=function(_s,Es,Ts){var Ss=this._transformState;if(Ss.writecb=Ts,Ss.writechunk=_s,Ss.writeencoding=Es,!Ss.transforming){var Rs=this._readableState;(Ss.needTransform||Rs.needReadable||Rs.length<Rs.highWaterMark)&&this._read(Rs.highWaterMark)}},ms.prototype._read=function(_s){var Es=this._transformState;Es.writechunk!==null&&Es.writecb&&!Es.transforming?(Es.transforming=!0,this._transform(Es.writechunk,Es.writeencoding,Es.afterTransform)):Es.needTransform=!0},ms.prototype._destroy=function(_s,Es){var Ts=this;st.prototype._destroy.call(this,_s,function(Ss){Es(Ss),Ts.emit("close")})};function vs(_s,Es,Ts){if(Es)return _s.emit("error",Es);if(Ts!=null&&_s.push(Ts),_s._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(_s._transformState.transforming)throw new Error("Calling transform done when still transforming");return _s.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=et;var st=require_stream_transform(),t=Object.create(requireUtil$1());t.inherits=requireInherits_browser(),t.inherits(et,st);function et(ms){if(!(this instanceof et))return new et(ms);st.call(this,ms)}return et.prototype._transform=function(ms,ws,vs){vs(null,ms)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(st,t){t=st.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$3={exports:{}},bn$2=bn$3.exports,hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(st){(function(t,et){function ms(Xa,Fa){if(!Xa)throw new Error(Fa||"Assertion failed")}function ws(Xa,Fa){Xa.super_=Fa;var Zs=function(){};Zs.prototype=Fa.prototype,Xa.prototype=new Zs,Xa.prototype.constructor=Xa}function vs(Xa,Fa,Zs){if(vs.isBN(Xa))return Xa;this.negative=0,this.words=null,this.length=0,this.red=null,Xa!==null&&((Fa==="le"||Fa==="be")&&(Zs=Fa,Fa=10),this._init(Xa||0,Fa||10,Zs||"be"))}typeof t=="object"?t.exports=vs:et.BN=vs,vs.BN=vs,vs.wordSize=26;var _s;try{typeof window<"u"&&typeof window.Buffer<"u"?_s=window.Buffer:_s=requireDist().Buffer}catch{}vs.isBN=function(Fa){return Fa instanceof vs?!0:Fa!==null&&typeof Fa=="object"&&Fa.constructor.wordSize===vs.wordSize&&Array.isArray(Fa.words)},vs.max=function(Fa,Zs){return Fa.cmp(Zs)>0?Fa:Zs},vs.min=function(Fa,Zs){return Fa.cmp(Zs)<0?Fa:Zs},vs.prototype._init=function(Fa,Zs,Wa){if(typeof Fa=="number")return this._initNumber(Fa,Zs,Wa);if(typeof Fa=="object")return this._initArray(Fa,Zs,Wa);Zs==="hex"&&(Zs=16),ms(Zs===(Zs|0)&&Zs>=2&&Zs<=36),Fa=Fa.toString().replace(/\s+/g,"");var Za=0;Fa[0]==="-"&&(Za++,this.negative=1),Za<Fa.length&&(Zs===16?this._parseHex(Fa,Za,Wa):(this._parseBase(Fa,Zs,Za),Wa==="le"&&this._initArray(this.toArray(),Zs,Wa)))},vs.prototype._initNumber=function(Fa,Zs,Wa){Fa<0&&(this.negative=1,Fa=-Fa),Fa<67108864?(this.words=[Fa&67108863],this.length=1):Fa<4503599627370496?(this.words=[Fa&67108863,Fa/67108864&67108863],this.length=2):(ms(Fa<9007199254740992),this.words=[Fa&67108863,Fa/67108864&67108863,1],this.length=3),Wa==="le"&&this._initArray(this.toArray(),Zs,Wa)},vs.prototype._initArray=function(Fa,Zs,Wa){if(ms(typeof Fa.length=="number"),Fa.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Fa.length/3),this.words=new Array(this.length);for(var Za=0;Za<this.length;Za++)this.words[Za]=0;var iu,au,nu=0;if(Wa==="be")for(Za=Fa.length-1,iu=0;Za>=0;Za-=3)au=Fa[Za]|Fa[Za-1]<<8|Fa[Za-2]<<16,this.words[iu]|=au<<nu&67108863,this.words[iu+1]=au>>>26-nu&67108863,nu+=24,nu>=26&&(nu-=26,iu++);else if(Wa==="le")for(Za=0,iu=0;Za<Fa.length;Za+=3)au=Fa[Za]|Fa[Za+1]<<8|Fa[Za+2]<<16,this.words[iu]|=au<<nu&67108863,this.words[iu+1]=au>>>26-nu&67108863,nu+=24,nu>=26&&(nu-=26,iu++);return this._strip()};function Es(Xa,Fa){var Zs=Xa.charCodeAt(Fa);if(Zs>=48&&Zs<=57)return Zs-48;if(Zs>=65&&Zs<=70)return Zs-55;if(Zs>=97&&Zs<=102)return Zs-87;ms(!1,"Invalid character in "+Xa)}function Ts(Xa,Fa,Zs){var Wa=Es(Xa,Zs);return Zs-1>=Fa&&(Wa|=Es(Xa,Zs-1)<<4),Wa}vs.prototype._parseHex=function(Fa,Zs,Wa){this.length=Math.ceil((Fa.length-Zs)/6),this.words=new Array(this.length);for(var Za=0;Za<this.length;Za++)this.words[Za]=0;var iu=0,au=0,nu;if(Wa==="be")for(Za=Fa.length-1;Za>=Zs;Za-=2)nu=Ts(Fa,Zs,Za)<<iu,this.words[au]|=nu&67108863,iu>=18?(iu-=18,au+=1,this.words[au]|=nu>>>26):iu+=8;else{var uu=Fa.length-Zs;for(Za=uu%2===0?Zs+1:Zs;Za<Fa.length;Za+=2)nu=Ts(Fa,Zs,Za)<<iu,this.words[au]|=nu&67108863,iu>=18?(iu-=18,au+=1,this.words[au]|=nu>>>26):iu+=8}this._strip()};function Ss(Xa,Fa,Zs,Wa){for(var Za=0,iu=0,au=Math.min(Xa.length,Zs),nu=Fa;nu<au;nu++){var uu=Xa.charCodeAt(nu)-48;Za*=Wa,uu>=49?iu=uu-49+10:uu>=17?iu=uu-17+10:iu=uu,ms(uu>=0&&iu<Wa,"Invalid character"),Za+=iu}return Za}vs.prototype._parseBase=function(Fa,Zs,Wa){this.words=[0],this.length=1;for(var Za=0,iu=1;iu<=67108863;iu*=Zs)Za++;Za--,iu=iu/Zs|0;for(var au=Fa.length-Wa,nu=au%Za,uu=Math.min(au,au-nu)+Wa,fu=0,hu=Wa;hu<uu;hu+=Za)fu=Ss(Fa,hu,hu+Za,Zs),this.imuln(iu),this.words[0]+fu<67108864?this.words[0]+=fu:this._iaddn(fu);if(nu!==0){var Eu=1;for(fu=Ss(Fa,hu,Fa.length,Zs),hu=0;hu<nu;hu++)Eu*=Zs;this.imuln(Eu),this.words[0]+fu<67108864?this.words[0]+=fu:this._iaddn(fu)}this._strip()},vs.prototype.copy=function(Fa){Fa.words=new Array(this.length);for(var Zs=0;Zs<this.length;Zs++)Fa.words[Zs]=this.words[Zs];Fa.length=this.length,Fa.negative=this.negative,Fa.red=this.red};function Rs(Xa,Fa){Xa.words=Fa.words,Xa.length=Fa.length,Xa.negative=Fa.negative,Xa.red=Fa.red}if(vs.prototype._move=function(Fa){Rs(Fa,this)},vs.prototype.clone=function(){var Fa=new vs(null);return this.copy(Fa),Fa},vs.prototype._expand=function(Fa){for(;this.length<Fa;)this.words[this.length++]=0;return this},vs.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},vs.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{vs.prototype[Symbol.for("nodejs.util.inspect.custom")]=Bs}catch{vs.prototype.inspect=Bs}else vs.prototype.inspect=Bs;function Bs(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Is=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ws=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Hs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];vs.prototype.toString=function(Fa,Zs){Fa=Fa||10,Zs=Zs|0||1;var Wa;if(Fa===16||Fa==="hex"){Wa="";for(var Za=0,iu=0,au=0;au<this.length;au++){var nu=this.words[au],uu=((nu<<Za|iu)&16777215).toString(16);iu=nu>>>24-Za&16777215,Za+=2,Za>=26&&(Za-=26,au--),iu!==0||au!==this.length-1?Wa=Is[6-uu.length]+uu+Wa:Wa=uu+Wa}for(iu!==0&&(Wa=iu.toString(16)+Wa);Wa.length%Zs!==0;)Wa="0"+Wa;return this.negative!==0&&(Wa="-"+Wa),Wa}if(Fa===(Fa|0)&&Fa>=2&&Fa<=36){var fu=Ws[Fa],hu=Hs[Fa];Wa="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var $u=Eu.modrn(hu).toString(Fa);Eu=Eu.idivn(hu),Eu.isZero()?Wa=$u+Wa:Wa=Is[fu-$u.length]+$u+Wa}for(this.isZero()&&(Wa="0"+Wa);Wa.length%Zs!==0;)Wa="0"+Wa;return this.negative!==0&&(Wa="-"+Wa),Wa}ms(!1,"Base should be between 2 and 36")},vs.prototype.toNumber=function(){var Fa=this.words[0];return this.length===2?Fa+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Fa+=4503599627370496+this.words[1]*67108864:this.length>2&&ms(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Fa:Fa},vs.prototype.toJSON=function(){return this.toString(16,2)},_s&&(vs.prototype.toBuffer=function(Fa,Zs){return this.toArrayLike(_s,Fa,Zs)}),vs.prototype.toArray=function(Fa,Zs){return this.toArrayLike(Array,Fa,Zs)};var Ns=function(Fa,Zs){return Fa.allocUnsafe?Fa.allocUnsafe(Zs):new Fa(Zs)};vs.prototype.toArrayLike=function(Fa,Zs,Wa){this._strip();var Za=this.byteLength(),iu=Wa||Math.max(1,Za);ms(Za<=iu,"byte array longer than desired length"),ms(iu>0,"Requested array length <= 0");var au=Ns(Fa,iu),nu=Zs==="le"?"LE":"BE";return this["_toArrayLike"+nu](au,Za),au},vs.prototype._toArrayLikeLE=function(Fa,Zs){for(var Wa=0,Za=0,iu=0,au=0;iu<this.length;iu++){var nu=this.words[iu]<<au|Za;Fa[Wa++]=nu&255,Wa<Fa.length&&(Fa[Wa++]=nu>>8&255),Wa<Fa.length&&(Fa[Wa++]=nu>>16&255),au===6?(Wa<Fa.length&&(Fa[Wa++]=nu>>24&255),Za=0,au=0):(Za=nu>>>24,au+=2)}if(Wa<Fa.length)for(Fa[Wa++]=Za;Wa<Fa.length;)Fa[Wa++]=0},vs.prototype._toArrayLikeBE=function(Fa,Zs){for(var Wa=Fa.length-1,Za=0,iu=0,au=0;iu<this.length;iu++){var nu=this.words[iu]<<au|Za;Fa[Wa--]=nu&255,Wa>=0&&(Fa[Wa--]=nu>>8&255),Wa>=0&&(Fa[Wa--]=nu>>16&255),au===6?(Wa>=0&&(Fa[Wa--]=nu>>24&255),Za=0,au=0):(Za=nu>>>24,au+=2)}if(Wa>=0)for(Fa[Wa--]=Za;Wa>=0;)Fa[Wa--]=0},Math.clz32?vs.prototype._countBits=function(Fa){return 32-Math.clz32(Fa)}:vs.prototype._countBits=function(Fa){var Zs=Fa,Wa=0;return Zs>=4096&&(Wa+=13,Zs>>>=13),Zs>=64&&(Wa+=7,Zs>>>=7),Zs>=8&&(Wa+=4,Zs>>>=4),Zs>=2&&(Wa+=2,Zs>>>=2),Wa+Zs},vs.prototype._zeroBits=function(Fa){if(Fa===0)return 26;var Zs=Fa,Wa=0;return(Zs&8191)===0&&(Wa+=13,Zs>>>=13),(Zs&127)===0&&(Wa+=7,Zs>>>=7),(Zs&15)===0&&(Wa+=4,Zs>>>=4),(Zs&3)===0&&(Wa+=2,Zs>>>=2),(Zs&1)===0&&Wa++,Wa},vs.prototype.bitLength=function(){var Fa=this.words[this.length-1],Zs=this._countBits(Fa);return(this.length-1)*26+Zs};function Js(Xa){for(var Fa=new Array(Xa.bitLength()),Zs=0;Zs<Fa.length;Zs++){var Wa=Zs/26|0,Za=Zs%26;Fa[Zs]=Xa.words[Wa]>>>Za&1}return Fa}vs.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Fa=0,Zs=0;Zs<this.length;Zs++){var Wa=this._zeroBits(this.words[Zs]);if(Fa+=Wa,Wa!==26)break}return Fa},vs.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},vs.prototype.toTwos=function(Fa){return this.negative!==0?this.abs().inotn(Fa).iaddn(1):this.clone()},vs.prototype.fromTwos=function(Fa){return this.testn(Fa-1)?this.notn(Fa).iaddn(1).ineg():this.clone()},vs.prototype.isNeg=function(){return this.negative!==0},vs.prototype.neg=function(){return this.clone().ineg()},vs.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},vs.prototype.iuor=function(Fa){for(;this.length<Fa.length;)this.words[this.length++]=0;for(var Zs=0;Zs<Fa.length;Zs++)this.words[Zs]=this.words[Zs]|Fa.words[Zs];return this._strip()},vs.prototype.ior=function(Fa){return ms((this.negative|Fa.negative)===0),this.iuor(Fa)},vs.prototype.or=function(Fa){return this.length>Fa.length?this.clone().ior(Fa):Fa.clone().ior(this)},vs.prototype.uor=function(Fa){return this.length>Fa.length?this.clone().iuor(Fa):Fa.clone().iuor(this)},vs.prototype.iuand=function(Fa){var Zs;this.length>Fa.length?Zs=Fa:Zs=this;for(var Wa=0;Wa<Zs.length;Wa++)this.words[Wa]=this.words[Wa]&Fa.words[Wa];return this.length=Zs.length,this._strip()},vs.prototype.iand=function(Fa){return ms((this.negative|Fa.negative)===0),this.iuand(Fa)},vs.prototype.and=function(Fa){return this.length>Fa.length?this.clone().iand(Fa):Fa.clone().iand(this)},vs.prototype.uand=function(Fa){return this.length>Fa.length?this.clone().iuand(Fa):Fa.clone().iuand(this)},vs.prototype.iuxor=function(Fa){var Zs,Wa;this.length>Fa.length?(Zs=this,Wa=Fa):(Zs=Fa,Wa=this);for(var Za=0;Za<Wa.length;Za++)this.words[Za]=Zs.words[Za]^Wa.words[Za];if(this!==Zs)for(;Za<Zs.length;Za++)this.words[Za]=Zs.words[Za];return this.length=Zs.length,this._strip()},vs.prototype.ixor=function(Fa){return ms((this.negative|Fa.negative)===0),this.iuxor(Fa)},vs.prototype.xor=function(Fa){return this.length>Fa.length?this.clone().ixor(Fa):Fa.clone().ixor(this)},vs.prototype.uxor=function(Fa){return this.length>Fa.length?this.clone().iuxor(Fa):Fa.clone().iuxor(this)},vs.prototype.inotn=function(Fa){ms(typeof Fa=="number"&&Fa>=0);var Zs=Math.ceil(Fa/26)|0,Wa=Fa%26;this._expand(Zs),Wa>0&&Zs--;for(var Za=0;Za<Zs;Za++)this.words[Za]=~this.words[Za]&67108863;return Wa>0&&(this.words[Za]=~this.words[Za]&67108863>>26-Wa),this._strip()},vs.prototype.notn=function(Fa){return this.clone().inotn(Fa)},vs.prototype.setn=function(Fa,Zs){ms(typeof Fa=="number"&&Fa>=0);var Wa=Fa/26|0,Za=Fa%26;return this._expand(Wa+1),Zs?this.words[Wa]=this.words[Wa]|1<<Za:this.words[Wa]=this.words[Wa]&~(1<<Za),this._strip()},vs.prototype.iadd=function(Fa){var Zs;if(this.negative!==0&&Fa.negative===0)return this.negative=0,Zs=this.isub(Fa),this.negative^=1,this._normSign();if(this.negative===0&&Fa.negative!==0)return Fa.negative=0,Zs=this.isub(Fa),Fa.negative=1,Zs._normSign();var Wa,Za;this.length>Fa.length?(Wa=this,Za=Fa):(Wa=Fa,Za=this);for(var iu=0,au=0;au<Za.length;au++)Zs=(Wa.words[au]|0)+(Za.words[au]|0)+iu,this.words[au]=Zs&67108863,iu=Zs>>>26;for(;iu!==0&&au<Wa.length;au++)Zs=(Wa.words[au]|0)+iu,this.words[au]=Zs&67108863,iu=Zs>>>26;if(this.length=Wa.length,iu!==0)this.words[this.length]=iu,this.length++;else if(Wa!==this)for(;au<Wa.length;au++)this.words[au]=Wa.words[au];return this},vs.prototype.add=function(Fa){var Zs;return Fa.negative!==0&&this.negative===0?(Fa.negative=0,Zs=this.sub(Fa),Fa.negative^=1,Zs):Fa.negative===0&&this.negative!==0?(this.negative=0,Zs=Fa.sub(this),this.negative=1,Zs):this.length>Fa.length?this.clone().iadd(Fa):Fa.clone().iadd(this)},vs.prototype.isub=function(Fa){if(Fa.negative!==0){Fa.negative=0;var Zs=this.iadd(Fa);return Fa.negative=1,Zs._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Fa),this.negative=1,this._normSign();var Wa=this.cmp(Fa);if(Wa===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Za,iu;Wa>0?(Za=this,iu=Fa):(Za=Fa,iu=this);for(var au=0,nu=0;nu<iu.length;nu++)Zs=(Za.words[nu]|0)-(iu.words[nu]|0)+au,au=Zs>>26,this.words[nu]=Zs&67108863;for(;au!==0&&nu<Za.length;nu++)Zs=(Za.words[nu]|0)+au,au=Zs>>26,this.words[nu]=Zs&67108863;if(au===0&&nu<Za.length&&Za!==this)for(;nu<Za.length;nu++)this.words[nu]=Za.words[nu];return this.length=Math.max(this.length,nu),Za!==this&&(this.negative=1),this._strip()},vs.prototype.sub=function(Fa){return this.clone().isub(Fa)};function ha(Xa,Fa,Zs){Zs.negative=Fa.negative^Xa.negative;var Wa=Xa.length+Fa.length|0;Zs.length=Wa,Wa=Wa-1|0;var Za=Xa.words[0]|0,iu=Fa.words[0]|0,au=Za*iu,nu=au&67108863,uu=au/67108864|0;Zs.words[0]=nu;for(var fu=1;fu<Wa;fu++){for(var hu=uu>>>26,Eu=uu&67108863,$u=Math.min(fu,Fa.length-1),Ou=Math.max(0,fu-Xa.length+1);Ou<=$u;Ou++){var gu=fu-Ou|0;Za=Xa.words[gu]|0,iu=Fa.words[Ou]|0,au=Za*iu+Eu,hu+=au/67108864|0,Eu=au&67108863}Zs.words[fu]=Eu|0,uu=hu|0}return uu!==0?Zs.words[fu]=uu|0:Zs.length--,Zs._strip()}var pa=function(Fa,Zs,Wa){var Za=Fa.words,iu=Zs.words,au=Wa.words,nu=0,uu,fu,hu,Eu=Za[0]|0,$u=Eu&8191,Ou=Eu>>>13,gu=Za[1]|0,yu=gu&8191,Tu=gu>>>13,du=Za[2]|0,wu=du&8191,Ru=du>>>13,Ku=Za[3]|0,Zu=Ku&8191,tl=Ku>>>13,sl=Za[4]|0,gl=sl&8191,Fu=sl>>>13,Mu=Za[5]|0,Ju=Mu&8191,vf=Mu>>>13,wf=Za[6]|0,el=wf&8191,il=wf>>>13,hl=Za[7]|0,cl=hl&8191,ul=hl>>>13,yl=Za[8]|0,Cl=yl&8191,Bu=yl>>>13,pu=Za[9]|0,xu=pu&8191,qu=pu>>>13,Pu=iu[0]|0,xf=Pu&8191,nl=Pu>>>13,wl=iu[1]|0,Il=wl&8191,Rl=wl>>>13,fl=iu[2]|0,Ml=fl&8191,Ul=fl>>>13,kl=iu[3]|0,Fl=kl&8191,Pl=kl>>>13,Wl=iu[4]|0,jl=Wl&8191,Nu=Wl>>>13,mu=iu[5]|0,_u=mu&8191,Lu=mu>>>13,Vu=iu[6]|0,vu=Vu&8191,Su=Vu>>>13,Iu=iu[7]|0,bu=Iu&8191,Wu=Iu>>>13,Xu=iu[8]|0,Qu=Xu&8191,ol=Xu>>>13,vl=iu[9]|0,_l=vl&8191,rl=vl>>>13;Wa.negative=Fa.negative^Zs.negative,Wa.length=19,uu=Math.imul($u,xf),fu=Math.imul($u,nl),fu=fu+Math.imul(Ou,xf)|0,hu=Math.imul(Ou,nl);var Al=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Al>>>26)|0,Al&=67108863,uu=Math.imul(yu,xf),fu=Math.imul(yu,nl),fu=fu+Math.imul(Tu,xf)|0,hu=Math.imul(Tu,nl),uu=uu+Math.imul($u,Il)|0,fu=fu+Math.imul($u,Rl)|0,fu=fu+Math.imul(Ou,Il)|0,hu=hu+Math.imul(Ou,Rl)|0;var $l=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+($l>>>26)|0,$l&=67108863,uu=Math.imul(wu,xf),fu=Math.imul(wu,nl),fu=fu+Math.imul(Ru,xf)|0,hu=Math.imul(Ru,nl),uu=uu+Math.imul(yu,Il)|0,fu=fu+Math.imul(yu,Rl)|0,fu=fu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Rl)|0,uu=uu+Math.imul($u,Ml)|0,fu=fu+Math.imul($u,Ul)|0,fu=fu+Math.imul(Ou,Ml)|0,hu=hu+Math.imul(Ou,Ul)|0;var Dl=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Dl>>>26)|0,Dl&=67108863,uu=Math.imul(Zu,xf),fu=Math.imul(Zu,nl),fu=fu+Math.imul(tl,xf)|0,hu=Math.imul(tl,nl),uu=uu+Math.imul(wu,Il)|0,fu=fu+Math.imul(wu,Rl)|0,fu=fu+Math.imul(Ru,Il)|0,hu=hu+Math.imul(Ru,Rl)|0,uu=uu+Math.imul(yu,Ml)|0,fu=fu+Math.imul(yu,Ul)|0,fu=fu+Math.imul(Tu,Ml)|0,hu=hu+Math.imul(Tu,Ul)|0,uu=uu+Math.imul($u,Fl)|0,fu=fu+Math.imul($u,Pl)|0,fu=fu+Math.imul(Ou,Fl)|0,hu=hu+Math.imul(Ou,Pl)|0;var Ol=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Ol>>>26)|0,Ol&=67108863,uu=Math.imul(gl,xf),fu=Math.imul(gl,nl),fu=fu+Math.imul(Fu,xf)|0,hu=Math.imul(Fu,nl),uu=uu+Math.imul(Zu,Il)|0,fu=fu+Math.imul(Zu,Rl)|0,fu=fu+Math.imul(tl,Il)|0,hu=hu+Math.imul(tl,Rl)|0,uu=uu+Math.imul(wu,Ml)|0,fu=fu+Math.imul(wu,Ul)|0,fu=fu+Math.imul(Ru,Ml)|0,hu=hu+Math.imul(Ru,Ul)|0,uu=uu+Math.imul(yu,Fl)|0,fu=fu+Math.imul(yu,Pl)|0,fu=fu+Math.imul(Tu,Fl)|0,hu=hu+Math.imul(Tu,Pl)|0,uu=uu+Math.imul($u,jl)|0,fu=fu+Math.imul($u,Nu)|0,fu=fu+Math.imul(Ou,jl)|0,hu=hu+Math.imul(Ou,Nu)|0;var ll=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(ll>>>26)|0,ll&=67108863,uu=Math.imul(Ju,xf),fu=Math.imul(Ju,nl),fu=fu+Math.imul(vf,xf)|0,hu=Math.imul(vf,nl),uu=uu+Math.imul(gl,Il)|0,fu=fu+Math.imul(gl,Rl)|0,fu=fu+Math.imul(Fu,Il)|0,hu=hu+Math.imul(Fu,Rl)|0,uu=uu+Math.imul(Zu,Ml)|0,fu=fu+Math.imul(Zu,Ul)|0,fu=fu+Math.imul(tl,Ml)|0,hu=hu+Math.imul(tl,Ul)|0,uu=uu+Math.imul(wu,Fl)|0,fu=fu+Math.imul(wu,Pl)|0,fu=fu+Math.imul(Ru,Fl)|0,hu=hu+Math.imul(Ru,Pl)|0,uu=uu+Math.imul(yu,jl)|0,fu=fu+Math.imul(yu,Nu)|0,fu=fu+Math.imul(Tu,jl)|0,hu=hu+Math.imul(Tu,Nu)|0,uu=uu+Math.imul($u,_u)|0,fu=fu+Math.imul($u,Lu)|0,fu=fu+Math.imul(Ou,_u)|0,hu=hu+Math.imul(Ou,Lu)|0;var ju=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(ju>>>26)|0,ju&=67108863,uu=Math.imul(el,xf),fu=Math.imul(el,nl),fu=fu+Math.imul(il,xf)|0,hu=Math.imul(il,nl),uu=uu+Math.imul(Ju,Il)|0,fu=fu+Math.imul(Ju,Rl)|0,fu=fu+Math.imul(vf,Il)|0,hu=hu+Math.imul(vf,Rl)|0,uu=uu+Math.imul(gl,Ml)|0,fu=fu+Math.imul(gl,Ul)|0,fu=fu+Math.imul(Fu,Ml)|0,hu=hu+Math.imul(Fu,Ul)|0,uu=uu+Math.imul(Zu,Fl)|0,fu=fu+Math.imul(Zu,Pl)|0,fu=fu+Math.imul(tl,Fl)|0,hu=hu+Math.imul(tl,Pl)|0,uu=uu+Math.imul(wu,jl)|0,fu=fu+Math.imul(wu,Nu)|0,fu=fu+Math.imul(Ru,jl)|0,hu=hu+Math.imul(Ru,Nu)|0,uu=uu+Math.imul(yu,_u)|0,fu=fu+Math.imul(yu,Lu)|0,fu=fu+Math.imul(Tu,_u)|0,hu=hu+Math.imul(Tu,Lu)|0,uu=uu+Math.imul($u,vu)|0,fu=fu+Math.imul($u,Su)|0,fu=fu+Math.imul(Ou,vu)|0,hu=hu+Math.imul(Ou,Su)|0;var Ll=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,uu=Math.imul(cl,xf),fu=Math.imul(cl,nl),fu=fu+Math.imul(ul,xf)|0,hu=Math.imul(ul,nl),uu=uu+Math.imul(el,Il)|0,fu=fu+Math.imul(el,Rl)|0,fu=fu+Math.imul(il,Il)|0,hu=hu+Math.imul(il,Rl)|0,uu=uu+Math.imul(Ju,Ml)|0,fu=fu+Math.imul(Ju,Ul)|0,fu=fu+Math.imul(vf,Ml)|0,hu=hu+Math.imul(vf,Ul)|0,uu=uu+Math.imul(gl,Fl)|0,fu=fu+Math.imul(gl,Pl)|0,fu=fu+Math.imul(Fu,Fl)|0,hu=hu+Math.imul(Fu,Pl)|0,uu=uu+Math.imul(Zu,jl)|0,fu=fu+Math.imul(Zu,Nu)|0,fu=fu+Math.imul(tl,jl)|0,hu=hu+Math.imul(tl,Nu)|0,uu=uu+Math.imul(wu,_u)|0,fu=fu+Math.imul(wu,Lu)|0,fu=fu+Math.imul(Ru,_u)|0,hu=hu+Math.imul(Ru,Lu)|0,uu=uu+Math.imul(yu,vu)|0,fu=fu+Math.imul(yu,Su)|0,fu=fu+Math.imul(Tu,vu)|0,hu=hu+Math.imul(Tu,Su)|0,uu=uu+Math.imul($u,bu)|0,fu=fu+Math.imul($u,Wu)|0,fu=fu+Math.imul(Ou,bu)|0,hu=hu+Math.imul(Ou,Wu)|0;var xl=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(xl>>>26)|0,xl&=67108863,uu=Math.imul(Cl,xf),fu=Math.imul(Cl,nl),fu=fu+Math.imul(Bu,xf)|0,hu=Math.imul(Bu,nl),uu=uu+Math.imul(cl,Il)|0,fu=fu+Math.imul(cl,Rl)|0,fu=fu+Math.imul(ul,Il)|0,hu=hu+Math.imul(ul,Rl)|0,uu=uu+Math.imul(el,Ml)|0,fu=fu+Math.imul(el,Ul)|0,fu=fu+Math.imul(il,Ml)|0,hu=hu+Math.imul(il,Ul)|0,uu=uu+Math.imul(Ju,Fl)|0,fu=fu+Math.imul(Ju,Pl)|0,fu=fu+Math.imul(vf,Fl)|0,hu=hu+Math.imul(vf,Pl)|0,uu=uu+Math.imul(gl,jl)|0,fu=fu+Math.imul(gl,Nu)|0,fu=fu+Math.imul(Fu,jl)|0,hu=hu+Math.imul(Fu,Nu)|0,uu=uu+Math.imul(Zu,_u)|0,fu=fu+Math.imul(Zu,Lu)|0,fu=fu+Math.imul(tl,_u)|0,hu=hu+Math.imul(tl,Lu)|0,uu=uu+Math.imul(wu,vu)|0,fu=fu+Math.imul(wu,Su)|0,fu=fu+Math.imul(Ru,vu)|0,hu=hu+Math.imul(Ru,Su)|0,uu=uu+Math.imul(yu,bu)|0,fu=fu+Math.imul(yu,Wu)|0,fu=fu+Math.imul(Tu,bu)|0,hu=hu+Math.imul(Tu,Wu)|0,uu=uu+Math.imul($u,Qu)|0,fu=fu+Math.imul($u,ol)|0,fu=fu+Math.imul(Ou,Qu)|0,hu=hu+Math.imul(Ou,ol)|0;var Tl=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Tl>>>26)|0,Tl&=67108863,uu=Math.imul(xu,xf),fu=Math.imul(xu,nl),fu=fu+Math.imul(qu,xf)|0,hu=Math.imul(qu,nl),uu=uu+Math.imul(Cl,Il)|0,fu=fu+Math.imul(Cl,Rl)|0,fu=fu+Math.imul(Bu,Il)|0,hu=hu+Math.imul(Bu,Rl)|0,uu=uu+Math.imul(cl,Ml)|0,fu=fu+Math.imul(cl,Ul)|0,fu=fu+Math.imul(ul,Ml)|0,hu=hu+Math.imul(ul,Ul)|0,uu=uu+Math.imul(el,Fl)|0,fu=fu+Math.imul(el,Pl)|0,fu=fu+Math.imul(il,Fl)|0,hu=hu+Math.imul(il,Pl)|0,uu=uu+Math.imul(Ju,jl)|0,fu=fu+Math.imul(Ju,Nu)|0,fu=fu+Math.imul(vf,jl)|0,hu=hu+Math.imul(vf,Nu)|0,uu=uu+Math.imul(gl,_u)|0,fu=fu+Math.imul(gl,Lu)|0,fu=fu+Math.imul(Fu,_u)|0,hu=hu+Math.imul(Fu,Lu)|0,uu=uu+Math.imul(Zu,vu)|0,fu=fu+Math.imul(Zu,Su)|0,fu=fu+Math.imul(tl,vu)|0,hu=hu+Math.imul(tl,Su)|0,uu=uu+Math.imul(wu,bu)|0,fu=fu+Math.imul(wu,Wu)|0,fu=fu+Math.imul(Ru,bu)|0,hu=hu+Math.imul(Ru,Wu)|0,uu=uu+Math.imul(yu,Qu)|0,fu=fu+Math.imul(yu,ol)|0,fu=fu+Math.imul(Tu,Qu)|0,hu=hu+Math.imul(Tu,ol)|0,uu=uu+Math.imul($u,_l)|0,fu=fu+Math.imul($u,rl)|0,fu=fu+Math.imul(Ou,_l)|0,hu=hu+Math.imul(Ou,rl)|0;var dl=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(dl>>>26)|0,dl&=67108863,uu=Math.imul(xu,Il),fu=Math.imul(xu,Rl),fu=fu+Math.imul(qu,Il)|0,hu=Math.imul(qu,Rl),uu=uu+Math.imul(Cl,Ml)|0,fu=fu+Math.imul(Cl,Ul)|0,fu=fu+Math.imul(Bu,Ml)|0,hu=hu+Math.imul(Bu,Ul)|0,uu=uu+Math.imul(cl,Fl)|0,fu=fu+Math.imul(cl,Pl)|0,fu=fu+Math.imul(ul,Fl)|0,hu=hu+Math.imul(ul,Pl)|0,uu=uu+Math.imul(el,jl)|0,fu=fu+Math.imul(el,Nu)|0,fu=fu+Math.imul(il,jl)|0,hu=hu+Math.imul(il,Nu)|0,uu=uu+Math.imul(Ju,_u)|0,fu=fu+Math.imul(Ju,Lu)|0,fu=fu+Math.imul(vf,_u)|0,hu=hu+Math.imul(vf,Lu)|0,uu=uu+Math.imul(gl,vu)|0,fu=fu+Math.imul(gl,Su)|0,fu=fu+Math.imul(Fu,vu)|0,hu=hu+Math.imul(Fu,Su)|0,uu=uu+Math.imul(Zu,bu)|0,fu=fu+Math.imul(Zu,Wu)|0,fu=fu+Math.imul(tl,bu)|0,hu=hu+Math.imul(tl,Wu)|0,uu=uu+Math.imul(wu,Qu)|0,fu=fu+Math.imul(wu,ol)|0,fu=fu+Math.imul(Ru,Qu)|0,hu=hu+Math.imul(Ru,ol)|0,uu=uu+Math.imul(yu,_l)|0,fu=fu+Math.imul(yu,rl)|0,fu=fu+Math.imul(Tu,_l)|0,hu=hu+Math.imul(Tu,rl)|0;var Bl=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,uu=Math.imul(xu,Ml),fu=Math.imul(xu,Ul),fu=fu+Math.imul(qu,Ml)|0,hu=Math.imul(qu,Ul),uu=uu+Math.imul(Cl,Fl)|0,fu=fu+Math.imul(Cl,Pl)|0,fu=fu+Math.imul(Bu,Fl)|0,hu=hu+Math.imul(Bu,Pl)|0,uu=uu+Math.imul(cl,jl)|0,fu=fu+Math.imul(cl,Nu)|0,fu=fu+Math.imul(ul,jl)|0,hu=hu+Math.imul(ul,Nu)|0,uu=uu+Math.imul(el,_u)|0,fu=fu+Math.imul(el,Lu)|0,fu=fu+Math.imul(il,_u)|0,hu=hu+Math.imul(il,Lu)|0,uu=uu+Math.imul(Ju,vu)|0,fu=fu+Math.imul(Ju,Su)|0,fu=fu+Math.imul(vf,vu)|0,hu=hu+Math.imul(vf,Su)|0,uu=uu+Math.imul(gl,bu)|0,fu=fu+Math.imul(gl,Wu)|0,fu=fu+Math.imul(Fu,bu)|0,hu=hu+Math.imul(Fu,Wu)|0,uu=uu+Math.imul(Zu,Qu)|0,fu=fu+Math.imul(Zu,ol)|0,fu=fu+Math.imul(tl,Qu)|0,hu=hu+Math.imul(tl,ol)|0,uu=uu+Math.imul(wu,_l)|0,fu=fu+Math.imul(wu,rl)|0,fu=fu+Math.imul(Ru,_l)|0,hu=hu+Math.imul(Ru,rl)|0;var Sl=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Sl>>>26)|0,Sl&=67108863,uu=Math.imul(xu,Fl),fu=Math.imul(xu,Pl),fu=fu+Math.imul(qu,Fl)|0,hu=Math.imul(qu,Pl),uu=uu+Math.imul(Cl,jl)|0,fu=fu+Math.imul(Cl,Nu)|0,fu=fu+Math.imul(Bu,jl)|0,hu=hu+Math.imul(Bu,Nu)|0,uu=uu+Math.imul(cl,_u)|0,fu=fu+Math.imul(cl,Lu)|0,fu=fu+Math.imul(ul,_u)|0,hu=hu+Math.imul(ul,Lu)|0,uu=uu+Math.imul(el,vu)|0,fu=fu+Math.imul(el,Su)|0,fu=fu+Math.imul(il,vu)|0,hu=hu+Math.imul(il,Su)|0,uu=uu+Math.imul(Ju,bu)|0,fu=fu+Math.imul(Ju,Wu)|0,fu=fu+Math.imul(vf,bu)|0,hu=hu+Math.imul(vf,Wu)|0,uu=uu+Math.imul(gl,Qu)|0,fu=fu+Math.imul(gl,ol)|0,fu=fu+Math.imul(Fu,Qu)|0,hu=hu+Math.imul(Fu,ol)|0,uu=uu+Math.imul(Zu,_l)|0,fu=fu+Math.imul(Zu,rl)|0,fu=fu+Math.imul(tl,_l)|0,hu=hu+Math.imul(tl,rl)|0;var Ja=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Ja>>>26)|0,Ja&=67108863,uu=Math.imul(xu,jl),fu=Math.imul(xu,Nu),fu=fu+Math.imul(qu,jl)|0,hu=Math.imul(qu,Nu),uu=uu+Math.imul(Cl,_u)|0,fu=fu+Math.imul(Cl,Lu)|0,fu=fu+Math.imul(Bu,_u)|0,hu=hu+Math.imul(Bu,Lu)|0,uu=uu+Math.imul(cl,vu)|0,fu=fu+Math.imul(cl,Su)|0,fu=fu+Math.imul(ul,vu)|0,hu=hu+Math.imul(ul,Su)|0,uu=uu+Math.imul(el,bu)|0,fu=fu+Math.imul(el,Wu)|0,fu=fu+Math.imul(il,bu)|0,hu=hu+Math.imul(il,Wu)|0,uu=uu+Math.imul(Ju,Qu)|0,fu=fu+Math.imul(Ju,ol)|0,fu=fu+Math.imul(vf,Qu)|0,hu=hu+Math.imul(vf,ol)|0,uu=uu+Math.imul(gl,_l)|0,fu=fu+Math.imul(gl,rl)|0,fu=fu+Math.imul(Fu,_l)|0,hu=hu+Math.imul(Fu,rl)|0;var su=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(su>>>26)|0,su&=67108863,uu=Math.imul(xu,_u),fu=Math.imul(xu,Lu),fu=fu+Math.imul(qu,_u)|0,hu=Math.imul(qu,Lu),uu=uu+Math.imul(Cl,vu)|0,fu=fu+Math.imul(Cl,Su)|0,fu=fu+Math.imul(Bu,vu)|0,hu=hu+Math.imul(Bu,Su)|0,uu=uu+Math.imul(cl,bu)|0,fu=fu+Math.imul(cl,Wu)|0,fu=fu+Math.imul(ul,bu)|0,hu=hu+Math.imul(ul,Wu)|0,uu=uu+Math.imul(el,Qu)|0,fu=fu+Math.imul(el,ol)|0,fu=fu+Math.imul(il,Qu)|0,hu=hu+Math.imul(il,ol)|0,uu=uu+Math.imul(Ju,_l)|0,fu=fu+Math.imul(Ju,rl)|0,fu=fu+Math.imul(vf,_l)|0,hu=hu+Math.imul(vf,rl)|0;var lu=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(lu>>>26)|0,lu&=67108863,uu=Math.imul(xu,vu),fu=Math.imul(xu,Su),fu=fu+Math.imul(qu,vu)|0,hu=Math.imul(qu,Su),uu=uu+Math.imul(Cl,bu)|0,fu=fu+Math.imul(Cl,Wu)|0,fu=fu+Math.imul(Bu,bu)|0,hu=hu+Math.imul(Bu,Wu)|0,uu=uu+Math.imul(cl,Qu)|0,fu=fu+Math.imul(cl,ol)|0,fu=fu+Math.imul(ul,Qu)|0,hu=hu+Math.imul(ul,ol)|0,uu=uu+Math.imul(el,_l)|0,fu=fu+Math.imul(el,rl)|0,fu=fu+Math.imul(il,_l)|0,hu=hu+Math.imul(il,rl)|0;var Au=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Au>>>26)|0,Au&=67108863,uu=Math.imul(xu,bu),fu=Math.imul(xu,Wu),fu=fu+Math.imul(qu,bu)|0,hu=Math.imul(qu,Wu),uu=uu+Math.imul(Cl,Qu)|0,fu=fu+Math.imul(Cl,ol)|0,fu=fu+Math.imul(Bu,Qu)|0,hu=hu+Math.imul(Bu,ol)|0,uu=uu+Math.imul(cl,_l)|0,fu=fu+Math.imul(cl,rl)|0,fu=fu+Math.imul(ul,_l)|0,hu=hu+Math.imul(ul,rl)|0;var Du=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(Du>>>26)|0,Du&=67108863,uu=Math.imul(xu,Qu),fu=Math.imul(xu,ol),fu=fu+Math.imul(qu,Qu)|0,hu=Math.imul(qu,ol),uu=uu+Math.imul(Cl,_l)|0,fu=fu+Math.imul(Cl,rl)|0,fu=fu+Math.imul(Bu,_l)|0,hu=hu+Math.imul(Bu,rl)|0;var zu=(nu+uu|0)+((fu&8191)<<13)|0;nu=(hu+(fu>>>13)|0)+(zu>>>26)|0,zu&=67108863,uu=Math.imul(xu,_l),fu=Math.imul(xu,rl),fu=fu+Math.imul(qu,_l)|0,hu=Math.imul(qu,rl);var Cu=(nu+uu|0)+((fu&8191)<<13)|0;return nu=(hu+(fu>>>13)|0)+(Cu>>>26)|0,Cu&=67108863,au[0]=Al,au[1]=$l,au[2]=Dl,au[3]=Ol,au[4]=ll,au[5]=ju,au[6]=Ll,au[7]=xl,au[8]=Tl,au[9]=dl,au[10]=Bl,au[11]=Sl,au[12]=Ja,au[13]=su,au[14]=lu,au[15]=Au,au[16]=Du,au[17]=zu,au[18]=Cu,nu!==0&&(au[19]=nu,Wa.length++),Wa};Math.imul||(pa=ha);function za(Xa,Fa,Zs){Zs.negative=Fa.negative^Xa.negative,Zs.length=Xa.length+Fa.length;for(var Wa=0,Za=0,iu=0;iu<Zs.length-1;iu++){var au=Za;Za=0;for(var nu=Wa&67108863,uu=Math.min(iu,Fa.length-1),fu=Math.max(0,iu-Xa.length+1);fu<=uu;fu++){var hu=iu-fu,Eu=Xa.words[hu]|0,$u=Fa.words[fu]|0,Ou=Eu*$u,gu=Ou&67108863;au=au+(Ou/67108864|0)|0,gu=gu+nu|0,nu=gu&67108863,au=au+(gu>>>26)|0,Za+=au>>>26,au&=67108863}Zs.words[iu]=nu,Wa=au,au=Za}return Wa!==0?Zs.words[iu]=Wa:Zs.length--,Zs._strip()}function Ya(Xa,Fa,Zs){return za(Xa,Fa,Zs)}vs.prototype.mulTo=function(Fa,Zs){var Wa,Za=this.length+Fa.length;return this.length===10&&Fa.length===10?Wa=pa(this,Fa,Zs):Za<63?Wa=ha(this,Fa,Zs):Za<1024?Wa=za(this,Fa,Zs):Wa=Ya(this,Fa,Zs),Wa},vs.prototype.mul=function(Fa){var Zs=new vs(null);return Zs.words=new Array(this.length+Fa.length),this.mulTo(Fa,Zs)},vs.prototype.mulf=function(Fa){var Zs=new vs(null);return Zs.words=new Array(this.length+Fa.length),Ya(this,Fa,Zs)},vs.prototype.imul=function(Fa){return this.clone().mulTo(Fa,this)},vs.prototype.imuln=function(Fa){var Zs=Fa<0;Zs&&(Fa=-Fa),ms(typeof Fa=="number"),ms(Fa<67108864);for(var Wa=0,Za=0;Za<this.length;Za++){var iu=(this.words[Za]|0)*Fa,au=(iu&67108863)+(Wa&67108863);Wa>>=26,Wa+=iu/67108864|0,Wa+=au>>>26,this.words[Za]=au&67108863}return Wa!==0&&(this.words[Za]=Wa,this.length++),this.length=Fa===0?1:this.length,Zs?this.ineg():this},vs.prototype.muln=function(Fa){return this.clone().imuln(Fa)},vs.prototype.sqr=function(){return this.mul(this)},vs.prototype.isqr=function(){return this.imul(this.clone())},vs.prototype.pow=function(Fa){var Zs=Js(Fa);if(Zs.length===0)return new vs(1);for(var Wa=this,Za=0;Za<Zs.length&&Zs[Za]===0;Za++,Wa=Wa.sqr());if(++Za<Zs.length)for(var iu=Wa.sqr();Za<Zs.length;Za++,iu=iu.sqr())Zs[Za]!==0&&(Wa=Wa.mul(iu));return Wa},vs.prototype.iushln=function(Fa){ms(typeof Fa=="number"&&Fa>=0);var Zs=Fa%26,Wa=(Fa-Zs)/26,Za=67108863>>>26-Zs<<26-Zs,iu;if(Zs!==0){var au=0;for(iu=0;iu<this.length;iu++){var nu=this.words[iu]&Za,uu=(this.words[iu]|0)-nu<<Zs;this.words[iu]=uu|au,au=nu>>>26-Zs}au&&(this.words[iu]=au,this.length++)}if(Wa!==0){for(iu=this.length-1;iu>=0;iu--)this.words[iu+Wa]=this.words[iu];for(iu=0;iu<Wa;iu++)this.words[iu]=0;this.length+=Wa}return this._strip()},vs.prototype.ishln=function(Fa){return ms(this.negative===0),this.iushln(Fa)},vs.prototype.iushrn=function(Fa,Zs,Wa){ms(typeof Fa=="number"&&Fa>=0);var Za;Zs?Za=(Zs-Zs%26)/26:Za=0;var iu=Fa%26,au=Math.min((Fa-iu)/26,this.length),nu=67108863^67108863>>>iu<<iu,uu=Wa;if(Za-=au,Za=Math.max(0,Za),uu){for(var fu=0;fu<au;fu++)uu.words[fu]=this.words[fu];uu.length=au}if(au!==0)if(this.length>au)for(this.length-=au,fu=0;fu<this.length;fu++)this.words[fu]=this.words[fu+au];else this.words[0]=0,this.length=1;var hu=0;for(fu=this.length-1;fu>=0&&(hu!==0||fu>=Za);fu--){var Eu=this.words[fu]|0;this.words[fu]=hu<<26-iu|Eu>>>iu,hu=Eu&nu}return uu&&hu!==0&&(uu.words[uu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},vs.prototype.ishrn=function(Fa,Zs,Wa){return ms(this.negative===0),this.iushrn(Fa,Zs,Wa)},vs.prototype.shln=function(Fa){return this.clone().ishln(Fa)},vs.prototype.ushln=function(Fa){return this.clone().iushln(Fa)},vs.prototype.shrn=function(Fa){return this.clone().ishrn(Fa)},vs.prototype.ushrn=function(Fa){return this.clone().iushrn(Fa)},vs.prototype.testn=function(Fa){ms(typeof Fa=="number"&&Fa>=0);var Zs=Fa%26,Wa=(Fa-Zs)/26,Za=1<<Zs;if(this.length<=Wa)return!1;var iu=this.words[Wa];return!!(iu&Za)},vs.prototype.imaskn=function(Fa){ms(typeof Fa=="number"&&Fa>=0);var Zs=Fa%26,Wa=(Fa-Zs)/26;if(ms(this.negative===0,"imaskn works only with positive numbers"),this.length<=Wa)return this;if(Zs!==0&&Wa++,this.length=Math.min(Wa,this.length),Zs!==0){var Za=67108863^67108863>>>Zs<<Zs;this.words[this.length-1]&=Za}return this._strip()},vs.prototype.maskn=function(Fa){return this.clone().imaskn(Fa)},vs.prototype.iaddn=function(Fa){return ms(typeof Fa=="number"),ms(Fa<67108864),Fa<0?this.isubn(-Fa):this.negative!==0?this.length===1&&(this.words[0]|0)<=Fa?(this.words[0]=Fa-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Fa),this.negative=1,this):this._iaddn(Fa)},vs.prototype._iaddn=function(Fa){this.words[0]+=Fa;for(var Zs=0;Zs<this.length&&this.words[Zs]>=67108864;Zs++)this.words[Zs]-=67108864,Zs===this.length-1?this.words[Zs+1]=1:this.words[Zs+1]++;return this.length=Math.max(this.length,Zs+1),this},vs.prototype.isubn=function(Fa){if(ms(typeof Fa=="number"),ms(Fa<67108864),Fa<0)return this.iaddn(-Fa);if(this.negative!==0)return this.negative=0,this.iaddn(Fa),this.negative=1,this;if(this.words[0]-=Fa,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Zs=0;Zs<this.length&&this.words[Zs]<0;Zs++)this.words[Zs]+=67108864,this.words[Zs+1]-=1;return this._strip()},vs.prototype.addn=function(Fa){return this.clone().iaddn(Fa)},vs.prototype.subn=function(Fa){return this.clone().isubn(Fa)},vs.prototype.iabs=function(){return this.negative=0,this},vs.prototype.abs=function(){return this.clone().iabs()},vs.prototype._ishlnsubmul=function(Fa,Zs,Wa){var Za=Fa.length+Wa,iu;this._expand(Za);var au,nu=0;for(iu=0;iu<Fa.length;iu++){au=(this.words[iu+Wa]|0)+nu;var uu=(Fa.words[iu]|0)*Zs;au-=uu&67108863,nu=(au>>26)-(uu/67108864|0),this.words[iu+Wa]=au&67108863}for(;iu<this.length-Wa;iu++)au=(this.words[iu+Wa]|0)+nu,nu=au>>26,this.words[iu+Wa]=au&67108863;if(nu===0)return this._strip();for(ms(nu===-1),nu=0,iu=0;iu<this.length;iu++)au=-(this.words[iu]|0)+nu,nu=au>>26,this.words[iu]=au&67108863;return this.negative=1,this._strip()},vs.prototype._wordDiv=function(Fa,Zs){var Wa=this.length-Fa.length,Za=this.clone(),iu=Fa,au=iu.words[iu.length-1]|0,nu=this._countBits(au);Wa=26-nu,Wa!==0&&(iu=iu.ushln(Wa),Za.iushln(Wa),au=iu.words[iu.length-1]|0);var uu=Za.length-iu.length,fu;if(Zs!=="mod"){fu=new vs(null),fu.length=uu+1,fu.words=new Array(fu.length);for(var hu=0;hu<fu.length;hu++)fu.words[hu]=0}var Eu=Za.clone()._ishlnsubmul(iu,1,uu);Eu.negative===0&&(Za=Eu,fu&&(fu.words[uu]=1));for(var $u=uu-1;$u>=0;$u--){var Ou=(Za.words[iu.length+$u]|0)*67108864+(Za.words[iu.length+$u-1]|0);for(Ou=Math.min(Ou/au|0,67108863),Za._ishlnsubmul(iu,Ou,$u);Za.negative!==0;)Ou--,Za.negative=0,Za._ishlnsubmul(iu,1,$u),Za.isZero()||(Za.negative^=1);fu&&(fu.words[$u]=Ou)}return fu&&fu._strip(),Za._strip(),Zs!=="div"&&Wa!==0&&Za.iushrn(Wa),{div:fu||null,mod:Za}},vs.prototype.divmod=function(Fa,Zs,Wa){if(ms(!Fa.isZero()),this.isZero())return{div:new vs(0),mod:new vs(0)};var Za,iu,au;return this.negative!==0&&Fa.negative===0?(au=this.neg().divmod(Fa,Zs),Zs!=="mod"&&(Za=au.div.neg()),Zs!=="div"&&(iu=au.mod.neg(),Wa&&iu.negative!==0&&iu.iadd(Fa)),{div:Za,mod:iu}):this.negative===0&&Fa.negative!==0?(au=this.divmod(Fa.neg(),Zs),Zs!=="mod"&&(Za=au.div.neg()),{div:Za,mod:au.mod}):(this.negative&Fa.negative)!==0?(au=this.neg().divmod(Fa.neg(),Zs),Zs!=="div"&&(iu=au.mod.neg(),Wa&&iu.negative!==0&&iu.isub(Fa)),{div:au.div,mod:iu}):Fa.length>this.length||this.cmp(Fa)<0?{div:new vs(0),mod:this}:Fa.length===1?Zs==="div"?{div:this.divn(Fa.words[0]),mod:null}:Zs==="mod"?{div:null,mod:new vs(this.modrn(Fa.words[0]))}:{div:this.divn(Fa.words[0]),mod:new vs(this.modrn(Fa.words[0]))}:this._wordDiv(Fa,Zs)},vs.prototype.div=function(Fa){return this.divmod(Fa,"div",!1).div},vs.prototype.mod=function(Fa){return this.divmod(Fa,"mod",!1).mod},vs.prototype.umod=function(Fa){return this.divmod(Fa,"mod",!0).mod},vs.prototype.divRound=function(Fa){var Zs=this.divmod(Fa);if(Zs.mod.isZero())return Zs.div;var Wa=Zs.div.negative!==0?Zs.mod.isub(Fa):Zs.mod,Za=Fa.ushrn(1),iu=Fa.andln(1),au=Wa.cmp(Za);return au<0||iu===1&&au===0?Zs.div:Zs.div.negative!==0?Zs.div.isubn(1):Zs.div.iaddn(1)},vs.prototype.modrn=function(Fa){var Zs=Fa<0;Zs&&(Fa=-Fa),ms(Fa<=67108863);for(var Wa=(1<<26)%Fa,Za=0,iu=this.length-1;iu>=0;iu--)Za=(Wa*Za+(this.words[iu]|0))%Fa;return Zs?-Za:Za},vs.prototype.modn=function(Fa){return this.modrn(Fa)},vs.prototype.idivn=function(Fa){var Zs=Fa<0;Zs&&(Fa=-Fa),ms(Fa<=67108863);for(var Wa=0,Za=this.length-1;Za>=0;Za--){var iu=(this.words[Za]|0)+Wa*67108864;this.words[Za]=iu/Fa|0,Wa=iu%Fa}return this._strip(),Zs?this.ineg():this},vs.prototype.divn=function(Fa){return this.clone().idivn(Fa)},vs.prototype.egcd=function(Fa){ms(Fa.negative===0),ms(!Fa.isZero());var Zs=this,Wa=Fa.clone();Zs.negative!==0?Zs=Zs.umod(Fa):Zs=Zs.clone();for(var Za=new vs(1),iu=new vs(0),au=new vs(0),nu=new vs(1),uu=0;Zs.isEven()&&Wa.isEven();)Zs.iushrn(1),Wa.iushrn(1),++uu;for(var fu=Wa.clone(),hu=Zs.clone();!Zs.isZero();){for(var Eu=0,$u=1;(Zs.words[0]&$u)===0&&Eu<26;++Eu,$u<<=1);if(Eu>0)for(Zs.iushrn(Eu);Eu-- >0;)(Za.isOdd()||iu.isOdd())&&(Za.iadd(fu),iu.isub(hu)),Za.iushrn(1),iu.iushrn(1);for(var Ou=0,gu=1;(Wa.words[0]&gu)===0&&Ou<26;++Ou,gu<<=1);if(Ou>0)for(Wa.iushrn(Ou);Ou-- >0;)(au.isOdd()||nu.isOdd())&&(au.iadd(fu),nu.isub(hu)),au.iushrn(1),nu.iushrn(1);Zs.cmp(Wa)>=0?(Zs.isub(Wa),Za.isub(au),iu.isub(nu)):(Wa.isub(Zs),au.isub(Za),nu.isub(iu))}return{a:au,b:nu,gcd:Wa.iushln(uu)}},vs.prototype._invmp=function(Fa){ms(Fa.negative===0),ms(!Fa.isZero());var Zs=this,Wa=Fa.clone();Zs.negative!==0?Zs=Zs.umod(Fa):Zs=Zs.clone();for(var Za=new vs(1),iu=new vs(0),au=Wa.clone();Zs.cmpn(1)>0&&Wa.cmpn(1)>0;){for(var nu=0,uu=1;(Zs.words[0]&uu)===0&&nu<26;++nu,uu<<=1);if(nu>0)for(Zs.iushrn(nu);nu-- >0;)Za.isOdd()&&Za.iadd(au),Za.iushrn(1);for(var fu=0,hu=1;(Wa.words[0]&hu)===0&&fu<26;++fu,hu<<=1);if(fu>0)for(Wa.iushrn(fu);fu-- >0;)iu.isOdd()&&iu.iadd(au),iu.iushrn(1);Zs.cmp(Wa)>=0?(Zs.isub(Wa),Za.isub(iu)):(Wa.isub(Zs),iu.isub(Za))}var Eu;return Zs.cmpn(1)===0?Eu=Za:Eu=iu,Eu.cmpn(0)<0&&Eu.iadd(Fa),Eu},vs.prototype.gcd=function(Fa){if(this.isZero())return Fa.abs();if(Fa.isZero())return this.abs();var Zs=this.clone(),Wa=Fa.clone();Zs.negative=0,Wa.negative=0;for(var Za=0;Zs.isEven()&&Wa.isEven();Za++)Zs.iushrn(1),Wa.iushrn(1);do{for(;Zs.isEven();)Zs.iushrn(1);for(;Wa.isEven();)Wa.iushrn(1);var iu=Zs.cmp(Wa);if(iu<0){var au=Zs;Zs=Wa,Wa=au}else if(iu===0||Wa.cmpn(1)===0)break;Zs.isub(Wa)}while(!0);return Wa.iushln(Za)},vs.prototype.invm=function(Fa){return this.egcd(Fa).a.umod(Fa)},vs.prototype.isEven=function(){return(this.words[0]&1)===0},vs.prototype.isOdd=function(){return(this.words[0]&1)===1},vs.prototype.andln=function(Fa){return this.words[0]&Fa},vs.prototype.bincn=function(Fa){ms(typeof Fa=="number");var Zs=Fa%26,Wa=(Fa-Zs)/26,Za=1<<Zs;if(this.length<=Wa)return this._expand(Wa+1),this.words[Wa]|=Za,this;for(var iu=Za,au=Wa;iu!==0&&au<this.length;au++){var nu=this.words[au]|0;nu+=iu,iu=nu>>>26,nu&=67108863,this.words[au]=nu}return iu!==0&&(this.words[au]=iu,this.length++),this},vs.prototype.isZero=function(){return this.length===1&&this.words[0]===0},vs.prototype.cmpn=function(Fa){var Zs=Fa<0;if(this.negative!==0&&!Zs)return-1;if(this.negative===0&&Zs)return 1;this._strip();var Wa;if(this.length>1)Wa=1;else{Zs&&(Fa=-Fa),ms(Fa<=67108863,"Number is too big");var Za=this.words[0]|0;Wa=Za===Fa?0:Za<Fa?-1:1}return this.negative!==0?-Wa|0:Wa},vs.prototype.cmp=function(Fa){if(this.negative!==0&&Fa.negative===0)return-1;if(this.negative===0&&Fa.negative!==0)return 1;var Zs=this.ucmp(Fa);return this.negative!==0?-Zs|0:Zs},vs.prototype.ucmp=function(Fa){if(this.length>Fa.length)return 1;if(this.length<Fa.length)return-1;for(var Zs=0,Wa=this.length-1;Wa>=0;Wa--){var Za=this.words[Wa]|0,iu=Fa.words[Wa]|0;if(Za!==iu){Za<iu?Zs=-1:Za>iu&&(Zs=1);break}}return Zs},vs.prototype.gtn=function(Fa){return this.cmpn(Fa)===1},vs.prototype.gt=function(Fa){return this.cmp(Fa)===1},vs.prototype.gten=function(Fa){return this.cmpn(Fa)>=0},vs.prototype.gte=function(Fa){return this.cmp(Fa)>=0},vs.prototype.ltn=function(Fa){return this.cmpn(Fa)===-1},vs.prototype.lt=function(Fa){return this.cmp(Fa)===-1},vs.prototype.lten=function(Fa){return this.cmpn(Fa)<=0},vs.prototype.lte=function(Fa){return this.cmp(Fa)<=0},vs.prototype.eqn=function(Fa){return this.cmpn(Fa)===0},vs.prototype.eq=function(Fa){return this.cmp(Fa)===0},vs.red=function(Fa){return new ou(Fa)},vs.prototype.toRed=function(Fa){return ms(!this.red,"Already a number in reduction context"),ms(this.negative===0,"red works only with positives"),Fa.convertTo(this)._forceRed(Fa)},vs.prototype.fromRed=function(){return ms(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},vs.prototype._forceRed=function(Fa){return this.red=Fa,this},vs.prototype.forceRed=function(Fa){return ms(!this.red,"Already a number in reduction context"),this._forceRed(Fa)},vs.prototype.redAdd=function(Fa){return ms(this.red,"redAdd works only with red numbers"),this.red.add(this,Fa)},vs.prototype.redIAdd=function(Fa){return ms(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Fa)},vs.prototype.redSub=function(Fa){return ms(this.red,"redSub works only with red numbers"),this.red.sub(this,Fa)},vs.prototype.redISub=function(Fa){return ms(this.red,"redISub works only with red numbers"),this.red.isub(this,Fa)},vs.prototype.redShl=function(Fa){return ms(this.red,"redShl works only with red numbers"),this.red.shl(this,Fa)},vs.prototype.redMul=function(Fa){return ms(this.red,"redMul works only with red numbers"),this.red._verify2(this,Fa),this.red.mul(this,Fa)},vs.prototype.redIMul=function(Fa){return ms(this.red,"redMul works only with red numbers"),this.red._verify2(this,Fa),this.red.imul(this,Fa)},vs.prototype.redSqr=function(){return ms(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},vs.prototype.redISqr=function(){return ms(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},vs.prototype.redSqrt=function(){return ms(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},vs.prototype.redInvm=function(){return ms(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},vs.prototype.redNeg=function(){return ms(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},vs.prototype.redPow=function(Fa){return ms(this.red&&!Fa.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Fa)};var Bc={k256:null,p224:null,p192:null,p25519:null};function Qa(Xa,Fa){this.name=Xa,this.p=new vs(Fa,16),this.n=this.p.bitLength(),this.k=new vs(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Qa.prototype._tmp=function(){var Fa=new vs(null);return Fa.words=new Array(Math.ceil(this.n/13)),Fa},Qa.prototype.ireduce=function(Fa){var Zs=Fa,Wa;do this.split(Zs,this.tmp),Zs=this.imulK(Zs),Zs=Zs.iadd(this.tmp),Wa=Zs.bitLength();while(Wa>this.n);var Za=Wa<this.n?-1:Zs.ucmp(this.p);return Za===0?(Zs.words[0]=0,Zs.length=1):Za>0?Zs.isub(this.p):Zs.strip!==void 0?Zs.strip():Zs._strip(),Zs},Qa.prototype.split=function(Fa,Zs){Fa.iushrn(this.n,0,Zs)},Qa.prototype.imulK=function(Fa){return Fa.imul(this.k)};function tu(){Qa.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ws(tu,Qa),tu.prototype.split=function(Fa,Zs){for(var Wa=4194303,Za=Math.min(Fa.length,9),iu=0;iu<Za;iu++)Zs.words[iu]=Fa.words[iu];if(Zs.length=Za,Fa.length<=9){Fa.words[0]=0,Fa.length=1;return}var au=Fa.words[9];for(Zs.words[Zs.length++]=au&Wa,iu=10;iu<Fa.length;iu++){var nu=Fa.words[iu]|0;Fa.words[iu-10]=(nu&Wa)<<4|au>>>22,au=nu}au>>>=22,Fa.words[iu-10]=au,au===0&&Fa.length>10?Fa.length-=10:Fa.length-=9},tu.prototype.imulK=function(Fa){Fa.words[Fa.length]=0,Fa.words[Fa.length+1]=0,Fa.length+=2;for(var Zs=0,Wa=0;Wa<Fa.length;Wa++){var Za=Fa.words[Wa]|0;Zs+=Za*977,Fa.words[Wa]=Zs&67108863,Zs=Za*64+(Zs/67108864|0)}return Fa.words[Fa.length-1]===0&&(Fa.length--,Fa.words[Fa.length-1]===0&&Fa.length--),Fa};function eu(){Qa.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ws(eu,Qa);function ru(){Qa.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ws(ru,Qa);function cu(){Qa.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ws(cu,Qa),cu.prototype.imulK=function(Fa){for(var Zs=0,Wa=0;Wa<Fa.length;Wa++){var Za=(Fa.words[Wa]|0)*19+Zs,iu=Za&67108863;Za>>>=26,Fa.words[Wa]=iu,Zs=Za}return Zs!==0&&(Fa.words[Fa.length++]=Zs),Fa},vs._prime=function(Fa){if(Bc[Fa])return Bc[Fa];var Zs;if(Fa==="k256")Zs=new tu;else if(Fa==="p224")Zs=new eu;else if(Fa==="p192")Zs=new ru;else if(Fa==="p25519")Zs=new cu;else throw new Error("Unknown prime "+Fa);return Bc[Fa]=Zs,Zs};function ou(Xa){if(typeof Xa=="string"){var Fa=vs._prime(Xa);this.m=Fa.p,this.prime=Fa}else ms(Xa.gtn(1),"modulus must be greater than 1"),this.m=Xa,this.prime=null}ou.prototype._verify1=function(Fa){ms(Fa.negative===0,"red works only with positives"),ms(Fa.red,"red works only with red numbers")},ou.prototype._verify2=function(Fa,Zs){ms((Fa.negative|Zs.negative)===0,"red works only with positives"),ms(Fa.red&&Fa.red===Zs.red,"red works only with red numbers")},ou.prototype.imod=function(Fa){return this.prime?this.prime.ireduce(Fa)._forceRed(this):(Rs(Fa,Fa.umod(this.m)._forceRed(this)),Fa)},ou.prototype.neg=function(Fa){return Fa.isZero()?Fa.clone():this.m.sub(Fa)._forceRed(this)},ou.prototype.add=function(Fa,Zs){this._verify2(Fa,Zs);var Wa=Fa.add(Zs);return Wa.cmp(this.m)>=0&&Wa.isub(this.m),Wa._forceRed(this)},ou.prototype.iadd=function(Fa,Zs){this._verify2(Fa,Zs);var Wa=Fa.iadd(Zs);return Wa.cmp(this.m)>=0&&Wa.isub(this.m),Wa},ou.prototype.sub=function(Fa,Zs){this._verify2(Fa,Zs);var Wa=Fa.sub(Zs);return Wa.cmpn(0)<0&&Wa.iadd(this.m),Wa._forceRed(this)},ou.prototype.isub=function(Fa,Zs){this._verify2(Fa,Zs);var Wa=Fa.isub(Zs);return Wa.cmpn(0)<0&&Wa.iadd(this.m),Wa},ou.prototype.shl=function(Fa,Zs){return this._verify1(Fa),this.imod(Fa.ushln(Zs))},ou.prototype.imul=function(Fa,Zs){return this._verify2(Fa,Zs),this.imod(Fa.imul(Zs))},ou.prototype.mul=function(Fa,Zs){return this._verify2(Fa,Zs),this.imod(Fa.mul(Zs))},ou.prototype.isqr=function(Fa){return this.imul(Fa,Fa.clone())},ou.prototype.sqr=function(Fa){return this.mul(Fa,Fa)},ou.prototype.sqrt=function(Fa){if(Fa.isZero())return Fa.clone();var Zs=this.m.andln(3);if(ms(Zs%2===1),Zs===3){var Wa=this.m.add(new vs(1)).iushrn(2);return this.pow(Fa,Wa)}for(var Za=this.m.subn(1),iu=0;!Za.isZero()&&Za.andln(1)===0;)iu++,Za.iushrn(1);ms(!Za.isZero());var au=new vs(1).toRed(this),nu=au.redNeg(),uu=this.m.subn(1).iushrn(1),fu=this.m.bitLength();for(fu=new vs(2*fu*fu).toRed(this);this.pow(fu,uu).cmp(nu)!==0;)fu.redIAdd(nu);for(var hu=this.pow(fu,Za),Eu=this.pow(Fa,Za.addn(1).iushrn(1)),$u=this.pow(Fa,Za),Ou=iu;$u.cmp(au)!==0;){for(var gu=$u,yu=0;gu.cmp(au)!==0;yu++)gu=gu.redSqr();ms(yu<Ou);var Tu=this.pow(hu,new vs(1).iushln(Ou-yu-1));Eu=Eu.redMul(Tu),hu=Tu.redSqr(),$u=$u.redMul(hu),Ou=yu}return Eu},ou.prototype.invm=function(Fa){var Zs=Fa._invmp(this.m);return Zs.negative!==0?(Zs.negative=0,this.imod(Zs).redNeg()):this.imod(Zs)},ou.prototype.pow=function(Fa,Zs){if(Zs.isZero())return new vs(1).toRed(this);if(Zs.cmpn(1)===0)return Fa.clone();var Wa=4,Za=new Array(1<<Wa);Za[0]=new vs(1).toRed(this),Za[1]=Fa;for(var iu=2;iu<Za.length;iu++)Za[iu]=this.mul(Za[iu-1],Fa);var au=Za[0],nu=0,uu=0,fu=Zs.bitLength()%26;for(fu===0&&(fu=26),iu=Zs.length-1;iu>=0;iu--){for(var hu=Zs.words[iu],Eu=fu-1;Eu>=0;Eu--){var $u=hu>>Eu&1;if(au!==Za[0]&&(au=this.sqr(au)),$u===0&&nu===0){uu=0;continue}nu<<=1,nu|=$u,uu++,!(uu!==Wa&&(iu!==0||Eu!==0))&&(au=this.mul(au,Za[nu]),uu=0,nu=0)}fu=26}return au},ou.prototype.convertTo=function(Fa){var Zs=Fa.umod(this.m);return Zs===Fa?Zs.clone():Zs},ou.prototype.convertFrom=function(Fa){var Zs=Fa.clone();return Zs.red=null,Zs},vs.mont=function(Fa){return new Ga(Fa)};function Ga(Xa){ou.call(this,Xa),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new vs(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ws(Ga,ou),Ga.prototype.convertTo=function(Fa){return this.imod(Fa.ushln(this.shift))},Ga.prototype.convertFrom=function(Fa){var Zs=this.imod(Fa.mul(this.rinv));return Zs.red=null,Zs},Ga.prototype.imul=function(Fa,Zs){if(Fa.isZero()||Zs.isZero())return Fa.words[0]=0,Fa.length=1,Fa;var Wa=Fa.imul(Zs),Za=Wa.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),iu=Wa.isub(Za).iushrn(this.shift),au=iu;return iu.cmp(this.m)>=0?au=iu.isub(this.m):iu.cmpn(0)<0&&(au=iu.iadd(this.m)),au._forceRed(this)},Ga.prototype.mul=function(Fa,Zs){if(Fa.isZero()||Zs.isZero())return new vs(0)._forceRed(this);var Wa=Fa.mul(Zs),Za=Wa.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),iu=Wa.isub(Za).iushrn(this.shift),au=iu;return iu.cmp(this.m)>=0?au=iu.isub(this.m):iu.cmpn(0)<0&&(au=iu.iadd(this.m)),au._forceRed(this)},Ga.prototype.invm=function(Fa){var Zs=this.imod(Fa._invmp(this.m).mul(this.r2));return Zs._forceRed(this)}})(st,bn$2)}(bn$3)),bn$3.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var st=requireBn(),t=requireBrowser$d(),et=requireSafeBuffer$1().Buffer;function ms(_s){var Es=_s.modulus.byteLength(),Ts;do Ts=new st(t(Es));while(Ts.cmp(_s.modulus)>=0||!Ts.umod(_s.prime1)||!Ts.umod(_s.prime2));return Ts}function ws(_s){var Es=ms(_s),Ts=Es.toRed(st.mont(_s.modulus)).redPow(new st(_s.publicExponent)).fromRed();return{blinder:Ts,unblinder:Es.invm(_s.modulus)}}function vs(_s,Es){var Ts=ws(Es),Ss=Es.modulus.byteLength(),Rs=new st(_s).mul(Ts.blinder).umod(Es.modulus),Bs=Rs.toRed(st.mont(Es.prime1)),Is=Rs.toRed(st.mont(Es.prime2)),Ws=Es.coefficient,Hs=Es.prime1,Ns=Es.prime2,Js=Bs.redPow(Es.exponent1).fromRed(),ha=Is.redPow(Es.exponent2).fromRed(),pa=Js.isub(ha).imul(Ws).umod(Hs).imul(Ns);return ha.iadd(pa).imul(Ts.unblinder).umod(Es.modulus).toArrayLike(et,"be",Ss)}return vs.getr=ms,browserifyRsa=vs,browserifyRsa}var elliptic={};const version$3="6.6.1",require$$0$2={version:version$3};var utils$6={},utils$5={},hasRequiredUtils$7;function requireUtils$7(){return hasRequiredUtils$7||(hasRequiredUtils$7=1,function(st){var t=st;function et(vs,_s){if(Array.isArray(vs))return vs.slice();if(!vs)return[];var Es=[];if(typeof vs!="string"){for(var Ts=0;Ts<vs.length;Ts++)Es[Ts]=vs[Ts]|0;return Es}if(_s==="hex"){vs=vs.replace(/[^a-z0-9]+/ig,""),vs.length%2!==0&&(vs="0"+vs);for(var Ts=0;Ts<vs.length;Ts+=2)Es.push(parseInt(vs[Ts]+vs[Ts+1],16))}else for(var Ts=0;Ts<vs.length;Ts++){var Ss=vs.charCodeAt(Ts),Rs=Ss>>8,Bs=Ss&255;Rs?Es.push(Rs,Bs):Es.push(Bs)}return Es}t.toArray=et;function ms(vs){return vs.length===1?"0"+vs:vs}t.zero2=ms;function ws(vs){for(var _s="",Es=0;Es<vs.length;Es++)_s+=ms(vs[Es].toString(16));return _s}t.toHex=ws,t.encode=function(_s,Es){return Es==="hex"?ws(_s):_s}}(utils$5)),utils$5}var hasRequiredUtils$6;function requireUtils$6(){return hasRequiredUtils$6||(hasRequiredUtils$6=1,function(st){var t=st,et=requireBn$1(),ms=requireMinimalisticAssert(),ws=requireUtils$7();t.assert=ms,t.toArray=ws.toArray,t.zero2=ws.zero2,t.toHex=ws.toHex,t.encode=ws.encode;function vs(Rs,Bs,Is){var Ws=new Array(Math.max(Rs.bitLength(),Is)+1),Hs;for(Hs=0;Hs<Ws.length;Hs+=1)Ws[Hs]=0;var Ns=1<<Bs+1,Js=Rs.clone();for(Hs=0;Hs<Ws.length;Hs++){var ha,pa=Js.andln(Ns-1);Js.isOdd()?(pa>(Ns>>1)-1?ha=(Ns>>1)-pa:ha=pa,Js.isubn(ha)):ha=0,Ws[Hs]=ha,Js.iushrn(1)}return Ws}t.getNAF=vs;function _s(Rs,Bs){var Is=[[],[]];Rs=Rs.clone(),Bs=Bs.clone();for(var Ws=0,Hs=0,Ns;Rs.cmpn(-Ws)>0||Bs.cmpn(-Hs)>0;){var Js=Rs.andln(3)+Ws&3,ha=Bs.andln(3)+Hs&3;Js===3&&(Js=-1),ha===3&&(ha=-1);var pa;(Js&1)===0?pa=0:(Ns=Rs.andln(7)+Ws&7,(Ns===3||Ns===5)&&ha===2?pa=-Js:pa=Js),Is[0].push(pa);var za;(ha&1)===0?za=0:(Ns=Bs.andln(7)+Hs&7,(Ns===3||Ns===5)&&Js===2?za=-ha:za=ha),Is[1].push(za),2*Ws===pa+1&&(Ws=1-Ws),2*Hs===za+1&&(Hs=1-Hs),Rs.iushrn(1),Bs.iushrn(1)}return Is}t.getJSF=_s;function Es(Rs,Bs,Is){var Ws="_"+Bs;Rs.prototype[Bs]=function(){return this[Ws]!==void 0?this[Ws]:this[Ws]=Is.call(this)}}t.cachedProperty=Es;function Ts(Rs){return typeof Rs=="string"?t.toArray(Rs,"hex"):Rs}t.parseBytes=Ts;function Ss(Rs){return new et(Rs,"hex","le")}t.intFromLE=Ss}(utils$6)),utils$6}var curve={},base$3,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$3;hasRequiredBase$1=1;var st=requireBn$1(),t=requireUtils$6(),et=t.getNAF,ms=t.getJSF,ws=t.assert;function vs(Es,Ts){this.type=Es,this.p=new st(Ts.p,16),this.red=Ts.prime?st.red(Ts.prime):st.mont(this.p),this.zero=new st(0).toRed(this.red),this.one=new st(1).toRed(this.red),this.two=new st(2).toRed(this.red),this.n=Ts.n&&new st(Ts.n,16),this.g=Ts.g&&this.pointFromJSON(Ts.g,Ts.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Ss=this.n&&this.p.div(this.n);!Ss||Ss.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$3=vs,vs.prototype.point=function(){throw new Error("Not implemented")},vs.prototype.validate=function(){throw new Error("Not implemented")},vs.prototype._fixedNafMul=function(Ts,Ss){ws(Ts.precomputed);var Rs=Ts._getDoubles(),Bs=et(Ss,1,this._bitLength),Is=(1<<Rs.step+1)-(Rs.step%2===0?2:1);Is/=3;var Ws=[],Hs,Ns;for(Hs=0;Hs<Bs.length;Hs+=Rs.step){Ns=0;for(var Js=Hs+Rs.step-1;Js>=Hs;Js--)Ns=(Ns<<1)+Bs[Js];Ws.push(Ns)}for(var ha=this.jpoint(null,null,null),pa=this.jpoint(null,null,null),za=Is;za>0;za--){for(Hs=0;Hs<Ws.length;Hs++)Ns=Ws[Hs],Ns===za?pa=pa.mixedAdd(Rs.points[Hs]):Ns===-za&&(pa=pa.mixedAdd(Rs.points[Hs].neg()));ha=ha.add(pa)}return ha.toP()},vs.prototype._wnafMul=function(Ts,Ss){var Rs=4,Bs=Ts._getNAFPoints(Rs);Rs=Bs.wnd;for(var Is=Bs.points,Ws=et(Ss,Rs,this._bitLength),Hs=this.jpoint(null,null,null),Ns=Ws.length-1;Ns>=0;Ns--){for(var Js=0;Ns>=0&&Ws[Ns]===0;Ns--)Js++;if(Ns>=0&&Js++,Hs=Hs.dblp(Js),Ns<0)break;var ha=Ws[Ns];ws(ha!==0),Ts.type==="affine"?ha>0?Hs=Hs.mixedAdd(Is[ha-1>>1]):Hs=Hs.mixedAdd(Is[-ha-1>>1].neg()):ha>0?Hs=Hs.add(Is[ha-1>>1]):Hs=Hs.add(Is[-ha-1>>1].neg())}return Ts.type==="affine"?Hs.toP():Hs},vs.prototype._wnafMulAdd=function(Ts,Ss,Rs,Bs,Is){var Ws=this._wnafT1,Hs=this._wnafT2,Ns=this._wnafT3,Js=0,ha,pa,za;for(ha=0;ha<Bs;ha++){za=Ss[ha];var Ya=za._getNAFPoints(Ts);Ws[ha]=Ya.wnd,Hs[ha]=Ya.points}for(ha=Bs-1;ha>=1;ha-=2){var Bc=ha-1,Qa=ha;if(Ws[Bc]!==1||Ws[Qa]!==1){Ns[Bc]=et(Rs[Bc],Ws[Bc],this._bitLength),Ns[Qa]=et(Rs[Qa],Ws[Qa],this._bitLength),Js=Math.max(Ns[Bc].length,Js),Js=Math.max(Ns[Qa].length,Js);continue}var tu=[Ss[Bc],null,null,Ss[Qa]];Ss[Bc].y.cmp(Ss[Qa].y)===0?(tu[1]=Ss[Bc].add(Ss[Qa]),tu[2]=Ss[Bc].toJ().mixedAdd(Ss[Qa].neg())):Ss[Bc].y.cmp(Ss[Qa].y.redNeg())===0?(tu[1]=Ss[Bc].toJ().mixedAdd(Ss[Qa]),tu[2]=Ss[Bc].add(Ss[Qa].neg())):(tu[1]=Ss[Bc].toJ().mixedAdd(Ss[Qa]),tu[2]=Ss[Bc].toJ().mixedAdd(Ss[Qa].neg()));var eu=[-3,-1,-5,-7,0,7,5,1,3],ru=ms(Rs[Bc],Rs[Qa]);for(Js=Math.max(ru[0].length,Js),Ns[Bc]=new Array(Js),Ns[Qa]=new Array(Js),pa=0;pa<Js;pa++){var cu=ru[0][pa]|0,ou=ru[1][pa]|0;Ns[Bc][pa]=eu[(cu+1)*3+(ou+1)],Ns[Qa][pa]=0,Hs[Bc]=tu}}var Ga=this.jpoint(null,null,null),Xa=this._wnafT4;for(ha=Js;ha>=0;ha--){for(var Fa=0;ha>=0;){var Zs=!0;for(pa=0;pa<Bs;pa++)Xa[pa]=Ns[pa][ha]|0,Xa[pa]!==0&&(Zs=!1);if(!Zs)break;Fa++,ha--}if(ha>=0&&Fa++,Ga=Ga.dblp(Fa),ha<0)break;for(pa=0;pa<Bs;pa++){var Wa=Xa[pa];Wa!==0&&(Wa>0?za=Hs[pa][Wa-1>>1]:Wa<0&&(za=Hs[pa][-Wa-1>>1].neg()),za.type==="affine"?Ga=Ga.mixedAdd(za):Ga=Ga.add(za))}}for(ha=0;ha<Bs;ha++)Hs[ha]=null;return Is?Ga:Ga.toP()};function _s(Es,Ts){this.curve=Es,this.type=Ts,this.precomputed=null}return vs.BasePoint=_s,_s.prototype.eq=function(){throw new Error("Not implemented")},_s.prototype.validate=function(){return this.curve.validate(this)},vs.prototype.decodePoint=function(Ts,Ss){Ts=t.toArray(Ts,Ss);var Rs=this.p.byteLength();if((Ts[0]===4||Ts[0]===6||Ts[0]===7)&&Ts.length-1===2*Rs){Ts[0]===6?ws(Ts[Ts.length-1]%2===0):Ts[0]===7&&ws(Ts[Ts.length-1]%2===1);var Bs=this.point(Ts.slice(1,1+Rs),Ts.slice(1+Rs,1+2*Rs));return Bs}else if((Ts[0]===2||Ts[0]===3)&&Ts.length-1===Rs)return this.pointFromX(Ts.slice(1,1+Rs),Ts[0]===3);throw new Error("Unknown point format")},_s.prototype.encodeCompressed=function(Ts){return this.encode(Ts,!0)},_s.prototype._encode=function(Ts){var Ss=this.curve.p.byteLength(),Rs=this.getX().toArray("be",Ss);return Ts?[this.getY().isEven()?2:3].concat(Rs):[4].concat(Rs,this.getY().toArray("be",Ss))},_s.prototype.encode=function(Ts,Ss){return t.encode(this._encode(Ss),Ts)},_s.prototype.precompute=function(Ts){if(this.precomputed)return this;var Ss={doubles:null,naf:null,beta:null};return Ss.naf=this._getNAFPoints(8),Ss.doubles=this._getDoubles(4,Ts),Ss.beta=this._getBeta(),this.precomputed=Ss,this},_s.prototype._hasDoubles=function(Ts){if(!this.precomputed)return!1;var Ss=this.precomputed.doubles;return Ss?Ss.points.length>=Math.ceil((Ts.bitLength()+1)/Ss.step):!1},_s.prototype._getDoubles=function(Ts,Ss){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Rs=[this],Bs=this,Is=0;Is<Ss;Is+=Ts){for(var Ws=0;Ws<Ts;Ws++)Bs=Bs.dbl();Rs.push(Bs)}return{step:Ts,points:Rs}},_s.prototype._getNAFPoints=function(Ts){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Ss=[this],Rs=(1<<Ts)-1,Bs=Rs===1?null:this.dbl(),Is=1;Is<Rs;Is++)Ss[Is]=Ss[Is-1].add(Bs);return{wnd:Ts,points:Ss}},_s.prototype._getBeta=function(){return null},_s.prototype.dblp=function(Ts){for(var Ss=this,Rs=0;Rs<Ts;Rs++)Ss=Ss.dbl();return Ss},base$3}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var st=requireUtils$6(),t=requireBn$1(),et=requireInherits_browser(),ms=requireBase$1(),ws=st.assert;function vs(Ts){ms.call(this,"short",Ts),this.a=new t(Ts.a,16).toRed(this.red),this.b=new t(Ts.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Ts),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}et(vs,ms),short=vs,vs.prototype._getEndomorphism=function(Ss){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Rs,Bs;if(Ss.beta)Rs=new t(Ss.beta,16).toRed(this.red);else{var Is=this._getEndoRoots(this.p);Rs=Is[0].cmp(Is[1])<0?Is[0]:Is[1],Rs=Rs.toRed(this.red)}if(Ss.lambda)Bs=new t(Ss.lambda,16);else{var Ws=this._getEndoRoots(this.n);this.g.mul(Ws[0]).x.cmp(this.g.x.redMul(Rs))===0?Bs=Ws[0]:(Bs=Ws[1],ws(this.g.mul(Bs).x.cmp(this.g.x.redMul(Rs))===0))}var Hs;return Ss.basis?Hs=Ss.basis.map(function(Ns){return{a:new t(Ns.a,16),b:new t(Ns.b,16)}}):Hs=this._getEndoBasis(Bs),{beta:Rs,lambda:Bs,basis:Hs}}},vs.prototype._getEndoRoots=function(Ss){var Rs=Ss===this.p?this.red:t.mont(Ss),Bs=new t(2).toRed(Rs).redInvm(),Is=Bs.redNeg(),Ws=new t(3).toRed(Rs).redNeg().redSqrt().redMul(Bs),Hs=Is.redAdd(Ws).fromRed(),Ns=Is.redSub(Ws).fromRed();return[Hs,Ns]},vs.prototype._getEndoBasis=function(Ss){for(var Rs=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Bs=Ss,Is=this.n.clone(),Ws=new t(1),Hs=new t(0),Ns=new t(0),Js=new t(1),ha,pa,za,Ya,Bc,Qa,tu,eu=0,ru,cu;Bs.cmpn(0)!==0;){var ou=Is.div(Bs);ru=Is.sub(ou.mul(Bs)),cu=Ns.sub(ou.mul(Ws));var Ga=Js.sub(ou.mul(Hs));if(!za&&ru.cmp(Rs)<0)ha=tu.neg(),pa=Ws,za=ru.neg(),Ya=cu;else if(za&&++eu===2)break;tu=ru,Is=Bs,Bs=ru,Ns=Ws,Ws=cu,Js=Hs,Hs=Ga}Bc=ru.neg(),Qa=cu;var Xa=za.sqr().add(Ya.sqr()),Fa=Bc.sqr().add(Qa.sqr());return Fa.cmp(Xa)>=0&&(Bc=ha,Qa=pa),za.negative&&(za=za.neg(),Ya=Ya.neg()),Bc.negative&&(Bc=Bc.neg(),Qa=Qa.neg()),[{a:za,b:Ya},{a:Bc,b:Qa}]},vs.prototype._endoSplit=function(Ss){var Rs=this.endo.basis,Bs=Rs[0],Is=Rs[1],Ws=Is.b.mul(Ss).divRound(this.n),Hs=Bs.b.neg().mul(Ss).divRound(this.n),Ns=Ws.mul(Bs.a),Js=Hs.mul(Is.a),ha=Ws.mul(Bs.b),pa=Hs.mul(Is.b),za=Ss.sub(Ns).sub(Js),Ya=ha.add(pa).neg();return{k1:za,k2:Ya}},vs.prototype.pointFromX=function(Ss,Rs){Ss=new t(Ss,16),Ss.red||(Ss=Ss.toRed(this.red));var Bs=Ss.redSqr().redMul(Ss).redIAdd(Ss.redMul(this.a)).redIAdd(this.b),Is=Bs.redSqrt();if(Is.redSqr().redSub(Bs).cmp(this.zero)!==0)throw new Error("invalid point");var Ws=Is.fromRed().isOdd();return(Rs&&!Ws||!Rs&&Ws)&&(Is=Is.redNeg()),this.point(Ss,Is)},vs.prototype.validate=function(Ss){if(Ss.inf)return!0;var Rs=Ss.x,Bs=Ss.y,Is=this.a.redMul(Rs),Ws=Rs.redSqr().redMul(Rs).redIAdd(Is).redIAdd(this.b);return Bs.redSqr().redISub(Ws).cmpn(0)===0},vs.prototype._endoWnafMulAdd=function(Ss,Rs,Bs){for(var Is=this._endoWnafT1,Ws=this._endoWnafT2,Hs=0;Hs<Ss.length;Hs++){var Ns=this._endoSplit(Rs[Hs]),Js=Ss[Hs],ha=Js._getBeta();Ns.k1.negative&&(Ns.k1.ineg(),Js=Js.neg(!0)),Ns.k2.negative&&(Ns.k2.ineg(),ha=ha.neg(!0)),Is[Hs*2]=Js,Is[Hs*2+1]=ha,Ws[Hs*2]=Ns.k1,Ws[Hs*2+1]=Ns.k2}for(var pa=this._wnafMulAdd(1,Is,Ws,Hs*2,Bs),za=0;za<Hs*2;za++)Is[za]=null,Ws[za]=null;return pa};function _s(Ts,Ss,Rs,Bs){ms.BasePoint.call(this,Ts,"affine"),Ss===null&&Rs===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(Ss,16),this.y=new t(Rs,16),Bs&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}et(_s,ms.BasePoint),vs.prototype.point=function(Ss,Rs,Bs){return new _s(this,Ss,Rs,Bs)},vs.prototype.pointFromJSON=function(Ss,Rs){return _s.fromJSON(this,Ss,Rs)},_s.prototype._getBeta=function(){if(this.curve.endo){var Ss=this.precomputed;if(Ss&&Ss.beta)return Ss.beta;var Rs=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Ss){var Bs=this.curve,Is=function(Ws){return Bs.point(Ws.x.redMul(Bs.endo.beta),Ws.y)};Ss.beta=Rs,Rs.precomputed={beta:null,naf:Ss.naf&&{wnd:Ss.naf.wnd,points:Ss.naf.points.map(Is)},doubles:Ss.doubles&&{step:Ss.doubles.step,points:Ss.doubles.points.map(Is)}}}return Rs}},_s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},_s.fromJSON=function(Ss,Rs,Bs){typeof Rs=="string"&&(Rs=JSON.parse(Rs));var Is=Ss.point(Rs[0],Rs[1],Bs);if(!Rs[2])return Is;function Ws(Ns){return Ss.point(Ns[0],Ns[1],Bs)}var Hs=Rs[2];return Is.precomputed={beta:null,doubles:Hs.doubles&&{step:Hs.doubles.step,points:[Is].concat(Hs.doubles.points.map(Ws))},naf:Hs.naf&&{wnd:Hs.naf.wnd,points:[Is].concat(Hs.naf.points.map(Ws))}},Is},_s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},_s.prototype.isInfinity=function(){return this.inf},_s.prototype.add=function(Ss){if(this.inf)return Ss;if(Ss.inf)return this;if(this.eq(Ss))return this.dbl();if(this.neg().eq(Ss))return this.curve.point(null,null);if(this.x.cmp(Ss.x)===0)return this.curve.point(null,null);var Rs=this.y.redSub(Ss.y);Rs.cmpn(0)!==0&&(Rs=Rs.redMul(this.x.redSub(Ss.x).redInvm()));var Bs=Rs.redSqr().redISub(this.x).redISub(Ss.x),Is=Rs.redMul(this.x.redSub(Bs)).redISub(this.y);return this.curve.point(Bs,Is)},_s.prototype.dbl=function(){if(this.inf)return this;var Ss=this.y.redAdd(this.y);if(Ss.cmpn(0)===0)return this.curve.point(null,null);var Rs=this.curve.a,Bs=this.x.redSqr(),Is=Ss.redInvm(),Ws=Bs.redAdd(Bs).redIAdd(Bs).redIAdd(Rs).redMul(Is),Hs=Ws.redSqr().redISub(this.x.redAdd(this.x)),Ns=Ws.redMul(this.x.redSub(Hs)).redISub(this.y);return this.curve.point(Hs,Ns)},_s.prototype.getX=function(){return this.x.fromRed()},_s.prototype.getY=function(){return this.y.fromRed()},_s.prototype.mul=function(Ss){return Ss=new t(Ss,16),this.isInfinity()?this:this._hasDoubles(Ss)?this.curve._fixedNafMul(this,Ss):this.curve.endo?this.curve._endoWnafMulAdd([this],[Ss]):this.curve._wnafMul(this,Ss)},_s.prototype.mulAdd=function(Ss,Rs,Bs){var Is=[this,Rs],Ws=[Ss,Bs];return this.curve.endo?this.curve._endoWnafMulAdd(Is,Ws):this.curve._wnafMulAdd(1,Is,Ws,2)},_s.prototype.jmulAdd=function(Ss,Rs,Bs){var Is=[this,Rs],Ws=[Ss,Bs];return this.curve.endo?this.curve._endoWnafMulAdd(Is,Ws,!0):this.curve._wnafMulAdd(1,Is,Ws,2,!0)},_s.prototype.eq=function(Ss){return this===Ss||this.inf===Ss.inf&&(this.inf||this.x.cmp(Ss.x)===0&&this.y.cmp(Ss.y)===0)},_s.prototype.neg=function(Ss){if(this.inf)return this;var Rs=this.curve.point(this.x,this.y.redNeg());if(Ss&&this.precomputed){var Bs=this.precomputed,Is=function(Ws){return Ws.neg()};Rs.precomputed={naf:Bs.naf&&{wnd:Bs.naf.wnd,points:Bs.naf.points.map(Is)},doubles:Bs.doubles&&{step:Bs.doubles.step,points:Bs.doubles.points.map(Is)}}}return Rs},_s.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Ss=this.curve.jpoint(this.x,this.y,this.curve.one);return Ss};function Es(Ts,Ss,Rs,Bs){ms.BasePoint.call(this,Ts,"jacobian"),Ss===null&&Rs===null&&Bs===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(Ss,16),this.y=new t(Rs,16),this.z=new t(Bs,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return et(Es,ms.BasePoint),vs.prototype.jpoint=function(Ss,Rs,Bs){return new Es(this,Ss,Rs,Bs)},Es.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Ss=this.z.redInvm(),Rs=Ss.redSqr(),Bs=this.x.redMul(Rs),Is=this.y.redMul(Rs).redMul(Ss);return this.curve.point(Bs,Is)},Es.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Es.prototype.add=function(Ss){if(this.isInfinity())return Ss;if(Ss.isInfinity())return this;var Rs=Ss.z.redSqr(),Bs=this.z.redSqr(),Is=this.x.redMul(Rs),Ws=Ss.x.redMul(Bs),Hs=this.y.redMul(Rs.redMul(Ss.z)),Ns=Ss.y.redMul(Bs.redMul(this.z)),Js=Is.redSub(Ws),ha=Hs.redSub(Ns);if(Js.cmpn(0)===0)return ha.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var pa=Js.redSqr(),za=pa.redMul(Js),Ya=Is.redMul(pa),Bc=ha.redSqr().redIAdd(za).redISub(Ya).redISub(Ya),Qa=ha.redMul(Ya.redISub(Bc)).redISub(Hs.redMul(za)),tu=this.z.redMul(Ss.z).redMul(Js);return this.curve.jpoint(Bc,Qa,tu)},Es.prototype.mixedAdd=function(Ss){if(this.isInfinity())return Ss.toJ();if(Ss.isInfinity())return this;var Rs=this.z.redSqr(),Bs=this.x,Is=Ss.x.redMul(Rs),Ws=this.y,Hs=Ss.y.redMul(Rs).redMul(this.z),Ns=Bs.redSub(Is),Js=Ws.redSub(Hs);if(Ns.cmpn(0)===0)return Js.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ha=Ns.redSqr(),pa=ha.redMul(Ns),za=Bs.redMul(ha),Ya=Js.redSqr().redIAdd(pa).redISub(za).redISub(za),Bc=Js.redMul(za.redISub(Ya)).redISub(Ws.redMul(pa)),Qa=this.z.redMul(Ns);return this.curve.jpoint(Ya,Bc,Qa)},Es.prototype.dblp=function(Ss){if(Ss===0)return this;if(this.isInfinity())return this;if(!Ss)return this.dbl();var Rs;if(this.curve.zeroA||this.curve.threeA){var Bs=this;for(Rs=0;Rs<Ss;Rs++)Bs=Bs.dbl();return Bs}var Is=this.curve.a,Ws=this.curve.tinv,Hs=this.x,Ns=this.y,Js=this.z,ha=Js.redSqr().redSqr(),pa=Ns.redAdd(Ns);for(Rs=0;Rs<Ss;Rs++){var za=Hs.redSqr(),Ya=pa.redSqr(),Bc=Ya.redSqr(),Qa=za.redAdd(za).redIAdd(za).redIAdd(Is.redMul(ha)),tu=Hs.redMul(Ya),eu=Qa.redSqr().redISub(tu.redAdd(tu)),ru=tu.redISub(eu),cu=Qa.redMul(ru);cu=cu.redIAdd(cu).redISub(Bc);var ou=pa.redMul(Js);Rs+1<Ss&&(ha=ha.redMul(Bc)),Hs=eu,Js=ou,pa=cu}return this.curve.jpoint(Hs,pa.redMul(Ws),Js)},Es.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Es.prototype._zeroDbl=function(){var Ss,Rs,Bs;if(this.zOne){var Is=this.x.redSqr(),Ws=this.y.redSqr(),Hs=Ws.redSqr(),Ns=this.x.redAdd(Ws).redSqr().redISub(Is).redISub(Hs);Ns=Ns.redIAdd(Ns);var Js=Is.redAdd(Is).redIAdd(Is),ha=Js.redSqr().redISub(Ns).redISub(Ns),pa=Hs.redIAdd(Hs);pa=pa.redIAdd(pa),pa=pa.redIAdd(pa),Ss=ha,Rs=Js.redMul(Ns.redISub(ha)).redISub(pa),Bs=this.y.redAdd(this.y)}else{var za=this.x.redSqr(),Ya=this.y.redSqr(),Bc=Ya.redSqr(),Qa=this.x.redAdd(Ya).redSqr().redISub(za).redISub(Bc);Qa=Qa.redIAdd(Qa);var tu=za.redAdd(za).redIAdd(za),eu=tu.redSqr(),ru=Bc.redIAdd(Bc);ru=ru.redIAdd(ru),ru=ru.redIAdd(ru),Ss=eu.redISub(Qa).redISub(Qa),Rs=tu.redMul(Qa.redISub(Ss)).redISub(ru),Bs=this.y.redMul(this.z),Bs=Bs.redIAdd(Bs)}return this.curve.jpoint(Ss,Rs,Bs)},Es.prototype._threeDbl=function(){var Ss,Rs,Bs;if(this.zOne){var Is=this.x.redSqr(),Ws=this.y.redSqr(),Hs=Ws.redSqr(),Ns=this.x.redAdd(Ws).redSqr().redISub(Is).redISub(Hs);Ns=Ns.redIAdd(Ns);var Js=Is.redAdd(Is).redIAdd(Is).redIAdd(this.curve.a),ha=Js.redSqr().redISub(Ns).redISub(Ns);Ss=ha;var pa=Hs.redIAdd(Hs);pa=pa.redIAdd(pa),pa=pa.redIAdd(pa),Rs=Js.redMul(Ns.redISub(ha)).redISub(pa),Bs=this.y.redAdd(this.y)}else{var za=this.z.redSqr(),Ya=this.y.redSqr(),Bc=this.x.redMul(Ya),Qa=this.x.redSub(za).redMul(this.x.redAdd(za));Qa=Qa.redAdd(Qa).redIAdd(Qa);var tu=Bc.redIAdd(Bc);tu=tu.redIAdd(tu);var eu=tu.redAdd(tu);Ss=Qa.redSqr().redISub(eu),Bs=this.y.redAdd(this.z).redSqr().redISub(Ya).redISub(za);var ru=Ya.redSqr();ru=ru.redIAdd(ru),ru=ru.redIAdd(ru),ru=ru.redIAdd(ru),Rs=Qa.redMul(tu.redISub(Ss)).redISub(ru)}return this.curve.jpoint(Ss,Rs,Bs)},Es.prototype._dbl=function(){var Ss=this.curve.a,Rs=this.x,Bs=this.y,Is=this.z,Ws=Is.redSqr().redSqr(),Hs=Rs.redSqr(),Ns=Bs.redSqr(),Js=Hs.redAdd(Hs).redIAdd(Hs).redIAdd(Ss.redMul(Ws)),ha=Rs.redAdd(Rs);ha=ha.redIAdd(ha);var pa=ha.redMul(Ns),za=Js.redSqr().redISub(pa.redAdd(pa)),Ya=pa.redISub(za),Bc=Ns.redSqr();Bc=Bc.redIAdd(Bc),Bc=Bc.redIAdd(Bc),Bc=Bc.redIAdd(Bc);var Qa=Js.redMul(Ya).redISub(Bc),tu=Bs.redAdd(Bs).redMul(Is);return this.curve.jpoint(za,Qa,tu)},Es.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Ss=this.x.redSqr(),Rs=this.y.redSqr(),Bs=this.z.redSqr(),Is=Rs.redSqr(),Ws=Ss.redAdd(Ss).redIAdd(Ss),Hs=Ws.redSqr(),Ns=this.x.redAdd(Rs).redSqr().redISub(Ss).redISub(Is);Ns=Ns.redIAdd(Ns),Ns=Ns.redAdd(Ns).redIAdd(Ns),Ns=Ns.redISub(Hs);var Js=Ns.redSqr(),ha=Is.redIAdd(Is);ha=ha.redIAdd(ha),ha=ha.redIAdd(ha),ha=ha.redIAdd(ha);var pa=Ws.redIAdd(Ns).redSqr().redISub(Hs).redISub(Js).redISub(ha),za=Rs.redMul(pa);za=za.redIAdd(za),za=za.redIAdd(za);var Ya=this.x.redMul(Js).redISub(za);Ya=Ya.redIAdd(Ya),Ya=Ya.redIAdd(Ya);var Bc=this.y.redMul(pa.redMul(ha.redISub(pa)).redISub(Ns.redMul(Js)));Bc=Bc.redIAdd(Bc),Bc=Bc.redIAdd(Bc),Bc=Bc.redIAdd(Bc);var Qa=this.z.redAdd(Ns).redSqr().redISub(Bs).redISub(Js);return this.curve.jpoint(Ya,Bc,Qa)},Es.prototype.mul=function(Ss,Rs){return Ss=new t(Ss,Rs),this.curve._wnafMul(this,Ss)},Es.prototype.eq=function(Ss){if(Ss.type==="affine")return this.eq(Ss.toJ());if(this===Ss)return!0;var Rs=this.z.redSqr(),Bs=Ss.z.redSqr();if(this.x.redMul(Bs).redISub(Ss.x.redMul(Rs)).cmpn(0)!==0)return!1;var Is=Rs.redMul(this.z),Ws=Bs.redMul(Ss.z);return this.y.redMul(Ws).redISub(Ss.y.redMul(Is)).cmpn(0)===0},Es.prototype.eqXToP=function(Ss){var Rs=this.z.redSqr(),Bs=Ss.toRed(this.curve.red).redMul(Rs);if(this.x.cmp(Bs)===0)return!0;for(var Is=Ss.clone(),Ws=this.curve.redN.redMul(Rs);;){if(Is.iadd(this.curve.n),Is.cmp(this.curve.p)>=0)return!1;if(Bs.redIAdd(Ws),this.x.cmp(Bs)===0)return!0}},Es.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Es.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var st=requireBn$1(),t=requireInherits_browser(),et=requireBase$1(),ms=requireUtils$6();function ws(_s){et.call(this,"mont",_s),this.a=new st(_s.a,16).toRed(this.red),this.b=new st(_s.b,16).toRed(this.red),this.i4=new st(4).toRed(this.red).redInvm(),this.two=new st(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(ws,et),mont=ws,ws.prototype.validate=function(Es){var Ts=Es.normalize().x,Ss=Ts.redSqr(),Rs=Ss.redMul(Ts).redAdd(Ss.redMul(this.a)).redAdd(Ts),Bs=Rs.redSqrt();return Bs.redSqr().cmp(Rs)===0};function vs(_s,Es,Ts){et.BasePoint.call(this,_s,"projective"),Es===null&&Ts===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new st(Es,16),this.z=new st(Ts,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(vs,et.BasePoint),ws.prototype.decodePoint=function(Es,Ts){return this.point(ms.toArray(Es,Ts),1)},ws.prototype.point=function(Es,Ts){return new vs(this,Es,Ts)},ws.prototype.pointFromJSON=function(Es){return vs.fromJSON(this,Es)},vs.prototype.precompute=function(){},vs.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},vs.fromJSON=function(Es,Ts){return new vs(Es,Ts[0],Ts[1]||Es.one)},vs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},vs.prototype.isInfinity=function(){return this.z.cmpn(0)===0},vs.prototype.dbl=function(){var Es=this.x.redAdd(this.z),Ts=Es.redSqr(),Ss=this.x.redSub(this.z),Rs=Ss.redSqr(),Bs=Ts.redSub(Rs),Is=Ts.redMul(Rs),Ws=Bs.redMul(Rs.redAdd(this.curve.a24.redMul(Bs)));return this.curve.point(Is,Ws)},vs.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},vs.prototype.diffAdd=function(Es,Ts){var Ss=this.x.redAdd(this.z),Rs=this.x.redSub(this.z),Bs=Es.x.redAdd(Es.z),Is=Es.x.redSub(Es.z),Ws=Is.redMul(Ss),Hs=Bs.redMul(Rs),Ns=Ts.z.redMul(Ws.redAdd(Hs).redSqr()),Js=Ts.x.redMul(Ws.redISub(Hs).redSqr());return this.curve.point(Ns,Js)},vs.prototype.mul=function(Es){for(var Ts=Es.clone(),Ss=this,Rs=this.curve.point(null,null),Bs=this,Is=[];Ts.cmpn(0)!==0;Ts.iushrn(1))Is.push(Ts.andln(1));for(var Ws=Is.length-1;Ws>=0;Ws--)Is[Ws]===0?(Ss=Ss.diffAdd(Rs,Bs),Rs=Rs.dbl()):(Rs=Ss.diffAdd(Rs,Bs),Ss=Ss.dbl());return Rs},vs.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},vs.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},vs.prototype.eq=function(Es){return this.getX().cmp(Es.getX())===0},vs.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},vs.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var st=requireUtils$6(),t=requireBn$1(),et=requireInherits_browser(),ms=requireBase$1(),ws=st.assert;function vs(Es){this.twisted=(Es.a|0)!==1,this.mOneA=this.twisted&&(Es.a|0)===-1,this.extended=this.mOneA,ms.call(this,"edwards",Es),this.a=new t(Es.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(Es.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(Es.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ws(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(Es.c|0)===1}et(vs,ms),edwards=vs,vs.prototype._mulA=function(Ts){return this.mOneA?Ts.redNeg():this.a.redMul(Ts)},vs.prototype._mulC=function(Ts){return this.oneC?Ts:this.c.redMul(Ts)},vs.prototype.jpoint=function(Ts,Ss,Rs,Bs){return this.point(Ts,Ss,Rs,Bs)},vs.prototype.pointFromX=function(Ts,Ss){Ts=new t(Ts,16),Ts.red||(Ts=Ts.toRed(this.red));var Rs=Ts.redSqr(),Bs=this.c2.redSub(this.a.redMul(Rs)),Is=this.one.redSub(this.c2.redMul(this.d).redMul(Rs)),Ws=Bs.redMul(Is.redInvm()),Hs=Ws.redSqrt();if(Hs.redSqr().redSub(Ws).cmp(this.zero)!==0)throw new Error("invalid point");var Ns=Hs.fromRed().isOdd();return(Ss&&!Ns||!Ss&&Ns)&&(Hs=Hs.redNeg()),this.point(Ts,Hs)},vs.prototype.pointFromY=function(Ts,Ss){Ts=new t(Ts,16),Ts.red||(Ts=Ts.toRed(this.red));var Rs=Ts.redSqr(),Bs=Rs.redSub(this.c2),Is=Rs.redMul(this.d).redMul(this.c2).redSub(this.a),Ws=Bs.redMul(Is.redInvm());if(Ws.cmp(this.zero)===0){if(Ss)throw new Error("invalid point");return this.point(this.zero,Ts)}var Hs=Ws.redSqrt();if(Hs.redSqr().redSub(Ws).cmp(this.zero)!==0)throw new Error("invalid point");return Hs.fromRed().isOdd()!==Ss&&(Hs=Hs.redNeg()),this.point(Hs,Ts)},vs.prototype.validate=function(Ts){if(Ts.isInfinity())return!0;Ts.normalize();var Ss=Ts.x.redSqr(),Rs=Ts.y.redSqr(),Bs=Ss.redMul(this.a).redAdd(Rs),Is=this.c2.redMul(this.one.redAdd(this.d.redMul(Ss).redMul(Rs)));return Bs.cmp(Is)===0};function _s(Es,Ts,Ss,Rs,Bs){ms.BasePoint.call(this,Es,"projective"),Ts===null&&Ss===null&&Rs===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(Ts,16),this.y=new t(Ss,16),this.z=Rs?new t(Rs,16):this.curve.one,this.t=Bs&&new t(Bs,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return et(_s,ms.BasePoint),vs.prototype.pointFromJSON=function(Ts){return _s.fromJSON(this,Ts)},vs.prototype.point=function(Ts,Ss,Rs,Bs){return new _s(this,Ts,Ss,Rs,Bs)},_s.fromJSON=function(Ts,Ss){return new _s(Ts,Ss[0],Ss[1],Ss[2])},_s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},_s.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},_s.prototype._extDbl=function(){var Ts=this.x.redSqr(),Ss=this.y.redSqr(),Rs=this.z.redSqr();Rs=Rs.redIAdd(Rs);var Bs=this.curve._mulA(Ts),Is=this.x.redAdd(this.y).redSqr().redISub(Ts).redISub(Ss),Ws=Bs.redAdd(Ss),Hs=Ws.redSub(Rs),Ns=Bs.redSub(Ss),Js=Is.redMul(Hs),ha=Ws.redMul(Ns),pa=Is.redMul(Ns),za=Hs.redMul(Ws);return this.curve.point(Js,ha,za,pa)},_s.prototype._projDbl=function(){var Ts=this.x.redAdd(this.y).redSqr(),Ss=this.x.redSqr(),Rs=this.y.redSqr(),Bs,Is,Ws,Hs,Ns,Js;if(this.curve.twisted){Hs=this.curve._mulA(Ss);var ha=Hs.redAdd(Rs);this.zOne?(Bs=Ts.redSub(Ss).redSub(Rs).redMul(ha.redSub(this.curve.two)),Is=ha.redMul(Hs.redSub(Rs)),Ws=ha.redSqr().redSub(ha).redSub(ha)):(Ns=this.z.redSqr(),Js=ha.redSub(Ns).redISub(Ns),Bs=Ts.redSub(Ss).redISub(Rs).redMul(Js),Is=ha.redMul(Hs.redSub(Rs)),Ws=ha.redMul(Js))}else Hs=Ss.redAdd(Rs),Ns=this.curve._mulC(this.z).redSqr(),Js=Hs.redSub(Ns).redSub(Ns),Bs=this.curve._mulC(Ts.redISub(Hs)).redMul(Js),Is=this.curve._mulC(Hs).redMul(Ss.redISub(Rs)),Ws=Hs.redMul(Js);return this.curve.point(Bs,Is,Ws)},_s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},_s.prototype._extAdd=function(Ts){var Ss=this.y.redSub(this.x).redMul(Ts.y.redSub(Ts.x)),Rs=this.y.redAdd(this.x).redMul(Ts.y.redAdd(Ts.x)),Bs=this.t.redMul(this.curve.dd).redMul(Ts.t),Is=this.z.redMul(Ts.z.redAdd(Ts.z)),Ws=Rs.redSub(Ss),Hs=Is.redSub(Bs),Ns=Is.redAdd(Bs),Js=Rs.redAdd(Ss),ha=Ws.redMul(Hs),pa=Ns.redMul(Js),za=Ws.redMul(Js),Ya=Hs.redMul(Ns);return this.curve.point(ha,pa,Ya,za)},_s.prototype._projAdd=function(Ts){var Ss=this.z.redMul(Ts.z),Rs=Ss.redSqr(),Bs=this.x.redMul(Ts.x),Is=this.y.redMul(Ts.y),Ws=this.curve.d.redMul(Bs).redMul(Is),Hs=Rs.redSub(Ws),Ns=Rs.redAdd(Ws),Js=this.x.redAdd(this.y).redMul(Ts.x.redAdd(Ts.y)).redISub(Bs).redISub(Is),ha=Ss.redMul(Hs).redMul(Js),pa,za;return this.curve.twisted?(pa=Ss.redMul(Ns).redMul(Is.redSub(this.curve._mulA(Bs))),za=Hs.redMul(Ns)):(pa=Ss.redMul(Ns).redMul(Is.redSub(Bs)),za=this.curve._mulC(Hs).redMul(Ns)),this.curve.point(ha,pa,za)},_s.prototype.add=function(Ts){return this.isInfinity()?Ts:Ts.isInfinity()?this:this.curve.extended?this._extAdd(Ts):this._projAdd(Ts)},_s.prototype.mul=function(Ts){return this._hasDoubles(Ts)?this.curve._fixedNafMul(this,Ts):this.curve._wnafMul(this,Ts)},_s.prototype.mulAdd=function(Ts,Ss,Rs){return this.curve._wnafMulAdd(1,[this,Ss],[Ts,Rs],2,!1)},_s.prototype.jmulAdd=function(Ts,Ss,Rs){return this.curve._wnafMulAdd(1,[this,Ss],[Ts,Rs],2,!0)},_s.prototype.normalize=function(){if(this.zOne)return this;var Ts=this.z.redInvm();return this.x=this.x.redMul(Ts),this.y=this.y.redMul(Ts),this.t&&(this.t=this.t.redMul(Ts)),this.z=this.curve.one,this.zOne=!0,this},_s.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},_s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},_s.prototype.getY=function(){return this.normalize(),this.y.fromRed()},_s.prototype.eq=function(Ts){return this===Ts||this.getX().cmp(Ts.getX())===0&&this.getY().cmp(Ts.getY())===0},_s.prototype.eqXToP=function(Ts){var Ss=Ts.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Ss)===0)return!0;for(var Rs=Ts.clone(),Bs=this.curve.redN.redMul(this.z);;){if(Rs.iadd(this.curve.n),Rs.cmp(this.curve.p)>=0)return!1;if(Ss.redIAdd(Bs),this.x.cmp(Ss)===0)return!0}},_s.prototype.toP=_s.prototype.normalize,_s.prototype.mixedAdd=_s.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(st){var t=st;t.base=requireBase$1(),t.short=requireShort(),t.mont=requireMont(),t.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$4={},hasRequiredUtils$5;function requireUtils$5(){if(hasRequiredUtils$5)return utils$4;hasRequiredUtils$5=1;var st=requireMinimalisticAssert(),t=requireInherits_browser();utils$4.inherits=t;function et(Ga,Xa){return(Ga.charCodeAt(Xa)&64512)!==55296||Xa<0||Xa+1>=Ga.length?!1:(Ga.charCodeAt(Xa+1)&64512)===56320}function ms(Ga,Xa){if(Array.isArray(Ga))return Ga.slice();if(!Ga)return[];var Fa=[];if(typeof Ga=="string")if(Xa){if(Xa==="hex")for(Ga=Ga.replace(/[^a-z0-9]+/ig,""),Ga.length%2!==0&&(Ga="0"+Ga),Wa=0;Wa<Ga.length;Wa+=2)Fa.push(parseInt(Ga[Wa]+Ga[Wa+1],16))}else for(var Zs=0,Wa=0;Wa<Ga.length;Wa++){var Za=Ga.charCodeAt(Wa);Za<128?Fa[Zs++]=Za:Za<2048?(Fa[Zs++]=Za>>6|192,Fa[Zs++]=Za&63|128):et(Ga,Wa)?(Za=65536+((Za&1023)<<10)+(Ga.charCodeAt(++Wa)&1023),Fa[Zs++]=Za>>18|240,Fa[Zs++]=Za>>12&63|128,Fa[Zs++]=Za>>6&63|128,Fa[Zs++]=Za&63|128):(Fa[Zs++]=Za>>12|224,Fa[Zs++]=Za>>6&63|128,Fa[Zs++]=Za&63|128)}else for(Wa=0;Wa<Ga.length;Wa++)Fa[Wa]=Ga[Wa]|0;return Fa}utils$4.toArray=ms;function ws(Ga){for(var Xa="",Fa=0;Fa<Ga.length;Fa++)Xa+=Es(Ga[Fa].toString(16));return Xa}utils$4.toHex=ws;function vs(Ga){var Xa=Ga>>>24|Ga>>>8&65280|Ga<<8&16711680|(Ga&255)<<24;return Xa>>>0}utils$4.htonl=vs;function _s(Ga,Xa){for(var Fa="",Zs=0;Zs<Ga.length;Zs++){var Wa=Ga[Zs];Xa==="little"&&(Wa=vs(Wa)),Fa+=Ts(Wa.toString(16))}return Fa}utils$4.toHex32=_s;function Es(Ga){return Ga.length===1?"0"+Ga:Ga}utils$4.zero2=Es;function Ts(Ga){return Ga.length===7?"0"+Ga:Ga.length===6?"00"+Ga:Ga.length===5?"000"+Ga:Ga.length===4?"0000"+Ga:Ga.length===3?"00000"+Ga:Ga.length===2?"000000"+Ga:Ga.length===1?"0000000"+Ga:Ga}utils$4.zero8=Ts;function Ss(Ga,Xa,Fa,Zs){var Wa=Fa-Xa;st(Wa%4===0);for(var Za=new Array(Wa/4),iu=0,au=Xa;iu<Za.length;iu++,au+=4){var nu;Zs==="big"?nu=Ga[au]<<24|Ga[au+1]<<16|Ga[au+2]<<8|Ga[au+3]:nu=Ga[au+3]<<24|Ga[au+2]<<16|Ga[au+1]<<8|Ga[au],Za[iu]=nu>>>0}return Za}utils$4.join32=Ss;function Rs(Ga,Xa){for(var Fa=new Array(Ga.length*4),Zs=0,Wa=0;Zs<Ga.length;Zs++,Wa+=4){var Za=Ga[Zs];Xa==="big"?(Fa[Wa]=Za>>>24,Fa[Wa+1]=Za>>>16&255,Fa[Wa+2]=Za>>>8&255,Fa[Wa+3]=Za&255):(Fa[Wa+3]=Za>>>24,Fa[Wa+2]=Za>>>16&255,Fa[Wa+1]=Za>>>8&255,Fa[Wa]=Za&255)}return Fa}utils$4.split32=Rs;function Bs(Ga,Xa){return Ga>>>Xa|Ga<<32-Xa}utils$4.rotr32=Bs;function Is(Ga,Xa){return Ga<<Xa|Ga>>>32-Xa}utils$4.rotl32=Is;function Ws(Ga,Xa){return Ga+Xa>>>0}utils$4.sum32=Ws;function Hs(Ga,Xa,Fa){return Ga+Xa+Fa>>>0}utils$4.sum32_3=Hs;function Ns(Ga,Xa,Fa,Zs){return Ga+Xa+Fa+Zs>>>0}utils$4.sum32_4=Ns;function Js(Ga,Xa,Fa,Zs,Wa){return Ga+Xa+Fa+Zs+Wa>>>0}utils$4.sum32_5=Js;function ha(Ga,Xa,Fa,Zs){var Wa=Ga[Xa],Za=Ga[Xa+1],iu=Zs+Za>>>0,au=(iu<Zs?1:0)+Fa+Wa;Ga[Xa]=au>>>0,Ga[Xa+1]=iu}utils$4.sum64=ha;function pa(Ga,Xa,Fa,Zs){var Wa=Xa+Zs>>>0,Za=(Wa<Xa?1:0)+Ga+Fa;return Za>>>0}utils$4.sum64_hi=pa;function za(Ga,Xa,Fa,Zs){var Wa=Xa+Zs;return Wa>>>0}utils$4.sum64_lo=za;function Ya(Ga,Xa,Fa,Zs,Wa,Za,iu,au){var nu=0,uu=Xa;uu=uu+Zs>>>0,nu+=uu<Xa?1:0,uu=uu+Za>>>0,nu+=uu<Za?1:0,uu=uu+au>>>0,nu+=uu<au?1:0;var fu=Ga+Fa+Wa+iu+nu;return fu>>>0}utils$4.sum64_4_hi=Ya;function Bc(Ga,Xa,Fa,Zs,Wa,Za,iu,au){var nu=Xa+Zs+Za+au;return nu>>>0}utils$4.sum64_4_lo=Bc;function Qa(Ga,Xa,Fa,Zs,Wa,Za,iu,au,nu,uu){var fu=0,hu=Xa;hu=hu+Zs>>>0,fu+=hu<Xa?1:0,hu=hu+Za>>>0,fu+=hu<Za?1:0,hu=hu+au>>>0,fu+=hu<au?1:0,hu=hu+uu>>>0,fu+=hu<uu?1:0;var Eu=Ga+Fa+Wa+iu+nu+fu;return Eu>>>0}utils$4.sum64_5_hi=Qa;function tu(Ga,Xa,Fa,Zs,Wa,Za,iu,au,nu,uu){var fu=Xa+Zs+Za+au+uu;return fu>>>0}utils$4.sum64_5_lo=tu;function eu(Ga,Xa,Fa){var Zs=Xa<<32-Fa|Ga>>>Fa;return Zs>>>0}utils$4.rotr64_hi=eu;function ru(Ga,Xa,Fa){var Zs=Ga<<32-Fa|Xa>>>Fa;return Zs>>>0}utils$4.rotr64_lo=ru;function cu(Ga,Xa,Fa){return Ga>>>Fa}utils$4.shr64_hi=cu;function ou(Ga,Xa,Fa){var Zs=Ga<<32-Fa|Xa>>>Fa;return Zs>>>0}return utils$4.shr64_lo=ou,utils$4}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var st=requireUtils$5(),t=requireMinimalisticAssert();function et(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=et,et.prototype.update=function(ws,vs){if(ws=st.toArray(ws,vs),this.pending?this.pending=this.pending.concat(ws):this.pending=ws,this.pendingTotal+=ws.length,this.pending.length>=this._delta8){ws=this.pending;var _s=ws.length%this._delta8;this.pending=ws.slice(ws.length-_s,ws.length),this.pending.length===0&&(this.pending=null),ws=st.join32(ws,0,ws.length-_s,this.endian);for(var Es=0;Es<ws.length;Es+=this._delta32)this._update(ws,Es,Es+this._delta32)}return this},et.prototype.digest=function(ws){return this.update(this._pad()),t(this.pending===null),this._digest(ws)},et.prototype._pad=function(){var ws=this.pendingTotal,vs=this._delta8,_s=vs-(ws+this.padLength)%vs,Es=new Array(_s+this.padLength);Es[0]=128;for(var Ts=1;Ts<_s;Ts++)Es[Ts]=0;if(ws<<=3,this.endian==="big"){for(var Ss=8;Ss<this.padLength;Ss++)Es[Ts++]=0;Es[Ts++]=0,Es[Ts++]=0,Es[Ts++]=0,Es[Ts++]=0,Es[Ts++]=ws>>>24&255,Es[Ts++]=ws>>>16&255,Es[Ts++]=ws>>>8&255,Es[Ts++]=ws&255}else for(Es[Ts++]=ws&255,Es[Ts++]=ws>>>8&255,Es[Ts++]=ws>>>16&255,Es[Ts++]=ws>>>24&255,Es[Ts++]=0,Es[Ts++]=0,Es[Ts++]=0,Es[Ts++]=0,Ss=8;Ss<this.padLength;Ss++)Es[Ts++]=0;return Es},common$1}var sha$1={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var st=requireUtils$5(),t=st.rotr32;function et(Rs,Bs,Is,Ws){if(Rs===0)return ms(Bs,Is,Ws);if(Rs===1||Rs===3)return vs(Bs,Is,Ws);if(Rs===2)return ws(Bs,Is,Ws)}common.ft_1=et;function ms(Rs,Bs,Is){return Rs&Bs^~Rs&Is}common.ch32=ms;function ws(Rs,Bs,Is){return Rs&Bs^Rs&Is^Bs&Is}common.maj32=ws;function vs(Rs,Bs,Is){return Rs^Bs^Is}common.p32=vs;function _s(Rs){return t(Rs,2)^t(Rs,13)^t(Rs,22)}common.s0_256=_s;function Es(Rs){return t(Rs,6)^t(Rs,11)^t(Rs,25)}common.s1_256=Es;function Ts(Rs){return t(Rs,7)^t(Rs,18)^Rs>>>3}common.g0_256=Ts;function Ss(Rs){return t(Rs,17)^t(Rs,19)^Rs>>>10}return common.g1_256=Ss,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var st=requireUtils$5(),t=requireCommon$1(),et=requireCommon(),ms=st.rotl32,ws=st.sum32,vs=st.sum32_5,_s=et.ft_1,Es=t.BlockHash,Ts=[1518500249,1859775393,2400959708,3395469782];function Ss(){if(!(this instanceof Ss))return new Ss;Es.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return st.inherits(Ss,Es),_1=Ss,Ss.blockSize=512,Ss.outSize=160,Ss.hmacStrength=80,Ss.padLength=64,Ss.prototype._update=function(Bs,Is){for(var Ws=this.W,Hs=0;Hs<16;Hs++)Ws[Hs]=Bs[Is+Hs];for(;Hs<Ws.length;Hs++)Ws[Hs]=ms(Ws[Hs-3]^Ws[Hs-8]^Ws[Hs-14]^Ws[Hs-16],1);var Ns=this.h[0],Js=this.h[1],ha=this.h[2],pa=this.h[3],za=this.h[4];for(Hs=0;Hs<Ws.length;Hs++){var Ya=~~(Hs/20),Bc=vs(ms(Ns,5),_s(Ya,Js,ha,pa),za,Ws[Hs],Ts[Ya]);za=pa,pa=ha,ha=ms(Js,30),Js=Ns,Ns=Bc}this.h[0]=ws(this.h[0],Ns),this.h[1]=ws(this.h[1],Js),this.h[2]=ws(this.h[2],ha),this.h[3]=ws(this.h[3],pa),this.h[4]=ws(this.h[4],za)},Ss.prototype._digest=function(Bs){return Bs==="hex"?st.toHex32(this.h,"big"):st.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var st=requireUtils$5(),t=requireCommon$1(),et=requireCommon(),ms=requireMinimalisticAssert(),ws=st.sum32,vs=st.sum32_4,_s=st.sum32_5,Es=et.ch32,Ts=et.maj32,Ss=et.s0_256,Rs=et.s1_256,Bs=et.g0_256,Is=et.g1_256,Ws=t.BlockHash,Hs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ns(){if(!(this instanceof Ns))return new Ns;Ws.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Hs,this.W=new Array(64)}return st.inherits(Ns,Ws),_256=Ns,Ns.blockSize=512,Ns.outSize=256,Ns.hmacStrength=192,Ns.padLength=64,Ns.prototype._update=function(ha,pa){for(var za=this.W,Ya=0;Ya<16;Ya++)za[Ya]=ha[pa+Ya];for(;Ya<za.length;Ya++)za[Ya]=vs(Is(za[Ya-2]),za[Ya-7],Bs(za[Ya-15]),za[Ya-16]);var Bc=this.h[0],Qa=this.h[1],tu=this.h[2],eu=this.h[3],ru=this.h[4],cu=this.h[5],ou=this.h[6],Ga=this.h[7];for(ms(this.k.length===za.length),Ya=0;Ya<za.length;Ya++){var Xa=_s(Ga,Rs(ru),Es(ru,cu,ou),this.k[Ya],za[Ya]),Fa=ws(Ss(Bc),Ts(Bc,Qa,tu));Ga=ou,ou=cu,cu=ru,ru=ws(eu,Xa),eu=tu,tu=Qa,Qa=Bc,Bc=ws(Xa,Fa)}this.h[0]=ws(this.h[0],Bc),this.h[1]=ws(this.h[1],Qa),this.h[2]=ws(this.h[2],tu),this.h[3]=ws(this.h[3],eu),this.h[4]=ws(this.h[4],ru),this.h[5]=ws(this.h[5],cu),this.h[6]=ws(this.h[6],ou),this.h[7]=ws(this.h[7],Ga)},Ns.prototype._digest=function(ha){return ha==="hex"?st.toHex32(this.h,"big"):st.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var st=requireUtils$5(),t=require_256();function et(){if(!(this instanceof et))return new et;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return st.inherits(et,t),_224=et,et.blockSize=512,et.outSize=224,et.hmacStrength=192,et.padLength=64,et.prototype._digest=function(ws){return ws==="hex"?st.toHex32(this.h.slice(0,7),"big"):st.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var st=requireUtils$5(),t=requireCommon$1(),et=requireMinimalisticAssert(),ms=st.rotr64_hi,ws=st.rotr64_lo,vs=st.shr64_hi,_s=st.shr64_lo,Es=st.sum64,Ts=st.sum64_hi,Ss=st.sum64_lo,Rs=st.sum64_4_hi,Bs=st.sum64_4_lo,Is=st.sum64_5_hi,Ws=st.sum64_5_lo,Hs=t.BlockHash,Ns=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Js(){if(!(this instanceof Js))return new Js;Hs.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ns,this.W=new Array(160)}st.inherits(Js,Hs),_512=Js,Js.blockSize=1024,Js.outSize=512,Js.hmacStrength=192,Js.padLength=128,Js.prototype._prepareBlock=function(Fa,Zs){for(var Wa=this.W,Za=0;Za<32;Za++)Wa[Za]=Fa[Zs+Za];for(;Za<Wa.length;Za+=2){var iu=ou(Wa[Za-4],Wa[Za-3]),au=Ga(Wa[Za-4],Wa[Za-3]),nu=Wa[Za-14],uu=Wa[Za-13],fu=ru(Wa[Za-30],Wa[Za-29]),hu=cu(Wa[Za-30],Wa[Za-29]),Eu=Wa[Za-32],$u=Wa[Za-31];Wa[Za]=Rs(iu,au,nu,uu,fu,hu,Eu,$u),Wa[Za+1]=Bs(iu,au,nu,uu,fu,hu,Eu,$u)}},Js.prototype._update=function(Fa,Zs){this._prepareBlock(Fa,Zs);var Wa=this.W,Za=this.h[0],iu=this.h[1],au=this.h[2],nu=this.h[3],uu=this.h[4],fu=this.h[5],hu=this.h[6],Eu=this.h[7],$u=this.h[8],Ou=this.h[9],gu=this.h[10],yu=this.h[11],Tu=this.h[12],du=this.h[13],wu=this.h[14],Ru=this.h[15];et(this.k.length===Wa.length);for(var Ku=0;Ku<Wa.length;Ku+=2){var Zu=wu,tl=Ru,sl=tu($u,Ou),gl=eu($u,Ou),Fu=ha($u,Ou,gu,yu,Tu),Mu=pa($u,Ou,gu,yu,Tu,du),Ju=this.k[Ku],vf=this.k[Ku+1],wf=Wa[Ku],el=Wa[Ku+1],il=Is(Zu,tl,sl,gl,Fu,Mu,Ju,vf,wf,el),hl=Ws(Zu,tl,sl,gl,Fu,Mu,Ju,vf,wf,el);Zu=Bc(Za,iu),tl=Qa(Za,iu),sl=za(Za,iu,au,nu,uu),gl=Ya(Za,iu,au,nu,uu,fu);var cl=Ts(Zu,tl,sl,gl),ul=Ss(Zu,tl,sl,gl);wu=Tu,Ru=du,Tu=gu,du=yu,gu=$u,yu=Ou,$u=Ts(hu,Eu,il,hl),Ou=Ss(Eu,Eu,il,hl),hu=uu,Eu=fu,uu=au,fu=nu,au=Za,nu=iu,Za=Ts(il,hl,cl,ul),iu=Ss(il,hl,cl,ul)}Es(this.h,0,Za,iu),Es(this.h,2,au,nu),Es(this.h,4,uu,fu),Es(this.h,6,hu,Eu),Es(this.h,8,$u,Ou),Es(this.h,10,gu,yu),Es(this.h,12,Tu,du),Es(this.h,14,wu,Ru)},Js.prototype._digest=function(Fa){return Fa==="hex"?st.toHex32(this.h,"big"):st.split32(this.h,"big")};function ha(Xa,Fa,Zs,Wa,Za){var iu=Xa&Zs^~Xa&Za;return iu<0&&(iu+=4294967296),iu}function pa(Xa,Fa,Zs,Wa,Za,iu){var au=Fa&Wa^~Fa&iu;return au<0&&(au+=4294967296),au}function za(Xa,Fa,Zs,Wa,Za){var iu=Xa&Zs^Xa&Za^Zs&Za;return iu<0&&(iu+=4294967296),iu}function Ya(Xa,Fa,Zs,Wa,Za,iu){var au=Fa&Wa^Fa&iu^Wa&iu;return au<0&&(au+=4294967296),au}function Bc(Xa,Fa){var Zs=ms(Xa,Fa,28),Wa=ms(Fa,Xa,2),Za=ms(Fa,Xa,7),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function Qa(Xa,Fa){var Zs=ws(Xa,Fa,28),Wa=ws(Fa,Xa,2),Za=ws(Fa,Xa,7),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function tu(Xa,Fa){var Zs=ms(Xa,Fa,14),Wa=ms(Xa,Fa,18),Za=ms(Fa,Xa,9),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function eu(Xa,Fa){var Zs=ws(Xa,Fa,14),Wa=ws(Xa,Fa,18),Za=ws(Fa,Xa,9),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function ru(Xa,Fa){var Zs=ms(Xa,Fa,1),Wa=ms(Xa,Fa,8),Za=vs(Xa,Fa,7),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function cu(Xa,Fa){var Zs=ws(Xa,Fa,1),Wa=ws(Xa,Fa,8),Za=_s(Xa,Fa,7),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function ou(Xa,Fa){var Zs=ms(Xa,Fa,19),Wa=ms(Fa,Xa,29),Za=vs(Xa,Fa,6),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}function Ga(Xa,Fa){var Zs=ws(Xa,Fa,19),Wa=ws(Fa,Xa,29),Za=_s(Xa,Fa,6),iu=Zs^Wa^Za;return iu<0&&(iu+=4294967296),iu}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var st=requireUtils$5(),t=require_512();function et(){if(!(this instanceof et))return new et;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return st.inherits(et,t),_384=et,et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(ws){return ws==="hex"?st.toHex32(this.h.slice(0,12),"big"):st.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha$1.sha1=require_1(),sha$1.sha224=require_224(),sha$1.sha256=require_256(),sha$1.sha384=require_384(),sha$1.sha512=require_512()),sha$1}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var st=requireUtils$5(),t=requireCommon$1(),et=st.rotl32,ms=st.sum32,ws=st.sum32_3,vs=st.sum32_4,_s=t.BlockHash;function Es(){if(!(this instanceof Es))return new Es;_s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}st.inherits(Es,_s),ripemd.ripemd160=Es,Es.blockSize=512,Es.outSize=160,Es.hmacStrength=192,Es.padLength=64,Es.prototype._update=function(Js,ha){for(var pa=this.h[0],za=this.h[1],Ya=this.h[2],Bc=this.h[3],Qa=this.h[4],tu=pa,eu=za,ru=Ya,cu=Bc,ou=Qa,Ga=0;Ga<80;Ga++){var Xa=ms(et(vs(pa,Ts(Ga,za,Ya,Bc),Js[Bs[Ga]+ha],Ss(Ga)),Ws[Ga]),Qa);pa=Qa,Qa=Bc,Bc=et(Ya,10),Ya=za,za=Xa,Xa=ms(et(vs(tu,Ts(79-Ga,eu,ru,cu),Js[Is[Ga]+ha],Rs(Ga)),Hs[Ga]),ou),tu=ou,ou=cu,cu=et(ru,10),ru=eu,eu=Xa}Xa=ws(this.h[1],Ya,cu),this.h[1]=ws(this.h[2],Bc,ou),this.h[2]=ws(this.h[3],Qa,tu),this.h[3]=ws(this.h[4],pa,eu),this.h[4]=ws(this.h[0],za,ru),this.h[0]=Xa},Es.prototype._digest=function(Js){return Js==="hex"?st.toHex32(this.h,"little"):st.split32(this.h,"little")};function Ts(Ns,Js,ha,pa){return Ns<=15?Js^ha^pa:Ns<=31?Js&ha|~Js&pa:Ns<=47?(Js|~ha)^pa:Ns<=63?Js&pa|ha&~pa:Js^(ha|~pa)}function Ss(Ns){return Ns<=15?0:Ns<=31?1518500249:Ns<=47?1859775393:Ns<=63?2400959708:2840853838}function Rs(Ns){return Ns<=15?1352829926:Ns<=31?1548603684:Ns<=47?1836072691:Ns<=63?2053994217:0}var Bs=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Is=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ws=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Hs=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$2,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$2;hasRequiredHmac$1=1;var st=requireUtils$5(),t=requireMinimalisticAssert();function et(ms,ws,vs){if(!(this instanceof et))return new et(ms,ws,vs);this.Hash=ms,this.blockSize=ms.blockSize/8,this.outSize=ms.outSize/8,this.inner=null,this.outer=null,this._init(st.toArray(ws,vs))}return hmac$2=et,et.prototype._init=function(ws){ws.length>this.blockSize&&(ws=new this.Hash().update(ws).digest()),t(ws.length<=this.blockSize);for(var vs=ws.length;vs<this.blockSize;vs++)ws.push(0);for(vs=0;vs<ws.length;vs++)ws[vs]^=54;for(this.inner=new this.Hash().update(ws),vs=0;vs<ws.length;vs++)ws[vs]^=106;this.outer=new this.Hash().update(ws)},et.prototype.update=function(ws,vs){return this.inner.update(ws,vs),this},et.prototype.digest=function(ws){return this.outer.update(this.inner.digest()),this.outer.digest(ws)},hmac$2}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(st){var t=st;t.utils=requireUtils$5(),t.common=requireCommon$1(),t.sha=requireSha(),t.ripemd=requireRipemd(),t.hmac=requireHmac$1(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(st){var t=st,et=requireHash(),ms=requireCurve(),ws=requireUtils$6(),vs=ws.assert;function _s(Ss){Ss.type==="short"?this.curve=new ms.short(Ss):Ss.type==="edwards"?this.curve=new ms.edwards(Ss):this.curve=new ms.mont(Ss),this.g=this.curve.g,this.n=this.curve.n,this.hash=Ss.hash,vs(this.g.validate(),"Invalid curve"),vs(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=_s;function Es(Ss,Rs){Object.defineProperty(t,Ss,{configurable:!0,enumerable:!0,get:function(){var Bs=new _s(Rs);return Object.defineProperty(t,Ss,{configurable:!0,enumerable:!0,value:Bs}),Bs}})}Es("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:et.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),Es("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:et.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),Es("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:et.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),Es("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:et.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),Es("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:et.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),Es("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["9"]}),Es("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ts;try{Ts=requireSecp256k1()}catch{Ts=void 0}Es("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:et.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ts]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var st=requireHash(),t=requireUtils$7(),et=requireMinimalisticAssert();function ms(ws){if(!(this instanceof ms))return new ms(ws);this.hash=ws.hash,this.predResist=!!ws.predResist,this.outLen=this.hash.outSize,this.minEntropy=ws.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var vs=t.toArray(ws.entropy,ws.entropyEnc||"hex"),_s=t.toArray(ws.nonce,ws.nonceEnc||"hex"),Es=t.toArray(ws.pers,ws.persEnc||"hex");et(vs.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(vs,_s,Es)}return hmacDrbg=ms,ms.prototype._init=function(vs,_s,Es){var Ts=vs.concat(_s).concat(Es);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Ss=0;Ss<this.V.length;Ss++)this.K[Ss]=0,this.V[Ss]=1;this._update(Ts),this._reseed=1,this.reseedInterval=281474976710656},ms.prototype._hmac=function(){return new st.hmac(this.hash,this.K)},ms.prototype._update=function(vs){var _s=this._hmac().update(this.V).update([0]);vs&&(_s=_s.update(vs)),this.K=_s.digest(),this.V=this._hmac().update(this.V).digest(),vs&&(this.K=this._hmac().update(this.V).update([1]).update(vs).digest(),this.V=this._hmac().update(this.V).digest())},ms.prototype.reseed=function(vs,_s,Es,Ts){typeof _s!="string"&&(Ts=Es,Es=_s,_s=null),vs=t.toArray(vs,_s),Es=t.toArray(Es,Ts),et(vs.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(vs.concat(Es||[])),this._reseed=1},ms.prototype.generate=function(vs,_s,Es,Ts){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof _s!="string"&&(Ts=Es,Es=_s,_s=null),Es&&(Es=t.toArray(Es,Ts||"hex"),this._update(Es));for(var Ss=[];Ss.length<vs;)this.V=this._hmac().update(this.V).digest(),Ss=Ss.concat(this.V);var Rs=Ss.slice(0,vs);return this._update(Es),this._reseed++,t.encode(Rs,_s)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var st=requireBn$1(),t=requireUtils$6(),et=t.assert;function ms(ws,vs){this.ec=ws,this.priv=null,this.pub=null,vs.priv&&this._importPrivate(vs.priv,vs.privEnc),vs.pub&&this._importPublic(vs.pub,vs.pubEnc)}return key$1=ms,ms.fromPublic=function(vs,_s,Es){return _s instanceof ms?_s:new ms(vs,{pub:_s,pubEnc:Es})},ms.fromPrivate=function(vs,_s,Es){return _s instanceof ms?_s:new ms(vs,{priv:_s,privEnc:Es})},ms.prototype.validate=function(){var vs=this.getPublic();return vs.isInfinity()?{result:!1,reason:"Invalid public key"}:vs.validate()?vs.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ms.prototype.getPublic=function(vs,_s){return typeof vs=="string"&&(_s=vs,vs=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),_s?this.pub.encode(_s,vs):this.pub},ms.prototype.getPrivate=function(vs){return vs==="hex"?this.priv.toString(16,2):this.priv},ms.prototype._importPrivate=function(vs,_s){this.priv=new st(vs,_s||16),this.priv=this.priv.umod(this.ec.curve.n)},ms.prototype._importPublic=function(vs,_s){if(vs.x||vs.y){this.ec.curve.type==="mont"?et(vs.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&et(vs.x&&vs.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(vs.x,vs.y);return}this.pub=this.ec.curve.decodePoint(vs,_s)},ms.prototype.derive=function(vs){return vs.validate()||et(vs.validate(),"public point not validated"),vs.mul(this.priv).getX()},ms.prototype.sign=function(vs,_s,Es){return this.ec.sign(vs,this,_s,Es)},ms.prototype.verify=function(vs,_s,Es){return this.ec.verify(vs,_s,this,void 0,Es)},ms.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var st=requireBn$1(),t=requireUtils$6(),et=t.assert;function ms(Ts,Ss){if(Ts instanceof ms)return Ts;this._importDER(Ts,Ss)||(et(Ts.r&&Ts.s,"Signature without r or s"),this.r=new st(Ts.r,16),this.s=new st(Ts.s,16),Ts.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Ts.recoveryParam)}signature$1=ms;function ws(){this.place=0}function vs(Ts,Ss){var Rs=Ts[Ss.place++];if(!(Rs&128))return Rs;var Bs=Rs&15;if(Bs===0||Bs>4||Ts[Ss.place]===0)return!1;for(var Is=0,Ws=0,Hs=Ss.place;Ws<Bs;Ws++,Hs++)Is<<=8,Is|=Ts[Hs],Is>>>=0;return Is<=127?!1:(Ss.place=Hs,Is)}function _s(Ts){for(var Ss=0,Rs=Ts.length-1;!Ts[Ss]&&!(Ts[Ss+1]&128)&&Ss<Rs;)Ss++;return Ss===0?Ts:Ts.slice(Ss)}ms.prototype._importDER=function(Ss,Rs){Ss=t.toArray(Ss,Rs);var Bs=new ws;if(Ss[Bs.place++]!==48)return!1;var Is=vs(Ss,Bs);if(Is===!1||Is+Bs.place!==Ss.length||Ss[Bs.place++]!==2)return!1;var Ws=vs(Ss,Bs);if(Ws===!1||(Ss[Bs.place]&128)!==0)return!1;var Hs=Ss.slice(Bs.place,Ws+Bs.place);if(Bs.place+=Ws,Ss[Bs.place++]!==2)return!1;var Ns=vs(Ss,Bs);if(Ns===!1||Ss.length!==Ns+Bs.place||(Ss[Bs.place]&128)!==0)return!1;var Js=Ss.slice(Bs.place,Ns+Bs.place);if(Hs[0]===0)if(Hs[1]&128)Hs=Hs.slice(1);else return!1;if(Js[0]===0)if(Js[1]&128)Js=Js.slice(1);else return!1;return this.r=new st(Hs),this.s=new st(Js),this.recoveryParam=null,!0};function Es(Ts,Ss){if(Ss<128){Ts.push(Ss);return}var Rs=1+(Math.log(Ss)/Math.LN2>>>3);for(Ts.push(Rs|128);--Rs;)Ts.push(Ss>>>(Rs<<3)&255);Ts.push(Ss)}return ms.prototype.toDER=function(Ss){var Rs=this.r.toArray(),Bs=this.s.toArray();for(Rs[0]&128&&(Rs=[0].concat(Rs)),Bs[0]&128&&(Bs=[0].concat(Bs)),Rs=_s(Rs),Bs=_s(Bs);!Bs[0]&&!(Bs[1]&128);)Bs=Bs.slice(1);var Is=[2];Es(Is,Rs.length),Is=Is.concat(Rs),Is.push(2),Es(Is,Bs.length);var Ws=Is.concat(Bs),Hs=[48];return Es(Hs,Ws.length),Hs=Hs.concat(Ws),t.encode(Hs,Ss)},signature$1}var ec$1,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$1;hasRequiredEc=1;var st=requireBn$1(),t=requireHmacDrbg(),et=requireUtils$6(),ms=requireCurves(),ws=requireBrorand(),vs=et.assert,_s=requireKey$1(),Es=requireSignature$1();function Ts(Ss){if(!(this instanceof Ts))return new Ts(Ss);typeof Ss=="string"&&(vs(Object.prototype.hasOwnProperty.call(ms,Ss),"Unknown curve "+Ss),Ss=ms[Ss]),Ss instanceof ms.PresetCurve&&(Ss={curve:Ss}),this.curve=Ss.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Ss.curve.g,this.g.precompute(Ss.curve.n.bitLength()+1),this.hash=Ss.hash||Ss.curve.hash}return ec$1=Ts,Ts.prototype.keyPair=function(Rs){return new _s(this,Rs)},Ts.prototype.keyFromPrivate=function(Rs,Bs){return _s.fromPrivate(this,Rs,Bs)},Ts.prototype.keyFromPublic=function(Rs,Bs){return _s.fromPublic(this,Rs,Bs)},Ts.prototype.genKeyPair=function(Rs){Rs||(Rs={});for(var Bs=new t({hash:this.hash,pers:Rs.pers,persEnc:Rs.persEnc||"utf8",entropy:Rs.entropy||ws(this.hash.hmacStrength),entropyEnc:Rs.entropy&&Rs.entropyEnc||"utf8",nonce:this.n.toArray()}),Is=this.n.byteLength(),Ws=this.n.sub(new st(2));;){var Hs=new st(Bs.generate(Is));if(!(Hs.cmp(Ws)>0))return Hs.iaddn(1),this.keyFromPrivate(Hs)}},Ts.prototype._truncateToN=function(Rs,Bs,Is){var Ws;if(st.isBN(Rs)||typeof Rs=="number")Rs=new st(Rs,16),Ws=Rs.byteLength();else if(typeof Rs=="object")Ws=Rs.length,Rs=new st(Rs,16);else{var Hs=Rs.toString();Ws=Hs.length+1>>>1,Rs=new st(Hs,16)}typeof Is!="number"&&(Is=Ws*8);var Ns=Is-this.n.bitLength();return Ns>0&&(Rs=Rs.ushrn(Ns)),!Bs&&Rs.cmp(this.n)>=0?Rs.sub(this.n):Rs},Ts.prototype.sign=function(Rs,Bs,Is,Ws){if(typeof Is=="object"&&(Ws=Is,Is=null),Ws||(Ws={}),typeof Rs!="string"&&typeof Rs!="number"&&!st.isBN(Rs)){vs(typeof Rs=="object"&&Rs&&typeof Rs.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),vs(Rs.length>>>0===Rs.length);for(var Hs=0;Hs<Rs.length;Hs++)vs((Rs[Hs]&255)===Rs[Hs])}Bs=this.keyFromPrivate(Bs,Is),Rs=this._truncateToN(Rs,!1,Ws.msgBitLength),vs(!Rs.isNeg(),"Can not sign a negative message");var Ns=this.n.byteLength(),Js=Bs.getPrivate().toArray("be",Ns),ha=Rs.toArray("be",Ns);vs(new st(ha).eq(Rs),"Can not sign message");for(var pa=new t({hash:this.hash,entropy:Js,nonce:ha,pers:Ws.pers,persEnc:Ws.persEnc||"utf8"}),za=this.n.sub(new st(1)),Ya=0;;Ya++){var Bc=Ws.k?Ws.k(Ya):new st(pa.generate(this.n.byteLength()));if(Bc=this._truncateToN(Bc,!0),!(Bc.cmpn(1)<=0||Bc.cmp(za)>=0)){var Qa=this.g.mul(Bc);if(!Qa.isInfinity()){var tu=Qa.getX(),eu=tu.umod(this.n);if(eu.cmpn(0)!==0){var ru=Bc.invm(this.n).mul(eu.mul(Bs.getPrivate()).iadd(Rs));if(ru=ru.umod(this.n),ru.cmpn(0)!==0){var cu=(Qa.getY().isOdd()?1:0)|(tu.cmp(eu)!==0?2:0);return Ws.canonical&&ru.cmp(this.nh)>0&&(ru=this.n.sub(ru),cu^=1),new Es({r:eu,s:ru,recoveryParam:cu})}}}}}},Ts.prototype.verify=function(Rs,Bs,Is,Ws,Hs){Hs||(Hs={}),Rs=this._truncateToN(Rs,!1,Hs.msgBitLength),Is=this.keyFromPublic(Is,Ws),Bs=new Es(Bs,"hex");var Ns=Bs.r,Js=Bs.s;if(Ns.cmpn(1)<0||Ns.cmp(this.n)>=0||Js.cmpn(1)<0||Js.cmp(this.n)>=0)return!1;var ha=Js.invm(this.n),pa=ha.mul(Rs).umod(this.n),za=ha.mul(Ns).umod(this.n),Ya;return this.curve._maxwellTrick?(Ya=this.g.jmulAdd(pa,Is.getPublic(),za),Ya.isInfinity()?!1:Ya.eqXToP(Ns)):(Ya=this.g.mulAdd(pa,Is.getPublic(),za),Ya.isInfinity()?!1:Ya.getX().umod(this.n).cmp(Ns)===0)},Ts.prototype.recoverPubKey=function(Ss,Rs,Bs,Is){vs((3&Bs)===Bs,"The recovery param is more than two bits"),Rs=new Es(Rs,Is);var Ws=this.n,Hs=new st(Ss),Ns=Rs.r,Js=Rs.s,ha=Bs&1,pa=Bs>>1;if(Ns.cmp(this.curve.p.umod(this.curve.n))>=0&&pa)throw new Error("Unable to find sencond key candinate");pa?Ns=this.curve.pointFromX(Ns.add(this.curve.n),ha):Ns=this.curve.pointFromX(Ns,ha);var za=Rs.r.invm(Ws),Ya=Ws.sub(Hs).mul(za).umod(Ws),Bc=Js.mul(za).umod(Ws);return this.g.mulAdd(Ya,Ns,Bc)},Ts.prototype.getKeyRecoveryParam=function(Ss,Rs,Bs,Is){if(Rs=new Es(Rs,Is),Rs.recoveryParam!==null)return Rs.recoveryParam;for(var Ws=0;Ws<4;Ws++){var Hs;try{Hs=this.recoverPubKey(Ss,Rs,Ws)}catch{continue}if(Hs.eq(Bs))return Ws}throw new Error("Unable to find valid recovery factor")},ec$1}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var st=requireUtils$6(),t=st.assert,et=st.parseBytes,ms=st.cachedProperty;function ws(vs,_s){this.eddsa=vs,this._secret=et(_s.secret),vs.isPoint(_s.pub)?this._pub=_s.pub:this._pubBytes=et(_s.pub)}return ws.fromPublic=function(_s,Es){return Es instanceof ws?Es:new ws(_s,{pub:Es})},ws.fromSecret=function(_s,Es){return Es instanceof ws?Es:new ws(_s,{secret:Es})},ws.prototype.secret=function(){return this._secret},ms(ws,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),ms(ws,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),ms(ws,"privBytes",function(){var _s=this.eddsa,Es=this.hash(),Ts=_s.encodingLength-1,Ss=Es.slice(0,_s.encodingLength);return Ss[0]&=248,Ss[Ts]&=127,Ss[Ts]|=64,Ss}),ms(ws,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),ms(ws,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),ms(ws,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),ws.prototype.sign=function(_s){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(_s,this)},ws.prototype.verify=function(_s,Es){return this.eddsa.verify(_s,Es,this)},ws.prototype.getSecret=function(_s){return t(this._secret,"KeyPair is public only"),st.encode(this.secret(),_s)},ws.prototype.getPublic=function(_s){return st.encode(this.pubBytes(),_s)},key=ws,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var st=requireBn$1(),t=requireUtils$6(),et=t.assert,ms=t.cachedProperty,ws=t.parseBytes;function vs(_s,Es){this.eddsa=_s,typeof Es!="object"&&(Es=ws(Es)),Array.isArray(Es)&&(et(Es.length===_s.encodingLength*2,"Signature has invalid size"),Es={R:Es.slice(0,_s.encodingLength),S:Es.slice(_s.encodingLength)}),et(Es.R&&Es.S,"Signature without R or S"),_s.isPoint(Es.R)&&(this._R=Es.R),Es.S instanceof st&&(this._S=Es.S),this._Rencoded=Array.isArray(Es.R)?Es.R:Es.Rencoded,this._Sencoded=Array.isArray(Es.S)?Es.S:Es.Sencoded}return ms(vs,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),ms(vs,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),ms(vs,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),ms(vs,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),vs.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},vs.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},signature=vs,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var st=requireHash(),t=requireCurves(),et=requireUtils$6(),ms=et.assert,ws=et.parseBytes,vs=requireKey(),_s=requireSignature();function Es(Ts){if(ms(Ts==="ed25519","only tested with ed25519 so far"),!(this instanceof Es))return new Es(Ts);Ts=t[Ts].curve,this.curve=Ts,this.g=Ts.g,this.g.precompute(Ts.n.bitLength()+1),this.pointClass=Ts.point().constructor,this.encodingLength=Math.ceil(Ts.n.bitLength()/8),this.hash=st.sha512}return eddsa=Es,Es.prototype.sign=function(Ss,Rs){Ss=ws(Ss);var Bs=this.keyFromSecret(Rs),Is=this.hashInt(Bs.messagePrefix(),Ss),Ws=this.g.mul(Is),Hs=this.encodePoint(Ws),Ns=this.hashInt(Hs,Bs.pubBytes(),Ss).mul(Bs.priv()),Js=Is.add(Ns).umod(this.curve.n);return this.makeSignature({R:Ws,S:Js,Rencoded:Hs})},Es.prototype.verify=function(Ss,Rs,Bs){if(Ss=ws(Ss),Rs=this.makeSignature(Rs),Rs.S().gte(Rs.eddsa.curve.n)||Rs.S().isNeg())return!1;var Is=this.keyFromPublic(Bs),Ws=this.hashInt(Rs.Rencoded(),Is.pubBytes(),Ss),Hs=this.g.mul(Rs.S()),Ns=Rs.R().add(Is.pub().mul(Ws));return Ns.eq(Hs)},Es.prototype.hashInt=function(){for(var Ss=this.hash(),Rs=0;Rs<arguments.length;Rs++)Ss.update(arguments[Rs]);return et.intFromLE(Ss.digest()).umod(this.curve.n)},Es.prototype.keyFromPublic=function(Ss){return vs.fromPublic(this,Ss)},Es.prototype.keyFromSecret=function(Ss){return vs.fromSecret(this,Ss)},Es.prototype.makeSignature=function(Ss){return Ss instanceof _s?Ss:new _s(this,Ss)},Es.prototype.encodePoint=function(Ss){var Rs=Ss.getY().toArray("le",this.encodingLength);return Rs[this.encodingLength-1]|=Ss.getX().isOdd()?128:0,Rs},Es.prototype.decodePoint=function(Ss){Ss=et.parseBytes(Ss);var Rs=Ss.length-1,Bs=Ss.slice(0,Rs).concat(Ss[Rs]&-129),Is=(Ss[Rs]&128)!==0,Ws=et.intFromLE(Bs);return this.curve.pointFromY(Ws,Is)},Es.prototype.encodeInt=function(Ss){return Ss.toArray("le",this.encodingLength)},Es.prototype.decodeInt=function(Ss){return et.intFromLE(Ss)},Es.prototype.isPoint=function(Ss){return Ss instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(st){var t=st;t.version=require$$0$2.version,t.utils=requireUtils$6(),t.rand=requireBrorand(),t.curve=requireCurve(),t.curves=requireCurves(),t.ec=requireEc(),t.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(st,t){if(st.indexOf)return st.indexOf(t);for(var et=0;et<st.length;et++)if(st[et]===t)return et;return-1},Object_keys=function(st){if(Object.keys)return Object.keys(st);var t=[];for(var et in st)t.push(et);return t},forEach=function(st,t){if(st.forEach)return st.forEach(t);for(var et=0;et<st.length;et++)t(st[et],et,st)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(st,t,et){Object.defineProperty(st,t,{writable:!0,enumerable:!1,configurable:!0,value:et})}}catch{return function(t,et,ms){t[et]=ms}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(st){if(!(st instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var et=t.contentWindow,ms=et.eval,ws=et.execScript;!ms&&ws&&(ws.call(et,"null"),ms=et.eval),forEach(Object_keys(st),function(Es){et[Es]=st[Es]}),forEach(globals,function(Es){st[Es]&&(et[Es]=st[Es])});var vs=Object_keys(et),_s=ms.call(et,this.code);return forEach(Object_keys(et),function(Es){(Es in st||indexOf(vs,Es)===-1)&&(st[Es]=et[Es])}),forEach(globals,function(Es){Es in st||defineProp(st,Es,et[Es])}),document.body.removeChild(t),_s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(st){var t=Script.createContext(st),et=this.runInContext(t);return st&&forEach(Object_keys(t),function(ms){st[ms]=t[ms]}),et},forEach(Object_keys(Script.prototype),function(st){exports[st]=Script[st]=function(t){var et=Script(t);return et[st].apply(et,[].slice.call(arguments,1))}}),exports.isContext=function(st){return st instanceof Context},exports.createScript=function(st){return exports.Script(st)},exports.createContext=Script.createContext=function(st){var t=new Context;return typeof st=="object"&&forEach(Object_keys(st),function(et){t[et]=st[et]}),t}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(st){var t=requireAsn1$1(),et=requireInherits_browser(),ms=st;ms.define=function(_s,Es){return new ws(_s,Es)};function ws(vs,_s){this.name=vs,this.body=_s,this.decoders={},this.encoders={}}ws.prototype._createNamed=function(_s){var Es;try{Es=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{Es=function(Ss){this._initNamed(Ss)}}return et(Es,_s),Es.prototype._initNamed=function(Ss){_s.call(this,Ss)},new Es(this)},ws.prototype._getDecoder=function(_s){return _s=_s||"der",this.decoders.hasOwnProperty(_s)||(this.decoders[_s]=this._createNamed(t.decoders[_s])),this.decoders[_s]},ws.prototype.decode=function(_s,Es,Ts){return this._getDecoder(Es).decode(_s,Ts)},ws.prototype._getEncoder=function(_s){return _s=_s||"der",this.encoders.hasOwnProperty(_s)||(this.encoders[_s]=this._createNamed(t.encoders[_s])),this.encoders[_s]},ws.prototype.encode=function(_s,Es,Ts){return this._getEncoder(Es).encode(_s,Ts)}}(api)),api}var base$2={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var st=requireInherits_browser();function t(ms){this._reporterState={obj:null,path:[],options:ms||{},errors:[]}}reporter.Reporter=t,t.prototype.isError=function(ws){return ws instanceof et},t.prototype.save=function(){var ws=this._reporterState;return{obj:ws.obj,pathLen:ws.path.length}},t.prototype.restore=function(ws){var vs=this._reporterState;vs.obj=ws.obj,vs.path=vs.path.slice(0,ws.pathLen)},t.prototype.enterKey=function(ws){return this._reporterState.path.push(ws)},t.prototype.exitKey=function(ws){var vs=this._reporterState;vs.path=vs.path.slice(0,ws-1)},t.prototype.leaveKey=function(ws,vs,_s){var Es=this._reporterState;this.exitKey(ws),Es.obj!==null&&(Es.obj[vs]=_s)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){var ws=this._reporterState,vs=ws.obj;return ws.obj={},vs},t.prototype.leaveObject=function(ws){var vs=this._reporterState,_s=vs.obj;return vs.obj=ws,_s},t.prototype.error=function(ws){var vs,_s=this._reporterState,Es=ws instanceof et;if(Es?vs=ws:vs=new et(_s.path.map(function(Ts){return"["+JSON.stringify(Ts)+"]"}).join(""),ws.message||ws,ws.stack),!_s.options.partial)throw vs;return Es||_s.errors.push(vs),vs},t.prototype.wrapResult=function(ws){var vs=this._reporterState;return vs.options.partial?{result:this.isError(ws)?null:ws,errors:vs.errors}:ws};function et(ms,ws){this.path=ms,this.rethrow(ws)}return st(et,Error),et.prototype.rethrow=function(ws){if(this.message=ws+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,et),!this.stack)try{throw new Error(this.message)}catch(vs){this.stack=vs.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var st=requireInherits_browser(),t=requireBase().Reporter,et=requireDist().Buffer;function ms(vs,_s){if(t.call(this,_s),!et.isBuffer(vs)){this.error("Input not Buffer");return}this.base=vs,this.offset=0,this.length=vs.length}st(ms,t),buffer.DecoderBuffer=ms,ms.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},ms.prototype.restore=function(_s){var Es=new ms(this.base);return Es.offset=_s.offset,Es.length=this.offset,this.offset=_s.offset,t.prototype.restore.call(this,_s.reporter),Es},ms.prototype.isEmpty=function(){return this.offset===this.length},ms.prototype.readUInt8=function(_s){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(_s||"DecoderBuffer overrun")},ms.prototype.skip=function(_s,Es){if(!(this.offset+_s<=this.length))return this.error(Es||"DecoderBuffer overrun");var Ts=new ms(this.base);return Ts._reporterState=this._reporterState,Ts.offset=this.offset,Ts.length=this.offset+_s,this.offset+=_s,Ts},ms.prototype.raw=function(_s){return this.base.slice(_s?_s.offset:this.offset,this.length)};function ws(vs,_s){if(Array.isArray(vs))this.length=0,this.value=vs.map(function(Es){return Es instanceof ws||(Es=new ws(Es,_s)),this.length+=Es.length,Es},this);else if(typeof vs=="number"){if(!(0<=vs&&vs<=255))return _s.error("non-byte EncoderBuffer value");this.value=vs,this.length=1}else if(typeof vs=="string")this.value=vs,this.length=et.byteLength(vs);else if(et.isBuffer(vs))this.value=vs,this.length=vs.length;else return _s.error("Unsupported type: "+typeof vs)}return buffer.EncoderBuffer=ws,ws.prototype.join=function(_s,Es){return _s||(_s=new et(this.length)),Es||(Es=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Ts){Ts.join(_s,Es),Es+=Ts.length}):(typeof this.value=="number"?_s[Es]=this.value:typeof this.value=="string"?_s.write(this.value,Es):et.isBuffer(this.value)&&this.value.copy(_s,Es),Es+=this.length)),_s},buffer}var node$1,hasRequiredNode$1;function requireNode$1(){if(hasRequiredNode$1)return node$1;hasRequiredNode$1=1;var st=requireBase().Reporter,t=requireBase().EncoderBuffer,et=requireBase().DecoderBuffer,ms=requireMinimalisticAssert(),ws=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],vs=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ws),_s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Es(Ss,Rs){var Bs={};this._baseState=Bs,Bs.enc=Ss,Bs.parent=Rs||null,Bs.children=null,Bs.tag=null,Bs.args=null,Bs.reverseArgs=null,Bs.choice=null,Bs.optional=!1,Bs.any=!1,Bs.obj=!1,Bs.use=null,Bs.useDecoder=null,Bs.key=null,Bs.default=null,Bs.explicit=null,Bs.implicit=null,Bs.contains=null,Bs.parent||(Bs.children=[],this._wrap())}node$1=Es;var Ts=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return Es.prototype.clone=function(){var Rs=this._baseState,Bs={};Ts.forEach(function(Ws){Bs[Ws]=Rs[Ws]});var Is=new this.constructor(Bs.parent);return Is._baseState=Bs,Is},Es.prototype._wrap=function(){var Rs=this._baseState;vs.forEach(function(Bs){this[Bs]=function(){var Ws=new this.constructor(this);return Rs.children.push(Ws),Ws[Bs].apply(Ws,arguments)}},this)},Es.prototype._init=function(Rs){var Bs=this._baseState;ms(Bs.parent===null),Rs.call(this),Bs.children=Bs.children.filter(function(Is){return Is._baseState.parent===this},this),ms.equal(Bs.children.length,1,"Root node can have only one child")},Es.prototype._useArgs=function(Rs){var Bs=this._baseState,Is=Rs.filter(function(Ws){return Ws instanceof this.constructor},this);Rs=Rs.filter(function(Ws){return!(Ws instanceof this.constructor)},this),Is.length!==0&&(ms(Bs.children===null),Bs.children=Is,Is.forEach(function(Ws){Ws._baseState.parent=this},this)),Rs.length!==0&&(ms(Bs.args===null),Bs.args=Rs,Bs.reverseArgs=Rs.map(function(Ws){if(typeof Ws!="object"||Ws.constructor!==Object)return Ws;var Hs={};return Object.keys(Ws).forEach(function(Ns){Ns==(Ns|0)&&(Ns|=0);var Js=Ws[Ns];Hs[Js]=Ns}),Hs}))},_s.forEach(function(Ss){Es.prototype[Ss]=function(){var Bs=this._baseState;throw new Error(Ss+" not implemented for encoding: "+Bs.enc)}}),ws.forEach(function(Ss){Es.prototype[Ss]=function(){var Bs=this._baseState,Is=Array.prototype.slice.call(arguments);return ms(Bs.tag===null),Bs.tag=Ss,this._useArgs(Is),this}}),Es.prototype.use=function(Rs){ms(Rs);var Bs=this._baseState;return ms(Bs.use===null),Bs.use=Rs,this},Es.prototype.optional=function(){var Rs=this._baseState;return Rs.optional=!0,this},Es.prototype.def=function(Rs){var Bs=this._baseState;return ms(Bs.default===null),Bs.default=Rs,Bs.optional=!0,this},Es.prototype.explicit=function(Rs){var Bs=this._baseState;return ms(Bs.explicit===null&&Bs.implicit===null),Bs.explicit=Rs,this},Es.prototype.implicit=function(Rs){var Bs=this._baseState;return ms(Bs.explicit===null&&Bs.implicit===null),Bs.implicit=Rs,this},Es.prototype.obj=function(){var Rs=this._baseState,Bs=Array.prototype.slice.call(arguments);return Rs.obj=!0,Bs.length!==0&&this._useArgs(Bs),this},Es.prototype.key=function(Rs){var Bs=this._baseState;return ms(Bs.key===null),Bs.key=Rs,this},Es.prototype.any=function(){var Rs=this._baseState;return Rs.any=!0,this},Es.prototype.choice=function(Rs){var Bs=this._baseState;return ms(Bs.choice===null),Bs.choice=Rs,this._useArgs(Object.keys(Rs).map(function(Is){return Rs[Is]})),this},Es.prototype.contains=function(Rs){var Bs=this._baseState;return ms(Bs.use===null),Bs.contains=Rs,this},Es.prototype._decode=function(Rs,Bs){var Is=this._baseState;if(Is.parent===null)return Rs.wrapResult(Is.children[0]._decode(Rs,Bs));var Ws=Is.default,Hs=!0,Ns=null;if(Is.key!==null&&(Ns=Rs.enterKey(Is.key)),Is.optional){var Js=null;if(Is.explicit!==null?Js=Is.explicit:Is.implicit!==null?Js=Is.implicit:Is.tag!==null&&(Js=Is.tag),Js===null&&!Is.any){var ha=Rs.save();try{Is.choice===null?this._decodeGeneric(Is.tag,Rs,Bs):this._decodeChoice(Rs,Bs),Hs=!0}catch{Hs=!1}Rs.restore(ha)}else if(Hs=this._peekTag(Rs,Js,Is.any),Rs.isError(Hs))return Hs}var pa;if(Is.obj&&Hs&&(pa=Rs.enterObject()),Hs){if(Is.explicit!==null){var za=this._decodeTag(Rs,Is.explicit);if(Rs.isError(za))return za;Rs=za}var Ya=Rs.offset;if(Is.use===null&&Is.choice===null){if(Is.any)var ha=Rs.save();var Bc=this._decodeTag(Rs,Is.implicit!==null?Is.implicit:Is.tag,Is.any);if(Rs.isError(Bc))return Bc;Is.any?Ws=Rs.raw(ha):Rs=Bc}if(Bs&&Bs.track&&Is.tag!==null&&Bs.track(Rs.path(),Ya,Rs.length,"tagged"),Bs&&Bs.track&&Is.tag!==null&&Bs.track(Rs.path(),Rs.offset,Rs.length,"content"),Is.any?Ws=Ws:Is.choice===null?Ws=this._decodeGeneric(Is.tag,Rs,Bs):Ws=this._decodeChoice(Rs,Bs),Rs.isError(Ws))return Ws;if(!Is.any&&Is.choice===null&&Is.children!==null&&Is.children.forEach(function(eu){eu._decode(Rs,Bs)}),Is.contains&&(Is.tag==="octstr"||Is.tag==="bitstr")){var Qa=new et(Ws);Ws=this._getUse(Is.contains,Rs._reporterState.obj)._decode(Qa,Bs)}}return Is.obj&&Hs&&(Ws=Rs.leaveObject(pa)),Is.key!==null&&(Ws!==null||Hs===!0)?Rs.leaveKey(Ns,Is.key,Ws):Ns!==null&&Rs.exitKey(Ns),Ws},Es.prototype._decodeGeneric=function(Rs,Bs,Is){var Ws=this._baseState;return Rs==="seq"||Rs==="set"?null:Rs==="seqof"||Rs==="setof"?this._decodeList(Bs,Rs,Ws.args[0],Is):/str$/.test(Rs)?this._decodeStr(Bs,Rs,Is):Rs==="objid"&&Ws.args?this._decodeObjid(Bs,Ws.args[0],Ws.args[1],Is):Rs==="objid"?this._decodeObjid(Bs,null,null,Is):Rs==="gentime"||Rs==="utctime"?this._decodeTime(Bs,Rs,Is):Rs==="null_"?this._decodeNull(Bs,Is):Rs==="bool"?this._decodeBool(Bs,Is):Rs==="objDesc"?this._decodeStr(Bs,Rs,Is):Rs==="int"||Rs==="enum"?this._decodeInt(Bs,Ws.args&&Ws.args[0],Is):Ws.use!==null?this._getUse(Ws.use,Bs._reporterState.obj)._decode(Bs,Is):Bs.error("unknown tag: "+Rs)},Es.prototype._getUse=function(Rs,Bs){var Is=this._baseState;return Is.useDecoder=this._use(Rs,Bs),ms(Is.useDecoder._baseState.parent===null),Is.useDecoder=Is.useDecoder._baseState.children[0],Is.implicit!==Is.useDecoder._baseState.implicit&&(Is.useDecoder=Is.useDecoder.clone(),Is.useDecoder._baseState.implicit=Is.implicit),Is.useDecoder},Es.prototype._decodeChoice=function(Rs,Bs){var Is=this._baseState,Ws=null,Hs=!1;return Object.keys(Is.choice).some(function(Ns){var Js=Rs.save(),ha=Is.choice[Ns];try{var pa=ha._decode(Rs,Bs);if(Rs.isError(pa))return!1;Ws={type:Ns,value:pa},Hs=!0}catch{return Rs.restore(Js),!1}return!0},this),Hs?Ws:Rs.error("Choice not matched")},Es.prototype._createEncoderBuffer=function(Rs){return new t(Rs,this.reporter)},Es.prototype._encode=function(Rs,Bs,Is){var Ws=this._baseState;if(!(Ws.default!==null&&Ws.default===Rs)){var Hs=this._encodeValue(Rs,Bs,Is);if(Hs!==void 0&&!this._skipDefault(Hs,Bs,Is))return Hs}},Es.prototype._encodeValue=function(Rs,Bs,Is){var Ws=this._baseState;if(Ws.parent===null)return Ws.children[0]._encode(Rs,Bs||new st);var ha=null;if(this.reporter=Bs,Ws.optional&&Rs===void 0)if(Ws.default!==null)Rs=Ws.default;else return;var Hs=null,Ns=!1;if(Ws.any)ha=this._createEncoderBuffer(Rs);else if(Ws.choice)ha=this._encodeChoice(Rs,Bs);else if(Ws.contains)Hs=this._getUse(Ws.contains,Is)._encode(Rs,Bs),Ns=!0;else if(Ws.children)Hs=Ws.children.map(function(Ya){if(Ya._baseState.tag==="null_")return Ya._encode(null,Bs,Rs);if(Ya._baseState.key===null)return Bs.error("Child should have a key");var Bc=Bs.enterKey(Ya._baseState.key);if(typeof Rs!="object")return Bs.error("Child expected, but input is not object");var Qa=Ya._encode(Rs[Ya._baseState.key],Bs,Rs);return Bs.leaveKey(Bc),Qa},this).filter(function(Ya){return Ya}),Hs=this._createEncoderBuffer(Hs);else if(Ws.tag==="seqof"||Ws.tag==="setof"){if(!(Ws.args&&Ws.args.length===1))return Bs.error("Too many args for : "+Ws.tag);if(!Array.isArray(Rs))return Bs.error("seqof/setof, but data is not Array");var Js=this.clone();Js._baseState.implicit=null,Hs=this._createEncoderBuffer(Rs.map(function(Ya){var Bc=this._baseState;return this._getUse(Bc.args[0],Rs)._encode(Ya,Bs)},Js))}else Ws.use!==null?ha=this._getUse(Ws.use,Is)._encode(Rs,Bs):(Hs=this._encodePrimitive(Ws.tag,Rs),Ns=!0);var ha;if(!Ws.any&&Ws.choice===null){var pa=Ws.implicit!==null?Ws.implicit:Ws.tag,za=Ws.implicit===null?"universal":"context";pa===null?Ws.use===null&&Bs.error("Tag could be omitted only for .use()"):Ws.use===null&&(ha=this._encodeComposite(pa,Ns,za,Hs))}return Ws.explicit!==null&&(ha=this._encodeComposite(Ws.explicit,!1,"context",ha)),ha},Es.prototype._encodeChoice=function(Rs,Bs){var Is=this._baseState,Ws=Is.choice[Rs.type];return Ws||ms(!1,Rs.type+" not found in "+JSON.stringify(Object.keys(Is.choice))),Ws._encode(Rs.value,Bs)},Es.prototype._encodePrimitive=function(Rs,Bs){var Is=this._baseState;if(/str$/.test(Rs))return this._encodeStr(Bs,Rs);if(Rs==="objid"&&Is.args)return this._encodeObjid(Bs,Is.reverseArgs[0],Is.args[1]);if(Rs==="objid")return this._encodeObjid(Bs,null,null);if(Rs==="gentime"||Rs==="utctime")return this._encodeTime(Bs,Rs);if(Rs==="null_")return this._encodeNull();if(Rs==="int"||Rs==="enum")return this._encodeInt(Bs,Is.args&&Is.reverseArgs[0]);if(Rs==="bool")return this._encodeBool(Bs);if(Rs==="objDesc")return this._encodeStr(Bs,Rs);throw new Error("Unsupported tag: "+Rs)},Es.prototype._isNumstr=function(Rs){return/^[0-9 ]*$/.test(Rs)},Es.prototype._isPrintstr=function(Rs){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Rs)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(st){var t=st;t.Reporter=requireReporter().Reporter,t.DecoderBuffer=requireBuffer().DecoderBuffer,t.EncoderBuffer=requireBuffer().EncoderBuffer,t.Node=requireNode$1()}(base$2)),base$2}var constants$3={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(st){var t=requireConstants$3();st.tagClass={0:"universal",1:"application",2:"context",3:"private"},st.tagClassByName=t._reverse(st.tagClass),st.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},st.tagByName=t._reverse(st.tag)}(der)),der}var hasRequiredConstants$3;function requireConstants$3(){return hasRequiredConstants$3||(hasRequiredConstants$3=1,function(st){var t=st;t._reverse=function(ms){var ws={};return Object.keys(ms).forEach(function(vs){(vs|0)==vs&&(vs=vs|0);var _s=ms[vs];ws[_s]=vs}),ws},t.der=requireDer$2()}(constants$3)),constants$3}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var st=requireInherits_browser(),t=requireAsn1$1(),et=t.base,ms=t.bignum,ws=t.constants.der;function vs(Ss){this.enc="der",this.name=Ss.name,this.entity=Ss,this.tree=new _s,this.tree._init(Ss.body)}der_1$1=vs,vs.prototype.decode=function(Rs,Bs){return Rs instanceof et.DecoderBuffer||(Rs=new et.DecoderBuffer(Rs,Bs)),this.tree._decode(Rs,Bs)};function _s(Ss){et.Node.call(this,"der",Ss)}st(_s,et.Node),_s.prototype._peekTag=function(Rs,Bs,Is){if(Rs.isEmpty())return!1;var Ws=Rs.save(),Hs=Es(Rs,'Failed to peek tag: "'+Bs+'"');return Rs.isError(Hs)?Hs:(Rs.restore(Ws),Hs.tag===Bs||Hs.tagStr===Bs||Hs.tagStr+"of"===Bs||Is)},_s.prototype._decodeTag=function(Rs,Bs,Is){var Ws=Es(Rs,'Failed to decode tag of "'+Bs+'"');if(Rs.isError(Ws))return Ws;var Hs=Ts(Rs,Ws.primitive,'Failed to get length of "'+Bs+'"');if(Rs.isError(Hs))return Hs;if(!Is&&Ws.tag!==Bs&&Ws.tagStr!==Bs&&Ws.tagStr+"of"!==Bs)return Rs.error('Failed to match tag: "'+Bs+'"');if(Ws.primitive||Hs!==null)return Rs.skip(Hs,'Failed to match body of: "'+Bs+'"');var Ns=Rs.save(),Js=this._skipUntilEnd(Rs,'Failed to skip indefinite length body: "'+this.tag+'"');return Rs.isError(Js)?Js:(Hs=Rs.offset-Ns.offset,Rs.restore(Ns),Rs.skip(Hs,'Failed to match body of: "'+Bs+'"'))},_s.prototype._skipUntilEnd=function(Rs,Bs){for(;;){var Is=Es(Rs,Bs);if(Rs.isError(Is))return Is;var Ws=Ts(Rs,Is.primitive,Bs);if(Rs.isError(Ws))return Ws;var Hs;if(Is.primitive||Ws!==null?Hs=Rs.skip(Ws):Hs=this._skipUntilEnd(Rs,Bs),Rs.isError(Hs))return Hs;if(Is.tagStr==="end")break}},_s.prototype._decodeList=function(Rs,Bs,Is,Ws){for(var Hs=[];!Rs.isEmpty();){var Ns=this._peekTag(Rs,"end");if(Rs.isError(Ns))return Ns;var Js=Is.decode(Rs,"der",Ws);if(Rs.isError(Js)&&Ns)break;Hs.push(Js)}return Hs},_s.prototype._decodeStr=function(Rs,Bs){if(Bs==="bitstr"){var Is=Rs.readUInt8();return Rs.isError(Is)?Is:{unused:Is,data:Rs.raw()}}else if(Bs==="bmpstr"){var Ws=Rs.raw();if(Ws.length%2===1)return Rs.error("Decoding of string type: bmpstr length mismatch");for(var Hs="",Ns=0;Ns<Ws.length/2;Ns++)Hs+=String.fromCharCode(Ws.readUInt16BE(Ns*2));return Hs}else if(Bs==="numstr"){var Js=Rs.raw().toString("ascii");return this._isNumstr(Js)?Js:Rs.error("Decoding of string type: numstr unsupported characters")}else{if(Bs==="octstr")return Rs.raw();if(Bs==="objDesc")return Rs.raw();if(Bs==="printstr"){var ha=Rs.raw().toString("ascii");return this._isPrintstr(ha)?ha:Rs.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(Bs)?Rs.raw().toString():Rs.error("Decoding of string type: "+Bs+" unsupported")}},_s.prototype._decodeObjid=function(Rs,Bs,Is){for(var Ws,Hs=[],Ns=0;!Rs.isEmpty();){var Js=Rs.readUInt8();Ns<<=7,Ns|=Js&127,(Js&128)===0&&(Hs.push(Ns),Ns=0)}Js&128&&Hs.push(Ns);var ha=Hs[0]/40|0,pa=Hs[0]%40;if(Is?Ws=Hs:Ws=[ha,pa].concat(Hs.slice(1)),Bs){var za=Bs[Ws.join(" ")];za===void 0&&(za=Bs[Ws.join(".")]),za!==void 0&&(Ws=za)}return Ws},_s.prototype._decodeTime=function(Rs,Bs){var Is=Rs.raw().toString();if(Bs==="gentime")var Ws=Is.slice(0,4)|0,Hs=Is.slice(4,6)|0,Ns=Is.slice(6,8)|0,Js=Is.slice(8,10)|0,ha=Is.slice(10,12)|0,pa=Is.slice(12,14)|0;else if(Bs==="utctime"){var Ws=Is.slice(0,2)|0,Hs=Is.slice(2,4)|0,Ns=Is.slice(4,6)|0,Js=Is.slice(6,8)|0,ha=Is.slice(8,10)|0,pa=Is.slice(10,12)|0;Ws<70?Ws=2e3+Ws:Ws=1900+Ws}else return Rs.error("Decoding "+Bs+" time is not supported yet");return Date.UTC(Ws,Hs-1,Ns,Js,ha,pa,0)},_s.prototype._decodeNull=function(Rs){return null},_s.prototype._decodeBool=function(Rs){var Bs=Rs.readUInt8();return Rs.isError(Bs)?Bs:Bs!==0},_s.prototype._decodeInt=function(Rs,Bs){var Is=Rs.raw(),Ws=new ms(Is);return Bs&&(Ws=Bs[Ws.toString(10)]||Ws),Ws},_s.prototype._use=function(Rs,Bs){return typeof Rs=="function"&&(Rs=Rs(Bs)),Rs._getDecoder("der").tree};function Es(Ss,Rs){var Bs=Ss.readUInt8(Rs);if(Ss.isError(Bs))return Bs;var Is=ws.tagClass[Bs>>6],Ws=(Bs&32)===0;if((Bs&31)===31){var Hs=Bs;for(Bs=0;(Hs&128)===128;){if(Hs=Ss.readUInt8(Rs),Ss.isError(Hs))return Hs;Bs<<=7,Bs|=Hs&127}}else Bs&=31;var Ns=ws.tag[Bs];return{cls:Is,primitive:Ws,tag:Bs,tagStr:Ns}}function Ts(Ss,Rs,Bs){var Is=Ss.readUInt8(Bs);if(Ss.isError(Is))return Is;if(!Rs&&Is===128)return null;if((Is&128)===0)return Is;var Ws=Is&127;if(Ws>4)return Ss.error("length octect is too long");Is=0;for(var Hs=0;Hs<Ws;Hs++){Is<<=8;var Ns=Ss.readUInt8(Bs);if(Ss.isError(Ns))return Ns;Is|=Ns}return Is}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var st=requireInherits_browser(),t=requireDist().Buffer,et=requireDer$1();function ms(ws){et.call(this,ws),this.enc="pem"}return st(ms,et),pem$1=ms,ms.prototype.decode=function(vs,_s){for(var Es=vs.toString().split(/[\r\n]+/g),Ts=_s.label.toUpperCase(),Ss=/^-----(BEGIN|END) ([^-]+)-----$/,Rs=-1,Bs=-1,Is=0;Is<Es.length;Is++){var Ws=Es[Is].match(Ss);if(Ws!==null&&Ws[2]===Ts)if(Rs===-1){if(Ws[1]!=="BEGIN")break;Rs=Is}else{if(Ws[1]!=="END")break;Bs=Is;break}}if(Rs===-1||Bs===-1)throw new Error("PEM section not found for: "+Ts);var Hs=Es.slice(Rs+1,Bs).join("");Hs.replace(/[^a-z0-9\+\/=]+/gi,"");var Ns=new t(Hs,"base64");return et.prototype.decode.call(this,Ns,_s)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(st){var t=st;t.der=requireDer$1(),t.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var st=requireInherits_browser(),t=requireDist().Buffer,et=requireAsn1$1(),ms=et.base,ws=et.constants.der;function vs(Ss){this.enc="der",this.name=Ss.name,this.entity=Ss,this.tree=new _s,this.tree._init(Ss.body)}der_1=vs,vs.prototype.encode=function(Rs,Bs){return this.tree._encode(Rs,Bs).join()};function _s(Ss){ms.Node.call(this,"der",Ss)}st(_s,ms.Node),_s.prototype._encodeComposite=function(Rs,Bs,Is,Ws){var Hs=Ts(Rs,Bs,Is,this.reporter);if(Ws.length<128){var ha=new t(2);return ha[0]=Hs,ha[1]=Ws.length,this._createEncoderBuffer([ha,Ws])}for(var Ns=1,Js=Ws.length;Js>=256;Js>>=8)Ns++;var ha=new t(2+Ns);ha[0]=Hs,ha[1]=128|Ns;for(var Js=1+Ns,pa=Ws.length;pa>0;Js--,pa>>=8)ha[Js]=pa&255;return this._createEncoderBuffer([ha,Ws])},_s.prototype._encodeStr=function(Rs,Bs){if(Bs==="bitstr")return this._createEncoderBuffer([Rs.unused|0,Rs.data]);if(Bs==="bmpstr"){for(var Is=new t(Rs.length*2),Ws=0;Ws<Rs.length;Ws++)Is.writeUInt16BE(Rs.charCodeAt(Ws),Ws*2);return this._createEncoderBuffer(Is)}else return Bs==="numstr"?this._isNumstr(Rs)?this._createEncoderBuffer(Rs):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Bs==="printstr"?this._isPrintstr(Rs)?this._createEncoderBuffer(Rs):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Bs)?this._createEncoderBuffer(Rs):Bs==="objDesc"?this._createEncoderBuffer(Rs):this.reporter.error("Encoding of string type: "+Bs+" unsupported")},_s.prototype._encodeObjid=function(Rs,Bs,Is){if(typeof Rs=="string"){if(!Bs)return this.reporter.error("string objid given, but no values map found");if(!Bs.hasOwnProperty(Rs))return this.reporter.error("objid not found in values map");Rs=Bs[Rs].split(/[\s\.]+/g);for(var Ws=0;Ws<Rs.length;Ws++)Rs[Ws]|=0}else if(Array.isArray(Rs)){Rs=Rs.slice();for(var Ws=0;Ws<Rs.length;Ws++)Rs[Ws]|=0}if(!Array.isArray(Rs))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Rs));if(!Is){if(Rs[1]>=40)return this.reporter.error("Second objid identifier OOB");Rs.splice(0,2,Rs[0]*40+Rs[1])}for(var Hs=0,Ws=0;Ws<Rs.length;Ws++){var Ns=Rs[Ws];for(Hs++;Ns>=128;Ns>>=7)Hs++}for(var Js=new t(Hs),ha=Js.length-1,Ws=Rs.length-1;Ws>=0;Ws--){var Ns=Rs[Ws];for(Js[ha--]=Ns&127;(Ns>>=7)>0;)Js[ha--]=128|Ns&127}return this._createEncoderBuffer(Js)};function Es(Ss){return Ss<10?"0"+Ss:Ss}_s.prototype._encodeTime=function(Rs,Bs){var Is,Ws=new Date(Rs);return Bs==="gentime"?Is=[Es(Ws.getFullYear()),Es(Ws.getUTCMonth()+1),Es(Ws.getUTCDate()),Es(Ws.getUTCHours()),Es(Ws.getUTCMinutes()),Es(Ws.getUTCSeconds()),"Z"].join(""):Bs==="utctime"?Is=[Es(Ws.getFullYear()%100),Es(Ws.getUTCMonth()+1),Es(Ws.getUTCDate()),Es(Ws.getUTCHours()),Es(Ws.getUTCMinutes()),Es(Ws.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Bs+" time is not supported yet"),this._encodeStr(Is,"octstr")},_s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},_s.prototype._encodeInt=function(Rs,Bs){if(typeof Rs=="string"){if(!Bs)return this.reporter.error("String int or enum given, but no values map");if(!Bs.hasOwnProperty(Rs))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Rs));Rs=Bs[Rs]}if(typeof Rs!="number"&&!t.isBuffer(Rs)){var Is=Rs.toArray();!Rs.sign&&Is[0]&128&&Is.unshift(0),Rs=new t(Is)}if(t.isBuffer(Rs)){var Ws=Rs.length;Rs.length===0&&Ws++;var Ns=new t(Ws);return Rs.copy(Ns),Rs.length===0&&(Ns[0]=0),this._createEncoderBuffer(Ns)}if(Rs<128)return this._createEncoderBuffer(Rs);if(Rs<256)return this._createEncoderBuffer([0,Rs]);for(var Ws=1,Hs=Rs;Hs>=256;Hs>>=8)Ws++;for(var Ns=new Array(Ws),Hs=Ns.length-1;Hs>=0;Hs--)Ns[Hs]=Rs&255,Rs>>=8;return Ns[0]&128&&Ns.unshift(0),this._createEncoderBuffer(new t(Ns))},_s.prototype._encodeBool=function(Rs){return this._createEncoderBuffer(Rs?255:0)},_s.prototype._use=function(Rs,Bs){return typeof Rs=="function"&&(Rs=Rs(Bs)),Rs._getEncoder("der").tree},_s.prototype._skipDefault=function(Rs,Bs,Is){var Ws=this._baseState,Hs;if(Ws.default===null)return!1;var Ns=Rs.join();if(Ws.defaultBuffer===void 0&&(Ws.defaultBuffer=this._encodeValue(Ws.default,Bs,Is).join()),Ns.length!==Ws.defaultBuffer.length)return!1;for(Hs=0;Hs<Ns.length;Hs++)if(Ns[Hs]!==Ws.defaultBuffer[Hs])return!1;return!0};function Ts(Ss,Rs,Bs,Is){var Ws;if(Ss==="seqof"?Ss="seq":Ss==="setof"&&(Ss="set"),ws.tagByName.hasOwnProperty(Ss))Ws=ws.tagByName[Ss];else if(typeof Ss=="number"&&(Ss|0)===Ss)Ws=Ss;else return Is.error("Unknown tag: "+Ss);return Ws>=31?Is.error("Multi-octet tag encoding unsupported"):(Rs||(Ws|=32),Ws|=ws.tagClassByName[Bs||"universal"]<<6,Ws)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var st=requireInherits_browser(),t=requireDer();function et(ms){t.call(this,ms),this.enc="pem"}return st(et,t),pem=et,et.prototype.encode=function(ws,vs){for(var _s=t.prototype.encode.call(this,ws),Es=_s.toString("base64"),Ts=["-----BEGIN "+vs.label+"-----"],Ss=0;Ss<Es.length;Ss+=64)Ts.push(Es.slice(Ss,Ss+64));return Ts.push("-----END "+vs.label+"-----"),Ts.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(st){var t=st;t.der=requireDer(),t.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(st){var t=st;t.bignum=requireBn$1(),t.define=requireApi().define,t.base=requireBase(),t.constants=requireConstants$3(),t.decoders=requireDecoders(),t.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var st=requireAsn1$1(),t=st.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),et=st.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),ms=st.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),ws=st.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ms),this.key("subjectPublicKey").bitstr())}),vs=st.define("RelativeDistinguishedName",function(){this.setof(et)}),_s=st.define("RDNSequence",function(){this.seqof(vs)}),Es=st.define("Name",function(){this.choice({rdnSequence:this.use(_s)})}),Ts=st.define("Validity",function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))}),Ss=st.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Rs=st.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(ms),this.key("issuer").use(Es),this.key("validity").use(Ts),this.key("subject").use(Es),this.key("subjectPublicKeyInfo").use(ws),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Ss).optional())}),Bs=st.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Rs),this.key("signatureAlgorithm").use(ms),this.key("signatureValue").bitstr())});return certificate=Bs,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var st=requireAsn1$1();asn1$1.certificate=requireCertificate();var t=st.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=t;var et=st.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=et;var ms=st.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ws=st.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ms),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=ws;var vs=st.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(ms),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=vs;var _s=st.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=_s;var Es=st.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=Es,asn1$1.DSAparam=st.define("DSAparam",function(){this.int()});var Ts=st.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Ss=st.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Ts),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Ss,asn1$1.signature=st.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var st=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,ms=requireEvp_bytestokey(),ws=requireBrowser$8(),vs=requireSafeBuffer$1().Buffer;return fixProc=function(_s,Es){var Ts=_s.toString(),Ss=Ts.match(st),Rs;if(Ss){var Is="aes"+Ss[1],Ws=vs.from(Ss[2],"hex"),Hs=vs.from(Ss[3].replace(/[\r\n]/g,""),"base64"),Ns=ms(Es,Ws.slice(0,8),parseInt(Ss[1],10)).key,Js=[],ha=ws.createDecipheriv(Is,Ns,Ws);Js.push(ha.update(Hs)),Js.push(ha.final()),Rs=vs.concat(Js)}else{var Bs=Ts.match(et);Rs=vs.from(Bs[2].replace(/[\r\n]/g,""),"base64")}var pa=Ts.match(t)[1];return{tag:pa,data:Rs}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var st=requireAsn1(),t=require$$1$1,et=requireFixProc(),ms=requireBrowser$8(),ws=requireBrowser$9(),vs=requireSafeBuffer$1().Buffer;function _s(Ts,Ss){var Rs=Ts.algorithm.decrypt.kde.kdeparams.salt,Bs=parseInt(Ts.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Is=t[Ts.algorithm.decrypt.cipher.algo.join(".")],Ws=Ts.algorithm.decrypt.cipher.iv,Hs=Ts.subjectPrivateKey,Ns=parseInt(Is.split("-")[1],10)/8,Js=ws.pbkdf2Sync(Ss,Rs,Bs,Ns,"sha1"),ha=ms.createDecipheriv(Is,Js,Ws),pa=[];return pa.push(ha.update(Hs)),pa.push(ha.final()),vs.concat(pa)}function Es(Ts){var Ss;typeof Ts=="object"&&!vs.isBuffer(Ts)&&(Ss=Ts.passphrase,Ts=Ts.key),typeof Ts=="string"&&(Ts=vs.from(Ts));var Rs=et(Ts,Ss),Bs=Rs.tag,Is=Rs.data,Ws,Hs;switch(Bs){case"CERTIFICATE":Hs=st.certificate.decode(Is,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Hs||(Hs=st.PublicKey.decode(Is,"der")),Ws=Hs.algorithm.algorithm.join("."),Ws){case"1.2.840.113549.1.1.1":return st.RSAPublicKey.decode(Hs.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Hs.subjectPrivateKey=Hs.subjectPublicKey,{type:"ec",data:Hs};case"1.2.840.10040.4.1":return Hs.algorithm.params.pub_key=st.DSAparam.decode(Hs.subjectPublicKey.data,"der"),{type:"dsa",data:Hs.algorithm.params};default:throw new Error("unknown key id "+Ws)}case"ENCRYPTED PRIVATE KEY":Is=st.EncryptedPrivateKey.decode(Is,"der"),Is=_s(Is,Ss);case"PRIVATE KEY":switch(Hs=st.PrivateKey.decode(Is,"der"),Ws=Hs.algorithm.algorithm.join("."),Ws){case"1.2.840.113549.1.1.1":return st.RSAPrivateKey.decode(Hs.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Hs.algorithm.curve,privateKey:st.ECPrivateKey.decode(Hs.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Hs.algorithm.params.priv_key=st.DSAparam.decode(Hs.subjectPrivateKey,"der"),{type:"dsa",params:Hs.algorithm.params};default:throw new Error("unknown key id "+Ws)}case"RSA PUBLIC KEY":return st.RSAPublicKey.decode(Is,"der");case"RSA PRIVATE KEY":return st.RSAPrivateKey.decode(Is,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:st.DSAPrivateKey.decode(Is,"der")};case"EC PRIVATE KEY":return Is=st.ECPrivateKey.decode(Is,"der"),{curve:Is.parameters.value,privateKey:Is.privateKey};default:throw new Error("unknown key type "+Bs)}}return Es.signature=st.signature,parseAsn1=Es,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var st=requireSafeBuffer$1().Buffer,t=requireBrowser$a(),et=requireBrowserifyRsa(),ms=requireElliptic().ec,ws=requireBn(),vs=requireParseAsn1(),_s=require$$4,Es=1;function Ts(ha,pa,za,Ya,Bc){var Qa=vs(pa);if(Qa.curve){if(Ya!=="ecdsa"&&Ya!=="ecdsa/rsa")throw new Error("wrong private key type");return Ss(ha,Qa)}else if(Qa.type==="dsa"){if(Ya!=="dsa")throw new Error("wrong private key type");return Rs(ha,Qa,za)}if(Ya!=="rsa"&&Ya!=="ecdsa/rsa")throw new Error("wrong private key type");if(pa.padding!==void 0&&pa.padding!==Es)throw new Error("illegal or unsupported padding mode");ha=st.concat([Bc,ha]);for(var tu=Qa.modulus.byteLength(),eu=[0,1];ha.length+eu.length+1<tu;)eu.push(255);eu.push(0);for(var ru=-1;++ru<ha.length;)eu.push(ha[ru]);var cu=et(eu,Qa);return cu}function Ss(ha,pa){var za=_s[pa.curve.join(".")];if(!za)throw new Error("unknown curve "+pa.curve.join("."));var Ya=new ms(za),Bc=Ya.keyFromPrivate(pa.privateKey),Qa=Bc.sign(ha);return st.from(Qa.toDER())}function Rs(ha,pa,za){for(var Ya=pa.params.priv_key,Bc=pa.params.p,Qa=pa.params.q,tu=pa.params.g,eu=new ws(0),ru,cu=Ws(ha,Qa).mod(Qa),ou=!1,Ga=Is(Ya,Qa,ha,za);ou===!1;)ru=Ns(Qa,Ga,za),eu=Js(tu,ru,Bc,Qa),ou=ru.invm(Qa).imul(cu.add(Ya.mul(eu))).mod(Qa),ou.cmpn(0)===0&&(ou=!1,eu=new ws(0));return Bs(eu,ou)}function Bs(ha,pa){ha=ha.toArray(),pa=pa.toArray(),ha[0]&128&&(ha=[0].concat(ha)),pa[0]&128&&(pa=[0].concat(pa));var za=ha.length+pa.length+4,Ya=[48,za,2,ha.length];return Ya=Ya.concat(ha,[2,pa.length],pa),st.from(Ya)}function Is(ha,pa,za,Ya){if(ha=st.from(ha.toArray()),ha.length<pa.byteLength()){var Bc=st.alloc(pa.byteLength()-ha.length);ha=st.concat([Bc,ha])}var Qa=za.length,tu=Hs(za,pa),eu=st.alloc(Qa);eu.fill(1);var ru=st.alloc(Qa);return ru=t(Ya,ru).update(eu).update(st.from([0])).update(ha).update(tu).digest(),eu=t(Ya,ru).update(eu).digest(),ru=t(Ya,ru).update(eu).update(st.from([1])).update(ha).update(tu).digest(),eu=t(Ya,ru).update(eu).digest(),{k:ru,v:eu}}function Ws(ha,pa){var za=new ws(ha),Ya=(ha.length<<3)-pa.bitLength();return Ya>0&&za.ishrn(Ya),za}function Hs(ha,pa){ha=Ws(ha,pa),ha=ha.mod(pa);var za=st.from(ha.toArray());if(za.length<pa.byteLength()){var Ya=st.alloc(pa.byteLength()-za.length);za=st.concat([Ya,za])}return za}function Ns(ha,pa,za){var Ya,Bc;do{for(Ya=st.alloc(0);Ya.length*8<ha.bitLength();)pa.v=t(za,pa.k).update(pa.v).digest(),Ya=st.concat([Ya,pa.v]);Bc=Ws(Ya,ha),pa.k=t(za,pa.k).update(pa.v).update(st.from([0])).digest(),pa.v=t(za,pa.k).update(pa.v).digest()}while(Bc.cmp(ha)!==-1);return Bc}function Js(ha,pa,za,Ya){return ha.toRed(ws.mont(za)).redPow(pa).fromRed().mod(Ya)}return sign.exports=Ts,sign.exports.getKey=Is,sign.exports.makeKey=Ns,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var st=requireSafeBuffer$1().Buffer,t=requireBn(),et=requireElliptic().ec,ms=requireParseAsn1(),ws=require$$4;function vs(Ss,Rs,Bs,Is,Ws){var Hs=ms(Bs);if(Hs.type==="ec"){if(Is!=="ecdsa"&&Is!=="ecdsa/rsa")throw new Error("wrong public key type");return _s(Ss,Rs,Hs)}else if(Hs.type==="dsa"){if(Is!=="dsa")throw new Error("wrong public key type");return Es(Ss,Rs,Hs)}if(Is!=="rsa"&&Is!=="ecdsa/rsa")throw new Error("wrong public key type");Rs=st.concat([Ws,Rs]);for(var Ns=Hs.modulus.byteLength(),Js=[1],ha=0;Rs.length+Js.length+2<Ns;)Js.push(255),ha+=1;Js.push(0);for(var pa=-1;++pa<Rs.length;)Js.push(Rs[pa]);Js=st.from(Js);var za=t.mont(Hs.modulus);Ss=new t(Ss).toRed(za),Ss=Ss.redPow(new t(Hs.publicExponent)),Ss=st.from(Ss.fromRed().toArray());var Ya=ha<8?1:0;for(Ns=Math.min(Ss.length,Js.length),Ss.length!==Js.length&&(Ya=1),pa=-1;++pa<Ns;)Ya|=Ss[pa]^Js[pa];return Ya===0}function _s(Ss,Rs,Bs){var Is=ws[Bs.data.algorithm.curve.join(".")];if(!Is)throw new Error("unknown curve "+Bs.data.algorithm.curve.join("."));var Ws=new et(Is),Hs=Bs.data.subjectPrivateKey.data;return Ws.verify(Rs,Ss,Hs)}function Es(Ss,Rs,Bs){var Is=Bs.data.p,Ws=Bs.data.q,Hs=Bs.data.g,Ns=Bs.data.pub_key,Js=ms.signature.decode(Ss,"der"),ha=Js.s,pa=Js.r;Ts(ha,Ws),Ts(pa,Ws);var za=t.mont(Is),Ya=ha.invm(Ws),Bc=Hs.toRed(za).redPow(new t(Rs).mul(Ya).mod(Ws)).fromRed().mul(Ns.toRed(za).redPow(pa.mul(Ya).mod(Ws)).fromRed()).mod(Is).mod(Ws);return Bc.cmp(pa)===0}function Ts(Ss,Rs){if(Ss.cmpn(0)<=0)throw new Error("invalid sig");if(Ss.cmp(Rs)>=0)throw new Error("invalid sig")}return verify_1=vs,verify_1}var browser$5,hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$5;hasRequiredBrowser$5=1;var st=requireSafeBuffer$1().Buffer,t=requireBrowser$b(),et=requireReadableBrowser(),ms=requireInherits_browser(),ws=requireSign(),vs=requireVerify(),_s=require$$6;Object.keys(_s).forEach(function(Bs){_s[Bs].id=st.from(_s[Bs].id,"hex"),_s[Bs.toLowerCase()]=_s[Bs]});function Es(Bs){et.Writable.call(this);var Is=_s[Bs];if(!Is)throw new Error("Unknown message digest");this._hashType=Is.hash,this._hash=t(Is.hash),this._tag=Is.id,this._signType=Is.sign}ms(Es,et.Writable),Es.prototype._write=function(Is,Ws,Hs){this._hash.update(Is),Hs()},Es.prototype.update=function(Is,Ws){return this._hash.update(typeof Is=="string"?st.from(Is,Ws):Is),this},Es.prototype.sign=function(Is,Ws){this.end();var Hs=this._hash.digest(),Ns=ws(Hs,Is,this._hashType,this._signType,this._tag);return Ws?Ns.toString(Ws):Ns};function Ts(Bs){et.Writable.call(this);var Is=_s[Bs];if(!Is)throw new Error("Unknown message digest");this._hash=t(Is.hash),this._tag=Is.id,this._signType=Is.sign}ms(Ts,et.Writable),Ts.prototype._write=function(Is,Ws,Hs){this._hash.update(Is),Hs()},Ts.prototype.update=function(Is,Ws){return this._hash.update(typeof Is=="string"?st.from(Is,Ws):Is),this},Ts.prototype.verify=function(Is,Ws,Hs){var Ns=typeof Ws=="string"?st.from(Ws,Hs):Ws;this.end();var Js=this._hash.digest();return vs(Ns,Js,Is,this._signType,this._tag)};function Ss(Bs){return new Es(Bs)}function Rs(Bs){return new Ts(Bs)}return browser$5={Sign:Ss,Verify:Rs,createSign:Ss,createVerify:Rs},browser$5}var browser$4,hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var st=requireElliptic(),t=requireBn$1();browser$4=function(_s){return new ms(_s)};var et={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};et.p224=et.secp224r1,et.p256=et.secp256r1=et.prime256v1,et.p192=et.secp192r1=et.prime192v1,et.p384=et.secp384r1,et.p521=et.secp521r1;function ms(vs){this.curveType=et[vs],this.curveType||(this.curveType={name:vs}),this.curve=new st.ec(this.curveType.name),this.keys=void 0}ms.prototype.generateKeys=function(vs,_s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(vs,_s)},ms.prototype.computeSecret=function(vs,_s,Es){_s=_s||"utf8",Buffer.isBuffer(vs)||(vs=new Buffer(vs,_s));var Ts=this.curve.keyFromPublic(vs).getPublic(),Ss=Ts.mul(this.keys.getPrivate()).getX();return ws(Ss,Es,this.curveType.byteLength)},ms.prototype.getPublicKey=function(vs,_s){var Es=this.keys.getPublic(_s==="compressed",!0);return _s==="hybrid"&&(Es[Es.length-1]%2?Es[0]=7:Es[0]=6),ws(Es,vs)},ms.prototype.getPrivateKey=function(vs){return ws(this.keys.getPrivate(),vs)},ms.prototype.setPublicKey=function(vs,_s){return _s=_s||"utf8",Buffer.isBuffer(vs)||(vs=new Buffer(vs,_s)),this.keys._importPublic(vs),this},ms.prototype.setPrivateKey=function(vs,_s){_s=_s||"utf8",Buffer.isBuffer(vs)||(vs=new Buffer(vs,_s));var Es=new t(vs);return Es=Es.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(Es),this};function ws(vs,_s,Es){Array.isArray(vs)||(vs=vs.toArray());var Ts=new Buffer(vs);if(Es&&Ts.length<Es){var Ss=new Buffer(Es-Ts.length);Ss.fill(0),Ts=Buffer.concat([Ss,Ts])}return _s?Ts.toString(_s):Ts}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var st=requireBrowser$b(),t=requireSafeBuffer$1().Buffer;mgf=function(ms,ws){for(var vs=t.alloc(0),_s=0,Es;vs.length<ws;)Es=et(_s++),vs=t.concat([vs,st("sha1").update(ms).update(Es).digest()]);return vs.slice(0,ws)};function et(ms){var ws=t.allocUnsafe(4);return ws.writeUInt32BE(ms,0),ws}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(t,et){for(var ms=t.length,ws=-1;++ws<ms;)t[ws]^=et[ws];return t}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var st=requireBn$1(),t=requireSafeBuffer$1().Buffer;function et(ms,ws){return t.from(ms.toRed(st.mont(ws.modulus)).redPow(new st(ws.publicExponent)).fromRed().toArray())}return withPublic_1=et,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var st=requireParseAsn1(),t=requireBrowser$d(),et=requireBrowser$b(),ms=requireMgf(),ws=requireXor(),vs=requireBn$1(),_s=requireWithPublic(),Es=requireBrowserifyRsa(),Ts=requireSafeBuffer$1().Buffer;publicEncrypt=function(Ws,Hs,Ns){var Js;Ws.padding?Js=Ws.padding:Ns?Js=1:Js=4;var ha=st(Ws),pa;if(Js===4)pa=Ss(ha,Hs);else if(Js===1)pa=Rs(ha,Hs,Ns);else if(Js===3){if(pa=new vs(Hs),pa.cmp(ha.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Ns?Es(pa,ha):_s(pa,ha)};function Ss(Is,Ws){var Hs=Is.modulus.byteLength(),Ns=Ws.length,Js=et("sha1").update(Ts.alloc(0)).digest(),ha=Js.length,pa=2*ha;if(Ns>Hs-pa-2)throw new Error("message too long");var za=Ts.alloc(Hs-Ns-pa-2),Ya=Hs-ha-1,Bc=t(ha),Qa=ws(Ts.concat([Js,za,Ts.alloc(1,1),Ws],Ya),ms(Bc,Ya)),tu=ws(Bc,ms(Qa,ha));return new vs(Ts.concat([Ts.alloc(1),tu,Qa],Hs))}function Rs(Is,Ws,Hs){var Ns=Ws.length,Js=Is.modulus.byteLength();if(Ns>Js-11)throw new Error("message too long");var ha;return Hs?ha=Ts.alloc(Js-Ns-3,255):ha=Bs(Js-Ns-3),new vs(Ts.concat([Ts.from([0,Hs?1:2]),ha,Ts.alloc(1),Ws],Js))}function Bs(Is){for(var Ws=Ts.allocUnsafe(Is),Hs=0,Ns=t(Is*2),Js=0,ha;Hs<Is;)Js===Ns.length&&(Ns=t(Is*2),Js=0),ha=Ns[Js++],ha&&(Ws[Hs++]=ha);return Ws}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var st=requireParseAsn1(),t=requireMgf(),et=requireXor(),ms=requireBn$1(),ws=requireBrowserifyRsa(),vs=requireBrowser$b(),_s=requireWithPublic(),Es=requireSafeBuffer$1().Buffer;privateDecrypt=function(Is,Ws,Hs){var Ns;Is.padding?Ns=Is.padding:Hs?Ns=1:Ns=4;var Js=st(Is),ha=Js.modulus.byteLength();if(Ws.length>ha||new ms(Ws).cmp(Js.modulus)>=0)throw new Error("decryption error");var pa;Hs?pa=_s(new ms(Ws),Js):pa=ws(Ws,Js);var za=Es.alloc(ha-pa.length);if(pa=Es.concat([za,pa],ha),Ns===4)return Ts(Js,pa);if(Ns===1)return Ss(Js,pa,Hs);if(Ns===3)return pa;throw new Error("unknown padding")};function Ts(Bs,Is){var Ws=Bs.modulus.byteLength(),Hs=vs("sha1").update(Es.alloc(0)).digest(),Ns=Hs.length;if(Is[0]!==0)throw new Error("decryption error");var Js=Is.slice(1,Ns+1),ha=Is.slice(Ns+1),pa=et(Js,t(ha,Ns)),za=et(ha,t(pa,Ws-Ns-1));if(Rs(Hs,za.slice(0,Ns)))throw new Error("decryption error");for(var Ya=Ns;za[Ya]===0;)Ya++;if(za[Ya++]!==1)throw new Error("decryption error");return za.slice(Ya)}function Ss(Bs,Is,Ws){for(var Hs=Is.slice(0,2),Ns=2,Js=0;Is[Ns++]!==0;)if(Ns>=Is.length){Js++;break}var ha=Is.slice(2,Ns-1);if((Hs.toString("hex")!=="0002"&&!Ws||Hs.toString("hex")!=="0001"&&Ws)&&Js++,ha.length<8&&Js++,Js)throw new Error("decryption error");return Is.slice(Ns)}function Rs(Bs,Is){Bs=Es.from(Bs),Is=Es.from(Is);var Ws=0,Hs=Bs.length;Bs.length!==Is.length&&(Ws++,Hs=Math.min(Bs.length,Is.length));for(var Ns=-1;++Ns<Hs;)Ws+=Bs[Ns]^Is[Ns];return Ws}return privateDecrypt}var hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,function(st){st.publicEncrypt=requirePublicEncrypt(),st.privateDecrypt=requirePrivateDecrypt(),st.privateEncrypt=function(et,ms){return st.publicEncrypt(et,ms,!0)},st.publicDecrypt=function(et,ms){return st.privateDecrypt(et,ms,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;function st(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var t=requireSafeBuffer$1(),et=requireBrowser$d(),ms=t.Buffer,ws=t.kMaxLength,vs=window.crypto||window.msCrypto,_s=Math.pow(2,32)-1;function Es(Is,Ws){if(typeof Is!="number"||Is!==Is)throw new TypeError("offset must be a number");if(Is>_s||Is<0)throw new TypeError("offset must be a uint32");if(Is>ws||Is>Ws)throw new RangeError("offset out of range")}function Ts(Is,Ws,Hs){if(typeof Is!="number"||Is!==Is)throw new TypeError("size must be a number");if(Is>_s||Is<0)throw new TypeError("size must be a uint32");if(Is+Ws>Hs||Is>ws)throw new RangeError("buffer too small")}vs&&vs.getRandomValues||!process$1.browser?(browser$2.randomFill=Ss,browser$2.randomFillSync=Bs):(browser$2.randomFill=st,browser$2.randomFillSync=st);function Ss(Is,Ws,Hs,Ns){if(!ms.isBuffer(Is)&&!(Is instanceof window.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof Ws=="function")Ns=Ws,Ws=0,Hs=Is.length;else if(typeof Hs=="function")Ns=Hs,Hs=Is.length-Ws;else if(typeof Ns!="function")throw new TypeError('"cb" argument must be a function');return Es(Ws,Is.length),Ts(Hs,Ws,Is.length),Rs(Is,Ws,Hs,Ns)}function Rs(Is,Ws,Hs,Ns){if(process$1.browser){var Js=Is.buffer,ha=new Uint8Array(Js,Ws,Hs);if(vs.getRandomValues(ha),Ns){process$1.nextTick(function(){Ns(null,Is)});return}return Is}if(Ns){et(Hs,function(za,Ya){if(za)return Ns(za);Ya.copy(Is,Ws),Ns(null,Is)});return}var pa=et(Hs);return pa.copy(Is,Ws),Is}function Bs(Is,Ws,Hs){if(typeof Ws>"u"&&(Ws=0),!ms.isBuffer(Is)&&!(Is instanceof window.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Es(Ws,Is.length),Hs===void 0&&(Hs=Is.length-Ws),Ts(Hs,Ws,Is.length),Rs(Is,Ws,Hs)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$d(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$b(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$a();var st=requireAlgos(),t=Object.keys(st),et=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return et};var ms=requireBrowser$9();cryptoBrowserify.pbkdf2=ms.pbkdf2,cryptoBrowserify.pbkdf2Sync=ms.pbkdf2Sync;var ws=requireBrowser$7();cryptoBrowserify.Cipher=ws.Cipher,cryptoBrowserify.createCipher=ws.createCipher,cryptoBrowserify.Cipheriv=ws.Cipheriv,cryptoBrowserify.createCipheriv=ws.createCipheriv,cryptoBrowserify.Decipher=ws.Decipher,cryptoBrowserify.createDecipher=ws.createDecipher,cryptoBrowserify.Decipheriv=ws.Decipheriv,cryptoBrowserify.createDecipheriv=ws.createDecipheriv,cryptoBrowserify.getCiphers=ws.getCiphers,cryptoBrowserify.listCiphers=ws.listCiphers;var vs=requireBrowser$6();cryptoBrowserify.DiffieHellmanGroup=vs.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=vs.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=vs.getDiffieHellman,cryptoBrowserify.createDiffieHellman=vs.createDiffieHellman,cryptoBrowserify.DiffieHellman=vs.DiffieHellman;var _s=requireBrowser$5();cryptoBrowserify.createSign=_s.createSign,cryptoBrowserify.Sign=_s.Sign,cryptoBrowserify.createVerify=_s.createVerify,cryptoBrowserify.Verify=_s.Verify,cryptoBrowserify.createECDH=requireBrowser$4();var Es=requireBrowser$3();cryptoBrowserify.publicEncrypt=Es.publicEncrypt,cryptoBrowserify.privateEncrypt=Es.privateEncrypt,cryptoBrowserify.publicDecrypt=Es.publicDecrypt,cryptoBrowserify.privateDecrypt=Es.privateDecrypt;var Ts=requireBrowser$2();return cryptoBrowserify.randomFill=Ts.randomFill,cryptoBrowserify.randomFillSync=Ts.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredNaclFast;function requireNaclFast(){return hasRequiredNaclFast||(hasRequiredNaclFast=1,function(st){(function(t){var et=function(vu){var Su,Iu=new Float64Array(16);if(vu)for(Su=0;Su<vu.length;Su++)Iu[Su]=vu[Su];return Iu},ms=function(){throw new Error("no PRNG")},ws=new Uint8Array(16),vs=new Uint8Array(32);vs[0]=9;var _s=et(),Es=et([1]),Ts=et([56129,1]),Ss=et([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Rs=et([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Bs=et([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Is=et([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Ws=et([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Hs(vu,Su,Iu,bu){vu[Su]=Iu>>24&255,vu[Su+1]=Iu>>16&255,vu[Su+2]=Iu>>8&255,vu[Su+3]=Iu&255,vu[Su+4]=bu>>24&255,vu[Su+5]=bu>>16&255,vu[Su+6]=bu>>8&255,vu[Su+7]=bu&255}function Ns(vu,Su,Iu,bu,Wu){var Xu,Qu=0;for(Xu=0;Xu<Wu;Xu++)Qu|=vu[Su+Xu]^Iu[bu+Xu];return(1&Qu-1>>>8)-1}function Js(vu,Su,Iu,bu){return Ns(vu,Su,Iu,bu,16)}function ha(vu,Su,Iu,bu){return Ns(vu,Su,Iu,bu,32)}function pa(vu,Su,Iu,bu){for(var Wu=bu[0]&255|(bu[1]&255)<<8|(bu[2]&255)<<16|(bu[3]&255)<<24,Xu=Iu[0]&255|(Iu[1]&255)<<8|(Iu[2]&255)<<16|(Iu[3]&255)<<24,Qu=Iu[4]&255|(Iu[5]&255)<<8|(Iu[6]&255)<<16|(Iu[7]&255)<<24,ol=Iu[8]&255|(Iu[9]&255)<<8|(Iu[10]&255)<<16|(Iu[11]&255)<<24,vl=Iu[12]&255|(Iu[13]&255)<<8|(Iu[14]&255)<<16|(Iu[15]&255)<<24,_l=bu[4]&255|(bu[5]&255)<<8|(bu[6]&255)<<16|(bu[7]&255)<<24,rl=Su[0]&255|(Su[1]&255)<<8|(Su[2]&255)<<16|(Su[3]&255)<<24,Al=Su[4]&255|(Su[5]&255)<<8|(Su[6]&255)<<16|(Su[7]&255)<<24,$l=Su[8]&255|(Su[9]&255)<<8|(Su[10]&255)<<16|(Su[11]&255)<<24,Dl=Su[12]&255|(Su[13]&255)<<8|(Su[14]&255)<<16|(Su[15]&255)<<24,Ol=bu[8]&255|(bu[9]&255)<<8|(bu[10]&255)<<16|(bu[11]&255)<<24,ll=Iu[16]&255|(Iu[17]&255)<<8|(Iu[18]&255)<<16|(Iu[19]&255)<<24,ju=Iu[20]&255|(Iu[21]&255)<<8|(Iu[22]&255)<<16|(Iu[23]&255)<<24,Ll=Iu[24]&255|(Iu[25]&255)<<8|(Iu[26]&255)<<16|(Iu[27]&255)<<24,xl=Iu[28]&255|(Iu[29]&255)<<8|(Iu[30]&255)<<16|(Iu[31]&255)<<24,Tl=bu[12]&255|(bu[13]&255)<<8|(bu[14]&255)<<16|(bu[15]&255)<<24,dl=Wu,Bl=Xu,Sl=Qu,Ja=ol,su=vl,lu=_l,Au=rl,Du=Al,zu=$l,Cu=Dl,Uu=Ol,ku=ll,Gu=ju,mf=Ll,Yu=xl,al=Tl,Hu,pl=0;pl<20;pl+=2)Hu=dl+Gu|0,su^=Hu<<7|Hu>>>25,Hu=su+dl|0,zu^=Hu<<9|Hu>>>23,Hu=zu+su|0,Gu^=Hu<<13|Hu>>>19,Hu=Gu+zu|0,dl^=Hu<<18|Hu>>>14,Hu=lu+Bl|0,Cu^=Hu<<7|Hu>>>25,Hu=Cu+lu|0,mf^=Hu<<9|Hu>>>23,Hu=mf+Cu|0,Bl^=Hu<<13|Hu>>>19,Hu=Bl+mf|0,lu^=Hu<<18|Hu>>>14,Hu=Uu+Au|0,Yu^=Hu<<7|Hu>>>25,Hu=Yu+Uu|0,Sl^=Hu<<9|Hu>>>23,Hu=Sl+Yu|0,Au^=Hu<<13|Hu>>>19,Hu=Au+Sl|0,Uu^=Hu<<18|Hu>>>14,Hu=al+ku|0,Ja^=Hu<<7|Hu>>>25,Hu=Ja+al|0,Du^=Hu<<9|Hu>>>23,Hu=Du+Ja|0,ku^=Hu<<13|Hu>>>19,Hu=ku+Du|0,al^=Hu<<18|Hu>>>14,Hu=dl+Ja|0,Bl^=Hu<<7|Hu>>>25,Hu=Bl+dl|0,Sl^=Hu<<9|Hu>>>23,Hu=Sl+Bl|0,Ja^=Hu<<13|Hu>>>19,Hu=Ja+Sl|0,dl^=Hu<<18|Hu>>>14,Hu=lu+su|0,Au^=Hu<<7|Hu>>>25,Hu=Au+lu|0,Du^=Hu<<9|Hu>>>23,Hu=Du+Au|0,su^=Hu<<13|Hu>>>19,Hu=su+Du|0,lu^=Hu<<18|Hu>>>14,Hu=Uu+Cu|0,ku^=Hu<<7|Hu>>>25,Hu=ku+Uu|0,zu^=Hu<<9|Hu>>>23,Hu=zu+ku|0,Cu^=Hu<<13|Hu>>>19,Hu=Cu+zu|0,Uu^=Hu<<18|Hu>>>14,Hu=al+Yu|0,Gu^=Hu<<7|Hu>>>25,Hu=Gu+al|0,mf^=Hu<<9|Hu>>>23,Hu=mf+Gu|0,Yu^=Hu<<13|Hu>>>19,Hu=Yu+mf|0,al^=Hu<<18|Hu>>>14;dl=dl+Wu|0,Bl=Bl+Xu|0,Sl=Sl+Qu|0,Ja=Ja+ol|0,su=su+vl|0,lu=lu+_l|0,Au=Au+rl|0,Du=Du+Al|0,zu=zu+$l|0,Cu=Cu+Dl|0,Uu=Uu+Ol|0,ku=ku+ll|0,Gu=Gu+ju|0,mf=mf+Ll|0,Yu=Yu+xl|0,al=al+Tl|0,vu[0]=dl>>>0&255,vu[1]=dl>>>8&255,vu[2]=dl>>>16&255,vu[3]=dl>>>24&255,vu[4]=Bl>>>0&255,vu[5]=Bl>>>8&255,vu[6]=Bl>>>16&255,vu[7]=Bl>>>24&255,vu[8]=Sl>>>0&255,vu[9]=Sl>>>8&255,vu[10]=Sl>>>16&255,vu[11]=Sl>>>24&255,vu[12]=Ja>>>0&255,vu[13]=Ja>>>8&255,vu[14]=Ja>>>16&255,vu[15]=Ja>>>24&255,vu[16]=su>>>0&255,vu[17]=su>>>8&255,vu[18]=su>>>16&255,vu[19]=su>>>24&255,vu[20]=lu>>>0&255,vu[21]=lu>>>8&255,vu[22]=lu>>>16&255,vu[23]=lu>>>24&255,vu[24]=Au>>>0&255,vu[25]=Au>>>8&255,vu[26]=Au>>>16&255,vu[27]=Au>>>24&255,vu[28]=Du>>>0&255,vu[29]=Du>>>8&255,vu[30]=Du>>>16&255,vu[31]=Du>>>24&255,vu[32]=zu>>>0&255,vu[33]=zu>>>8&255,vu[34]=zu>>>16&255,vu[35]=zu>>>24&255,vu[36]=Cu>>>0&255,vu[37]=Cu>>>8&255,vu[38]=Cu>>>16&255,vu[39]=Cu>>>24&255,vu[40]=Uu>>>0&255,vu[41]=Uu>>>8&255,vu[42]=Uu>>>16&255,vu[43]=Uu>>>24&255,vu[44]=ku>>>0&255,vu[45]=ku>>>8&255,vu[46]=ku>>>16&255,vu[47]=ku>>>24&255,vu[48]=Gu>>>0&255,vu[49]=Gu>>>8&255,vu[50]=Gu>>>16&255,vu[51]=Gu>>>24&255,vu[52]=mf>>>0&255,vu[53]=mf>>>8&255,vu[54]=mf>>>16&255,vu[55]=mf>>>24&255,vu[56]=Yu>>>0&255,vu[57]=Yu>>>8&255,vu[58]=Yu>>>16&255,vu[59]=Yu>>>24&255,vu[60]=al>>>0&255,vu[61]=al>>>8&255,vu[62]=al>>>16&255,vu[63]=al>>>24&255}function za(vu,Su,Iu,bu){for(var Wu=bu[0]&255|(bu[1]&255)<<8|(bu[2]&255)<<16|(bu[3]&255)<<24,Xu=Iu[0]&255|(Iu[1]&255)<<8|(Iu[2]&255)<<16|(Iu[3]&255)<<24,Qu=Iu[4]&255|(Iu[5]&255)<<8|(Iu[6]&255)<<16|(Iu[7]&255)<<24,ol=Iu[8]&255|(Iu[9]&255)<<8|(Iu[10]&255)<<16|(Iu[11]&255)<<24,vl=Iu[12]&255|(Iu[13]&255)<<8|(Iu[14]&255)<<16|(Iu[15]&255)<<24,_l=bu[4]&255|(bu[5]&255)<<8|(bu[6]&255)<<16|(bu[7]&255)<<24,rl=Su[0]&255|(Su[1]&255)<<8|(Su[2]&255)<<16|(Su[3]&255)<<24,Al=Su[4]&255|(Su[5]&255)<<8|(Su[6]&255)<<16|(Su[7]&255)<<24,$l=Su[8]&255|(Su[9]&255)<<8|(Su[10]&255)<<16|(Su[11]&255)<<24,Dl=Su[12]&255|(Su[13]&255)<<8|(Su[14]&255)<<16|(Su[15]&255)<<24,Ol=bu[8]&255|(bu[9]&255)<<8|(bu[10]&255)<<16|(bu[11]&255)<<24,ll=Iu[16]&255|(Iu[17]&255)<<8|(Iu[18]&255)<<16|(Iu[19]&255)<<24,ju=Iu[20]&255|(Iu[21]&255)<<8|(Iu[22]&255)<<16|(Iu[23]&255)<<24,Ll=Iu[24]&255|(Iu[25]&255)<<8|(Iu[26]&255)<<16|(Iu[27]&255)<<24,xl=Iu[28]&255|(Iu[29]&255)<<8|(Iu[30]&255)<<16|(Iu[31]&255)<<24,Tl=bu[12]&255|(bu[13]&255)<<8|(bu[14]&255)<<16|(bu[15]&255)<<24,dl=Wu,Bl=Xu,Sl=Qu,Ja=ol,su=vl,lu=_l,Au=rl,Du=Al,zu=$l,Cu=Dl,Uu=Ol,ku=ll,Gu=ju,mf=Ll,Yu=xl,al=Tl,Hu,pl=0;pl<20;pl+=2)Hu=dl+Gu|0,su^=Hu<<7|Hu>>>25,Hu=su+dl|0,zu^=Hu<<9|Hu>>>23,Hu=zu+su|0,Gu^=Hu<<13|Hu>>>19,Hu=Gu+zu|0,dl^=Hu<<18|Hu>>>14,Hu=lu+Bl|0,Cu^=Hu<<7|Hu>>>25,Hu=Cu+lu|0,mf^=Hu<<9|Hu>>>23,Hu=mf+Cu|0,Bl^=Hu<<13|Hu>>>19,Hu=Bl+mf|0,lu^=Hu<<18|Hu>>>14,Hu=Uu+Au|0,Yu^=Hu<<7|Hu>>>25,Hu=Yu+Uu|0,Sl^=Hu<<9|Hu>>>23,Hu=Sl+Yu|0,Au^=Hu<<13|Hu>>>19,Hu=Au+Sl|0,Uu^=Hu<<18|Hu>>>14,Hu=al+ku|0,Ja^=Hu<<7|Hu>>>25,Hu=Ja+al|0,Du^=Hu<<9|Hu>>>23,Hu=Du+Ja|0,ku^=Hu<<13|Hu>>>19,Hu=ku+Du|0,al^=Hu<<18|Hu>>>14,Hu=dl+Ja|0,Bl^=Hu<<7|Hu>>>25,Hu=Bl+dl|0,Sl^=Hu<<9|Hu>>>23,Hu=Sl+Bl|0,Ja^=Hu<<13|Hu>>>19,Hu=Ja+Sl|0,dl^=Hu<<18|Hu>>>14,Hu=lu+su|0,Au^=Hu<<7|Hu>>>25,Hu=Au+lu|0,Du^=Hu<<9|Hu>>>23,Hu=Du+Au|0,su^=Hu<<13|Hu>>>19,Hu=su+Du|0,lu^=Hu<<18|Hu>>>14,Hu=Uu+Cu|0,ku^=Hu<<7|Hu>>>25,Hu=ku+Uu|0,zu^=Hu<<9|Hu>>>23,Hu=zu+ku|0,Cu^=Hu<<13|Hu>>>19,Hu=Cu+zu|0,Uu^=Hu<<18|Hu>>>14,Hu=al+Yu|0,Gu^=Hu<<7|Hu>>>25,Hu=Gu+al|0,mf^=Hu<<9|Hu>>>23,Hu=mf+Gu|0,Yu^=Hu<<13|Hu>>>19,Hu=Yu+mf|0,al^=Hu<<18|Hu>>>14;vu[0]=dl>>>0&255,vu[1]=dl>>>8&255,vu[2]=dl>>>16&255,vu[3]=dl>>>24&255,vu[4]=lu>>>0&255,vu[5]=lu>>>8&255,vu[6]=lu>>>16&255,vu[7]=lu>>>24&255,vu[8]=Uu>>>0&255,vu[9]=Uu>>>8&255,vu[10]=Uu>>>16&255,vu[11]=Uu>>>24&255,vu[12]=al>>>0&255,vu[13]=al>>>8&255,vu[14]=al>>>16&255,vu[15]=al>>>24&255,vu[16]=Au>>>0&255,vu[17]=Au>>>8&255,vu[18]=Au>>>16&255,vu[19]=Au>>>24&255,vu[20]=Du>>>0&255,vu[21]=Du>>>8&255,vu[22]=Du>>>16&255,vu[23]=Du>>>24&255,vu[24]=zu>>>0&255,vu[25]=zu>>>8&255,vu[26]=zu>>>16&255,vu[27]=zu>>>24&255,vu[28]=Cu>>>0&255,vu[29]=Cu>>>8&255,vu[30]=Cu>>>16&255,vu[31]=Cu>>>24&255}function Ya(vu,Su,Iu,bu){pa(vu,Su,Iu,bu)}function Bc(vu,Su,Iu,bu){za(vu,Su,Iu,bu)}var Qa=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function tu(vu,Su,Iu,bu,Wu,Xu,Qu){var ol=new Uint8Array(16),vl=new Uint8Array(64),_l,rl;for(rl=0;rl<16;rl++)ol[rl]=0;for(rl=0;rl<8;rl++)ol[rl]=Xu[rl];for(;Wu>=64;){for(Ya(vl,ol,Qu,Qa),rl=0;rl<64;rl++)vu[Su+rl]=Iu[bu+rl]^vl[rl];for(_l=1,rl=8;rl<16;rl++)_l=_l+(ol[rl]&255)|0,ol[rl]=_l&255,_l>>>=8;Wu-=64,Su+=64,bu+=64}if(Wu>0)for(Ya(vl,ol,Qu,Qa),rl=0;rl<Wu;rl++)vu[Su+rl]=Iu[bu+rl]^vl[rl];return 0}function eu(vu,Su,Iu,bu,Wu){var Xu=new Uint8Array(16),Qu=new Uint8Array(64),ol,vl;for(vl=0;vl<16;vl++)Xu[vl]=0;for(vl=0;vl<8;vl++)Xu[vl]=bu[vl];for(;Iu>=64;){for(Ya(Qu,Xu,Wu,Qa),vl=0;vl<64;vl++)vu[Su+vl]=Qu[vl];for(ol=1,vl=8;vl<16;vl++)ol=ol+(Xu[vl]&255)|0,Xu[vl]=ol&255,ol>>>=8;Iu-=64,Su+=64}if(Iu>0)for(Ya(Qu,Xu,Wu,Qa),vl=0;vl<Iu;vl++)vu[Su+vl]=Qu[vl];return 0}function ru(vu,Su,Iu,bu,Wu){var Xu=new Uint8Array(32);Bc(Xu,bu,Wu,Qa);for(var Qu=new Uint8Array(8),ol=0;ol<8;ol++)Qu[ol]=bu[ol+16];return eu(vu,Su,Iu,Qu,Xu)}function cu(vu,Su,Iu,bu,Wu,Xu,Qu){var ol=new Uint8Array(32);Bc(ol,Xu,Qu,Qa);for(var vl=new Uint8Array(8),_l=0;_l<8;_l++)vl[_l]=Xu[_l+16];return tu(vu,Su,Iu,bu,Wu,vl,ol)}var ou=function(vu){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Su,Iu,bu,Wu,Xu,Qu,ol,vl;Su=vu[0]&255|(vu[1]&255)<<8,this.r[0]=Su&8191,Iu=vu[2]&255|(vu[3]&255)<<8,this.r[1]=(Su>>>13|Iu<<3)&8191,bu=vu[4]&255|(vu[5]&255)<<8,this.r[2]=(Iu>>>10|bu<<6)&7939,Wu=vu[6]&255|(vu[7]&255)<<8,this.r[3]=(bu>>>7|Wu<<9)&8191,Xu=vu[8]&255|(vu[9]&255)<<8,this.r[4]=(Wu>>>4|Xu<<12)&255,this.r[5]=Xu>>>1&8190,Qu=vu[10]&255|(vu[11]&255)<<8,this.r[6]=(Xu>>>14|Qu<<2)&8191,ol=vu[12]&255|(vu[13]&255)<<8,this.r[7]=(Qu>>>11|ol<<5)&8065,vl=vu[14]&255|(vu[15]&255)<<8,this.r[8]=(ol>>>8|vl<<8)&8191,this.r[9]=vl>>>5&127,this.pad[0]=vu[16]&255|(vu[17]&255)<<8,this.pad[1]=vu[18]&255|(vu[19]&255)<<8,this.pad[2]=vu[20]&255|(vu[21]&255)<<8,this.pad[3]=vu[22]&255|(vu[23]&255)<<8,this.pad[4]=vu[24]&255|(vu[25]&255)<<8,this.pad[5]=vu[26]&255|(vu[27]&255)<<8,this.pad[6]=vu[28]&255|(vu[29]&255)<<8,this.pad[7]=vu[30]&255|(vu[31]&255)<<8};ou.prototype.blocks=function(vu,Su,Iu){for(var bu=this.fin?0:2048,Wu,Xu,Qu,ol,vl,_l,rl,Al,$l,Dl,Ol,ll,ju,Ll,xl,Tl,dl,Bl,Sl,Ja=this.h[0],su=this.h[1],lu=this.h[2],Au=this.h[3],Du=this.h[4],zu=this.h[5],Cu=this.h[6],Uu=this.h[7],ku=this.h[8],Gu=this.h[9],mf=this.r[0],Yu=this.r[1],al=this.r[2],Hu=this.r[3],pl=this.r[4],bl=this.r[5],ml=this.r[6],El=this.r[7],Nl=this.r[8],ql=this.r[9];Iu>=16;)Wu=vu[Su+0]&255|(vu[Su+1]&255)<<8,Ja+=Wu&8191,Xu=vu[Su+2]&255|(vu[Su+3]&255)<<8,su+=(Wu>>>13|Xu<<3)&8191,Qu=vu[Su+4]&255|(vu[Su+5]&255)<<8,lu+=(Xu>>>10|Qu<<6)&8191,ol=vu[Su+6]&255|(vu[Su+7]&255)<<8,Au+=(Qu>>>7|ol<<9)&8191,vl=vu[Su+8]&255|(vu[Su+9]&255)<<8,Du+=(ol>>>4|vl<<12)&8191,zu+=vl>>>1&8191,_l=vu[Su+10]&255|(vu[Su+11]&255)<<8,Cu+=(vl>>>14|_l<<2)&8191,rl=vu[Su+12]&255|(vu[Su+13]&255)<<8,Uu+=(_l>>>11|rl<<5)&8191,Al=vu[Su+14]&255|(vu[Su+15]&255)<<8,ku+=(rl>>>8|Al<<8)&8191,Gu+=Al>>>5|bu,$l=0,Dl=$l,Dl+=Ja*mf,Dl+=su*(5*ql),Dl+=lu*(5*Nl),Dl+=Au*(5*El),Dl+=Du*(5*ml),$l=Dl>>>13,Dl&=8191,Dl+=zu*(5*bl),Dl+=Cu*(5*pl),Dl+=Uu*(5*Hu),Dl+=ku*(5*al),Dl+=Gu*(5*Yu),$l+=Dl>>>13,Dl&=8191,Ol=$l,Ol+=Ja*Yu,Ol+=su*mf,Ol+=lu*(5*ql),Ol+=Au*(5*Nl),Ol+=Du*(5*El),$l=Ol>>>13,Ol&=8191,Ol+=zu*(5*ml),Ol+=Cu*(5*bl),Ol+=Uu*(5*pl),Ol+=ku*(5*Hu),Ol+=Gu*(5*al),$l+=Ol>>>13,Ol&=8191,ll=$l,ll+=Ja*al,ll+=su*Yu,ll+=lu*mf,ll+=Au*(5*ql),ll+=Du*(5*Nl),$l=ll>>>13,ll&=8191,ll+=zu*(5*El),ll+=Cu*(5*ml),ll+=Uu*(5*bl),ll+=ku*(5*pl),ll+=Gu*(5*Hu),$l+=ll>>>13,ll&=8191,ju=$l,ju+=Ja*Hu,ju+=su*al,ju+=lu*Yu,ju+=Au*mf,ju+=Du*(5*ql),$l=ju>>>13,ju&=8191,ju+=zu*(5*Nl),ju+=Cu*(5*El),ju+=Uu*(5*ml),ju+=ku*(5*bl),ju+=Gu*(5*pl),$l+=ju>>>13,ju&=8191,Ll=$l,Ll+=Ja*pl,Ll+=su*Hu,Ll+=lu*al,Ll+=Au*Yu,Ll+=Du*mf,$l=Ll>>>13,Ll&=8191,Ll+=zu*(5*ql),Ll+=Cu*(5*Nl),Ll+=Uu*(5*El),Ll+=ku*(5*ml),Ll+=Gu*(5*bl),$l+=Ll>>>13,Ll&=8191,xl=$l,xl+=Ja*bl,xl+=su*pl,xl+=lu*Hu,xl+=Au*al,xl+=Du*Yu,$l=xl>>>13,xl&=8191,xl+=zu*mf,xl+=Cu*(5*ql),xl+=Uu*(5*Nl),xl+=ku*(5*El),xl+=Gu*(5*ml),$l+=xl>>>13,xl&=8191,Tl=$l,Tl+=Ja*ml,Tl+=su*bl,Tl+=lu*pl,Tl+=Au*Hu,Tl+=Du*al,$l=Tl>>>13,Tl&=8191,Tl+=zu*Yu,Tl+=Cu*mf,Tl+=Uu*(5*ql),Tl+=ku*(5*Nl),Tl+=Gu*(5*El),$l+=Tl>>>13,Tl&=8191,dl=$l,dl+=Ja*El,dl+=su*ml,dl+=lu*bl,dl+=Au*pl,dl+=Du*Hu,$l=dl>>>13,dl&=8191,dl+=zu*al,dl+=Cu*Yu,dl+=Uu*mf,dl+=ku*(5*ql),dl+=Gu*(5*Nl),$l+=dl>>>13,dl&=8191,Bl=$l,Bl+=Ja*Nl,Bl+=su*El,Bl+=lu*ml,Bl+=Au*bl,Bl+=Du*pl,$l=Bl>>>13,Bl&=8191,Bl+=zu*Hu,Bl+=Cu*al,Bl+=Uu*Yu,Bl+=ku*mf,Bl+=Gu*(5*ql),$l+=Bl>>>13,Bl&=8191,Sl=$l,Sl+=Ja*ql,Sl+=su*Nl,Sl+=lu*El,Sl+=Au*ml,Sl+=Du*bl,$l=Sl>>>13,Sl&=8191,Sl+=zu*pl,Sl+=Cu*Hu,Sl+=Uu*al,Sl+=ku*Yu,Sl+=Gu*mf,$l+=Sl>>>13,Sl&=8191,$l=($l<<2)+$l|0,$l=$l+Dl|0,Dl=$l&8191,$l=$l>>>13,Ol+=$l,Ja=Dl,su=Ol,lu=ll,Au=ju,Du=Ll,zu=xl,Cu=Tl,Uu=dl,ku=Bl,Gu=Sl,Su+=16,Iu-=16;this.h[0]=Ja,this.h[1]=su,this.h[2]=lu,this.h[3]=Au,this.h[4]=Du,this.h[5]=zu,this.h[6]=Cu,this.h[7]=Uu,this.h[8]=ku,this.h[9]=Gu},ou.prototype.finish=function(vu,Su){var Iu=new Uint16Array(10),bu,Wu,Xu,Qu;if(this.leftover){for(Qu=this.leftover,this.buffer[Qu++]=1;Qu<16;Qu++)this.buffer[Qu]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(bu=this.h[1]>>>13,this.h[1]&=8191,Qu=2;Qu<10;Qu++)this.h[Qu]+=bu,bu=this.h[Qu]>>>13,this.h[Qu]&=8191;for(this.h[0]+=bu*5,bu=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=bu,bu=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=bu,Iu[0]=this.h[0]+5,bu=Iu[0]>>>13,Iu[0]&=8191,Qu=1;Qu<10;Qu++)Iu[Qu]=this.h[Qu]+bu,bu=Iu[Qu]>>>13,Iu[Qu]&=8191;for(Iu[9]-=8192,Wu=(bu^1)-1,Qu=0;Qu<10;Qu++)Iu[Qu]&=Wu;for(Wu=~Wu,Qu=0;Qu<10;Qu++)this.h[Qu]=this.h[Qu]&Wu|Iu[Qu];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Xu=this.h[0]+this.pad[0],this.h[0]=Xu&65535,Qu=1;Qu<8;Qu++)Xu=(this.h[Qu]+this.pad[Qu]|0)+(Xu>>>16)|0,this.h[Qu]=Xu&65535;vu[Su+0]=this.h[0]>>>0&255,vu[Su+1]=this.h[0]>>>8&255,vu[Su+2]=this.h[1]>>>0&255,vu[Su+3]=this.h[1]>>>8&255,vu[Su+4]=this.h[2]>>>0&255,vu[Su+5]=this.h[2]>>>8&255,vu[Su+6]=this.h[3]>>>0&255,vu[Su+7]=this.h[3]>>>8&255,vu[Su+8]=this.h[4]>>>0&255,vu[Su+9]=this.h[4]>>>8&255,vu[Su+10]=this.h[5]>>>0&255,vu[Su+11]=this.h[5]>>>8&255,vu[Su+12]=this.h[6]>>>0&255,vu[Su+13]=this.h[6]>>>8&255,vu[Su+14]=this.h[7]>>>0&255,vu[Su+15]=this.h[7]>>>8&255},ou.prototype.update=function(vu,Su,Iu){var bu,Wu;if(this.leftover){for(Wu=16-this.leftover,Wu>Iu&&(Wu=Iu),bu=0;bu<Wu;bu++)this.buffer[this.leftover+bu]=vu[Su+bu];if(Iu-=Wu,Su+=Wu,this.leftover+=Wu,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Iu>=16&&(Wu=Iu-Iu%16,this.blocks(vu,Su,Wu),Su+=Wu,Iu-=Wu),Iu){for(bu=0;bu<Iu;bu++)this.buffer[this.leftover+bu]=vu[Su+bu];this.leftover+=Iu}};function Ga(vu,Su,Iu,bu,Wu,Xu){var Qu=new ou(Xu);return Qu.update(Iu,bu,Wu),Qu.finish(vu,Su),0}function Xa(vu,Su,Iu,bu,Wu,Xu){var Qu=new Uint8Array(16);return Ga(Qu,0,Iu,bu,Wu,Xu),Js(vu,Su,Qu,0)}function Fa(vu,Su,Iu,bu,Wu){var Xu;if(Iu<32)return-1;for(cu(vu,0,Su,0,Iu,bu,Wu),Ga(vu,16,vu,32,Iu-32,vu),Xu=0;Xu<16;Xu++)vu[Xu]=0;return 0}function Zs(vu,Su,Iu,bu,Wu){var Xu,Qu=new Uint8Array(32);if(Iu<32||(ru(Qu,0,32,bu,Wu),Xa(Su,16,Su,32,Iu-32,Qu)!==0))return-1;for(cu(vu,0,Su,0,Iu,bu,Wu),Xu=0;Xu<32;Xu++)vu[Xu]=0;return 0}function Wa(vu,Su){var Iu;for(Iu=0;Iu<16;Iu++)vu[Iu]=Su[Iu]|0}function Za(vu){var Su,Iu,bu=1;for(Su=0;Su<16;Su++)Iu=vu[Su]+bu+65535,bu=Math.floor(Iu/65536),vu[Su]=Iu-bu*65536;vu[0]+=bu-1+37*(bu-1)}function iu(vu,Su,Iu){for(var bu,Wu=~(Iu-1),Xu=0;Xu<16;Xu++)bu=Wu&(vu[Xu]^Su[Xu]),vu[Xu]^=bu,Su[Xu]^=bu}function au(vu,Su){var Iu,bu,Wu,Xu=et(),Qu=et();for(Iu=0;Iu<16;Iu++)Qu[Iu]=Su[Iu];for(Za(Qu),Za(Qu),Za(Qu),bu=0;bu<2;bu++){for(Xu[0]=Qu[0]-65517,Iu=1;Iu<15;Iu++)Xu[Iu]=Qu[Iu]-65535-(Xu[Iu-1]>>16&1),Xu[Iu-1]&=65535;Xu[15]=Qu[15]-32767-(Xu[14]>>16&1),Wu=Xu[15]>>16&1,Xu[14]&=65535,iu(Qu,Xu,1-Wu)}for(Iu=0;Iu<16;Iu++)vu[2*Iu]=Qu[Iu]&255,vu[2*Iu+1]=Qu[Iu]>>8}function nu(vu,Su){var Iu=new Uint8Array(32),bu=new Uint8Array(32);return au(Iu,vu),au(bu,Su),ha(Iu,0,bu,0)}function uu(vu){var Su=new Uint8Array(32);return au(Su,vu),Su[0]&1}function fu(vu,Su){var Iu;for(Iu=0;Iu<16;Iu++)vu[Iu]=Su[2*Iu]+(Su[2*Iu+1]<<8);vu[15]&=32767}function hu(vu,Su,Iu){for(var bu=0;bu<16;bu++)vu[bu]=Su[bu]+Iu[bu]}function Eu(vu,Su,Iu){for(var bu=0;bu<16;bu++)vu[bu]=Su[bu]-Iu[bu]}function $u(vu,Su,Iu){var bu,Wu,Xu=0,Qu=0,ol=0,vl=0,_l=0,rl=0,Al=0,$l=0,Dl=0,Ol=0,ll=0,ju=0,Ll=0,xl=0,Tl=0,dl=0,Bl=0,Sl=0,Ja=0,su=0,lu=0,Au=0,Du=0,zu=0,Cu=0,Uu=0,ku=0,Gu=0,mf=0,Yu=0,al=0,Hu=Iu[0],pl=Iu[1],bl=Iu[2],ml=Iu[3],El=Iu[4],Nl=Iu[5],ql=Iu[6],Hl=Iu[7],zl=Iu[8],Vl=Iu[9],Gl=Iu[10],Xl=Iu[11],Jl=Iu[12],Yl=Iu[13],Zl=Iu[14],Ql=Iu[15];bu=Su[0],Xu+=bu*Hu,Qu+=bu*pl,ol+=bu*bl,vl+=bu*ml,_l+=bu*El,rl+=bu*Nl,Al+=bu*ql,$l+=bu*Hl,Dl+=bu*zl,Ol+=bu*Vl,ll+=bu*Gl,ju+=bu*Xl,Ll+=bu*Jl,xl+=bu*Yl,Tl+=bu*Zl,dl+=bu*Ql,bu=Su[1],Qu+=bu*Hu,ol+=bu*pl,vl+=bu*bl,_l+=bu*ml,rl+=bu*El,Al+=bu*Nl,$l+=bu*ql,Dl+=bu*Hl,Ol+=bu*zl,ll+=bu*Vl,ju+=bu*Gl,Ll+=bu*Xl,xl+=bu*Jl,Tl+=bu*Yl,dl+=bu*Zl,Bl+=bu*Ql,bu=Su[2],ol+=bu*Hu,vl+=bu*pl,_l+=bu*bl,rl+=bu*ml,Al+=bu*El,$l+=bu*Nl,Dl+=bu*ql,Ol+=bu*Hl,ll+=bu*zl,ju+=bu*Vl,Ll+=bu*Gl,xl+=bu*Xl,Tl+=bu*Jl,dl+=bu*Yl,Bl+=bu*Zl,Sl+=bu*Ql,bu=Su[3],vl+=bu*Hu,_l+=bu*pl,rl+=bu*bl,Al+=bu*ml,$l+=bu*El,Dl+=bu*Nl,Ol+=bu*ql,ll+=bu*Hl,ju+=bu*zl,Ll+=bu*Vl,xl+=bu*Gl,Tl+=bu*Xl,dl+=bu*Jl,Bl+=bu*Yl,Sl+=bu*Zl,Ja+=bu*Ql,bu=Su[4],_l+=bu*Hu,rl+=bu*pl,Al+=bu*bl,$l+=bu*ml,Dl+=bu*El,Ol+=bu*Nl,ll+=bu*ql,ju+=bu*Hl,Ll+=bu*zl,xl+=bu*Vl,Tl+=bu*Gl,dl+=bu*Xl,Bl+=bu*Jl,Sl+=bu*Yl,Ja+=bu*Zl,su+=bu*Ql,bu=Su[5],rl+=bu*Hu,Al+=bu*pl,$l+=bu*bl,Dl+=bu*ml,Ol+=bu*El,ll+=bu*Nl,ju+=bu*ql,Ll+=bu*Hl,xl+=bu*zl,Tl+=bu*Vl,dl+=bu*Gl,Bl+=bu*Xl,Sl+=bu*Jl,Ja+=bu*Yl,su+=bu*Zl,lu+=bu*Ql,bu=Su[6],Al+=bu*Hu,$l+=bu*pl,Dl+=bu*bl,Ol+=bu*ml,ll+=bu*El,ju+=bu*Nl,Ll+=bu*ql,xl+=bu*Hl,Tl+=bu*zl,dl+=bu*Vl,Bl+=bu*Gl,Sl+=bu*Xl,Ja+=bu*Jl,su+=bu*Yl,lu+=bu*Zl,Au+=bu*Ql,bu=Su[7],$l+=bu*Hu,Dl+=bu*pl,Ol+=bu*bl,ll+=bu*ml,ju+=bu*El,Ll+=bu*Nl,xl+=bu*ql,Tl+=bu*Hl,dl+=bu*zl,Bl+=bu*Vl,Sl+=bu*Gl,Ja+=bu*Xl,su+=bu*Jl,lu+=bu*Yl,Au+=bu*Zl,Du+=bu*Ql,bu=Su[8],Dl+=bu*Hu,Ol+=bu*pl,ll+=bu*bl,ju+=bu*ml,Ll+=bu*El,xl+=bu*Nl,Tl+=bu*ql,dl+=bu*Hl,Bl+=bu*zl,Sl+=bu*Vl,Ja+=bu*Gl,su+=bu*Xl,lu+=bu*Jl,Au+=bu*Yl,Du+=bu*Zl,zu+=bu*Ql,bu=Su[9],Ol+=bu*Hu,ll+=bu*pl,ju+=bu*bl,Ll+=bu*ml,xl+=bu*El,Tl+=bu*Nl,dl+=bu*ql,Bl+=bu*Hl,Sl+=bu*zl,Ja+=bu*Vl,su+=bu*Gl,lu+=bu*Xl,Au+=bu*Jl,Du+=bu*Yl,zu+=bu*Zl,Cu+=bu*Ql,bu=Su[10],ll+=bu*Hu,ju+=bu*pl,Ll+=bu*bl,xl+=bu*ml,Tl+=bu*El,dl+=bu*Nl,Bl+=bu*ql,Sl+=bu*Hl,Ja+=bu*zl,su+=bu*Vl,lu+=bu*Gl,Au+=bu*Xl,Du+=bu*Jl,zu+=bu*Yl,Cu+=bu*Zl,Uu+=bu*Ql,bu=Su[11],ju+=bu*Hu,Ll+=bu*pl,xl+=bu*bl,Tl+=bu*ml,dl+=bu*El,Bl+=bu*Nl,Sl+=bu*ql,Ja+=bu*Hl,su+=bu*zl,lu+=bu*Vl,Au+=bu*Gl,Du+=bu*Xl,zu+=bu*Jl,Cu+=bu*Yl,Uu+=bu*Zl,ku+=bu*Ql,bu=Su[12],Ll+=bu*Hu,xl+=bu*pl,Tl+=bu*bl,dl+=bu*ml,Bl+=bu*El,Sl+=bu*Nl,Ja+=bu*ql,su+=bu*Hl,lu+=bu*zl,Au+=bu*Vl,Du+=bu*Gl,zu+=bu*Xl,Cu+=bu*Jl,Uu+=bu*Yl,ku+=bu*Zl,Gu+=bu*Ql,bu=Su[13],xl+=bu*Hu,Tl+=bu*pl,dl+=bu*bl,Bl+=bu*ml,Sl+=bu*El,Ja+=bu*Nl,su+=bu*ql,lu+=bu*Hl,Au+=bu*zl,Du+=bu*Vl,zu+=bu*Gl,Cu+=bu*Xl,Uu+=bu*Jl,ku+=bu*Yl,Gu+=bu*Zl,mf+=bu*Ql,bu=Su[14],Tl+=bu*Hu,dl+=bu*pl,Bl+=bu*bl,Sl+=bu*ml,Ja+=bu*El,su+=bu*Nl,lu+=bu*ql,Au+=bu*Hl,Du+=bu*zl,zu+=bu*Vl,Cu+=bu*Gl,Uu+=bu*Xl,ku+=bu*Jl,Gu+=bu*Yl,mf+=bu*Zl,Yu+=bu*Ql,bu=Su[15],dl+=bu*Hu,Bl+=bu*pl,Sl+=bu*bl,Ja+=bu*ml,su+=bu*El,lu+=bu*Nl,Au+=bu*ql,Du+=bu*Hl,zu+=bu*zl,Cu+=bu*Vl,Uu+=bu*Gl,ku+=bu*Xl,Gu+=bu*Jl,mf+=bu*Yl,Yu+=bu*Zl,al+=bu*Ql,Xu+=38*Bl,Qu+=38*Sl,ol+=38*Ja,vl+=38*su,_l+=38*lu,rl+=38*Au,Al+=38*Du,$l+=38*zu,Dl+=38*Cu,Ol+=38*Uu,ll+=38*ku,ju+=38*Gu,Ll+=38*mf,xl+=38*Yu,Tl+=38*al,Wu=1,bu=Xu+Wu+65535,Wu=Math.floor(bu/65536),Xu=bu-Wu*65536,bu=Qu+Wu+65535,Wu=Math.floor(bu/65536),Qu=bu-Wu*65536,bu=ol+Wu+65535,Wu=Math.floor(bu/65536),ol=bu-Wu*65536,bu=vl+Wu+65535,Wu=Math.floor(bu/65536),vl=bu-Wu*65536,bu=_l+Wu+65535,Wu=Math.floor(bu/65536),_l=bu-Wu*65536,bu=rl+Wu+65535,Wu=Math.floor(bu/65536),rl=bu-Wu*65536,bu=Al+Wu+65535,Wu=Math.floor(bu/65536),Al=bu-Wu*65536,bu=$l+Wu+65535,Wu=Math.floor(bu/65536),$l=bu-Wu*65536,bu=Dl+Wu+65535,Wu=Math.floor(bu/65536),Dl=bu-Wu*65536,bu=Ol+Wu+65535,Wu=Math.floor(bu/65536),Ol=bu-Wu*65536,bu=ll+Wu+65535,Wu=Math.floor(bu/65536),ll=bu-Wu*65536,bu=ju+Wu+65535,Wu=Math.floor(bu/65536),ju=bu-Wu*65536,bu=Ll+Wu+65535,Wu=Math.floor(bu/65536),Ll=bu-Wu*65536,bu=xl+Wu+65535,Wu=Math.floor(bu/65536),xl=bu-Wu*65536,bu=Tl+Wu+65535,Wu=Math.floor(bu/65536),Tl=bu-Wu*65536,bu=dl+Wu+65535,Wu=Math.floor(bu/65536),dl=bu-Wu*65536,Xu+=Wu-1+37*(Wu-1),Wu=1,bu=Xu+Wu+65535,Wu=Math.floor(bu/65536),Xu=bu-Wu*65536,bu=Qu+Wu+65535,Wu=Math.floor(bu/65536),Qu=bu-Wu*65536,bu=ol+Wu+65535,Wu=Math.floor(bu/65536),ol=bu-Wu*65536,bu=vl+Wu+65535,Wu=Math.floor(bu/65536),vl=bu-Wu*65536,bu=_l+Wu+65535,Wu=Math.floor(bu/65536),_l=bu-Wu*65536,bu=rl+Wu+65535,Wu=Math.floor(bu/65536),rl=bu-Wu*65536,bu=Al+Wu+65535,Wu=Math.floor(bu/65536),Al=bu-Wu*65536,bu=$l+Wu+65535,Wu=Math.floor(bu/65536),$l=bu-Wu*65536,bu=Dl+Wu+65535,Wu=Math.floor(bu/65536),Dl=bu-Wu*65536,bu=Ol+Wu+65535,Wu=Math.floor(bu/65536),Ol=bu-Wu*65536,bu=ll+Wu+65535,Wu=Math.floor(bu/65536),ll=bu-Wu*65536,bu=ju+Wu+65535,Wu=Math.floor(bu/65536),ju=bu-Wu*65536,bu=Ll+Wu+65535,Wu=Math.floor(bu/65536),Ll=bu-Wu*65536,bu=xl+Wu+65535,Wu=Math.floor(bu/65536),xl=bu-Wu*65536,bu=Tl+Wu+65535,Wu=Math.floor(bu/65536),Tl=bu-Wu*65536,bu=dl+Wu+65535,Wu=Math.floor(bu/65536),dl=bu-Wu*65536,Xu+=Wu-1+37*(Wu-1),vu[0]=Xu,vu[1]=Qu,vu[2]=ol,vu[3]=vl,vu[4]=_l,vu[5]=rl,vu[6]=Al,vu[7]=$l,vu[8]=Dl,vu[9]=Ol,vu[10]=ll,vu[11]=ju,vu[12]=Ll,vu[13]=xl,vu[14]=Tl,vu[15]=dl}function Ou(vu,Su){$u(vu,Su,Su)}function gu(vu,Su){var Iu=et(),bu;for(bu=0;bu<16;bu++)Iu[bu]=Su[bu];for(bu=253;bu>=0;bu--)Ou(Iu,Iu),bu!==2&&bu!==4&&$u(Iu,Iu,Su);for(bu=0;bu<16;bu++)vu[bu]=Iu[bu]}function yu(vu,Su){var Iu=et(),bu;for(bu=0;bu<16;bu++)Iu[bu]=Su[bu];for(bu=250;bu>=0;bu--)Ou(Iu,Iu),bu!==1&&$u(Iu,Iu,Su);for(bu=0;bu<16;bu++)vu[bu]=Iu[bu]}function Tu(vu,Su,Iu){var bu=new Uint8Array(32),Wu=new Float64Array(80),Xu,Qu,ol=et(),vl=et(),_l=et(),rl=et(),Al=et(),$l=et();for(Qu=0;Qu<31;Qu++)bu[Qu]=Su[Qu];for(bu[31]=Su[31]&127|64,bu[0]&=248,fu(Wu,Iu),Qu=0;Qu<16;Qu++)vl[Qu]=Wu[Qu],rl[Qu]=ol[Qu]=_l[Qu]=0;for(ol[0]=rl[0]=1,Qu=254;Qu>=0;--Qu)Xu=bu[Qu>>>3]>>>(Qu&7)&1,iu(ol,vl,Xu),iu(_l,rl,Xu),hu(Al,ol,_l),Eu(ol,ol,_l),hu(_l,vl,rl),Eu(vl,vl,rl),Ou(rl,Al),Ou($l,ol),$u(ol,_l,ol),$u(_l,vl,Al),hu(Al,ol,_l),Eu(ol,ol,_l),Ou(vl,ol),Eu(_l,rl,$l),$u(ol,_l,Ts),hu(ol,ol,rl),$u(_l,_l,ol),$u(ol,rl,$l),$u(rl,vl,Wu),Ou(vl,Al),iu(ol,vl,Xu),iu(_l,rl,Xu);for(Qu=0;Qu<16;Qu++)Wu[Qu+16]=ol[Qu],Wu[Qu+32]=_l[Qu],Wu[Qu+48]=vl[Qu],Wu[Qu+64]=rl[Qu];var Dl=Wu.subarray(32),Ol=Wu.subarray(16);return gu(Dl,Dl),$u(Ol,Ol,Dl),au(vu,Ol),0}function du(vu,Su){return Tu(vu,Su,vs)}function wu(vu,Su){return ms(Su,32),du(vu,Su)}function Ru(vu,Su,Iu){var bu=new Uint8Array(32);return Tu(bu,Iu,Su),Bc(vu,ws,bu,Qa)}var Ku=Fa,Zu=Zs;function tl(vu,Su,Iu,bu,Wu,Xu){var Qu=new Uint8Array(32);return Ru(Qu,Wu,Xu),Ku(vu,Su,Iu,bu,Qu)}function sl(vu,Su,Iu,bu,Wu,Xu){var Qu=new Uint8Array(32);return Ru(Qu,Wu,Xu),Zu(vu,Su,Iu,bu,Qu)}var gl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Fu(vu,Su,Iu,bu){for(var Wu=new Int32Array(16),Xu=new Int32Array(16),Qu,ol,vl,_l,rl,Al,$l,Dl,Ol,ll,ju,Ll,xl,Tl,dl,Bl,Sl,Ja,su,lu,Au,Du,zu,Cu,Uu,ku,Gu=vu[0],mf=vu[1],Yu=vu[2],al=vu[3],Hu=vu[4],pl=vu[5],bl=vu[6],ml=vu[7],El=Su[0],Nl=Su[1],ql=Su[2],Hl=Su[3],zl=Su[4],Vl=Su[5],Gl=Su[6],Xl=Su[7],Jl=0;bu>=128;){for(su=0;su<16;su++)lu=8*su+Jl,Wu[su]=Iu[lu+0]<<24|Iu[lu+1]<<16|Iu[lu+2]<<8|Iu[lu+3],Xu[su]=Iu[lu+4]<<24|Iu[lu+5]<<16|Iu[lu+6]<<8|Iu[lu+7];for(su=0;su<80;su++)if(Qu=Gu,ol=mf,vl=Yu,_l=al,rl=Hu,Al=pl,$l=bl,Dl=ml,Ol=El,ll=Nl,ju=ql,Ll=Hl,xl=zl,Tl=Vl,dl=Gl,Bl=Xl,Au=ml,Du=Xl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=(Hu>>>14|zl<<18)^(Hu>>>18|zl<<14)^(zl>>>9|Hu<<23),Du=(zl>>>14|Hu<<18)^(zl>>>18|Hu<<14)^(Hu>>>9|zl<<23),zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Au=Hu&pl^~Hu&bl,Du=zl&Vl^~zl&Gl,zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Au=gl[su*2],Du=gl[su*2+1],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Au=Wu[su%16],Du=Xu[su%16],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,Sl=Uu&65535|ku<<16,Ja=zu&65535|Cu<<16,Au=Sl,Du=Ja,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=(Gu>>>28|El<<4)^(El>>>2|Gu<<30)^(El>>>7|Gu<<25),Du=(El>>>28|Gu<<4)^(Gu>>>2|El<<30)^(Gu>>>7|El<<25),zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Au=Gu&mf^Gu&Yu^mf&Yu,Du=El&Nl^El&ql^Nl&ql,zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,Dl=Uu&65535|ku<<16,Bl=zu&65535|Cu<<16,Au=_l,Du=Ll,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=Sl,Du=Ja,zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,_l=Uu&65535|ku<<16,Ll=zu&65535|Cu<<16,mf=Qu,Yu=ol,al=vl,Hu=_l,pl=rl,bl=Al,ml=$l,Gu=Dl,Nl=Ol,ql=ll,Hl=ju,zl=Ll,Vl=xl,Gl=Tl,Xl=dl,El=Bl,su%16===15)for(lu=0;lu<16;lu++)Au=Wu[lu],Du=Xu[lu],zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=Wu[(lu+9)%16],Du=Xu[(lu+9)%16],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Sl=Wu[(lu+1)%16],Ja=Xu[(lu+1)%16],Au=(Sl>>>1|Ja<<31)^(Sl>>>8|Ja<<24)^Sl>>>7,Du=(Ja>>>1|Sl<<31)^(Ja>>>8|Sl<<24)^(Ja>>>7|Sl<<25),zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Sl=Wu[(lu+14)%16],Ja=Xu[(lu+14)%16],Au=(Sl>>>19|Ja<<13)^(Ja>>>29|Sl<<3)^Sl>>>6,Du=(Ja>>>19|Sl<<13)^(Sl>>>29|Ja<<3)^(Ja>>>6|Sl<<26),zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,Wu[lu]=Uu&65535|ku<<16,Xu[lu]=zu&65535|Cu<<16;Au=Gu,Du=El,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[0],Du=Su[0],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[0]=Gu=Uu&65535|ku<<16,Su[0]=El=zu&65535|Cu<<16,Au=mf,Du=Nl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[1],Du=Su[1],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[1]=mf=Uu&65535|ku<<16,Su[1]=Nl=zu&65535|Cu<<16,Au=Yu,Du=ql,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[2],Du=Su[2],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[2]=Yu=Uu&65535|ku<<16,Su[2]=ql=zu&65535|Cu<<16,Au=al,Du=Hl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[3],Du=Su[3],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[3]=al=Uu&65535|ku<<16,Su[3]=Hl=zu&65535|Cu<<16,Au=Hu,Du=zl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[4],Du=Su[4],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[4]=Hu=Uu&65535|ku<<16,Su[4]=zl=zu&65535|Cu<<16,Au=pl,Du=Vl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[5],Du=Su[5],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[5]=pl=Uu&65535|ku<<16,Su[5]=Vl=zu&65535|Cu<<16,Au=bl,Du=Gl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[6],Du=Su[6],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[6]=bl=Uu&65535|ku<<16,Su[6]=Gl=zu&65535|Cu<<16,Au=ml,Du=Xl,zu=Du&65535,Cu=Du>>>16,Uu=Au&65535,ku=Au>>>16,Au=vu[7],Du=Su[7],zu+=Du&65535,Cu+=Du>>>16,Uu+=Au&65535,ku+=Au>>>16,Cu+=zu>>>16,Uu+=Cu>>>16,ku+=Uu>>>16,vu[7]=ml=Uu&65535|ku<<16,Su[7]=Xl=zu&65535|Cu<<16,Jl+=128,bu-=128}return bu}function Mu(vu,Su,Iu){var bu=new Int32Array(8),Wu=new Int32Array(8),Xu=new Uint8Array(256),Qu,ol=Iu;for(bu[0]=1779033703,bu[1]=3144134277,bu[2]=1013904242,bu[3]=2773480762,bu[4]=1359893119,bu[5]=2600822924,bu[6]=528734635,bu[7]=1541459225,Wu[0]=4089235720,Wu[1]=2227873595,Wu[2]=4271175723,Wu[3]=1595750129,Wu[4]=2917565137,Wu[5]=725511199,Wu[6]=4215389547,Wu[7]=327033209,Fu(bu,Wu,Su,Iu),Iu%=128,Qu=0;Qu<Iu;Qu++)Xu[Qu]=Su[ol-Iu+Qu];for(Xu[Iu]=128,Iu=256-128*(Iu<112?1:0),Xu[Iu-9]=0,Hs(Xu,Iu-8,ol/536870912|0,ol<<3),Fu(bu,Wu,Xu,Iu),Qu=0;Qu<8;Qu++)Hs(vu,8*Qu,bu[Qu],Wu[Qu]);return 0}function Ju(vu,Su){var Iu=et(),bu=et(),Wu=et(),Xu=et(),Qu=et(),ol=et(),vl=et(),_l=et(),rl=et();Eu(Iu,vu[1],vu[0]),Eu(rl,Su[1],Su[0]),$u(Iu,Iu,rl),hu(bu,vu[0],vu[1]),hu(rl,Su[0],Su[1]),$u(bu,bu,rl),$u(Wu,vu[3],Su[3]),$u(Wu,Wu,Rs),$u(Xu,vu[2],Su[2]),hu(Xu,Xu,Xu),Eu(Qu,bu,Iu),Eu(ol,Xu,Wu),hu(vl,Xu,Wu),hu(_l,bu,Iu),$u(vu[0],Qu,ol),$u(vu[1],_l,vl),$u(vu[2],vl,ol),$u(vu[3],Qu,_l)}function vf(vu,Su,Iu){var bu;for(bu=0;bu<4;bu++)iu(vu[bu],Su[bu],Iu)}function wf(vu,Su){var Iu=et(),bu=et(),Wu=et();gu(Wu,Su[2]),$u(Iu,Su[0],Wu),$u(bu,Su[1],Wu),au(vu,bu),vu[31]^=uu(Iu)<<7}function el(vu,Su,Iu){var bu,Wu;for(Wa(vu[0],_s),Wa(vu[1],Es),Wa(vu[2],Es),Wa(vu[3],_s),Wu=255;Wu>=0;--Wu)bu=Iu[Wu/8|0]>>(Wu&7)&1,vf(vu,Su,bu),Ju(Su,vu),Ju(vu,vu),vf(vu,Su,bu)}function il(vu,Su){var Iu=[et(),et(),et(),et()];Wa(Iu[0],Bs),Wa(Iu[1],Is),Wa(Iu[2],Es),$u(Iu[3],Bs,Is),el(vu,Iu,Su)}function hl(vu,Su,Iu){var bu=new Uint8Array(64),Wu=[et(),et(),et(),et()],Xu;for(Iu||ms(Su,32),Mu(bu,Su,32),bu[0]&=248,bu[31]&=127,bu[31]|=64,il(Wu,bu),wf(vu,Wu),Xu=0;Xu<32;Xu++)Su[Xu+32]=vu[Xu];return 0}var cl=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ul(vu,Su){var Iu,bu,Wu,Xu;for(bu=63;bu>=32;--bu){for(Iu=0,Wu=bu-32,Xu=bu-12;Wu<Xu;++Wu)Su[Wu]+=Iu-16*Su[bu]*cl[Wu-(bu-32)],Iu=Math.floor((Su[Wu]+128)/256),Su[Wu]-=Iu*256;Su[Wu]+=Iu,Su[bu]=0}for(Iu=0,Wu=0;Wu<32;Wu++)Su[Wu]+=Iu-(Su[31]>>4)*cl[Wu],Iu=Su[Wu]>>8,Su[Wu]&=255;for(Wu=0;Wu<32;Wu++)Su[Wu]-=Iu*cl[Wu];for(bu=0;bu<32;bu++)Su[bu+1]+=Su[bu]>>8,vu[bu]=Su[bu]&255}function yl(vu){var Su=new Float64Array(64),Iu;for(Iu=0;Iu<64;Iu++)Su[Iu]=vu[Iu];for(Iu=0;Iu<64;Iu++)vu[Iu]=0;ul(vu,Su)}function Cl(vu,Su,Iu,bu){var Wu=new Uint8Array(64),Xu=new Uint8Array(64),Qu=new Uint8Array(64),ol,vl,_l=new Float64Array(64),rl=[et(),et(),et(),et()];Mu(Wu,bu,32),Wu[0]&=248,Wu[31]&=127,Wu[31]|=64;var Al=Iu+64;for(ol=0;ol<Iu;ol++)vu[64+ol]=Su[ol];for(ol=0;ol<32;ol++)vu[32+ol]=Wu[32+ol];for(Mu(Qu,vu.subarray(32),Iu+32),yl(Qu),il(rl,Qu),wf(vu,rl),ol=32;ol<64;ol++)vu[ol]=bu[ol];for(Mu(Xu,vu,Iu+64),yl(Xu),ol=0;ol<64;ol++)_l[ol]=0;for(ol=0;ol<32;ol++)_l[ol]=Qu[ol];for(ol=0;ol<32;ol++)for(vl=0;vl<32;vl++)_l[ol+vl]+=Xu[ol]*Wu[vl];return ul(vu.subarray(32),_l),Al}function Bu(vu,Su){var Iu=et(),bu=et(),Wu=et(),Xu=et(),Qu=et(),ol=et(),vl=et();return Wa(vu[2],Es),fu(vu[1],Su),Ou(Wu,vu[1]),$u(Xu,Wu,Ss),Eu(Wu,Wu,vu[2]),hu(Xu,vu[2],Xu),Ou(Qu,Xu),Ou(ol,Qu),$u(vl,ol,Qu),$u(Iu,vl,Wu),$u(Iu,Iu,Xu),yu(Iu,Iu),$u(Iu,Iu,Wu),$u(Iu,Iu,Xu),$u(Iu,Iu,Xu),$u(vu[0],Iu,Xu),Ou(bu,vu[0]),$u(bu,bu,Xu),nu(bu,Wu)&&$u(vu[0],vu[0],Ws),Ou(bu,vu[0]),$u(bu,bu,Xu),nu(bu,Wu)?-1:(uu(vu[0])===Su[31]>>7&&Eu(vu[0],_s,vu[0]),$u(vu[3],vu[0],vu[1]),0)}function pu(vu,Su,Iu,bu){var Wu,Xu=new Uint8Array(32),Qu=new Uint8Array(64),ol=[et(),et(),et(),et()],vl=[et(),et(),et(),et()];if(Iu<64||Bu(vl,bu))return-1;for(Wu=0;Wu<Iu;Wu++)vu[Wu]=Su[Wu];for(Wu=0;Wu<32;Wu++)vu[Wu+32]=bu[Wu];if(Mu(Qu,vu,Iu),yl(Qu),el(ol,vl,Qu),il(vl,Su.subarray(32)),Ju(ol,vl),wf(Xu,ol),Iu-=64,ha(Su,0,Xu,0)){for(Wu=0;Wu<Iu;Wu++)vu[Wu]=0;return-1}for(Wu=0;Wu<Iu;Wu++)vu[Wu]=Su[Wu+64];return Iu}var xu=32,qu=24,Pu=32,xf=16,nl=32,wl=32,Il=32,Rl=32,fl=32,Ml=qu,Ul=Pu,kl=xf,Fl=64,Pl=32,Wl=64,jl=32,Nu=64;t.lowlevel={crypto_core_hsalsa20:Bc,crypto_stream_xor:cu,crypto_stream:ru,crypto_stream_salsa20_xor:tu,crypto_stream_salsa20:eu,crypto_onetimeauth:Ga,crypto_onetimeauth_verify:Xa,crypto_verify_16:Js,crypto_verify_32:ha,crypto_secretbox:Fa,crypto_secretbox_open:Zs,crypto_scalarmult:Tu,crypto_scalarmult_base:du,crypto_box_beforenm:Ru,crypto_box_afternm:Ku,crypto_box:tl,crypto_box_open:sl,crypto_box_keypair:wu,crypto_hash:Mu,crypto_sign:Cl,crypto_sign_keypair:hl,crypto_sign_open:pu,crypto_secretbox_KEYBYTES:xu,crypto_secretbox_NONCEBYTES:qu,crypto_secretbox_ZEROBYTES:Pu,crypto_secretbox_BOXZEROBYTES:xf,crypto_scalarmult_BYTES:nl,crypto_scalarmult_SCALARBYTES:wl,crypto_box_PUBLICKEYBYTES:Il,crypto_box_SECRETKEYBYTES:Rl,crypto_box_BEFORENMBYTES:fl,crypto_box_NONCEBYTES:Ml,crypto_box_ZEROBYTES:Ul,crypto_box_BOXZEROBYTES:kl,crypto_sign_BYTES:Fl,crypto_sign_PUBLICKEYBYTES:Pl,crypto_sign_SECRETKEYBYTES:Wl,crypto_sign_SEEDBYTES:jl,crypto_hash_BYTES:Nu,gf:et,D:Ss,L:cl,pack25519:au,unpack25519:fu,M:$u,A:hu,S:Ou,Z:Eu,pow2523:yu,add:Ju,set25519:Wa,modL:ul,scalarmult:el,scalarbase:il};function mu(vu,Su){if(vu.length!==xu)throw new Error("bad key size");if(Su.length!==qu)throw new Error("bad nonce size")}function _u(vu,Su){if(vu.length!==Il)throw new Error("bad public key size");if(Su.length!==Rl)throw new Error("bad secret key size")}function Lu(){for(var vu=0;vu<arguments.length;vu++)if(!(arguments[vu]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Vu(vu){for(var Su=0;Su<vu.length;Su++)vu[Su]=0}t.randomBytes=function(vu){var Su=new Uint8Array(vu);return ms(Su,vu),Su},t.secretbox=function(vu,Su,Iu){Lu(vu,Su,Iu),mu(Iu,Su);for(var bu=new Uint8Array(Pu+vu.length),Wu=new Uint8Array(bu.length),Xu=0;Xu<vu.length;Xu++)bu[Xu+Pu]=vu[Xu];return Fa(Wu,bu,bu.length,Su,Iu),Wu.subarray(xf)},t.secretbox.open=function(vu,Su,Iu){Lu(vu,Su,Iu),mu(Iu,Su);for(var bu=new Uint8Array(xf+vu.length),Wu=new Uint8Array(bu.length),Xu=0;Xu<vu.length;Xu++)bu[Xu+xf]=vu[Xu];return bu.length<32||Zs(Wu,bu,bu.length,Su,Iu)!==0?null:Wu.subarray(Pu)},t.secretbox.keyLength=xu,t.secretbox.nonceLength=qu,t.secretbox.overheadLength=xf,t.scalarMult=function(vu,Su){if(Lu(vu,Su),vu.length!==wl)throw new Error("bad n size");if(Su.length!==nl)throw new Error("bad p size");var Iu=new Uint8Array(nl);return Tu(Iu,vu,Su),Iu},t.scalarMult.base=function(vu){if(Lu(vu),vu.length!==wl)throw new Error("bad n size");var Su=new Uint8Array(nl);return du(Su,vu),Su},t.scalarMult.scalarLength=wl,t.scalarMult.groupElementLength=nl,t.box=function(vu,Su,Iu,bu){var Wu=t.box.before(Iu,bu);return t.secretbox(vu,Su,Wu)},t.box.before=function(vu,Su){Lu(vu,Su),_u(vu,Su);var Iu=new Uint8Array(fl);return Ru(Iu,vu,Su),Iu},t.box.after=t.secretbox,t.box.open=function(vu,Su,Iu,bu){var Wu=t.box.before(Iu,bu);return t.secretbox.open(vu,Su,Wu)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var vu=new Uint8Array(Il),Su=new Uint8Array(Rl);return wu(vu,Su),{publicKey:vu,secretKey:Su}},t.box.keyPair.fromSecretKey=function(vu){if(Lu(vu),vu.length!==Rl)throw new Error("bad secret key size");var Su=new Uint8Array(Il);return du(Su,vu),{publicKey:Su,secretKey:new Uint8Array(vu)}},t.box.publicKeyLength=Il,t.box.secretKeyLength=Rl,t.box.sharedKeyLength=fl,t.box.nonceLength=Ml,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(vu,Su){if(Lu(vu,Su),Su.length!==Wl)throw new Error("bad secret key size");var Iu=new Uint8Array(Fl+vu.length);return Cl(Iu,vu,vu.length,Su),Iu},t.sign.open=function(vu,Su){if(Lu(vu,Su),Su.length!==Pl)throw new Error("bad public key size");var Iu=new Uint8Array(vu.length),bu=pu(Iu,vu,vu.length,Su);if(bu<0)return null;for(var Wu=new Uint8Array(bu),Xu=0;Xu<Wu.length;Xu++)Wu[Xu]=Iu[Xu];return Wu},t.sign.detached=function(vu,Su){for(var Iu=t.sign(vu,Su),bu=new Uint8Array(Fl),Wu=0;Wu<bu.length;Wu++)bu[Wu]=Iu[Wu];return bu},t.sign.detached.verify=function(vu,Su,Iu){if(Lu(vu,Su,Iu),Su.length!==Fl)throw new Error("bad signature size");if(Iu.length!==Pl)throw new Error("bad public key size");var bu=new Uint8Array(Fl+vu.length),Wu=new Uint8Array(Fl+vu.length),Xu;for(Xu=0;Xu<Fl;Xu++)bu[Xu]=Su[Xu];for(Xu=0;Xu<vu.length;Xu++)bu[Xu+Fl]=vu[Xu];return pu(Wu,bu,bu.length,Iu)>=0},t.sign.keyPair=function(){var vu=new Uint8Array(Pl),Su=new Uint8Array(Wl);return hl(vu,Su),{publicKey:vu,secretKey:Su}},t.sign.keyPair.fromSecretKey=function(vu){if(Lu(vu),vu.length!==Wl)throw new Error("bad secret key size");for(var Su=new Uint8Array(Pl),Iu=0;Iu<Su.length;Iu++)Su[Iu]=vu[32+Iu];return{publicKey:Su,secretKey:new Uint8Array(vu)}},t.sign.keyPair.fromSeed=function(vu){if(Lu(vu),vu.length!==jl)throw new Error("bad seed size");for(var Su=new Uint8Array(Pl),Iu=new Uint8Array(Wl),bu=0;bu<32;bu++)Iu[bu]=vu[bu];return hl(Su,Iu,!0),{publicKey:Su,secretKey:Iu}},t.sign.publicKeyLength=Pl,t.sign.secretKeyLength=Wl,t.sign.seedLength=jl,t.sign.signatureLength=Fl,t.hash=function(vu){Lu(vu);var Su=new Uint8Array(Nu);return Mu(Su,vu,vu.length),Su},t.hash.hashLength=Nu,t.verify=function(vu,Su){return Lu(vu,Su),vu.length===0||Su.length===0||vu.length!==Su.length?!1:Ns(vu,0,Su,0,vu.length)===0},t.setPRNG=function(vu){ms=vu},function(){var vu=typeof self<"u"?self.crypto||self.msCrypto:null;if(vu&&vu.getRandomValues){var Su=65536;t.setPRNG(function(Iu,bu){var Wu,Xu=new Uint8Array(bu);for(Wu=0;Wu<bu;Wu+=Su)vu.getRandomValues(Xu.subarray(Wu,Wu+Math.min(bu-Wu,Su)));for(Wu=0;Wu<bu;Wu++)Iu[Wu]=Xu[Wu];Vu(Xu)})}else typeof commonjsRequire<"u"&&(vu=requireCryptoBrowserify(),vu&&vu.randomBytes&&t.setPRNG(function(Iu,bu){var Wu,Xu=vu.randomBytes(bu);for(Wu=0;Wu<bu;Wu++)Iu[Wu]=Xu[Wu];Vu(Xu)}))}()})(st.exports?st.exports:self.nacl=self.nacl||{})}(naclFast)),naclFast.exports}var utils$3={},naclUtil$1={exports:{}},naclUtil=naclUtil$1.exports,hasRequiredNaclUtil;function requireNaclUtil(){return hasRequiredNaclUtil||(hasRequiredNaclUtil=1,function(st){(function(t,et){st.exports?st.exports=et():(t.nacl||(t.nacl={}),t.nacl.util=et())})(naclUtil,function(){var t={};function et(ms){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(ms))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(ms){if(typeof ms!="string")throw new TypeError("expected string");var ws,vs=unescape(encodeURIComponent(ms)),_s=new Uint8Array(vs.length);for(ws=0;ws<vs.length;ws++)_s[ws]=vs.charCodeAt(ws);return _s},t.encodeUTF8=function(ms){var ws,vs=[];for(ws=0;ws<ms.length;ws++)vs.push(String.fromCharCode(ms[ws]));return decodeURIComponent(escape(vs.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(ms){return Buffer.from(ms).toString("base64")},t.decodeBase64=function(ms){return et(ms),new Uint8Array(Array.prototype.slice.call(Buffer.from(ms,"base64"),0))}):(t.encodeBase64=function(ms){return new Buffer(ms).toString("base64")},t.decodeBase64=function(ms){return et(ms),new Uint8Array(Array.prototype.slice.call(new Buffer(ms,"base64"),0))}):(t.encodeBase64=function(ms){var ws,vs=[],_s=ms.length;for(ws=0;ws<_s;ws++)vs.push(String.fromCharCode(ms[ws]));return btoa(vs.join(""))},t.decodeBase64=function(ms){et(ms);var ws,vs=atob(ms),_s=new Uint8Array(vs.length);for(ws=0;ws<vs.length;ws++)_s[ws]=vs.charCodeAt(ws);return _s}),t})}(naclUtil$1)),naclUtil$1.exports}function base$1(st,t){if(st.length>=255)throw new TypeError("Alphabet too long");for(var et=new Uint8Array(256),ms=0;ms<et.length;ms++)et[ms]=255;for(var ws=0;ws<st.length;ws++){var vs=st.charAt(ws),_s=vs.charCodeAt(0);if(et[_s]!==255)throw new TypeError(vs+" is ambiguous");et[_s]=ws}var Es=st.length,Ts=st.charAt(0),Ss=Math.log(Es)/Math.log(256),Rs=Math.log(256)/Math.log(Es);function Bs(Hs){if(Hs instanceof Uint8Array||(ArrayBuffer.isView(Hs)?Hs=new Uint8Array(Hs.buffer,Hs.byteOffset,Hs.byteLength):Array.isArray(Hs)&&(Hs=Uint8Array.from(Hs))),!(Hs instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Hs.length===0)return"";for(var Ns=0,Js=0,ha=0,pa=Hs.length;ha!==pa&&Hs[ha]===0;)ha++,Ns++;for(var za=(pa-ha)*Rs+1>>>0,Ya=new Uint8Array(za);ha!==pa;){for(var Bc=Hs[ha],Qa=0,tu=za-1;(Bc!==0||Qa<Js)&&tu!==-1;tu--,Qa++)Bc+=256*Ya[tu]>>>0,Ya[tu]=Bc%Es>>>0,Bc=Bc/Es>>>0;if(Bc!==0)throw new Error("Non-zero carry");Js=Qa,ha++}for(var eu=za-Js;eu!==za&&Ya[eu]===0;)eu++;for(var ru=Ts.repeat(Ns);eu<za;++eu)ru+=st.charAt(Ya[eu]);return ru}function Is(Hs){if(typeof Hs!="string")throw new TypeError("Expected String");if(Hs.length===0)return new Uint8Array;var Ns=0;if(Hs[Ns]!==" "){for(var Js=0,ha=0;Hs[Ns]===Ts;)Js++,Ns++;for(var pa=(Hs.length-Ns)*Ss+1>>>0,za=new Uint8Array(pa);Hs[Ns];){var Ya=et[Hs.charCodeAt(Ns)];if(Ya===255)return;for(var Bc=0,Qa=pa-1;(Ya!==0||Bc<ha)&&Qa!==-1;Qa--,Bc++)Ya+=Es*za[Qa]>>>0,za[Qa]=Ya%256>>>0,Ya=Ya/256>>>0;if(Ya!==0)throw new Error("Non-zero carry");ha=Bc,Ns++}if(Hs[Ns]!==" "){for(var tu=pa-ha;tu!==pa&&za[tu]===0;)tu++;for(var eu=new Uint8Array(Js+(pa-tu)),ru=Js;tu!==pa;)eu[ru++]=za[tu++];return eu}}}function Ws(Hs){var Ns=Is(Hs);if(Ns)return Ns;throw new Error(`Non-${t} character`)}return{encode:Bs,decodeUnsafe:Is,decode:Ws}}var src$1=base$1,_brrp__multiformats_scope_baseX=src$1;const empty=new Uint8Array(0),toHex$1=st=>st.reduce((t,et)=>t+et.toString(16).padStart(2,"0"),""),fromHex=st=>{const t=st.match(/../g);return t?new Uint8Array(t.map(et=>parseInt(et,16))):empty},equals$1=(st,t)=>{if(st===t)return!0;if(st.byteLength!==t.byteLength)return!1;for(let et=0;et<st.byteLength;et++)if(st[et]!==t[et])return!1;return!0},coerce=st=>{if(st instanceof Uint8Array&&st.constructor.name==="Uint8Array")return st;if(st instanceof ArrayBuffer)return new Uint8Array(st);if(ArrayBuffer.isView(st))return new Uint8Array(st.buffer,st.byteOffset,st.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=st=>st instanceof ArrayBuffer||ArrayBuffer.isView(st),fromString$1=st=>new TextEncoder().encode(st),toString$4=st=>new TextDecoder().decode(st),bytes=Object.freeze(Object.defineProperty({__proto__:null,coerce,empty,equals:equals$1,fromHex,fromString:fromString$1,isBinary,toHex:toHex$1,toString:toString$4},Symbol.toStringTag,{value:"Module"}));let Encoder$1=class{constructor(t,et,ms){this.name=t,this.prefix=et,this.baseEncode=ms}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(t,et,ms){this.name=t,this.prefix=et,this.baseDecode=ms}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){const et={[this.prefix]:this,...t.decoders||{[t.prefix]:t}};return new ComposedDecoder(et)}};class ComposedDecoder{constructor(t){this.decoders=t}or(t){const et=t.decoders||{[t.prefix]:t};return new ComposedDecoder({...this.decoders,...et})}decode(t){const et=t[0],ms=this.decoders[et];if(ms)return ms.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class Codec{constructor(t,et,ms,ws){this.name=t,this.prefix=et,this.baseEncode=ms,this.baseDecode=ws,this.encoder=new Encoder$1(t,et,ms),this.decoder=new Decoder$1(t,et,ws)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from$1=({name:st,prefix:t,encode:et,decode:ms})=>new Codec(st,t,et,ms),baseX=({prefix:st,name:t,alphabet:et})=>{const{encode:ms,decode:ws}=_brrp__multiformats_scope_baseX(et,t);return from$1({prefix:st,name:t,encode:ms,decode:vs=>coerce(ws(vs))})},decode$6=(st,t,et,ms)=>{const ws={};for(let Rs=0;Rs<t.length;++Rs)ws[t[Rs]]=Rs;let vs=st.length;for(;st[vs-1]==="=";)--vs;const _s=new Uint8Array(vs*et/8|0);let Es=0,Ts=0,Ss=0;for(let Rs=0;Rs<vs;++Rs){const Bs=ws[st[Rs]];if(Bs===void 0)throw new SyntaxError(`Non-${ms} character`);Ts=Ts<<et|Bs,Es+=et,Es>=8&&(Es-=8,_s[Ss++]=255&Ts>>Es)}if(Es>=et||255&Ts<<8-Es)throw new SyntaxError("Unexpected end of data");return _s},encode$4=(st,t,et)=>{const ms=t[t.length-1]==="=",ws=(1<<et)-1;let vs="",_s=0,Es=0;for(let Ts=0;Ts<st.length;++Ts)for(Es=Es<<8|st[Ts],_s+=8;_s>et;)_s-=et,vs+=t[ws&Es>>_s];if(_s&&(vs+=t[ws&Es<<et-_s]),ms)for(;vs.length*et&7;)vs+="=";return vs},rfc4648=({name:st,prefix:t,bitsPerChar:et,alphabet:ms})=>from$1({prefix:t,name:st,encode(ws){return encode$4(ws,ms,et)},decode(ws){return decode$6(ws,ms,et,st)}}),identity$2=from$1({prefix:"\0",name:"identity",encode:st=>toString$4(st),decode:st=>fromString$1(st)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32$1=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$2=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$1,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"}));var encode_1=encode$3,MSB=128,MSBALL=-128,INT=Math.pow(2,31);function encode$3(st,t,et){t=t||[],et=et||0;for(var ms=et;st>=INT;)t[et++]=st&255|MSB,st/=128;for(;st&MSBALL;)t[et++]=st&255|MSB,st>>>=7;return t[et]=st|0,encode$3.bytes=et-ms+1,t}var decode$5=read,MSB$1=128,REST$1=127;function read(st,ms){var et=0,ms=ms||0,ws=0,vs=ms,_s,Es=st.length;do{if(vs>=Es)throw read.bytes=0,new RangeError("Could not decode varint");_s=st[vs++],et+=ws<28?(_s&REST$1)<<ws:(_s&REST$1)*Math.pow(2,ws),ws+=7}while(_s>=MSB$1);return read.bytes=vs-ms,et}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(st){return st<N1?1:st<N2?2:st<N3?3:st<N4?4:st<N5?5:st<N6?6:st<N7?7:st<N8?8:st<N9?9:10},varint$1={encode:encode_1,decode:decode$5,encodingLength:length},_brrp_varint=varint$1;const decode$4=st=>[_brrp_varint.decode(st),_brrp_varint.decode.bytes],encodeTo=(st,t,et=0)=>(_brrp_varint.encode(st,t,et),t),encodingLength=st=>_brrp_varint.encodingLength(st),varint=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$4,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(st,t)=>{const et=t.byteLength,ms=encodingLength(st),ws=ms+encodingLength(et),vs=new Uint8Array(ws+et);return encodeTo(st,vs,0),encodeTo(et,vs,ms),vs.set(t,ws),new Digest(st,et,t,vs)},decode$3=st=>{const t=coerce(st),[et,ms]=decode$4(t),[ws,vs]=decode$4(t.subarray(ms)),_s=t.subarray(ms+vs);if(_s.byteLength!==ws)throw new Error("Incorrect length");return new Digest(et,ws,_s,t)},equals=(st,t)=>st===t?!0:st.code===t.code&&st.size===t.size&&equals$1(st.bytes,t.bytes);class Digest{constructor(t,et,ms,ws){this.code=t,this.size=et,this.digest=ms,this.bytes=ws}}const digest=Object.freeze(Object.defineProperty({__proto__:null,Digest,create,decode:decode$3,equals},Symbol.toStringTag,{value:"Module"})),from=({name:st,code:t,encode:et})=>new Hasher(st,t,et);class Hasher{constructor(t,et,ms){this.name=t,this.code=et,this.encode=ms}async digest(t){if(t instanceof Uint8Array){const et=await this.encode(t);return create(this.code,et)}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,Hasher,from},Symbol.toStringTag,{value:"Module"})),sha=st=>async t=>new Uint8Array(await crypto.subtle.digest(st,t)),sha256$3=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512$3=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$3,sha512:sha512$3},Symbol.toStringTag,{value:"Module"})),identity=from({name:"identity",code:0,encode:st=>coerce(st)}),identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),raw=st=>coerce(st),{name:name$1,code:code$1,encode:encode$2,decode:decode$2}={name:"raw",code:85,decode:raw,encode:raw},raw$1=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$2,encode:encode$2,name:name$1},Symbol.toStringTag,{value:"Module"})),{name,code,encode:encode$1,decode:decode$1}={name:"json",code:512,encode:st=>new TextEncoder().encode(JSON.stringify(st)),decode:st=>JSON.parse(new TextDecoder().decode(st))},json=Object.freeze(Object.defineProperty({__proto__:null,code,decode:decode$1,encode:encode$1,name},Symbol.toStringTag,{value:"Module"}));class CID{constructor(t,et,ms,ws){this.code=et,this.version=t,this.multihash=ms,this.bytes=ws,this.byteOffset=ws.byteOffset,this.byteLength=ws.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:et}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(et.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(et)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:et}=this.multihash,ms=create(t,et);return CID.createV1(this.code,ms)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals(this.multihash,t.multihash)}toString(t){const{bytes:et,version:ms,_baseCache:ws}=this;switch(ms){case 0:return toStringV0(et,ws,t||base58btc.encoder);default:return toStringV1(et,ws,t||base32$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(t!=null&&t.asCID===t){const{version:et,code:ms,multihash:ws,bytes:vs}=t;return new CID(et,ms,ws,vs||encodeCID(et,ms,ws.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:et,multihash:ms,code:ws}=t,vs=decode$3(ms);return CID.create(et,ws,vs)}else return null}static create(t,et,ms){if(typeof et!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(et!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,et,ms,ms.bytes)}case 1:{const ws=encodeCID(t,et,ms.bytes);return new CID(t,et,ms,ws)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,et){return CID.create(1,t,et)}static decode(t){const[et,ms]=CID.decodeFirst(t);if(ms.length)throw new Error("Incorrect length");return et}static decodeFirst(t){const et=CID.inspectBytes(t),ms=et.size-et.multihashSize,ws=coerce(t.subarray(ms,ms+et.multihashSize));if(ws.byteLength!==et.multihashSize)throw new Error("Incorrect length");const vs=ws.subarray(et.multihashSize-et.digestSize),_s=new Digest(et.multihashCode,et.digestSize,vs,ws);return[et.version===0?CID.createV0(_s):CID.createV1(et.codec,_s),t.subarray(et.size)]}static inspectBytes(t){let et=0;const ms=()=>{const[Bs,Is]=decode$4(t.subarray(et));return et+=Is,Bs};let ws=ms(),vs=DAG_PB_CODE;if(ws===18?(ws=0,et=0):ws===1&&(vs=ms()),ws!==0&&ws!==1)throw new RangeError(`Invalid CID version ${ws}`);const _s=et,Es=ms(),Ts=ms(),Ss=et+Ts,Rs=Ss-_s;return{version:ws,codec:vs,multihashCode:Es,digestSize:Ts,multihashSize:Rs,size:Ss}}static parse(t,et){const[ms,ws]=parseCIDtoBytes(t,et),vs=CID.decode(ws);return vs._baseCache.set(ms,t),vs}}const parseCIDtoBytes=(st,t)=>{switch(st[0]){case"Q":{const et=t||base58btc;return[base58btc.prefix,et.decode(`${base58btc.prefix}${st}`)]}case base58btc.prefix:{const et=t||base58btc;return[base58btc.prefix,et.decode(st)]}case base32$1.prefix:{const et=t||base32$1;return[base32$1.prefix,et.decode(st)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[st[0],t.decode(st)]}}},toStringV0=(st,t,et)=>{const{prefix:ms}=et;if(ms!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${et.name} encoding`);const ws=t.get(ms);if(ws==null){const vs=et.encode(st).slice(1);return t.set(ms,vs),vs}else return ws},toStringV1=(st,t,et)=>{const{prefix:ms}=et,ws=t.get(ms);if(ws==null){const vs=et.encode(st);return t.set(ms,vs),vs}else return ws},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(st,t,et)=>{const ms=encodingLength(st),ws=ms+encodingLength(t),vs=new Uint8Array(ws+et.byteLength);return encodeTo(st,vs,0),encodeTo(t,vs,ms),vs.set(et,ws),vs},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version$2="0.0.0-dev",deprecate=(st,t)=>{if(st.test(version$2))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$2,...base36$1,...base58,...base64$1},hashes={...sha2,...identity$1},codecs={raw:raw$1,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID,bases,bytes,codecs,digest,hasher,hashes,varint},Symbol.toStringTag,{value:"Module"}));function allocUnsafe$1(st=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(st):new Uint8Array(st)}function createCodec$1(st,t,et,ms){return{name:st,prefix:t,encoder:{name:st,prefix:t,encode:et},decoder:{decode:ms}}}const string$1=createCodec$1("utf8","u",st=>"u"+new TextDecoder("utf8").decode(st),st=>new TextEncoder().encode(st.substring(1))),ascii$1=createCodec$1("ascii","a",st=>{let t="a";for(let et=0;et<st.length;et++)t+=String.fromCharCode(st[et]);return t},st=>{st=st.substring(1);const t=allocUnsafe$1(st.length);for(let et=0;et<st.length;et++)t[et]=st.charCodeAt(et);return t}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases};function toString$2(st,t="utf8"){const et=BASES$1[t];if(!et)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(st.buffer,st.byteOffset,st.byteLength).toString("utf8"):et.encoder.encode(st).substring(1)}const toString$3=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$2},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(toString$3);var sha256$2={},binary={},int={},hasRequiredInt;function requireInt(){return hasRequiredInt||(hasRequiredInt=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});function t(Es,Ts){var Ss=Es>>>16&65535,Rs=Es&65535,Bs=Ts>>>16&65535,Is=Ts&65535;return Rs*Is+(Ss*Is+Rs*Bs<<16>>>0)|0}st.mul=Math.imul||t;function et(Es,Ts){return Es+Ts|0}st.add=et;function ms(Es,Ts){return Es-Ts|0}st.sub=ms;function ws(Es,Ts){return Es<<Ts|Es>>>32-Ts}st.rotl=ws;function vs(Es,Ts){return Es<<32-Ts|Es>>>Ts}st.rotr=vs;function _s(Es){return typeof Es=="number"&&isFinite(Es)&&Math.floor(Es)===Es}st.isInteger=Number.isInteger||_s,st.MAX_SAFE_INTEGER=9007199254740991,st.isSafeInteger=function(Es){return st.isInteger(Es)&&Es>=-st.MAX_SAFE_INTEGER&&Es<=st.MAX_SAFE_INTEGER}}(int)),int}var hasRequiredBinary;function requireBinary(){if(hasRequiredBinary)return binary;hasRequiredBinary=1,Object.defineProperty(binary,"__esModule",{value:!0});var st=requireInt();function t(Zs,Wa){return Wa===void 0&&(Wa=0),(Zs[Wa+0]<<8|Zs[Wa+1])<<16>>16}binary.readInt16BE=t;function et(Zs,Wa){return Wa===void 0&&(Wa=0),(Zs[Wa+0]<<8|Zs[Wa+1])>>>0}binary.readUint16BE=et;function ms(Zs,Wa){return Wa===void 0&&(Wa=0),(Zs[Wa+1]<<8|Zs[Wa])<<16>>16}binary.readInt16LE=ms;function ws(Zs,Wa){return Wa===void 0&&(Wa=0),(Zs[Wa+1]<<8|Zs[Wa])>>>0}binary.readUint16LE=ws;function vs(Zs,Wa,Za){return Wa===void 0&&(Wa=new Uint8Array(2)),Za===void 0&&(Za=0),Wa[Za+0]=Zs>>>8,Wa[Za+1]=Zs>>>0,Wa}binary.writeUint16BE=vs,binary.writeInt16BE=vs;function _s(Zs,Wa,Za){return Wa===void 0&&(Wa=new Uint8Array(2)),Za===void 0&&(Za=0),Wa[Za+0]=Zs>>>0,Wa[Za+1]=Zs>>>8,Wa}binary.writeUint16LE=_s,binary.writeInt16LE=_s;function Es(Zs,Wa){return Wa===void 0&&(Wa=0),Zs[Wa]<<24|Zs[Wa+1]<<16|Zs[Wa+2]<<8|Zs[Wa+3]}binary.readInt32BE=Es;function Ts(Zs,Wa){return Wa===void 0&&(Wa=0),(Zs[Wa]<<24|Zs[Wa+1]<<16|Zs[Wa+2]<<8|Zs[Wa+3])>>>0}binary.readUint32BE=Ts;function Ss(Zs,Wa){return Wa===void 0&&(Wa=0),Zs[Wa+3]<<24|Zs[Wa+2]<<16|Zs[Wa+1]<<8|Zs[Wa]}binary.readInt32LE=Ss;function Rs(Zs,Wa){return Wa===void 0&&(Wa=0),(Zs[Wa+3]<<24|Zs[Wa+2]<<16|Zs[Wa+1]<<8|Zs[Wa])>>>0}binary.readUint32LE=Rs;function Bs(Zs,Wa,Za){return Wa===void 0&&(Wa=new Uint8Array(4)),Za===void 0&&(Za=0),Wa[Za+0]=Zs>>>24,Wa[Za+1]=Zs>>>16,Wa[Za+2]=Zs>>>8,Wa[Za+3]=Zs>>>0,Wa}binary.writeUint32BE=Bs,binary.writeInt32BE=Bs;function Is(Zs,Wa,Za){return Wa===void 0&&(Wa=new Uint8Array(4)),Za===void 0&&(Za=0),Wa[Za+0]=Zs>>>0,Wa[Za+1]=Zs>>>8,Wa[Za+2]=Zs>>>16,Wa[Za+3]=Zs>>>24,Wa}binary.writeUint32LE=Is,binary.writeInt32LE=Is;function Ws(Zs,Wa){Wa===void 0&&(Wa=0);var Za=Es(Zs,Wa),iu=Es(Zs,Wa+4);return Za*4294967296+iu-(iu>>31)*4294967296}binary.readInt64BE=Ws;function Hs(Zs,Wa){Wa===void 0&&(Wa=0);var Za=Ts(Zs,Wa),iu=Ts(Zs,Wa+4);return Za*4294967296+iu}binary.readUint64BE=Hs;function Ns(Zs,Wa){Wa===void 0&&(Wa=0);var Za=Ss(Zs,Wa),iu=Ss(Zs,Wa+4);return iu*4294967296+Za-(Za>>31)*4294967296}binary.readInt64LE=Ns;function Js(Zs,Wa){Wa===void 0&&(Wa=0);var Za=Rs(Zs,Wa),iu=Rs(Zs,Wa+4);return iu*4294967296+Za}binary.readUint64LE=Js;function ha(Zs,Wa,Za){return Wa===void 0&&(Wa=new Uint8Array(8)),Za===void 0&&(Za=0),Bs(Zs/4294967296>>>0,Wa,Za),Bs(Zs>>>0,Wa,Za+4),Wa}binary.writeUint64BE=ha,binary.writeInt64BE=ha;function pa(Zs,Wa,Za){return Wa===void 0&&(Wa=new Uint8Array(8)),Za===void 0&&(Za=0),Is(Zs>>>0,Wa,Za),Is(Zs/4294967296>>>0,Wa,Za+4),Wa}binary.writeUint64LE=pa,binary.writeInt64LE=pa;function za(Zs,Wa,Za){if(Za===void 0&&(Za=0),Zs%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(Zs/8>Wa.length-Za)throw new Error("readUintBE: array is too short for the given bitLength");for(var iu=0,au=1,nu=Zs/8+Za-1;nu>=Za;nu--)iu+=Wa[nu]*au,au*=256;return iu}binary.readUintBE=za;function Ya(Zs,Wa,Za){if(Za===void 0&&(Za=0),Zs%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(Zs/8>Wa.length-Za)throw new Error("readUintLE: array is too short for the given bitLength");for(var iu=0,au=1,nu=Za;nu<Za+Zs/8;nu++)iu+=Wa[nu]*au,au*=256;return iu}binary.readUintLE=Ya;function Bc(Zs,Wa,Za,iu){if(Za===void 0&&(Za=new Uint8Array(Zs/8)),iu===void 0&&(iu=0),Zs%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!st.isSafeInteger(Wa))throw new Error("writeUintBE value must be an integer");for(var au=1,nu=Zs/8+iu-1;nu>=iu;nu--)Za[nu]=Wa/au&255,au*=256;return Za}binary.writeUintBE=Bc;function Qa(Zs,Wa,Za,iu){if(Za===void 0&&(Za=new Uint8Array(Zs/8)),iu===void 0&&(iu=0),Zs%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!st.isSafeInteger(Wa))throw new Error("writeUintLE value must be an integer");for(var au=1,nu=iu;nu<iu+Zs/8;nu++)Za[nu]=Wa/au&255,au*=256;return Za}binary.writeUintLE=Qa;function tu(Zs,Wa){Wa===void 0&&(Wa=0);var Za=new DataView(Zs.buffer,Zs.byteOffset,Zs.byteLength);return Za.getFloat32(Wa)}binary.readFloat32BE=tu;function eu(Zs,Wa){Wa===void 0&&(Wa=0);var Za=new DataView(Zs.buffer,Zs.byteOffset,Zs.byteLength);return Za.getFloat32(Wa,!0)}binary.readFloat32LE=eu;function ru(Zs,Wa){Wa===void 0&&(Wa=0);var Za=new DataView(Zs.buffer,Zs.byteOffset,Zs.byteLength);return Za.getFloat64(Wa)}binary.readFloat64BE=ru;function cu(Zs,Wa){Wa===void 0&&(Wa=0);var Za=new DataView(Zs.buffer,Zs.byteOffset,Zs.byteLength);return Za.getFloat64(Wa,!0)}binary.readFloat64LE=cu;function ou(Zs,Wa,Za){Wa===void 0&&(Wa=new Uint8Array(4)),Za===void 0&&(Za=0);var iu=new DataView(Wa.buffer,Wa.byteOffset,Wa.byteLength);return iu.setFloat32(Za,Zs),Wa}binary.writeFloat32BE=ou;function Ga(Zs,Wa,Za){Wa===void 0&&(Wa=new Uint8Array(4)),Za===void 0&&(Za=0);var iu=new DataView(Wa.buffer,Wa.byteOffset,Wa.byteLength);return iu.setFloat32(Za,Zs,!0),Wa}binary.writeFloat32LE=Ga;function Xa(Zs,Wa,Za){Wa===void 0&&(Wa=new Uint8Array(8)),Za===void 0&&(Za=0);var iu=new DataView(Wa.buffer,Wa.byteOffset,Wa.byteLength);return iu.setFloat64(Za,Zs),Wa}binary.writeFloat64BE=Xa;function Fa(Zs,Wa,Za){Wa===void 0&&(Wa=new Uint8Array(8)),Za===void 0&&(Za=0);var iu=new DataView(Wa.buffer,Wa.byteOffset,Wa.byteLength);return iu.setFloat64(Za,Zs,!0),Wa}return binary.writeFloat64LE=Fa,binary}var wipe={},hasRequiredWipe;function requireWipe(){if(hasRequiredWipe)return wipe;hasRequiredWipe=1,Object.defineProperty(wipe,"__esModule",{value:!0});function st(t){for(var et=0;et<t.length;et++)t[et]=0;return t}return wipe.wipe=st,wipe}var hasRequiredSha256$1;function requireSha256$1(){return hasRequiredSha256$1||(hasRequiredSha256$1=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});var t=requireBinary(),et=requireWipe();st.DIGEST_LENGTH=32,st.BLOCK_SIZE=64;var ms=function(){function Es(){this.digestLength=st.DIGEST_LENGTH,this.blockSize=st.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return Es.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},Es.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},Es.prototype.clean=function(){et.wipe(this._buffer),et.wipe(this._temp),this.reset()},Es.prototype.update=function(Ts,Ss){if(Ss===void 0&&(Ss=Ts.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var Rs=0;if(this._bytesHashed+=Ss,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&Ss>0;)this._buffer[this._bufferLength++]=Ts[Rs++],Ss--;this._bufferLength===this.blockSize&&(vs(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Ss>=this.blockSize&&(Rs=vs(this._temp,this._state,Ts,Rs,Ss),Ss%=this.blockSize);Ss>0;)this._buffer[this._bufferLength++]=Ts[Rs++],Ss--;return this},Es.prototype.finish=function(Ts){if(!this._finished){var Ss=this._bytesHashed,Rs=this._bufferLength,Bs=Ss/536870912|0,Is=Ss<<3,Ws=Ss%64<56?64:128;this._buffer[Rs]=128;for(var Hs=Rs+1;Hs<Ws-8;Hs++)this._buffer[Hs]=0;t.writeUint32BE(Bs,this._buffer,Ws-8),t.writeUint32BE(Is,this._buffer,Ws-4),vs(this._temp,this._state,this._buffer,0,Ws),this._finished=!0}for(var Hs=0;Hs<this.digestLength/4;Hs++)t.writeUint32BE(this._state[Hs],Ts,Hs*4);return this},Es.prototype.digest=function(){var Ts=new Uint8Array(this.digestLength);return this.finish(Ts),Ts},Es.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},Es.prototype.restoreState=function(Ts){return this._state.set(Ts.state),this._bufferLength=Ts.bufferLength,Ts.buffer&&this._buffer.set(Ts.buffer),this._bytesHashed=Ts.bytesHashed,this._finished=!1,this},Es.prototype.cleanSavedState=function(Ts){et.wipe(Ts.state),Ts.buffer&&et.wipe(Ts.buffer),Ts.bufferLength=0,Ts.bytesHashed=0},Es}();st.SHA256=ms;var ws=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function vs(Es,Ts,Ss,Rs,Bs){for(;Bs>=64;){for(var Is=Ts[0],Ws=Ts[1],Hs=Ts[2],Ns=Ts[3],Js=Ts[4],ha=Ts[5],pa=Ts[6],za=Ts[7],Ya=0;Ya<16;Ya++){var Bc=Rs+Ya*4;Es[Ya]=t.readUint32BE(Ss,Bc)}for(var Ya=16;Ya<64;Ya++){var Qa=Es[Ya-2],tu=(Qa>>>17|Qa<<15)^(Qa>>>19|Qa<<13)^Qa>>>10;Qa=Es[Ya-15];var eu=(Qa>>>7|Qa<<25)^(Qa>>>18|Qa<<14)^Qa>>>3;Es[Ya]=(tu+Es[Ya-7]|0)+(eu+Es[Ya-16]|0)}for(var Ya=0;Ya<64;Ya++){var tu=(((Js>>>6|Js<<26)^(Js>>>11|Js<<21)^(Js>>>25|Js<<7))+(Js&ha^~Js&pa)|0)+(za+(ws[Ya]+Es[Ya]|0)|0)|0,eu=((Is>>>2|Is<<30)^(Is>>>13|Is<<19)^(Is>>>22|Is<<10))+(Is&Ws^Is&Hs^Ws&Hs)|0;za=pa,pa=ha,ha=Js,Js=Ns+tu|0,Ns=Hs,Hs=Ws,Ws=Is,Is=tu+eu|0}Ts[0]+=Is,Ts[1]+=Ws,Ts[2]+=Hs,Ts[3]+=Ns,Ts[4]+=Js,Ts[5]+=ha,Ts[6]+=pa,Ts[7]+=za,Rs+=64,Bs-=64}return Rs}function _s(Es){var Ts=new ms;Ts.update(Es);var Ss=Ts.digest();return Ts.clean(),Ss}st.hash=_s}(sha256$2)),sha256$2}var safejson={},log={},report={},browserPonyfill$1={exports:{}},hasRequiredBrowserPonyfill$1;function requireBrowserPonyfill$1(){return hasRequiredBrowserPonyfill$1||(hasRequiredBrowserPonyfill$1=1,function(st,t){var et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window,ms=function(){function vs(){this.fetch=!1,this.DOMException=et.DOMException}return vs.prototype=et,new vs}();(function(vs){(function(_s){var Es=typeof vs<"u"&&vs||typeof self<"u"&&self||typeof window<"u"&&window||{},Ts={searchParams:"URLSearchParams"in Es,iterable:"Symbol"in Es&&"iterator"in Symbol,blob:"FileReader"in Es&&"Blob"in Es&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Es,arrayBuffer:"ArrayBuffer"in Es};function Ss(Zs){return Zs&&DataView.prototype.isPrototypeOf(Zs)}if(Ts.arrayBuffer)var Rs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Bs=ArrayBuffer.isView||function(Zs){return Zs&&Rs.indexOf(Object.prototype.toString.call(Zs))>-1};function Is(Zs){if(typeof Zs!="string"&&(Zs=String(Zs)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Zs)||Zs==="")throw new TypeError('Invalid character in header field name: "'+Zs+'"');return Zs.toLowerCase()}function Ws(Zs){return typeof Zs!="string"&&(Zs=String(Zs)),Zs}function Hs(Zs){var Wa={next:function(){var Za=Zs.shift();return{done:Za===void 0,value:Za}}};return Ts.iterable&&(Wa[Symbol.iterator]=function(){return Wa}),Wa}function Ns(Zs){this.map={},Zs instanceof Ns?Zs.forEach(function(Wa,Za){this.append(Za,Wa)},this):Array.isArray(Zs)?Zs.forEach(function(Wa){if(Wa.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Wa.length);this.append(Wa[0],Wa[1])},this):Zs&&Object.getOwnPropertyNames(Zs).forEach(function(Wa){this.append(Wa,Zs[Wa])},this)}Ns.prototype.append=function(Zs,Wa){Zs=Is(Zs),Wa=Ws(Wa);var Za=this.map[Zs];this.map[Zs]=Za?Za+", "+Wa:Wa},Ns.prototype.delete=function(Zs){delete this.map[Is(Zs)]},Ns.prototype.get=function(Zs){return Zs=Is(Zs),this.has(Zs)?this.map[Zs]:null},Ns.prototype.has=function(Zs){return this.map.hasOwnProperty(Is(Zs))},Ns.prototype.set=function(Zs,Wa){this.map[Is(Zs)]=Ws(Wa)},Ns.prototype.forEach=function(Zs,Wa){for(var Za in this.map)this.map.hasOwnProperty(Za)&&Zs.call(Wa,this.map[Za],Za,this)},Ns.prototype.keys=function(){var Zs=[];return this.forEach(function(Wa,Za){Zs.push(Za)}),Hs(Zs)},Ns.prototype.values=function(){var Zs=[];return this.forEach(function(Wa){Zs.push(Wa)}),Hs(Zs)},Ns.prototype.entries=function(){var Zs=[];return this.forEach(function(Wa,Za){Zs.push([Za,Wa])}),Hs(Zs)},Ts.iterable&&(Ns.prototype[Symbol.iterator]=Ns.prototype.entries);function Js(Zs){if(!Zs._noBody){if(Zs.bodyUsed)return Promise.reject(new TypeError("Already read"));Zs.bodyUsed=!0}}function ha(Zs){return new Promise(function(Wa,Za){Zs.onload=function(){Wa(Zs.result)},Zs.onerror=function(){Za(Zs.error)}})}function pa(Zs){var Wa=new FileReader,Za=ha(Wa);return Wa.readAsArrayBuffer(Zs),Za}function za(Zs){var Wa=new FileReader,Za=ha(Wa),iu=/charset=([A-Za-z0-9_-]+)/.exec(Zs.type),au=iu?iu[1]:"utf-8";return Wa.readAsText(Zs,au),Za}function Ya(Zs){for(var Wa=new Uint8Array(Zs),Za=new Array(Wa.length),iu=0;iu<Wa.length;iu++)Za[iu]=String.fromCharCode(Wa[iu]);return Za.join("")}function Bc(Zs){if(Zs.slice)return Zs.slice(0);var Wa=new Uint8Array(Zs.byteLength);return Wa.set(new Uint8Array(Zs)),Wa.buffer}function Qa(){return this.bodyUsed=!1,this._initBody=function(Zs){this.bodyUsed=this.bodyUsed,this._bodyInit=Zs,Zs?typeof Zs=="string"?this._bodyText=Zs:Ts.blob&&Blob.prototype.isPrototypeOf(Zs)?this._bodyBlob=Zs:Ts.formData&&FormData.prototype.isPrototypeOf(Zs)?this._bodyFormData=Zs:Ts.searchParams&&URLSearchParams.prototype.isPrototypeOf(Zs)?this._bodyText=Zs.toString():Ts.arrayBuffer&&Ts.blob&&Ss(Zs)?(this._bodyArrayBuffer=Bc(Zs.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ts.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Zs)||Bs(Zs))?this._bodyArrayBuffer=Bc(Zs):this._bodyText=Zs=Object.prototype.toString.call(Zs):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof Zs=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ts.searchParams&&URLSearchParams.prototype.isPrototypeOf(Zs)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ts.blob&&(this.blob=function(){var Zs=Js(this);if(Zs)return Zs;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var Zs=Js(this);return Zs||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Ts.blob)return this.blob().then(pa);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var Zs=Js(this);if(Zs)return Zs;if(this._bodyBlob)return za(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ya(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ts.formData&&(this.formData=function(){return this.text().then(cu)}),this.json=function(){return this.text().then(JSON.parse)},this}var tu=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function eu(Zs){var Wa=Zs.toUpperCase();return tu.indexOf(Wa)>-1?Wa:Zs}function ru(Zs,Wa){if(!(this instanceof ru))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Wa=Wa||{};var Za=Wa.body;if(Zs instanceof ru){if(Zs.bodyUsed)throw new TypeError("Already read");this.url=Zs.url,this.credentials=Zs.credentials,Wa.headers||(this.headers=new Ns(Zs.headers)),this.method=Zs.method,this.mode=Zs.mode,this.signal=Zs.signal,!Za&&Zs._bodyInit!=null&&(Za=Zs._bodyInit,Zs.bodyUsed=!0)}else this.url=String(Zs);if(this.credentials=Wa.credentials||this.credentials||"same-origin",(Wa.headers||!this.headers)&&(this.headers=new Ns(Wa.headers)),this.method=eu(Wa.method||this.method||"GET"),this.mode=Wa.mode||this.mode||null,this.signal=Wa.signal||this.signal||function(){if("AbortController"in Es){var nu=new AbortController;return nu.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Za)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Za),(this.method==="GET"||this.method==="HEAD")&&(Wa.cache==="no-store"||Wa.cache==="no-cache")){var iu=/([?&])_=[^&]*/;if(iu.test(this.url))this.url=this.url.replace(iu,"$1_="+new Date().getTime());else{var au=/\?/;this.url+=(au.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ru.prototype.clone=function(){return new ru(this,{body:this._bodyInit})};function cu(Zs){var Wa=new FormData;return Zs.trim().split("&").forEach(function(Za){if(Za){var iu=Za.split("="),au=iu.shift().replace(/\+/g," "),nu=iu.join("=").replace(/\+/g," ");Wa.append(decodeURIComponent(au),decodeURIComponent(nu))}}),Wa}function ou(Zs){var Wa=new Ns,Za=Zs.replace(/\r?\n[\t ]+/g," ");return Za.split("\r").map(function(iu){return iu.indexOf(`
`)===0?iu.substr(1,iu.length):iu}).forEach(function(iu){var au=iu.split(":"),nu=au.shift().trim();if(nu){var uu=au.join(":").trim();try{Wa.append(nu,uu)}catch(fu){console.warn("Response "+fu.message)}}}),Wa}Qa.call(ru.prototype);function Ga(Zs,Wa){if(!(this instanceof Ga))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Wa||(Wa={}),this.type="default",this.status=Wa.status===void 0?200:Wa.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Wa.statusText===void 0?"":""+Wa.statusText,this.headers=new Ns(Wa.headers),this.url=Wa.url||"",this._initBody(Zs)}Qa.call(Ga.prototype),Ga.prototype.clone=function(){return new Ga(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ns(this.headers),url:this.url})},Ga.error=function(){var Zs=new Ga(null,{status:200,statusText:""});return Zs.ok=!1,Zs.status=0,Zs.type="error",Zs};var Xa=[301,302,303,307,308];Ga.redirect=function(Zs,Wa){if(Xa.indexOf(Wa)===-1)throw new RangeError("Invalid status code");return new Ga(null,{status:Wa,headers:{location:Zs}})},_s.DOMException=Es.DOMException;try{new _s.DOMException}catch{_s.DOMException=function(Wa,Za){this.message=Wa,this.name=Za;var iu=Error(Wa);this.stack=iu.stack},_s.DOMException.prototype=Object.create(Error.prototype),_s.DOMException.prototype.constructor=_s.DOMException}function Fa(Zs,Wa){return new Promise(function(Za,iu){var au=new ru(Zs,Wa);if(au.signal&&au.signal.aborted)return iu(new _s.DOMException("Aborted","AbortError"));var nu=new XMLHttpRequest;function uu(){nu.abort()}nu.onload=function(){var Eu={statusText:nu.statusText,headers:ou(nu.getAllResponseHeaders()||"")};au.url.indexOf("file://")===0&&(nu.status<200||nu.status>599)?Eu.status=200:Eu.status=nu.status,Eu.url="responseURL"in nu?nu.responseURL:Eu.headers.get("X-Request-URL");var $u="response"in nu?nu.response:nu.responseText;setTimeout(function(){Za(new Ga($u,Eu))},0)},nu.onerror=function(){setTimeout(function(){iu(new TypeError("Network request failed"))},0)},nu.ontimeout=function(){setTimeout(function(){iu(new TypeError("Network request timed out"))},0)},nu.onabort=function(){setTimeout(function(){iu(new _s.DOMException("Aborted","AbortError"))},0)};function fu(Eu){try{return Eu===""&&Es.location.href?Es.location.href:Eu}catch{return Eu}}if(nu.open(au.method,fu(au.url),!0),au.credentials==="include"?nu.withCredentials=!0:au.credentials==="omit"&&(nu.withCredentials=!1),"responseType"in nu&&(Ts.blob?nu.responseType="blob":Ts.arrayBuffer&&(nu.responseType="arraybuffer")),Wa&&typeof Wa.headers=="object"&&!(Wa.headers instanceof Ns||Es.Headers&&Wa.headers instanceof Es.Headers)){var hu=[];Object.getOwnPropertyNames(Wa.headers).forEach(function(Eu){hu.push(Is(Eu)),nu.setRequestHeader(Eu,Ws(Wa.headers[Eu]))}),au.headers.forEach(function(Eu,$u){hu.indexOf($u)===-1&&nu.setRequestHeader($u,Eu)})}else au.headers.forEach(function(Eu,$u){nu.setRequestHeader($u,Eu)});au.signal&&(au.signal.addEventListener("abort",uu),nu.onreadystatechange=function(){nu.readyState===4&&au.signal.removeEventListener("abort",uu)}),nu.send(typeof au._bodyInit>"u"?null:au._bodyInit)})}return Fa.polyfill=!0,Es.fetch||(Es.fetch=Fa,Es.Headers=Ns,Es.Request=ru,Es.Response=Ga),_s.Headers=Ns,_s.Request=ru,_s.Response=Ga,_s.fetch=Fa,_s})({})})(ms),ms.fetch.ponyfill=!0,delete ms.fetch.polyfill;var ws=et.fetch?et:ms;t=ws.fetch,t.default=ws.fetch,t.fetch=ws.fetch,t.Headers=ws.Headers,t.Request=ws.Request,t.Response=ws.Response,st.exports=t}(browserPonyfill$1,browserPonyfill$1.exports)),browserPonyfill$1.exports}var url={},protocol={},error={},okxConnect_error={},hasRequiredOkxConnect_error;function requireOkxConnect_error(){return hasRequiredOkxConnect_error||(hasRequiredOkxConnect_error=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.DEFAULT_ERROR=st.STANDARD_ERROR_MAP=st.SERVER_ERROR_CODE_RANGE=st.RESERVED_ERROR_CODES=st.SERVER_ERROR=st.INTERNAL_ERROR=st.INVALID_PARAMS=st.METHOD_NOT_FOUND=st.INVALID_REQUEST=st.PARSE_ERROR=st.OKX_CONNECT_ERROR_CODES=st.OKXConnectError=void 0;class t extends Error{constructor(vs,_s){_s==null&&(_s=et(vs)),super(_s),this.code=vs,this.message=`${t.prefix} ${_s?`
`+_s:""}`,Object.setPrototypeOf(this,t.prototype)}toJSON(){return{message:this.message,code:this.code}}}st.OKXConnectError=t,t.prefix="[OKX_CONNECT_SDK_ERROR]";function et(ws){return ws==ms.UNKNOWN_ERROR?"unknown error":ws==ms.BAD_REQUEST_ERROR?"bad request error":ws==ms.ALREADY_CONNECTED_ERROR?"already connected error":ws==ms.NOT_CONNECTED_ERROR?"not connected error":ws==ms.UNKNOWN_APP_ERROR?"unknown app error":ws==ms.USER_REJECTS_ERROR?"user rejects error":ws==ms.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":ws==ms.METHOD_NOT_SUPPORTED?"method not supported":ws==ms.CONNECTION_ERROR?"connect error":ws==ms.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}var ms;(function(ws){ws[ws.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",ws[ws.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",ws[ws.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",ws[ws.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",ws[ws.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",ws[ws.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",ws[ws.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",ws[ws.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",ws[ws.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",ws[ws.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",ws[ws.CONNECTION_ERROR=700]="CONNECTION_ERROR"})(ms||(st.OKX_CONNECT_ERROR_CODES=ms={})),st.PARSE_ERROR="PARSE_ERROR",st.INVALID_REQUEST="INVALID_REQUEST",st.METHOD_NOT_FOUND="METHOD_NOT_FOUND",st.INVALID_PARAMS="INVALID_PARAMS",st.INTERNAL_ERROR="INTERNAL_ERROR",st.SERVER_ERROR="SERVER_ERROR",st.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],st.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],st.STANDARD_ERROR_MAP={[st.PARSE_ERROR]:{code:-32700,message:"Parse error"},[st.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[st.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[st.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[st.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[st.SERVER_ERROR]:{code:-32e3,message:"Server error"}},st.DEFAULT_ERROR=st.SERVER_ERROR}(okxConnect_error)),okxConnect_error}var hasRequiredError;function requireError(){return hasRequiredError||(hasRequiredError=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.OKX_CONNECT_ERROR_CODES=st.OKXConnectError=void 0;var t=requireOkxConnect_error();Object.defineProperty(st,"OKXConnectError",{enumerable:!0,get:function(){return t.OKXConnectError}}),Object.defineProperty(st,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return t.OKX_CONNECT_ERROR_CODES}})}(error)),error}var misc$3={},hasRequiredMisc$3;function requireMisc$3(){if(hasRequiredMisc$3)return misc$3;hasRequiredMisc$3=1,Object.defineProperty(misc$3,"__esModule",{value:!0}),misc$3.NameSpaceKeyStarknet=misc$3.NameSpaceKeyTron=misc$3.NameSpaceKeyCosmos=misc$3.NameSpaceKeyAptos=misc$3.NameSpaceKeyBtc=misc$3.NameSpaceKeySui=misc$3.NameSpaceKeyTON=misc$3.NameSpaceKeySOL=misc$3.NameSpaceKeyEip155=misc$3.OpenAppLinkType=void 0;var st;return function(t){t.UniversalLink="universallink",t.DeepLink="deeplink"}(st||(misc$3.OpenAppLinkType=st={})),misc$3.NameSpaceKeyEip155="eip155",misc$3.NameSpaceKeySOL="solana",misc$3.NameSpaceKeyTON="ton",misc$3.NameSpaceKeySui="sui",misc$3.NameSpaceKeyBtc="btc",misc$3.NameSpaceKeyAptos="aptos",misc$3.NameSpaceKeyCosmos="cosmos",misc$3.NameSpaceKeyTron="tron",misc$3.NameSpaceKeyStarknet="starknet",misc$3}var constants$2={},hasRequiredConstants$2;function requireConstants$2(){return hasRequiredConstants$2||(hasRequiredConstants$2=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.OKX_MINI_WALLET_NAME=st.OKX_APP_WALLET_NAME=st.stackDeepLink=st.tgwalletAppName=st.tgwalletName=st.tonConnectSdkVersion=st.standardDeeplink=st.downloadUrl=st.shortUniversalLink=st.standardUniversalLink=st.okxDeeplink=void 0,st.getTestTwaUrl=t,st.getTestTgTwaUrl=et,st.getBotNameAndAppName=ms,st.okxDeeplink="okx://web3",st.standardUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",st.shortUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/ul/connect":"https://www.okx.com/ul/connect",st.downloadUrl="https://www.okx.com/download",st.standardDeeplink=`${st.okxDeeplink}/wallet/connect`,st.tonConnectSdkVersion="1",st.tgwalletName="OKX_WALLET_BOT",st.tgwalletAppName="start",st.stackDeepLink="okx://web3?stack=true";function t(){return window.okxTesttwaUrl}function et(){return window.okxTestTgtwaUrl}function ms(ws){const _s=new URL(ws).pathname.split("/").filter(Boolean);if(_s.length>=2){const Es=_s[0],Ts=_s[1];return{botName:Es,appName:Ts}}}st.OKX_APP_WALLET_NAME="OKX Wallet",st.OKX_MINI_WALLET_NAME="OKX Mini Wallet"}(constants$2)),constants$2}var connect={},jsonRpc={},hasRequiredJsonRpc;function requireJsonRpc(){if(hasRequiredJsonRpc)return jsonRpc;hasRequiredJsonRpc=1;var st=jsonRpc&&jsonRpc.__importDefault||function(ru){return ru&&ru.__esModule?ru:{default:ru}};Object.defineProperty(jsonRpc,"__esModule",{value:!0}),jsonRpc.isJsonRpcPayload=t,jsonRpc.isJsonRpcRequest=et,jsonRpc.isJsonRpcResponse=ms,jsonRpc.isJsonRpcResult=ws,jsonRpc.isJsonRpcError=vs,jsonRpc.payloadId=Bs,jsonRpc.getBigIntRpcId=Is,jsonRpc.formatJsonRpcRequest=Ws,jsonRpc.formatJsonRpcResult=Hs,jsonRpc.formatJsonRpcError=Ns,jsonRpc.isReservedErrorCode=Js,jsonRpc.getError=ha,jsonRpc.getErrorByCode=pa,jsonRpc.formatErrorMessage=za,jsonRpc.isHttpUrl=Qa,jsonRpc.isWsUrl=tu,jsonRpc.parseConnectionError=eu;function t(ru){return typeof ru=="object"&&"id"in ru&&"jsonrpc"in ru&&ru.jsonrpc==="2.0"}function et(ru){return t(ru)&&"method"in ru}function ms(ru){return t(ru)&&(ws(ru)||vs(ru))}function ws(ru){return"result"in ru}function vs(ru){return"error"in ru}const _s=requireOkxConnect_error(),Es=st(requireNaclFast());class Ts{constructor(cu){this.i=1,cu?this.initialValue=Es.default.randomBytes(cu/8)[0]:this.initialValue=0}getNextValue(){return this.initialValue+this.i++}}const Ss=new Ts(8),Rs=new Ts(16);function Bs(){const ru=Date.now()*1e3,cu=Ss.getNextValue();return ru+cu}function Is(){const ru=BigInt(Date.now())*BigInt(1e6),cu=BigInt(Rs.getNextValue());return ru+cu}function Ws(ru,cu,ou){return{id:ou||Bs(),jsonrpc:"2.0",method:ru,params:cu}}function Hs(ru,cu){return{id:ru,jsonrpc:"2.0",result:cu}}function Ns(ru,cu,ou){return{id:ru,jsonrpc:"2.0",error:za(cu,ou)}}function Js(ru){return _s.RESERVED_ERROR_CODES.includes(ru)}function ha(ru){return Object.keys(_s.STANDARD_ERROR_MAP).includes(ru)?_s.STANDARD_ERROR_MAP[ru]:_s.STANDARD_ERROR_MAP[_s.DEFAULT_ERROR]}function pa(ru){const cu=Object.values(_s.STANDARD_ERROR_MAP).find(ou=>ou.code===ru);return cu||_s.STANDARD_ERROR_MAP[_s.DEFAULT_ERROR]}function za(ru,cu){return typeof ru>"u"?ha(_s.INTERNAL_ERROR):(typeof ru=="string"&&(ru=Object.assign(Object.assign({},ha(_s.SERVER_ERROR)),{message:ru})),typeof cu<"u"&&(ru.data=cu),Js(ru.code)&&(ru=pa(ru.code)),ru)}function Ya(ru){const cu=ru.match(new RegExp(/^\w+:/,"gi"));if(!(!cu||!cu.length))return cu[0]}function Bc(ru,cu){const ou=Ya(ru);return typeof ou>"u"?!1:new RegExp(cu).test(ou)}function Qa(ru){return Bc(ru,"^https?:")}function tu(ru){return Bc(ru,"^wss?:")}function eu(ru,cu,ou){return ru.message.includes("getaddrinfo ENOTFOUND")||ru.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${ou} RPC url at ${cu}`):ru}return jsonRpc}var engine$1={},hasRequiredEngine$1;function requireEngine$1(){if(hasRequiredEngine$1)return engine$1;hasRequiredEngine$1=1;var st=engine$1&&engine$1.__importDefault||function(_s){return _s&&_s.__esModule?_s:{default:_s}};Object.defineProperty(engine$1,"__esModule",{value:!0}),engine$1.IEngine=engine$1.ISignClient=engine$1.ISignClientEvents=engine$1.IEngineEvents=void 0;const t=st(requireEventemitter3());class et extends t.default{constructor(){super()}}engine$1.IEngineEvents=et;class ms extends t.default{constructor(){super()}}engine$1.ISignClientEvents=ms;class ws{constructor(Es){this.data=Es}}engine$1.ISignClient=ws;class vs{constructor(Es){this.client=Es}}return engine$1.IEngine=vs,engine$1}var ton$1={},connectWallet={},hasRequiredConnectWallet;function requireConnectWallet(){if(hasRequiredConnectWallet)return connectWallet;hasRequiredConnectWallet=1,Object.defineProperty(connectWallet,"__esModule",{value:!0}),connectWallet.TONCHAIN=void 0;var st;return function(t){t.MAINNET="-239"}(st||(connectWallet.TONCHAIN=st={})),connectWallet}var connectEvent={},hasRequiredConnectEvent;function requireConnectEvent(){if(hasRequiredConnectEvent)return connectEvent;hasRequiredConnectEvent=1,Object.defineProperty(connectEvent,"__esModule",{value:!0}),connectEvent.CONNECT_ITEM_ERROR_CODES=void 0;var st;return function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(st||(connectEvent.CONNECT_ITEM_ERROR_CODES=st={})),connectEvent}var hasRequiredTon$1;function requireTon$1(){return hasRequiredTon$1||(hasRequiredTon$1=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.CONNECT_ITEM_ERROR_CODES=st.TONCHAIN=void 0;var t=requireConnectWallet();Object.defineProperty(st,"TONCHAIN",{enumerable:!0,get:function(){return t.TONCHAIN}});var et=requireConnectEvent();Object.defineProperty(st,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return et.CONNECT_ITEM_ERROR_CODES}})}(ton$1)),ton$1}var walletInfo={},hasRequiredWalletInfo;function requireWalletInfo(){return hasRequiredWalletInfo||(hasRequiredWalletInfo=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.AptosAppleWalletName=st.AptosGoogleWalletName=st.OKXInjectWalletName=st.OKXMiniWalletName=st.OKXWalletName=void 0,st.creatOKXWalletInfo=t,st.creatOKXMiniAppWalletInfo=et,st.creatOKXInjectWalletInfo=ms,st.OKXWalletName="OKX Wallet",st.OKXMiniWalletName="OKX Mini Wallet",st.OKXInjectWalletName="OKX Inject Wallet",st.AptosGoogleWalletName="Continue with Google",st.AptosAppleWalletName="Continue with Apple";function t(){return{appName:"okxAppWallet",name:st.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function et(){return{appName:"okxMiniApp",name:st.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function ms(){return{appName:"okxInjectWallet",name:st.OKXInjectWalletName,imageUrl:""}}}(walletInfo)),walletInfo}var hasRequiredConnect$2;function requireConnect$2(){return hasRequiredConnect$2||(hasRequiredConnect$2=1,function(st){var t=connect&&connect.__createBinding||(Object.create?function(vs,_s,Es,Ts){Ts===void 0&&(Ts=Es);var Ss=Object.getOwnPropertyDescriptor(_s,Es);(!Ss||("get"in Ss?!_s.__esModule:Ss.writable||Ss.configurable))&&(Ss={enumerable:!0,get:function(){return _s[Es]}}),Object.defineProperty(vs,Ts,Ss)}:function(vs,_s,Es,Ts){Ts===void 0&&(Ts=Es),vs[Ts]=_s[Es]}),et=connect&&connect.__exportStar||function(vs,_s){for(var Es in vs)Es!=="default"&&!Object.prototype.hasOwnProperty.call(_s,Es)&&t(_s,vs,Es)};Object.defineProperty(st,"__esModule",{value:!0}),st.ISignClientEvents=st.IEngine=st.IEngineEvents=st.ISignClient=st.getBigIntRpcId=st.formatJsonRpcRequest=st.isJsonRpcError=st.isJsonRpcResponse=st.parseConnectionError=st.isHttpUrl=st.formatJsonRpcError=void 0;var ms=requireJsonRpc();Object.defineProperty(st,"formatJsonRpcError",{enumerable:!0,get:function(){return ms.formatJsonRpcError}}),Object.defineProperty(st,"isHttpUrl",{enumerable:!0,get:function(){return ms.isHttpUrl}}),Object.defineProperty(st,"parseConnectionError",{enumerable:!0,get:function(){return ms.parseConnectionError}}),Object.defineProperty(st,"isJsonRpcResponse",{enumerable:!0,get:function(){return ms.isJsonRpcResponse}}),Object.defineProperty(st,"isJsonRpcError",{enumerable:!0,get:function(){return ms.isJsonRpcError}}),Object.defineProperty(st,"formatJsonRpcRequest",{enumerable:!0,get:function(){return ms.formatJsonRpcRequest}}),Object.defineProperty(st,"getBigIntRpcId",{enumerable:!0,get:function(){return ms.getBigIntRpcId}});var ws=requireEngine$1();Object.defineProperty(st,"ISignClient",{enumerable:!0,get:function(){return ws.ISignClient}}),Object.defineProperty(st,"IEngineEvents",{enumerable:!0,get:function(){return ws.IEngineEvents}}),Object.defineProperty(st,"IEngine",{enumerable:!0,get:function(){return ws.IEngine}}),Object.defineProperty(st,"ISignClientEvents",{enumerable:!0,get:function(){return ws.ISignClientEvents}}),et(requireTon$1(),st),et(requireWalletInfo(),st)}(connect)),connect}var chains={},hasRequiredChains;function requireChains(){return hasRequiredChains||(hasRequiredChains=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.NAMES_CHAINS=st.TON_CHAINS=st.COSMOS_CHAINS=st.APTOS_CHAINS=st.SUI_CHAINS=st.SOLANA_CHAINS=st.BTC_CHAINS=void 0;const t=requireMisc$3();st.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"},st.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"},st.SUI_CHAINS={MAINNET:"sui:mainnet"},st.APTOS_CHAINS={MAINNET:"aptos:mainnet",MOVEMENT_MAINNET:"movement:mainnet",MOVEMENT_TESTNET:"movement:testnet"},st.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"},st.TON_CHAINS={MAINNET:"ton:-239"},st.NAMES_CHAINS={[t.NameSpaceKeyBtc]:Object.values(st.BTC_CHAINS),[t.NameSpaceKeySOL]:Object.values(st.SOLANA_CHAINS),[t.NameSpaceKeyTON]:Object.values(st.TON_CHAINS),[t.NameSpaceKeySui]:Object.values(st.SUI_CHAINS),[t.NameSpaceKeyAptos]:Object.values(st.APTOS_CHAINS),[t.NameSpaceKeyCosmos]:Object.values(st.COSMOS_CHAINS)}}(chains)),chains}var hasRequiredProtocol;function requireProtocol(){return hasRequiredProtocol||(hasRequiredProtocol=1,function(st){var t=protocol&&protocol.__createBinding||(Object.create?function(_s,Es,Ts,Ss){Ss===void 0&&(Ss=Ts);var Rs=Object.getOwnPropertyDescriptor(Es,Ts);(!Rs||("get"in Rs?!Es.__esModule:Rs.writable||Rs.configurable))&&(Rs={enumerable:!0,get:function(){return Es[Ts]}}),Object.defineProperty(_s,Ss,Rs)}:function(_s,Es,Ts,Ss){Ss===void 0&&(Ss=Ts),_s[Ss]=Es[Ts]}),et=protocol&&protocol.__exportStar||function(_s,Es){for(var Ts in _s)Ts!=="default"&&!Object.prototype.hasOwnProperty.call(Es,Ts)&&t(Es,_s,Ts)};Object.defineProperty(st,"__esModule",{value:!0}),st.NAMES_CHAINS=st.TON_CHAINS=st.COSMOS_CHAINS=st.APTOS_CHAINS=st.SUI_CHAINS=st.SOLANA_CHAINS=st.BTC_CHAINS=st.shortUniversalLink=st.downloadUrl=st.okxDeeplink=st.tonConnectSdkVersion=st.standardDeeplink=st.standardUniversalLink=st.OpenAppLinkType=st.NameSpaceKeyStarknet=st.NameSpaceKeyTron=st.NameSpaceKeyCosmos=st.NameSpaceKeyAptos=st.NameSpaceKeyBtc=st.NameSpaceKeySui=st.NameSpaceKeyTON=st.NameSpaceKeySOL=st.NameSpaceKeyEip155=void 0,et(requireError(),st);var ms=requireMisc$3();Object.defineProperty(st,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return ms.NameSpaceKeyEip155}}),Object.defineProperty(st,"NameSpaceKeySOL",{enumerable:!0,get:function(){return ms.NameSpaceKeySOL}}),Object.defineProperty(st,"NameSpaceKeyTON",{enumerable:!0,get:function(){return ms.NameSpaceKeyTON}}),Object.defineProperty(st,"NameSpaceKeySui",{enumerable:!0,get:function(){return ms.NameSpaceKeySui}}),Object.defineProperty(st,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return ms.NameSpaceKeyBtc}}),Object.defineProperty(st,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return ms.NameSpaceKeyAptos}}),Object.defineProperty(st,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return ms.NameSpaceKeyCosmos}}),Object.defineProperty(st,"NameSpaceKeyTron",{enumerable:!0,get:function(){return ms.NameSpaceKeyTron}}),Object.defineProperty(st,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return ms.NameSpaceKeyStarknet}}),Object.defineProperty(st,"OpenAppLinkType",{enumerable:!0,get:function(){return ms.OpenAppLinkType}});var ws=requireConstants$2();Object.defineProperty(st,"standardUniversalLink",{enumerable:!0,get:function(){return ws.standardUniversalLink}}),Object.defineProperty(st,"standardDeeplink",{enumerable:!0,get:function(){return ws.standardDeeplink}}),Object.defineProperty(st,"tonConnectSdkVersion",{enumerable:!0,get:function(){return ws.tonConnectSdkVersion}}),Object.defineProperty(st,"okxDeeplink",{enumerable:!0,get:function(){return ws.okxDeeplink}}),Object.defineProperty(st,"downloadUrl",{enumerable:!0,get:function(){return ws.downloadUrl}}),Object.defineProperty(st,"shortUniversalLink",{enumerable:!0,get:function(){return ws.shortUniversalLink}}),et(requireConnect$2(),st);var vs=requireChains();Object.defineProperty(st,"BTC_CHAINS",{enumerable:!0,get:function(){return vs.BTC_CHAINS}}),Object.defineProperty(st,"SOLANA_CHAINS",{enumerable:!0,get:function(){return vs.SOLANA_CHAINS}}),Object.defineProperty(st,"SUI_CHAINS",{enumerable:!0,get:function(){return vs.SUI_CHAINS}}),Object.defineProperty(st,"APTOS_CHAINS",{enumerable:!0,get:function(){return vs.APTOS_CHAINS}}),Object.defineProperty(st,"COSMOS_CHAINS",{enumerable:!0,get:function(){return vs.COSMOS_CHAINS}}),Object.defineProperty(st,"TON_CHAINS",{enumerable:!0,get:function(){return vs.TON_CHAINS}}),Object.defineProperty(st,"NAMES_CHAINS",{enumerable:!0,get:function(){return vs.NAMES_CHAINS}})}(protocol)),protocol}var tmaApi={},webApi={},uaParser$1={exports:{}},uaParser=uaParser$1.exports,hasRequiredUaParser;function requireUaParser(){return hasRequiredUaParser||(hasRequiredUaParser=1,function(st,t){(function(et,ms){var ws="1.0.40",vs="",_s="?",Es="function",Ts="undefined",Ss="object",Rs="string",Bs="major",Is="model",Ws="name",Hs="type",Ns="vendor",Js="version",ha="architecture",pa="console",za="mobile",Ya="tablet",Bc="smarttv",Qa="wearable",tu="embedded",eu=500,ru="Amazon",cu="Apple",ou="ASUS",Ga="BlackBerry",Xa="Browser",Fa="Chrome",Zs="Edge",Wa="Firefox",Za="Google",iu="Huawei",au="LG",nu="Microsoft",uu="Motorola",fu="Opera",hu="Samsung",Eu="Sharp",$u="Sony",Ou="Xiaomi",gu="Zebra",yu="Facebook",Tu="Chromium OS",du="Mac OS",wu=" Browser",Ru=function(cl,ul){var yl={};for(var Cl in cl)ul[Cl]&&ul[Cl].length%2===0?yl[Cl]=ul[Cl].concat(cl[Cl]):yl[Cl]=cl[Cl];return yl},Ku=function(cl){for(var ul={},yl=0;yl<cl.length;yl++)ul[cl[yl].toUpperCase()]=cl[yl];return ul},Zu=function(cl,ul){return typeof cl===Rs?tl(ul).indexOf(tl(cl))!==-1:!1},tl=function(cl){return cl.toLowerCase()},sl=function(cl){return typeof cl===Rs?cl.replace(/[^\d\.]/g,vs).split(".")[0]:ms},gl=function(cl,ul){if(typeof cl===Rs)return cl=cl.replace(/^\s\s*/,vs),typeof ul===Ts?cl:cl.substring(0,eu)},Fu=function(cl,ul){for(var yl=0,Cl,Bu,pu,xu,qu,Pu;yl<ul.length&&!qu;){var xf=ul[yl],nl=ul[yl+1];for(Cl=Bu=0;Cl<xf.length&&!qu&&xf[Cl];)if(qu=xf[Cl++].exec(cl),qu)for(pu=0;pu<nl.length;pu++)Pu=qu[++Bu],xu=nl[pu],typeof xu===Ss&&xu.length>0?xu.length===2?typeof xu[1]==Es?this[xu[0]]=xu[1].call(this,Pu):this[xu[0]]=xu[1]:xu.length===3?typeof xu[1]===Es&&!(xu[1].exec&&xu[1].test)?this[xu[0]]=Pu?xu[1].call(this,Pu,xu[2]):ms:this[xu[0]]=Pu?Pu.replace(xu[1],xu[2]):ms:xu.length===4&&(this[xu[0]]=Pu?xu[3].call(this,Pu.replace(xu[1],xu[2])):ms):this[xu]=Pu||ms;yl+=2}},Mu=function(cl,ul){for(var yl in ul)if(typeof ul[yl]===Ss&&ul[yl].length>0){for(var Cl=0;Cl<ul[yl].length;Cl++)if(Zu(ul[yl][Cl],cl))return yl===_s?ms:yl}else if(Zu(ul[yl],cl))return yl===_s?ms:yl;return ul.hasOwnProperty("*")?ul["*"]:cl},Ju={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},vf={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},wf={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Js,[Ws,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Js,[Ws,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Ws,Js],[/opios[\/ ]+([\w\.]+)/i],[Js,[Ws,fu+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Js,[Ws,fu+" GX"]],[/\bopr\/([\w\.]+)/i],[Js,[Ws,fu]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Js,[Ws,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Js,[Ws,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Ws,Js],[/quark(?:pc)?\/([-\w\.]+)/i],[Js,[Ws,"Quark"]],[/\bddg\/([\w\.]+)/i],[Js,[Ws,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Js,[Ws,"UC"+Xa]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Js,[Ws,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Js,[Ws,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Js,[Ws,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Js,[Ws,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Js,[Ws,"Smart Lenovo "+Xa]],[/(avast|avg)\/([\w\.]+)/i],[[Ws,/(.+)/,"$1 Secure "+Xa],Js],[/\bfocus\/([\w\.]+)/i],[Js,[Ws,Wa+" Focus"]],[/\bopt\/([\w\.]+)/i],[Js,[Ws,fu+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Js,[Ws,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Js,[Ws,"Dolphin"]],[/coast\/([\w\.]+)/i],[Js,[Ws,fu+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Js,[Ws,"MIUI"+wu]],[/fxios\/([\w\.-]+)/i],[Js,[Ws,Wa]],[/\bqihoobrowser\/?([\w\.]*)/i],[Js,[Ws,"360"]],[/\b(qq)\/([\w\.]+)/i],[[Ws,/(.+)/,"$1Browser"],Js],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Ws,/(.+)/,"$1"+wu],Js],[/samsungbrowser\/([\w\.]+)/i],[Js,[Ws,hu+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Js,[Ws,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Ws,"Sogou Mobile"],Js],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[Ws,Js],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Ws],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Js,Ws],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Ws,yu],Js],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Ws,Js],[/\bgsa\/([\w\.]+) .*safari\//i],[Js,[Ws,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Js,[Ws,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Js,[Ws,Fa+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Ws,Fa+" WebView"],Js],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Js,[Ws,"Android "+Xa]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Ws,Js],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Js,[Ws,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Js,Ws],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Ws,[Js,Mu,Ju]],[/(webkit|khtml)\/([\w\.]+)/i],[Ws,Js],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Ws,"Netscape"],Js],[/(wolvic|librewolf)\/([\w\.]+)/i],[Ws,Js],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Js,[Ws,Wa+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Ws,[Js,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Ws,[Js,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[ha,"amd64"]],[/(ia32(?=;))/i],[[ha,tl]],[/((?:i[346]|x)86)[;\)]/i],[[ha,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[ha,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[ha,"armhf"]],[/windows (ce|mobile); ppc;/i],[[ha,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[ha,/ower/,vs,tl]],[/(sun4\w)[;\)]/i],[[ha,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[ha,tl]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Is,[Ns,hu],[Hs,Ya]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[Is,[Ns,hu],[Hs,za]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Is,[Ns,cu],[Hs,za]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Is,[Ns,cu],[Hs,Ya]],[/(macintosh);/i],[Is,[Ns,cu]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Is,[Ns,Eu],[Hs,za]],[/(?:honor)([-\w ]+)[;\)]/i],[Is,[Ns,"Honor"],[Hs,za]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Is,[Ns,iu],[Hs,Ya]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Is,[Ns,iu],[Hs,za]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[Is,/_/g," "],[Ns,Ou],[Hs,za]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Is,/_/g," "],[Ns,Ou],[Hs,Ya]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Is,[Ns,"OPPO"],[Hs,za]],[/\b(opd2\d{3}a?) bui/i],[Is,[Ns,"OPPO"],[Hs,Ya]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Is,[Ns,"Vivo"],[Hs,za]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[Is,[Ns,"Realme"],[Hs,za]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Is,[Ns,uu],[Hs,za]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Is,[Ns,uu],[Hs,Ya]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Is,[Ns,au],[Hs,Ya]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Is,[Ns,au],[Hs,za]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Is,[Ns,"Lenovo"],[Hs,Ya]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Is,/_/g," "],[Ns,"Nokia"],[Hs,za]],[/(pixel c)\b/i],[Is,[Ns,Za],[Hs,Ya]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Is,[Ns,Za],[Hs,za]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Is,[Ns,$u],[Hs,za]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Is,"Xperia Tablet"],[Ns,$u],[Hs,Ya]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Is,[Ns,"OnePlus"],[Hs,za]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Is,[Ns,ru],[Hs,Ya]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Is,/(.+)/g,"Fire Phone $1"],[Ns,ru],[Hs,za]],[/(playbook);[-\w\),; ]+(rim)/i],[Is,Ns,[Hs,Ya]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Is,[Ns,Ga],[Hs,za]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Is,[Ns,ou],[Hs,Ya]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Is,[Ns,ou],[Hs,za]],[/(nexus 9)/i],[Is,[Ns,"HTC"],[Hs,Ya]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Ns,[Is,/_/g," "],[Hs,za]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[Is,[Ns,"TCL"],[Hs,Ya]],[/(itel) ((\w+))/i],[[Ns,tl],Is,[Hs,Mu,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Is,[Ns,"Acer"],[Hs,Ya]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Is,[Ns,"Meizu"],[Hs,za]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[Is,[Ns,"Ulefone"],[Hs,za]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[Is,[Ns,"Energizer"],[Hs,za]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[Is,[Ns,"Cat"],[Hs,za]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[Is,[Ns,"Smartfren"],[Hs,za]],[/droid.+; (a(?:015|06[35]|142p?))/i],[Is,[Ns,"Nothing"],[Hs,za]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Ns,Is,[Hs,za]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Ns,Is,[Hs,Ya]],[/(surface duo)/i],[Is,[Ns,nu],[Hs,Ya]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Is,[Ns,"Fairphone"],[Hs,za]],[/(u304aa)/i],[Is,[Ns,"AT&T"],[Hs,za]],[/\bsie-(\w*)/i],[Is,[Ns,"Siemens"],[Hs,za]],[/\b(rct\w+) b/i],[Is,[Ns,"RCA"],[Hs,Ya]],[/\b(venue[\d ]{2,7}) b/i],[Is,[Ns,"Dell"],[Hs,Ya]],[/\b(q(?:mv|ta)\w+) b/i],[Is,[Ns,"Verizon"],[Hs,Ya]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Is,[Ns,"Barnes & Noble"],[Hs,Ya]],[/\b(tm\d{3}\w+) b/i],[Is,[Ns,"NuVision"],[Hs,Ya]],[/\b(k88) b/i],[Is,[Ns,"ZTE"],[Hs,Ya]],[/\b(nx\d{3}j) b/i],[Is,[Ns,"ZTE"],[Hs,za]],[/\b(gen\d{3}) b.+49h/i],[Is,[Ns,"Swiss"],[Hs,za]],[/\b(zur\d{3}) b/i],[Is,[Ns,"Swiss"],[Hs,Ya]],[/\b((zeki)?tb.*\b) b/i],[Is,[Ns,"Zeki"],[Hs,Ya]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Ns,"Dragon Touch"],Is,[Hs,Ya]],[/\b(ns-?\w{0,9}) b/i],[Is,[Ns,"Insignia"],[Hs,Ya]],[/\b((nxa|next)-?\w{0,9}) b/i],[Is,[Ns,"NextBook"],[Hs,Ya]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Ns,"Voice"],Is,[Hs,za]],[/\b(lvtel\-)?(v1[12]) b/i],[[Ns,"LvTel"],Is,[Hs,za]],[/\b(ph-1) /i],[Is,[Ns,"Essential"],[Hs,za]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Is,[Ns,"Envizen"],[Hs,Ya]],[/\b(trio[-\w\. ]+) b/i],[Is,[Ns,"MachSpeed"],[Hs,Ya]],[/\btu_(1491) b/i],[Is,[Ns,"Rotor"],[Hs,Ya]],[/(shield[\w ]+) b/i],[Is,[Ns,"Nvidia"],[Hs,Ya]],[/(sprint) (\w+)/i],[Ns,Is,[Hs,za]],[/(kin\.[onetw]{3})/i],[[Is,/\./g," "],[Ns,nu],[Hs,za]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Is,[Ns,gu],[Hs,Ya]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Is,[Ns,gu],[Hs,za]],[/smart-tv.+(samsung)/i],[Ns,[Hs,Bc]],[/hbbtv.+maple;(\d+)/i],[[Is,/^/,"SmartTV"],[Ns,hu],[Hs,Bc]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Ns,au],[Hs,Bc]],[/(apple) ?tv/i],[Ns,[Is,cu+" TV"],[Hs,Bc]],[/crkey/i],[[Is,Fa+"cast"],[Ns,Za],[Hs,Bc]],[/droid.+aft(\w+)( bui|\))/i],[Is,[Ns,ru],[Hs,Bc]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Is,[Ns,Eu],[Hs,Bc]],[/(bravia[\w ]+)( bui|\))/i],[Is,[Ns,$u],[Hs,Bc]],[/(mitv-\w{5}) bui/i],[Is,[Ns,Ou],[Hs,Bc]],[/Hbbtv.*(technisat) (.*);/i],[Ns,Is,[Hs,Bc]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Ns,gl],[Is,gl],[Hs,Bc]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Hs,Bc]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Ns,Is,[Hs,pa]],[/droid.+; (shield) bui/i],[Is,[Ns,"Nvidia"],[Hs,pa]],[/(playstation [345portablevi]+)/i],[Is,[Ns,$u],[Hs,pa]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Is,[Ns,nu],[Hs,pa]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[Is,[Ns,hu],[Hs,Qa]],[/((pebble))app/i],[Ns,Is,[Hs,Qa]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Is,[Ns,cu],[Hs,Qa]],[/droid.+; (glass) \d/i],[Is,[Ns,Za],[Hs,Qa]],[/droid.+; (wt63?0{2,3})\)/i],[Is,[Ns,gu],[Hs,Qa]],[/droid.+; (glass) \d/i],[Is,[Ns,Za],[Hs,Qa]],[/(pico) (4|neo3(?: link|pro)?)/i],[Ns,Is,[Hs,Qa]],[/; (quest( \d| pro)?)/i],[Is,[Ns,yu],[Hs,Qa]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Ns,[Hs,tu]],[/(aeobc)\b/i],[Is,[Ns,ru],[Hs,tu]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[Is,[Hs,za]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Is,[Hs,Ya]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Hs,Ya]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[Hs,za]],[/(android[-\w\. ]{0,9});.+buil/i],[Is,[Ns,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Js,[Ws,Zs+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[Ws,Js],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Js,[Ws,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Ws,Js],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Js,Ws]],os:[[/microsoft (windows) (vista|xp)/i],[Ws,Js],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Ws,[Js,Mu,vf]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Js,Mu,vf],[Ws,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Js,/_/g,"."],[Ws,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Ws,du],[Js,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Js,Ws],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Ws,Js],[/\(bb(10);/i],[Js,[Ws,Ga]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Js,[Ws,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Js,[Ws,Wa+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Js,[Ws,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Js,[Ws,"watchOS"]],[/crkey\/([\d\.]+)/i],[Js,[Ws,Fa+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Ws,Tu],Js],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Ws,Js],[/(sunos) ?([\w\.\d]*)/i],[[Ws,"Solaris"],Js],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Ws,Js]]},el=function(cl,ul){if(typeof cl===Ss&&(ul=cl,cl=ms),!(this instanceof el))return new el(cl,ul).getResult();var yl=typeof et!==Ts&&et.navigator?et.navigator:ms,Cl=cl||(yl&&yl.userAgent?yl.userAgent:vs),Bu=yl&&yl.userAgentData?yl.userAgentData:ms,pu=ul?Ru(wf,ul):wf,xu=yl&&yl.userAgent==Cl;return this.getBrowser=function(){var qu={};return qu[Ws]=ms,qu[Js]=ms,Fu.call(qu,Cl,pu.browser),qu[Bs]=sl(qu[Js]),xu&&yl&&yl.brave&&typeof yl.brave.isBrave==Es&&(qu[Ws]="Brave"),qu},this.getCPU=function(){var qu={};return qu[ha]=ms,Fu.call(qu,Cl,pu.cpu),qu},this.getDevice=function(){var qu={};return qu[Ns]=ms,qu[Is]=ms,qu[Hs]=ms,Fu.call(qu,Cl,pu.device),xu&&!qu[Hs]&&Bu&&Bu.mobile&&(qu[Hs]=za),xu&&qu[Is]=="Macintosh"&&yl&&typeof yl.standalone!==Ts&&yl.maxTouchPoints&&yl.maxTouchPoints>2&&(qu[Is]="iPad",qu[Hs]=Ya),qu},this.getEngine=function(){var qu={};return qu[Ws]=ms,qu[Js]=ms,Fu.call(qu,Cl,pu.engine),qu},this.getOS=function(){var qu={};return qu[Ws]=ms,qu[Js]=ms,Fu.call(qu,Cl,pu.os),xu&&!qu[Ws]&&Bu&&Bu.platform&&Bu.platform!="Unknown"&&(qu[Ws]=Bu.platform.replace(/chrome os/i,Tu).replace(/macos/i,du)),qu},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Cl},this.setUA=function(qu){return Cl=typeof qu===Rs&&qu.length>eu?gl(qu,eu):qu,this},this.setUA(Cl),this};el.VERSION=ws,el.BROWSER=Ku([Ws,Js,Bs]),el.CPU=Ku([ha]),el.DEVICE=Ku([Is,Ns,Hs,pa,za,Bc,Ya,Qa,tu]),el.ENGINE=el.OS=Ku([Ws,Js]),st.exports&&(t=st.exports=el),t.UAParser=el;var il=typeof et!==Ts&&(et.jQuery||et.Zepto);if(il&&!il.ua){var hl=new el;il.ua=hl.getResult(),il.ua.get=function(){return hl.getUA()},il.ua.set=function(cl){hl.setUA(cl);var ul=hl.getResult();for(var yl in ul)il.ua[yl]=ul[yl]}}})(typeof window=="object"?window:uaParser)}(uaParser$1,uaParser$1.exports)),uaParser$1.exports}var hasRequiredWebApi;function requireWebApi(){if(hasRequiredWebApi)return webApi;hasRequiredWebApi=1;var st=webApi&&webApi.__importDefault||function(Bs){return Bs&&Bs.__esModule?Bs:{default:Bs}};Object.defineProperty(webApi,"__esModule",{value:!0}),webApi.openLink=ws,webApi.openLinkBlank=vs,webApi.openDeeplinkWithFallback=_s,webApi.isMobileUserAgent=Es,webApi.getUserAgent=Ts,webApi.isOS=Ss,webApi.isBrowser=Rs;const t=st(requireUaParser()),et=requireLog(),ms=requireTmaApi();function ws(Bs,Is="_self"){(0,et.logDebug)("openLink",Bs,Is),window.open(Bs,Is,"noopener noreferrer")}function vs(Bs){ws(Bs,"_blank")}function _s(Bs,Is){const Ws=()=>{Rs("safari")||Ss("android")&&Rs("firefox")||Is()},Hs=setTimeout(()=>Ws(),500);window.addEventListener("blur",()=>clearTimeout(Hs),{once:!0}),Ss("android")&&(0,ms.inTg)()?ws(Bs,"_blank"):ws(Bs,"_self")}function Es(){let Bs=!1;return function(Is){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Is)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Is.slice(0,4)))&&(Bs=!0)}(navigator.userAgent||navigator.vendor||window.opera),Bs}function Ts(){var Bs,Is,Ws;const Hs=new t.default().getResult(),Ns=(Bs=Hs.os.name)===null||Bs===void 0?void 0:Bs.toLowerCase(),Js=(Is=Hs.device.model)===null||Is===void 0?void 0:Is.toLowerCase();let ha;switch(!0){case Js==="ipad":ha="ipad";break;case Ns==="ios":ha="ios";break;case Ns==="android":ha="android";break;case Ns==="mac os":ha="macos";break;case Ns==="linux":ha="linux";break;case Ns?.includes("windows"):ha="windows";break}const pa=(Ws=Hs.browser.name)===null||Ws===void 0?void 0:Ws.toLowerCase();let za;switch(!0){case pa==="chrome":za="chrome";break;case pa==="firefox":za="firefox";break;case pa?.includes("safari"):za="safari";break;case pa?.includes("opera"):za="opera";break}return{os:ha,browser:za}}function Ss(...Bs){return Bs.includes(Ts().os)}function Rs(...Bs){return Bs.includes(Ts().browser)}return webApi}var hasRequiredTmaApi;function requireTmaApi(){if(hasRequiredTmaApi)return tmaApi;hasRequiredTmaApi=1;var st,t,et,ms,ws,vs,_s;Object.defineProperty(tmaApi,"__esModule",{value:!0}),tmaApi.isTmaPlatform=Hs,tmaApi.isInTMA=Ns,tmaApi.inTg=Js,tmaApi.isInTelegramBrowser=ha,tmaApi.sendExpand=pa,tmaApi.sendOpenTelegramLink=za,tmaApi.versionCompare=ru;const Es=requireUrl(),Ts=requireLog(),Ss=requireProtocol(),Rs=requireWebApi();let Bs={};try{let ou=location.hash.toString();Bs=Qa(ou)}catch{}let Is="unknown";if(Bs?.tgWebAppPlatform&&(Is=(st=Bs.tgWebAppPlatform)!==null&&st!==void 0?st:"unknown"),Is==="unknown"){const ou=(0,Es.getWindow)();Is=(ms=(et=(t=ou?.Telegram)===null||t===void 0?void 0:t.WebApp)===null||et===void 0?void 0:et.platform)!==null&&ms!==void 0?ms:"unknown"}let Ws="6.0";if(Bs?.tgWebAppVersion&&(Ws=Bs.tgWebAppVersion),!Ws){const ou=(0,Es.getWindow)();Ws=(_s=(vs=(ws=ou?.Telegram)===null||ws===void 0?void 0:ws.WebApp)===null||vs===void 0?void 0:vs.version)!==null&&_s!==void 0?_s:"6.0"}function Hs(...ou){return ou.includes(Is)}function Ns(){var ou;return Is!=="unknown"||!!(!((ou=(0,Es.getWindow)())===null||ou===void 0)&&ou.TelegramWebviewProxy)}function Js(){return ha()||Ns()}function ha(){var ou;const Ga=!!(!((ou=(0,Es.getWindow)())===null||ou===void 0)&&ou.TelegramWebview);return(Ns()||Ga)&&Is==="unknown"}function pa(){Bc("web_app_expand",{})}function za(ou,Ga){const Xa=new URL(ou);if(Xa.protocol!=="http:"&&Xa.protocol!=="https:"){if(Ga)return Ga();throw new Ss.OKXConnectError(Ss.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${Xa}`)}if(Xa.hostname!=="t.me"){if(Ga)return Ga();throw new Ss.OKXConnectError(Ss.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${Xa}`)}const Fa=Xa.pathname+Xa.search;Ya()||cu("6.1")?Bc("web_app_open_tg_link",{path_full:Fa}):(0,Rs.openLinkBlank)("https://t.me"+Fa)}function Ya(){try{const ou=(0,Es.getWindow)();return ou?ou.parent!=null&&ou!==ou.parent:!1}catch{return!1}}function Bc(ou,Ga){try{const Xa=(0,Es.getWindow)();if(!Xa)throw new Ss.OKXConnectError(Ss.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(Xa.TelegramWebviewProxy!==void 0)(0,Ts.logDebug)("postEvent",ou,Ga),Xa.TelegramWebviewProxy.postEvent(ou,JSON.stringify(Ga));else if(Xa.external&&"notify"in Xa.external)(0,Ts.logDebug)("postEvent",ou,Ga),Xa.external.notify(JSON.stringify({eventType:ou,eventData:Ga}));else if(Ya()){const Fa="*",Zs=JSON.stringify({eventType:ou,eventData:Ga});(0,Ts.logDebug)("postEvent",ou,Ga),Xa.parent.postMessage(Zs,Fa)}else throw new Ss.OKXConnectError(Ss.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA")}catch(Xa){(0,Ts.logError)(`Can't post event to parent window: ${Xa}`)}}function Qa(ou){ou=ou.replace(/^#/,"");let Ga={};if(!ou.length)return Ga;if(ou.indexOf("=")<0&&ou.indexOf("?")<0)return Ga._path=tu(ou),Ga;let Xa=ou.indexOf("?");if(Xa>=0){let Zs=ou.substr(0,Xa);Ga._path=tu(Zs),ou=ou.substr(Xa+1)}let Fa=eu(ou);for(let Zs in Fa)Ga[Zs]=Fa[Zs];return Ga}function tu(ou){try{return ou=ou.replace(/\+/g,"%20"),decodeURIComponent(ou)}catch{return ou}}function eu(ou){let Ga={};if(!ou.length)return Ga;let Xa=ou.split("&"),Fa,Zs,Wa,Za;for(Fa=0;Fa<Xa.length;Fa++)Zs=Xa[Fa].split("="),Wa=tu(Zs[0]),Za=Zs[1]==null?null:tu(Zs[1]),Ga[Wa]=Za;return Ga}function ru(ou,Ga){typeof ou!="string"&&(ou=""),typeof Ga!="string"&&(Ga="");let Xa=ou.replace(/^\s+|\s+$/g,"").split("."),Fa=Ga.replace(/^\s+|\s+$/g,"").split("."),Zs,Wa,Za,iu;for(Zs=Math.max(Xa.length,Fa.length),Wa=0;Wa<Zs;Wa++)if(Za=parseInt(Xa[Wa])||0,iu=parseInt(Fa[Wa])||0,Za!==iu)return Za>iu?1:-1;return 0}function cu(ou){return ru(Ws,ou)>=0}return tmaApi}var hasRequiredUrl;function requireUrl(){if(hasRequiredUrl)return url;hasRequiredUrl=1;var st,t,et,ms;Object.defineProperty(url,"__esModule",{value:!0}),url.removeUrlLastSlash=Rs,url.addPathToUrl=Bs,url.getUniversalLink=Is,url.openOKXDeeplink=Ws,url.openOKXDeeplinkWithFallback=Hs,url.getWindow=Ns,url.isTelegramUrl=Js,url.encodeTelegramUrlParameters=ha,url.encodeConnectParams=pa,url.encodeTWAConnectURLParams=za,url.getAppWalletDeepLink=Ya,url.getAppWalletShortDeepLink=Bc,url.getTelegramWalletTWAUrl=Qa,url.openOKXTMAWalletlinkWithFallback=tu,url.isInTMA=Xa,url.isInTelegramBrowser=Fa,url.getOKXLink=Zs;const ws=requireProtocol(),vs=requireLog(),_s=requireConstants$2(),Es=requireUtils$3(),Ts=requireTmaApi(),Ss=requireConstants$4();function Rs(Wa){return Wa.slice(-1)==="/"?Wa.slice(0,-1):Wa}function Bs(Wa,Za){return Rs(Wa)+"/"+Za}function Is(Wa,Za=!1){console.log("getUniversalLink deeplinkUrl:",Wa,", useStandardUniversalLink:",Za);const iu=encodeURIComponent(Wa);return console.log("getUniversalLink standardUniversalLink:",ws.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${ws.standardUniversalLink}?deeplink=${iu}`),`${ws.standardUniversalLink}?deeplink=${iu}`}function Ws(Wa,Za,iu){Hs(Wa,Za,iu,!1)}function Hs(Wa,Za,iu,au=!0){var nu;const uu=!!(!((nu=Ns())===null||nu===void 0)&&nu.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",Za);let fu=!1;const hu=3e3;ws.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",ws.standardUniversalLink);let Eu=null,$u=()=>{console.log("fallbackToDownloadPage :empty")},Ou=!1;if(iu===ws.OpenAppLinkType.UniversalLink?Ou=(0,Es.isInIOSChrome)()||(0,Es.isInIOSLine)()||(0,Es.isInIOSLark)()||(0,Es.isInIOSWeChat)():Ou=uu===!1&&(0,Es.isIos)(),au&&((0,Es.isIos)()?Ou&&($u=()=>{console.log("windowOpen --> fallbackToDownloadPage --",fu),fu||(console.log("windowOpen --> fallbackToDownloadPage universal link"),window.open(Za,"_self"))}):$u=()=>{fu||(Eu?Eu.open(Za,"_self"):window.open(Za,"_blank"))}),!(0,Es.isIos)()||Ou){if(uu?Eu=window.open(Wa,"_blank"):(console.log("windowOpen --> deeplinkUrl"),window.location.href=Wa),au){setTimeout($u,hu);let gu=0,yu=setInterval(()=>{gu++,console.log("windowOpen --> interval:",gu,document.hidden,document.visibilityState),document.hidden&&(fu=!0),(gu>10||document.hidden)&&(clearInterval(yu),console.log("windowOpen :cleat: ${count}"))},200);window.addEventListener("blur",()=>{console.log("windowOpen :blur"),fu=!0},{once:!0}),document.addEventListener("visibilitychange",()=>{console.log("windowOpen :visibilitychange:",document.visibilityState),document.visibilityState==="hidden"&&(fu=!0)})}}else uu?window.open(Za,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window?.okxLogDebug?window.open(Za,"_blank"):window.open(Za,"_self"),console.log("windowOpen[after]: ",Date.now()))}function Ns(){if(typeof window<"u")return window}function Js(Wa){if(!Wa)return!1;const Za=new URL(Wa);return Za.protocol==="tg:"||Za.hostname==="t.me"}function ha(Wa){let Za=Wa;return Za=Za.replace(/\./g,"%2E"),Za=Za.replace(/-/g,"%2D"),Za=Za.replace(/_/g,"%5F"),Za=Za.replace(/&/g,"-"),Za=Za.replace(/=/g,"__"),Za=Za.replace(/%/g,"--"),Za}function pa(Wa){let Za=Object.assign(Object.assign({},Wa),{protocolVersion:Ss.CONNECT_PROTOCOL_VER});const iu=JSON.stringify(Za);(0,vs.logDebug)("url encodeConnectParams connectRequestStr ",iu);const au=new TextEncoder().encode(iu),nu=btoa(String.fromCharCode(...au));return(0,vs.logDebug)("url encodeConnectParams base64Encoded ",nu),nu}function za(Wa){const Za=JSON.stringify({topic:Wa.topic,clientId:Wa.clientId});(0,vs.logDebug)("url encodeConnectParams connectRequestStr",Za);const iu=new TextEncoder().encode(Za);return btoa(String.fromCharCode(...iu))}function Ya(Wa){return`${ws.standardDeeplink}?param=${Wa}`}function Bc(Wa,Za){return`${_s.shortUniversalLink}?topic=${Wa}${(0,Es.getLastSixMd5Hash)(Za)}`}function Qa(Wa,Za){let iu={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};Wa&&(iu.okxconnect=Wa),Za&&(iu.redirect=Za),Xa()?iu.fromtg=!0:iu.fromtg=!1,(0,vs.logDebug)("getTelegramWalletTWAUrl redirect:",iu.redirect);let au=JSON.stringify(iu);const nu=new TextEncoder().encode(au),uu=btoa(String.fromCharCode(...nu)),fu=(0,Es.toSafeBase64FromBase64)(uu);if((0,vs.logDebug)("[TWA] open link:",iu,uu),Wa||Za){if(Xa())return(0,_s.getTestTgTwaUrl)()?`${(0,_s.getTestTgTwaUrl)()}?startapp=${fu}`:`https://t.me/${_s.tgwalletName}/start?startapp=${fu}`;if((0,_s.getTestTwaUrl)())return`${(0,_s.getTestTwaUrl)()}?tgWebAppStartParam=${fu}`;if((0,_s.getTestTgTwaUrl)()){let hu=(0,_s.getBotNameAndAppName)((0,_s.getTestTgTwaUrl)());if(hu){let{botName:Eu,appName:$u}=hu;return`tg://resolve?domain=${Eu}&appname=${$u}&startapp=${fu}`}return`tg://resolve?domain=${_s.tgwalletName}&appname=${_s.tgwalletAppName}&startapp=${fu}`}else return`tg://resolve?domain=${_s.tgwalletName}&appname=${_s.tgwalletAppName}&startapp=${fu}`}if(Xa())return(0,_s.getTestTgTwaUrl)()?`${(0,_s.getTestTgTwaUrl)()}`:`https://t.me/${_s.tgwalletName}/start`;if((0,_s.getTestTwaUrl)())return`${(0,_s.getTestTwaUrl)()}`;if((0,_s.getTestTgTwaUrl)()){let hu=(0,_s.getBotNameAndAppName)((0,_s.getTestTgTwaUrl)());if(hu){let{botName:Eu,appName:$u}=hu;return`tg://resolve?domain=${Eu}&appname=${$u}`}return`tg://resolve?domain=${_s.tgwalletName}&appname=${_s.tgwalletAppName}`}else return`tg://resolve?domain=${_s.tgwalletName}&appname=${_s.tgwalletAppName}`}function tu(Wa){var Za,iu,au,nu,uu;(0,vs.logDebug)("[TWA] open link:",Wa,"isInTMA ==> ",Xa()),Xa()?!((iu=(Za=Ns())===null||Za===void 0?void 0:Za.Telegram)===null||iu===void 0)&&iu.WebApp?(uu=(nu=(au=Ns())===null||au===void 0?void 0:au.Telegram)===null||nu===void 0?void 0:nu.WebApp)===null||uu===void 0||uu.openTelegramLink(Wa):(0,Ts.sendOpenTelegramLink)(Wa):(0,_s.getTestTwaUrl)()?window.open(Wa,"_blank"):window.open(Wa,"_self")}function eu(Wa){try{return Wa=Wa.replace(/\+/g,"%20"),decodeURIComponent(Wa)}catch{return Wa}}function ru(Wa){let Za={};if(!Wa.length)return Za;let iu=Wa.split("&"),au,nu,uu,fu;for(au=0;au<iu.length;au++)nu=iu[au].split("="),uu=eu(nu[0]),fu=nu[1]==null?null:eu(nu[1]),Za[uu]=fu;return Za}function cu(Wa){Wa=Wa.replace(/^#/,"");let Za={};if(!Wa.length)return Za;if(Wa.indexOf("=")<0&&Wa.indexOf("?")<0)return Za._path=eu(Wa),Za;let iu=Wa.indexOf("?");if(iu>=0){let nu=Wa.substr(0,iu);Za._path=eu(nu),Wa=Wa.substr(iu+1)}let au=ru(Wa);for(let nu in au)Za[nu]=au[nu];return Za}let ou={};try{let Wa=location.hash.toString();ou=cu(Wa)}catch{}let Ga="unknown";if(ou?.tgWebAppPlatform&&(Ga=(st=ou.tgWebAppPlatform)!==null&&st!==void 0?st:"unknown"),Ga==="unknown"){const Wa=Ns();Ga=(ms=(et=(t=Wa?.Telegram)===null||t===void 0?void 0:t.WebApp)===null||et===void 0?void 0:et.platform)!==null&&ms!==void 0?ms:"unknown"}function Xa(){var Wa;return Ga!=="unknown"||!!(!((Wa=Ns())===null||Wa===void 0)&&Wa.TelegramWebviewProxy)}function Fa(){var Wa;const Za=!!(!((Wa=Ns())===null||Wa===void 0)&&Wa.TelegramWebview);return(Xa()||Za)&&Ga==="unknown"}function Zs(Wa,Za=!1,iu){if((0,vs.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(Wa)}  useMini=> ${Za}  tmaReturnUrl==> ${iu}`),Za)return Wa?{universalLink:Qa(za(Wa),iu??"back")}:{universalLink:Qa(void 0,iu??"back")};{let au=Wa?`${ws.standardDeeplink}?param=${pa(Wa)}`:ws.standardDeeplink;return(0,Es.useShortLink)()?{universalLink:Wa?Bc(Wa.topic,Wa.clientId):_s.shortUniversalLink,deepLink:au}:{universalLink:Is(au),deepLink:au}}}return url}var utils$2={},callForSuccess={},hasRequiredCallForSuccess;function requireCallForSuccess(){if(hasRequiredCallForSuccess)return callForSuccess;hasRequiredCallForSuccess=1;var st=callForSuccess&&callForSuccess.__awaiter||function(ms,ws,vs,_s){function Es(Ts){return Ts instanceof vs?Ts:new vs(function(Ss){Ss(Ts)})}return new(vs||(vs=Promise))(function(Ts,Ss){function Rs(Ws){try{Is(_s.next(Ws))}catch(Hs){Ss(Hs)}}function Bs(Ws){try{Is(_s.throw(Ws))}catch(Hs){Ss(Hs)}}function Is(Ws){Ws.done?Ts(Ws.value):Es(Ws.value).then(Rs,Bs)}Is((_s=_s.apply(ms,ws||[])).next())})};Object.defineProperty(callForSuccess,"__esModule",{value:!0}),callForSuccess.callForSuccess=t,callForSuccess.delay=et;function t(ms,ws){return st(this,void 0,void 0,function*(){var vs,_s;const Es=(vs=ws?.attempts)!==null&&vs!==void 0?vs:3,Ts=(_s=ws?.delayMs)!==null&&_s!==void 0?_s:800;if(typeof ms!="function")throw new Error(`Expected a function, got ${typeof ms}`);let Ss=0,Rs;for(;Ss<Es;)try{return yield ms()}catch(Bs){Rs=Bs,Ss++,Ss<Es&&(yield et(Ts))}throw Rs})}function et(ms,ws){return st(this,void 0,void 0,function*(){return new Promise((vs,_s)=>{var Es,Ts;if(!((Es=ws?.signal)===null||Es===void 0)&&Es.aborted){_s(new Error("Delay aborted"));return}const Ss=setTimeout(()=>vs(),ms);(Ts=ws?.signal)===null||Ts===void 0||Ts.addEventListener("abort",()=>{clearTimeout(Ss),_s(new Error("Delay aborted"))})})})}return callForSuccess}var reportconstants={},hasRequiredReportconstants;function requireReportconstants(){return hasRequiredReportconstants||(hasRequiredReportconstants=1,Object.defineProperty(reportconstants,"__esModule",{value:!0}),reportconstants.Report_WalletType_Key=reportconstants.Report_OKXConnectSDK_RequestError_Log=reportconstants.Report_OKXConnectSDK_RequestSuccess_Log=reportconstants.Report_OKXConnectSDK_RequestStart_Log=reportconstants.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click=reportconstants.Report_OKXConnectSDKExtension_Module_Retry_Click=reportconstants.Report_ConnectDapp_ConnectAndSign_Click=reportconstants.Report_Proceed_QRCode_Click=reportconstants.Report_ChooseType_Download_Click=reportconstants.Report_ChooseType_ConnectWallet_Click=reportconstants.Report_Proceed_Retry_Click=reportconstants.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View=reportconstants.Report_OKXConnectSDKExtension_ConnectDapp_Page_View=reportconstants.Report_ChooseType_ConnectWallet_View=reportconstants.Report_Loading_ConnectWallet_View=reportconstants.Report_Proceed_QRCode_View=reportconstants.Report_Proceed_Proceed_View=void 0,reportconstants.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View",reportconstants.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View",reportconstants.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View",reportconstants.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View",reportconstants.Report_OKXConnectSDKExtension_ConnectDapp_Page_View="OKXConnectSDKExtension_ConnectDapp_Page_View",reportconstants.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View="OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View",reportconstants.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click",reportconstants.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click",reportconstants.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click",reportconstants.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click",reportconstants.Report_ConnectDapp_ConnectAndSign_Click="OKXConnectSDK_ConnectDapp_ConnectAndSign_Click",reportconstants.Report_OKXConnectSDKExtension_Module_Retry_Click="OKXConnectSDKExtension_Module_Retry_Click",reportconstants.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click="OKXConnectSDKExtension_ConnectDapp_Button_Click",reportconstants.Report_OKXConnectSDK_RequestStart_Log="Report_OKXConnectSDK_RequestStart_View",reportconstants.Report_OKXConnectSDK_RequestSuccess_Log="Report_OKXConnectSDK_RequestSuccess_View",reportconstants.Report_OKXConnectSDK_RequestError_Log="Report_OKXConnectSDK_RequestError_View",reportconstants.Report_WalletType_Key="wallet_type"),reportconstants}var request={},hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request;hasRequiredRequest=1,Object.defineProperty(request,"__esModule",{value:!0}),request.checkMetaData=t;const st=requireProtocol();function t(et){if(!et)throw new st.OKXConnectError(st.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!et.name)throw new st.OKXConnectError(st.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");return!0}return request}var hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,function(st){var t=utils$2&&utils$2.__createBinding||(Object.create?function(Is,Ws,Hs,Ns){Ns===void 0&&(Ns=Hs);var Js=Object.getOwnPropertyDescriptor(Ws,Hs);(!Js||("get"in Js?!Ws.__esModule:Js.writable||Js.configurable))&&(Js={enumerable:!0,get:function(){return Ws[Hs]}}),Object.defineProperty(Is,Ns,Js)}:function(Is,Ws,Hs,Ns){Ns===void 0&&(Ns=Hs),Is[Ns]=Ws[Hs]}),et=utils$2&&utils$2.__exportStar||function(Is,Ws){for(var Hs in Is)Hs!=="default"&&!Object.prototype.hasOwnProperty.call(Ws,Hs)&&t(Ws,Is,Hs)};Object.defineProperty(st,"__esModule",{value:!0}),st.getNamespaceKeyByChain=st.chainName2IdMap=st.replaceChainIdToChainName=st.replaceChainNameToChainId=st.checkMetaData=st.versionCompare=st.isBrowser=st.isOS=st.isMobileUserAgent=st.openDeeplinkWithFallback=st.openLinkBlank=st.openLink=st.getChainId=st.useShortLink=st.toSafeBase64FromBase64=st.isValidObject=st.isIos=st.base64decode=st.base64encode=st.splitToUint8Arrays=st.concatUint8Arrays=st.toHexString=st.hexToByteArray=st.getOKXLink=st.getAppWalletShortDeepLink=st.encodeTWAConnectURLParams=st.encodeConnectParams=st.openOKXTMAWalletlinkWithFallback=st.getTelegramWalletTWAUrl=st.getAppWalletDeepLink=st.encodeTelegramUrlParameters=st.isTelegramUrl=st.openOKXDeeplinkWithFallback=st.openOKXDeeplink=st.getUniversalLink=st.safeJsonStringify=st.safeJsonParse=st.getDefaultReporter=st.reportEvent=st.reportLog=st.logWarning=st.logError=st.logDebug=st.callForSuccess=void 0;var ms=requireCallForSuccess();Object.defineProperty(st,"callForSuccess",{enumerable:!0,get:function(){return ms.callForSuccess}});var ws=requireLog();Object.defineProperty(st,"logDebug",{enumerable:!0,get:function(){return ws.logDebug}}),Object.defineProperty(st,"logError",{enumerable:!0,get:function(){return ws.logError}}),Object.defineProperty(st,"logWarning",{enumerable:!0,get:function(){return ws.logWarning}}),Object.defineProperty(st,"reportLog",{enumerable:!0,get:function(){return ws.reportLog}}),Object.defineProperty(st,"reportEvent",{enumerable:!0,get:function(){return ws.reportEvent}}),Object.defineProperty(st,"getDefaultReporter",{enumerable:!0,get:function(){return ws.getDefaultReporter}}),et(requireReportconstants(),st),et(requireReport(),st);var vs=requireSafejson();Object.defineProperty(st,"safeJsonParse",{enumerable:!0,get:function(){return vs.safeJsonParse}}),Object.defineProperty(st,"safeJsonStringify",{enumerable:!0,get:function(){return vs.safeJsonStringify}});var _s=requireUrl();Object.defineProperty(st,"getUniversalLink",{enumerable:!0,get:function(){return _s.getUniversalLink}}),Object.defineProperty(st,"openOKXDeeplink",{enumerable:!0,get:function(){return _s.openOKXDeeplink}}),Object.defineProperty(st,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return _s.openOKXDeeplinkWithFallback}}),Object.defineProperty(st,"isTelegramUrl",{enumerable:!0,get:function(){return _s.isTelegramUrl}}),Object.defineProperty(st,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return _s.encodeTelegramUrlParameters}}),Object.defineProperty(st,"getAppWalletDeepLink",{enumerable:!0,get:function(){return _s.getAppWalletDeepLink}}),Object.defineProperty(st,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return _s.getTelegramWalletTWAUrl}}),Object.defineProperty(st,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return _s.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(st,"encodeConnectParams",{enumerable:!0,get:function(){return _s.encodeConnectParams}}),Object.defineProperty(st,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return _s.encodeTWAConnectURLParams}}),Object.defineProperty(st,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return _s.getAppWalletShortDeepLink}}),Object.defineProperty(st,"getOKXLink",{enumerable:!0,get:function(){return _s.getOKXLink}});var Es=requireUtils$3();Object.defineProperty(st,"hexToByteArray",{enumerable:!0,get:function(){return Es.hexToByteArray}}),Object.defineProperty(st,"toHexString",{enumerable:!0,get:function(){return Es.toHexString}}),Object.defineProperty(st,"concatUint8Arrays",{enumerable:!0,get:function(){return Es.concatUint8Arrays}}),Object.defineProperty(st,"splitToUint8Arrays",{enumerable:!0,get:function(){return Es.splitToUint8Arrays}}),Object.defineProperty(st,"base64encode",{enumerable:!0,get:function(){return Es.base64encode}}),Object.defineProperty(st,"base64decode",{enumerable:!0,get:function(){return Es.base64decode}}),Object.defineProperty(st,"isIos",{enumerable:!0,get:function(){return Es.isIos}}),Object.defineProperty(st,"isValidObject",{enumerable:!0,get:function(){return Es.isValidObject}}),Object.defineProperty(st,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return Es.toSafeBase64FromBase64}}),Object.defineProperty(st,"useShortLink",{enumerable:!0,get:function(){return Es.useShortLink}}),Object.defineProperty(st,"getChainId",{enumerable:!0,get:function(){return Es.getChainId}});var Ts=requireWebApi();Object.defineProperty(st,"openLink",{enumerable:!0,get:function(){return Ts.openLink}}),Object.defineProperty(st,"openLinkBlank",{enumerable:!0,get:function(){return Ts.openLinkBlank}}),Object.defineProperty(st,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return Ts.openDeeplinkWithFallback}}),Object.defineProperty(st,"isMobileUserAgent",{enumerable:!0,get:function(){return Ts.isMobileUserAgent}}),Object.defineProperty(st,"isOS",{enumerable:!0,get:function(){return Ts.isOS}}),Object.defineProperty(st,"isBrowser",{enumerable:!0,get:function(){return Ts.isBrowser}});var Ss=requireTmaApi();Object.defineProperty(st,"versionCompare",{enumerable:!0,get:function(){return Ss.versionCompare}});var Rs=requireRequest();Object.defineProperty(st,"checkMetaData",{enumerable:!0,get:function(){return Rs.checkMetaData}});var Bs=requireUtils$3();Object.defineProperty(st,"replaceChainNameToChainId",{enumerable:!0,get:function(){return Bs.replaceChainNameToChainId}}),Object.defineProperty(st,"replaceChainIdToChainName",{enumerable:!0,get:function(){return Bs.replaceChainIdToChainName}}),Object.defineProperty(st,"chainName2IdMap",{enumerable:!0,get:function(){return Bs.chainName2IdMap}}),Object.defineProperty(st,"getNamespaceKeyByChain",{enumerable:!0,get:function(){return Bs.getNamespaceKeyByChain}})}(utils$2)),utils$2}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var hasRequiredLocalforage;function requireLocalforage(){return hasRequiredLocalforage||(hasRequiredLocalforage=1,function(st,t){(function(et){st.exports=et()})(function(){return function et(ms,ws,vs){function _s(Ss,Rs){if(!ws[Ss]){if(!ms[Ss]){var Bs=typeof commonjsRequire=="function"&&commonjsRequire;if(!Rs&&Bs)return Bs(Ss,!0);if(Es)return Es(Ss,!0);var Is=new Error("Cannot find module '"+Ss+"'");throw Is.code="MODULE_NOT_FOUND",Is}var Ws=ws[Ss]={exports:{}};ms[Ss][0].call(Ws.exports,function(Hs){var Ns=ms[Ss][1][Hs];return _s(Ns||Hs)},Ws,Ws.exports,et,ms,ws,vs)}return ws[Ss].exports}for(var Es=typeof commonjsRequire=="function"&&commonjsRequire,Ts=0;Ts<vs.length;Ts++)_s(vs[Ts]);return _s}({1:[function(et,ms,ws){(function(vs){var _s=vs.MutationObserver||vs.WebKitMutationObserver,Es;if(_s){var Ts=0,Ss=new _s(Hs),Rs=vs.document.createTextNode("");Ss.observe(Rs,{characterData:!0}),Es=function(){Rs.data=Ts=++Ts%2}}else if(!vs.setImmediate&&typeof vs.MessageChannel<"u"){var Bs=new vs.MessageChannel;Bs.port1.onmessage=Hs,Es=function(){Bs.port2.postMessage(0)}}else"document"in vs&&"onreadystatechange"in vs.document.createElement("script")?Es=function(){var Js=vs.document.createElement("script");Js.onreadystatechange=function(){Hs(),Js.onreadystatechange=null,Js.parentNode.removeChild(Js),Js=null},vs.document.documentElement.appendChild(Js)}:Es=function(){setTimeout(Hs,0)};var Is,Ws=[];function Hs(){Is=!0;for(var Js,ha,pa=Ws.length;pa;){for(ha=Ws,Ws=[],Js=-1;++Js<pa;)ha[Js]();pa=Ws.length}Is=!1}ms.exports=Ns;function Ns(Js){Ws.push(Js)===1&&!Is&&Es()}}).call(this,typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(et,ms,ws){var vs=et(1);function _s(){}var Es={},Ts=["REJECTED"],Ss=["FULFILLED"],Rs=["PENDING"];ms.exports=Bs;function Bs(Bc){if(typeof Bc!="function")throw new TypeError("resolver must be a function");this.state=Rs,this.queue=[],this.outcome=void 0,Bc!==_s&&Ns(this,Bc)}Bs.prototype.catch=function(Bc){return this.then(null,Bc)},Bs.prototype.then=function(Bc,Qa){if(typeof Bc!="function"&&this.state===Ss||typeof Qa!="function"&&this.state===Ts)return this;var tu=new this.constructor(_s);if(this.state!==Rs){var eu=this.state===Ss?Bc:Qa;Ws(tu,eu,this.outcome)}else this.queue.push(new Is(tu,Bc,Qa));return tu};function Is(Bc,Qa,tu){this.promise=Bc,typeof Qa=="function"&&(this.onFulfilled=Qa,this.callFulfilled=this.otherCallFulfilled),typeof tu=="function"&&(this.onRejected=tu,this.callRejected=this.otherCallRejected)}Is.prototype.callFulfilled=function(Bc){Es.resolve(this.promise,Bc)},Is.prototype.otherCallFulfilled=function(Bc){Ws(this.promise,this.onFulfilled,Bc)},Is.prototype.callRejected=function(Bc){Es.reject(this.promise,Bc)},Is.prototype.otherCallRejected=function(Bc){Ws(this.promise,this.onRejected,Bc)};function Ws(Bc,Qa,tu){vs(function(){var eu;try{eu=Qa(tu)}catch(ru){return Es.reject(Bc,ru)}eu===Bc?Es.reject(Bc,new TypeError("Cannot resolve promise with itself")):Es.resolve(Bc,eu)})}Es.resolve=function(Bc,Qa){var tu=Js(Hs,Qa);if(tu.status==="error")return Es.reject(Bc,tu.value);var eu=tu.value;if(eu)Ns(Bc,eu);else{Bc.state=Ss,Bc.outcome=Qa;for(var ru=-1,cu=Bc.queue.length;++ru<cu;)Bc.queue[ru].callFulfilled(Qa)}return Bc},Es.reject=function(Bc,Qa){Bc.state=Ts,Bc.outcome=Qa;for(var tu=-1,eu=Bc.queue.length;++tu<eu;)Bc.queue[tu].callRejected(Qa);return Bc};function Hs(Bc){var Qa=Bc&&Bc.then;if(Bc&&(typeof Bc=="object"||typeof Bc=="function")&&typeof Qa=="function")return function(){Qa.apply(Bc,arguments)}}function Ns(Bc,Qa){var tu=!1;function eu(Ga){tu||(tu=!0,Es.reject(Bc,Ga))}function ru(Ga){tu||(tu=!0,Es.resolve(Bc,Ga))}function cu(){Qa(ru,eu)}var ou=Js(cu);ou.status==="error"&&eu(ou.value)}function Js(Bc,Qa){var tu={};try{tu.value=Bc(Qa),tu.status="success"}catch(eu){tu.status="error",tu.value=eu}return tu}Bs.resolve=ha;function ha(Bc){return Bc instanceof this?Bc:Es.resolve(new this(_s),Bc)}Bs.reject=pa;function pa(Bc){var Qa=new this(_s);return Es.reject(Qa,Bc)}Bs.all=za;function za(Bc){var Qa=this;if(Object.prototype.toString.call(Bc)!=="[object Array]")return this.reject(new TypeError("must be an array"));var tu=Bc.length,eu=!1;if(!tu)return this.resolve([]);for(var ru=new Array(tu),cu=0,ou=-1,Ga=new this(_s);++ou<tu;)Xa(Bc[ou],ou);return Ga;function Xa(Fa,Zs){Qa.resolve(Fa).then(Wa,function(Za){eu||(eu=!0,Es.reject(Ga,Za))});function Wa(Za){ru[Zs]=Za,++cu===tu&&!eu&&(eu=!0,Es.resolve(Ga,ru))}}}Bs.race=Ya;function Ya(Bc){var Qa=this;if(Object.prototype.toString.call(Bc)!=="[object Array]")return this.reject(new TypeError("must be an array"));var tu=Bc.length,eu=!1;if(!tu)return this.resolve([]);for(var ru=-1,cu=new this(_s);++ru<tu;)ou(Bc[ru]);return cu;function ou(Ga){Qa.resolve(Ga).then(function(Xa){eu||(eu=!0,Es.resolve(cu,Xa))},function(Xa){eu||(eu=!0,Es.reject(cu,Xa))})}}},{1:1}],3:[function(et,ms,ws){(function(vs){typeof vs.Promise!="function"&&(vs.Promise=et(2))}).call(this,typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(et,ms,ws){var vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Cu){return typeof Cu}:function(Cu){return Cu&&typeof Symbol=="function"&&Cu.constructor===Symbol&&Cu!==Symbol.prototype?"symbol":typeof Cu};function _s(Cu,Uu){if(!(Cu instanceof Uu))throw new TypeError("Cannot call a class as a function")}function Es(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var Ts=Es();function Ss(){try{if(!Ts||!Ts.open)return!1;var Cu=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Uu=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Cu||Uu)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Rs(Cu,Uu){Cu=Cu||[],Uu=Uu||{};try{return new Blob(Cu,Uu)}catch(Yu){if(Yu.name!=="TypeError")throw Yu;for(var ku=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Gu=new ku,mf=0;mf<Cu.length;mf+=1)Gu.append(Cu[mf]);return Gu.getBlob(Uu.type)}}typeof Promise>"u"&&et(3);var Bs=Promise;function Is(Cu,Uu){Uu&&Cu.then(function(ku){Uu(null,ku)},function(ku){Uu(ku)})}function Ws(Cu,Uu,ku){typeof Uu=="function"&&Cu.then(Uu),typeof ku=="function"&&Cu.catch(ku)}function Hs(Cu){return typeof Cu!="string"&&(console.warn(Cu+" used as a key, but it is not a string."),Cu=String(Cu)),Cu}function Ns(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Js="local-forage-detect-blob-support",ha=void 0,pa={},za=Object.prototype.toString,Ya="readonly",Bc="readwrite";function Qa(Cu){for(var Uu=Cu.length,ku=new ArrayBuffer(Uu),Gu=new Uint8Array(ku),mf=0;mf<Uu;mf++)Gu[mf]=Cu.charCodeAt(mf);return ku}function tu(Cu){return new Bs(function(Uu){var ku=Cu.transaction(Js,Bc),Gu=Rs([""]);ku.objectStore(Js).put(Gu,"key"),ku.onabort=function(mf){mf.preventDefault(),mf.stopPropagation(),Uu(!1)},ku.oncomplete=function(){var mf=navigator.userAgent.match(/Chrome\/(\d+)/),Yu=navigator.userAgent.match(/Edge\//);Uu(Yu||!mf||parseInt(mf[1],10)>=43)}}).catch(function(){return!1})}function eu(Cu){return typeof ha=="boolean"?Bs.resolve(ha):tu(Cu).then(function(Uu){return ha=Uu,ha})}function ru(Cu){var Uu=pa[Cu.name],ku={};ku.promise=new Bs(function(Gu,mf){ku.resolve=Gu,ku.reject=mf}),Uu.deferredOperations.push(ku),Uu.dbReady?Uu.dbReady=Uu.dbReady.then(function(){return ku.promise}):Uu.dbReady=ku.promise}function cu(Cu){var Uu=pa[Cu.name],ku=Uu.deferredOperations.pop();if(ku)return ku.resolve(),ku.promise}function ou(Cu,Uu){var ku=pa[Cu.name],Gu=ku.deferredOperations.pop();if(Gu)return Gu.reject(Uu),Gu.promise}function Ga(Cu,Uu){return new Bs(function(ku,Gu){if(pa[Cu.name]=pa[Cu.name]||fu(),Cu.db)if(Uu)ru(Cu),Cu.db.close();else return ku(Cu.db);var mf=[Cu.name];Uu&&mf.push(Cu.version);var Yu=Ts.open.apply(Ts,mf);Uu&&(Yu.onupgradeneeded=function(al){var Hu=Yu.result;try{Hu.createObjectStore(Cu.storeName),al.oldVersion<=1&&Hu.createObjectStore(Js)}catch(pl){if(pl.name==="ConstraintError")console.warn('The database "'+Cu.name+'" has been upgraded from version '+al.oldVersion+" to version "+al.newVersion+', but the storage "'+Cu.storeName+'" already exists.');else throw pl}}),Yu.onerror=function(al){al.preventDefault(),Gu(Yu.error)},Yu.onsuccess=function(){var al=Yu.result;al.onversionchange=function(Hu){Hu.target.close()},ku(al),cu(Cu)}})}function Xa(Cu){return Ga(Cu,!1)}function Fa(Cu){return Ga(Cu,!0)}function Zs(Cu,Uu){if(!Cu.db)return!0;var ku=!Cu.db.objectStoreNames.contains(Cu.storeName),Gu=Cu.version<Cu.db.version,mf=Cu.version>Cu.db.version;if(Gu&&(Cu.version!==Uu&&console.warn('The database "'+Cu.name+`" can't be downgraded from version `+Cu.db.version+" to version "+Cu.version+"."),Cu.version=Cu.db.version),mf||ku){if(ku){var Yu=Cu.db.version+1;Yu>Cu.version&&(Cu.version=Yu)}return!0}return!1}function Wa(Cu){return new Bs(function(Uu,ku){var Gu=new FileReader;Gu.onerror=ku,Gu.onloadend=function(mf){var Yu=btoa(mf.target.result||"");Uu({__local_forage_encoded_blob:!0,data:Yu,type:Cu.type})},Gu.readAsBinaryString(Cu)})}function Za(Cu){var Uu=Qa(atob(Cu.data));return Rs([Uu],{type:Cu.type})}function iu(Cu){return Cu&&Cu.__local_forage_encoded_blob}function au(Cu){var Uu=this,ku=Uu._initReady().then(function(){var Gu=pa[Uu._dbInfo.name];if(Gu&&Gu.dbReady)return Gu.dbReady});return Ws(ku,Cu,Cu),ku}function nu(Cu){ru(Cu);for(var Uu=pa[Cu.name],ku=Uu.forages,Gu=0;Gu<ku.length;Gu++){var mf=ku[Gu];mf._dbInfo.db&&(mf._dbInfo.db.close(),mf._dbInfo.db=null)}return Cu.db=null,Xa(Cu).then(function(Yu){return Cu.db=Yu,Zs(Cu)?Fa(Cu):Yu}).then(function(Yu){Cu.db=Uu.db=Yu;for(var al=0;al<ku.length;al++)ku[al]._dbInfo.db=Yu}).catch(function(Yu){throw ou(Cu,Yu),Yu})}function uu(Cu,Uu,ku,Gu){Gu===void 0&&(Gu=1);try{var mf=Cu.db.transaction(Cu.storeName,Uu);ku(null,mf)}catch(Yu){if(Gu>0&&(!Cu.db||Yu.name==="InvalidStateError"||Yu.name==="NotFoundError"))return Bs.resolve().then(function(){if(!Cu.db||Yu.name==="NotFoundError"&&!Cu.db.objectStoreNames.contains(Cu.storeName)&&Cu.version<=Cu.db.version)return Cu.db&&(Cu.version=Cu.db.version+1),Fa(Cu)}).then(function(){return nu(Cu).then(function(){uu(Cu,Uu,ku,Gu-1)})}).catch(ku);ku(Yu)}}function fu(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function hu(Cu){var Uu=this,ku={db:null};if(Cu)for(var Gu in Cu)ku[Gu]=Cu[Gu];var mf=pa[ku.name];mf||(mf=fu(),pa[ku.name]=mf),mf.forages.push(Uu),Uu._initReady||(Uu._initReady=Uu.ready,Uu.ready=au);var Yu=[];function al(){return Bs.resolve()}for(var Hu=0;Hu<mf.forages.length;Hu++){var pl=mf.forages[Hu];pl!==Uu&&Yu.push(pl._initReady().catch(al))}var bl=mf.forages.slice(0);return Bs.all(Yu).then(function(){return ku.db=mf.db,Xa(ku)}).then(function(ml){return ku.db=ml,Zs(ku,Uu._defaultConfig.version)?Fa(ku):ml}).then(function(ml){ku.db=mf.db=ml,Uu._dbInfo=ku;for(var El=0;El<bl.length;El++){var Nl=bl[El];Nl!==Uu&&(Nl._dbInfo.db=ku.db,Nl._dbInfo.version=ku.version)}})}function Eu(Cu,Uu){var ku=this;Cu=Hs(Cu);var Gu=new Bs(function(mf,Yu){ku.ready().then(function(){uu(ku._dbInfo,Ya,function(al,Hu){if(al)return Yu(al);try{var pl=Hu.objectStore(ku._dbInfo.storeName),bl=pl.get(Cu);bl.onsuccess=function(){var ml=bl.result;ml===void 0&&(ml=null),iu(ml)&&(ml=Za(ml)),mf(ml)},bl.onerror=function(){Yu(bl.error)}}catch(ml){Yu(ml)}})}).catch(Yu)});return Is(Gu,Uu),Gu}function $u(Cu,Uu){var ku=this,Gu=new Bs(function(mf,Yu){ku.ready().then(function(){uu(ku._dbInfo,Ya,function(al,Hu){if(al)return Yu(al);try{var pl=Hu.objectStore(ku._dbInfo.storeName),bl=pl.openCursor(),ml=1;bl.onsuccess=function(){var El=bl.result;if(El){var Nl=El.value;iu(Nl)&&(Nl=Za(Nl));var ql=Cu(Nl,El.key,ml++);ql!==void 0?mf(ql):El.continue()}else mf()},bl.onerror=function(){Yu(bl.error)}}catch(El){Yu(El)}})}).catch(Yu)});return Is(Gu,Uu),Gu}function Ou(Cu,Uu,ku){var Gu=this;Cu=Hs(Cu);var mf=new Bs(function(Yu,al){var Hu;Gu.ready().then(function(){return Hu=Gu._dbInfo,za.call(Uu)==="[object Blob]"?eu(Hu.db).then(function(pl){return pl?Uu:Wa(Uu)}):Uu}).then(function(pl){uu(Gu._dbInfo,Bc,function(bl,ml){if(bl)return al(bl);try{var El=ml.objectStore(Gu._dbInfo.storeName);pl===null&&(pl=void 0);var Nl=El.put(pl,Cu);ml.oncomplete=function(){pl===void 0&&(pl=null),Yu(pl)},ml.onabort=ml.onerror=function(){var ql=Nl.error?Nl.error:Nl.transaction.error;al(ql)}}catch(ql){al(ql)}})}).catch(al)});return Is(mf,ku),mf}function gu(Cu,Uu){var ku=this;Cu=Hs(Cu);var Gu=new Bs(function(mf,Yu){ku.ready().then(function(){uu(ku._dbInfo,Bc,function(al,Hu){if(al)return Yu(al);try{var pl=Hu.objectStore(ku._dbInfo.storeName),bl=pl.delete(Cu);Hu.oncomplete=function(){mf()},Hu.onerror=function(){Yu(bl.error)},Hu.onabort=function(){var ml=bl.error?bl.error:bl.transaction.error;Yu(ml)}}catch(ml){Yu(ml)}})}).catch(Yu)});return Is(Gu,Uu),Gu}function yu(Cu){var Uu=this,ku=new Bs(function(Gu,mf){Uu.ready().then(function(){uu(Uu._dbInfo,Bc,function(Yu,al){if(Yu)return mf(Yu);try{var Hu=al.objectStore(Uu._dbInfo.storeName),pl=Hu.clear();al.oncomplete=function(){Gu()},al.onabort=al.onerror=function(){var bl=pl.error?pl.error:pl.transaction.error;mf(bl)}}catch(bl){mf(bl)}})}).catch(mf)});return Is(ku,Cu),ku}function Tu(Cu){var Uu=this,ku=new Bs(function(Gu,mf){Uu.ready().then(function(){uu(Uu._dbInfo,Ya,function(Yu,al){if(Yu)return mf(Yu);try{var Hu=al.objectStore(Uu._dbInfo.storeName),pl=Hu.count();pl.onsuccess=function(){Gu(pl.result)},pl.onerror=function(){mf(pl.error)}}catch(bl){mf(bl)}})}).catch(mf)});return Is(ku,Cu),ku}function du(Cu,Uu){var ku=this,Gu=new Bs(function(mf,Yu){if(Cu<0){mf(null);return}ku.ready().then(function(){uu(ku._dbInfo,Ya,function(al,Hu){if(al)return Yu(al);try{var pl=Hu.objectStore(ku._dbInfo.storeName),bl=!1,ml=pl.openKeyCursor();ml.onsuccess=function(){var El=ml.result;if(!El){mf(null);return}Cu===0||bl?mf(El.key):(bl=!0,El.advance(Cu))},ml.onerror=function(){Yu(ml.error)}}catch(El){Yu(El)}})}).catch(Yu)});return Is(Gu,Uu),Gu}function wu(Cu){var Uu=this,ku=new Bs(function(Gu,mf){Uu.ready().then(function(){uu(Uu._dbInfo,Ya,function(Yu,al){if(Yu)return mf(Yu);try{var Hu=al.objectStore(Uu._dbInfo.storeName),pl=Hu.openKeyCursor(),bl=[];pl.onsuccess=function(){var ml=pl.result;if(!ml){Gu(bl);return}bl.push(ml.key),ml.continue()},pl.onerror=function(){mf(pl.error)}}catch(ml){mf(ml)}})}).catch(mf)});return Is(ku,Cu),ku}function Ru(Cu,Uu){Uu=Ns.apply(this,arguments);var ku=this.config();Cu=typeof Cu!="function"&&Cu||{},Cu.name||(Cu.name=Cu.name||ku.name,Cu.storeName=Cu.storeName||ku.storeName);var Gu=this,mf;if(!Cu.name)mf=Bs.reject("Invalid arguments");else{var Yu=Cu.name===ku.name&&Gu._dbInfo.db,al=Yu?Bs.resolve(Gu._dbInfo.db):Xa(Cu).then(function(Hu){var pl=pa[Cu.name],bl=pl.forages;pl.db=Hu;for(var ml=0;ml<bl.length;ml++)bl[ml]._dbInfo.db=Hu;return Hu});Cu.storeName?mf=al.then(function(Hu){if(Hu.objectStoreNames.contains(Cu.storeName)){var pl=Hu.version+1;ru(Cu);var bl=pa[Cu.name],ml=bl.forages;Hu.close();for(var El=0;El<ml.length;El++){var Nl=ml[El];Nl._dbInfo.db=null,Nl._dbInfo.version=pl}var ql=new Bs(function(Hl,zl){var Vl=Ts.open(Cu.name,pl);Vl.onerror=function(Gl){var Xl=Vl.result;Xl.close(),zl(Gl)},Vl.onupgradeneeded=function(){var Gl=Vl.result;Gl.deleteObjectStore(Cu.storeName)},Vl.onsuccess=function(){var Gl=Vl.result;Gl.close(),Hl(Gl)}});return ql.then(function(Hl){bl.db=Hl;for(var zl=0;zl<ml.length;zl++){var Vl=ml[zl];Vl._dbInfo.db=Hl,cu(Vl._dbInfo)}}).catch(function(Hl){throw(ou(Cu,Hl)||Bs.resolve()).catch(function(){}),Hl})}}):mf=al.then(function(Hu){ru(Cu);var pl=pa[Cu.name],bl=pl.forages;Hu.close();for(var ml=0;ml<bl.length;ml++){var El=bl[ml];El._dbInfo.db=null}var Nl=new Bs(function(ql,Hl){var zl=Ts.deleteDatabase(Cu.name);zl.onerror=function(){var Vl=zl.result;Vl&&Vl.close(),Hl(zl.error)},zl.onblocked=function(){console.warn('dropInstance blocked for database "'+Cu.name+'" until all open connections are closed')},zl.onsuccess=function(){var Vl=zl.result;Vl&&Vl.close(),ql(Vl)}});return Nl.then(function(ql){pl.db=ql;for(var Hl=0;Hl<bl.length;Hl++){var zl=bl[Hl];cu(zl._dbInfo)}}).catch(function(ql){throw(ou(Cu,ql)||Bs.resolve()).catch(function(){}),ql})})}return Is(mf,Uu),mf}var Ku={_driver:"asyncStorage",_initStorage:hu,_support:Ss(),iterate:$u,getItem:Eu,setItem:Ou,removeItem:gu,clear:yu,length:Tu,key:du,keys:wu,dropInstance:Ru};function Zu(){return typeof openDatabase=="function"}var tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sl="~~local_forage_type~",gl=/^~~local_forage_type~([^~]+)~/,Fu="__lfsc__:",Mu=Fu.length,Ju="arbf",vf="blob",wf="si08",el="ui08",il="uic8",hl="si16",cl="si32",ul="ur16",yl="ui32",Cl="fl32",Bu="fl64",pu=Mu+Ju.length,xu=Object.prototype.toString;function qu(Cu){var Uu=Cu.length*.75,ku=Cu.length,Gu,mf=0,Yu,al,Hu,pl;Cu[Cu.length-1]==="="&&(Uu--,Cu[Cu.length-2]==="="&&Uu--);var bl=new ArrayBuffer(Uu),ml=new Uint8Array(bl);for(Gu=0;Gu<ku;Gu+=4)Yu=tl.indexOf(Cu[Gu]),al=tl.indexOf(Cu[Gu+1]),Hu=tl.indexOf(Cu[Gu+2]),pl=tl.indexOf(Cu[Gu+3]),ml[mf++]=Yu<<2|al>>4,ml[mf++]=(al&15)<<4|Hu>>2,ml[mf++]=(Hu&3)<<6|pl&63;return bl}function Pu(Cu){var Uu=new Uint8Array(Cu),ku="",Gu;for(Gu=0;Gu<Uu.length;Gu+=3)ku+=tl[Uu[Gu]>>2],ku+=tl[(Uu[Gu]&3)<<4|Uu[Gu+1]>>4],ku+=tl[(Uu[Gu+1]&15)<<2|Uu[Gu+2]>>6],ku+=tl[Uu[Gu+2]&63];return Uu.length%3===2?ku=ku.substring(0,ku.length-1)+"=":Uu.length%3===1&&(ku=ku.substring(0,ku.length-2)+"=="),ku}function xf(Cu,Uu){var ku="";if(Cu&&(ku=xu.call(Cu)),Cu&&(ku==="[object ArrayBuffer]"||Cu.buffer&&xu.call(Cu.buffer)==="[object ArrayBuffer]")){var Gu,mf=Fu;Cu instanceof ArrayBuffer?(Gu=Cu,mf+=Ju):(Gu=Cu.buffer,ku==="[object Int8Array]"?mf+=wf:ku==="[object Uint8Array]"?mf+=el:ku==="[object Uint8ClampedArray]"?mf+=il:ku==="[object Int16Array]"?mf+=hl:ku==="[object Uint16Array]"?mf+=ul:ku==="[object Int32Array]"?mf+=cl:ku==="[object Uint32Array]"?mf+=yl:ku==="[object Float32Array]"?mf+=Cl:ku==="[object Float64Array]"?mf+=Bu:Uu(new Error("Failed to get type for BinaryArray"))),Uu(mf+Pu(Gu))}else if(ku==="[object Blob]"){var Yu=new FileReader;Yu.onload=function(){var al=sl+Cu.type+"~"+Pu(this.result);Uu(Fu+vf+al)},Yu.readAsArrayBuffer(Cu)}else try{Uu(JSON.stringify(Cu))}catch(al){console.error("Couldn't convert value into a JSON string: ",Cu),Uu(null,al)}}function nl(Cu){if(Cu.substring(0,Mu)!==Fu)return JSON.parse(Cu);var Uu=Cu.substring(pu),ku=Cu.substring(Mu,pu),Gu;if(ku===vf&&gl.test(Uu)){var mf=Uu.match(gl);Gu=mf[1],Uu=Uu.substring(mf[0].length)}var Yu=qu(Uu);switch(ku){case Ju:return Yu;case vf:return Rs([Yu],{type:Gu});case wf:return new Int8Array(Yu);case el:return new Uint8Array(Yu);case il:return new Uint8ClampedArray(Yu);case hl:return new Int16Array(Yu);case ul:return new Uint16Array(Yu);case cl:return new Int32Array(Yu);case yl:return new Uint32Array(Yu);case Cl:return new Float32Array(Yu);case Bu:return new Float64Array(Yu);default:throw new Error("Unkown type: "+ku)}}var wl={serialize:xf,deserialize:nl,stringToBuffer:qu,bufferToString:Pu};function Il(Cu,Uu,ku,Gu){Cu.executeSql("CREATE TABLE IF NOT EXISTS "+Uu.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ku,Gu)}function Rl(Cu){var Uu=this,ku={db:null};if(Cu)for(var Gu in Cu)ku[Gu]=typeof Cu[Gu]!="string"?Cu[Gu].toString():Cu[Gu];var mf=new Bs(function(Yu,al){try{ku.db=openDatabase(ku.name,String(ku.version),ku.description,ku.size)}catch(Hu){return al(Hu)}ku.db.transaction(function(Hu){Il(Hu,ku,function(){Uu._dbInfo=ku,Yu()},function(pl,bl){al(bl)})},al)});return ku.serializer=wl,mf}function fl(Cu,Uu,ku,Gu,mf,Yu){Cu.executeSql(ku,Gu,mf,function(al,Hu){Hu.code===Hu.SYNTAX_ERR?al.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Uu.storeName],function(pl,bl){bl.rows.length?Yu(pl,Hu):Il(pl,Uu,function(){pl.executeSql(ku,Gu,mf,Yu)},Yu)},Yu):Yu(al,Hu)},Yu)}function Ml(Cu,Uu){var ku=this;Cu=Hs(Cu);var Gu=new Bs(function(mf,Yu){ku.ready().then(function(){var al=ku._dbInfo;al.db.transaction(function(Hu){fl(Hu,al,"SELECT * FROM "+al.storeName+" WHERE key = ? LIMIT 1",[Cu],function(pl,bl){var ml=bl.rows.length?bl.rows.item(0).value:null;ml&&(ml=al.serializer.deserialize(ml)),mf(ml)},function(pl,bl){Yu(bl)})})}).catch(Yu)});return Is(Gu,Uu),Gu}function Ul(Cu,Uu){var ku=this,Gu=new Bs(function(mf,Yu){ku.ready().then(function(){var al=ku._dbInfo;al.db.transaction(function(Hu){fl(Hu,al,"SELECT * FROM "+al.storeName,[],function(pl,bl){for(var ml=bl.rows,El=ml.length,Nl=0;Nl<El;Nl++){var ql=ml.item(Nl),Hl=ql.value;if(Hl&&(Hl=al.serializer.deserialize(Hl)),Hl=Cu(Hl,ql.key,Nl+1),Hl!==void 0){mf(Hl);return}}mf()},function(pl,bl){Yu(bl)})})}).catch(Yu)});return Is(Gu,Uu),Gu}function kl(Cu,Uu,ku,Gu){var mf=this;Cu=Hs(Cu);var Yu=new Bs(function(al,Hu){mf.ready().then(function(){Uu===void 0&&(Uu=null);var pl=Uu,bl=mf._dbInfo;bl.serializer.serialize(Uu,function(ml,El){El?Hu(El):bl.db.transaction(function(Nl){fl(Nl,bl,"INSERT OR REPLACE INTO "+bl.storeName+" (key, value) VALUES (?, ?)",[Cu,ml],function(){al(pl)},function(ql,Hl){Hu(Hl)})},function(Nl){if(Nl.code===Nl.QUOTA_ERR){if(Gu>0){al(kl.apply(mf,[Cu,pl,ku,Gu-1]));return}Hu(Nl)}})})}).catch(Hu)});return Is(Yu,ku),Yu}function Fl(Cu,Uu,ku){return kl.apply(this,[Cu,Uu,ku,1])}function Pl(Cu,Uu){var ku=this;Cu=Hs(Cu);var Gu=new Bs(function(mf,Yu){ku.ready().then(function(){var al=ku._dbInfo;al.db.transaction(function(Hu){fl(Hu,al,"DELETE FROM "+al.storeName+" WHERE key = ?",[Cu],function(){mf()},function(pl,bl){Yu(bl)})})}).catch(Yu)});return Is(Gu,Uu),Gu}function Wl(Cu){var Uu=this,ku=new Bs(function(Gu,mf){Uu.ready().then(function(){var Yu=Uu._dbInfo;Yu.db.transaction(function(al){fl(al,Yu,"DELETE FROM "+Yu.storeName,[],function(){Gu()},function(Hu,pl){mf(pl)})})}).catch(mf)});return Is(ku,Cu),ku}function jl(Cu){var Uu=this,ku=new Bs(function(Gu,mf){Uu.ready().then(function(){var Yu=Uu._dbInfo;Yu.db.transaction(function(al){fl(al,Yu,"SELECT COUNT(key) as c FROM "+Yu.storeName,[],function(Hu,pl){var bl=pl.rows.item(0).c;Gu(bl)},function(Hu,pl){mf(pl)})})}).catch(mf)});return Is(ku,Cu),ku}function Nu(Cu,Uu){var ku=this,Gu=new Bs(function(mf,Yu){ku.ready().then(function(){var al=ku._dbInfo;al.db.transaction(function(Hu){fl(Hu,al,"SELECT key FROM "+al.storeName+" WHERE id = ? LIMIT 1",[Cu+1],function(pl,bl){var ml=bl.rows.length?bl.rows.item(0).key:null;mf(ml)},function(pl,bl){Yu(bl)})})}).catch(Yu)});return Is(Gu,Uu),Gu}function mu(Cu){var Uu=this,ku=new Bs(function(Gu,mf){Uu.ready().then(function(){var Yu=Uu._dbInfo;Yu.db.transaction(function(al){fl(al,Yu,"SELECT key FROM "+Yu.storeName,[],function(Hu,pl){for(var bl=[],ml=0;ml<pl.rows.length;ml++)bl.push(pl.rows.item(ml).key);Gu(bl)},function(Hu,pl){mf(pl)})})}).catch(mf)});return Is(ku,Cu),ku}function _u(Cu){return new Bs(function(Uu,ku){Cu.transaction(function(Gu){Gu.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(mf,Yu){for(var al=[],Hu=0;Hu<Yu.rows.length;Hu++)al.push(Yu.rows.item(Hu).name);Uu({db:Cu,storeNames:al})},function(mf,Yu){ku(Yu)})},function(Gu){ku(Gu)})})}function Lu(Cu,Uu){Uu=Ns.apply(this,arguments);var ku=this.config();Cu=typeof Cu!="function"&&Cu||{},Cu.name||(Cu.name=Cu.name||ku.name,Cu.storeName=Cu.storeName||ku.storeName);var Gu=this,mf;return Cu.name?mf=new Bs(function(Yu){var al;Cu.name===ku.name?al=Gu._dbInfo.db:al=openDatabase(Cu.name,"","",0),Cu.storeName?Yu({db:al,storeNames:[Cu.storeName]}):Yu(_u(al))}).then(function(Yu){return new Bs(function(al,Hu){Yu.db.transaction(function(pl){function bl(ql){return new Bs(function(Hl,zl){pl.executeSql("DROP TABLE IF EXISTS "+ql,[],function(){Hl()},function(Vl,Gl){zl(Gl)})})}for(var ml=[],El=0,Nl=Yu.storeNames.length;El<Nl;El++)ml.push(bl(Yu.storeNames[El]));Bs.all(ml).then(function(){al()}).catch(function(ql){Hu(ql)})},function(pl){Hu(pl)})})}):mf=Bs.reject("Invalid arguments"),Is(mf,Uu),mf}var Vu={_driver:"webSQLStorage",_initStorage:Rl,_support:Zu(),iterate:Ul,getItem:Ml,setItem:Fl,removeItem:Pl,clear:Wl,length:jl,key:Nu,keys:mu,dropInstance:Lu};function vu(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Su(Cu,Uu){var ku=Cu.name+"/";return Cu.storeName!==Uu.storeName&&(ku+=Cu.storeName+"/"),ku}function Iu(){var Cu="_localforage_support_test";try{return localStorage.setItem(Cu,!0),localStorage.removeItem(Cu),!1}catch{return!0}}function bu(){return!Iu()||localStorage.length>0}function Wu(Cu){var Uu=this,ku={};if(Cu)for(var Gu in Cu)ku[Gu]=Cu[Gu];return ku.keyPrefix=Su(Cu,Uu._defaultConfig),bu()?(Uu._dbInfo=ku,ku.serializer=wl,Bs.resolve()):Bs.reject()}function Xu(Cu){var Uu=this,ku=Uu.ready().then(function(){for(var Gu=Uu._dbInfo.keyPrefix,mf=localStorage.length-1;mf>=0;mf--){var Yu=localStorage.key(mf);Yu.indexOf(Gu)===0&&localStorage.removeItem(Yu)}});return Is(ku,Cu),ku}function Qu(Cu,Uu){var ku=this;Cu=Hs(Cu);var Gu=ku.ready().then(function(){var mf=ku._dbInfo,Yu=localStorage.getItem(mf.keyPrefix+Cu);return Yu&&(Yu=mf.serializer.deserialize(Yu)),Yu});return Is(Gu,Uu),Gu}function ol(Cu,Uu){var ku=this,Gu=ku.ready().then(function(){for(var mf=ku._dbInfo,Yu=mf.keyPrefix,al=Yu.length,Hu=localStorage.length,pl=1,bl=0;bl<Hu;bl++){var ml=localStorage.key(bl);if(ml.indexOf(Yu)===0){var El=localStorage.getItem(ml);if(El&&(El=mf.serializer.deserialize(El)),El=Cu(El,ml.substring(al),pl++),El!==void 0)return El}}});return Is(Gu,Uu),Gu}function vl(Cu,Uu){var ku=this,Gu=ku.ready().then(function(){var mf=ku._dbInfo,Yu;try{Yu=localStorage.key(Cu)}catch{Yu=null}return Yu&&(Yu=Yu.substring(mf.keyPrefix.length)),Yu});return Is(Gu,Uu),Gu}function _l(Cu){var Uu=this,ku=Uu.ready().then(function(){for(var Gu=Uu._dbInfo,mf=localStorage.length,Yu=[],al=0;al<mf;al++){var Hu=localStorage.key(al);Hu.indexOf(Gu.keyPrefix)===0&&Yu.push(Hu.substring(Gu.keyPrefix.length))}return Yu});return Is(ku,Cu),ku}function rl(Cu){var Uu=this,ku=Uu.keys().then(function(Gu){return Gu.length});return Is(ku,Cu),ku}function Al(Cu,Uu){var ku=this;Cu=Hs(Cu);var Gu=ku.ready().then(function(){var mf=ku._dbInfo;localStorage.removeItem(mf.keyPrefix+Cu)});return Is(Gu,Uu),Gu}function $l(Cu,Uu,ku){var Gu=this;Cu=Hs(Cu);var mf=Gu.ready().then(function(){Uu===void 0&&(Uu=null);var Yu=Uu;return new Bs(function(al,Hu){var pl=Gu._dbInfo;pl.serializer.serialize(Uu,function(bl,ml){if(ml)Hu(ml);else try{localStorage.setItem(pl.keyPrefix+Cu,bl),al(Yu)}catch(El){(El.name==="QuotaExceededError"||El.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Hu(El),Hu(El)}})})});return Is(mf,ku),mf}function Dl(Cu,Uu){if(Uu=Ns.apply(this,arguments),Cu=typeof Cu!="function"&&Cu||{},!Cu.name){var ku=this.config();Cu.name=Cu.name||ku.name,Cu.storeName=Cu.storeName||ku.storeName}var Gu=this,mf;return Cu.name?mf=new Bs(function(Yu){Cu.storeName?Yu(Su(Cu,Gu._defaultConfig)):Yu(Cu.name+"/")}).then(function(Yu){for(var al=localStorage.length-1;al>=0;al--){var Hu=localStorage.key(al);Hu.indexOf(Yu)===0&&localStorage.removeItem(Hu)}}):mf=Bs.reject("Invalid arguments"),Is(mf,Uu),mf}var Ol={_driver:"localStorageWrapper",_initStorage:Wu,_support:vu(),iterate:ol,getItem:Qu,setItem:$l,removeItem:Al,clear:Xu,length:rl,key:vl,keys:_l,dropInstance:Dl},ll=function(Uu,ku){return Uu===ku||typeof Uu=="number"&&typeof ku=="number"&&isNaN(Uu)&&isNaN(ku)},ju=function(Uu,ku){for(var Gu=Uu.length,mf=0;mf<Gu;){if(ll(Uu[mf],ku))return!0;mf++}return!1},Ll=Array.isArray||function(Cu){return Object.prototype.toString.call(Cu)==="[object Array]"},xl={},Tl={},dl={INDEXEDDB:Ku,WEBSQL:Vu,LOCALSTORAGE:Ol},Bl=[dl.INDEXEDDB._driver,dl.WEBSQL._driver,dl.LOCALSTORAGE._driver],Sl=["dropInstance"],Ja=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Sl),su={description:"",driver:Bl.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function lu(Cu,Uu){Cu[Uu]=function(){var ku=arguments;return Cu.ready().then(function(){return Cu[Uu].apply(Cu,ku)})}}function Au(){for(var Cu=1;Cu<arguments.length;Cu++){var Uu=arguments[Cu];if(Uu)for(var ku in Uu)Uu.hasOwnProperty(ku)&&(Ll(Uu[ku])?arguments[0][ku]=Uu[ku].slice():arguments[0][ku]=Uu[ku])}return arguments[0]}var Du=function(){function Cu(Uu){_s(this,Cu);for(var ku in dl)if(dl.hasOwnProperty(ku)){var Gu=dl[ku],mf=Gu._driver;this[ku]=mf,xl[mf]||this.defineDriver(Gu)}this._defaultConfig=Au({},su),this._config=Au({},this._defaultConfig,Uu),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Cu.prototype.config=function(ku){if((typeof ku>"u"?"undefined":vs(ku))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Gu in ku){if(Gu==="storeName"&&(ku[Gu]=ku[Gu].replace(/\W/g,"_")),Gu==="version"&&typeof ku[Gu]!="number")return new Error("Database version must be a number.");this._config[Gu]=ku[Gu]}return"driver"in ku&&ku.driver?this.setDriver(this._config.driver):!0}else return typeof ku=="string"?this._config[ku]:this._config},Cu.prototype.defineDriver=function(ku,Gu,mf){var Yu=new Bs(function(al,Hu){try{var pl=ku._driver,bl=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ku._driver){Hu(bl);return}for(var ml=Ja.concat("_initStorage"),El=0,Nl=ml.length;El<Nl;El++){var ql=ml[El],Hl=!ju(Sl,ql);if((Hl||ku[ql])&&typeof ku[ql]!="function"){Hu(bl);return}}var zl=function(){for(var Xl=function(hd){return function(){var pd=new Error("Method "+hd+" is not implemented by the current driver"),sd=Bs.reject(pd);return Is(sd,arguments[arguments.length-1]),sd}},Jl=0,Yl=Sl.length;Jl<Yl;Jl++){var Zl=Sl[Jl];ku[Zl]||(ku[Zl]=Xl(Zl))}};zl();var Vl=function(Xl){xl[pl]&&console.info("Redefining LocalForage driver: "+pl),xl[pl]=ku,Tl[pl]=Xl,al()};"_support"in ku?ku._support&&typeof ku._support=="function"?ku._support().then(Vl,Hu):Vl(!!ku._support):Vl(!0)}catch(Gl){Hu(Gl)}});return Ws(Yu,Gu,mf),Yu},Cu.prototype.driver=function(){return this._driver||null},Cu.prototype.getDriver=function(ku,Gu,mf){var Yu=xl[ku]?Bs.resolve(xl[ku]):Bs.reject(new Error("Driver not found."));return Ws(Yu,Gu,mf),Yu},Cu.prototype.getSerializer=function(ku){var Gu=Bs.resolve(wl);return Ws(Gu,ku),Gu},Cu.prototype.ready=function(ku){var Gu=this,mf=Gu._driverSet.then(function(){return Gu._ready===null&&(Gu._ready=Gu._initDriver()),Gu._ready});return Ws(mf,ku,ku),mf},Cu.prototype.setDriver=function(ku,Gu,mf){var Yu=this;Ll(ku)||(ku=[ku]);var al=this._getSupportedDrivers(ku);function Hu(){Yu._config.driver=Yu.driver()}function pl(El){return Yu._extend(El),Hu(),Yu._ready=Yu._initStorage(Yu._config),Yu._ready}function bl(El){return function(){var Nl=0;function ql(){for(;Nl<El.length;){var Hl=El[Nl];return Nl++,Yu._dbInfo=null,Yu._ready=null,Yu.getDriver(Hl).then(pl).catch(ql)}Hu();var zl=new Error("No available storage method found.");return Yu._driverSet=Bs.reject(zl),Yu._driverSet}return ql()}}var ml=this._driverSet!==null?this._driverSet.catch(function(){return Bs.resolve()}):Bs.resolve();return this._driverSet=ml.then(function(){var El=al[0];return Yu._dbInfo=null,Yu._ready=null,Yu.getDriver(El).then(function(Nl){Yu._driver=Nl._driver,Hu(),Yu._wrapLibraryMethodsWithReady(),Yu._initDriver=bl(al)})}).catch(function(){Hu();var El=new Error("No available storage method found.");return Yu._driverSet=Bs.reject(El),Yu._driverSet}),Ws(this._driverSet,Gu,mf),this._driverSet},Cu.prototype.supports=function(ku){return!!Tl[ku]},Cu.prototype._extend=function(ku){Au(this,ku)},Cu.prototype._getSupportedDrivers=function(ku){for(var Gu=[],mf=0,Yu=ku.length;mf<Yu;mf++){var al=ku[mf];this.supports(al)&&Gu.push(al)}return Gu},Cu.prototype._wrapLibraryMethodsWithReady=function(){for(var ku=0,Gu=Ja.length;ku<Gu;ku++)lu(this,Ja[ku])},Cu.prototype.createInstance=function(ku){return new Cu(ku)},Cu}(),zu=new Du;ms.exports=zu},{3:3}]},{},[4])(4)})}(localforage)),localforage.exports}var hasRequiredReport;function requireReport(){return hasRequiredReport||(hasRequiredReport=1,function(st){var t=report&&report.__awaiter||function(ha,pa,za,Ya){function Bc(Qa){return Qa instanceof za?Qa:new za(function(tu){tu(Qa)})}return new(za||(za=Promise))(function(Qa,tu){function eu(ou){try{cu(Ya.next(ou))}catch(Ga){tu(Ga)}}function ru(ou){try{cu(Ya.throw(ou))}catch(Ga){tu(Ga)}}function cu(ou){ou.done?Qa(ou.value):Bc(ou.value).then(eu,ru)}cu((Ya=Ya.apply(ha,pa||[])).next())})},et=report&&report.__importDefault||function(ha){return ha&&ha.__esModule?ha:{default:ha}};Object.defineProperty(st,"__esModule",{value:!0}),st.OKXReporter=st.OKXReportSide=st.OKXReportType=st.versionStr=void 0;const ms=et(requireBrowserPonyfill$1()),ws=requireLog(),vs=requireUrl(),_s=requireUtils$4(),Es=et(requireLocalforage());st.versionStr="1.8.7";const Ts=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],Ss="OKX_RP_CK",Rs="OKX_RP_UUID_CK",Bs=100,Hs={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};st.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},st.OKXReportSide={DAPP:"dapp",WALLET:"wallet"};const Ns=(ha,...pa)=>t(void 0,[ha,...pa],void 0,function*(za,Ya={},Bc=5e3){for(const Qa of za)try{const tu=new AbortController,eu=tu.signal,ru=(0,ms.default)(Qa,Object.assign(Object.assign({},Ya),{signal:eu})),cu=new Promise((Ga,Xa)=>setTimeout(()=>{tu.abort(),Xa(new Error("Request timed out"))},Bc)),ou=yield Promise.race([ru,cu]);if(ou.ok)return ou;if(ou.status==502)return console.error("Fetch error status 502",Qa),ou}catch(tu){console.error(`Fetch error for ${Qa}:`,tu)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")});class Js{constructor(){this.currentSide=st.OKXReportSide.DAPP,this.currentVersion=st.versionStr,this.storage=Es.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID="fjdkakfjsadkfklasdkfsdjkljfklsdjklfioruer3239084dkskfsa"}configVersionAndSide(pa,za,Ya){this.currentVersion=pa+ws.logVersion,this.currentSide=za,this.appName=Ya}get recordCacheKey(){return Ss+"@"+this.appName}get reportPlatform(){return(0,_s.isMobileUserAgent)()?(0,_s.isIos)()?"iOS":"android":"pc"}beginReport(){return t(this,void 0,void 0,function*(){this.startErrorCatching();let pa=yield this.storage.getItem(this.recordCacheKey),za=yield this.storage.getItem(Rs);za?this.currentUUID=za:this.storage.setItem(Rs,this.currentUUID),pa&&(this.recordList=pa,(0,ws.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())})}startErrorCatching(){(0,vs.getWindow)()&&(0,ws.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(pa){return t(this,void 0,void 0,function*(){return new Promise((za,Ya)=>t(this,void 0,void 0,function*(){try{const Bc=JSON.stringify(pa);(0,ws.logDebug)("[REPORT] record: ",Bc);const Qa=yield Ns(Ts,Object.assign(Object.assign({},Hs),{body:Bc}));(0,ws.logDebug)("[REPORT] get rsp:",Qa),Qa&&Qa.status&&Qa.status==200?(this.recordList=this.recordList.filter(tu=>tu.timestamp!=pa.timestamp||tu.content!=pa.content),yield this.storage.setItem(this.recordCacheKey,this.recordList),za(!0)):Ya(!1)}catch(Bc){(0,ws.logDebug)("send record error:",Bc),za(!0)}}))})}sendRecordContent(pa,za,Ya){return t(this,arguments,void 0,function*(Bc,Qa,tu,eu=void 0,ru=void 0,cu=void 0,ou=void 0,Ga=void 0,Xa=void 0){var Fa,Zs,Wa,Za;let iu=(Fa=(0,vs.getWindow)())===null||Fa===void 0?void 0:Fa.location.pathname,au=(Zs=(0,vs.getWindow)())===null||Zs===void 0?void 0:Zs.location.origin;iu&&au&&(au=au+iu);let nu=(Wa=(0,vs.getWindow)())===null||Wa===void 0?void 0:Wa.navigator.language,uu=(Za=(0,vs.getWindow)())===null||Za===void 0?void 0:Za.navigator.userAgent,fu=this.reportPlatform,hu={uuid:this.currentUUID,version:this.currentVersion,content:Bc,action:tu,side:this.currentSide,timestamp:new Date().getTime(),url:au,lang:nu,type:Qa,platform:fu,"user-agent":uu,reverved1:eu,reverved2:ru,reverved3:cu,reverved4:ou,reverved5:Ga,reverved6:Xa};yield this.markRecordItem(hu),yield this.sendRecord(hu)})}sendCachedRecords(){return t(this,void 0,void 0,function*(){return new Promise((pa,za)=>t(this,void 0,void 0,function*(){let Ya=this.recordList.map(Bc=>this.sendRecord(Bc));(0,ws.logDebug)("[REPORT] submit & clean recorded caches begin @",new Date().toUTCString()),Promise.allSettled(Ya).then(Bc=>{(0,ws.logDebug)("[REPORT] submit & clean recorded caches ends @",new Date().toUTCString());let Qa=[];Bc.forEach((tu,eu)=>{tu.status=="rejected"&&Qa.push(eu)}),this.recordList=this.recordList.filter((tu,eu)=>!Qa.includes(eu)),this.storage.setItem(this.recordCacheKey,this.recordList).then(function(tu){pa()}).catch(function(tu){za(tu)})})}))})}markRecordItem(pa){return t(this,void 0,void 0,function*(){if(this.recordList.push(pa),this.recordList.length>Bs){let za=this.recordList.length-Bs;this.recordList.splice(0,za)}return new Promise((za,Ya)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then(function(Bc){za(pa)}).catch(function(Bc){Ya(Bc)})})})}}st.OKXReporter=Js}(report)),report}const version$1="1.8.7",require$$1={version:version$1};var hasRequiredLog;function requireLog(){if(hasRequiredLog)return log;hasRequiredLog=1;var st=log&&log.__awaiter||function(Ws,Hs,Ns,Js){function ha(pa){return pa instanceof Ns?pa:new Ns(function(za){za(pa)})}return new(Ns||(Ns=Promise))(function(pa,za){function Ya(tu){try{Qa(Js.next(tu))}catch(eu){za(eu)}}function Bc(tu){try{Qa(Js.throw(tu))}catch(eu){za(eu)}}function Qa(tu){tu.done?pa(tu.value):ha(tu.value).then(Ya,Bc)}Qa((Js=Js.apply(Ws,Hs||[])).next())})};Object.defineProperty(log,"__esModule",{value:!0}),log.logVersion=void 0,log.getDefaultReporter=vs,log.logDebug=Ts,log.logError=Ss,log.logWarning=Rs,log.reportEvent=Bs,log.reportLog=Is;const t=!1,et=!1,ms=requireReport(),ws=new ms.OKXReporter;function vs(){return ws}const Es=require$$1.version;function Ts(...Ws){if(typeof console<"u")try{(t||window?.okxLogDebug)&&console.log(`[OKX_CONNECT_SDK1] ${Es} `,...Ws)}catch{}}function Ss(...Ws){if(typeof console<"u")try{if((t||window?.okxLogDebug)&&console.error(`[OKX_CONNECT_SDK1] ${Es} `,...Ws),et||!t){let Hs="";Hs+=[...Ws].reduce((Ns,Js)=>{typeof Js=="string"?Ns+=","+Js:typeof Js=="object"&&(Ns+=JSON.stringify(Js))}),ws.sendRecordContent(Hs,ms.OKXReportType.LOG,"")}}catch{}}function Rs(...Ws){if(typeof console<"u")try{(t||window?.okxLogDebug)&&console.warn(`[OKX_CONNECT_SDK1] ${Es} `,...Ws)}catch{}}function Bs(Ws,Hs,Ns){return st(this,arguments,void 0,function*(Js,ha,pa,za=void 0,Ya=void 0,Bc=void 0,Qa=void 0,tu=void 0,eu=void 0){try{yield ws.sendRecordContent(pa,Js,ha,za,Ya,Bc,Qa,tu,eu)}catch{}})}function Is(Ws){return st(this,arguments,void 0,function*(Hs,Ns="default"){})}return log.logVersion=Es,log}var hasRequiredSafejson;function requireSafejson(){if(hasRequiredSafejson)return safejson;hasRequiredSafejson=1,Object.defineProperty(safejson,"__esModule",{value:!0}),safejson.safeJsonParse=ms,safejson.safeJsonStringify=ws;const st=requireLog(),t=vs=>JSON.stringify(vs,(_s,Es)=>typeof Es=="bigint"?Es.toString()+"n":Es),et=vs=>{const _s=/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,Es=vs.replace(_s,(Ts,Ss)=>`:"${Ss}n"`);try{return JSON.parse(Es,(Ts,Ss)=>typeof Ss=="string"&&Ss.match(/^\d+n$/)?BigInt(Ss.substring(0,Ss.length-1)):Ss)}catch{return JSON.parse(vs)}};function ms(vs){if(typeof vs!="string")throw(0,st.logDebug)(vs),new Error(`Cannot safe json parse value of type ${typeof vs}`);try{return et(vs)}catch(_s){return console.error("safeJsonParse error:",_s),vs}}function ws(vs){return typeof vs=="string"?vs:t(vs)||""}return safejson}var stringUtils={};const require$$0$1=getAugmentedNamespace(basics);var hasRequiredStringUtils;function requireStringUtils(){if(hasRequiredStringUtils)return stringUtils;hasRequiredStringUtils=1,Object.defineProperty(stringUtils,"__esModule",{value:!0}),stringUtils.okxfromString=et,stringUtils.okxtoString=ms,stringUtils.alloc=ws,stringUtils.allocUnsafe=vs;const st=require$$0$1,t=requireLog();function et(Rs,Bs="utf8"){const Is=Ss[Bs];if((0,t.logDebug)("okxfromstring ====> "),!Is)throw new Error(`Unsupported encoding "${Bs}"`);return Is.decoder.decode(`${Is.prefix}${Rs}`)}function ms(Rs,Bs="utf8"){const Is=Ss[Bs];if((0,t.logDebug)("okxtoString ====> "),!Is)throw new Error(`Unsupported encoding "${Bs}"`);return Is.encoder.encode(Rs).substring(1)}function ws(Rs=0){return new Uint8Array(Rs)}function vs(Rs=0){return new Uint8Array(Rs)}function _s(Rs,Bs,Is,Ws){return{name:Rs,prefix:Bs,encoder:{name:Rs,prefix:Bs,encode:Is},decoder:{decode:Ws}}}const Es=_s("utf8","u",Rs=>"u"+new TextDecoder("utf8").decode(Rs),Rs=>new TextEncoder().encode(Rs.substring(1))),Ts=_s("ascii","a",Rs=>{let Bs="a";for(let Is=0;Is<Rs.length;Is++){let Ws=Rs[Is];Ws&&String.fromCharCode(Ws)&&(Bs+=String.fromCharCode(Ws))}return Bs},Rs=>{Rs=Rs.substring(1);const Bs=vs(Rs.length);for(let Is=0;Is<Rs.length;Is++)Bs[Is]=Rs.charCodeAt(Is);return Bs}),Ss=Object.assign({utf8:Es,"utf-8":Es,hex:st.bases.base16,latin1:Ts,ascii:Ts,binary:Ts},st.bases);return stringUtils}var cryptoJs$1={exports:{}},core$1={exports:{}},core=core$1.exports,hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(st,t){(function(et,ms){st.exports=ms()})(core,function(){var et=et||function(ms,ws){var vs;if(typeof window<"u"&&window.crypto&&(vs=window.crypto),typeof self<"u"&&self.crypto&&(vs=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(vs=globalThis.crypto),!vs&&typeof window<"u"&&window.msCrypto&&(vs=window.msCrypto),!vs&&typeof window<"u"&&window.crypto&&(vs=window.crypto),!vs&&typeof commonjsRequire=="function")try{vs=requireCryptoBrowserify()}catch{}var _s=function(){if(vs){if(typeof vs.getRandomValues=="function")try{return vs.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof vs.randomBytes=="function")try{return vs.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},Es=Object.create||function(){function pa(){}return function(za){var Ya;return pa.prototype=za,Ya=new pa,pa.prototype=null,Ya}}(),Ts={},Ss=Ts.lib={},Rs=Ss.Base=function(){return{extend:function(pa){var za=Es(this);return pa&&za.mixIn(pa),(!za.hasOwnProperty("init")||this.init===za.init)&&(za.init=function(){za.$super.init.apply(this,arguments)}),za.init.prototype=za,za.$super=this,za},create:function(){var pa=this.extend();return pa.init.apply(pa,arguments),pa},init:function(){},mixIn:function(pa){for(var za in pa)pa.hasOwnProperty(za)&&(this[za]=pa[za]);pa.hasOwnProperty("toString")&&(this.toString=pa.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),Bs=Ss.WordArray=Rs.extend({init:function(pa,za){pa=this.words=pa||[],za!=ws?this.sigBytes=za:this.sigBytes=pa.length*4},toString:function(pa){return(pa||Ws).stringify(this)},concat:function(pa){var za=this.words,Ya=pa.words,Bc=this.sigBytes,Qa=pa.sigBytes;if(this.clamp(),Bc%4)for(var tu=0;tu<Qa;tu++){var eu=Ya[tu>>>2]>>>24-tu%4*8&255;za[Bc+tu>>>2]|=eu<<24-(Bc+tu)%4*8}else for(var ru=0;ru<Qa;ru+=4)za[Bc+ru>>>2]=Ya[ru>>>2];return this.sigBytes+=Qa,this},clamp:function(){var pa=this.words,za=this.sigBytes;pa[za>>>2]&=4294967295<<32-za%4*8,pa.length=ms.ceil(za/4)},clone:function(){var pa=Rs.clone.call(this);return pa.words=this.words.slice(0),pa},random:function(pa){for(var za=[],Ya=0;Ya<pa;Ya+=4)za.push(_s());return new Bs.init(za,pa)}}),Is=Ts.enc={},Ws=Is.Hex={stringify:function(pa){for(var za=pa.words,Ya=pa.sigBytes,Bc=[],Qa=0;Qa<Ya;Qa++){var tu=za[Qa>>>2]>>>24-Qa%4*8&255;Bc.push((tu>>>4).toString(16)),Bc.push((tu&15).toString(16))}return Bc.join("")},parse:function(pa){for(var za=pa.length,Ya=[],Bc=0;Bc<za;Bc+=2)Ya[Bc>>>3]|=parseInt(pa.substr(Bc,2),16)<<24-Bc%8*4;return new Bs.init(Ya,za/2)}},Hs=Is.Latin1={stringify:function(pa){for(var za=pa.words,Ya=pa.sigBytes,Bc=[],Qa=0;Qa<Ya;Qa++){var tu=za[Qa>>>2]>>>24-Qa%4*8&255;Bc.push(String.fromCharCode(tu))}return Bc.join("")},parse:function(pa){for(var za=pa.length,Ya=[],Bc=0;Bc<za;Bc++)Ya[Bc>>>2]|=(pa.charCodeAt(Bc)&255)<<24-Bc%4*8;return new Bs.init(Ya,za)}},Ns=Is.Utf8={stringify:function(pa){try{return decodeURIComponent(escape(Hs.stringify(pa)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(pa){return Hs.parse(unescape(encodeURIComponent(pa)))}},Js=Ss.BufferedBlockAlgorithm=Rs.extend({reset:function(){this._data=new Bs.init,this._nDataBytes=0},_append:function(pa){typeof pa=="string"&&(pa=Ns.parse(pa)),this._data.concat(pa),this._nDataBytes+=pa.sigBytes},_process:function(pa){var za,Ya=this._data,Bc=Ya.words,Qa=Ya.sigBytes,tu=this.blockSize,eu=tu*4,ru=Qa/eu;pa?ru=ms.ceil(ru):ru=ms.max((ru|0)-this._minBufferSize,0);var cu=ru*tu,ou=ms.min(cu*4,Qa);if(cu){for(var Ga=0;Ga<cu;Ga+=tu)this._doProcessBlock(Bc,Ga);za=Bc.splice(0,cu),Ya.sigBytes-=ou}return new Bs.init(za,ou)},clone:function(){var pa=Rs.clone.call(this);return pa._data=this._data.clone(),pa},_minBufferSize:0});Ss.Hasher=Js.extend({cfg:Rs.extend(),init:function(pa){this.cfg=this.cfg.extend(pa),this.reset()},reset:function(){Js.reset.call(this),this._doReset()},update:function(pa){return this._append(pa),this._process(),this},finalize:function(pa){pa&&this._append(pa);var za=this._doFinalize();return za},blockSize:16,_createHelper:function(pa){return function(za,Ya){return new pa.init(Ya).finalize(za)}},_createHmacHelper:function(pa){return function(za,Ya){return new ha.HMAC.init(pa,Ya).finalize(za)}}});var ha=Ts.algo={};return Ts}(Math);return et})}(core$1)),core$1.exports}var x64Core$1={exports:{}},x64Core=x64Core$1.exports,hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(x64Core,function(et){return function(ms){var ws=et,vs=ws.lib,_s=vs.Base,Es=vs.WordArray,Ts=ws.x64={};Ts.Word=_s.extend({init:function(Ss,Rs){this.high=Ss,this.low=Rs}}),Ts.WordArray=_s.extend({init:function(Ss,Rs){Ss=this.words=Ss||[],Rs!=ms?this.sigBytes=Rs:this.sigBytes=Ss.length*8},toX32:function(){for(var Ss=this.words,Rs=Ss.length,Bs=[],Is=0;Is<Rs;Is++){var Ws=Ss[Is];Bs.push(Ws.high),Bs.push(Ws.low)}return Es.create(Bs,this.sigBytes)},clone:function(){for(var Ss=_s.clone.call(this),Rs=Ss.words=this.words.slice(0),Bs=Rs.length,Is=0;Is<Bs;Is++)Rs[Is]=Rs[Is].clone();return Ss}})}(),et})}(x64Core$1)),x64Core$1.exports}var libTypedarrays$1={exports:{}},libTypedarrays=libTypedarrays$1.exports,hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(libTypedarrays,function(et){return function(){if(typeof ArrayBuffer=="function"){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=vs.init,Es=vs.init=function(Ts){if(Ts instanceof ArrayBuffer&&(Ts=new Uint8Array(Ts)),(Ts instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Ts instanceof Uint8ClampedArray||Ts instanceof Int16Array||Ts instanceof Uint16Array||Ts instanceof Int32Array||Ts instanceof Uint32Array||Ts instanceof Float32Array||Ts instanceof Float64Array)&&(Ts=new Uint8Array(Ts.buffer,Ts.byteOffset,Ts.byteLength)),Ts instanceof Uint8Array){for(var Ss=Ts.byteLength,Rs=[],Bs=0;Bs<Ss;Bs++)Rs[Bs>>>2]|=Ts[Bs]<<24-Bs%4*8;_s.call(this,Rs,Ss)}else _s.apply(this,arguments)};Es.prototype=vs}}(),et.lib.WordArray})}(libTypedarrays$1)),libTypedarrays$1.exports}var encUtf16$1={exports:{}},encUtf16=encUtf16$1.exports,hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(encUtf16,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=ms.enc;_s.Utf16=_s.Utf16BE={stringify:function(Ts){for(var Ss=Ts.words,Rs=Ts.sigBytes,Bs=[],Is=0;Is<Rs;Is+=2){var Ws=Ss[Is>>>2]>>>16-Is%4*8&65535;Bs.push(String.fromCharCode(Ws))}return Bs.join("")},parse:function(Ts){for(var Ss=Ts.length,Rs=[],Bs=0;Bs<Ss;Bs++)Rs[Bs>>>1]|=Ts.charCodeAt(Bs)<<16-Bs%2*16;return vs.create(Rs,Ss*2)}},_s.Utf16LE={stringify:function(Ts){for(var Ss=Ts.words,Rs=Ts.sigBytes,Bs=[],Is=0;Is<Rs;Is+=2){var Ws=Es(Ss[Is>>>2]>>>16-Is%4*8&65535);Bs.push(String.fromCharCode(Ws))}return Bs.join("")},parse:function(Ts){for(var Ss=Ts.length,Rs=[],Bs=0;Bs<Ss;Bs++)Rs[Bs>>>1]|=Es(Ts.charCodeAt(Bs)<<16-Bs%2*16);return vs.create(Rs,Ss*2)}};function Es(Ts){return Ts<<8&4278255360|Ts>>>8&16711935}}(),et.enc.Utf16})}(encUtf16$1)),encUtf16$1.exports}var encBase64$1={exports:{}},encBase64=encBase64$1.exports,hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(encBase64,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=ms.enc;_s.Base64={stringify:function(Ts){var Ss=Ts.words,Rs=Ts.sigBytes,Bs=this._map;Ts.clamp();for(var Is=[],Ws=0;Ws<Rs;Ws+=3)for(var Hs=Ss[Ws>>>2]>>>24-Ws%4*8&255,Ns=Ss[Ws+1>>>2]>>>24-(Ws+1)%4*8&255,Js=Ss[Ws+2>>>2]>>>24-(Ws+2)%4*8&255,ha=Hs<<16|Ns<<8|Js,pa=0;pa<4&&Ws+pa*.75<Rs;pa++)Is.push(Bs.charAt(ha>>>6*(3-pa)&63));var za=Bs.charAt(64);if(za)for(;Is.length%4;)Is.push(za);return Is.join("")},parse:function(Ts){var Ss=Ts.length,Rs=this._map,Bs=this._reverseMap;if(!Bs){Bs=this._reverseMap=[];for(var Is=0;Is<Rs.length;Is++)Bs[Rs.charCodeAt(Is)]=Is}var Ws=Rs.charAt(64);if(Ws){var Hs=Ts.indexOf(Ws);Hs!==-1&&(Ss=Hs)}return Es(Ts,Ss,Bs)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function Es(Ts,Ss,Rs){for(var Bs=[],Is=0,Ws=0;Ws<Ss;Ws++)if(Ws%4){var Hs=Rs[Ts.charCodeAt(Ws-1)]<<Ws%4*2,Ns=Rs[Ts.charCodeAt(Ws)]>>>6-Ws%4*2,Js=Hs|Ns;Bs[Is>>>2]|=Js<<24-Is%4*8,Is++}return vs.create(Bs,Is)}}(),et.enc.Base64})}(encBase64$1)),encBase64$1.exports}var encBase64url$1={exports:{}},encBase64url=encBase64url$1.exports,hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(encBase64url,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=ms.enc;_s.Base64url={stringify:function(Ts,Ss){Ss===void 0&&(Ss=!0);var Rs=Ts.words,Bs=Ts.sigBytes,Is=Ss?this._safe_map:this._map;Ts.clamp();for(var Ws=[],Hs=0;Hs<Bs;Hs+=3)for(var Ns=Rs[Hs>>>2]>>>24-Hs%4*8&255,Js=Rs[Hs+1>>>2]>>>24-(Hs+1)%4*8&255,ha=Rs[Hs+2>>>2]>>>24-(Hs+2)%4*8&255,pa=Ns<<16|Js<<8|ha,za=0;za<4&&Hs+za*.75<Bs;za++)Ws.push(Is.charAt(pa>>>6*(3-za)&63));var Ya=Is.charAt(64);if(Ya)for(;Ws.length%4;)Ws.push(Ya);return Ws.join("")},parse:function(Ts,Ss){Ss===void 0&&(Ss=!0);var Rs=Ts.length,Bs=Ss?this._safe_map:this._map,Is=this._reverseMap;if(!Is){Is=this._reverseMap=[];for(var Ws=0;Ws<Bs.length;Ws++)Is[Bs.charCodeAt(Ws)]=Ws}var Hs=Bs.charAt(64);if(Hs){var Ns=Ts.indexOf(Hs);Ns!==-1&&(Rs=Ns)}return Es(Ts,Rs,Is)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function Es(Ts,Ss,Rs){for(var Bs=[],Is=0,Ws=0;Ws<Ss;Ws++)if(Ws%4){var Hs=Rs[Ts.charCodeAt(Ws-1)]<<Ws%4*2,Ns=Rs[Ts.charCodeAt(Ws)]>>>6-Ws%4*2,Js=Hs|Ns;Bs[Is>>>2]|=Js<<24-Is%4*8,Is++}return vs.create(Bs,Is)}}(),et.enc.Base64url})}(encBase64url$1)),encBase64url$1.exports}var md5$1={exports:{}},md5=md5$1.exports,hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(md5,function(et){return function(ms){var ws=et,vs=ws.lib,_s=vs.WordArray,Es=vs.Hasher,Ts=ws.algo,Ss=[];(function(){for(var Ns=0;Ns<64;Ns++)Ss[Ns]=ms.abs(ms.sin(Ns+1))*4294967296|0})();var Rs=Ts.MD5=Es.extend({_doReset:function(){this._hash=new _s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ns,Js){for(var ha=0;ha<16;ha++){var pa=Js+ha,za=Ns[pa];Ns[pa]=(za<<8|za>>>24)&16711935|(za<<24|za>>>8)&4278255360}var Ya=this._hash.words,Bc=Ns[Js+0],Qa=Ns[Js+1],tu=Ns[Js+2],eu=Ns[Js+3],ru=Ns[Js+4],cu=Ns[Js+5],ou=Ns[Js+6],Ga=Ns[Js+7],Xa=Ns[Js+8],Fa=Ns[Js+9],Zs=Ns[Js+10],Wa=Ns[Js+11],Za=Ns[Js+12],iu=Ns[Js+13],au=Ns[Js+14],nu=Ns[Js+15],uu=Ya[0],fu=Ya[1],hu=Ya[2],Eu=Ya[3];uu=Bs(uu,fu,hu,Eu,Bc,7,Ss[0]),Eu=Bs(Eu,uu,fu,hu,Qa,12,Ss[1]),hu=Bs(hu,Eu,uu,fu,tu,17,Ss[2]),fu=Bs(fu,hu,Eu,uu,eu,22,Ss[3]),uu=Bs(uu,fu,hu,Eu,ru,7,Ss[4]),Eu=Bs(Eu,uu,fu,hu,cu,12,Ss[5]),hu=Bs(hu,Eu,uu,fu,ou,17,Ss[6]),fu=Bs(fu,hu,Eu,uu,Ga,22,Ss[7]),uu=Bs(uu,fu,hu,Eu,Xa,7,Ss[8]),Eu=Bs(Eu,uu,fu,hu,Fa,12,Ss[9]),hu=Bs(hu,Eu,uu,fu,Zs,17,Ss[10]),fu=Bs(fu,hu,Eu,uu,Wa,22,Ss[11]),uu=Bs(uu,fu,hu,Eu,Za,7,Ss[12]),Eu=Bs(Eu,uu,fu,hu,iu,12,Ss[13]),hu=Bs(hu,Eu,uu,fu,au,17,Ss[14]),fu=Bs(fu,hu,Eu,uu,nu,22,Ss[15]),uu=Is(uu,fu,hu,Eu,Qa,5,Ss[16]),Eu=Is(Eu,uu,fu,hu,ou,9,Ss[17]),hu=Is(hu,Eu,uu,fu,Wa,14,Ss[18]),fu=Is(fu,hu,Eu,uu,Bc,20,Ss[19]),uu=Is(uu,fu,hu,Eu,cu,5,Ss[20]),Eu=Is(Eu,uu,fu,hu,Zs,9,Ss[21]),hu=Is(hu,Eu,uu,fu,nu,14,Ss[22]),fu=Is(fu,hu,Eu,uu,ru,20,Ss[23]),uu=Is(uu,fu,hu,Eu,Fa,5,Ss[24]),Eu=Is(Eu,uu,fu,hu,au,9,Ss[25]),hu=Is(hu,Eu,uu,fu,eu,14,Ss[26]),fu=Is(fu,hu,Eu,uu,Xa,20,Ss[27]),uu=Is(uu,fu,hu,Eu,iu,5,Ss[28]),Eu=Is(Eu,uu,fu,hu,tu,9,Ss[29]),hu=Is(hu,Eu,uu,fu,Ga,14,Ss[30]),fu=Is(fu,hu,Eu,uu,Za,20,Ss[31]),uu=Ws(uu,fu,hu,Eu,cu,4,Ss[32]),Eu=Ws(Eu,uu,fu,hu,Xa,11,Ss[33]),hu=Ws(hu,Eu,uu,fu,Wa,16,Ss[34]),fu=Ws(fu,hu,Eu,uu,au,23,Ss[35]),uu=Ws(uu,fu,hu,Eu,Qa,4,Ss[36]),Eu=Ws(Eu,uu,fu,hu,ru,11,Ss[37]),hu=Ws(hu,Eu,uu,fu,Ga,16,Ss[38]),fu=Ws(fu,hu,Eu,uu,Zs,23,Ss[39]),uu=Ws(uu,fu,hu,Eu,iu,4,Ss[40]),Eu=Ws(Eu,uu,fu,hu,Bc,11,Ss[41]),hu=Ws(hu,Eu,uu,fu,eu,16,Ss[42]),fu=Ws(fu,hu,Eu,uu,ou,23,Ss[43]),uu=Ws(uu,fu,hu,Eu,Fa,4,Ss[44]),Eu=Ws(Eu,uu,fu,hu,Za,11,Ss[45]),hu=Ws(hu,Eu,uu,fu,nu,16,Ss[46]),fu=Ws(fu,hu,Eu,uu,tu,23,Ss[47]),uu=Hs(uu,fu,hu,Eu,Bc,6,Ss[48]),Eu=Hs(Eu,uu,fu,hu,Ga,10,Ss[49]),hu=Hs(hu,Eu,uu,fu,au,15,Ss[50]),fu=Hs(fu,hu,Eu,uu,cu,21,Ss[51]),uu=Hs(uu,fu,hu,Eu,Za,6,Ss[52]),Eu=Hs(Eu,uu,fu,hu,eu,10,Ss[53]),hu=Hs(hu,Eu,uu,fu,Zs,15,Ss[54]),fu=Hs(fu,hu,Eu,uu,Qa,21,Ss[55]),uu=Hs(uu,fu,hu,Eu,Xa,6,Ss[56]),Eu=Hs(Eu,uu,fu,hu,nu,10,Ss[57]),hu=Hs(hu,Eu,uu,fu,ou,15,Ss[58]),fu=Hs(fu,hu,Eu,uu,iu,21,Ss[59]),uu=Hs(uu,fu,hu,Eu,ru,6,Ss[60]),Eu=Hs(Eu,uu,fu,hu,Wa,10,Ss[61]),hu=Hs(hu,Eu,uu,fu,tu,15,Ss[62]),fu=Hs(fu,hu,Eu,uu,Fa,21,Ss[63]),Ya[0]=Ya[0]+uu|0,Ya[1]=Ya[1]+fu|0,Ya[2]=Ya[2]+hu|0,Ya[3]=Ya[3]+Eu|0},_doFinalize:function(){var Ns=this._data,Js=Ns.words,ha=this._nDataBytes*8,pa=Ns.sigBytes*8;Js[pa>>>5]|=128<<24-pa%32;var za=ms.floor(ha/4294967296),Ya=ha;Js[(pa+64>>>9<<4)+15]=(za<<8|za>>>24)&16711935|(za<<24|za>>>8)&4278255360,Js[(pa+64>>>9<<4)+14]=(Ya<<8|Ya>>>24)&16711935|(Ya<<24|Ya>>>8)&4278255360,Ns.sigBytes=(Js.length+1)*4,this._process();for(var Bc=this._hash,Qa=Bc.words,tu=0;tu<4;tu++){var eu=Qa[tu];Qa[tu]=(eu<<8|eu>>>24)&16711935|(eu<<24|eu>>>8)&4278255360}return Bc},clone:function(){var Ns=Es.clone.call(this);return Ns._hash=this._hash.clone(),Ns}});function Bs(Ns,Js,ha,pa,za,Ya,Bc){var Qa=Ns+(Js&ha|~Js&pa)+za+Bc;return(Qa<<Ya|Qa>>>32-Ya)+Js}function Is(Ns,Js,ha,pa,za,Ya,Bc){var Qa=Ns+(Js&pa|ha&~pa)+za+Bc;return(Qa<<Ya|Qa>>>32-Ya)+Js}function Ws(Ns,Js,ha,pa,za,Ya,Bc){var Qa=Ns+(Js^ha^pa)+za+Bc;return(Qa<<Ya|Qa>>>32-Ya)+Js}function Hs(Ns,Js,ha,pa,za,Ya,Bc){var Qa=Ns+(ha^(Js|~pa))+za+Bc;return(Qa<<Ya|Qa>>>32-Ya)+Js}ws.MD5=Es._createHelper(Rs),ws.HmacMD5=Es._createHmacHelper(Rs)}(Math),et.MD5})}(md5$1)),md5$1.exports}var sha1$1={exports:{}},sha1=sha1$1.exports,hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(sha1,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=ws.Hasher,Es=ms.algo,Ts=[],Ss=Es.SHA1=_s.extend({_doReset:function(){this._hash=new vs.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Rs,Bs){for(var Is=this._hash.words,Ws=Is[0],Hs=Is[1],Ns=Is[2],Js=Is[3],ha=Is[4],pa=0;pa<80;pa++){if(pa<16)Ts[pa]=Rs[Bs+pa]|0;else{var za=Ts[pa-3]^Ts[pa-8]^Ts[pa-14]^Ts[pa-16];Ts[pa]=za<<1|za>>>31}var Ya=(Ws<<5|Ws>>>27)+ha+Ts[pa];pa<20?Ya+=(Hs&Ns|~Hs&Js)+1518500249:pa<40?Ya+=(Hs^Ns^Js)+1859775393:pa<60?Ya+=(Hs&Ns|Hs&Js|Ns&Js)-1894007588:Ya+=(Hs^Ns^Js)-899497514,ha=Js,Js=Ns,Ns=Hs<<30|Hs>>>2,Hs=Ws,Ws=Ya}Is[0]=Is[0]+Ws|0,Is[1]=Is[1]+Hs|0,Is[2]=Is[2]+Ns|0,Is[3]=Is[3]+Js|0,Is[4]=Is[4]+ha|0},_doFinalize:function(){var Rs=this._data,Bs=Rs.words,Is=this._nDataBytes*8,Ws=Rs.sigBytes*8;return Bs[Ws>>>5]|=128<<24-Ws%32,Bs[(Ws+64>>>9<<4)+14]=Math.floor(Is/4294967296),Bs[(Ws+64>>>9<<4)+15]=Is,Rs.sigBytes=Bs.length*4,this._process(),this._hash},clone:function(){var Rs=_s.clone.call(this);return Rs._hash=this._hash.clone(),Rs}});ms.SHA1=_s._createHelper(Ss),ms.HmacSHA1=_s._createHmacHelper(Ss)}(),et.SHA1})}(sha1$1)),sha1$1.exports}var sha256$1={exports:{}},sha256=sha256$1.exports,hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(sha256,function(et){return function(ms){var ws=et,vs=ws.lib,_s=vs.WordArray,Es=vs.Hasher,Ts=ws.algo,Ss=[],Rs=[];(function(){function Ws(ha){for(var pa=ms.sqrt(ha),za=2;za<=pa;za++)if(!(ha%za))return!1;return!0}function Hs(ha){return(ha-(ha|0))*4294967296|0}for(var Ns=2,Js=0;Js<64;)Ws(Ns)&&(Js<8&&(Ss[Js]=Hs(ms.pow(Ns,1/2))),Rs[Js]=Hs(ms.pow(Ns,1/3)),Js++),Ns++})();var Bs=[],Is=Ts.SHA256=Es.extend({_doReset:function(){this._hash=new _s.init(Ss.slice(0))},_doProcessBlock:function(Ws,Hs){for(var Ns=this._hash.words,Js=Ns[0],ha=Ns[1],pa=Ns[2],za=Ns[3],Ya=Ns[4],Bc=Ns[5],Qa=Ns[6],tu=Ns[7],eu=0;eu<64;eu++){if(eu<16)Bs[eu]=Ws[Hs+eu]|0;else{var ru=Bs[eu-15],cu=(ru<<25|ru>>>7)^(ru<<14|ru>>>18)^ru>>>3,ou=Bs[eu-2],Ga=(ou<<15|ou>>>17)^(ou<<13|ou>>>19)^ou>>>10;Bs[eu]=cu+Bs[eu-7]+Ga+Bs[eu-16]}var Xa=Ya&Bc^~Ya&Qa,Fa=Js&ha^Js&pa^ha&pa,Zs=(Js<<30|Js>>>2)^(Js<<19|Js>>>13)^(Js<<10|Js>>>22),Wa=(Ya<<26|Ya>>>6)^(Ya<<21|Ya>>>11)^(Ya<<7|Ya>>>25),Za=tu+Wa+Xa+Rs[eu]+Bs[eu],iu=Zs+Fa;tu=Qa,Qa=Bc,Bc=Ya,Ya=za+Za|0,za=pa,pa=ha,ha=Js,Js=Za+iu|0}Ns[0]=Ns[0]+Js|0,Ns[1]=Ns[1]+ha|0,Ns[2]=Ns[2]+pa|0,Ns[3]=Ns[3]+za|0,Ns[4]=Ns[4]+Ya|0,Ns[5]=Ns[5]+Bc|0,Ns[6]=Ns[6]+Qa|0,Ns[7]=Ns[7]+tu|0},_doFinalize:function(){var Ws=this._data,Hs=Ws.words,Ns=this._nDataBytes*8,Js=Ws.sigBytes*8;return Hs[Js>>>5]|=128<<24-Js%32,Hs[(Js+64>>>9<<4)+14]=ms.floor(Ns/4294967296),Hs[(Js+64>>>9<<4)+15]=Ns,Ws.sigBytes=Hs.length*4,this._process(),this._hash},clone:function(){var Ws=Es.clone.call(this);return Ws._hash=this._hash.clone(),Ws}});ws.SHA256=Es._createHelper(Is),ws.HmacSHA256=Es._createHmacHelper(Is)}(Math),et.SHA256})}(sha256$1)),sha256$1.exports}var sha224$1={exports:{}},sha224=sha224$1.exports,hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireSha256())})(sha224,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=ms.algo,Es=_s.SHA256,Ts=_s.SHA224=Es.extend({_doReset:function(){this._hash=new vs.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Ss=Es._doFinalize.call(this);return Ss.sigBytes-=4,Ss}});ms.SHA224=Es._createHelper(Ts),ms.HmacSHA224=Es._createHmacHelper(Ts)}(),et.SHA224})}(sha224$1)),sha224$1.exports}var sha512$2={exports:{}},sha512$1=sha512$2.exports,hasRequiredSha512$1;function requireSha512$1(){return hasRequiredSha512$1||(hasRequiredSha512$1=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireX64Core())})(sha512$1,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.Hasher,_s=ms.x64,Es=_s.Word,Ts=_s.WordArray,Ss=ms.algo;function Rs(){return Es.create.apply(Es,arguments)}var Bs=[Rs(1116352408,3609767458),Rs(1899447441,602891725),Rs(3049323471,3964484399),Rs(3921009573,2173295548),Rs(961987163,4081628472),Rs(1508970993,3053834265),Rs(2453635748,2937671579),Rs(2870763221,3664609560),Rs(3624381080,2734883394),Rs(310598401,1164996542),Rs(607225278,1323610764),Rs(1426881987,3590304994),Rs(1925078388,4068182383),Rs(2162078206,991336113),Rs(2614888103,633803317),Rs(3248222580,3479774868),Rs(3835390401,2666613458),Rs(4022224774,944711139),Rs(264347078,2341262773),Rs(604807628,2007800933),Rs(770255983,1495990901),Rs(1249150122,1856431235),Rs(1555081692,3175218132),Rs(1996064986,2198950837),Rs(2554220882,3999719339),Rs(2821834349,766784016),Rs(2952996808,2566594879),Rs(3210313671,3203337956),Rs(3336571891,1034457026),Rs(3584528711,2466948901),Rs(113926993,3758326383),Rs(338241895,168717936),Rs(666307205,1188179964),Rs(773529912,1546045734),Rs(1294757372,1522805485),Rs(1396182291,2643833823),Rs(1695183700,2343527390),Rs(1986661051,1014477480),Rs(2177026350,1206759142),Rs(2456956037,344077627),Rs(2730485921,1290863460),Rs(2820302411,3158454273),Rs(3259730800,3505952657),Rs(3345764771,106217008),Rs(3516065817,3606008344),Rs(3600352804,1432725776),Rs(4094571909,1467031594),Rs(275423344,851169720),Rs(430227734,3100823752),Rs(506948616,1363258195),Rs(659060556,3750685593),Rs(883997877,3785050280),Rs(958139571,3318307427),Rs(1322822218,3812723403),Rs(1537002063,2003034995),Rs(1747873779,3602036899),Rs(1955562222,1575990012),Rs(2024104815,1125592928),Rs(2227730452,2716904306),Rs(2361852424,442776044),Rs(2428436474,593698344),Rs(2756734187,3733110249),Rs(3204031479,2999351573),Rs(3329325298,3815920427),Rs(3391569614,3928383900),Rs(3515267271,566280711),Rs(3940187606,3454069534),Rs(4118630271,4000239992),Rs(116418474,1914138554),Rs(174292421,2731055270),Rs(289380356,3203993006),Rs(460393269,320620315),Rs(685471733,587496836),Rs(852142971,1086792851),Rs(1017036298,365543100),Rs(1126000580,2618297676),Rs(1288033470,3409855158),Rs(1501505948,4234509866),Rs(1607167915,987167468),Rs(1816402316,1246189591)],Is=[];(function(){for(var Hs=0;Hs<80;Hs++)Is[Hs]=Rs()})();var Ws=Ss.SHA512=vs.extend({_doReset:function(){this._hash=new Ts.init([new Es.init(1779033703,4089235720),new Es.init(3144134277,2227873595),new Es.init(1013904242,4271175723),new Es.init(2773480762,1595750129),new Es.init(1359893119,2917565137),new Es.init(2600822924,725511199),new Es.init(528734635,4215389547),new Es.init(1541459225,327033209)])},_doProcessBlock:function(Hs,Ns){for(var Js=this._hash.words,ha=Js[0],pa=Js[1],za=Js[2],Ya=Js[3],Bc=Js[4],Qa=Js[5],tu=Js[6],eu=Js[7],ru=ha.high,cu=ha.low,ou=pa.high,Ga=pa.low,Xa=za.high,Fa=za.low,Zs=Ya.high,Wa=Ya.low,Za=Bc.high,iu=Bc.low,au=Qa.high,nu=Qa.low,uu=tu.high,fu=tu.low,hu=eu.high,Eu=eu.low,$u=ru,Ou=cu,gu=ou,yu=Ga,Tu=Xa,du=Fa,wu=Zs,Ru=Wa,Ku=Za,Zu=iu,tl=au,sl=nu,gl=uu,Fu=fu,Mu=hu,Ju=Eu,vf=0;vf<80;vf++){var wf,el,il=Is[vf];if(vf<16)el=il.high=Hs[Ns+vf*2]|0,wf=il.low=Hs[Ns+vf*2+1]|0;else{var hl=Is[vf-15],cl=hl.high,ul=hl.low,yl=(cl>>>1|ul<<31)^(cl>>>8|ul<<24)^cl>>>7,Cl=(ul>>>1|cl<<31)^(ul>>>8|cl<<24)^(ul>>>7|cl<<25),Bu=Is[vf-2],pu=Bu.high,xu=Bu.low,qu=(pu>>>19|xu<<13)^(pu<<3|xu>>>29)^pu>>>6,Pu=(xu>>>19|pu<<13)^(xu<<3|pu>>>29)^(xu>>>6|pu<<26),xf=Is[vf-7],nl=xf.high,wl=xf.low,Il=Is[vf-16],Rl=Il.high,fl=Il.low;wf=Cl+wl,el=yl+nl+(wf>>>0<Cl>>>0?1:0),wf=wf+Pu,el=el+qu+(wf>>>0<Pu>>>0?1:0),wf=wf+fl,el=el+Rl+(wf>>>0<fl>>>0?1:0),il.high=el,il.low=wf}var Ml=Ku&tl^~Ku&gl,Ul=Zu&sl^~Zu&Fu,kl=$u&gu^$u&Tu^gu&Tu,Fl=Ou&yu^Ou&du^yu&du,Pl=($u>>>28|Ou<<4)^($u<<30|Ou>>>2)^($u<<25|Ou>>>7),Wl=(Ou>>>28|$u<<4)^(Ou<<30|$u>>>2)^(Ou<<25|$u>>>7),jl=(Ku>>>14|Zu<<18)^(Ku>>>18|Zu<<14)^(Ku<<23|Zu>>>9),Nu=(Zu>>>14|Ku<<18)^(Zu>>>18|Ku<<14)^(Zu<<23|Ku>>>9),mu=Bs[vf],_u=mu.high,Lu=mu.low,Vu=Ju+Nu,vu=Mu+jl+(Vu>>>0<Ju>>>0?1:0),Vu=Vu+Ul,vu=vu+Ml+(Vu>>>0<Ul>>>0?1:0),Vu=Vu+Lu,vu=vu+_u+(Vu>>>0<Lu>>>0?1:0),Vu=Vu+wf,vu=vu+el+(Vu>>>0<wf>>>0?1:0),Su=Wl+Fl,Iu=Pl+kl+(Su>>>0<Wl>>>0?1:0);Mu=gl,Ju=Fu,gl=tl,Fu=sl,tl=Ku,sl=Zu,Zu=Ru+Vu|0,Ku=wu+vu+(Zu>>>0<Ru>>>0?1:0)|0,wu=Tu,Ru=du,Tu=gu,du=yu,gu=$u,yu=Ou,Ou=Vu+Su|0,$u=vu+Iu+(Ou>>>0<Vu>>>0?1:0)|0}cu=ha.low=cu+Ou,ha.high=ru+$u+(cu>>>0<Ou>>>0?1:0),Ga=pa.low=Ga+yu,pa.high=ou+gu+(Ga>>>0<yu>>>0?1:0),Fa=za.low=Fa+du,za.high=Xa+Tu+(Fa>>>0<du>>>0?1:0),Wa=Ya.low=Wa+Ru,Ya.high=Zs+wu+(Wa>>>0<Ru>>>0?1:0),iu=Bc.low=iu+Zu,Bc.high=Za+Ku+(iu>>>0<Zu>>>0?1:0),nu=Qa.low=nu+sl,Qa.high=au+tl+(nu>>>0<sl>>>0?1:0),fu=tu.low=fu+Fu,tu.high=uu+gl+(fu>>>0<Fu>>>0?1:0),Eu=eu.low=Eu+Ju,eu.high=hu+Mu+(Eu>>>0<Ju>>>0?1:0)},_doFinalize:function(){var Hs=this._data,Ns=Hs.words,Js=this._nDataBytes*8,ha=Hs.sigBytes*8;Ns[ha>>>5]|=128<<24-ha%32,Ns[(ha+128>>>10<<5)+30]=Math.floor(Js/4294967296),Ns[(ha+128>>>10<<5)+31]=Js,Hs.sigBytes=Ns.length*4,this._process();var pa=this._hash.toX32();return pa},clone:function(){var Hs=vs.clone.call(this);return Hs._hash=this._hash.clone(),Hs},blockSize:1024/32});ms.SHA512=vs._createHelper(Ws),ms.HmacSHA512=vs._createHmacHelper(Ws)}(),et.SHA512})}(sha512$2)),sha512$2.exports}var sha384$1={exports:{}},sha384=sha384$1.exports,hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireX64Core(),requireSha512$1())})(sha384,function(et){return function(){var ms=et,ws=ms.x64,vs=ws.Word,_s=ws.WordArray,Es=ms.algo,Ts=Es.SHA512,Ss=Es.SHA384=Ts.extend({_doReset:function(){this._hash=new _s.init([new vs.init(3418070365,3238371032),new vs.init(1654270250,914150663),new vs.init(2438529370,812702999),new vs.init(355462360,4144912697),new vs.init(1731405415,4290775857),new vs.init(2394180231,1750603025),new vs.init(3675008525,1694076839),new vs.init(1203062813,3204075428)])},_doFinalize:function(){var Rs=Ts._doFinalize.call(this);return Rs.sigBytes-=16,Rs}});ms.SHA384=Ts._createHelper(Ss),ms.HmacSHA384=Ts._createHmacHelper(Ss)}(),et.SHA384})}(sha384$1)),sha384$1.exports}var sha3$1={exports:{}},sha3=sha3$1.exports,hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireX64Core())})(sha3,function(et){return function(ms){var ws=et,vs=ws.lib,_s=vs.WordArray,Es=vs.Hasher,Ts=ws.x64,Ss=Ts.Word,Rs=ws.algo,Bs=[],Is=[],Ws=[];(function(){for(var Js=1,ha=0,pa=0;pa<24;pa++){Bs[Js+5*ha]=(pa+1)*(pa+2)/2%64;var za=ha%5,Ya=(2*Js+3*ha)%5;Js=za,ha=Ya}for(var Js=0;Js<5;Js++)for(var ha=0;ha<5;ha++)Is[Js+5*ha]=ha+(2*Js+3*ha)%5*5;for(var Bc=1,Qa=0;Qa<24;Qa++){for(var tu=0,eu=0,ru=0;ru<7;ru++){if(Bc&1){var cu=(1<<ru)-1;cu<32?eu^=1<<cu:tu^=1<<cu-32}Bc&128?Bc=Bc<<1^113:Bc<<=1}Ws[Qa]=Ss.create(tu,eu)}})();var Hs=[];(function(){for(var Js=0;Js<25;Js++)Hs[Js]=Ss.create()})();var Ns=Rs.SHA3=Es.extend({cfg:Es.cfg.extend({outputLength:512}),_doReset:function(){for(var Js=this._state=[],ha=0;ha<25;ha++)Js[ha]=new Ss.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Js,ha){for(var pa=this._state,za=this.blockSize/2,Ya=0;Ya<za;Ya++){var Bc=Js[ha+2*Ya],Qa=Js[ha+2*Ya+1];Bc=(Bc<<8|Bc>>>24)&16711935|(Bc<<24|Bc>>>8)&4278255360,Qa=(Qa<<8|Qa>>>24)&16711935|(Qa<<24|Qa>>>8)&4278255360;var tu=pa[Ya];tu.high^=Qa,tu.low^=Bc}for(var eu=0;eu<24;eu++){for(var ru=0;ru<5;ru++){for(var cu=0,ou=0,Ga=0;Ga<5;Ga++){var tu=pa[ru+5*Ga];cu^=tu.high,ou^=tu.low}var Xa=Hs[ru];Xa.high=cu,Xa.low=ou}for(var ru=0;ru<5;ru++)for(var Fa=Hs[(ru+4)%5],Zs=Hs[(ru+1)%5],Wa=Zs.high,Za=Zs.low,cu=Fa.high^(Wa<<1|Za>>>31),ou=Fa.low^(Za<<1|Wa>>>31),Ga=0;Ga<5;Ga++){var tu=pa[ru+5*Ga];tu.high^=cu,tu.low^=ou}for(var iu=1;iu<25;iu++){var cu,ou,tu=pa[iu],au=tu.high,nu=tu.low,uu=Bs[iu];uu<32?(cu=au<<uu|nu>>>32-uu,ou=nu<<uu|au>>>32-uu):(cu=nu<<uu-32|au>>>64-uu,ou=au<<uu-32|nu>>>64-uu);var fu=Hs[Is[iu]];fu.high=cu,fu.low=ou}var hu=Hs[0],Eu=pa[0];hu.high=Eu.high,hu.low=Eu.low;for(var ru=0;ru<5;ru++)for(var Ga=0;Ga<5;Ga++){var iu=ru+5*Ga,tu=pa[iu],$u=Hs[iu],Ou=Hs[(ru+1)%5+5*Ga],gu=Hs[(ru+2)%5+5*Ga];tu.high=$u.high^~Ou.high&gu.high,tu.low=$u.low^~Ou.low&gu.low}var tu=pa[0],yu=Ws[eu];tu.high^=yu.high,tu.low^=yu.low}},_doFinalize:function(){var Js=this._data,ha=Js.words;this._nDataBytes*8;var pa=Js.sigBytes*8,za=this.blockSize*32;ha[pa>>>5]|=1<<24-pa%32,ha[(ms.ceil((pa+1)/za)*za>>>5)-1]|=128,Js.sigBytes=ha.length*4,this._process();for(var Ya=this._state,Bc=this.cfg.outputLength/8,Qa=Bc/8,tu=[],eu=0;eu<Qa;eu++){var ru=Ya[eu],cu=ru.high,ou=ru.low;cu=(cu<<8|cu>>>24)&16711935|(cu<<24|cu>>>8)&4278255360,ou=(ou<<8|ou>>>24)&16711935|(ou<<24|ou>>>8)&4278255360,tu.push(ou),tu.push(cu)}return new _s.init(tu,Bc)},clone:function(){for(var Js=Es.clone.call(this),ha=Js._state=this._state.slice(0),pa=0;pa<25;pa++)ha[pa]=ha[pa].clone();return Js}});ws.SHA3=Es._createHelper(Ns),ws.HmacSHA3=Es._createHmacHelper(Ns)}(Math),et.SHA3})}(sha3$1)),sha3$1.exports}var ripemd160$1={exports:{}},ripemd160=ripemd160$1.exports,hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(ripemd160,function(et){/** @preserve
			(c) 2012 by CÃ©dric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(ms){var ws=et,vs=ws.lib,_s=vs.WordArray,Es=vs.Hasher,Ts=ws.algo,Ss=_s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Rs=_s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Bs=_s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Is=_s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ws=_s.create([0,1518500249,1859775393,2400959708,2840853838]),Hs=_s.create([1352829926,1548603684,1836072691,2053994217,0]),Ns=Ts.RIPEMD160=Es.extend({_doReset:function(){this._hash=_s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Qa,tu){for(var eu=0;eu<16;eu++){var ru=tu+eu,cu=Qa[ru];Qa[ru]=(cu<<8|cu>>>24)&16711935|(cu<<24|cu>>>8)&4278255360}var ou=this._hash.words,Ga=Ws.words,Xa=Hs.words,Fa=Ss.words,Zs=Rs.words,Wa=Bs.words,Za=Is.words,iu,au,nu,uu,fu,hu,Eu,$u,Ou,gu;hu=iu=ou[0],Eu=au=ou[1],$u=nu=ou[2],Ou=uu=ou[3],gu=fu=ou[4];for(var yu,eu=0;eu<80;eu+=1)yu=iu+Qa[tu+Fa[eu]]|0,eu<16?yu+=Js(au,nu,uu)+Ga[0]:eu<32?yu+=ha(au,nu,uu)+Ga[1]:eu<48?yu+=pa(au,nu,uu)+Ga[2]:eu<64?yu+=za(au,nu,uu)+Ga[3]:yu+=Ya(au,nu,uu)+Ga[4],yu=yu|0,yu=Bc(yu,Wa[eu]),yu=yu+fu|0,iu=fu,fu=uu,uu=Bc(nu,10),nu=au,au=yu,yu=hu+Qa[tu+Zs[eu]]|0,eu<16?yu+=Ya(Eu,$u,Ou)+Xa[0]:eu<32?yu+=za(Eu,$u,Ou)+Xa[1]:eu<48?yu+=pa(Eu,$u,Ou)+Xa[2]:eu<64?yu+=ha(Eu,$u,Ou)+Xa[3]:yu+=Js(Eu,$u,Ou)+Xa[4],yu=yu|0,yu=Bc(yu,Za[eu]),yu=yu+gu|0,hu=gu,gu=Ou,Ou=Bc($u,10),$u=Eu,Eu=yu;yu=ou[1]+nu+Ou|0,ou[1]=ou[2]+uu+gu|0,ou[2]=ou[3]+fu+hu|0,ou[3]=ou[4]+iu+Eu|0,ou[4]=ou[0]+au+$u|0,ou[0]=yu},_doFinalize:function(){var Qa=this._data,tu=Qa.words,eu=this._nDataBytes*8,ru=Qa.sigBytes*8;tu[ru>>>5]|=128<<24-ru%32,tu[(ru+64>>>9<<4)+14]=(eu<<8|eu>>>24)&16711935|(eu<<24|eu>>>8)&4278255360,Qa.sigBytes=(tu.length+1)*4,this._process();for(var cu=this._hash,ou=cu.words,Ga=0;Ga<5;Ga++){var Xa=ou[Ga];ou[Ga]=(Xa<<8|Xa>>>24)&16711935|(Xa<<24|Xa>>>8)&4278255360}return cu},clone:function(){var Qa=Es.clone.call(this);return Qa._hash=this._hash.clone(),Qa}});function Js(Qa,tu,eu){return Qa^tu^eu}function ha(Qa,tu,eu){return Qa&tu|~Qa&eu}function pa(Qa,tu,eu){return(Qa|~tu)^eu}function za(Qa,tu,eu){return Qa&eu|tu&~eu}function Ya(Qa,tu,eu){return Qa^(tu|~eu)}function Bc(Qa,tu){return Qa<<tu|Qa>>>32-tu}ws.RIPEMD160=Es._createHelper(Ns),ws.HmacRIPEMD160=Es._createHmacHelper(Ns)}(),et.RIPEMD160})}(ripemd160$1)),ripemd160$1.exports}var hmac$1={exports:{}},hmac=hmac$1.exports,hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(st,t){(function(et,ms){st.exports=ms(requireCore())})(hmac,function(et){(function(){var ms=et,ws=ms.lib,vs=ws.Base,_s=ms.enc,Es=_s.Utf8,Ts=ms.algo;Ts.HMAC=vs.extend({init:function(Ss,Rs){Ss=this._hasher=new Ss.init,typeof Rs=="string"&&(Rs=Es.parse(Rs));var Bs=Ss.blockSize,Is=Bs*4;Rs.sigBytes>Is&&(Rs=Ss.finalize(Rs)),Rs.clamp();for(var Ws=this._oKey=Rs.clone(),Hs=this._iKey=Rs.clone(),Ns=Ws.words,Js=Hs.words,ha=0;ha<Bs;ha++)Ns[ha]^=1549556828,Js[ha]^=909522486;Ws.sigBytes=Hs.sigBytes=Is,this.reset()},reset:function(){var Ss=this._hasher;Ss.reset(),Ss.update(this._iKey)},update:function(Ss){return this._hasher.update(Ss),this},finalize:function(Ss){var Rs=this._hasher,Bs=Rs.finalize(Ss);Rs.reset();var Is=Rs.finalize(this._oKey.clone().concat(Bs));return Is}})})()})}(hmac$1)),hmac$1.exports}var pbkdf2$1={exports:{}},pbkdf2=pbkdf2$1.exports,hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireSha256(),requireHmac())})(pbkdf2,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.Base,_s=ws.WordArray,Es=ms.algo,Ts=Es.SHA256,Ss=Es.HMAC,Rs=Es.PBKDF2=vs.extend({cfg:vs.extend({keySize:128/32,hasher:Ts,iterations:25e4}),init:function(Bs){this.cfg=this.cfg.extend(Bs)},compute:function(Bs,Is){for(var Ws=this.cfg,Hs=Ss.create(Ws.hasher,Bs),Ns=_s.create(),Js=_s.create([1]),ha=Ns.words,pa=Js.words,za=Ws.keySize,Ya=Ws.iterations;ha.length<za;){var Bc=Hs.update(Is).finalize(Js);Hs.reset();for(var Qa=Bc.words,tu=Qa.length,eu=Bc,ru=1;ru<Ya;ru++){eu=Hs.finalize(eu),Hs.reset();for(var cu=eu.words,ou=0;ou<tu;ou++)Qa[ou]^=cu[ou]}Ns.concat(Bc),pa[0]++}return Ns.sigBytes=za*4,Ns}});ms.PBKDF2=function(Bs,Is,Ws){return Rs.create(Ws).compute(Bs,Is)}}(),et.PBKDF2})}(pbkdf2$1)),pbkdf2$1.exports}var evpkdf$1={exports:{}},evpkdf=evpkdf$1.exports,hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireSha1(),requireHmac())})(evpkdf,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.Base,_s=ws.WordArray,Es=ms.algo,Ts=Es.MD5,Ss=Es.EvpKDF=vs.extend({cfg:vs.extend({keySize:128/32,hasher:Ts,iterations:1}),init:function(Rs){this.cfg=this.cfg.extend(Rs)},compute:function(Rs,Bs){for(var Is,Ws=this.cfg,Hs=Ws.hasher.create(),Ns=_s.create(),Js=Ns.words,ha=Ws.keySize,pa=Ws.iterations;Js.length<ha;){Is&&Hs.update(Is),Is=Hs.update(Rs).finalize(Bs),Hs.reset();for(var za=1;za<pa;za++)Is=Hs.finalize(Is),Hs.reset();Ns.concat(Is)}return Ns.sigBytes=ha*4,Ns}});ms.EvpKDF=function(Rs,Bs,Is){return Ss.create(Is).compute(Rs,Bs)}}(),et.EvpKDF})}(evpkdf$1)),evpkdf$1.exports}var cipherCore$1={exports:{}},cipherCore=cipherCore$1.exports,hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEvpkdf())})(cipherCore,function(et){et.lib.Cipher||function(ms){var ws=et,vs=ws.lib,_s=vs.Base,Es=vs.WordArray,Ts=vs.BufferedBlockAlgorithm,Ss=ws.enc;Ss.Utf8;var Rs=Ss.Base64,Bs=ws.algo,Is=Bs.EvpKDF,Ws=vs.Cipher=Ts.extend({cfg:_s.extend(),createEncryptor:function(cu,ou){return this.create(this._ENC_XFORM_MODE,cu,ou)},createDecryptor:function(cu,ou){return this.create(this._DEC_XFORM_MODE,cu,ou)},init:function(cu,ou,Ga){this.cfg=this.cfg.extend(Ga),this._xformMode=cu,this._key=ou,this.reset()},reset:function(){Ts.reset.call(this),this._doReset()},process:function(cu){return this._append(cu),this._process()},finalize:function(cu){cu&&this._append(cu);var ou=this._doFinalize();return ou},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function cu(ou){return typeof ou=="string"?ru:Qa}return function(ou){return{encrypt:function(Ga,Xa,Fa){return cu(Xa).encrypt(ou,Ga,Xa,Fa)},decrypt:function(Ga,Xa,Fa){return cu(Xa).decrypt(ou,Ga,Xa,Fa)}}}}()});vs.StreamCipher=Ws.extend({_doFinalize:function(){var cu=this._process(!0);return cu},blockSize:1});var Hs=ws.mode={},Ns=vs.BlockCipherMode=_s.extend({createEncryptor:function(cu,ou){return this.Encryptor.create(cu,ou)},createDecryptor:function(cu,ou){return this.Decryptor.create(cu,ou)},init:function(cu,ou){this._cipher=cu,this._iv=ou}}),Js=Hs.CBC=function(){var cu=Ns.extend();cu.Encryptor=cu.extend({processBlock:function(Ga,Xa){var Fa=this._cipher,Zs=Fa.blockSize;ou.call(this,Ga,Xa,Zs),Fa.encryptBlock(Ga,Xa),this._prevBlock=Ga.slice(Xa,Xa+Zs)}}),cu.Decryptor=cu.extend({processBlock:function(Ga,Xa){var Fa=this._cipher,Zs=Fa.blockSize,Wa=Ga.slice(Xa,Xa+Zs);Fa.decryptBlock(Ga,Xa),ou.call(this,Ga,Xa,Zs),this._prevBlock=Wa}});function ou(Ga,Xa,Fa){var Zs,Wa=this._iv;Wa?(Zs=Wa,this._iv=ms):Zs=this._prevBlock;for(var Za=0;Za<Fa;Za++)Ga[Xa+Za]^=Zs[Za]}return cu}(),ha=ws.pad={},pa=ha.Pkcs7={pad:function(cu,ou){for(var Ga=ou*4,Xa=Ga-cu.sigBytes%Ga,Fa=Xa<<24|Xa<<16|Xa<<8|Xa,Zs=[],Wa=0;Wa<Xa;Wa+=4)Zs.push(Fa);var Za=Es.create(Zs,Xa);cu.concat(Za)},unpad:function(cu){var ou=cu.words[cu.sigBytes-1>>>2]&255;cu.sigBytes-=ou}};vs.BlockCipher=Ws.extend({cfg:Ws.cfg.extend({mode:Js,padding:pa}),reset:function(){var cu;Ws.reset.call(this);var ou=this.cfg,Ga=ou.iv,Xa=ou.mode;this._xformMode==this._ENC_XFORM_MODE?cu=Xa.createEncryptor:(cu=Xa.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==cu?this._mode.init(this,Ga&&Ga.words):(this._mode=cu.call(Xa,this,Ga&&Ga.words),this._mode.__creator=cu)},_doProcessBlock:function(cu,ou){this._mode.processBlock(cu,ou)},_doFinalize:function(){var cu,ou=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ou.pad(this._data,this.blockSize),cu=this._process(!0)):(cu=this._process(!0),ou.unpad(cu)),cu},blockSize:128/32});var za=vs.CipherParams=_s.extend({init:function(cu){this.mixIn(cu)},toString:function(cu){return(cu||this.formatter).stringify(this)}}),Ya=ws.format={},Bc=Ya.OpenSSL={stringify:function(cu){var ou,Ga=cu.ciphertext,Xa=cu.salt;return Xa?ou=Es.create([1398893684,1701076831]).concat(Xa).concat(Ga):ou=Ga,ou.toString(Rs)},parse:function(cu){var ou,Ga=Rs.parse(cu),Xa=Ga.words;return Xa[0]==1398893684&&Xa[1]==1701076831&&(ou=Es.create(Xa.slice(2,4)),Xa.splice(0,4),Ga.sigBytes-=16),za.create({ciphertext:Ga,salt:ou})}},Qa=vs.SerializableCipher=_s.extend({cfg:_s.extend({format:Bc}),encrypt:function(cu,ou,Ga,Xa){Xa=this.cfg.extend(Xa);var Fa=cu.createEncryptor(Ga,Xa),Zs=Fa.finalize(ou),Wa=Fa.cfg;return za.create({ciphertext:Zs,key:Ga,iv:Wa.iv,algorithm:cu,mode:Wa.mode,padding:Wa.padding,blockSize:cu.blockSize,formatter:Xa.format})},decrypt:function(cu,ou,Ga,Xa){Xa=this.cfg.extend(Xa),ou=this._parse(ou,Xa.format);var Fa=cu.createDecryptor(Ga,Xa).finalize(ou.ciphertext);return Fa},_parse:function(cu,ou){return typeof cu=="string"?ou.parse(cu,this):cu}}),tu=ws.kdf={},eu=tu.OpenSSL={execute:function(cu,ou,Ga,Xa,Fa){if(Xa||(Xa=Es.random(64/8)),Fa)var Zs=Is.create({keySize:ou+Ga,hasher:Fa}).compute(cu,Xa);else var Zs=Is.create({keySize:ou+Ga}).compute(cu,Xa);var Wa=Es.create(Zs.words.slice(ou),Ga*4);return Zs.sigBytes=ou*4,za.create({key:Zs,iv:Wa,salt:Xa})}},ru=vs.PasswordBasedCipher=Qa.extend({cfg:Qa.cfg.extend({kdf:eu}),encrypt:function(cu,ou,Ga,Xa){Xa=this.cfg.extend(Xa);var Fa=Xa.kdf.execute(Ga,cu.keySize,cu.ivSize,Xa.salt,Xa.hasher);Xa.iv=Fa.iv;var Zs=Qa.encrypt.call(this,cu,ou,Fa.key,Xa);return Zs.mixIn(Fa),Zs},decrypt:function(cu,ou,Ga,Xa){Xa=this.cfg.extend(Xa),ou=this._parse(ou,Xa.format);var Fa=Xa.kdf.execute(Ga,cu.keySize,cu.ivSize,ou.salt,Xa.hasher);Xa.iv=Fa.iv;var Zs=Qa.decrypt.call(this,cu,ou,Fa.key,Xa);return Zs}})}()})}(cipherCore$1)),cipherCore$1.exports}var modeCfb$1={exports:{}},modeCfb=modeCfb$1.exports,hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(modeCfb,function(et){return et.mode.CFB=function(){var ms=et.lib.BlockCipherMode.extend();ms.Encryptor=ms.extend({processBlock:function(vs,_s){var Es=this._cipher,Ts=Es.blockSize;ws.call(this,vs,_s,Ts,Es),this._prevBlock=vs.slice(_s,_s+Ts)}}),ms.Decryptor=ms.extend({processBlock:function(vs,_s){var Es=this._cipher,Ts=Es.blockSize,Ss=vs.slice(_s,_s+Ts);ws.call(this,vs,_s,Ts,Es),this._prevBlock=Ss}});function ws(vs,_s,Es,Ts){var Ss,Rs=this._iv;Rs?(Ss=Rs.slice(0),this._iv=void 0):Ss=this._prevBlock,Ts.encryptBlock(Ss,0);for(var Bs=0;Bs<Es;Bs++)vs[_s+Bs]^=Ss[Bs]}return ms}(),et.mode.CFB})}(modeCfb$1)),modeCfb$1.exports}var modeCtr$1={exports:{}},modeCtr=modeCtr$1.exports,hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(modeCtr,function(et){return et.mode.CTR=function(){var ms=et.lib.BlockCipherMode.extend(),ws=ms.Encryptor=ms.extend({processBlock:function(vs,_s){var Es=this._cipher,Ts=Es.blockSize,Ss=this._iv,Rs=this._counter;Ss&&(Rs=this._counter=Ss.slice(0),this._iv=void 0);var Bs=Rs.slice(0);Es.encryptBlock(Bs,0),Rs[Ts-1]=Rs[Ts-1]+1|0;for(var Is=0;Is<Ts;Is++)vs[_s+Is]^=Bs[Is]}});return ms.Decryptor=ws,ms}(),et.mode.CTR})}(modeCtr$1)),modeCtr$1.exports}var modeCtrGladman$1={exports:{}},modeCtrGladman=modeCtrGladman$1.exports,hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(modeCtrGladman,function(et){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return et.mode.CTRGladman=function(){var ms=et.lib.BlockCipherMode.extend();function ws(Es){if((Es>>24&255)===255){var Ts=Es>>16&255,Ss=Es>>8&255,Rs=Es&255;Ts===255?(Ts=0,Ss===255?(Ss=0,Rs===255?Rs=0:++Rs):++Ss):++Ts,Es=0,Es+=Ts<<16,Es+=Ss<<8,Es+=Rs}else Es+=1<<24;return Es}function vs(Es){return(Es[0]=ws(Es[0]))===0&&(Es[1]=ws(Es[1])),Es}var _s=ms.Encryptor=ms.extend({processBlock:function(Es,Ts){var Ss=this._cipher,Rs=Ss.blockSize,Bs=this._iv,Is=this._counter;Bs&&(Is=this._counter=Bs.slice(0),this._iv=void 0),vs(Is);var Ws=Is.slice(0);Ss.encryptBlock(Ws,0);for(var Hs=0;Hs<Rs;Hs++)Es[Ts+Hs]^=Ws[Hs]}});return ms.Decryptor=_s,ms}(),et.mode.CTRGladman})}(modeCtrGladman$1)),modeCtrGladman$1.exports}var modeOfb$1={exports:{}},modeOfb=modeOfb$1.exports,hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(modeOfb,function(et){return et.mode.OFB=function(){var ms=et.lib.BlockCipherMode.extend(),ws=ms.Encryptor=ms.extend({processBlock:function(vs,_s){var Es=this._cipher,Ts=Es.blockSize,Ss=this._iv,Rs=this._keystream;Ss&&(Rs=this._keystream=Ss.slice(0),this._iv=void 0),Es.encryptBlock(Rs,0);for(var Bs=0;Bs<Ts;Bs++)vs[_s+Bs]^=Rs[Bs]}});return ms.Decryptor=ws,ms}(),et.mode.OFB})}(modeOfb$1)),modeOfb$1.exports}var modeEcb$1={exports:{}},modeEcb=modeEcb$1.exports,hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(modeEcb,function(et){return et.mode.ECB=function(){var ms=et.lib.BlockCipherMode.extend();return ms.Encryptor=ms.extend({processBlock:function(ws,vs){this._cipher.encryptBlock(ws,vs)}}),ms.Decryptor=ms.extend({processBlock:function(ws,vs){this._cipher.decryptBlock(ws,vs)}}),ms}(),et.mode.ECB})}(modeEcb$1)),modeEcb$1.exports}var padAnsix923$1={exports:{}},padAnsix923=padAnsix923$1.exports,hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(padAnsix923,function(et){return et.pad.AnsiX923={pad:function(ms,ws){var vs=ms.sigBytes,_s=ws*4,Es=_s-vs%_s,Ts=vs+Es-1;ms.clamp(),ms.words[Ts>>>2]|=Es<<24-Ts%4*8,ms.sigBytes+=Es},unpad:function(ms){var ws=ms.words[ms.sigBytes-1>>>2]&255;ms.sigBytes-=ws}},et.pad.Ansix923})}(padAnsix923$1)),padAnsix923$1.exports}var padIso10126$1={exports:{}},padIso10126=padIso10126$1.exports,hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(padIso10126,function(et){return et.pad.Iso10126={pad:function(ms,ws){var vs=ws*4,_s=vs-ms.sigBytes%vs;ms.concat(et.lib.WordArray.random(_s-1)).concat(et.lib.WordArray.create([_s<<24],1))},unpad:function(ms){var ws=ms.words[ms.sigBytes-1>>>2]&255;ms.sigBytes-=ws}},et.pad.Iso10126})}(padIso10126$1)),padIso10126$1.exports}var padIso97971$1={exports:{}},padIso97971=padIso97971$1.exports,hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(padIso97971,function(et){return et.pad.Iso97971={pad:function(ms,ws){ms.concat(et.lib.WordArray.create([2147483648],1)),et.pad.ZeroPadding.pad(ms,ws)},unpad:function(ms){et.pad.ZeroPadding.unpad(ms),ms.sigBytes--}},et.pad.Iso97971})}(padIso97971$1)),padIso97971$1.exports}var padZeropadding$1={exports:{}},padZeropadding=padZeropadding$1.exports,hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(padZeropadding,function(et){return et.pad.ZeroPadding={pad:function(ms,ws){var vs=ws*4;ms.clamp(),ms.sigBytes+=vs-(ms.sigBytes%vs||vs)},unpad:function(ms){for(var ws=ms.words,vs=ms.sigBytes-1,vs=ms.sigBytes-1;vs>=0;vs--)if(ws[vs>>>2]>>>24-vs%4*8&255){ms.sigBytes=vs+1;break}}},et.pad.ZeroPadding})}(padZeropadding$1)),padZeropadding$1.exports}var padNopadding$1={exports:{}},padNopadding=padNopadding$1.exports,hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(padNopadding,function(et){return et.pad.NoPadding={pad:function(){},unpad:function(){}},et.pad.NoPadding})}(padNopadding$1)),padNopadding$1.exports}var formatHex$1={exports:{}},formatHex=formatHex$1.exports,hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireCipherCore())})(formatHex,function(et){return function(ms){var ws=et,vs=ws.lib,_s=vs.CipherParams,Es=ws.enc,Ts=Es.Hex,Ss=ws.format;Ss.Hex={stringify:function(Rs){return Rs.ciphertext.toString(Ts)},parse:function(Rs){var Bs=Ts.parse(Rs);return _s.create({ciphertext:Bs})}}}(),et.format.Hex})}(formatHex$1)),formatHex$1.exports}var aes$1={exports:{}},aes=aes$1.exports,hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(aes,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.BlockCipher,_s=ms.algo,Es=[],Ts=[],Ss=[],Rs=[],Bs=[],Is=[],Ws=[],Hs=[],Ns=[],Js=[];(function(){for(var za=[],Ya=0;Ya<256;Ya++)Ya<128?za[Ya]=Ya<<1:za[Ya]=Ya<<1^283;for(var Bc=0,Qa=0,Ya=0;Ya<256;Ya++){var tu=Qa^Qa<<1^Qa<<2^Qa<<3^Qa<<4;tu=tu>>>8^tu&255^99,Es[Bc]=tu,Ts[tu]=Bc;var eu=za[Bc],ru=za[eu],cu=za[ru],ou=za[tu]*257^tu*16843008;Ss[Bc]=ou<<24|ou>>>8,Rs[Bc]=ou<<16|ou>>>16,Bs[Bc]=ou<<8|ou>>>24,Is[Bc]=ou;var ou=cu*16843009^ru*65537^eu*257^Bc*16843008;Ws[tu]=ou<<24|ou>>>8,Hs[tu]=ou<<16|ou>>>16,Ns[tu]=ou<<8|ou>>>24,Js[tu]=ou,Bc?(Bc=eu^za[za[za[cu^eu]]],Qa^=za[za[Qa]]):Bc=Qa=1}})();var ha=[0,1,2,4,8,16,32,64,128,27,54],pa=_s.AES=vs.extend({_doReset:function(){var za;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Ya=this._keyPriorReset=this._key,Bc=Ya.words,Qa=Ya.sigBytes/4,tu=this._nRounds=Qa+6,eu=(tu+1)*4,ru=this._keySchedule=[],cu=0;cu<eu;cu++)cu<Qa?ru[cu]=Bc[cu]:(za=ru[cu-1],cu%Qa?Qa>6&&cu%Qa==4&&(za=Es[za>>>24]<<24|Es[za>>>16&255]<<16|Es[za>>>8&255]<<8|Es[za&255]):(za=za<<8|za>>>24,za=Es[za>>>24]<<24|Es[za>>>16&255]<<16|Es[za>>>8&255]<<8|Es[za&255],za^=ha[cu/Qa|0]<<24),ru[cu]=ru[cu-Qa]^za);for(var ou=this._invKeySchedule=[],Ga=0;Ga<eu;Ga++){var cu=eu-Ga;if(Ga%4)var za=ru[cu];else var za=ru[cu-4];Ga<4||cu<=4?ou[Ga]=za:ou[Ga]=Ws[Es[za>>>24]]^Hs[Es[za>>>16&255]]^Ns[Es[za>>>8&255]]^Js[Es[za&255]]}}},encryptBlock:function(za,Ya){this._doCryptBlock(za,Ya,this._keySchedule,Ss,Rs,Bs,Is,Es)},decryptBlock:function(za,Ya){var Bc=za[Ya+1];za[Ya+1]=za[Ya+3],za[Ya+3]=Bc,this._doCryptBlock(za,Ya,this._invKeySchedule,Ws,Hs,Ns,Js,Ts);var Bc=za[Ya+1];za[Ya+1]=za[Ya+3],za[Ya+3]=Bc},_doCryptBlock:function(za,Ya,Bc,Qa,tu,eu,ru,cu){for(var ou=this._nRounds,Ga=za[Ya]^Bc[0],Xa=za[Ya+1]^Bc[1],Fa=za[Ya+2]^Bc[2],Zs=za[Ya+3]^Bc[3],Wa=4,Za=1;Za<ou;Za++){var iu=Qa[Ga>>>24]^tu[Xa>>>16&255]^eu[Fa>>>8&255]^ru[Zs&255]^Bc[Wa++],au=Qa[Xa>>>24]^tu[Fa>>>16&255]^eu[Zs>>>8&255]^ru[Ga&255]^Bc[Wa++],nu=Qa[Fa>>>24]^tu[Zs>>>16&255]^eu[Ga>>>8&255]^ru[Xa&255]^Bc[Wa++],uu=Qa[Zs>>>24]^tu[Ga>>>16&255]^eu[Xa>>>8&255]^ru[Fa&255]^Bc[Wa++];Ga=iu,Xa=au,Fa=nu,Zs=uu}var iu=(cu[Ga>>>24]<<24|cu[Xa>>>16&255]<<16|cu[Fa>>>8&255]<<8|cu[Zs&255])^Bc[Wa++],au=(cu[Xa>>>24]<<24|cu[Fa>>>16&255]<<16|cu[Zs>>>8&255]<<8|cu[Ga&255])^Bc[Wa++],nu=(cu[Fa>>>24]<<24|cu[Zs>>>16&255]<<16|cu[Ga>>>8&255]<<8|cu[Xa&255])^Bc[Wa++],uu=(cu[Zs>>>24]<<24|cu[Ga>>>16&255]<<16|cu[Xa>>>8&255]<<8|cu[Fa&255])^Bc[Wa++];za[Ya]=iu,za[Ya+1]=au,za[Ya+2]=nu,za[Ya+3]=uu},keySize:256/32});ms.AES=vs._createHelper(pa)}(),et.AES})}(aes$1)),aes$1.exports}var tripledes$1={exports:{}},tripledes=tripledes$1.exports,hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(tripledes,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.WordArray,_s=ws.BlockCipher,Es=ms.algo,Ts=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Ss=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Rs=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],Bs=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Is=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ws=Es.DES=_s.extend({_doReset:function(){for(var ha=this._key,pa=ha.words,za=[],Ya=0;Ya<56;Ya++){var Bc=Ts[Ya]-1;za[Ya]=pa[Bc>>>5]>>>31-Bc%32&1}for(var Qa=this._subKeys=[],tu=0;tu<16;tu++){for(var eu=Qa[tu]=[],ru=Rs[tu],Ya=0;Ya<24;Ya++)eu[Ya/6|0]|=za[(Ss[Ya]-1+ru)%28]<<31-Ya%6,eu[4+(Ya/6|0)]|=za[28+(Ss[Ya+24]-1+ru)%28]<<31-Ya%6;eu[0]=eu[0]<<1|eu[0]>>>31;for(var Ya=1;Ya<7;Ya++)eu[Ya]=eu[Ya]>>>(Ya-1)*4+3;eu[7]=eu[7]<<5|eu[7]>>>27}for(var cu=this._invSubKeys=[],Ya=0;Ya<16;Ya++)cu[Ya]=Qa[15-Ya]},encryptBlock:function(ha,pa){this._doCryptBlock(ha,pa,this._subKeys)},decryptBlock:function(ha,pa){this._doCryptBlock(ha,pa,this._invSubKeys)},_doCryptBlock:function(ha,pa,za){this._lBlock=ha[pa],this._rBlock=ha[pa+1],Hs.call(this,4,252645135),Hs.call(this,16,65535),Ns.call(this,2,858993459),Ns.call(this,8,16711935),Hs.call(this,1,1431655765);for(var Ya=0;Ya<16;Ya++){for(var Bc=za[Ya],Qa=this._lBlock,tu=this._rBlock,eu=0,ru=0;ru<8;ru++)eu|=Bs[ru][((tu^Bc[ru])&Is[ru])>>>0];this._lBlock=tu,this._rBlock=Qa^eu}var cu=this._lBlock;this._lBlock=this._rBlock,this._rBlock=cu,Hs.call(this,1,1431655765),Ns.call(this,8,16711935),Ns.call(this,2,858993459),Hs.call(this,16,65535),Hs.call(this,4,252645135),ha[pa]=this._lBlock,ha[pa+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Hs(ha,pa){var za=(this._lBlock>>>ha^this._rBlock)&pa;this._rBlock^=za,this._lBlock^=za<<ha}function Ns(ha,pa){var za=(this._rBlock>>>ha^this._lBlock)&pa;this._lBlock^=za,this._rBlock^=za<<ha}ms.DES=_s._createHelper(Ws);var Js=Es.TripleDES=_s.extend({_doReset:function(){var ha=this._key,pa=ha.words;if(pa.length!==2&&pa.length!==4&&pa.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var za=pa.slice(0,2),Ya=pa.length<4?pa.slice(0,2):pa.slice(2,4),Bc=pa.length<6?pa.slice(0,2):pa.slice(4,6);this._des1=Ws.createEncryptor(vs.create(za)),this._des2=Ws.createEncryptor(vs.create(Ya)),this._des3=Ws.createEncryptor(vs.create(Bc))},encryptBlock:function(ha,pa){this._des1.encryptBlock(ha,pa),this._des2.decryptBlock(ha,pa),this._des3.encryptBlock(ha,pa)},decryptBlock:function(ha,pa){this._des3.decryptBlock(ha,pa),this._des2.encryptBlock(ha,pa),this._des1.decryptBlock(ha,pa)},keySize:192/32,ivSize:64/32,blockSize:64/32});ms.TripleDES=_s._createHelper(Js)}(),et.TripleDES})}(tripledes$1)),tripledes$1.exports}var rc4$1={exports:{}},rc4=rc4$1.exports,hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rc4,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.StreamCipher,_s=ms.algo,Es=_s.RC4=vs.extend({_doReset:function(){for(var Rs=this._key,Bs=Rs.words,Is=Rs.sigBytes,Ws=this._S=[],Hs=0;Hs<256;Hs++)Ws[Hs]=Hs;for(var Hs=0,Ns=0;Hs<256;Hs++){var Js=Hs%Is,ha=Bs[Js>>>2]>>>24-Js%4*8&255;Ns=(Ns+Ws[Hs]+ha)%256;var pa=Ws[Hs];Ws[Hs]=Ws[Ns],Ws[Ns]=pa}this._i=this._j=0},_doProcessBlock:function(Rs,Bs){Rs[Bs]^=Ts.call(this)},keySize:256/32,ivSize:0});function Ts(){for(var Rs=this._S,Bs=this._i,Is=this._j,Ws=0,Hs=0;Hs<4;Hs++){Bs=(Bs+1)%256,Is=(Is+Rs[Bs])%256;var Ns=Rs[Bs];Rs[Bs]=Rs[Is],Rs[Is]=Ns,Ws|=Rs[(Rs[Bs]+Rs[Is])%256]<<24-Hs*8}return this._i=Bs,this._j=Is,Ws}ms.RC4=vs._createHelper(Es);var Ss=_s.RC4Drop=Es.extend({cfg:Es.cfg.extend({drop:192}),_doReset:function(){Es._doReset.call(this);for(var Rs=this.cfg.drop;Rs>0;Rs--)Ts.call(this)}});ms.RC4Drop=vs._createHelper(Ss)}(),et.RC4})}(rc4$1)),rc4$1.exports}var rabbit$1={exports:{}},rabbit=rabbit$1.exports,hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rabbit,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.StreamCipher,_s=ms.algo,Es=[],Ts=[],Ss=[],Rs=_s.Rabbit=vs.extend({_doReset:function(){for(var Is=this._key.words,Ws=this.cfg.iv,Hs=0;Hs<4;Hs++)Is[Hs]=(Is[Hs]<<8|Is[Hs]>>>24)&16711935|(Is[Hs]<<24|Is[Hs]>>>8)&4278255360;var Ns=this._X=[Is[0],Is[3]<<16|Is[2]>>>16,Is[1],Is[0]<<16|Is[3]>>>16,Is[2],Is[1]<<16|Is[0]>>>16,Is[3],Is[2]<<16|Is[1]>>>16],Js=this._C=[Is[2]<<16|Is[2]>>>16,Is[0]&4294901760|Is[1]&65535,Is[3]<<16|Is[3]>>>16,Is[1]&4294901760|Is[2]&65535,Is[0]<<16|Is[0]>>>16,Is[2]&4294901760|Is[3]&65535,Is[1]<<16|Is[1]>>>16,Is[3]&4294901760|Is[0]&65535];this._b=0;for(var Hs=0;Hs<4;Hs++)Bs.call(this);for(var Hs=0;Hs<8;Hs++)Js[Hs]^=Ns[Hs+4&7];if(Ws){var ha=Ws.words,pa=ha[0],za=ha[1],Ya=(pa<<8|pa>>>24)&16711935|(pa<<24|pa>>>8)&4278255360,Bc=(za<<8|za>>>24)&16711935|(za<<24|za>>>8)&4278255360,Qa=Ya>>>16|Bc&4294901760,tu=Bc<<16|Ya&65535;Js[0]^=Ya,Js[1]^=Qa,Js[2]^=Bc,Js[3]^=tu,Js[4]^=Ya,Js[5]^=Qa,Js[6]^=Bc,Js[7]^=tu;for(var Hs=0;Hs<4;Hs++)Bs.call(this)}},_doProcessBlock:function(Is,Ws){var Hs=this._X;Bs.call(this),Es[0]=Hs[0]^Hs[5]>>>16^Hs[3]<<16,Es[1]=Hs[2]^Hs[7]>>>16^Hs[5]<<16,Es[2]=Hs[4]^Hs[1]>>>16^Hs[7]<<16,Es[3]=Hs[6]^Hs[3]>>>16^Hs[1]<<16;for(var Ns=0;Ns<4;Ns++)Es[Ns]=(Es[Ns]<<8|Es[Ns]>>>24)&16711935|(Es[Ns]<<24|Es[Ns]>>>8)&4278255360,Is[Ws+Ns]^=Es[Ns]},blockSize:128/32,ivSize:64/32});function Bs(){for(var Is=this._X,Ws=this._C,Hs=0;Hs<8;Hs++)Ts[Hs]=Ws[Hs];Ws[0]=Ws[0]+1295307597+this._b|0,Ws[1]=Ws[1]+3545052371+(Ws[0]>>>0<Ts[0]>>>0?1:0)|0,Ws[2]=Ws[2]+886263092+(Ws[1]>>>0<Ts[1]>>>0?1:0)|0,Ws[3]=Ws[3]+1295307597+(Ws[2]>>>0<Ts[2]>>>0?1:0)|0,Ws[4]=Ws[4]+3545052371+(Ws[3]>>>0<Ts[3]>>>0?1:0)|0,Ws[5]=Ws[5]+886263092+(Ws[4]>>>0<Ts[4]>>>0?1:0)|0,Ws[6]=Ws[6]+1295307597+(Ws[5]>>>0<Ts[5]>>>0?1:0)|0,Ws[7]=Ws[7]+3545052371+(Ws[6]>>>0<Ts[6]>>>0?1:0)|0,this._b=Ws[7]>>>0<Ts[7]>>>0?1:0;for(var Hs=0;Hs<8;Hs++){var Ns=Is[Hs]+Ws[Hs],Js=Ns&65535,ha=Ns>>>16,pa=((Js*Js>>>17)+Js*ha>>>15)+ha*ha,za=((Ns&4294901760)*Ns|0)+((Ns&65535)*Ns|0);Ss[Hs]=pa^za}Is[0]=Ss[0]+(Ss[7]<<16|Ss[7]>>>16)+(Ss[6]<<16|Ss[6]>>>16)|0,Is[1]=Ss[1]+(Ss[0]<<8|Ss[0]>>>24)+Ss[7]|0,Is[2]=Ss[2]+(Ss[1]<<16|Ss[1]>>>16)+(Ss[0]<<16|Ss[0]>>>16)|0,Is[3]=Ss[3]+(Ss[2]<<8|Ss[2]>>>24)+Ss[1]|0,Is[4]=Ss[4]+(Ss[3]<<16|Ss[3]>>>16)+(Ss[2]<<16|Ss[2]>>>16)|0,Is[5]=Ss[5]+(Ss[4]<<8|Ss[4]>>>24)+Ss[3]|0,Is[6]=Ss[6]+(Ss[5]<<16|Ss[5]>>>16)+(Ss[4]<<16|Ss[4]>>>16)|0,Is[7]=Ss[7]+(Ss[6]<<8|Ss[6]>>>24)+Ss[5]|0}ms.Rabbit=vs._createHelper(Rs)}(),et.Rabbit})}(rabbit$1)),rabbit$1.exports}var rabbitLegacy$1={exports:{}},rabbitLegacy=rabbitLegacy$1.exports,hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rabbitLegacy,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.StreamCipher,_s=ms.algo,Es=[],Ts=[],Ss=[],Rs=_s.RabbitLegacy=vs.extend({_doReset:function(){var Is=this._key.words,Ws=this.cfg.iv,Hs=this._X=[Is[0],Is[3]<<16|Is[2]>>>16,Is[1],Is[0]<<16|Is[3]>>>16,Is[2],Is[1]<<16|Is[0]>>>16,Is[3],Is[2]<<16|Is[1]>>>16],Ns=this._C=[Is[2]<<16|Is[2]>>>16,Is[0]&4294901760|Is[1]&65535,Is[3]<<16|Is[3]>>>16,Is[1]&4294901760|Is[2]&65535,Is[0]<<16|Is[0]>>>16,Is[2]&4294901760|Is[3]&65535,Is[1]<<16|Is[1]>>>16,Is[3]&4294901760|Is[0]&65535];this._b=0;for(var Js=0;Js<4;Js++)Bs.call(this);for(var Js=0;Js<8;Js++)Ns[Js]^=Hs[Js+4&7];if(Ws){var ha=Ws.words,pa=ha[0],za=ha[1],Ya=(pa<<8|pa>>>24)&16711935|(pa<<24|pa>>>8)&4278255360,Bc=(za<<8|za>>>24)&16711935|(za<<24|za>>>8)&4278255360,Qa=Ya>>>16|Bc&4294901760,tu=Bc<<16|Ya&65535;Ns[0]^=Ya,Ns[1]^=Qa,Ns[2]^=Bc,Ns[3]^=tu,Ns[4]^=Ya,Ns[5]^=Qa,Ns[6]^=Bc,Ns[7]^=tu;for(var Js=0;Js<4;Js++)Bs.call(this)}},_doProcessBlock:function(Is,Ws){var Hs=this._X;Bs.call(this),Es[0]=Hs[0]^Hs[5]>>>16^Hs[3]<<16,Es[1]=Hs[2]^Hs[7]>>>16^Hs[5]<<16,Es[2]=Hs[4]^Hs[1]>>>16^Hs[7]<<16,Es[3]=Hs[6]^Hs[3]>>>16^Hs[1]<<16;for(var Ns=0;Ns<4;Ns++)Es[Ns]=(Es[Ns]<<8|Es[Ns]>>>24)&16711935|(Es[Ns]<<24|Es[Ns]>>>8)&4278255360,Is[Ws+Ns]^=Es[Ns]},blockSize:128/32,ivSize:64/32});function Bs(){for(var Is=this._X,Ws=this._C,Hs=0;Hs<8;Hs++)Ts[Hs]=Ws[Hs];Ws[0]=Ws[0]+1295307597+this._b|0,Ws[1]=Ws[1]+3545052371+(Ws[0]>>>0<Ts[0]>>>0?1:0)|0,Ws[2]=Ws[2]+886263092+(Ws[1]>>>0<Ts[1]>>>0?1:0)|0,Ws[3]=Ws[3]+1295307597+(Ws[2]>>>0<Ts[2]>>>0?1:0)|0,Ws[4]=Ws[4]+3545052371+(Ws[3]>>>0<Ts[3]>>>0?1:0)|0,Ws[5]=Ws[5]+886263092+(Ws[4]>>>0<Ts[4]>>>0?1:0)|0,Ws[6]=Ws[6]+1295307597+(Ws[5]>>>0<Ts[5]>>>0?1:0)|0,Ws[7]=Ws[7]+3545052371+(Ws[6]>>>0<Ts[6]>>>0?1:0)|0,this._b=Ws[7]>>>0<Ts[7]>>>0?1:0;for(var Hs=0;Hs<8;Hs++){var Ns=Is[Hs]+Ws[Hs],Js=Ns&65535,ha=Ns>>>16,pa=((Js*Js>>>17)+Js*ha>>>15)+ha*ha,za=((Ns&4294901760)*Ns|0)+((Ns&65535)*Ns|0);Ss[Hs]=pa^za}Is[0]=Ss[0]+(Ss[7]<<16|Ss[7]>>>16)+(Ss[6]<<16|Ss[6]>>>16)|0,Is[1]=Ss[1]+(Ss[0]<<8|Ss[0]>>>24)+Ss[7]|0,Is[2]=Ss[2]+(Ss[1]<<16|Ss[1]>>>16)+(Ss[0]<<16|Ss[0]>>>16)|0,Is[3]=Ss[3]+(Ss[2]<<8|Ss[2]>>>24)+Ss[1]|0,Is[4]=Ss[4]+(Ss[3]<<16|Ss[3]>>>16)+(Ss[2]<<16|Ss[2]>>>16)|0,Is[5]=Ss[5]+(Ss[4]<<8|Ss[4]>>>24)+Ss[3]|0,Is[6]=Ss[6]+(Ss[5]<<16|Ss[5]>>>16)+(Ss[4]<<16|Ss[4]>>>16)|0,Is[7]=Ss[7]+(Ss[6]<<8|Ss[6]>>>24)+Ss[5]|0}ms.RabbitLegacy=vs._createHelper(Rs)}(),et.RabbitLegacy})}(rabbitLegacy$1)),rabbitLegacy$1.exports}var blowfish$1={exports:{}},blowfish=blowfish$1.exports,hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(blowfish,function(et){return function(){var ms=et,ws=ms.lib,vs=ws.BlockCipher,_s=ms.algo;const Es=16,Ts=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ss=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Rs={pbox:[],sbox:[]};function Bs(Js,ha){let pa=ha>>24&255,za=ha>>16&255,Ya=ha>>8&255,Bc=ha&255,Qa=Js.sbox[0][pa]+Js.sbox[1][za];return Qa=Qa^Js.sbox[2][Ya],Qa=Qa+Js.sbox[3][Bc],Qa}function Is(Js,ha,pa){let za=ha,Ya=pa,Bc;for(let Qa=0;Qa<Es;++Qa)za=za^Js.pbox[Qa],Ya=Bs(Js,za)^Ya,Bc=za,za=Ya,Ya=Bc;return Bc=za,za=Ya,Ya=Bc,Ya=Ya^Js.pbox[Es],za=za^Js.pbox[Es+1],{left:za,right:Ya}}function Ws(Js,ha,pa){let za=ha,Ya=pa,Bc;for(let Qa=Es+1;Qa>1;--Qa)za=za^Js.pbox[Qa],Ya=Bs(Js,za)^Ya,Bc=za,za=Ya,Ya=Bc;return Bc=za,za=Ya,Ya=Bc,Ya=Ya^Js.pbox[1],za=za^Js.pbox[0],{left:za,right:Ya}}function Hs(Js,ha,pa){for(let tu=0;tu<4;tu++){Js.sbox[tu]=[];for(let eu=0;eu<256;eu++)Js.sbox[tu][eu]=Ss[tu][eu]}let za=0;for(let tu=0;tu<Es+2;tu++)Js.pbox[tu]=Ts[tu]^ha[za],za++,za>=pa&&(za=0);let Ya=0,Bc=0,Qa=0;for(let tu=0;tu<Es+2;tu+=2)Qa=Is(Js,Ya,Bc),Ya=Qa.left,Bc=Qa.right,Js.pbox[tu]=Ya,Js.pbox[tu+1]=Bc;for(let tu=0;tu<4;tu++)for(let eu=0;eu<256;eu+=2)Qa=Is(Js,Ya,Bc),Ya=Qa.left,Bc=Qa.right,Js.sbox[tu][eu]=Ya,Js.sbox[tu][eu+1]=Bc;return!0}var Ns=_s.Blowfish=vs.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Js=this._keyPriorReset=this._key,ha=Js.words,pa=Js.sigBytes/4;Hs(Rs,ha,pa)}},encryptBlock:function(Js,ha){var pa=Is(Rs,Js[ha],Js[ha+1]);Js[ha]=pa.left,Js[ha+1]=pa.right},decryptBlock:function(Js,ha){var pa=Ws(Rs,Js[ha],Js[ha+1]);Js[ha]=pa.left,Js[ha+1]=pa.right},blockSize:64/32,keySize:128/32,ivSize:64/32});ms.Blowfish=vs._createHelper(Ns)}(),et.Blowfish})}(blowfish$1)),blowfish$1.exports}var cryptoJs=cryptoJs$1.exports,hasRequiredCryptoJs;function requireCryptoJs(){return hasRequiredCryptoJs||(hasRequiredCryptoJs=1,function(st,t){(function(et,ms,ws){st.exports=ms(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512$1(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(cryptoJs,function(et){return et})}(cryptoJs$1)),cryptoJs$1.exports}var hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(st){var t=utils$3&&utils$3.__importDefault||function(yu){return yu&&yu.__esModule?yu:{default:yu}};Object.defineProperty(st,"__esModule",{value:!0}),st.chainName2IdMap=st.isValidObject=st.RANDOM_LENGTH=st.isBrowser=st.resolveLocalStorage=st.hasLocalStorage=st.hasBuiltInWebSocket=st.resolveWebSocketImplementation=void 0,st.hexToByteArray=Is,st.getChainId=Ws,st.toHexString=Hs,st.concatUint8Arrays=Ns,st.splitToUint8Arrays=Js,st.base64encode=za,st.base64decode=Ya,st.checkWSUrl=Bc,st.hashKey=ou,st.generateRandomBytes32=Ga,st.generateTopic=Xa,st.generateGroupId=Fa,st.isInIOSLine=Wa,st.isInIOSLark=Za,st.isInIOSChrome=iu,st.isInIOSWeChat=au,st.isIos=nu,st.getLastSixMd5Hash=uu,st.toSafeBase64FromBase64=fu,st.useShortLink=hu,st.replaceChainNameToChainId=Eu,st.replaceChainIdToChainName=$u,st.getNamespaceKeyByChain=Ou,st.scopePollingDetectionStrategy=gu;const et=t(requireNaclFast()),ms=t(requireNaclUtil()),ws=require$$2,vs=requireSha256$1(),_s=requireSafejson(),Es=requireLog(),Ts=requireStringUtils(),Ss=t(requireCryptoJs()),Rs=requireProtocol(),Bs="base16";function Is(yu){if(yu.length%2!==0)throw new Error(`Cannot convert ${yu} to bytesArray`);const Tu=new Uint8Array(yu.length/2);for(let du=0;du<yu.length;du+=2)Tu[du/2]=parseInt(yu.slice(du,du+2),16);return Tu}function Ws(yu){return yu.includes(":")?yu.split(":")[1]:yu}function Hs(yu){let Tu="";return yu.forEach(du=>{Tu+=("0"+(du&255).toString(16)).slice(-2)}),Tu}function Ns(yu,Tu){const du=new Uint8Array(yu.length+Tu.length);return du.set(yu),du.set(Tu,yu.length),du}function Js(yu,Tu){if(Tu>=yu.length)throw new Error("Index is out of buffer");const du=yu.slice(0,Tu),wu=yu.slice(Tu);return[du,wu]}function ha(yu,Tu){const du=ms.default.encodeBase64(yu);return Tu?encodeURIComponent(du):du}function pa(yu,Tu){return Tu&&(yu=decodeURIComponent(yu)),ms.default.decodeBase64(yu)}function za(yu,Tu){let du;return yu instanceof Uint8Array?du=yu:(typeof yu!="string"&&(yu=(0,_s.safeJsonStringify)(yu)),du=ms.default.decodeUTF8(yu)),ha(du,Tu)}function Ya(yu,Tu){const du=pa(yu,Tu);return{toString(){return ms.default.encodeUTF8(du)},toObject(){try{return(0,_s.safeJsonParse)(ms.default.encodeUTF8(du))}catch{return null}},toUint8Array(){return du}}}function Bc(yu){const Tu=yu.match(new RegExp(/^\w+:/,"gi"));if(!Tu||!Tu.length)return!1;let du=Tu[0];return du===void 0?!1:new RegExp("^wss?:").test(du)}const Qa=()=>typeof WebSocket<"u"?WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;st.resolveWebSocketImplementation=Qa;const tu=()=>typeof WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";st.hasBuiltInWebSocket=tu;const eu=()=>typeof window<"u"&&typeof window.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";st.hasLocalStorage=eu;const ru=()=>typeof window<"u"&&typeof window.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;st.resolveLocalStorage=ru;const cu=()=>typeof window<"u";st.isBrowser=cu,st.RANDOM_LENGTH=32;function ou(yu,Tu=Bs){(0,Es.logDebug)(`hash key called ${yu}`);const du=(0,vs.hash)((0,Ts.okxfromString)(yu,Tu));return(0,ws.toString)(du,Tu)}function Ga(){return et.default.randomBytes(st.RANDOM_LENGTH)}function Xa(){let yu=Ga();return(0,Es.logDebug)(`generate topic called ${yu}`),ou((0,ws.toString)(yu,Bs))}function Fa(){let yu=et.default.randomBytes(16);return(0,Es.logDebug)(`generate groupid called ${yu}`),ou((0,ws.toString)(yu,Bs))}const Zs=yu=>Object.getPrototypeOf(yu)===Object.prototype&&Object.keys(yu).length;st.isValidObject=Zs;function Wa(){return navigator.userAgent.includes("Safari Line/")&&nu()}function Za(){return navigator.userAgent.includes("Lark/")&&nu()}function iu(){return navigator.userAgent.includes("CriOS/")&&nu()}function au(){return navigator.userAgent.includes("MicroMessenger/")&&nu()}function nu(){const yu=navigator.userAgent,Tu=navigator.maxTouchPoints||0,du=/iPad|iPhone|iPod/.test(yu)&&!window.MSStream,wu=yu.includes("Mac")&&Tu>1;return(0,Es.logDebug)(`utils isIos >>>isIOSDevice: ${du}    >> isIPadOS: ${wu}`),du||wu}function uu(yu){return Ss.default.MD5(yu).toString().slice(-6)}function fu(yu){return yu.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hu(){return!0}st.chainName2IdMap=new Map,st.chainName2IdMap.set("aptos:mainnet","aptos:637"),st.chainName2IdMap.set("movement:testnet","aptos:70000060"),st.chainName2IdMap.set("movement:mainnet","aptos:70000066"),st.chainName2IdMap.set("soon:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000069"),st.chainName2IdMap.set("soon:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000067"),st.chainName2IdMap.set("eclipse:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000068"),st.chainName2IdMap.set("sonic:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000073");function Eu(yu){return st.chainName2IdMap.forEach((Tu,du)=>{yu.includes(du)&&(yu=yu.replace(du,Tu))}),yu}function $u(yu){return st.chainName2IdMap.forEach((Tu,du)=>{yu.includes(Tu)&&(yu=yu.replace(Tu,du))}),yu}function Ou(yu){for(const[Tu,du]of Object.entries(Rs.NAMES_CHAINS))if(Object.values(du).includes(yu))return Tu;return yu}function gu(yu){if(typeof window>"u"||typeof document>"u")return;const Tu=[];function du(){if(yu())for(const Ku of Tu)Ku()}const wu=setInterval(du,1e3);Tu.push(()=>clearInterval(wu)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",du,{once:!0}),Tu.push(()=>document.removeEventListener("DOMContentLoaded",du))),document.readyState!=="complete"&&(window.addEventListener("load",du,{once:!0}),Tu.push(()=>window.removeEventListener("load",du))),du()}}(utils$3)),utils$3}var hasRequiredStorage;function requireStorage(){if(hasRequiredStorage)return storage;hasRequiredStorage=1;var st=storage&&storage.__createBinding||(Object.create?function(Is,Ws,Hs,Ns){Ns===void 0&&(Ns=Hs);var Js=Object.getOwnPropertyDescriptor(Ws,Hs);(!Js||("get"in Js?!Ws.__esModule:Js.writable||Js.configurable))&&(Js={enumerable:!0,get:function(){return Ws[Hs]}}),Object.defineProperty(Is,Ns,Js)}:function(Is,Ws,Hs,Ns){Ns===void 0&&(Ns=Hs),Is[Ns]=Ws[Hs]}),t=storage&&storage.__setModuleDefault||(Object.create?function(Is,Ws){Object.defineProperty(Is,"default",{enumerable:!0,value:Ws})}:function(Is,Ws){Is.default=Ws}),et=storage&&storage.__importStar||function(){var Is=function(Ws){return Is=Object.getOwnPropertyNames||function(Hs){var Ns=[];for(var Js in Hs)Object.prototype.hasOwnProperty.call(Hs,Js)&&(Ns[Ns.length]=Js);return Ns},Is(Ws)};return function(Ws){if(Ws&&Ws.__esModule)return Ws;var Hs={};if(Ws!=null)for(var Ns=Is(Ws),Js=0;Js<Ns.length;Js++)Ns[Js]!=="default"&&st(Hs,Ws,Ns[Js]);return t(Hs,Ws),Hs}}(),ms=storage&&storage.__importDefault||function(Is){return Is&&Is.__esModule?Is:{default:Is}};Object.defineProperty(storage,"__esModule",{value:!0}),storage.Storage=void 0;const ws=requireStorageconstants(),vs=ms(requireNaclFast()),_s=requireUtils$3(),Es=requireUtils$4(),Ts=et(requireLog()),Ss=requireUtils$4(),Rs=requireCryptoJs();class Bs{constructor(Ws,Hs=void 0){const Ns=(0,_s.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=Ws,Ts.logDebug("--------get current local storage --------"),Ts.logDebug(Ns),this.synchronizedCache()}checkAndUpgradeCache(Ws,Hs){if(Ws&&Ws.length>0&&Hs&&Hs.length>0){Ts.logDebug("--------get current local storage --------"),Ts.logDebug(localStorage);const Ns=localStorage.getItem(Bs.cacheKey+Ws);if(typeof Ns>"u"||Ns===null){Ts.logDebug("no pre cache content");return}Ts.logDebug(Ns),Ns?.length>0&&(Ts.logDebug("write in cache content: ",Ws,"->",Hs),localStorage.setItem(Bs.cacheKey+Hs,Ns),Ts.logDebug("clean in cache content: ",Ws),localStorage.removeItem(Bs.cacheKey+Ws))}else Ts.logDebug("no pre cache key:",Ws)}saveContent(Ws,Hs,Ns="-"){let Js={id:Ns,timestamp:Date.now().toString(),content:Ws};this.saveItem(Js,Hs)}saveItem(Ws,Hs){let Ns=Bs.cacheKey+this.subKey;const Js=(0,_s.resolveLocalStorage)();Ts.logDebug(this.cache),Ts.logDebug(`get cache obj: ${this.cache}, ${Hs}, ${Ws}`),this.cache[Hs]=Ws;let ha=(0,Es.safeJsonStringify)(this.cache);Ts.logDebug(`STORAGE: ${Hs} @ ${this.cache}`),Js.setItem(Ns,ha)}getItem(Ws){return Ts.logDebug(`STORAGE >> getItem: ${Ws} @ ${this.cache}`),this.cache[Ws]}synchronizedCache(){const Ws=localStorage.getItem(Bs.cacheKey+this.subKey);if(typeof Ws>"u"||Ws===null){Ts.logDebug("with no cache"),this.cache={};return}if(Ts.logDebug(Ws),Ws?.length>0){var Hs=(0,Es.safeJsonParse)(Ws);this.cache=Hs}Ts.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||this.cache==null)&&(this.cache={})}getCachedPBKDF2InfoKey(){var Ws,Hs,Ns,Js;if(this.storeKey.length>0&&((Ws=this.cipherIV)===null||Ws===void 0?void 0:Ws.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let za=(Hs=this.getItem(ws.OKXCONNECTOR_STORAGER_CRYPTO_SALT))===null||Hs===void 0?void 0:Hs.content;za||(za=(0,_s.toHexString)(vs.default.randomBytes(24)),this.saveContent(za,ws.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let Ya=(Ns=this.getItem(ws.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))===null||Ns===void 0?void 0:Ns.content;Ya||(Ya=(0,_s.toHexString)(vs.default.randomBytes(32)),this.saveContent(Ya,ws.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let Bc=(Js=this.getItem(ws.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))===null||Js===void 0?void 0:Js.content;if(!Bc){let Qa=vs.default.randomBytes(16);Bc=(0,_s.toHexString)(Qa),this.saveContent(Bc,ws.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=Bc,this.storeKey=(0,Rs.PBKDF2)(Ya,za,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(Ws,Hs){(0,Ss.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let Ns=this.getCachedPBKDF2InfoKey();(0,Ss.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var Js=Rs.AES.encrypt(Ws,Ns.pw).toString();this.saveContent(Js,Hs),(0,Ss.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(Ws){(0,Ss.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let Hs=this.getItem(Ws);if(Hs&&Hs.content){let Ns=this.getCachedPBKDF2InfoKey();(0,Ss.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let Js=Rs.AES.decrypt(Hs.content,Ns.pw).toString(Rs.enc.Utf8);return(0,Ss.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),Js}return null}clearCache(Ws=void 0){if(Ws===void 0){const Hs=(0,_s.resolveLocalStorage)();this.cache={};let Ns=Bs.cacheKey+this.subKey;Hs.setItem(Ns,"")}else{let Hs=Bs.cacheKey+this.subKey;const Ns=(0,_s.resolveLocalStorage)();Ts.logDebug(this.cache),this.cache[Ws]=null;let Js=(0,Es.safeJsonStringify)(this.cache);Ts.logDebug(`STORAGE: clean key ${Ws} @ ${this.cache}`),Ns.setItem(Hs,Js)}}}return storage.Storage=Bs,Bs.cacheKey="OKXStorageKey",storage}var hasRequiredConnect$1;function requireConnect$1(){if(hasRequiredConnect$1)return connect$1;hasRequiredConnect$1=1;var st=connect$1&&connect$1.__createBinding||(Object.create?function(Ns,Js,ha,pa){pa===void 0&&(pa=ha);var za=Object.getOwnPropertyDescriptor(Js,ha);(!za||("get"in za?!Js.__esModule:za.writable||za.configurable))&&(za={enumerable:!0,get:function(){return Js[ha]}}),Object.defineProperty(Ns,pa,za)}:function(Ns,Js,ha,pa){pa===void 0&&(pa=ha),Ns[pa]=Js[ha]}),t=connect$1&&connect$1.__setModuleDefault||(Object.create?function(Ns,Js){Object.defineProperty(Ns,"default",{enumerable:!0,value:Js})}:function(Ns,Js){Ns.default=Js}),et=connect$1&&connect$1.__importStar||function(){var Ns=function(Js){return Ns=Object.getOwnPropertyNames||function(ha){var pa=[];for(var za in ha)Object.prototype.hasOwnProperty.call(ha,za)&&(pa[pa.length]=za);return pa},Ns(Js)};return function(Js){if(Js&&Js.__esModule)return Js;var ha={};if(Js!=null)for(var pa=Ns(Js),za=0;za<pa.length;za++)pa[za]!=="default"&&st(ha,Js,pa[za]);return t(ha,Js),ha}}(),ms=connect$1&&connect$1.__awaiter||function(Ns,Js,ha,pa){function za(Ya){return Ya instanceof ha?Ya:new ha(function(Bc){Bc(Ya)})}return new(ha||(ha=Promise))(function(Ya,Bc){function Qa(ru){try{eu(pa.next(ru))}catch(cu){Bc(cu)}}function tu(ru){try{eu(pa.throw(ru))}catch(cu){Bc(cu)}}function eu(ru){ru.done?Ya(ru.value):za(ru.value).then(Qa,tu)}eu((pa=pa.apply(Ns,Js||[])).next())})};Object.defineProperty(connect$1,"__esModule",{value:!0}),connect$1.OKXWalletConnector=void 0;const ws=requireConstants$4(),vs=requireStorageconstants(),_s=requireStorage(),Es=requireUtils$4(),Ts=requireUtils$3(),Ss=requireEventemitter3(),Rs=et(requireLog()),Bs=requireProtocol(),Is=requireReport(),Ws=(0,Ts.resolveWebSocketImplementation)();class Hs{constructor(Js){if(this.events=new Ss.EventEmitter,this.state=ws.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,Ts.checkWSUrl)(Js))throw new Error(`CONNECTOR: invalid url ${Js}`);this.url=Js,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new _s.Storage(vs.OKXCONNECTOR_CACHE_KEY+vs.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==ws.ConnectorState.Connecting}onPayload(Js){if(!(typeof Js.data>"u")){if(Rs.logDebug("get received data"),Rs.logDebug(Js),typeof Js.data=="string"&&Js.data==="pong"){Rs.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);return}this.events.emit("payload",Js.data)}}onClose(Js){var ha;Rs.logDebug("socket get closed: ",(ha=this.socket)===null||ha===void 0?void 0:ha.url,Js.code),this.socket=void 0,this.events.emit("close",Js)}onError(Js,ha){const pa={id:Js,msg:ha.toString()};this.events.emit("payload",pa)}onopen(Js){Js.onmessage=ha=>this.onPayload(ha),Js.onclose=ha=>this.onClose(ha),this.socket=Js,this.state=ws.ConnectorState.Connected,this.events.emit("open")}emitError(Js){this.events.emit("fail",Js)}heartbeat(){return ms(this,void 0,void 0,function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state!=ws.ConnectorState.Connected&&this.state!=ws.ConnectorState.OnError){Rs.logDebug("heart beat close");return}if(!this.socket){if(Rs.logDebug("socket not exist"),this.state==ws.ConnectorState.Connected||this.state==ws.ConnectorState.OnError){Rs.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{Rs.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}if(this.socket.readyState!==WebSocket.OPEN){if(Rs.logDebug("socket not ready"),this.state==ws.ConnectorState.Connected||this.state==ws.ConnectorState.OnError){Rs.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{Rs.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}Rs.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)})}registOpen(Js=this.url,ha=!1){if(!(0,Ts.checkWSUrl)(Js))throw new Error(`CONNECTOR: invalid url ${Js}`);return this.url=Js,ha||Rs.logDebug("Connection connect:",this.url,new Date().toUTCString()),this.state=ws.ConnectorState.Connecting,new URLSearchParams(Js).get("origin"),new Promise((pa,za)=>{const Ya=new Ws(Js,[]);Rs.logDebug("Connection connect Begin:",this.url,new Date().toUTCString()),this.startTimeOutTimer(Ya),(0,Ts.hasBuiltInWebSocket)()?(Rs.logDebug("Add socket error handler"),Ya.onerror=()=>{za(new Error("socket error")),Ya.close()}):(Rs.logDebug("Add socket error handler"),Ya.on("error",()=>{za(new Error("socket error")),Ya.close()})),Ya.onopen=()=>{Rs.logDebug("socket opened"),this.resetTimeOutTimer(ws.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(Ya),this.heartbeat(),pa(Ya)}})}checkMaxRetry(){return Rs.logDebug("current retry count:",this.retryCount,"of",ws.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>ws.OKXCONNECTOR_WS_URL_LIST.length*3}connectionTryNext(){return ms(this,void 0,void 0,function*(){if(this.checkMaxRetry())Rs.logDebug("Max Connection retry ",this.retryCount,new Date().toUTCString());else{this.retryCount+=1;let Js=this.getNextSelectUrl();return Rs.logDebug("Connection retry:",Js,new Date().toUTCString()),this.registOpen(Js,!0)}})}startTimeOutTimer(Js){this.connectionTimeoutTimer&&this.resetTimeOutTimer(ws.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=Js,this.connectionTimeoutTimer=setTimeout(()=>{this.pendingSocket&&this.resetTimeOutTimer(ws.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)},this.timeOutLimit)}resetTimeOutTimer(Js){var ha;if(Js==ws.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),(ha=this.pendingSocket)===null||ha===void 0||ha.close(),this.pendingSocket=void 0,Rs.reportEvent(Is.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),vs.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%ws.OKXCONNECTOR_WS_URL_LIST.length,ws.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return ms(this,void 0,void 0,function*(){if(document.visibilityState==="visible"&&(Rs.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==ws.ConnectorState.Connected&&typeof this.socket>"u")){Rs.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{Rs.logError("regist open failed")}return}})}tryRegistOpen(){return ms(this,arguments,void 0,function*(Js=this.url){if(this.connecting)return Rs.logDebug("tryRegistOpen => connecting state"),new Promise((pa,za)=>{this.events.once("fail",Ya=>(Rs.logDebug("tryRegistOpen => connecting fail listener",Ya),za(Ya))),this.events.once("open",()=>typeof this.socket>"u"?za(new Error("Connect lost")):pa(this.socket))});Rs.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let ha=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{Rs.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,ha),yield this.registOpen(Js,ha)}catch(pa){Rs.logDebug("tryRegistOpen => registOpen failed",pa),this.retryCount+=1,Js=this.getNextSelectUrl(),ha=!0}if(Rs.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw Rs.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=ws.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new Bs.OKXConnectError(Bs.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")})}connect(){return ms(this,void 0,void 0,function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(Js){throw Rs.logDebug("connect => failed to connect",Js),Js}})}disconnect(){return ms(this,void 0,void 0,function*(){return this.state=ws.ConnectorState.Disconnected,new Promise((Js,ha)=>{if(typeof this.socket>"u"){Js();return}this.socket.onclose=pa=>{this.onClose(pa),Js()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)})})}currentStatus(){return{state:this.state,url:this.url}}addListener(Js,ha,pa,za,Ya){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=Bc=>ms(this,void 0,void 0,function*(){var Qa;Rs.logDebug(`<<< get payload ${Bc}`);let tu=(0,Es.safeJsonParse)(Bc);if(tu.params&&tu.params.data){let eu=(Qa=tu.params.data)===null||Qa===void 0?void 0:Qa.message,ru=!1;if(eu&&Ya){let cu=yield Ya(tu.params.data);ru=cu.isSplitPackage&&!cu.finalMessage,cu.isSplitPackage&&(cu.finalMessage&&cu.finalMessage.length>0?(Rs.logDebug("CONNECT: update raw msg content"),eu=cu.finalMessage):(Rs.logDebug("CONNECT: skip raw msg content"),ru=!0))}if(!ru)try{let cu=ha(eu);cu===void 0?(Rs.logDebug("CONNECT: decrypt undefined"),za(Js,"Decrypt undefined")):pa(Js,cu)}catch(cu){Rs.logDebug(`CONNECT: decrypt failed: ${cu}`),za(Js,cu.message)}}}),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=Bc=>{Bc?(Rs.logDebug(`CONNECT failed: ${Bc}`),za(Js,Bc.message)):za(Js,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(Js){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=ha=>ms(this,void 0,void 0,function*(){Rs.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${ha}`);let pa=(0,Es.safeJsonParse)(ha);yield Js(pa)}),this.events.on("payload",this.payloadHandler)}once(Js,ha){this.events.once(Js,ha)}off(Js,ha){this.events.off(Js,ha)}removeListener(Js,ha){this.events.removeListener(Js,ha)}send(Js,ha){return ms(this,void 0,void 0,function*(){try{typeof this.socket>"u"&&(Rs.logDebug(`>>> send payload undefined ${ha}`),yield Js()),Rs.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0,Es.safeJsonStringify)(ha)}`),this.socket&&this.socket.send((0,Es.safeJsonStringify)(ha))}catch(pa){this.onError(ha.id,pa)}})}getMsgPayloadFromHistory(Js){return ms(this,void 0,void 0,function*(){if(typeof Js>"u")return;let ha={params:{data:Js}},pa=(0,Es.safeJsonStringify)(Js);Rs.logDebug("get received data from history"),Rs.logDebug(pa),pa=(0,Es.safeJsonStringify)(ha),this.events.emit("payload",pa)})}onOpen(Js){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>ms(this,void 0,void 0,function*(){Rs.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `),yield Js()}),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}return connect$1.OKXWalletConnector=Hs,connect$1}var connectionManager={},commands={},hasRequiredCommands;function requireCommands(){return hasRequiredCommands||(hasRequiredCommands=1,Object.defineProperty(commands,"__esModule",{value:!0}),commands.CONNECT_METHOD_RECV_DISCONNECT=commands.CONNECT_METHOD_DISCONNECT=commands.CONNECT_METHOD_BATCH_FETCHMSG=commands.CONNECT_METHOD_FETCHMSG=commands.CONNECT_METHOD_RECEIVE=commands.CONNECT_METHOD_UNSUB=commands.CONNECT_METHOD_SUB=commands.CONNECT_METHOD_PUBLISH=commands.CONNECT_METHOD_LOGIN=commands.CONNECT_METHOD_PUSH=void 0,commands.CONNECT_METHOD_PUSH="push",commands.CONNECT_METHOD_LOGIN="login",commands.CONNECT_METHOD_PUBLISH="publish",commands.CONNECT_METHOD_SUB="subscribe",commands.CONNECT_METHOD_UNSUB="unsubscribe",commands.CONNECT_METHOD_RECEIVE="receive",commands.CONNECT_METHOD_FETCHMSG="fetchMessages",commands.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages",commands.CONNECT_METHOD_DISCONNECT="disconnect",commands.CONNECT_METHOD_RECV_DISCONNECT="receiveDisconnect"),commands}var jwtconstants={},hasRequiredJwtconstants;function requireJwtconstants(){return hasRequiredJwtconstants||(hasRequiredJwtconstants=1,Object.defineProperty(jwtconstants,"__esModule",{value:!0}),jwtconstants.OKXCONNECTOR_JWT_TTL=jwtconstants.OKXCONNECTOR_JWT_WALLET_SIDE=jwtconstants.OKXCONNECTOR_JWT_SIDE=void 0,jwtconstants.OKXCONNECTOR_JWT_SIDE="wallet",jwtconstants.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",jwtconstants.OKXCONNECTOR_JWT_TTL=864e5),jwtconstants}var crypto$3={},hasRequiredCrypto$1;function requireCrypto$1(){if(hasRequiredCrypto$1)return crypto$3;hasRequiredCrypto$1=1;var st=crypto$3&&crypto$3.__importDefault||function(ws){return ws&&ws.__esModule?ws:{default:ws}};Object.defineProperty(crypto$3,"__esModule",{value:!0}),crypto$3.SessionCrypto=void 0;const t=st(requireNaclFast()),et=requireUtils$3();class ms{constructor(vs=void 0){this.nonceLength=24,this.sessionKeyPair=vs?this.createKeypairFromString(vs):this.createKeypair()}createKeypair(){return t.default.box.keyPair()}createKeypairFromString(vs){return{publicKey:(0,et.hexToByteArray)(vs.publicKey),secretKey:(0,et.hexToByteArray)(vs.secretKey)}}createNonce(){return t.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(vs,_s){const Es=new TextEncoder().encode(vs),Ts=this.createNonce(),Ss=t.default.box(Es,Ts,(0,et.hexToByteArray)(_s),this.keyPair.secretKey);let Rs=(0,et.concatUint8Arrays)(Ts,Ss);var Bs=(0,et.toHexString)(Rs),Is=new TextEncoder().encode(Bs);return(0,et.base64encode)(Is,!1)}encryptWallet(vs,_s){const Es=new TextEncoder().encode(vs),Ts=this.createNonce(),Ss=t.default.box(Es,Ts,(0,et.hexToByteArray)(_s),this.keyPair.secretKey);let Rs=(0,et.concatUint8Arrays)(Ts,Ss);return(0,et.base64encode)(Rs,!1)}decrypt(vs,_s){let Ts=(0,et.base64decode)(vs,!0).toUint8Array();const[Ss,Rs]=(0,et.splitToUint8Arrays)(Ts,this.nonceLength),Bs=t.default.box.open(Rs,Ss,(0,et.hexToByteArray)(_s),this.keyPair.secretKey);if(!Bs)throw new Error(`Decryption error: 
 message: ${vs.toString()} 
 sender pubkey: ${_s.toString()} 
 keypair pubkey: ${(0,et.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,et.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(Bs)}decryptWallet(vs,_s){let Es=(0,et.base64decode)(vs,!0),Ts=(0,et.hexToByteArray)(Es.toString());const[Ss,Rs]=(0,et.splitToUint8Arrays)(Ts,this.nonceLength),Bs=t.default.box.open(Rs,Ss,(0,et.hexToByteArray)(_s),this.keyPair.secretKey);if(!Bs)throw new Error(`Decryption error: 
 message: ${vs.toString()} 
 sender pubkey: ${_s.toString()} 
 keypair pubkey: ${(0,et.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,et.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(Bs)}stringifyKeypair(){return{publicKey:(0,et.toHexString)(this.keyPair.publicKey),secretKey:(0,et.toHexString)(this.keyPair.secretKey)}}}return crypto$3.SessionCrypto=ms,crypto$3}var jwt={},ed25519={},random={},system={},browser$1={},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1,Object.defineProperty(browser$1,"__esModule",{value:!0}),browser$1.BrowserRandomSource=void 0;const st=65536;class t{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const ms=typeof self<"u"?self.crypto||self.msCrypto:null;ms&&ms.getRandomValues!==void 0&&(this._crypto=ms,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(ms){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const ws=new Uint8Array(ms);for(let vs=0;vs<ws.length;vs+=st)this._crypto.getRandomValues(ws.subarray(vs,vs+Math.min(ws.length-vs,st)));return ws}}return browser$1.BrowserRandomSource=t,browser$1}var node={},hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1,Object.defineProperty(node,"__esModule",{value:!0}),node.NodeRandomSource=void 0;const st=requireWipe();class t{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const ms=requireCryptoBrowserify();ms&&ms.randomBytes&&(this._crypto=ms,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(ms){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let ws=this._crypto.randomBytes(ms);if(ws.length!==ms)throw new Error("NodeRandomSource: got fewer bytes than requested");const vs=new Uint8Array(ms);for(let _s=0;_s<vs.length;_s++)vs[_s]=ws[_s];return(0,st.wipe)(ws),vs}}return node.NodeRandomSource=t,node}var hasRequiredSystem;function requireSystem(){if(hasRequiredSystem)return system;hasRequiredSystem=1,Object.defineProperty(system,"__esModule",{value:!0}),system.SystemRandomSource=void 0;const st=requireBrowser$1(),t=requireNode();class et{constructor(){if(this.isAvailable=!1,this.name="",this._source=new st.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new t.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(ws){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(ws)}}return system.SystemRandomSource=et,system}var hasRequiredRandom;function requireRandom(){return hasRequiredRandom||(hasRequiredRandom=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.randomStringForEntropy=st.randomString=st.randomUint32=st.randomBytes=st.defaultRandomSource=void 0;const t=requireSystem(),et=requireBinary(),ms=requireWipe();st.defaultRandomSource=new t.SystemRandomSource;function ws(Ss,Rs=st.defaultRandomSource){return Rs.randomBytes(Ss)}st.randomBytes=ws;function vs(Ss=st.defaultRandomSource){const Rs=ws(4,Ss),Bs=(0,et.readUint32LE)(Rs);return(0,ms.wipe)(Rs),Bs}st.randomUint32=vs;const _s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Es(Ss,Rs=_s,Bs=st.defaultRandomSource){if(Rs.length<2)throw new Error("randomString charset is too short");if(Rs.length>256)throw new Error("randomString charset is too long");let Is="";const Ws=Rs.length,Hs=256-256%Ws;for(;Ss>0;){const Ns=ws(Math.ceil(Ss*256/Hs),Bs);for(let Js=0;Js<Ns.length&&Ss>0;Js++){const ha=Ns[Js];ha<Hs&&(Is+=Rs.charAt(ha%Ws),Ss--)}(0,ms.wipe)(Ns)}return Is}st.randomString=Es;function Ts(Ss,Rs=_s,Bs=st.defaultRandomSource){const Is=Math.ceil(Ss/(Math.log(Rs.length)/Math.LN2));return Es(Is,Rs,Bs)}st.randomStringForEntropy=Ts}(random)),random}var sha512={},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});var t=requireBinary(),et=requireWipe();st.DIGEST_LENGTH=64,st.BLOCK_SIZE=128;var ms=function(){function Es(){this.digestLength=st.DIGEST_LENGTH,this.blockSize=st.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return Es.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},Es.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},Es.prototype.clean=function(){et.wipe(this._buffer),et.wipe(this._tempHi),et.wipe(this._tempLo),this.reset()},Es.prototype.update=function(Ts,Ss){if(Ss===void 0&&(Ss=Ts.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var Rs=0;if(this._bytesHashed+=Ss,this._bufferLength>0){for(;this._bufferLength<st.BLOCK_SIZE&&Ss>0;)this._buffer[this._bufferLength++]=Ts[Rs++],Ss--;this._bufferLength===this.blockSize&&(vs(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Ss>=this.blockSize&&(Rs=vs(this._tempHi,this._tempLo,this._stateHi,this._stateLo,Ts,Rs,Ss),Ss%=this.blockSize);Ss>0;)this._buffer[this._bufferLength++]=Ts[Rs++],Ss--;return this},Es.prototype.finish=function(Ts){if(!this._finished){var Ss=this._bytesHashed,Rs=this._bufferLength,Bs=Ss/536870912|0,Is=Ss<<3,Ws=Ss%128<112?128:256;this._buffer[Rs]=128;for(var Hs=Rs+1;Hs<Ws-8;Hs++)this._buffer[Hs]=0;t.writeUint32BE(Bs,this._buffer,Ws-8),t.writeUint32BE(Is,this._buffer,Ws-4),vs(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,Ws),this._finished=!0}for(var Hs=0;Hs<this.digestLength/8;Hs++)t.writeUint32BE(this._stateHi[Hs],Ts,Hs*8),t.writeUint32BE(this._stateLo[Hs],Ts,Hs*8+4);return this},Es.prototype.digest=function(){var Ts=new Uint8Array(this.digestLength);return this.finish(Ts),Ts},Es.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},Es.prototype.restoreState=function(Ts){return this._stateHi.set(Ts.stateHi),this._stateLo.set(Ts.stateLo),this._bufferLength=Ts.bufferLength,Ts.buffer&&this._buffer.set(Ts.buffer),this._bytesHashed=Ts.bytesHashed,this._finished=!1,this},Es.prototype.cleanSavedState=function(Ts){et.wipe(Ts.stateHi),et.wipe(Ts.stateLo),Ts.buffer&&et.wipe(Ts.buffer),Ts.bufferLength=0,Ts.bytesHashed=0},Es}();st.SHA512=ms;var ws=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function vs(Es,Ts,Ss,Rs,Bs,Is,Ws){for(var Hs=Ss[0],Ns=Ss[1],Js=Ss[2],ha=Ss[3],pa=Ss[4],za=Ss[5],Ya=Ss[6],Bc=Ss[7],Qa=Rs[0],tu=Rs[1],eu=Rs[2],ru=Rs[3],cu=Rs[4],ou=Rs[5],Ga=Rs[6],Xa=Rs[7],Fa,Zs,Wa,Za,iu,au,nu,uu;Ws>=128;){for(var fu=0;fu<16;fu++){var hu=8*fu+Is;Es[fu]=t.readUint32BE(Bs,hu),Ts[fu]=t.readUint32BE(Bs,hu+4)}for(var fu=0;fu<80;fu++){var Eu=Hs,$u=Ns,Ou=Js,gu=ha,yu=pa,Tu=za,du=Ya,wu=Bc,Ru=Qa,Ku=tu,Zu=eu,tl=ru,sl=cu,gl=ou,Fu=Ga,Mu=Xa;if(Fa=Bc,Zs=Xa,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=(pa>>>14|cu<<18)^(pa>>>18|cu<<14)^(cu>>>9|pa<<23),Zs=(cu>>>14|pa<<18)^(cu>>>18|pa<<14)^(pa>>>9|cu<<23),iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,Fa=pa&za^~pa&Ya,Zs=cu&ou^~cu&Ga,iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,Fa=ws[fu*2],Zs=ws[fu*2+1],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,Fa=Es[fu%16],Zs=Ts[fu%16],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Wa=nu&65535|uu<<16,Za=iu&65535|au<<16,Fa=Wa,Zs=Za,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=(Hs>>>28|Qa<<4)^(Qa>>>2|Hs<<30)^(Qa>>>7|Hs<<25),Zs=(Qa>>>28|Hs<<4)^(Hs>>>2|Qa<<30)^(Hs>>>7|Qa<<25),iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,Fa=Hs&Ns^Hs&Js^Ns&Js,Zs=Qa&tu^Qa&eu^tu&eu,iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,wu=nu&65535|uu<<16,Mu=iu&65535|au<<16,Fa=gu,Zs=tl,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Wa,Zs=Za,iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,gu=nu&65535|uu<<16,tl=iu&65535|au<<16,Ns=Eu,Js=$u,ha=Ou,pa=gu,za=yu,Ya=Tu,Bc=du,Hs=wu,tu=Ru,eu=Ku,ru=Zu,cu=tl,ou=sl,Ga=gl,Xa=Fu,Qa=Mu,fu%16===15)for(var hu=0;hu<16;hu++)Fa=Es[hu],Zs=Ts[hu],iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Es[(hu+9)%16],Zs=Ts[(hu+9)%16],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,Wa=Es[(hu+1)%16],Za=Ts[(hu+1)%16],Fa=(Wa>>>1|Za<<31)^(Wa>>>8|Za<<24)^Wa>>>7,Zs=(Za>>>1|Wa<<31)^(Za>>>8|Wa<<24)^(Za>>>7|Wa<<25),iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,Wa=Es[(hu+14)%16],Za=Ts[(hu+14)%16],Fa=(Wa>>>19|Za<<13)^(Za>>>29|Wa<<3)^Wa>>>6,Zs=(Za>>>19|Wa<<13)^(Wa>>>29|Za<<3)^(Za>>>6|Wa<<26),iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Es[hu]=nu&65535|uu<<16,Ts[hu]=iu&65535|au<<16}Fa=Hs,Zs=Qa,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[0],Zs=Rs[0],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[0]=Hs=nu&65535|uu<<16,Rs[0]=Qa=iu&65535|au<<16,Fa=Ns,Zs=tu,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[1],Zs=Rs[1],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[1]=Ns=nu&65535|uu<<16,Rs[1]=tu=iu&65535|au<<16,Fa=Js,Zs=eu,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[2],Zs=Rs[2],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[2]=Js=nu&65535|uu<<16,Rs[2]=eu=iu&65535|au<<16,Fa=ha,Zs=ru,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[3],Zs=Rs[3],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[3]=ha=nu&65535|uu<<16,Rs[3]=ru=iu&65535|au<<16,Fa=pa,Zs=cu,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[4],Zs=Rs[4],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[4]=pa=nu&65535|uu<<16,Rs[4]=cu=iu&65535|au<<16,Fa=za,Zs=ou,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[5],Zs=Rs[5],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[5]=za=nu&65535|uu<<16,Rs[5]=ou=iu&65535|au<<16,Fa=Ya,Zs=Ga,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[6],Zs=Rs[6],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[6]=Ya=nu&65535|uu<<16,Rs[6]=Ga=iu&65535|au<<16,Fa=Bc,Zs=Xa,iu=Zs&65535,au=Zs>>>16,nu=Fa&65535,uu=Fa>>>16,Fa=Ss[7],Zs=Rs[7],iu+=Zs&65535,au+=Zs>>>16,nu+=Fa&65535,uu+=Fa>>>16,au+=iu>>>16,nu+=au>>>16,uu+=nu>>>16,Ss[7]=Bc=nu&65535|uu<<16,Rs[7]=Xa=iu&65535|au<<16,Is+=128,Ws-=128}return Is}function _s(Es){var Ts=new ms;Ts.update(Es);var Ss=Ts.digest();return Ts.clean(),Ss}st.hash=_s}(sha512)),sha512}var hasRequiredEd25519;function requireEd25519(){return hasRequiredEd25519||(hasRequiredEd25519=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.convertSecretKeyToX25519=st.convertPublicKeyToX25519=st.verify=st.sign=st.extractPublicKeyFromSecretKey=st.generateKeyPair=st.generateKeyPairFromSeed=st.SEED_LENGTH=st.SECRET_KEY_LENGTH=st.PUBLIC_KEY_LENGTH=st.SIGNATURE_LENGTH=void 0;const t=requireRandom(),et=requireSha512(),ms=requireWipe();st.SIGNATURE_LENGTH=64,st.PUBLIC_KEY_LENGTH=32,st.SECRET_KEY_LENGTH=64,st.SEED_LENGTH=32;function ws(gu){const yu=new Float64Array(16);if(gu)for(let Tu=0;Tu<gu.length;Tu++)yu[Tu]=gu[Tu];return yu}const vs=new Uint8Array(32);vs[0]=9;const _s=ws(),Es=ws([1]),Ts=ws([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ss=ws([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Rs=ws([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Bs=ws([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Is=ws([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ws(gu,yu){for(let Tu=0;Tu<16;Tu++)gu[Tu]=yu[Tu]|0}function Hs(gu){let yu=1;for(let Tu=0;Tu<16;Tu++){let du=gu[Tu]+yu+65535;yu=Math.floor(du/65536),gu[Tu]=du-yu*65536}gu[0]+=yu-1+37*(yu-1)}function Ns(gu,yu,Tu){const du=~(Tu-1);for(let wu=0;wu<16;wu++){const Ru=du&(gu[wu]^yu[wu]);gu[wu]^=Ru,yu[wu]^=Ru}}function Js(gu,yu){const Tu=ws(),du=ws();for(let wu=0;wu<16;wu++)du[wu]=yu[wu];Hs(du),Hs(du),Hs(du);for(let wu=0;wu<2;wu++){Tu[0]=du[0]-65517;for(let Ku=1;Ku<15;Ku++)Tu[Ku]=du[Ku]-65535-(Tu[Ku-1]>>16&1),Tu[Ku-1]&=65535;Tu[15]=du[15]-32767-(Tu[14]>>16&1);const Ru=Tu[15]>>16&1;Tu[14]&=65535,Ns(du,Tu,1-Ru)}for(let wu=0;wu<16;wu++)gu[2*wu]=du[wu]&255,gu[2*wu+1]=du[wu]>>8}function ha(gu,yu){let Tu=0;for(let du=0;du<32;du++)Tu|=gu[du]^yu[du];return(1&Tu-1>>>8)-1}function pa(gu,yu){const Tu=new Uint8Array(32),du=new Uint8Array(32);return Js(Tu,gu),Js(du,yu),ha(Tu,du)}function za(gu){const yu=new Uint8Array(32);return Js(yu,gu),yu[0]&1}function Ya(gu,yu){for(let Tu=0;Tu<16;Tu++)gu[Tu]=yu[2*Tu]+(yu[2*Tu+1]<<8);gu[15]&=32767}function Bc(gu,yu,Tu){for(let du=0;du<16;du++)gu[du]=yu[du]+Tu[du]}function Qa(gu,yu,Tu){for(let du=0;du<16;du++)gu[du]=yu[du]-Tu[du]}function tu(gu,yu,Tu){let du,wu,Ru=0,Ku=0,Zu=0,tl=0,sl=0,gl=0,Fu=0,Mu=0,Ju=0,vf=0,wf=0,el=0,il=0,hl=0,cl=0,ul=0,yl=0,Cl=0,Bu=0,pu=0,xu=0,qu=0,Pu=0,xf=0,nl=0,wl=0,Il=0,Rl=0,fl=0,Ml=0,Ul=0,kl=Tu[0],Fl=Tu[1],Pl=Tu[2],Wl=Tu[3],jl=Tu[4],Nu=Tu[5],mu=Tu[6],_u=Tu[7],Lu=Tu[8],Vu=Tu[9],vu=Tu[10],Su=Tu[11],Iu=Tu[12],bu=Tu[13],Wu=Tu[14],Xu=Tu[15];du=yu[0],Ru+=du*kl,Ku+=du*Fl,Zu+=du*Pl,tl+=du*Wl,sl+=du*jl,gl+=du*Nu,Fu+=du*mu,Mu+=du*_u,Ju+=du*Lu,vf+=du*Vu,wf+=du*vu,el+=du*Su,il+=du*Iu,hl+=du*bu,cl+=du*Wu,ul+=du*Xu,du=yu[1],Ku+=du*kl,Zu+=du*Fl,tl+=du*Pl,sl+=du*Wl,gl+=du*jl,Fu+=du*Nu,Mu+=du*mu,Ju+=du*_u,vf+=du*Lu,wf+=du*Vu,el+=du*vu,il+=du*Su,hl+=du*Iu,cl+=du*bu,ul+=du*Wu,yl+=du*Xu,du=yu[2],Zu+=du*kl,tl+=du*Fl,sl+=du*Pl,gl+=du*Wl,Fu+=du*jl,Mu+=du*Nu,Ju+=du*mu,vf+=du*_u,wf+=du*Lu,el+=du*Vu,il+=du*vu,hl+=du*Su,cl+=du*Iu,ul+=du*bu,yl+=du*Wu,Cl+=du*Xu,du=yu[3],tl+=du*kl,sl+=du*Fl,gl+=du*Pl,Fu+=du*Wl,Mu+=du*jl,Ju+=du*Nu,vf+=du*mu,wf+=du*_u,el+=du*Lu,il+=du*Vu,hl+=du*vu,cl+=du*Su,ul+=du*Iu,yl+=du*bu,Cl+=du*Wu,Bu+=du*Xu,du=yu[4],sl+=du*kl,gl+=du*Fl,Fu+=du*Pl,Mu+=du*Wl,Ju+=du*jl,vf+=du*Nu,wf+=du*mu,el+=du*_u,il+=du*Lu,hl+=du*Vu,cl+=du*vu,ul+=du*Su,yl+=du*Iu,Cl+=du*bu,Bu+=du*Wu,pu+=du*Xu,du=yu[5],gl+=du*kl,Fu+=du*Fl,Mu+=du*Pl,Ju+=du*Wl,vf+=du*jl,wf+=du*Nu,el+=du*mu,il+=du*_u,hl+=du*Lu,cl+=du*Vu,ul+=du*vu,yl+=du*Su,Cl+=du*Iu,Bu+=du*bu,pu+=du*Wu,xu+=du*Xu,du=yu[6],Fu+=du*kl,Mu+=du*Fl,Ju+=du*Pl,vf+=du*Wl,wf+=du*jl,el+=du*Nu,il+=du*mu,hl+=du*_u,cl+=du*Lu,ul+=du*Vu,yl+=du*vu,Cl+=du*Su,Bu+=du*Iu,pu+=du*bu,xu+=du*Wu,qu+=du*Xu,du=yu[7],Mu+=du*kl,Ju+=du*Fl,vf+=du*Pl,wf+=du*Wl,el+=du*jl,il+=du*Nu,hl+=du*mu,cl+=du*_u,ul+=du*Lu,yl+=du*Vu,Cl+=du*vu,Bu+=du*Su,pu+=du*Iu,xu+=du*bu,qu+=du*Wu,Pu+=du*Xu,du=yu[8],Ju+=du*kl,vf+=du*Fl,wf+=du*Pl,el+=du*Wl,il+=du*jl,hl+=du*Nu,cl+=du*mu,ul+=du*_u,yl+=du*Lu,Cl+=du*Vu,Bu+=du*vu,pu+=du*Su,xu+=du*Iu,qu+=du*bu,Pu+=du*Wu,xf+=du*Xu,du=yu[9],vf+=du*kl,wf+=du*Fl,el+=du*Pl,il+=du*Wl,hl+=du*jl,cl+=du*Nu,ul+=du*mu,yl+=du*_u,Cl+=du*Lu,Bu+=du*Vu,pu+=du*vu,xu+=du*Su,qu+=du*Iu,Pu+=du*bu,xf+=du*Wu,nl+=du*Xu,du=yu[10],wf+=du*kl,el+=du*Fl,il+=du*Pl,hl+=du*Wl,cl+=du*jl,ul+=du*Nu,yl+=du*mu,Cl+=du*_u,Bu+=du*Lu,pu+=du*Vu,xu+=du*vu,qu+=du*Su,Pu+=du*Iu,xf+=du*bu,nl+=du*Wu,wl+=du*Xu,du=yu[11],el+=du*kl,il+=du*Fl,hl+=du*Pl,cl+=du*Wl,ul+=du*jl,yl+=du*Nu,Cl+=du*mu,Bu+=du*_u,pu+=du*Lu,xu+=du*Vu,qu+=du*vu,Pu+=du*Su,xf+=du*Iu,nl+=du*bu,wl+=du*Wu,Il+=du*Xu,du=yu[12],il+=du*kl,hl+=du*Fl,cl+=du*Pl,ul+=du*Wl,yl+=du*jl,Cl+=du*Nu,Bu+=du*mu,pu+=du*_u,xu+=du*Lu,qu+=du*Vu,Pu+=du*vu,xf+=du*Su,nl+=du*Iu,wl+=du*bu,Il+=du*Wu,Rl+=du*Xu,du=yu[13],hl+=du*kl,cl+=du*Fl,ul+=du*Pl,yl+=du*Wl,Cl+=du*jl,Bu+=du*Nu,pu+=du*mu,xu+=du*_u,qu+=du*Lu,Pu+=du*Vu,xf+=du*vu,nl+=du*Su,wl+=du*Iu,Il+=du*bu,Rl+=du*Wu,fl+=du*Xu,du=yu[14],cl+=du*kl,ul+=du*Fl,yl+=du*Pl,Cl+=du*Wl,Bu+=du*jl,pu+=du*Nu,xu+=du*mu,qu+=du*_u,Pu+=du*Lu,xf+=du*Vu,nl+=du*vu,wl+=du*Su,Il+=du*Iu,Rl+=du*bu,fl+=du*Wu,Ml+=du*Xu,du=yu[15],ul+=du*kl,yl+=du*Fl,Cl+=du*Pl,Bu+=du*Wl,pu+=du*jl,xu+=du*Nu,qu+=du*mu,Pu+=du*_u,xf+=du*Lu,nl+=du*Vu,wl+=du*vu,Il+=du*Su,Rl+=du*Iu,fl+=du*bu,Ml+=du*Wu,Ul+=du*Xu,Ru+=38*yl,Ku+=38*Cl,Zu+=38*Bu,tl+=38*pu,sl+=38*xu,gl+=38*qu,Fu+=38*Pu,Mu+=38*xf,Ju+=38*nl,vf+=38*wl,wf+=38*Il,el+=38*Rl,il+=38*fl,hl+=38*Ml,cl+=38*Ul,wu=1,du=Ru+wu+65535,wu=Math.floor(du/65536),Ru=du-wu*65536,du=Ku+wu+65535,wu=Math.floor(du/65536),Ku=du-wu*65536,du=Zu+wu+65535,wu=Math.floor(du/65536),Zu=du-wu*65536,du=tl+wu+65535,wu=Math.floor(du/65536),tl=du-wu*65536,du=sl+wu+65535,wu=Math.floor(du/65536),sl=du-wu*65536,du=gl+wu+65535,wu=Math.floor(du/65536),gl=du-wu*65536,du=Fu+wu+65535,wu=Math.floor(du/65536),Fu=du-wu*65536,du=Mu+wu+65535,wu=Math.floor(du/65536),Mu=du-wu*65536,du=Ju+wu+65535,wu=Math.floor(du/65536),Ju=du-wu*65536,du=vf+wu+65535,wu=Math.floor(du/65536),vf=du-wu*65536,du=wf+wu+65535,wu=Math.floor(du/65536),wf=du-wu*65536,du=el+wu+65535,wu=Math.floor(du/65536),el=du-wu*65536,du=il+wu+65535,wu=Math.floor(du/65536),il=du-wu*65536,du=hl+wu+65535,wu=Math.floor(du/65536),hl=du-wu*65536,du=cl+wu+65535,wu=Math.floor(du/65536),cl=du-wu*65536,du=ul+wu+65535,wu=Math.floor(du/65536),ul=du-wu*65536,Ru+=wu-1+37*(wu-1),wu=1,du=Ru+wu+65535,wu=Math.floor(du/65536),Ru=du-wu*65536,du=Ku+wu+65535,wu=Math.floor(du/65536),Ku=du-wu*65536,du=Zu+wu+65535,wu=Math.floor(du/65536),Zu=du-wu*65536,du=tl+wu+65535,wu=Math.floor(du/65536),tl=du-wu*65536,du=sl+wu+65535,wu=Math.floor(du/65536),sl=du-wu*65536,du=gl+wu+65535,wu=Math.floor(du/65536),gl=du-wu*65536,du=Fu+wu+65535,wu=Math.floor(du/65536),Fu=du-wu*65536,du=Mu+wu+65535,wu=Math.floor(du/65536),Mu=du-wu*65536,du=Ju+wu+65535,wu=Math.floor(du/65536),Ju=du-wu*65536,du=vf+wu+65535,wu=Math.floor(du/65536),vf=du-wu*65536,du=wf+wu+65535,wu=Math.floor(du/65536),wf=du-wu*65536,du=el+wu+65535,wu=Math.floor(du/65536),el=du-wu*65536,du=il+wu+65535,wu=Math.floor(du/65536),il=du-wu*65536,du=hl+wu+65535,wu=Math.floor(du/65536),hl=du-wu*65536,du=cl+wu+65535,wu=Math.floor(du/65536),cl=du-wu*65536,du=ul+wu+65535,wu=Math.floor(du/65536),ul=du-wu*65536,Ru+=wu-1+37*(wu-1),gu[0]=Ru,gu[1]=Ku,gu[2]=Zu,gu[3]=tl,gu[4]=sl,gu[5]=gl,gu[6]=Fu,gu[7]=Mu,gu[8]=Ju,gu[9]=vf,gu[10]=wf,gu[11]=el,gu[12]=il,gu[13]=hl,gu[14]=cl,gu[15]=ul}function eu(gu,yu){tu(gu,yu,yu)}function ru(gu,yu){const Tu=ws();let du;for(du=0;du<16;du++)Tu[du]=yu[du];for(du=253;du>=0;du--)eu(Tu,Tu),du!==2&&du!==4&&tu(Tu,Tu,yu);for(du=0;du<16;du++)gu[du]=Tu[du]}function cu(gu,yu){const Tu=ws();let du;for(du=0;du<16;du++)Tu[du]=yu[du];for(du=250;du>=0;du--)eu(Tu,Tu),du!==1&&tu(Tu,Tu,yu);for(du=0;du<16;du++)gu[du]=Tu[du]}function ou(gu,yu){const Tu=ws(),du=ws(),wu=ws(),Ru=ws(),Ku=ws(),Zu=ws(),tl=ws(),sl=ws(),gl=ws();Qa(Tu,gu[1],gu[0]),Qa(gl,yu[1],yu[0]),tu(Tu,Tu,gl),Bc(du,gu[0],gu[1]),Bc(gl,yu[0],yu[1]),tu(du,du,gl),tu(wu,gu[3],yu[3]),tu(wu,wu,Ss),tu(Ru,gu[2],yu[2]),Bc(Ru,Ru,Ru),Qa(Ku,du,Tu),Qa(Zu,Ru,wu),Bc(tl,Ru,wu),Bc(sl,du,Tu),tu(gu[0],Ku,Zu),tu(gu[1],sl,tl),tu(gu[2],tl,Zu),tu(gu[3],Ku,sl)}function Ga(gu,yu,Tu){for(let du=0;du<4;du++)Ns(gu[du],yu[du],Tu)}function Xa(gu,yu){const Tu=ws(),du=ws(),wu=ws();ru(wu,yu[2]),tu(Tu,yu[0],wu),tu(du,yu[1],wu),Js(gu,du),gu[31]^=za(Tu)<<7}function Fa(gu,yu,Tu){Ws(gu[0],_s),Ws(gu[1],Es),Ws(gu[2],Es),Ws(gu[3],_s);for(let du=255;du>=0;--du){const wu=Tu[du/8|0]>>(du&7)&1;Ga(gu,yu,wu),ou(yu,gu),ou(gu,gu),Ga(gu,yu,wu)}}function Zs(gu,yu){const Tu=[ws(),ws(),ws(),ws()];Ws(Tu[0],Rs),Ws(Tu[1],Bs),Ws(Tu[2],Es),tu(Tu[3],Rs,Bs),Fa(gu,Tu,yu)}function Wa(gu){if(gu.length!==st.SEED_LENGTH)throw new Error(`ed25519: seed must be ${st.SEED_LENGTH} bytes`);const yu=(0,et.hash)(gu);yu[0]&=248,yu[31]&=127,yu[31]|=64;const Tu=new Uint8Array(32),du=[ws(),ws(),ws(),ws()];Zs(du,yu),Xa(Tu,du);const wu=new Uint8Array(64);return wu.set(gu),wu.set(Tu,32),{publicKey:Tu,secretKey:wu}}st.generateKeyPairFromSeed=Wa;function Za(gu){const yu=(0,t.randomBytes)(32,gu),Tu=Wa(yu);return(0,ms.wipe)(yu),Tu}st.generateKeyPair=Za;function iu(gu){if(gu.length!==st.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${st.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(gu.subarray(32))}st.extractPublicKeyFromSecretKey=iu;const au=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function nu(gu,yu){let Tu,du,wu,Ru;for(du=63;du>=32;--du){for(Tu=0,wu=du-32,Ru=du-12;wu<Ru;++wu)yu[wu]+=Tu-16*yu[du]*au[wu-(du-32)],Tu=Math.floor((yu[wu]+128)/256),yu[wu]-=Tu*256;yu[wu]+=Tu,yu[du]=0}for(Tu=0,wu=0;wu<32;wu++)yu[wu]+=Tu-(yu[31]>>4)*au[wu],Tu=yu[wu]>>8,yu[wu]&=255;for(wu=0;wu<32;wu++)yu[wu]-=Tu*au[wu];for(du=0;du<32;du++)yu[du+1]+=yu[du]>>8,gu[du]=yu[du]&255}function uu(gu){const yu=new Float64Array(64);for(let Tu=0;Tu<64;Tu++)yu[Tu]=gu[Tu];for(let Tu=0;Tu<64;Tu++)gu[Tu]=0;nu(gu,yu)}function fu(gu,yu){const Tu=new Float64Array(64),du=[ws(),ws(),ws(),ws()],wu=(0,et.hash)(gu.subarray(0,32));wu[0]&=248,wu[31]&=127,wu[31]|=64;const Ru=new Uint8Array(64);Ru.set(wu.subarray(32),32);const Ku=new et.SHA512;Ku.update(Ru.subarray(32)),Ku.update(yu);const Zu=Ku.digest();Ku.clean(),uu(Zu),Zs(du,Zu),Xa(Ru,du),Ku.reset(),Ku.update(Ru.subarray(0,32)),Ku.update(gu.subarray(32)),Ku.update(yu);const tl=Ku.digest();uu(tl);for(let sl=0;sl<32;sl++)Tu[sl]=Zu[sl];for(let sl=0;sl<32;sl++)for(let gl=0;gl<32;gl++)Tu[sl+gl]+=tl[sl]*wu[gl];return nu(Ru.subarray(32),Tu),Ru}st.sign=fu;function hu(gu,yu){const Tu=ws(),du=ws(),wu=ws(),Ru=ws(),Ku=ws(),Zu=ws(),tl=ws();return Ws(gu[2],Es),Ya(gu[1],yu),eu(wu,gu[1]),tu(Ru,wu,Ts),Qa(wu,wu,gu[2]),Bc(Ru,gu[2],Ru),eu(Ku,Ru),eu(Zu,Ku),tu(tl,Zu,Ku),tu(Tu,tl,wu),tu(Tu,Tu,Ru),cu(Tu,Tu),tu(Tu,Tu,wu),tu(Tu,Tu,Ru),tu(Tu,Tu,Ru),tu(gu[0],Tu,Ru),eu(du,gu[0]),tu(du,du,Ru),pa(du,wu)&&tu(gu[0],gu[0],Is),eu(du,gu[0]),tu(du,du,Ru),pa(du,wu)?-1:(za(gu[0])===yu[31]>>7&&Qa(gu[0],_s,gu[0]),tu(gu[3],gu[0],gu[1]),0)}function Eu(gu,yu,Tu){const du=new Uint8Array(32),wu=[ws(),ws(),ws(),ws()],Ru=[ws(),ws(),ws(),ws()];if(Tu.length!==st.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${st.SIGNATURE_LENGTH} bytes`);if(hu(Ru,gu))return!1;const Ku=new et.SHA512;Ku.update(Tu.subarray(0,32)),Ku.update(gu),Ku.update(yu);const Zu=Ku.digest();return uu(Zu),Fa(wu,Ru,Zu),Zs(Ru,Tu.subarray(32)),ou(wu,Ru),Xa(du,wu),!ha(Tu,du)}st.verify=Eu;function $u(gu){let yu=[ws(),ws(),ws(),ws()];if(hu(yu,gu))throw new Error("Ed25519: invalid public key");let Tu=ws(),du=ws(),wu=yu[1];Bc(Tu,Es,wu),Qa(du,Es,wu),ru(du,du),tu(Tu,Tu,du);let Ru=new Uint8Array(32);return Js(Ru,Tu),Ru}st.convertPublicKeyToX25519=$u;function Ou(gu){const yu=(0,et.hash)(gu.subarray(0,32));yu[0]&=248,yu[31]&=127,yu[31]|=64;const Tu=new Uint8Array(yu.subarray(0,32));return(0,ms.wipe)(yu),Tu}st.convertSecretKeyToX25519=Ou}(ed25519)),ed25519}var hasRequiredJwt;function requireJwt(){return hasRequiredJwt||(hasRequiredJwt=1,function(st){var t=jwt&&jwt.__createBinding||(Object.create?function(ru,cu,ou,Ga){Ga===void 0&&(Ga=ou);var Xa=Object.getOwnPropertyDescriptor(cu,ou);(!Xa||("get"in Xa?!cu.__esModule:Xa.writable||Xa.configurable))&&(Xa={enumerable:!0,get:function(){return cu[ou]}}),Object.defineProperty(ru,Ga,Xa)}:function(ru,cu,ou,Ga){Ga===void 0&&(Ga=ou),ru[Ga]=cu[ou]}),et=jwt&&jwt.__setModuleDefault||(Object.create?function(ru,cu){Object.defineProperty(ru,"default",{enumerable:!0,value:cu})}:function(ru,cu){ru.default=cu}),ms=jwt&&jwt.__importStar||function(){var ru=function(cu){return ru=Object.getOwnPropertyNames||function(ou){var Ga=[];for(var Xa in ou)Object.prototype.hasOwnProperty.call(ou,Xa)&&(Ga[Ga.length]=Xa);return Ga},ru(cu)};return function(cu){if(cu&&cu.__esModule)return cu;var ou={};if(cu!=null)for(var Ga=ru(cu),Xa=0;Xa<Ga.length;Xa++)Ga[Xa]!=="default"&&t(ou,cu,Ga[Xa]);return et(ou,cu),ou}}(),ws=jwt&&jwt.__awaiter||function(ru,cu,ou,Ga){function Xa(Fa){return Fa instanceof ou?Fa:new ou(function(Zs){Zs(Fa)})}return new(ou||(ou=Promise))(function(Fa,Zs){function Wa(au){try{iu(Ga.next(au))}catch(nu){Zs(nu)}}function Za(au){try{iu(Ga.throw(au))}catch(nu){Zs(nu)}}function iu(au){au.done?Fa(au.value):Xa(au.value).then(Wa,Za)}iu((Ga=Ga.apply(ru,cu||[])).next())})},vs=jwt&&jwt.__importDefault||function(ru){return ru&&ru.__esModule?ru:{default:ru}};Object.defineProperty(st,"__esModule",{value:!0}),st.MULTICODEC_ED25519_LENGTH=st.MULTICODEC_ED25519_HEADER=st.MULTICODEC_ED25519_BASE=st.MULTICODEC_ED25519_ENCODING=st.DID_METHOD=st.DID_PREFIX=st.DID_DELIMITER=st.KEY_PAIR_SEED_LENGTH=st.DATA_ENCODING=st.JSON_ENCODING=st.JWT_ENCODING=st.JWT_DELIMITER=st.JWT_IRIDIUM_TYP=st.JWT_IRIDIUM_ALG=st.JWTHeaderType=void 0,st.generateKeyPair=Is,st.decodeJSON=Ws,st.encodeJSON=Hs,st.encodeIss=Ns,st.decodeIss=Js,st.encodeSig=ha,st.decodeSig=pa,st.encodeData=za,st.decodeData=Ya,st.encodeJWT=Bc,st.decodeJWT=Qa,st.signJWT=tu,st.verifyJWT=eu;const _s=ms(requireEd25519()),Es=requireSafejson(),Ts=requireUtils$3(),Ss=vs(requireNaclFast()),Rs=ms(requireLog()),Bs=requireStringUtils();st.JWTHeaderType="dapp",st.JWT_IRIDIUM_ALG="EdDSA",st.JWT_IRIDIUM_TYP="JWT",st.JWT_DELIMITER=".",st.JWT_ENCODING="base64url",st.JSON_ENCODING="utf8",st.DATA_ENCODING="utf8",st.KEY_PAIR_SEED_LENGTH=32,st.DID_DELIMITER=":",st.DID_PREFIX="did",st.DID_METHOD="key",st.MULTICODEC_ED25519_ENCODING="base58btc",st.MULTICODEC_ED25519_BASE="z",st.MULTICODEC_ED25519_HEADER="K36",st.MULTICODEC_ED25519_LENGTH=32;function Is(){return Ss.default.sign.keyPair()}function Ws(ru){return(0,Es.safeJsonParse)((0,Bs.okxtoString)((0,Bs.okxfromString)(ru,st.JWT_ENCODING),st.JSON_ENCODING))}function Hs(ru){return(0,Bs.okxtoString)((0,Bs.okxfromString)((0,Es.safeJsonStringify)(ru),st.JSON_ENCODING),st.JWT_ENCODING)}function Ns(ru){Rs.logDebug(`publicKey: ${(0,Ts.toHexString)(ru)}`);var cu=(0,Bs.okxtoString)(ru,st.MULTICODEC_ED25519_ENCODING);return[st.DID_PREFIX,st.DID_METHOD,cu].join(st.DID_DELIMITER)}function Js(ru){const[cu,ou,Ga]=ru.split(st.DID_DELIMITER);if(cu!==st.DID_PREFIX||ou!==st.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(Ga===void 0)throw new Error("multicodec is undefined");const Xa=(0,Bs.okxfromString)(Ga,st.MULTICODEC_ED25519_ENCODING);if(Xa===void 0||Xa.length!==st.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return Xa}function ha(ru){return(0,Bs.okxtoString)(ru,st.JWT_ENCODING)}function pa(ru){return(0,Bs.okxfromString)(ru,st.JWT_ENCODING)}function za(ru){return(0,Bs.okxfromString)([Hs(ru.header),Hs(ru.payload)].join(st.JWT_DELIMITER),st.DATA_ENCODING)}function Ya(ru){var cu,ou;const Ga=(0,Bs.okxtoString)(ru,st.DATA_ENCODING).split(st.JWT_DELIMITER),Xa=Ws((cu=Ga[0])!==null&&cu!==void 0?cu:"{}"),Fa=Ws((ou=Ga[1])!==null&&ou!==void 0?ou:"{}");return{header:Xa,payload:Fa}}function Bc(ru){return[Hs(ru.header),Hs(ru.payload),ha(ru.signature)].join(st.JWT_DELIMITER)}function Qa(ru){var cu,ou,Ga;const Xa=ru.split(st.JWT_DELIMITER),Fa=Ws((cu=Xa[0])!==null&&cu!==void 0?cu:"{}"),Zs=Ws((ou=Xa[1])!==null&&ou!==void 0?ou:"{}"),Wa=pa((Ga=Xa[2])!==null&&Ga!==void 0?Ga:"{}"),Za=(0,Bs.okxfromString)(Xa.slice(0,2).join(st.JWT_DELIMITER),st.DATA_ENCODING);return{header:Fa,payload:Zs,signature:Wa,data:Za}}function tu(ru,cu,ou,Ga){return ws(this,arguments,void 0,function*(Xa,Fa,Zs,Wa,Za=Math.floor(Date.now())){const iu={alg:st.JWT_IRIDIUM_ALG,typ:st.JWT_IRIDIUM_TYP},au=Ns(Wa.publicKey),nu=Za+Zs,fu={iss:au,sub:Xa,aud:Fa,act:"authenticate user",iat:Za,exp:nu},hu=za({header:iu,payload:fu});Rs.logDebug(`get sec kp: ${Wa.secretKey} {${Wa.secretKey.length}}`);const Eu=Ss.default.sign.detached(hu,Wa.secretKey);return Bc({header:iu,payload:fu,signature:Eu})})}function eu(ru){return ws(this,void 0,void 0,function*(){const{header:cu,payload:ou,data:Ga,signature:Xa}=Qa(ru);if(cu.alg!==st.JWT_IRIDIUM_ALG||cu.typ!==st.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const Fa=Js(ou.iss);return _s.verify(Fa,Ga,Xa)})}}(jwt)),jwt}var connectionSplitPackages={},hasRequiredConnectionSplitPackages;function requireConnectionSplitPackages(){if(hasRequiredConnectionSplitPackages)return connectionSplitPackages;hasRequiredConnectionSplitPackages=1;var st=connectionSplitPackages&&connectionSplitPackages.__createBinding||(Object.create?function(ha,pa,za,Ya){Ya===void 0&&(Ya=za);var Bc=Object.getOwnPropertyDescriptor(pa,za);(!Bc||("get"in Bc?!pa.__esModule:Bc.writable||Bc.configurable))&&(Bc={enumerable:!0,get:function(){return pa[za]}}),Object.defineProperty(ha,Ya,Bc)}:function(ha,pa,za,Ya){Ya===void 0&&(Ya=za),ha[Ya]=pa[za]}),t=connectionSplitPackages&&connectionSplitPackages.__setModuleDefault||(Object.create?function(ha,pa){Object.defineProperty(ha,"default",{enumerable:!0,value:pa})}:function(ha,pa){ha.default=pa}),et=connectionSplitPackages&&connectionSplitPackages.__importStar||function(){var ha=function(pa){return ha=Object.getOwnPropertyNames||function(za){var Ya=[];for(var Bc in za)Object.prototype.hasOwnProperty.call(za,Bc)&&(Ya[Ya.length]=Bc);return Ya},ha(pa)};return function(pa){if(pa&&pa.__esModule)return pa;var za={};if(pa!=null)for(var Ya=ha(pa),Bc=0;Bc<Ya.length;Bc++)Ya[Bc]!=="default"&&st(za,pa,Ya[Bc]);return t(za,pa),za}}(),ms=connectionSplitPackages&&connectionSplitPackages.__awaiter||function(ha,pa,za,Ya){function Bc(Qa){return Qa instanceof za?Qa:new za(function(tu){tu(Qa)})}return new(za||(za=Promise))(function(Qa,tu){function eu(ou){try{cu(Ya.next(ou))}catch(Ga){tu(Ga)}}function ru(ou){try{cu(Ya.throw(ou))}catch(Ga){tu(Ga)}}function cu(ou){ou.done?Qa(ou.value):Bc(ou.value).then(eu,ru)}cu((Ya=Ya.apply(ha,pa||[])).next())})},ws=connectionSplitPackages&&connectionSplitPackages.__importDefault||function(ha){return ha&&ha.__esModule?ha:{default:ha}};Object.defineProperty(connectionSplitPackages,"__esModule",{value:!0}),connectionSplitPackages.ConnectionSplitPackages=void 0;const vs=requireStorageconstants(),_s=ws(requireLocalforage()),Es=requireUtils$3(),Ts=requireSafejson(),Ss=et(requireLog()),Rs=requireLog(),Bs=2,Is=63e3,Ws="ConnectionReceiveKey",Hs="ConnectionSendKey",Ns="ConnectionSenderVersionKey";class Js{constructor(pa){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=_s.default.createInstance({name:vs.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+pa})}init(pa){return ms(this,void 0,void 0,function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(const[za,Ya]of this.splitMessageSendArray.entries())for(let Bc=0;Bc<Ya.length;){const Qa=Ya[Bc];try{yield pa((0,Ts.safeJsonStringify)(Qa),za),Ss.logDebug(`Successfully sent payload: ${(0,Ts.safeJsonStringify)(Qa)} to topic: ${za}`),Ya.splice(Bc,1)}catch(tu){Ss.logError(`Failed to send payload: ${(0,Ts.safeJsonStringify)(Qa)} to topic: ${za}`,tu),Qa.retryCount=(Qa.retryCount||0)+1,Qa.retryCount>3?(Ss.logError(`Payload failed after 3 retries: ${(0,Ts.safeJsonStringify)(Qa)}`),Ya.splice(Bc,1)):Bc++}}yield this.syncCache()}})}tryParseMessageSplitPayload(pa){var za;let Ya;try{if(pa.trimStart().startsWith("{")){let Bc=(0,Ts.safeJsonParse)(pa);if(Bc&&Bc.protocol_version&&Bc.protocol_version>=2){let Qa=Bc;Qa.package_group_id&&((za=Qa.package_group_id)===null||za===void 0?void 0:za.length)>0&&(Ya=Bc)}}else(0,Rs.logDebug)("not split packages")}catch{(0,Rs.logDebug)("not split packages")}return Ya}updateTopicSenderVersion(pa,za){return ms(this,void 0,void 0,function*(){this.splitMessageSenderVersionMap.set(pa,za),yield this.syncCache(),(0,Rs.logDebug)("get update topic sender version: ",pa,za)})}sendSplitPackages(pa,za,Ya,Bc){return ms(this,void 0,void 0,function*(){if(!pa){Ss.logError("sendSplitPackages invalid topic");return}let Qa=this.splitMessageSenderVersionMap.get(pa),tu=za.length;try{if(tu<Is)throw new Error(`no need to split (size:${tu})`);if(!Qa||Qa&&Qa<Bs)throw new Error(`version not support split (version: ${Qa})`);const eu=[];let ru=Is;for(let Ga=0;Ga<za.length;Ga+=ru)Ga+ru<za.length?eu.push(za.slice(Ga,Ga+ru)):eu.push(za.slice(Ga));let cu=(0,Es.generateGroupId)(),ou=eu.map((Ga,Xa)=>({topicId:pa,protocol_version:Bs,total_count:eu.length,package_index:Xa,package_group_id:cu,content:Ga}));this.mergePackageArray(!0,ou);for(let Ga=0;Ga<ou.length;){const Xa=ou[Ga],Fa=(0,Ts.safeJsonStringify)(Xa);try{yield Bc(Fa,pa),Ss.logDebug(`Successfully sent payload: ${Fa} to topic: ${pa}`),ou.splice(Ga,1)}catch(Zs){Ss.logError(`Failed to send payload: ${Fa} to topic: ${pa}`,Zs),Xa.retryCount=(Xa.retryCount||0)+1,Xa.retryCount>3?(Ss.logError(`Payload failed after 3 retries: ${Fa}`),ou.splice(Ga,1)):Ga++}}this.splitMessageSendArray.set(pa,[]),yield this.syncCache()}catch(eu){(0,Rs.logDebug)("send split packages no split"),(0,Rs.logDebug)(eu),yield Ya(pa,za)}})}onReceivedPackageCheck(pa){return ms(this,void 0,void 0,function*(){this.mergePackageArray(!1,[pa]);let za=new Map,Ya=pa.topicId;this.splitMessageReceivedArray.forEach((Qa,tu)=>{tu==pa.topicId&&Qa.forEach(eu=>{if(eu.messageObject.package_group_id){let ru=za.get(eu.messageObject.package_group_id);ru||(ru=new Array),ru.push(eu),za.set(eu.messageObject.package_group_id,ru)}})}),(0,Rs.logDebug)("on received message, check message cache");let Bc={isSplitPackage:!1};if(pa.messageObject.package_group_id){Bc.isSplitPackage=!0;let Qa=za.get(pa.messageObject.package_group_id);if(Qa?.length){let tu=new Set;if(Qa.forEach(eu=>{eu.messageObject.package_index!==void 0&&tu.add(eu.messageObject.package_index)}),tu.size==pa.messageObject.total_count){Qa.sort((ou,Ga)=>(ou.messageObject.package_index||ou.messageObject.package_index===0)&&(Ga.messageObject.package_index||Ga.messageObject.package_index===0)?ou.messageObject.package_index-Ga.messageObject.package_index:0);let eu=Qa.reduce((ou,Ga)=>(ou.push(Ga.messageObject.content),ou),[]),ru=Qa.reduce((ou,Ga)=>(ou.push(Ga.messageId),ou),[]);Bc.isSplitPackage=!0,Bc.finalMessage=eu.join(""),Bc.completeMessageIdList=ru;let cu=this.splitMessageReceivedArray.get(Ya);cu&&(cu=cu.filter(ou=>!ru.includes(ou.messageId)),this.splitMessageReceivedArray.set(Ya,cu)),yield this.syncCache()}}}return Bc})}mergePackageArray(pa,za){return ms(this,void 0,void 0,function*(){if((0,Rs.logDebug)("append sending array"),pa){let Bc=za.filter(Qa=>{let tu=Qa.topicId,eu=!0,ru=this.splitMessageSendArray.get(tu);return ru?.forEach(cu=>{cu.package_group_id==Qa.package_group_id&&cu.total_count==Qa.total_count&&cu.package_index==Qa.package_index&&(eu=!1)}),eu});if(Bc.length>0){let Qa=Bc[0].topicId,tu=this.splitMessageSendArray.get(Qa);tu||(tu=new Array),tu=tu.concat(Bc),this.splitMessageSendArray.set(Qa,tu),(0,Rs.logDebug)("append sending array (after filted): ",tu)}}else{let Bc=za.filter(Qa=>{let tu=Qa.topicId,eu=!0,ru=this.splitMessageReceivedArray.get(tu);return ru?.forEach(cu=>{cu.messageId==Qa.messageId&&(eu=!1)}),eu});if(Bc.length>0){let Qa=Bc[0].topicId,tu=this.splitMessageReceivedArray.get(Qa);tu||(tu=new Array),tu=tu.concat(Bc),this.splitMessageReceivedArray.set(Qa,tu),(0,Rs.logDebug)("append received array (after filted): ",tu)}}})}syncCache(){return ms(this,void 0,void 0,function*(){(0,Rs.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(Ws,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(Hs,this.splitMessageSendArray),yield this.splitPackageCache.setItem(Ns,this.splitMessageSenderVersionMap)})}recoverFromCache(){return ms(this,void 0,void 0,function*(){let pa=yield this.splitPackageCache.getItem(Ws);pa?this.splitMessageReceivedArray=pa:this.splitMessageReceivedArray=new Map;let za=yield this.splitPackageCache.getItem(Hs);za?this.splitMessageSendArray=za:this.splitMessageSendArray=new Map;let Ya=yield this.splitPackageCache.getItem(Ns);Ya?this.splitMessageSenderVersionMap=Ya:this.splitMessageSenderVersionMap=new Map})}}return connectionSplitPackages.ConnectionSplitPackages=Js,connectionSplitPackages}var hasRequiredConnectionManager;function requireConnectionManager(){if(hasRequiredConnectionManager)return connectionManager;hasRequiredConnectionManager=1;var st=connectionManager&&connectionManager.__createBinding||(Object.create?function(Bc,Qa,tu,eu){eu===void 0&&(eu=tu);var ru=Object.getOwnPropertyDescriptor(Qa,tu);(!ru||("get"in ru?!Qa.__esModule:ru.writable||ru.configurable))&&(ru={enumerable:!0,get:function(){return Qa[tu]}}),Object.defineProperty(Bc,eu,ru)}:function(Bc,Qa,tu,eu){eu===void 0&&(eu=tu),Bc[eu]=Qa[tu]}),t=connectionManager&&connectionManager.__setModuleDefault||(Object.create?function(Bc,Qa){Object.defineProperty(Bc,"default",{enumerable:!0,value:Qa})}:function(Bc,Qa){Bc.default=Qa}),et=connectionManager&&connectionManager.__importStar||function(){var Bc=function(Qa){return Bc=Object.getOwnPropertyNames||function(tu){var eu=[];for(var ru in tu)Object.prototype.hasOwnProperty.call(tu,ru)&&(eu[eu.length]=ru);return eu},Bc(Qa)};return function(Qa){if(Qa&&Qa.__esModule)return Qa;var tu={};if(Qa!=null)for(var eu=Bc(Qa),ru=0;ru<eu.length;ru++)eu[ru]!=="default"&&st(tu,Qa,eu[ru]);return t(tu,Qa),tu}}(),ms=connectionManager&&connectionManager.__awaiter||function(Bc,Qa,tu,eu){function ru(cu){return cu instanceof tu?cu:new tu(function(ou){ou(cu)})}return new(tu||(tu=Promise))(function(cu,ou){function Ga(Zs){try{Fa(eu.next(Zs))}catch(Wa){ou(Wa)}}function Xa(Zs){try{Fa(eu.throw(Zs))}catch(Wa){ou(Wa)}}function Fa(Zs){Zs.done?cu(Zs.value):ru(Zs.value).then(Ga,Xa)}Fa((eu=eu.apply(Bc,Qa||[])).next())})};Object.defineProperty(connectionManager,"__esModule",{value:!0}),connectionManager.ConnectionManager=void 0;const ws=requireConnect$1(),vs=requireCommands(),_s=requireStorageconstants(),Es=requireJwtconstants(),Ts=requireConstants$4(),Ss=requireEventemitter3(),Rs=requireStorage(),Bs=requireUtils$3(),Is=requireCrypto$1(),Ws=requireJwt(),Hs=requireSafejson(),Ns=et(requireLog()),Js=requireLog(),ha=requireReport(),pa=requireUrl(),za=requireConnectionSplitPackages();class Ya{constructor(Qa=void 0){this.events=new Ss.EventEmitter,this.splitManager=new za.ConnectionSplitPackages("dapp"),this.connectorEnable=!1,this.connectStorage=new Rs.Storage(_s.OKXCONNECTOR_CACHE_KEY_DAPP+Qa,_s.OKXCONNECTOR_CACHE_KEY_DAPP),this.tonsdkConnectStorage=new Rs.Storage(_s.OKXCONNECTOR_TON_KEY+Qa,_s.OKXCONNECTOR_TON_KEY),this.crypto=new Is.SessionCrypto;let tu=(0,pa.isInTMA)();if((0,Js.logDebug)("do init:",tu),Ns.reportLog("connection manager do init"),tu)try{const eu=this.getCachedCryptoKeyPair();(0,Js.logDebug)("use same pk:",eu),this.crypto=new Is.SessionCrypto(eu)}catch{this.connectStorage.clearCache(),Ns.reportEvent(ha.OKXReportType.LOG,"cache_fail","cache failed")}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new ws.OKXWalletConnector(Ts.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",Ns.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let Qa=Date.now();Qa==this.packageId&&(this.packageId=Qa+1),this.packageId=Qa}saveCryptoKeyPair(Qa){let tu=(0,Hs.safeJsonStringify)(Qa);this.connectStorage.encryptStoreMsg(tu,_s.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const tu=this.connectStorage.getAndDecrypt(_s.OKXCONNECTOR_CRYPTO_KEY);return typeof tu=="string"?(Ns.logDebug("get cached crypto key:"),Ns.logDebug(tu),(0,Hs.safeJsonParse)(tu)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(Qa){var tu={publicKey:(0,Bs.toHexString)(Qa.publicKey),secretKey:(0,Bs.toHexString)(Qa.secretKey)};Ns.logDebug("save jwt kp");let eu=(0,Hs.safeJsonStringify)(tu);Ns.logDebug(eu),this.connectStorage.encryptStoreMsg(eu,_s.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){try{const eu=this.connectStorage.getAndDecrypt(_s.OKXCONNECTOR_JWT_KEY);if(typeof eu=="string"){Ns.logDebug("get cached jwt kp:"),Ns.logDebug(eu);let ru=(0,Hs.safeJsonParse)(eu);Ns.logDebug("save jwt kp"),Ns.logDebug(ru);var Qa={publicKey:(0,Bs.hexToByteArray)(ru.publicKey),secretKey:(0,Bs.hexToByteArray)(ru.secretKey)};return Qa}else return(0,Ws.generateKeyPair)()}catch{return Ns.reportEvent(ha.OKXReportType.LOG,"cache_fail","cache failed"),(0,Ws.generateKeyPair)()}}isWalletPKReady(){return Ns.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(Qa){return ms(this,void 0,void 0,function*(){return yield(0,Ws.signJWT)(Qa,Es.OKXCONNECTOR_JWT_SIDE,Es.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parsePackage(Qa){return ms(this,arguments,void 0,function*(tu,eu=!1){var ru,cu,ou,Ga,Xa,Fa,Zs,Wa,Za,iu,au,nu,uu;if(this.events.emit(tu.id,tu),!eu){yield this.sendACK(tu.id,!0);let fu=(ru=this.connectStorage.getItem(_s.OKXCONNECTOR_TOKEN_CACHE))===null||ru===void 0?void 0:ru.content;if(fu){let hu=tu;if(!((ou=(cu=hu.params)===null||cu===void 0?void 0:cu.data)===null||ou===void 0)&&ou.messageId){hu.method&&hu.method===vs.CONNECT_METHOD_PUSH&&((0,Js.logDebug)("checkExpire: update expire when get push"),this.updateExpireLimit(fu));let Eu=this.splitManager.tryParseMessageSplitPayload((Xa=(Ga=hu.params)===null||Ga===void 0?void 0:Ga.data)===null||Xa===void 0?void 0:Xa.message);if(Eu){let $u={topicId:(Zs=(Fa=hu.params)===null||Fa===void 0?void 0:Fa.data)===null||Zs===void 0?void 0:Zs.topic,messageId:(Za=(Wa=hu.params)===null||Wa===void 0?void 0:Wa.data)===null||Za===void 0?void 0:Za.messageId,messageObject:Eu,publishedAt:(au=(iu=hu.params)===null||iu===void 0?void 0:iu.data)===null||au===void 0?void 0:au.publishedAt},Ou=yield this.splitManager.onReceivedPackageCheck($u);Ou.completeMessageIdList&&Ou.completeMessageIdList.forEach(gu=>ms(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),gu,fu)}))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(uu=(nu=hu.params)===null||nu===void 0?void 0:nu.data)===null||uu===void 0?void 0:uu.messageId,fu)}}}})}restoreConnect(Qa){return ms(this,void 0,void 0,function*(){if(Ns.reportLog("connection manager restore connection"),Ns.logDebug(`connectionManager  restoreConenct   ${Qa}`),typeof Qa!="string"||Qa.length===0)throw new Error("CONNECTION: invalid topic");Ns.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(Qa,_s.OKXCONNECTOR_TOKEN_CACHE),Ns.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)})}getConnectInfo(){var Qa=(0,Bs.generateTopic)();return Ns.logDebug(`generate topic token: ${Qa}`),Ns.reportLog("connection manager generate connection info"),this.currentTopic=Qa,{channelId:Qa,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return ms(this,arguments,void 0,function*(Qa=!1){this.timeLog=new Date().getTime(),(0,Js.logDebug)("ConnectTime---enter->",this.timeLog),Ns.reportLog("connection manager begin connect");let tu=this.connectStorage.getItem(_s.OKXCONNECTOR_TOKEN_CACHE);var eu=this.currentTopic;if(Ns.logDebug(`generate topic token: ${eu}`),Qa){typeof tu<"u"&&tu!==null&&(Ns.logDebug(`read last connect id: ${tu}`),eu=tu.content);var ru=this.connectStorage.getItem(_s.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);ru&&(this.connectedWalletPK=ru.content,(0,Js.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),Ns.reportLog("connection manager do restore connection")}if(Qa)try{const ou=this.getCachedCryptoKeyPair();ou&&(this.crypto=new Is.SessionCrypto(ou))}catch{throw Ns.logError("get crypto key pair from cache failed"),Ns.reportEvent(ha.OKXReportType.LOG,"cache_fail","cache failed"),this.connectStorage.clearCache(),new Error("crypto cache failed")}Ns.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(eu,_s.OKXCONNECTOR_TOKEN_CACHE);var cu=yield this.makeJWT(eu);return Ns.logDebug(`generate jwt token: ${cu}`),this.connectStorage.saveContent(cu,"jwt"),new Promise((ou,Ga)=>{this.connector.onOpen(()=>ms(this,void 0,void 0,function*(){Ns.logDebug("1. connector on open"),Ns.reportLog("1. connect ws open");const Xa=new Date().getTime();(0,Js.logDebug)("ConnectTime---open->",Xa-this.timeLog),this.events.once(this.packageId.toString(),Fa=>ms(this,void 0,void 0,function*(){if(Fa&&Fa.error){Ns.logError("failed when login"),Ns.reportLog("2. connect login failed"),yield this.connector.disconnect();var Zs=new Error;Zs.message=Fa.error.message,Zs.name=Fa.error.code.toString(),Ga(Zs)}this.refreshPackageId(),this.events.once(this.packageId.toString(),Za=>ms(this,void 0,void 0,function*(){if(Za&&Za.error){Ns.logError("failed when subscribe"),Ns.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var iu=new Error;iu.message=Za.error.message,iu.name=Za.error.code.toString(),Ga(iu)}this.refreshPackageId(),Ns.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),Ns.reportLog("4. subscribe callback then send fetch");const au=new Date().getTime();(0,Js.logDebug)("ConnectTime--subscribe callback->",au-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),eu),Ns.logDebug(`5. splitmanager init: ${this.packageId}`),Ns.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),Qa&&(this.checkExpire(eu)?((0,Js.logDebug)("disconnect From topic expire"),setTimeout(()=>{this.activateDisconnect()},1e3)):((0,Js.logDebug)("extends expire check"),this.updateExpireLimit(eu))),ou()})),Ns.logDebug(`3. login callback then send subscribe: ${this.packageId}`),Ns.reportLog("3. connect subscribe failed");const Wa=new Date().getTime();(0,Js.logDebug)("ConnectTime---login callback->",Wa-this.timeLog),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(Za=>{(0,Js.logDebug)("ConnectionManager connect error",Za),Ga(Za)})}),{id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_SUB,params:{topic:eu}})})),Ns.logDebug("2. login called"),Ns.reportLog("2. connection manager connect call login"),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(Fa=>{(0,Js.logDebug)("ConnectionManager connect error",Fa),Ga(Fa)})}),{id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_LOGIN,params:{token:cu}}),this.connector.addPackageParse(Fa=>{var Zs;if(Ns.logDebug("connect: parse package"),Ns.logDebug(Fa),!("params"in Fa)||!("data"in Fa.params)){this.parsePackage(Fa,!0);return}let Wa=(Zs=Fa.params.data)===null||Zs===void 0?void 0:Zs.message;if(typeof Wa<"u"&&Wa.length>0){Wa=Wa.replace(/'/g,'"');let Za=(0,Hs.safeJsonParse)(Wa);typeof Za!="string"&&"clientId"in Za&&Za.clientId&&Za.clientId.length>0&&(this.connectedWalletPK=Za.clientId,Ns.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,_s.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(Fa,Fa.method===vs.CONNECT_METHOD_RECEIVE)})})),this.connector.connect().catch(Xa=>{(0,Js.logDebug)("ConnectionManager connect error",Xa),Ga(Xa)}),this.connectorEnable=!0})})}sendSubscribe(Qa){return ms(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){}),{id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_SUB,params:{topic:Qa}})})}sendDisconnect(Qa){return ms(this,void 0,void 0,function*(){return new Promise((tu,eu)=>ms(this,void 0,void 0,function*(){if(this.refreshPackageId(),!this.connectorEnable){Ns.logDebug("skip disconnect before connected relay"),tu();return}this.events.once(this.packageId.toString(),cu=>ms(this,void 0,void 0,function*(){Ns.logDebug("CONNECT: disconnect command send"),this.connectorEnable=!1,tu()}));const ru={id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_DISCONNECT,params:{message:{topic:Qa,ttl:Ts.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL}}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){Ns.logDebug("CONNECT: skip reconnect send")}),ru)}))})}sendRecvDisconnect(Qa){return ms(this,void 0,void 0,function*(){this.refreshPackageId();const tu={id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_RECV_DISCONNECT,params:{topic:Qa}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),tu)})}disconnect(){return ms(this,arguments,void 0,function*(Qa=!1){try{yield this.sendDisconnect(this.currentTopic)}catch(tu){Ns.logError("send disconnect command failed",tu)}yield this.connector.disconnect(),Ns.reportLog("connect disconnect"),this.connectStorage.clearCache(_s.OKXCONNECTOR_TOKEN_CACHE),Qa||(this.connectStorage.clearCache(_s.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,Js.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))})}updateProtocolVersion(Qa,tu){this.splitManager.updateTopicSenderVersion(Qa,tu)}addListener(Qa,tu,eu){this.connector.addListener((0,Hs.safeJsonStringify)(Qa),ru=>{if(ru=ru.replace(/'/g,'"'),Ns.logDebug(`addListener ===> ${ru}`),typeof ru<"u"&&ru.length>0){var cu=(0,Hs.safeJsonParse)(ru),ou=cu.message;let Ga;return ou.trimStart().startsWith("{")?Ga=ou:(cu.clientId&&cu.clientId.length>0&&(this.connectedWalletPK=cu.clientId,this.connectStorage.saveContent(this.connectedWalletPK,_s.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),Ns.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),Ns.logDebug(`this.cryptoKey  addListener   ${(0,Bs.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),Ga=this.crypto.decrypt(ou,this.connectedWalletPK)),Ns.logDebug(`addListener ===> ${Ga}`),Ga}},tu,eu,ru=>new Promise((cu,ou)=>ms(this,void 0,void 0,function*(){let Ga=this.splitManager.tryParseMessageSplitPayload(ru.message);if(Ga){let Xa={topicId:ru.topic,messageId:ru?.messageId,messageObject:Ga,publishedAt:ru?.publishedAt},Fa=yield this.splitManager.onReceivedPackageCheck(Xa);cu(Fa)}else cu({isSplitPackage:!1})})))}sendRaw(Qa){return ms(this,void 0,void 0,function*(){Ns.logDebug(`message send =====> ${Qa}`),Ns.reportLog("connect send raw msg");let tu=Qa;Ns.logDebug(`message send =====encrypt message.length>>>> ${tu.length}`);let eu=this.connectStorage.getItem(_s.OKXCONNECTOR_TOKEN_CACHE);Ns.logDebug(`message send =====topic>>>> ${eu?.content}`),this.refreshPackageId();const ru={id:this.packageId.toString(),method:vs.CONNECT_METHOD_PUBLISH,jsonrpc:Ts.CONNECT_JSONRPC_VER,params:{message:{topic:eu?.content,message:tu,ttl:Ts.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),cu=>ms(this,void 0,void 0,function*(){cu&&cu.error?Ns.logError(`@${new Date().toUTCString()} >>> failed when send msg`):cu&&!cu.error&&Ns.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru),this.packageId})}sendEncryptedMsg(Qa,tu){return ms(this,arguments,void 0,function*(eu,ru,cu=Ts.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();const ou={id:this.packageId.toString(),method:vs.CONNECT_METHOD_PUBLISH,jsonrpc:Ts.CONNECT_JSONRPC_VER,params:{message:{topic:eu,message:ru,ttl:cu}}};this.events.once(this.packageId.toString(),Ga=>ms(this,void 0,void 0,function*(){Ga&&Ga.error?Ns.logError(`@${new Date().toUTCString()} >>> failed when send msg`):Ga&&!Ga.error&&Ns.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ou)})}send(Qa){return ms(this,arguments,void 0,function*(tu,eu=Ts.OKXCONNECTOR_MESSAGE_TTL){if(Ns.logDebug(`message send =====> ${tu}`),Ns.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let ru=this.crypto.encrypt(tu,this.connectedWalletPK);Ns.logDebug(`message send =====encrypt message.length>>>> ${ru.length}`),Ns.reportEvent(ha.OKXReportType.LOG,"msg_size",ru.length.toString());let cu=this.connectStorage.getItem(_s.OKXCONNECTOR_TOKEN_CACHE);return Ns.logDebug(`message send =====topic>>>> ${cu?.content}`),yield this.splitManager.sendSplitPackages(cu?.content,ru,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId})}sendACK(Qa,tu){return ms(this,arguments,void 0,function*(eu,ru,cu=void 0){if(ru===!0){const ou={id:eu,jsonrpc:Ts.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ou)}else if(cu){const ou={id:eu,jsonrpc:Ts.CONNECT_JSONRPC_VER,error:{code:cu.code,message:cu.message}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ou)}})}sendReceive(Qa,tu,eu){return ms(this,void 0,void 0,function*(){const ru={id:Qa,jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_RECEIVE,params:{data:{messageId:tu,topic:eu}}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru)})}sendFetchAndConsumeMessages(Qa,tu){return ms(this,void 0,void 0,function*(){this.events.once(Qa,cu=>ms(this,void 0,void 0,function*(){var ou,Ga;if(cu.result){var Xa=cu.result.hasMore,Fa=cu.result.data;const Zs=cu.result.disconnectedTopics;if(Zs)try{for(let Wa=0;Wa<Zs.length;Wa++){const Za=Zs[Wa];if(Za.topic){(0,Js.logDebug)("send receive disconnect:",Za.topic),yield this.sendRecvDisconnect(Za.topic);let iu=(0,Hs.safeJsonStringify)({requestId:Za.publishedAt.toString(),method:"disconnect"}),au={messageId:Za.publishedAt.toString(),message:(0,Hs.safeJsonStringify)({message:iu}),topic:Za.topic,publishedAt:Za.publishedAt};yield this.connector.getMsgPayloadFromHistory(au)}}}catch(Wa){Ns.logError("disconnect topic fails",Wa)}if(Fa)for(let Wa=0;Wa<Fa.length;Wa++){let Za=Fa[Wa];if(Za&&Za.topic==tu){let iu=Za.messageId;Ns.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload(Za.message)?(yield this.connector.getMsgPayloadFromHistory(Za),Ns.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory(Za),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),iu,tu))}}Xa&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),tu))}else Ns.logDebug(`CONNECT: get error rsp ${(ou=cu.error)===null||ou===void 0?void 0:ou.code} : ${(Ga=cu.error)===null||Ga===void 0?void 0:Ga.message}`)})),Ns.logDebug("5. send fetch more"),Ns.reportLog("5. send fetch more");const eu=new Date().getTime();(0,Js.logDebug)("ConnectTime---5->",eu-this.timeLog);const ru={id:Qa,jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_FETCHMSG,params:{data:{topic:tu}}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return Ns.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru)})}cleanCache(){Ns.reportLog("connection cache clean called"),this.connectStorage.clearCache()}saveSessionContent(Qa,tu){tu||this.connectStorage.clearCache(_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa);let eu=(0,Hs.safeJsonStringify)(tu);this.connectStorage.encryptStoreMsg(eu,_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa)}getSessionContent(Qa){try{let tu=this.connectStorage.getAndDecrypt(_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa);if(tu)return(0,Hs.safeJsonParse)(tu)}catch{this.connectStorage.clearCache(_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa)}}getCurrentConnectionReady(){let Qa=!1;try{this.getCachedCryptoKeyPair()&&(Qa=!0)}catch{Ns.logError("check connection ready failed")}return this.isWalletPKReady()&&Qa}getCryptoKeyEnable(){let Qa=!1;try{this.getCachedCryptoKeyPair()&&(Qa=!0)}catch{Ns.logError("check connection ready failed")}return Qa}checkExpire(Qa){let tu=!1;if(Qa.length==0)return(0,Js.logDebug)("checkExpire: invalid topic"),tu;let eu=this.getSessionContent(_s.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE);return eu&&eu.topic?eu.topic==Qa?Date.now()>eu.timestamp&&((0,Js.logDebug)("checkExpire: connection is Expired"),tu=!0):((0,Js.logDebug)("checkExpire: not same connection"),tu=!1):((0,Js.logDebug)("checkExpire: not topic records"),this.updateExpireLimit(Qa),tu=!1),tu}updateExpireLimit(Qa){(0,Js.logDebug)(`update expire limit for topic: ${Qa}`);let tu={topic:Qa,timestamp:Date.now()+Ts.OKXCONNECTOR_SESSION_LIVE_TTL};this.saveSessionContent(_s.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE,tu)}activateDisconnect(){return ms(this,void 0,void 0,function*(){let Qa=(0,Hs.safeJsonStringify)({requestId:"",method:"disconnect"}),tu={messageId:"",message:(0,Hs.safeJsonStringify)({message:Qa}),topic:this.currentTopic,publishedAt:0};yield this.connector.getMsgPayloadFromHistory(tu)})}}return connectionManager.ConnectionManager=Ya,connectionManager}var walletConnectionManager={},walletConnectionConstants={},hasRequiredWalletConnectionConstants;function requireWalletConnectionConstants(){return hasRequiredWalletConnectionConstants||(hasRequiredWalletConnectionConstants=1,Object.defineProperty(walletConnectionConstants,"__esModule",{value:!0}),walletConnectionConstants.WalletConnectionManagerEvent=walletConnectionConstants.WalletConnectionManagerTopicInfoCacheKey=void 0,walletConnectionConstants.WalletConnectionManagerTopicInfoCacheKey="wcmtic",walletConnectionConstants.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}),walletConnectionConstants}var hasRequiredWalletConnectionManager;function requireWalletConnectionManager(){if(hasRequiredWalletConnectionManager)return walletConnectionManager;hasRequiredWalletConnectionManager=1;var st=walletConnectionManager&&walletConnectionManager.__createBinding||(Object.create?function(Bc,Qa,tu,eu){eu===void 0&&(eu=tu);var ru=Object.getOwnPropertyDescriptor(Qa,tu);(!ru||("get"in ru?!Qa.__esModule:ru.writable||ru.configurable))&&(ru={enumerable:!0,get:function(){return Qa[tu]}}),Object.defineProperty(Bc,eu,ru)}:function(Bc,Qa,tu,eu){eu===void 0&&(eu=tu),Bc[eu]=Qa[tu]}),t=walletConnectionManager&&walletConnectionManager.__setModuleDefault||(Object.create?function(Bc,Qa){Object.defineProperty(Bc,"default",{enumerable:!0,value:Qa})}:function(Bc,Qa){Bc.default=Qa}),et=walletConnectionManager&&walletConnectionManager.__importStar||function(){var Bc=function(Qa){return Bc=Object.getOwnPropertyNames||function(tu){var eu=[];for(var ru in tu)Object.prototype.hasOwnProperty.call(tu,ru)&&(eu[eu.length]=ru);return eu},Bc(Qa)};return function(Qa){if(Qa&&Qa.__esModule)return Qa;var tu={};if(Qa!=null)for(var eu=Bc(Qa),ru=0;ru<eu.length;ru++)eu[ru]!=="default"&&st(tu,Qa,eu[ru]);return t(tu,Qa),tu}}(),ms=walletConnectionManager&&walletConnectionManager.__awaiter||function(Bc,Qa,tu,eu){function ru(cu){return cu instanceof tu?cu:new tu(function(ou){ou(cu)})}return new(tu||(tu=Promise))(function(cu,ou){function Ga(Zs){try{Fa(eu.next(Zs))}catch(Wa){ou(Wa)}}function Xa(Zs){try{Fa(eu.throw(Zs))}catch(Wa){ou(Wa)}}function Fa(Zs){Zs.done?cu(Zs.value):ru(Zs.value).then(Ga,Xa)}Fa((eu=eu.apply(Bc,Qa||[])).next())})};Object.defineProperty(walletConnectionManager,"__esModule",{value:!0}),walletConnectionManager.WalletConnectionManager=void 0;const ws=requireConnect$1(),vs=requireCommands(),_s=requireStorageconstants(),Es=requireJwtconstants(),Ts=requireConstants$4(),Ss=requireWalletConnectionConstants(),Rs=requireConnectionSplitPackages(),Bs=requireEventemitter3(),Is=requireStorage(),Ws=requireUtils$3(),Hs=requireCrypto$1(),Ns=requireJwt(),Js=requireSafejson(),ha=et(requireLog()),pa=requireLog(),za=requireUtils$4();class Ya{constructor(){this.events=new Bs.EventEmitter,this.communicateEvents=new Bs.EventEmitter,this.splitManager=new Rs.ConnectionSplitPackages("wallet"),ha.logDebug("connect manager construct"),this.connectStorage=new Is.Storage(_s.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new ws.OKXWalletConnector(Ts.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(Qa=0){let tu=Date.now()+Qa;tu==this.packageId&&(this.packageId=tu+1),this.packageId=tu}saveCryptoKeyPair(Qa,tu){let eu=(0,Js.safeJsonStringify)(tu);this.connectStorage.encryptStoreMsg(eu,_s.OKXCONNECTOR_CRYPTO_KEY+Qa)}getCachedCryptoKeyPair(Qa){const eu=this.connectStorage.getAndDecrypt(_s.OKXCONNECTOR_CRYPTO_KEY+Qa);return typeof eu=="string"?(ha.logDebug("get cached crypto key:"),ha.logDebug(eu),(0,Js.safeJsonParse)(eu)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(Qa){var tu={publicKey:(0,Ws.toHexString)(Qa.publicKey),secretKey:(0,Ws.toHexString)(Qa.secretKey)};ha.logDebug("save jwt kp");let eu=(0,Js.safeJsonStringify)(tu);ha.logDebug(eu),this.connectStorage.encryptStoreMsg(eu,_s.OKXCONNECTOR_JWT_KEY),ha.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const tu=this.connectStorage.getAndDecrypt(_s.OKXCONNECTOR_JWT_KEY);if(typeof tu=="string"){ha.logDebug("get cached jwt kp:"),ha.logDebug(tu);let ru=(0,Js.safeJsonParse)(tu);ha.logDebug("save jwt kp"),ha.logDebug(ru);var eu={publicKey:(0,Ws.hexToByteArray)(ru.publicKey),secretKey:(0,Ws.hexToByteArray)(ru.secretKey)};return eu}else return(0,Ns.generateKeyPair)()}isTopicPublicKeyExist(Qa){return ha.logDebug(`isTopicPublicKeyExist  ===> ${Qa}`),this.sessionCryptoInfoMap.get(Qa)}makeJWT(Qa){return ms(this,void 0,void 0,function*(){return yield(0,Ns.signJWT)(Qa,Es.OKXCONNECTOR_JWT_WALLET_SIDE,Es.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parseInternalMsg(Qa){try{let eu=(0,Js.safeJsonParse)(Qa)["ivur-igbfft-ptjip"];if(eu&&eu.length>0)return(0,za.base64decode)(eu,!0).toString()}catch(tu){ha.logError("parse internal msg",tu)}}updateClientId(Qa,tu){let eu=this.sessionCryptoInfoMap.get(Qa);if((0,pa.logDebug)("updateClientId",eu,Qa,tu),eu&&tu&&tu.length>0){if(eu.cid){let ru=(0,Ws.getLastSixMd5Hash)(tu);eu.cid==ru?eu.dappPublicKey=tu:ha.logError("cid check failed",eu,Qa,tu)}else eu.dappPublicKey=tu;this.syncCacheSessionInfo()}return!1}parsePackage(Qa,tu){return ms(this,arguments,void 0,function*(eu,ru,cu=!1){var ou,Ga,Xa,Fa,Zs,Wa,Za,iu,au,nu,uu,fu,hu,Eu,$u,Ou,gu;this.events.emit(ru.id,ru);let yu=this.sessionCryptoInfoMap.get(eu);ha.logDebug("get sessionInfo for decrypt topic:",eu),ha.logDebug("get sessionInfo for decrypt:",ru.id,eu,yu,this.sessionCryptoInfoMap);let Tu=!1;if(yu&&ru.params.data&&!((ou=ru.params.data)===null||ou===void 0)&&ou.message)if(!((Ga=ru.params.data)===null||Ga===void 0)&&Ga.isInternalData){let du=(Xa=ru.params.data)===null||Xa===void 0?void 0:Xa.message,wu=(Fa=ru.params.data)===null||Fa===void 0?void 0:Fa.topic,Ru=this.parseInternalMsg(du);(0,pa.logDebug)("parse internal origin: ",Ru),Ru&&Ru.length>0&&this.communicateEvents.emit("origin",Ru,wu)}else try{let du=(Zs=ru.params.data)===null||Zs===void 0?void 0:Zs.message;if(ru.method&&ru.method===vs.CONNECT_METHOD_PUSH&&((0,pa.logDebug)("checkExpire: update expire when get push"),this.updateExpireLimit(eu)),du.trimStart().startsWith("{")){let wu=this.splitManager.tryParseMessageSplitPayload(du);if(wu){(0,pa.logDebug)("parse split msg object: ",wu),Tu=!0;let Ru={topicId:(Za=(Wa=ru.params)===null||Wa===void 0?void 0:Wa.data)===null||Za===void 0?void 0:Za.topic,messageId:(au=(iu=ru.params)===null||iu===void 0?void 0:iu.data)===null||au===void 0?void 0:au.messageId,messageObject:wu,publishedAt:(uu=(nu=ru.params)===null||nu===void 0?void 0:nu.data)===null||uu===void 0?void 0:uu.publishedAt},Ku=yield this.splitManager.onReceivedPackageCheck(Ru);if(Ku.completeMessageIdList&&Ku.completeMessageIdList.forEach(Zu=>ms(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),Zu,eu)})),Ku.finalMessage){let Zu=yu.crypto.decryptWallet(Ku.finalMessage,yu.dappPublicKey);(0,pa.logDebug)("<<< receive msg from split:",eu,Zu),this.communicateEvents.emit(eu,Zu)}}else{let Ru=(0,Js.safeJsonParse)(du);if(Ru.method){if(Ru.method=="session_info"){let Ku=Ru.params.sessionInfo,Zu=(0,za.base64decode)(Ku,!1);(0,pa.logDebug)("wallet connection manager requset base64Content:",Zu),(0,pa.logDebug)("base64Content:"+Zu);let tl=Zu.toObject();this.updateClientId(eu,tl.clientId)}(0,pa.logDebug)("<<< parse raw msg:",eu,Ru),this.communicateEvents.emit(eu,du)}}}else{let wu=yu.crypto.decryptWallet((fu=ru.params.data)===null||fu===void 0?void 0:fu.message,yu.dappPublicKey);(0,pa.logDebug)("<<< receive msg:",eu,wu),this.communicateEvents.emit(eu,wu)}}catch{let wu=yu.crypto.decryptWallet((hu=ru.params.data)===null||hu===void 0?void 0:hu.message,yu.dappPublicKey);(0,pa.logDebug)("<<< receive msg:",eu,wu),this.communicateEvents.emit(eu,wu)}if(!cu&&(yield this.sendACK(ru.id,!0),eu&&!Tu)){let du=ru;!(($u=(Eu=du.params)===null||Eu===void 0?void 0:Eu.data)===null||$u===void 0)&&$u.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(gu=(Ou=du.params)===null||Ou===void 0?void 0:Ou.data)===null||gu===void 0?void 0:gu.messageId,eu))}})}recovrySessionInfoFromCache(){let Qa=this.connectStorage.getAndDecrypt(Ss.WalletConnectionManagerTopicInfoCacheKey);if(ha.logDebug("get cached sessionInfos:",Qa),Qa){let tu=(0,Js.safeJsonParse)(Qa);for(let eu in tu){let ru=tu[eu];ha.logDebug("make topicItem:",ru);let cu={topic:eu,crypto:new Hs.SessionCrypto({publicKey:ru.cryptoKeyPair.publicKey,secretKey:ru.cryptoKeyPair.secretKey}),dappPublicKey:ru.dappPublicKey,cid:ru.cid};this.sessionCryptoInfoMap.set(eu,cu)}}ha.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let Qa={};for(let[eu,ru]of this.sessionCryptoInfoMap)ha.logDebug("for each Keys",eu),ru&&(Qa[eu]={cryptoKeyPair:ru.crypto.stringifyKeypair(),dappPublicKey:ru.dappPublicKey,cid:ru.cid});let tu=(0,Js.safeJsonStringify)(Qa);ha.logDebug("sync cache sessionInfos:",tu),this.connectStorage.encryptStoreMsg(tu,Ss.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(Qa,tu,eu=!0){let ru=tu.dappPublicKey,cu=[];for(let[ou,Ga]of this.sessionCryptoInfoMap)ha.logDebug("for each Keys",ou),Ga.dappPublicKey==ru&&(ha.logDebug("duplicated dapp public key:",ou,ru),cu.push(ou));for(let[ou,Ga]of this.sessionCryptoInfoMap)cu.includes(ou)&&this.sessionCryptoInfoMap.delete(ou);return ha.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(Qa,tu),ha.logDebug("cache sessionInfo:",Qa,tu,this.sessionCryptoInfoMap),eu&&this.syncCacheSessionInfo(),cu}updateProtocolVersion(Qa,tu){this.splitManager.updateTopicSenderVersion(Qa,tu)}appendTopic(Qa,tu,eu){return ms(this,void 0,void 0,function*(){return(0,pa.logDebug)("4.1. get append Topic:",Qa),new Promise((ru,cu)=>ms(this,void 0,void 0,function*(){if(!this.isLogined){var ou=new Error;ou.message="connection is not logined",ou.name="append error",cu(ou);return}let Ga={topic:Qa,crypto:new Hs.SessionCrypto,dappPublicKey:tu||"",cid:eu},Xa=this.cacheSessionInfo(Qa,Ga,!1);yield this.subscribeTopics(Array.from([Qa])),this.refreshPackageId(),ha.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${Qa}`),ha.reportLog("5. subscribe callback then fetch append message");const Fa=new Date().getTime();(0,pa.logDebug)("Append --subscribe callback->",Fa-this.timeLog),ru(Xa)}))})}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return ms(this,void 0,void 0,function*(){this.timeLog=new Date().getTime(),(0,pa.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),ha.reportLog("wallet connect connect called");let Qa=Date.now().toString();var tu=yield this.makeJWT(Qa);return ha.logDebug(`generate jwt token: ${tu}`),this.connectStorage.saveContent(tu,"jwt"),this.recovrySessionInfoFromCache(),new Promise((eu,ru)=>{this.inLogin=!0,this.connector.onOpen(()=>ms(this,void 0,void 0,function*(){ha.logDebug("1. connector on open"),ha.reportLog("1. wallet connect connect on open");const cu=new Date().getTime();(0,pa.logDebug)("ConnectTime---open->",cu-this.timeLog),this.events.once(this.packageId.toString(),ou=>ms(this,void 0,void 0,function*(){if(ou&&ou.error){ha.logError("failed when login"),yield this.connector.disconnect();var Ga=new Error;Ga.message=ou.error.message,Ga.name=ou.error.code.toString(),ru(Ga)}else this.isLogined=!0,eu(),ha.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),ha.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})),ha.logDebug("2. login called"),ha.reportLog("2. wallet connect login called"),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_LOGIN,params:{token:tu}})})),this.connector.connect().catch(cu=>{(0,pa.logDebug)("WalletConnectionManager connect error",cu),ru(cu)}),this.connector.addPackageParse(cu=>{var ou,Ga;if(ha.logDebug("connect: parse package"),ha.logDebug(cu),!("params"in cu)||!("data"in cu.params)){this.parsePackage("",cu,!0);return}!((ou=cu.params.data)===null||ou===void 0)&&ou.topic&&this.parsePackage((Ga=cu.params.data)===null||Ga===void 0?void 0:Ga.topic,cu,cu.method===vs.CONNECT_METHOD_RECEIVE)})})})}getSessionPublicKey(Qa){if(this.isTopicPublicKeyExist(Qa)){let tu=this.sessionCryptoInfoMap.get(Qa);if(tu)return(0,Ws.toHexString)(tu.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}sendDisconnect(Qa){return ms(this,void 0,void 0,function*(){this.refreshPackageId();const tu={id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_DISCONNECT,params:{message:{topic:Qa,ttl:Ts.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL}}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),tu)})}sendRecvDisconnect(Qa){return ms(this,void 0,void 0,function*(){this.refreshPackageId();const tu={id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_RECV_DISCONNECT,params:{topic:Qa}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),tu)})}disconnect(){return ms(this,arguments,void 0,function*(Qa=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(_s.OKXCONNECTOR_TOKEN_CACHE),Qa||this.connectStorage.clearCache(_s.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)})}sendRaw(Qa,tu){return ms(this,void 0,void 0,function*(){tu&&(yield this.sendMsg(tu,Qa,Ts.OKXCONNECTOR_MESSAGE_TTL))})}sendMsg(Qa,tu,eu){return ms(this,void 0,void 0,function*(){if(tu){this.refreshPackageId();const ru={id:this.packageId.toString(),method:vs.CONNECT_METHOD_PUBLISH,jsonrpc:Ts.CONNECT_JSONRPC_VER,params:{message:{topic:Qa,message:tu,ttl:eu}}};this.events.once(this.packageId.toString(),cu=>ms(this,void 0,void 0,function*(){cu&&cu.error?ha.logError(`@${new Date().toUTCString()} >>> failed when send msg`):cu&&!cu.error&&ha.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru)}})}send(Qa,tu){return ms(this,arguments,void 0,function*(eu,ru,cu=!1,ou=Ts.OKXCONNECTOR_MESSAGE_TTL,Ga=!1){var Xa,Fa;if(ha.logDebug(`message send =====> ${ru}`),!this.isTopicPublicKeyExist(eu))throw new Error("connection not finish");let Zs=(Xa=this.sessionCryptoInfoMap.get(eu))===null||Xa===void 0?void 0:Xa.dappPublicKey,Wa=(Fa=this.sessionCryptoInfoMap.get(eu))===null||Fa===void 0?void 0:Fa.crypto,Za;Ga&&(Za={message:ru});let iu=!1;if(Wa&&Zs&&!Ga){let au=Wa.encryptWallet(ru,Zs);iu=!0,Za={message:au}}if(Za){cu&&Wa&&(Za.clientId=(0,Ws.toHexString)(Wa.keyPair.publicKey));let au=(0,Js.safeJsonStringify)(Za);!Ga&&iu?yield this.splitManager.sendSplitPackages(eu,au,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(eu,au,ou)}})}sendACK(Qa,tu){return ms(this,arguments,void 0,function*(eu,ru,cu=void 0){if(ru===!0){const ou={id:eu,jsonrpc:Ts.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ou)}else if(cu){const ou={id:eu,jsonrpc:Ts.CONNECT_JSONRPC_VER,error:{code:cu.code,message:cu.message}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ou)}})}sendReceive(Qa,tu,eu){return ms(this,void 0,void 0,function*(){const ru={id:Qa,jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_RECEIVE,params:{data:{messageId:tu,topic:eu}}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru)})}sendUnsubscribe(Qa){return ms(this,void 0,void 0,function*(){yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_UNSUB,params:{topic:Qa}});try{yield this.sendDisconnect(Qa)}catch(tu){ha.logError("send disconnect command failed",tu)}this.sessionCryptoInfoMap.delete(Qa),this.syncCacheSessionInfo()})}sendFetchAndConsumeMessages(Qa,tu){return ms(this,void 0,void 0,function*(){this.events.once(Qa,cu=>ms(this,void 0,void 0,function*(){var ou,Ga;if(cu.result){var Xa=cu.result.hasMore,Fa=cu.result.data;if(Fa)for(let Zs=0;Zs<Fa.length;Zs++){let Wa=Fa[Zs];if(Wa&&Wa.topic==tu){let Za=Wa.messageId;yield this.connector.getMsgPayloadFromHistory(Wa),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),Za,tu)}}Xa&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),tu))}else ha.logDebug(`CONNECT: get error rsp ${(ou=cu.error)===null||ou===void 0?void 0:ou.code} : ${(Ga=cu.error)===null||Ga===void 0?void 0:Ga.message}`)})),ha.logDebug("5. send fetch more");const eu=new Date().getTime();(0,pa.logDebug)("ConnectTime---5->",eu-this.timeLog);const ru={id:Qa,jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_FETCHMSG,params:{data:{topic:tu}}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru)})}sendBatchFetchAndConsumeMessages(Qa,tu){return ms(this,void 0,void 0,function*(){this.events.once(Qa,cu=>ms(this,void 0,void 0,function*(){var ou,Ga;if(cu.result){var Xa=cu.result.hasMore,Fa=cu.result.data;const Zs=cu.result.disconnectedTopics;if(Zs)try{for(let Wa=0;Wa<Zs.length;Wa++){const Za=Zs[Wa];if(Za.topic){(0,pa.logDebug)("send receive disconnect:",Za.topic),yield this.sendRecvDisconnect(Za.topic);let iu=(0,Js.safeJsonStringify)({requestId:Za.publishedAt.toString(),method:vs.CONNECT_METHOD_DISCONNECT}),au={messageId:Za.publishedAt.toString(),message:(0,Js.safeJsonStringify)({message:iu}),topic:Za.topic,publishedAt:Za.publishedAt};yield this.connector.getMsgPayloadFromHistory(au)}}}catch(Wa){ha.logError("disconnect topic fails",Wa)}if(Fa)for(let Wa=0;Wa<Fa.length;Wa++){let Za=Fa[Wa];if(Za&&Za.topic)if(this.splitManager.tryParseMessageSplitPayload(Za.message))yield this.connector.getMsgPayloadFromHistory(Za);else{let au=Za.messageId;yield this.connector.getMsgPayloadFromHistory(Za),this.refreshPackageId(Wa),yield this.sendReceive(this.packageId.toString(),au,Za.topic)}}Xa&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),tu))}else ha.logDebug(`CONNECT: get error rsp ${(ou=cu.error)===null||ou===void 0?void 0:ou.code} : ${(Ga=cu.error)===null||Ga===void 0?void 0:Ga.message}`)})),ha.logDebug("5. send fetch more"),ha.reportLog("5. send fetch more");const eu=new Date().getTime();(0,pa.logDebug)("ConnectTime---5->",eu-this.timeLog);const ru={id:Qa,jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:tu,withInternalData:!0}};yield this.connector.send(()=>ms(this,void 0,void 0,function*(){ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),ru)})}cleanCache(){return ms(this,void 0,void 0,function*(){this.connectStorage.clearCache()})}saveSessionContent(Qa,tu){tu||this.connectStorage.clearCache(_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa);let eu=(0,Js.safeJsonStringify)(tu);this.connectStorage.encryptStoreMsg(eu,_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa)}getSessionContent(Qa){let tu=this.connectStorage.getAndDecrypt(_s.OKXCONNECTOR_SESSION_PREFIX_KEY+Qa);if(tu)return(0,Js.safeJsonParse)(tu)}subscribeTopics(Qa){return ms(this,void 0,void 0,function*(){(0,pa.logDebug)("4. topicid list",Qa),ha.reportLog("4. topicid list"),this.refreshPackageId();const tu=new Date().getTime();return(0,pa.logDebug)("ConnectTime--subscribe callback->",tu-this.timeLog),new Promise((eu,ru)=>ms(this,void 0,void 0,function*(){let cu=0;for(let ou=0;ou<Qa.length;++ou){let Ga=Qa[ou];this.refreshPackageId(ou),this.events.once(this.packageId.toString(),Fa=>ms(this,void 0,void 0,function*(){if(Fa&&Fa.error){ha.logError("failed when subscribe"),yield this.connector.disconnect();var Zs=new Error;Zs.message=Fa.error.message,Zs.name=Fa.error.code.toString(),cu+=1,cu==Qa.length&&eu()}this.refreshPackageId(ou);const Wa=new Date().getTime();(0,pa.logDebug)("ConnectTime--subscribe callback->",Wa-this.timeLog),cu+=1,cu==Qa.length&&(ha.logDebug(`5. send fetch msg: ${this.packageId}, ${Ga}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),Qa),yield this.splitManager.init(this.sendRaw.bind(this)),this.checkExpire(Ga)?((0,pa.logDebug)("disconnect From topic expire"),yield this.activateDisconnect(Ga)):((0,pa.logDebug)("extends expire check"),this.updateExpireLimit(Ga)),eu())})),ha.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${Ga}`),ha.reportLog("3. login callback then send subscribe");const Xa=new Date().getTime();(0,pa.logDebug)("ConnectTime---login callback->",Xa-this.timeLog),yield this.connector.send(()=>ms(this,void 0,void 0,function*(){return ha.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:Ts.CONNECT_JSONRPC_VER,method:vs.CONNECT_METHOD_SUB,params:{topic:Ga}})}}))})}checkExpire(Qa){let tu=!1;if(Qa.length==0)return(0,pa.logDebug)("checkExpire: invalid topic"),tu;let eu=this.getSessionContent(_s.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE);if(eu&&eu instanceof Object)try{let cu=new Map(Object.entries(eu)).get(Qa);cu?Date.now()>cu&&((0,pa.logDebug)("checkExpire: connection is Expired"),tu=!0):((0,pa.logDebug)("checkExpire: not same connection"),tu=!1)}catch{(0,pa.logDebug)("checkExpire: cache error"),tu=!1}else(0,pa.logDebug)("checkExpire: not topic records"),this.updateExpireLimit(Qa),tu=!1;return tu}updateExpireLimit(Qa){(0,pa.logDebug)(`update expire limit for topic: ${Qa}`);try{let tu=this.getSessionContent(_s.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE),eu=new Map;tu&&(eu=new Map(Object.entries(tu)));let ru=Date.now()+Ts.OKXCONNECTOR_SESSION_LIVE_TTL;eu.set(Qa,ru),this.saveSessionContent(_s.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE,Object.fromEntries(eu))}catch{(0,pa.logDebug)("update cache failed")}}activateDisconnect(Qa){return ms(this,void 0,void 0,function*(){let tu=(0,Js.safeJsonStringify)({requestId:"",method:vs.CONNECT_METHOD_DISCONNECT}),eu={messageId:"",message:(0,Js.safeJsonStringify)({message:tu}),topic:Qa,publishedAt:0};yield this.connector.getMsgPayloadFromHistory(eu)})}}return walletConnectionManager.WalletConnectionManager=Ya,walletConnectionManager}var engine={},iconnector={},hasRequiredIconnector;function requireIconnector(){return hasRequiredIconnector||(hasRequiredIconnector=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.CONNECTOR_TYPE=st.STANDARD_INJECT_WALLET=st.OTHER_INJECT_WALLET=st.OKX_TG_WALLET=st.OKX_APP_WALLET=st.OKX_INJECT_WALLET=void 0,st.getTagByappName=ms;const t=requireProtocol(),et=requireWalletInfo();st.OKX_INJECT_WALLET="okx_inject_wallet",st.OKX_APP_WALLET="okx_app_wallet",st.OKX_TG_WALLET="okx_tg_wallet",st.OTHER_INJECT_WALLET="other_inject_wallet",st.STANDARD_INJECT_WALLET="standard_inject_wallet",st.CONNECTOR_TYPE={NOT_INSTALLED:-1,WS:{OKX_APP_WALLET:100,OKX_TG_WALLET:110},INJECT:{OKX_INJECT_WALLET:200,STANDARD_INJECT_WALLET:210},KEYLESS:{APPLE_WALLET:300,GOOGLE_WALLET:310}};function ms(ws){var vs="";if(ws)switch(ws){case t.OKXWalletName:vs=st.OKX_APP_WALLET;break;case et.OKXMiniWalletName:vs=st.OKX_TG_WALLET;break;case et.OKXInjectWalletName:vs=st.OKX_INJECT_WALLET}return vs||ws||""}}(iconnector)),iconnector}var sessionUtils={},hasRequiredSessionUtils;function requireSessionUtils(){if(hasRequiredSessionUtils)return sessionUtils;hasRequiredSessionUtils=1,Object.defineProperty(sessionUtils,"__esModule",{value:!0}),sessionUtils.buildNameSpacesByConnectResponse=t,sessionUtils.buildRequestAccountNameSpacesByConnectResponse=et,sessionUtils.buildAccountNameSpaces=ms;const st=requireLog();function t(ws){return et(ws)}function et(ws){let vs={};(0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(ws));let _s=ws.payload.responses.find(Ss=>Ss.name==="requestAccounts");if(_s&&_s.accounts){let Ss=[];for(const Rs of _s.accounts)Rs.namespace==="ton"?Rs.data&&Rs.data.ton_addr&&Rs.data.ton_addr.address&&Rs.data.ton_addr.address.length>0&&((0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(Rs)),Ss.push(Rs)):((0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(Rs)),Ss.push(Rs));_s.accounts=Ss}const Es=ws.payload.responses.find(Ss=>Ss.name==="ton_addr"),Ts=ws.payload.responses.find(Ss=>Ss.name==="ton_proof");if(Es&&!_s){(0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let Ss=Es.address;Ss="ton:"+Es.network+":"+Ss;let Rs={ton_addr:Es};Ts&&(Rs.ton_proof=Ts),_s={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[Ss],methods:["ton_sendTransaction"],extra:{},data:Rs}]}}return(0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(_s)),ms(_s.accounts,vs),vs}function ms(ws,vs){ws.forEach(_s=>{var Es=[],Ts=[];_s.addresses.forEach(Ss=>{var Rs=Ss.split(":");if((0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",Rs.length),Rs.length>=3){let Bs=Rs.slice(0,2).join(":");Es.push(Bs),Ts.push(Ss),(0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",Bs,"addressItem:",Ss)}}),_s.data&&_s.data.ton_addr&&(_s.data.ton_addr.name="ton_addr"),_s.data&&_s.data.ton_proof&&(_s.data.ton_proof.name="ton_proof"),vs[_s.namespace]={chains:Es,accounts:Ts,methods:_s.methods,extra:_s.extra,payload:_s.data},(0,st.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(vs))})}return sessionUtils}var hasRequiredEngine;function requireEngine(){if(hasRequiredEngine)return engine;hasRequiredEngine=1;var st=engine&&engine.__awaiter||function(Ss,Rs,Bs,Is){function Ws(Hs){return Hs instanceof Bs?Hs:new Bs(function(Ns){Ns(Hs)})}return new(Bs||(Bs=Promise))(function(Hs,Ns){function Js(za){try{pa(Is.next(za))}catch(Ya){Ns(Ya)}}function ha(za){try{pa(Is.throw(za))}catch(Ya){Ns(Ya)}}function pa(za){za.done?Hs(za.value):Ws(za.value).then(Js,ha)}pa((Is=Is.apply(Ss,Rs||[])).next())})};Object.defineProperty(engine,"__esModule",{value:!0}),engine.Engine=void 0;const t=requireProtocol(),et=requireConstants$4(),ms=requireUtils$4(),ws=requireIconnector(),vs=requireConnectionManager(),_s=requireSessionUtils(),Es=requireWalletInfo();class Ts{constructor(Rs){this.connectors=[],this.useConnector=void 0,this.sessionRetryTimer=null,this.connectionManager=new vs.ConnectionManager(Rs),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(Rs){this.accountChangeListener=Rs,(0,ms.logDebug)("setAccountChangeListener: engine",Rs);for(const Bs of this.connectors)Bs.setAccountChangeListener(Rs)}registerConnector(Rs){this.connectors=Rs;for(const Bs of Rs)Bs.setConnectionManager(this.connectionManager);this.accountChangeListener&&this.setAccountChangeListener(this.accountChangeListener)}getAllConnectors(){return this.connectors}hasWsConnector(){for(const Rs of this.connectors)if(this.isWsConnector(Rs))return!0;return!1}isWsConnector(Rs){return Rs?Object.values(ws.CONNECTOR_TYPE.WS).includes(Rs.getType()):!1}isInjectedConnector(Rs){return Rs?Object.values(ws.CONNECTOR_TYPE.INJECT).includes(Rs.getType())||Object.values(ws.CONNECTOR_TYPE.KEYLESS).includes(Rs.getType()):!1}universalConnect(Rs,Bs,Is){return st(this,void 0,void 0,function*(){return this.addConnectionListener(),new Promise((Ws,Hs)=>st(this,void 0,void 0,function*(){var Ns,Js,ha,pa,za;try{(0,ms.logDebug)("engine universalConnect request :",JSON.stringify(Rs)),(0,ms.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(Bs));let Ya=[];Rs.forEach(Zs=>{let Wa=Zs.name;(Wa.startsWith("requestAccounts")||Wa.startsWith("ton"))&&Ya.push(Zs)}),(0,ms.logDebug)("engine universalConnect universalRequest :",JSON.stringify(Ya));const Bc=this.connectionManager.getConnectInfo(),Qa=Date.now().toString();let tu=(Ns=Bs.openUniversalUrl)!==null&&Ns!==void 0?Ns:!1,eu=(Js=Bs.openAppLinkType)!==null&&Js!==void 0?Js:t.OpenAppLinkType.UniversalLink;const ru={protocolVer:Number(t.tonConnectSdkVersion),topic:Bc.channelId,clientId:Bc.clientId,requestId:Qa,dAppInfo:this.fixDappName(Bs.dappInfo),requests:Ya,redirect:(ha=Bs?.redirect)!==null&&ha!==void 0?ha:"none"},cu=(0,ms.encodeConnectParams)(ru);ru.redirect=(pa=Bs?.redirect)!==null&&pa!==void 0?pa:"none",(0,ms.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(ru));let ou="",Ga="";if(tu){let Zs=(0,ms.getOKXLink)(ru,Bs.useMini,Bs.tmaReturnUrl);ou=Zs.universalLink,Ga=Zs.deepLink||"",(0,ms.logDebug)("engine universalConnect ==>>openOKXLink:",ou)}const Xa=()=>this.connectors.length==1&&this.isInjectedConnector(this.connectors[0])?this.connectors[0].openWallet({connectRequest:ru},eu):Bs.useMini?(0,ms.openOKXTMAWalletlinkWithFallback)(ou):(0,ms.openOKXDeeplinkWithFallback)(Ga,ou,eu);(0,ms.logDebug)("engine universalConnect ==>>openOKXLink:",ou);const Fa=(0,ms.isIos)();if(Fa&&tu&&((0,ms.logDebug)(`engine universalConnect ==>>isIOS: ${Fa}   openUniversalLink: ${tu}`),Xa()),this.addOnConnectResultListener((Zs,Wa)=>{var Za,iu,au,nu;try{this.stopSendSessionRetry(),this.addOnConnectResultListener(void 0);let hu=Zs;if(hu.method=="connect"){(0,ms.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(hu));let Eu=(0,_s.buildNameSpacesByConnectResponse)(hu);if(Eu){let $u;!((iu=(Za=hu.payload)===null||Za===void 0?void 0:Za.responses)===null||iu===void 0)&&iu[0]&&"walletName"in hu.payload.responses[0]&&($u=hu.payload.responses[0].walletName);let Ou=(au=hu.payload)===null||au===void 0?void 0:au.wallet.appName;var uu="";switch(Ou){case Es.OKXWalletName:uu=ws.OKX_APP_WALLET;break;case Es.OKXMiniWalletName:uu=ws.OKX_TG_WALLET;break}var fu;if(Wa?fu=Wa:uu&&(fu=this.connectors.find(Tu=>Tu.getTag()===uu)),!fu)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);let gu=Object.assign({topic:Bc.channelId,sessionConfig:Bs,namespaces:Eu},hu.payload&&{wallet:Object.assign(Object.assign({},hu.payload.wallet),{walletName:$u})}),yu=hu.payload.responses.find(Tu=>Tu.name==="requestAccounts");yu&&yu.connectRequestMethods&&(gu.signResponse=yu.connectRequestMethods),(0,ms.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(gu)),this.isWsConnector(fu)&&((0,ms.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(Bc.channelId,hu.payload.wallet.maxProtocolVersion)),this.deviceInfo=Object.assign({},gu.wallet),Ws(gu),this.setUseConnector(fu),(0,ms.reportEvent)(ms.OKXReportType.PAGE_IN,ms.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,uu)}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}else if(hu.method=="connect_error"&&((nu=hu.payload)===null||nu===void 0?void 0:nu.code)!=null)throw new t.OKXConnectError(hu.payload.code)}catch(hu){Hs(hu)}}),this.hasWsConnector()){yield(za=this.connectionManager)===null||za===void 0?void 0:za.disconnect(!1);try{yield this.connectionManager.connect()}catch(Zs){throw(0,ms.logDebug)("Engine universalConnect error",Zs),Zs}(0,ms.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",Is),this.sendSession(cu,ru.topic,tu)}if(!Fa&&tu&&Xa(),(0,ms.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",Is),Is){const Zs={connectRequest:ru,redirect:Bs.redirect,tmaReturnUrl:Bs.tmaReturnUrl};(0,ms.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(Zs)),Is(Zs)}}catch(Ya){(0,ms.logDebug)("Engine universalConnect catch error",Ya),Hs(Ya)}}))})}fixDappName(Rs){try{if(Rs.name.toLowerCase()==="dapp portal"){let Bs=document.title;if(Bs||(Bs=this.getOGSiteName()),Bs)return Object.assign(Object.assign({},Rs),{name:Rs.name+" - "+Bs})}return Rs}catch{return Rs}}getOGSiteName(){let Rs=document.getElementsByTagName("meta"),Bs=["og:site_name","og:title","twitter:title"];for(let Is of Rs){let Ws=Is.getAttribute("property");for(let Hs of Bs)if(Ws==Hs)return Is.getAttribute("content")}}addOnConnectResultListener(Rs){for(const Bs of this.connectors)this.isInjectedConnector(Bs)&&Bs.setOnConnectResultListener(Rs);this.connectResultListener=Rs}openWallet(Rs,Bs,Is){var Ws;Bs?Bs.openWallet(Rs,Is):(Ws=this.getConnector())===null||Ws===void 0||Ws.openWallet(Rs,Is)}send(Rs,Bs,Is){return st(this,void 0,void 0,function*(){var Ws,Hs,Ns,Js,ha,pa,za,Ya,Bc;let Qa;"chainId"in Rs&&Rs.chainId!=null&&(Qa=Rs.chainId.toString());try{if((0,ms.reportEvent)(ms.OKXReportType.LOG,ms.Report_OKXConnectSDK_RequestStart_Log,"",(Hs=(Ws=this.getConnector())===null||Ws===void 0?void 0:Ws.getTag())!==null&&Hs!==void 0?Hs:"",Rs.method,(Js=(Ns=this.deviceInfo)===null||Ns===void 0?void 0:Ns.platform)!==null&&Js!==void 0?Js:"",Qa),!this.getConnector())throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(ha=this.getConnector())===null||ha===void 0||ha.send(Rs,{resolve:tu=>{var eu,ru,cu,ou,Ga,Xa,Fa,Zs,Wa;(eu=Bs?.resolve)===null||eu===void 0||eu.call(Bs,tu),"error"in tu&&tu.error?(0,ms.reportEvent)(ms.OKXReportType.LOG,ms.Report_OKXConnectSDK_RequestError_Log,"",(cu=(ru=this.getConnector())===null||ru===void 0?void 0:ru.getTag())!==null&&cu!==void 0?cu:"",Rs.method,(Ga=(ou=this.deviceInfo)===null||ou===void 0?void 0:ou.platform)!==null&&Ga!==void 0?Ga:"",Qa):(0,ms.reportEvent)(ms.OKXReportType.LOG,ms.Report_OKXConnectSDK_RequestSuccess_Log,"",(Fa=(Xa=this.getConnector())===null||Xa===void 0?void 0:Xa.getTag())!==null&&Fa!==void 0?Fa:"",Rs.method,(Wa=(Zs=this.deviceInfo)===null||Zs===void 0?void 0:Zs.platform)!==null&&Wa!==void 0?Wa:"",Qa)},onAck:()=>{var tu;(tu=Bs?.onAck)===null||tu===void 0||tu.call(Bs)}})}catch(tu){throw(0,ms.reportEvent)(ms.OKXReportType.LOG,ms.Report_OKXConnectSDK_RequestError_Log,"",(za=(pa=this.getConnector())===null||pa===void 0?void 0:pa.getTag())!==null&&za!==void 0?za:"",Rs.method,(Bc=(Ya=this.deviceInfo)===null||Ya===void 0?void 0:Ya.platform)!==null&&Bc!==void 0?Bc:"",Qa),tu}})}clearData(){var Rs;(Rs=this.getConnector())===null||Rs===void 0||Rs.clearData()}addDisconnectListener(Rs){var Bs;(Bs=this.getConnector())===null||Bs===void 0||Bs.addDisconnectListener(Rs)}saveSessionContent(Rs,Bs){this.connectionManager.saveSessionContent(Rs,Bs)}getSessionContent(Rs){var Bs,Is=this.connectionManager.getSessionContent(Rs);if(Is){var Ws="";if(typeof Is=="object"&&(Ws=(0,ws.getTagByappName)((Bs=Is.wallet)===null||Bs===void 0?void 0:Bs.appName)),this.connectors.find(Hs=>Hs.getTag()===Ws))return Is}}setConnectConnector(Rs){var Bs=(0,ws.getTagByappName)(Rs?.appName);Bs&&this.setUseConnector(this.connectors.find(Is=>Is.getTag()===Bs))}setUseConnector(Rs){this.useConnector=Rs,this.isWsConnector(Rs)&&Rs.addConnectionListener()}setSessionConnectingListener(Rs){this.sessionConnectingListener=Rs}restoreconnect(Rs,Bs){return st(this,void 0,void 0,function*(){this.getConnector()?this.getConnector().restoreconnect(Rs,Is=>{var Ws,Hs;Bs(Is),Is&&(this.deviceInfo=Object.assign({},Is.wallet),(0,ms.reportEvent)(ms.OKXReportType.PAGE_IN,ms.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,(Hs=(Ws=this.getConnector())===null||Ws===void 0?void 0:Ws.getTag())!==null&&Hs!==void 0?Hs:""))}):Bs(null)})}restoreconnectFromTopic(Rs){return st(this,void 0,void 0,function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(Rs))})}getCurrentConnectionReady(Rs){var Bs;return!!(!((Bs=this.getConnector())===null||Bs===void 0)&&Bs.getCurrentConnectionReady(Rs))}connectManagerDisconnect(){return st(this,arguments,void 0,function*(Rs=!1){var Bs,Is;this.getConnector()?(Bs=this.getConnector())===null||Bs===void 0||Bs.connectManagerDisconnect(Rs):yield(Is=this.connectors.find(Ws=>this.isWsConnector(Ws)))===null||Is===void 0?void 0:Is.connectManagerDisconnect(Rs),this.stopSendSessionRetry(),this.setUseConnector(void 0)})}sendSession(Rs,Bs,Is){return st(this,void 0,void 0,function*(){(0,ms.logDebug)("[Connect] sendSession called:",Rs);const Ws=Date.now().toString();let Hs={method:"session_info",params:{protocolVersion:et.CONNECT_PROTOCOL_VER,sessionInfo:Rs}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},Hs),{requestId:Ws}))),this.sessionRetryTimer&&clearInterval(this.sessionRetryTimer),Is||(this.sessionRetryTimer=setInterval(()=>st(this,void 0,void 0,function*(){const Ns=Date.now().toString();(0,ms.logDebug)("[Connect] Retrying sendSession..."),yield this.connectionManager.sendSubscribe(Bs),yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},Hs),{requestId:Ns})))}),et.OKXCONNECTOR_MESSAGE_TTL))})}stopSendSessionRetry(){this.sessionRetryTimer&&(clearInterval(this.sessionRetryTimer),this.sessionRetryTimer=null,(0,ms.logDebug)("[Connect] Stopped retry for session"))}addConnectionListener(){var Rs;(Rs=this.connectionManager)===null||Rs===void 0||Rs.addListener("sdk_response",(Bs,Is)=>{var Ws=(0,ms.safeJsonParse)(Is);(0,ms.logDebug)(`Engine ==>> addListener ==> success ==> ${Ws}`),Ws.method==="connect"?this.connectResultListener&&this.connectResultListener(Ws):Ws.method==="connect_error"?this.connectManagerDisconnect(!1).catch(()=>{}).finally(()=>{this.connectResultListener&&this.connectResultListener(Ws)}):Ws.method==="session_connecting"&&((0,ms.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,ms.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))},function(){})}}return engine.Engine=Ts,engine}var hasRequiredConnect;function requireConnect(){return hasRequiredConnect||(hasRequiredConnect=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.Storage=st.Engine=st.WalletConnectionManager=st.ConnectionManager=st.OKXWalletConnector=void 0;var t=requireConnect$1();Object.defineProperty(st,"OKXWalletConnector",{enumerable:!0,get:function(){return t.OKXWalletConnector}});var et=requireConnectionManager();Object.defineProperty(st,"ConnectionManager",{enumerable:!0,get:function(){return et.ConnectionManager}});var ms=requireWalletConnectionManager();Object.defineProperty(st,"WalletConnectionManager",{enumerable:!0,get:function(){return ms.WalletConnectionManager}});var ws=requireEngine();Object.defineProperty(st,"Engine",{enumerable:!0,get:function(){return ws.Engine}});var vs=requireStorage();Object.defineProperty(st,"Storage",{enumerable:!0,get:function(){return vs.Storage}})}(connect$2)),connect$2}var inject={},InjectUtils={},hasRequiredInjectUtils;function requireInjectUtils(){if(hasRequiredInjectUtils)return InjectUtils;hasRequiredInjectUtils=1,Object.defineProperty(InjectUtils,"__esModule",{value:!0}),InjectUtils.BtcMethods=InjectUtils.SuiMethods=InjectUtils.TONMethods=InjectUtils.AptosMethods=InjectUtils.SOLANAMethods=InjectUtils.Eip55Methods=void 0,InjectUtils.hasOKXInjectedProvider=st;function st(){return typeof t("okxwallet")<"u"}function t(et){const ms=(ws,vs)=>{const[_s,...Es]=vs.split("."),Ts=ws[_s];if(Ts)return Es.length===0?Ts:ms(Ts,Es.join("."))};if(typeof window<"u")return ms(window,et)}return InjectUtils.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"],InjectUtils.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"],InjectUtils.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"],InjectUtils.TONMethods=["ton_sendTransaction"],InjectUtils.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"],InjectUtils.BtcMethods=["btc_signMessage","btc_signPsbts","btc_send","btc_sendInscription","btc_signAndPushPsbt","btc_inscribeTransfer","btc_sendRunes"],InjectUtils}var provider$1={},eip155Provider={},media={},hasRequiredMedia;function requireMedia(){return hasRequiredMedia||(hasRequiredMedia=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.mediaNotTouch=st.mediaTouch=st.maxWidth=void 0,st.isDevice=vs,st.media=_s,st.mediaMin=Es,st.mediaMax=Ts,st.mediaMinMax=Ss;const t=requireWebApi(),et=requireTmaApi(),ms=requireUrl(),ws=requireLog();st.maxWidth={mobile:440,tablet:1020};function vs(Rs){var Bs;const Is=(0,ms.getWindow)();if(!Is)return Rs==="desktop";if((0,et.isTmaPlatform)("weba"))return!0;const Ws=Is.innerWidth;switch(Rs){case"desktop":return Ws>st.maxWidth.tablet;case"tablet":return Ws>st.maxWidth.mobile;default:case"mobile":let Hs=Ws<=st.maxWidth.mobile||(0,t.isOS)("ios","android","ipad");if(Hs){const Ns=!!(!((Bs=(0,ms.getWindow)())===null||Bs===void 0)&&Bs.TelegramWebviewProxy),Js=navigator.maxTouchPoints||0;Ns&&Js===0&&(Hs=!1),(0,ws.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",Hs,Ns,Js)}return Hs}}function _s(Rs){switch(Rs){case"mobile":return`@media (max-width: ${st.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${st.maxWidth.tablet}px) (min-width: ${st.maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${st.maxWidth.tablet}px)`}}function Es(Rs){return`@media (min-width: ${Rs}px)`}function Ts(Rs){return`@media (max-width: ${Rs}px)`}function Ss(Rs,Bs){return`@media (min-width: ${Rs}px) and (max-width: ${Bs}px)`}st.mediaTouch="@media (hover: none)",st.mediaNotTouch="@media not all and (hover: none)"}(media)),media}var hasRequiredEip155Provider;function requireEip155Provider(){if(hasRequiredEip155Provider)return eip155Provider;hasRequiredEip155Provider=1;var st=eip155Provider&&eip155Provider.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(eip155Provider,"__esModule",{value:!0}),eip155Provider.Eip155Provider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireMedia(),ws=requireInjectUtils();class vs{constructor(){this.accountChangedEVMHandler=null}send(Es){return st(this,void 0,void 0,function*(){var Ts;try{(0,et.logDebug)("Eip155Provider send request:",(0,et.safeJsonStringify)(Es)),yield this.restoreConnect();let Ss=null;switch(Es.method){case"personal_sign":Es.params&&"message"in Es.params&&(Ss={method:Es.method,params:[Es.params.message,Es.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":Es.params&&(Ss={method:Es.method,params:[Es.params]});break;case"eth_signTypedData_v4":Es.params&&"typedDataJson"in Es.params&&(!((Ts=Es.params)===null||Ts===void 0)&&Ts.typedDataJson)&&typeof Es.params.typedDataJson=="string"&&(Ss={method:Es.method,params:[Es.address,Es.params.typedDataJson]});break;case"wallet_watchAsset":Es.params&&(Ss={method:Es.method,params:Es.params});break;default:Ss={method:Es.method,params:Es.injectParams}}if(Ss)if((Es.method==="wallet_switchEthereumChain"||Es.method==="wallet_addEthereumChain")&&Es.params&&"chainId"in Es.params){(0,et.logDebug)("Eip155Provider send request switch requestParams:",(0,et.safeJsonStringify)(Ss));const Rs=parseInt(Es.params.chainId,16).toString();yield window.okxwallet.request(Ss);const Bs=`eip155:${Rs}:${Es.address}`;return(0,et.logDebug)("Eip155Provider send request switch result:",Bs),{result:Bs,method:Es.method}}else{const Rs=(0,et.getChainId)(Es.chainId),Bs=`0x${Number(Rs).toString(16)}`;if((0,et.logDebug)("Eip155Provider current chainId:",Rs,Bs),Bs){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:Bs}]}),(0,et.logDebug)("Eip155Provider send request requestParams:",Bs,(0,et.safeJsonStringify)(Ss));const Is=yield window.okxwallet.request(Ss);return(0,et.logDebug)("Eip155Provider send request result:",(0,et.safeJsonStringify)(Is)),{result:Is,method:Es.method}}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(Ss){throw(0,et.logDebug)("Eip155Provider encountered an error:",Ss),Ss}})}restoreConnect(){return(0,ms.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(Es,Ts,Ss,Rs,Bs,Is){return st(this,void 0,void 0,function*(){try{let Ws=[];Rs.forEach(Js=>{Js.namespace===t.NameSpaceKeyEip155&&Ws.push(...Js.chains)});let Hs=[],Ns={};return Ws.forEach(Js=>{let ha=(0,et.getChainId)(Js),pa=Bs.address.find(za=>za.chainId===ha&&za.coinType===60||za.namespaceChainId===Js);pa&&(Hs.push(Js+":"+pa.address),Ns[Js]={publicKey:pa.publicKey})}),Hs&&Hs.length>0?{namespace:t.NameSpaceKeyEip155,addresses:Hs,methods:[...ws.Eip55Methods],extra:Ns}:void 0}catch(Ws){throw Ws}})}connect(){return st(this,void 0,void 0,function*(){return window.okxwallet.request({method:"eth_requestAccounts"})})}singleConnect(){return this.connect()}addAccountChangedListener(Es){console.log("window.okxwallet configEventWithKey: eip155"),this.accountChangedEVMHandler=Ts=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),"eip155",Ts),Ts&&Ts.length>0&&Es()},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler)}removeListener(){this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler)}}return eip155Provider.Eip155Provider=vs,eip155Provider}var hasRequiredProvider$1;function requireProvider$1(){return hasRequiredProvider$1||(hasRequiredProvider$1=1,function(st){var t=provider$1&&provider$1.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=provider$1&&provider$1.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireEip155Provider(),st)}(provider$1)),provider$1}var types$1={},StandardWallet={},hasRequiredStandardWallet;function requireStandardWallet(){return hasRequiredStandardWallet||(hasRequiredStandardWallet=1,Object.defineProperty(StandardWallet,"__esModule",{value:!0})),StandardWallet}var IInjectProvider={},hasRequiredIInjectProvider;function requireIInjectProvider(){return hasRequiredIInjectProvider||(hasRequiredIInjectProvider=1,Object.defineProperty(IInjectProvider,"__esModule",{value:!0})),IInjectProvider}var hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(st){var t=types$1&&types$1.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=types$1&&types$1.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireStandardWallet(),st),et(requireIInjectProvider(),st)}(types$1)),types$1}var thirdpartprovider={},suiStandardProvider={},hasRequiredSuiStandardProvider;function requireSuiStandardProvider(){if(hasRequiredSuiStandardProvider)return suiStandardProvider;hasRequiredSuiStandardProvider=1;var st=suiStandardProvider&&suiStandardProvider.__awaiter||function(vs,_s,Es,Ts){function Ss(Rs){return Rs instanceof Es?Rs:new Es(function(Bs){Bs(Rs)})}return new(Es||(Es=Promise))(function(Rs,Bs){function Is(Ns){try{Hs(Ts.next(Ns))}catch(Js){Bs(Js)}}function Ws(Ns){try{Hs(Ts.throw(Ns))}catch(Js){Bs(Js)}}function Hs(Ns){Ns.done?Rs(Ns.value):Ss(Ns.value).then(Is,Ws)}Hs((Ts=Ts.apply(vs,_s||[])).next())})};Object.defineProperty(suiStandardProvider,"__esModule",{value:!0}),suiStandardProvider.SuiStandardProvider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireMedia();class ws{constructor(_s){this.wallet=_s}getVersion(){return this.wallet.version}supportChains(_s){return _s.length===1&&_s[0]===t.SUI_CHAINS.MAINNET}send(_s){return st(this,void 0,void 0,function*(){try{(0,et.logDebug)("suiProvider send request:",JSON.stringify(_s));const Es=_s.method;let Ts;if(_s.injectParams&&this.wallet){let Ss=_s.injectParams;switch(Es){case"sui_signTransactionBlock":let Rs;if(this.wallet.features["sui:signTransaction"])Rs=yield this.wallet.features["sui:signTransaction"].signTransaction(Ss);else if(this.wallet.features["sui:signTransactionBlock"])Rs=yield this.wallet.features["sui:signTransactionBlock"].signTransactionBlock(Ss);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ts={method:"sui_signTransactionBlock",result:Rs?.signature};break;case"sui_signAndExecuteTransactionBlock":let Bs;if(this.wallet.features["sui:signAndExecuteTransaction"])Bs=yield this.wallet.features["sui:signAndExecuteTransaction"].signAndExecuteTransaction(Ss);else if(this.wallet.features["sui:signAndExecuteTransactionBlock"])Bs=yield this.wallet.features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(Ss);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ts={method:"sui_signAndExecuteTransactionBlock",result:Bs.digest};break;case"sui_signMessage":Ts={method:"sui_signMessage",result:(yield this.wallet.features["sui:signMessage"].signMessage(Ss)).signature};break;case"sui_signPersonalMessage":Ts={method:"sui_signPersonalMessage",result:(yield this.wallet.features["sui:signPersonalMessage"].signPersonalMessage(Ss)).signature};break}}return Ts}catch(Es){throw(0,et.logDebug)("suiProvider send error:",Es),Es}})}addAccountChangedListener(){}removeListener(){}disconnect(){return st(this,void 0,void 0,function*(){})}connect(){return st(this,void 0,void 0,function*(){return this.wallet.features["standard:connect"].connect()})}restoreConnect(){return(0,ms.isDevice)("mobile")?this.connect():Promise.resolve()}getAccount(){return st(this,void 0,void 0,function*(){var _s,Es;let Ts=yield this.connect();if(!Ts)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);_s=Ts?.address;let Ss=(Es=Ts?.publicKey)!==null&&Es!==void 0?Es:"";Ss instanceof Uint8Array&&(Ss=this.normalizeUint8Array(Ss),Ss=btoa(String.fromCharCode(...Ss)));let Rs={};return Rs[t.SUI_CHAINS.MAINNET]={publicKey:Ss},{namespace:t.NameSpaceKeySui,addresses:[`${t.SUI_CHAINS.MAINNET}:${Ts.address}`],methods:Ts.features,extra:Rs}})}normalizeUint8Array(_s){return _s.length===33&&_s[0]===0?_s.slice(1):_s}}return suiStandardProvider.SuiStandardProvider=ws,suiStandardProvider}var aptos$1={},aptosStandardProvider={},misc$2={},hasRequiredMisc$2;function requireMisc$2(){if(hasRequiredMisc$2)return misc$2;hasRequiredMisc$2=1,Object.defineProperty(misc$2,"__esModule",{value:!0}),misc$2.AptosNetwork=misc$2.UserResponseStatus=void 0,misc$2.getArgs=et;const st=requireProtocol();var t;(function(ws){ws.APPROVED="Approved",ws.REJECTED="Rejected"})(t||(misc$2.UserResponseStatus=t={}));function et(ws){if(typeof ws=="object"&&ws!==null&&"status"in ws){if(ws.status===t.REJECTED)throw new st.OKXConnectError(st.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);return ws.args}return ws}var ms;return function(ws){ws.MAINNET="mainnet",ws.TESTNET="testnet",ws.DEVNET="devnet"}(ms||(misc$2.AptosNetwork=ms={})),misc$2}var hasRequiredAptosStandardProvider;function requireAptosStandardProvider(){if(hasRequiredAptosStandardProvider)return aptosStandardProvider;hasRequiredAptosStandardProvider=1;var st=aptosStandardProvider&&aptosStandardProvider.__awaiter||function(vs,_s,Es,Ts){function Ss(Rs){return Rs instanceof Es?Rs:new Es(function(Bs){Bs(Rs)})}return new(Es||(Es=Promise))(function(Rs,Bs){function Is(Ns){try{Hs(Ts.next(Ns))}catch(Js){Bs(Js)}}function Ws(Ns){try{Hs(Ts.throw(Ns))}catch(Js){Bs(Js)}}function Hs(Ns){Ns.done?Rs(Ns.value):Ss(Ns.value).then(Is,Ws)}Hs((Ts=Ts.apply(vs,_s||[])).next())})};Object.defineProperty(aptosStandardProvider,"__esModule",{value:!0}),aptosStandardProvider.AptosStandardProvider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireMisc$2();class ws{constructor(_s){this.wallet=_s,this.mainNetWorkInfo={chainId:"1",name:ms.AptosNetwork.MAINNET}}getVersion(){return this.wallet.version}supportChains(_s){return _s.length===1&&_s[0]===t.APTOS_CHAINS.MAINNET}send(_s){return st(this,void 0,void 0,function*(){var Es,Ts,Ss,Rs,Bs;try{try{(0,et.logDebug)("AptosStandardProvider send request:",JSON.stringify(_s))}catch{}yield this.confirmNetwrok(_s.chainId);const Is=_s.method;let Ws;if(_s.injectParams&&this.wallet){let Hs=_s.injectParams;switch(Is){case"aptos_signTransaction":let Ns;if(this.wallet.features["aptos:signTransaction"])if("rawTransaction"in Hs){const pa=yield this.wallet.features["aptos:signTransaction"].signTransaction(Hs);Ns=(0,ms.getArgs)(pa)}else if(this.wallet.features["aptos:signTransaction"].version==="1.1"){const pa=Hs,za={payload:pa.data,expirationTimestamp:(Es=pa.options)===null||Es===void 0?void 0:Es.expirationTimestamp,expirationSecondsFromNow:(Ts=pa.options)===null||Ts===void 0?void 0:Ts.expirationSecondsFromNow,gasUnitPrice:(Ss=pa?.options)===null||Ss===void 0?void 0:Ss.gasUnitPrice,maxGasAmount:(Rs=pa?.options)===null||Rs===void 0?void 0:Rs.maxGasAmount,sequenceNumber:(Bs=pa?.options)===null||Bs===void 0?void 0:Bs.accountSequenceNumber,sender:pa.sender},Ya=yield this.wallet.features["aptos:signTransaction"].signTransaction(za);Ns=(0,ms.getArgs)(Ws)}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ws={method:"aptos_signTransaction",injectResult:Ns};break;case"aptos_signMessage":let Js;if(this.wallet.features["aptos:signMessage"]){let pa=yield this.wallet.features["aptos:signMessage"].signMessage(Hs);Js=(0,ms.getArgs)(pa)}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ws={method:"aptos_signMessage",injectResult:Js};break;case"aptos_signAndSubmitTransaction":let ha;if(this.wallet.features["aptos:signAndSubmitTransaction"])if(this.wallet.features["aptos:signAndSubmitTransaction"].version=="1.0.0"){if("standardV1Transaction"in Hs){let pa=yield this.wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction(Hs.standardV1Transaction);ha=(0,ms.getArgs)(pa)}}else if(this.wallet.features["aptos:signAndSubmitTransaction"].version=="1.1.0"){if("standardV11Transaction"in Hs){let pa=_s.params,za=yield this.wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction(Hs.standardV11Transaction);ha=(0,ms.getArgs)(za)}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ws={method:"aptos_signAndSubmitTransaction",result:ha.hash.toString()};break}}return Ws}catch(Is){throw(0,et.logDebug)("aptosProvider send error:",Is),Is}})}removeListener(){this.previousAccountChangedListener=void 0}addAccountChangedListener(_s){this.accountChangedListener=_s}setAccountChangedListener(){if(this.previousAccountChangedListener!=this.accountChangedListener&&this.wallet.features["aptos:onAccountChange"]&&this.accountChangedListener)try{this.wallet.features["aptos:onAccountChange"].onAccountChange(_s=>{var Es,Ts,Ss,Rs;try{let Bs=(Ts=(Es=(0,ms.getArgs)(_s))===null||Es===void 0?void 0:Es.address)===null||Ts===void 0?void 0:Ts.toString();this.address!=Bs&&(this.accountChangedListener((Rs=(Ss=(0,ms.getArgs)(_s))===null||Ss===void 0?void 0:Ss.address)===null||Rs===void 0?void 0:Rs.toString()),this.address=Bs)}catch{this.address&&(this.accountChangedListener(void 0),this.address=void 0)}}),this.previousAccountChangedListener=this.accountChangedListener}catch(_s){(0,et.logDebug)(`aptosStandardProvider addAccountChangedListener: error ${_s.toString()}`)}}connect(){return st(this,void 0,void 0,function*(){return this.wallet.features["aptos:connect"].connect()})}getAccount(){return st(this,void 0,void 0,function*(){let _s=(0,ms.getArgs)(yield this.connect()),Es=_s.address;typeof Es=="object"&&Es.toString&&(Es=Es.toString()),Es instanceof Uint8Array&&(Es=this.normalizeUint8Array(Es),Es=btoa(String.fromCharCode(...Es)));let Ts=_s.publicKey.toString();this.address!==Es&&(this.setAccountChangedListener(),this.address=Es);let Ss={};return Ss[t.APTOS_CHAINS.MAINNET]={publicKey:Ts},{namespace:t.NameSpaceKeyAptos,addresses:[`${t.APTOS_CHAINS.MAINNET}:${Es}`],methods:[],extra:Ss}})}normalizeUint8Array(_s){return _s.length===33&&_s[0]===0?_s.slice(1):_s}disconnect(){return st(this,void 0,void 0,function*(){if(this.wallet.features["aptos:disconnect"])return this.wallet.features["aptos:disconnect"].disconnect()})}confirmNetwrok(_s){return st(this,void 0,void 0,function*(){if(_s!==et.chainName2IdMap.get(t.APTOS_CHAINS.MAINNET))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);if(this.wallet.features["aptos:network"]){let Es=yield this.wallet.features["aptos:network"].network();if(Es.chainId==1&&Es.name.toLowerCase()==ms.AptosNetwork.MAINNET)return Promise.resolve();yield this.changeMainNetwork()}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}changeMainNetwork(){return st(this,void 0,void 0,function*(){if(this.wallet.features["aptos:changeNetwork"]){let _s=yield this.wallet.features["aptos:changeNetwork"].changeNetwork(this.mainNetWorkInfo);if((0,ms.getArgs)(_s).success)return Promise.resolve()}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}}return aptosStandardProvider.AptosStandardProvider=ws,aptosStandardProvider}var aptosThirdpartInjectProvider={},walletAdapter={},aptosWalletAdapter={},hasRequiredAptosWalletAdapter;function requireAptosWalletAdapter(){if(hasRequiredAptosWalletAdapter)return aptosWalletAdapter;hasRequiredAptosWalletAdapter=1,Object.defineProperty(aptosWalletAdapter,"__esModule",{value:!0}),aptosWalletAdapter.WalletReadyState=void 0;var st;return function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"}(st||(aptosWalletAdapter.WalletReadyState=st={})),aptosWalletAdapter}var martainWalletAdapter={},baseAptosWalletAdapter={},hasRequiredBaseAptosWalletAdapter;function requireBaseAptosWalletAdapter(){if(hasRequiredBaseAptosWalletAdapter)return baseAptosWalletAdapter;hasRequiredBaseAptosWalletAdapter=1,Object.defineProperty(baseAptosWalletAdapter,"__esModule",{value:!0}),baseAptosWalletAdapter.BaseAptosWalletAdapter=void 0;const st=requireEventemitter3();class t extends st.EventEmitter{get connected(){return!!this.publicAccount.publicKey}}return baseAptosWalletAdapter.BaseAptosWalletAdapter=t,baseAptosWalletAdapter}var hasRequiredMartainWalletAdapter;function requireMartainWalletAdapter(){if(hasRequiredMartainWalletAdapter)return martainWalletAdapter;hasRequiredMartainWalletAdapter=1;var st=martainWalletAdapter&&martainWalletAdapter.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(martainWalletAdapter,"__esModule",{value:!0}),martainWalletAdapter.MartainWalletAdapter=void 0;const t=requireBaseAptosWalletAdapter(),et=requireAptosWalletAdapter(),ms=requireProtocol(),ws=requireUtils$3(),vs=requireUtils$4();class _s extends t.BaseAptosWalletAdapter{get readyState(){throw new Error("Method not implemented.")}constructor(){super(),this.name="Martian",this.icon="https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/martian.png",this.url="",this._version="unknown",this._readyState=typeof window>"u"||typeof document>"u"?et.WalletReadyState.Unsupported:et.WalletReadyState.NotDetected,this._provider=typeof window<"u"?window.martian:void 0,this._network=void 0,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==et.WalletReadyState.Unsupported&&(0,ws.scopePollingDetectionStrategy)(()=>window.martian?(this._readyState=et.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var Ts,Ss,Rs;return{publicKey:((Ts=this._wallet)===null||Ts===void 0?void 0:Ts.publicKey)||null,address:((Ss=this._wallet)===null||Ss===void 0?void 0:Ss.address)||null,authKey:((Rs=this._wallet)===null||Rs===void 0?void 0:Rs.authKey)||null}}get connecting(){return this._connecting}get version(){return this._version}get network(){return{name:this._network,chainId:this._chainId}}onAccountChange(Ts){return st(this,void 0,void 0,function*(){try{const Ss=this._wallet,Rs=this._provider||window.martian;if(!Ss||!Rs)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);const Bs=Is=>st(this,void 0,void 0,function*(){const{publicKey:Ws}=yield Rs?.account();this._wallet=Object.assign(Object.assign({},this._wallet),{address:Is,publicKey:Ws})});yield Rs?.onAccountChange(Bs)}catch(Ss){throw Ss.message,Ss}(0,vs.logDebug)("MartainWalletAdapter.onAccountChange()")})}onNetworkChange(){return st(this,void 0,void 0,function*(){(0,vs.logDebug)("MartainWalletAdapter.onNetworkChange()")})}connect(){return st(this,void 0,void 0,function*(){try{if(!(this._readyState===et.WalletReadyState.Loadable||this._readyState===et.WalletReadyState.Installed))throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if(this.connecting)return;if(this.connected){yield this.initNetWork();return}this._connecting=!0;const Ts=this._provider||window.martian;if((yield Ts?.isConnected())&&(yield Ts?.disconnect()),!(yield Ts?.connect()))throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);yield this.initNetWork()}catch(Ts){throw Ts}finally{this._connecting=!1}})}initNetWork(){return st(this,void 0,void 0,function*(){const Ts=this._provider||window.martian,Ss=yield Ts?.account();if(Ss){this._wallet=Object.assign(Object.assign({},Ss),{isConnected:!0});const Rs=yield Ts?.network(),{chainId:Bs}=yield Ts.getChainId();this._network=Rs,this._chainId=Bs.toString()}})}disconnect(){return st(this,void 0,void 0,function*(){const Ts=this._wallet,Ss=this._provider||window.martian;if(Ts){this._wallet=null;try{yield Ss?.disconnect()}catch{}}})}signAndSubmitTransaction(Ts,Ss){return st(this,void 0,void 0,function*(){try{const Rs=this._wallet,Bs=this._provider||window.martian;if(!Rs||!Bs)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);const Is=yield Bs.generateTransaction(Rs.address||"",Ts,Ss);if(!Is)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"generate transaction error");const Ws=yield Bs?.signAndSubmitTransaction(Is);if(!Ws)throw new Error("No response");return{hash:Ws}}catch(Rs){throw Rs}})}signTransaction(Ts,Ss){return st(this,void 0,void 0,function*(){try{const Rs=this._wallet,Bs=this._provider||window.martian;if(!Rs||!Bs)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);const Is=yield Bs.generateTransaction(Rs.address||"",Ts,Ss);if(!Is)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"generate transaction error");const Ws=yield Bs?.signTransaction(Is);if(!Ws)throw new Error("No response");return Ws}catch(Rs){throw Rs}})}signMessage(Ts){return st(this,void 0,void 0,function*(){try{const Ss=this._wallet,Rs=this._provider||window.martian;if(!Ss||!Rs)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if(typeof Ts!="object"||!Ts.nonce)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"Invalid signMessage Payload");const Bs=yield Rs?.signMessage(Ts);if(Bs)return Bs;throw new Error("Sign Message failed")}catch(Ss){throw Ss}})}}return martainWalletAdapter.MartainWalletAdapter=_s,martainWalletAdapter}var petraWalletAdapter={},hasRequiredPetraWalletAdapter;function requirePetraWalletAdapter(){if(hasRequiredPetraWalletAdapter)return petraWalletAdapter;hasRequiredPetraWalletAdapter=1;var st=petraWalletAdapter&&petraWalletAdapter.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(petraWalletAdapter,"__esModule",{value:!0}),petraWalletAdapter.PetraWalletAdapter=void 0;const t=requireBaseAptosWalletAdapter(),et=requireAptosWalletAdapter(),ms=requireUtils$3(),ws=requireProtocol();class vs extends t.BaseAptosWalletAdapter{get readyState(){return this._readyState}getPerta(){var Es;if(this._provider)return this._provider;if(!window.petra)return;let Ts=window.petra;if(!(Ts&&(Ts.isOKExWallet||Ts.isOkxWallet||((Es=window.okxwallet)===null||Es===void 0?void 0:Es.aptos)===Ts)))return this._provider=Ts,Ts}constructor(){super(),this.name="Petra",this.icon="https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/petra.png",this.url="",this._version="unknown",this._readyState=typeof window>"u"||typeof document>"u"?et.WalletReadyState.Unsupported:et.WalletReadyState.NotDetected,this._network=void 0,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==et.WalletReadyState.Unsupported&&(0,ms.scopePollingDetectionStrategy)(()=>this.getPerta()?(this._readyState=et.WalletReadyState.Installed,!0):!1)}get publicAccount(){var Es,Ts,Ss;return{publicKey:((Es=this._wallet)===null||Es===void 0?void 0:Es.publicKey)||null,address:((Ts=this._wallet)===null||Ts===void 0?void 0:Ts.address)||null,authKey:((Ss=this._wallet)===null||Ss===void 0?void 0:Ss.authKey)||null}}get connecting(){return this._connecting}get version(){return this._version}get network(){return{name:this._network}}connect(){return st(this,void 0,void 0,function*(){try{if(!(this._readyState===et.WalletReadyState.Loadable||this._readyState===et.WalletReadyState.Installed))throw new ws.OKXConnectError(ws.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if(this.connected){yield this.initNetWork();return}this._connecting=!0;const Es=this.getPerta(),Ts=yield Es?.connect();this._wallet={address:Ts?.address,publicKey:Ts?.publicKey,isConnected:!0},yield this.initNetWork()}catch(Es){throw Es}finally{this._connecting=!1}})}initNetWork(){return st(this,void 0,void 0,function*(){const Es=this.getPerta(),Ts=yield Es?.network();this._network=Ts})}disconnect(){return st(this,void 0,void 0,function*(){const Es=this._wallet,Ts=this.getPerta();if(Es){this._wallet=null;try{yield Ts?.disconnect()}catch{}}})}signAndSubmitTransaction(Es,Ts){return st(this,void 0,void 0,function*(){try{const Ss=this._wallet,Rs=this.getPerta();if(!Ss||!Rs)throw new ws.OKXConnectError(ws.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);const Bs=yield Rs.signAndSubmitTransaction(Es,Ts);if(Bs.code)throw new Error(Bs.message);return Bs}catch(Ss){throw Ss}})}signTransaction(Es,Ts){return st(this,void 0,void 0,function*(){try{const Ss=this._wallet,Rs=this.getPerta();if(!Ss||!Rs)throw new ws.OKXConnectError(ws.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);const Bs=yield Rs?.signTransaction(Es);if(Bs.code)throw new Error(Bs.message);return Bs}catch(Ss){throw Ss}})}signMessage(Es){return st(this,void 0,void 0,function*(){try{const Ts=this._wallet,Ss=this.getPerta();if(!Ts||!Ss)throw new ws.OKXConnectError(ws.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);const Rs=yield Ss?.signMessage(Es);if(Rs)return Rs;throw new Error("Sign Message failed")}catch(Ts){throw Ts}})}onAccountChange(Es){return st(this,void 0,void 0,function*(){try{const Ts=this._wallet,Ss=this.getPerta(),Rs=Bs=>st(this,void 0,void 0,function*(){var Is,Ws,Hs,Ns,Js,ha;if(Bs?.publicKey)this._wallet=Object.assign(Object.assign({},this._wallet),{publicKey:Bs.publicKey||((Is=this._wallet)===null||Is===void 0?void 0:Is.publicKey),authKey:Bs.authKey||((Ws=this._wallet)===null||Ws===void 0?void 0:Ws.authKey),address:Bs.address||((Hs=this._wallet)===null||Hs===void 0?void 0:Hs.address)});else{const pa=yield Ss?.connect();this._wallet=Object.assign(Object.assign({},this._wallet),{authKey:pa?.authKey||((Ns=this._wallet)===null||Ns===void 0?void 0:Ns.authKey),address:pa?.address||((Js=this._wallet)===null||Js===void 0?void 0:Js.address),publicKey:pa?.publicKey||((ha=this._wallet)===null||ha===void 0?void 0:ha.publicKey)})}Es?.(this._wallet)});Ss?.onAccountChange(Rs)}catch(Ts){throw Ts}})}onNetworkChange(){return st(this,void 0,void 0,function*(){try{const Es=this._wallet,Ts=this.getPerta(),Ss=Rs=>st(this,void 0,void 0,function*(){Rs&&(this._network=Rs.networkName)})}catch(Es){throw Es}})}}return petraWalletAdapter.PetraWalletAdapter=vs,petraWalletAdapter}var hasRequiredWalletAdapter;function requireWalletAdapter(){return hasRequiredWalletAdapter||(hasRequiredWalletAdapter=1,function(st){var t=walletAdapter&&walletAdapter.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=walletAdapter&&walletAdapter.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireAptosWalletAdapter(),st),et(requireMartainWalletAdapter(),st),et(requirePetraWalletAdapter(),st)}(walletAdapter)),walletAdapter}var hasRequiredAptosThirdpartInjectProvider;function requireAptosThirdpartInjectProvider(){if(hasRequiredAptosThirdpartInjectProvider)return aptosThirdpartInjectProvider;hasRequiredAptosThirdpartInjectProvider=1;var st=aptosThirdpartInjectProvider&&aptosThirdpartInjectProvider.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(aptosThirdpartInjectProvider,"__esModule",{value:!0}),aptosThirdpartInjectProvider.AptosThirdpartInjectProvider=void 0;const t=requireProtocol(),et=requireWalletAdapter(),ms=requireUtils$4(),ws=requireMisc$2();class vs{constructor(Es){this.walletAdapter=Es}disconnect(){return st(this,void 0,void 0,function*(){yield this.walletAdapter.disconnect()})}getVersion(){return this.walletAdapter.version}getAccount(){return st(this,void 0,void 0,function*(){yield this.walletAdapter.connect();let Es=this.walletAdapter.publicAccount,Ts=Es.address,Ss=Es.publicKey.toString(),Rs={};return Rs[t.APTOS_CHAINS.MAINNET]={publicKey:Ss},{namespace:t.NameSpaceKeyAptos,addresses:[`${t.APTOS_CHAINS.MAINNET}:${Ts}`],methods:[],extra:Rs}})}supportChains(Es){return this.walletAdapter.readyState!==et.WalletReadyState.Installed?!1:Es.length===1&&Es[0]===t.APTOS_CHAINS.MAINNET}send(Es){return st(this,void 0,void 0,function*(){try{try{(0,ms.logDebug)("AptosStandardProvider send request:",JSON.stringify(Es))}catch{}this.confirmNetwrok(Es.chainId);const Ts=Es.method;let Ss;if(Es.injectParams&&this.walletAdapter){let Rs=Es.injectParams;switch(Ts){case"aptos_signTransaction":Ss={method:"aptos_signTransaction",result:yield this.walletAdapter.signTransaction(Es.params)};break;case"aptos_signMessage":let Is=yield this.walletAdapter.signMessage(Rs);typeof Is=="object"&&"signature"in Is&&(Is=Is.signature),Ss={method:"aptos_signMessage",result:Is};break;case"aptos_signAndSubmitTransaction":Ss={method:"aptos_signAndSubmitTransaction",result:(yield this.walletAdapter.signAndSubmitTransaction(Es.params)).hash};break}}return Ss}catch(Ts){throw(0,ms.logDebug)("aptosProvider send error:",Ts),Ts}})}removeListener(){}addAccountChangedListener(Es){this.walletAdapter.onAccountChange(Ts=>{Es?.(Ts?.address)})}confirmNetwrok(Es){var Ts;if(Es!==ms.chainName2IdMap.get(t.APTOS_CHAINS.MAINNET))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);if(((Ts=this.walletAdapter.network.name)===null||Ts===void 0?void 0:Ts.toLowerCase())!=ws.AptosNetwork.MAINNET)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}}return aptosThirdpartInjectProvider.AptosThirdpartInjectProvider=vs,aptosThirdpartInjectProvider}var hasRequiredAptos$1;function requireAptos$1(){return hasRequiredAptos$1||(hasRequiredAptos$1=1,function(st){var t=aptos$1&&aptos$1.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=aptos$1&&aptos$1.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireAptosStandardProvider(),st),et(requireAptosThirdpartInjectProvider(),st),et(requireWalletAdapter(),st)}(aptos$1)),aptos$1}var hasRequiredThirdpartprovider;function requireThirdpartprovider(){return hasRequiredThirdpartprovider||(hasRequiredThirdpartprovider=1,function(st){var t=thirdpartprovider&&thirdpartprovider.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=thirdpartprovider&&thirdpartprovider.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireSuiStandardProvider(),st),et(requireAptos$1(),st)}(thirdpartprovider)),thirdpartprovider}var wallets={},hasRequiredWallets;function requireWallets(){return hasRequiredWallets||(hasRequiredWallets=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.wallets=st.WalletNames=void 0;const t=requireProtocol();st.WalletNames={BitKeep:"Bitget Wallet",Nightly:"Nightly",Petra:"Petra",Pontem:"Pontem Wallet",AptosGoole:t.AptosGoogleWalletName,AptosApple:t.AptosAppleWalletName},st.wallets={[st.WalletNames.BitKeep]:{icon:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAggGCAgGCAgICAgICAcHCAgHCAkIBgYICAYIBggICAcICggICAgJBggICBYICAgICQsJBwkXGAoIDQcICQgBAwQEBgUGCAYGCA0ICQ0JCA4ICA4NDQ4JCAkICAgICggIDQgICAgICggICAgICg4ICAgICAgIDQgICAgICAgICP/AABEIAHgAeAMBEQACEQEDEQH/xAAcAAEBAAIDAQEAAAAAAAAAAAAACAEJAwQHBQL/xAA2EAACAgEDAgMDCQkBAAAAAAABAgADEQQFIQgxEhNBFDJRBiI0QmFjlbHUCRUZIyRDU1WBM//EABwBAQACAwEBAQAAAAAAAAAAAAABBgMHCAIFBP/EAD8RAAIBAgMFBAMNCAMAAAAAAAABAgMRBAVBBhIhMVETImFxB0KRFFJVYpKTorHB0tPh8BYXIzJDU4GhFSQz/9oADAMBAAIRAxEAPwDXPPtlUEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEASCRJIEAQBAEAQBAEAQBIB+XfAJ+AJ478DMklK7SKw2X9n/fdTXbZu1NbuiuUr0TXIhYeLwrd7VV5gGfe8tM/ASzUshqVIqaqpXXLdbt9JfUaSx/pTwuExFSh7inPdk1v9pGO9bWzpS3b9N526s7v8PG3/AHNf4a362Zf2dq/3o/Jf3z5/738L8H1Pno/gHxvlX0C67T0vdpdfTrbVBYadtOdI1uBnw12tfehsPYLYK0JxmxBkzDWyGtTi5Rmpv3trf7cnp5eaPqZb6U8vxdaNKtQnhot27VzU0m+V1GnB2vzau0uUZPgTJrtC9DtTYjV2IxR0dSrowOCrKcEEH0MrcouLs1Z9DctOpGpFTg1KLV1JcU09VY4JB7EASAJIEAQBAEAQBAEAq7pV6ovZTXsu4v8A0/Fel1LnnTdgtNp9afQOeU7crjw2nKs0dNqlVfd0fTw8jR+3WxEcbGWPwUbVVd1YL+pq5r43Va81qWyrZAI5BAII5BB5BB9Rj1l6TTV0ctzpypycZKzT4roZnoxngPUt00V75W2u0qrXuCL9gXWKo4R/vAOA5/KVnNMrVZOpTVpa+JurYjbeeXyjg8W3Ki33Za02+nh16+Zr93Db3od6bUZLK2KOjjDoynBUg9iDKFKLi2nwfQ6qpVYVYKcGpRaTjJcmnqjrzwZBJAgCAIAgCAIAgCAIBWHS71VeymvZ9zs/kEhNNqnP0cngV3Mf7RPAf6p78HItWV5p2bVKq+GkunmaN232FjjIyxuBjaqk3OmvX6uNtdWvZ0LXU55HY8gjsZeU0+KOXalOVOTjJWa5ozPRjJ66nOmNd7U7jogqbii/OX3a9wRRwrHsuoUcLaeGGFbjy3prGaZWqydWkrS1XvvzN37DbcvL2sDjm5UG+5P1qTf1weq5p96PHejOBNw296Hem1GrsRijo4KujA4IZTyCDKHKLi2nweqOpaVWFWCnBqUWk4yXJp6o688mQQBAEAQBAEAQBAEAQCr+lbqjOlNezblYTQcJpdS5y2nPYU2seTV2AY8p25GMWnKs0dNqlVfd0fTwNHbc7ERxkZY7BRtVV3UprlP40UuT69ea1LYVs8jkHkEcgg8gg+ox6y9ppq6OXJ05U5OMlZp8UZkng8B6mOmmvfK212lVU3CtSeOF1iqPcf7zHAcysZplirJ1KatLVdTdOxG28svnHB4uW9Rb7snzpt6+Xh9pr51GnatmRgVZSVZTwVZT4SCPiCMShNNOzOrITU4qUXdNJp6NNXTXmjjkHoQBAEAQBAEAQBIAkgQDY50i/vD90J7f48eP+j83/wBfZvCMeLPzsePxY8X1cfbNi5N2vY/xOXq9bHIHpG9w/wDI/wDTtvW/jW/l37vlbwtfxvbge2SwGpxIYV7q3PQ1h9TLVH5Qbr5OPL9oTt7vmjSUDUYxx9M87/uZqvMLe6au7y3lb5Mb/Sud1bIqqslwXbX7Tspb1+f/AK1N36G7b4tjzOfPLaIAgCAIAgCAIAgCAVf0rdLh1Jr3ncqyKBh9LpnGG1B7i61TyKuxCnl+/Axm05VlbqNVaqtHRdfE0dtztvHBxlgcFK9V3VSouUF72LWvXpyWpbCrjgDAHAA7ADgAD0AEvSSSsjlypUlUk5Sd23xZmejGeA9THUrXsdbaHSMr7hYuOOV0SsPff7zHIQ/lKxmmaKknTpu8tX0N17EbETzCccZjI7tFPuxfOo1p5eP2mvrU6lrGaxyWZ2LMzHLMzHxEk+pJOZQm23dnVUIRhFRirJJJLRJKyS8kcUg9iAIAgCAIAgCAIBWHS70q+0mvd9zr/kAh9NpXH0gjkWXKf7QPIT6x78cG05XlXaNVaq7ukevn4Gjtt9uo4OMsFgZXqtNTqL1OqjbXRv2dS11GOB2HAHoJeklFWRy5UnKpJyk7t82Znoxk89TnU4uyKdu0RV9xdfnP71e3ow4Zh2bUMOVqPCj5zceWl1YzTNFRXZUuMtX738zd+w2wzzBrHY5ONBPuU+Uqsl9UFq+bfdjx3pQgXcNwe93utdrLHYu7uSzuxOSWY8kkyhSk5O74s6lpUoUoKEEoxSSjFcklojrzyZBJAgCAIAgCAIAgkq7pW6XDqjXvO5V4oGH0umcc6k91utHpV6hDy/fhceK05VlbqNVaq7vqrr4+Ro7brbeOCjLA4KV6r4Vai9RaxXj1enJalsquBgDAHAA4AA4AA9ABL2kkrI5bqTlUk5yd2+b6mZJjPAepbqXr2OttDpWWzcHX7CujVhw7j/JjkIfylYzTNFRTp03eWr6G6tiNiJ5hKOMxkXGineMdajXTw69PM1+7huD3u91rs9ljF3dzl3ZjksSe5JlCbcnd8X1OqqVOFKChBKMUkoxXJJaI68gyCAIAgCAIAgCAIBh0yCPiCOO/IxBKdmn+uBV+y/tAL6aa6bNppsdEVGsTXNSlhVfD4hT7Lb5YOM+DzHx8TLNSz6pTiodknZc95q/+Nx29ppHH+izC4zEVK/u2cN6Te52cZbt9LurHet13VfnZHd/iHW/6av8AEm/RTL+0VX+zH5T+4fg/dBhfhCp8zH8c+P8AKrr61uopenS6CnRWupUag6k6pqsjHirqaihPGBkhnNig4yjgEHDVz6tUi4qChw/mTu17YpfrkfTy70V5fhK0atbESxMU79k4KCk1yu41ZStfnZJtcFKL4qY9drnudrrHayx2Lu7sWd2JyWZjkkk+plbbcndu7Ny06cacVCCUYpWSXBJLRWOCQZRBAgCAIAgCAIAgCAIAgkQQIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgH/9k=",downloadUrl:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak"},[st.WalletNames.Petra]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABHNCSVQICAgIfAhkiAAACChJREFUeJztnW1oHNUagJ8zuzbRGI1BW7BN/GhaK2otaIN4iz8tCHoLIlKV23wIhaJc6C8vgvjH6B/RC4JgbbrFIuhFof2jBjSgrdVoUVEhaio12SStTVNNbTapu3PujzfTpOlXPmY7Z07eB4bt7s5u3+TJe2bOnPPOMcwC29RUibW3kc0+grUNWNuIMXWz+Q5llljbC/QQBF0Ui++YnTu/nc3HzUW/v7U1oFRaRibThLX/BmrnGKoSD/0Y8zal0mtkswPmzTeLF9r5goJtc/MSjHkceBYV6xongFcIw+3kcr3nE3nO121ra5YwXIsxzwP3lytCJRY6sLaNINhntm8/K5vPEmxbWjLAQ8BLwMpLEKAyf34GngH2mPb20tQ3gqlPbHNzFpHbhspNEysRZw/Z1tbs1DdOC7aFAhjzDyRzV13a+JQYWAW8RBiunfri6SbaNjfXY8w29JibdjoIw3+ZXO4ITGSwffLJLMa0onJ94H4ymcftli0BRE10sXg9sDXJqJQYsfZZCoVlEAnOZJ4GrkwyJiVWaoEmmDgG25aWPLA0wYCU+BkmDJcGtqlpDSrXR2qB2wKMeTTpSJQyYcwjAdCYdBxK2VgRYExD0lEoZcKYtQFQn3QcStmoCy6+j5JmVLDnqGDPUcGeo4I9RwV7jgr2nIUhuFSa2Wse4q/gMIRCAf76C268ETKZyfeCAOrqYGgIxsZkX0/JXnyXFGEt/P23SL32Wli/Hu6+G8bH4Y03YGRE9rv6ati8Wfb74gv4/HORXVUFl10G5qL1AKnBD8GlEoyOiqDGRrjvPsnaykqoqID+/klp1koG19bCsmWy34MPwm+/wd698OmnkM3KZ6dmfUpJr+AwlMw8eRKWL4cnnoA774RrrhExU7PQWtnO9byyUrbaWli9GjZuhH37oLNT/jAqKmRLaVanR3AkpFiEEyeguho2bIB77oH6GMZLjJHMve46+d4NG6CvDz75BN57T5ruqirZJ9o/BbgtOMq0SK61cMst8PDD8ljuX3JdHWzaJNuBA/DRR9DdLS1EGMr/H22O4p7gSGgYStZcfjncdJM0v+vWSXOZBHfdJdsff8APP0BHBxw/LoeIUkkkB+51StwSXCpJE1hTI8fS22+HNWvghhuSjmySmhr5Q1u3Dg4ehC+/hHweDh8W+WHo1MmZO4KDQM5q77gDbr0VVqyARYuSjurCLF8u26lT0nR//71k9++/Jx3ZadwQHIZy0rR+Pdx7b9LRzJ5Fi+QMfPVq+PhjePdd6Y87cGx256ARBHLMTTvZrFPHYncigTP7qmnFsZ/BLcFK7Khgz1HBnqOCPUcFe44K9hwV7DkqOG4cuHo1FRXsOSo4bkZGZEKCI5msguOkWJTxYYdmaargODl2DI4edWo8WAXHydAQDA6qYG85elQG+3W40EOOHYOeHqmmcOQEC1RwfAwOypQdx6YZqeA4KBTg119heNip5hlU8PyxVuTu3+/UyVWECp4vx4/DZ59JmYsK9oyxMejqki3rxgTV6ajg+dDXBx9+OFnG4iAqeK4cOgSvvy7VDA42zRFutiuuk89DW5uUrzraNEdoBs+W3l7YujUVckEFz5wwlBLSLVvOrBN2nHREmSTFIvz5J7z/PuzeDYsXO3tCdS5U8PkoFKQb9M03sGuXNMlLliQd1axZmILPV5Uf3XZpdFTEdnbK6FB0H48UsvAEGyOlnfm8HEvDUOp7CwW5085338mo0Pi4VDtecUXSEc+LhSc4CGRazVtvyYnS+LhU5588KfIrKqRfm9KMnc7CEwwyQNDXJ4/RvTWu9HNdsIUpGJy++hQn2g/2HBXsOSrYc1Sw57gjuFiUTYkVNwQbIxcaCoWkI/EOFew5bgiOOHxYRm6U2HBHcCYDAwNO3efRB9wSnM+r4JhxR3B0HB4YkOE6JRbcEQySxQcOyLwnJRbcE9zfL1NST51KOhovcEswyNDd/v0ynKfMG/cEZ7NSzPX113IzE2VeuCcYRHJnp9wmf4GsMVgu3BQcTav54APpOilzxk3BIJXyBw/KlNWhoaSjSS3uCgZpqru7Ydu2yYUllVnhtmCQTO7uhhde0EyeA+4LBsnkwUF47jl5VGZMOgSDTEIfHYXHHpM6IWVGpEcwyJWum2+WhaeeekqWlSuVnLo3pGukc150VZXUEL38MjQ0wAMPyGNNjTTn00s7HV8htJykUzBINldXy7XrV1+Fq66S1b9XrZJVvaurJ9cEHhlZsFlubEuLW0t1zRVrpahsfFz+vXixZHRVlTw/dGhBSk5vBk/HGOlSRbcSHB2Vq2HRUnMpqciPG39/asduKZgU+lvwHBXsOSrYc1Sw56hgz1HBnqOCPScAdPqiv/QGGPNV0lEoZcLanoAw/CXpOJSy0RVg7f+SjkIpE9a+EwA/AsNJx6LETr/J5b4NTC43hrX/TToaJXbehsluUg7NYp84gbWvQSQ4DPNY25ZoSEqcvIIxAzAh2OzcGQK7gI4ko1JioYMw3G7a24sw5UqW2bHjCNY+D2i3Kb38jLUvksudrqA/81JlEHwFPAP8dIkDU+bPT8B/CIK9U+ePnjWX1La0ZIB/Ai8CKy9RcMr8+AVJzN2mvf2MetuzBhtMe3sJY/Zg7Wb0mJwGOrB2E8bsmS4XzpHBERagubkeaMWYrYCft0RPL8MTPZ9dZseOI+fb6aLT/W1TUxZjrgeexpiNwNIYg1Rmz/DEhakcYZif6AGdl1nXc9impjUY8yjQCDRgTP0cA1VmgrV9GNOFtT0T4wY/mlxubKYf/z/Dhnu5uHkRfgAAAABJRU5ErkJggg==",downloadUrl:"https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci"},[st.WalletNames.Pontem]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZgamFmaGZsZmgMxiM8FAEi2FMk61EMyAAAgAElEQVR4nOx9d5xUVdL2U3Xu7Z6eABJdUVFBUZKEISkqDBkDZhDTumtAXVcx7Lqru4hZ14TsqoDuruvKSnBNqOQBAwo4JEkGgqigAgrMMDPdfe+p+v643T3dExBwZnzf7/vq97sdbjp16zl1Tp2qOucS/geT3roN9FgLKJRw8QLCjveI5t5lM05qPAIb23VuQrCtRbUNgVtD6ShAD1fgUCI0VqABQBGChgBAAY+AUgXtBXQngO0AbQWwBaQbGPS5qtnUeuXMnShdmMnTwLEGzU5T/KdACaRJHv+nEv3cDFQmxUVAry7A4tsJI6bQ4ti3OOm10bLw6N9Qo0Obh12HjSumo0PmZCU9WaFdFXqMASPbhMBEUFUIFL4qfBWIWggUqkEZRACDYGBgmGFAMMQgAkQV5TYOHwpW2gRgBYE+8FU+8Nhfrb7632//Nn7a5qf1w3PGca/wYcDUEYpfP6wYsAJ08ZSfVX6V6X8MwHr5G4DvA3O/JBy6FbTmEV3c7UHOc6WBIWoaJtNTgSEC6SuqR+Q5ERAATyziYmEhqoAAKolbEgGkIKKK50x+a/KbABFoageBQIAxYAqxgcsGCqDEj4IJXzswhaI6Jw5ZYlV27ra7i3svfUT0jlsJhx4BzD9KcYgDemFYPUlu3/SzA/z24AthS06gns3y0fz1cxQAVve8p4FB6LCw43Qn0rOs2IEhNo1ccuGpRVQ8KOADCgIREmACICZSACAkfkCRgasmzk78p+CYKgANPkmD/8EuqAaww8liFy4ZxNWDJ3aXITNPIa/HrC0S4JsOi+8oBoDt57xKS7Yvx56mRi99Y2y9yLEm+lkBfqfPfdT+qzu16aaAjTW9HjqMCCeG2QwAMIyJ2rhkAi1VK6oqIIBATAAbYg20FBAVMLG6ZMoMcTmDykGIimpcoT4Aq1BJAMwEGAI5DAoByBJoxFfJ9tVGRIWYGISgSlgVUkAUwQ8QsUuGXTLwg7bjcwLNiFtvjq/4uOOSP34DADua30JNT+0F+u9wrV4CdU8/C8D/unAoXW5GgaYEGvtxr4eOCbHp5ZIZZlWGGqKGTISY+CqaanLZISZDDEXQt4bZ2eOS2S6qO6Li7RSVrQrdpsAOge4kwi4AJQqUOkpxn9QP1NI6DA6rIgJQAyY0IqKmAJqRUgtDdHgWh5oSUTNfbfOY+A0dYhAIVgU+RAEIFGAiDpNDAoVV2eOQmempvOFbu6j9ktu/BAAd/hqh0xLQnQ/WO9D1CrACWNl5Ene57hrBKGBVrwcOD7M7KETueRa2H4GyFYq4WCWoBKpG7JCBBDjbMLtbiPDZXi+6CazrVGmTqGwOkW49/sM7SmqDz097P5oXt/7hIBzDRK2hOCHHhFsT6PiYeC0BMkwEXy2silDQiJBLhjmogKUMmhMV+1rMjxd2+eiOrwHgo44TudvqUVKfQq+3suYV3M0nrrxLm++CFvV8LJRl5IIIuxeIykAC5VoV+Gol0fexS4YMMawKHDIbAF0RE69ISNeR0prv1q35st+eF6RyOS9eNJ0a7vmGepV9j6ZEWAlghwr6Nm0Llw2AwDBbuHM9mhGjM4Cdqlic3QR7Gh6ml065sIqWTWtzNx/fONzSgDoyUdswu90A6uKrPTbJo6+S5J1cYubANCghpflReNNLfXq559Lb4jtwFH1c8Cvqv2BsFd7rguocYIUCp/6N6b3fCgCs7vnwycp8TY4JD/XEb64AfLWpWu2SwyBAVUsdMot89RfExV+mrGs6ffCHbyru/E8Ut+1HRYc+S16oITjSTQe83lfpJz6SQjHv7AdIyneTG89Ft+8Wa4P1MzNA//ikv7SAanuXnXyXnH6+2pMJlAMoPLUpK94lQwIgzM72UhubCcGkjkt+9wEArOo8mU9cebH8VH5/jOr07nrRNEJJS9BbvXR57wcPcaw7qoETGVlio51cYsTVpoYrLhk2xPDV7jLgGXH1Z1rI8p1edOOAojEWCNRjQd+7mEB4faHqONxdL33aaIyls/uCFIqChXenKuPbXW43LcJNWhuYriE2Q63KWQ6bRlYFnlohBZRAITbkiSDPZK3aY0v/45M+m//B7bv0zMWE3C9BU+rOCKszgD/sMomPbNxAj5h/kS7v+ZeTs034DwD6KzTbEwGgqqTKYA6zg5j4e102/4qp95paWt158S3fgQjfNAH9os0tQItuwMqXlDbOqCuW94u09VlA55GEbUXYseFxbb4DwKPAx9Meba5EnUPGucBXe3GY3Zy49dSSKikIIHKZQURlUMwvldiD+Yt//+Gmgsn03e5SOmnFNXXSZNc6wAoAvW5kWjxe5h37CjdusnlUQydyY0y8E3yt8Ccp1EZMyLEqENUpPuQZga7q+uGtezAWePTLX1HHr7ui9XfL9dhV/6xtNmuFNnQahY2HNqL3jnwI9x4HpT8ART0ea+SCOhrD1xLRSIcY5TbuE8gAABGRA0aY3U+K/fLxnfOumEDzmqj2upGxeHytG2C1er/rcCMOxyH8J9wjy3s+3Azk3p/F7iWimuWrJQCkEJ+InTwTwV6/fDWxuT3ml7/ffentJRubPsetdn6m04dF4WdP14unfPOjZf5PoKcuOgODylrTsW/kAr1XgRa9pUt7/CUvy3FPUcHDuU6k415bDqvqM8gBoC6xEnE0JvEXRe2f8pf8fsd9GMNbsVuewfha463WAH7+stmIlO/mES+PkMXd/3J8Azd7vAKD4uKn+heF+rkmyy2VGIzSHXtk76OntvjCm7eHuP+CQ3Vx95ba66M1IDxZW2zVKynGAgMAzPNofsH3NGD3BFlo7nWbug1vias8lGvC2GujHoFcBG40hMghAuYUe2U39vro959OvWAql0cOkSv+PbhWeKoVgBf0HQDLJ5kBhffaJd0f69TAzZ6sQPtyiQmBOOEjpgZOhPb60c2etUN7fHTLpwAwt+AOM3DBA/bHyvjfSHrxy0z/uUAAYGWPv7SBCb+dayKt9/hlCpASwKoqERNmAtYWe2WX9Pzo1lXz+/3JsCy2BQvn/WQefjLAiwveRzFnm0Hzu9qiHuMGhp3QdAY1LLNxywQDwDpkDIHgqfd4/uLRtwJAUddJbrfl13g/+Qn+F1D6sy7rNf4xl8wtgefLWgBGVG22k2VEZU/Uehd0X3LTvNn9l5mGUm57LTjlJ5XNP+XixQXvoydnm9VNukpRr/HnuBx6k8ANS23cAmRUSUIUNlaxq0y94Ulwp104zfy/Ai4AdFt+jTftwukGAPIX33hrDPZCBf0QorBRJSGwKfNjlsANQ+y+WdRj/DkyP9/2NNlmccF7P6nsg9bgBX0HwJq/mF05XaXl9vHDXXKmGBBi4vkEcgDSiAmJr3ZF1IuN6lU0evnyrs+Zl757Wx7Z+srP5nz/Oen6Fv3oykMv5vwVV9klvcZ1zaLwJEOmc7mNE6CsUD+LQ46FwFc7YsPi+6Y17T/TOPZ3tmDh/IMq86A0+PnLZkP5JDNgflfbcvtfz3bgTjFglItvAXIUhDCHPKv6dqmNjuhVNHr5iu7PGl99+/8quADw9LZCtfDtim7Pmp6LRy/fY6PDrepbYQ75iWinUy5xn2Fg1Ext1ePPZw+c39Uqn2yev2z2QZV5wABfhxsRKd/N/QrvtYt6jB/owJ1qiFEuvg+QARghdssFOmWXX/7b3ktv3lR+7kvcuUsL22PFtQfF5P9N1GPFtejctYXVc1/i05bevGlPvPxGUZ3islsOMBTslIvnGzZw2Jm6qPv4gf0K77WR8t18I2484PIOCGAFcAQa8oiXR8i7PZ7sFOGs6YZMKCqer0oOgeFyqAzgF3f5pX/u+9HoLU/iSY68Olto0hkHzNz/rUSTzgBenS2b8SSftmz0llIb/ROBX3Q5VEZgKMgpE883ZMIRkzX9/e5Pdhrx8ghpiIYHrJAH1Aev6TWVOyweIQu7PnH8IeG8V1TRrlxiNvDSEMLGKWfQi3ts2T19lt749bp+hdS2sOAnBwD+byWFAv0WEBX203d6jD+igckeo9DL4tbL0uCojXDYAFhb7O89r0/R6M+m9JrKFy0esd9uzf2uEcu6PM0dFo+Q9/OfbpYXyh2vinZlEljLAGuYQ3Eoppf40Xv7LL3x61V976W2hf3+P7j7IAIBhf10Vd97qc/SG7/+wS+9T4FpYQ7FARaATJnErYLa5zm5T77b/a/NLlo8QpZ1eXq/cdsv6b940TQ6ckcUHWwc68viE8PkXh0TTyhIfZGICauovrXH33tjv6Kbtmi/QkJhP/3/0O4fKYD1/QqpXWE/Lew+7qgGTu5fDfj0chsjTThDskyIoxKfdPgJA6/9+qv3seXQHFy6H1Eo58cLVyzZuwS95vfSd3s8fX0WhS6Jq68gZoXaMIeNp1JU5pff3K/opi2P40lGYcFBOc1fGDmVmpTsopySb0jpf1f1UAialnfWjkvOPeAYLwHQwgJ9Ek9yv49u2lLY48nRuZxzWIjD3WISsyAyMfE1TKFLv1o/d+VpH13/zPtnvE9akTS4z3vvk/7deTJftvISKez21EmHuLn/8KzXJg6fAKhDhqH4ISaxgX2Lblj+0rkv8exXZ8vzeP6AHjCRtEqJ1Jf/1aT3/40Q/kbptvsP+NorcAUGnzuYR746Ut7pNqGry2YeERolEiLIgdGwcT8r9kp/3afoNx9+cOoSPvm9nvvsj/cJ8IKCO7lgwf0yr8f4JrmU87yqnmmDtBpSKELsUszGhvcpun76R92fNYu6tLCjD9BaTgf3rc6Ph7KcrA4MzoFCBELKGnC5D291kMtMKhBicBBmB6lCg+vTRGBgVGCrrUmVk6YNWAVKFVnTCWKk7kkgMBEsqUL10wFFv9mpjToTdp2jhLEHJAsAGHfNW+i94mvT/aNR9r1uT1/gmvD0uHgpW8YhQ0Q0o8SWXz6w6IbdhQV3cL8FD9QIco0AKxRotINoV3Nd0P2ZP0Q4/GdP/GwNjnkNnGy3xJY9ftrSUbeuyn/O+OLb/AMc56ZNNNDC7hNbZbEzPkxuzwRC6QnN+3s7qua7ynmalhm9n/f8cSKimMS/j/veHcdtavxai10zFTjqoEBe1mUCmMl0WTbKvttt4mO5bvYtJX6pR2CXCHDJKYtK/J6+H137sLYoIWzLrdGYrZH5pzs+zdevvl4W9nj65DyT90zMeid66qtCbI7JdqIS23Dq0quPA4DfHX4eHYyH6t1T7wSyl3Bs5/mHNHJz7zfga4ttaZ3nKdUBkUAlh7OMQNaW2fJLCoquW6UYDMLBeaC+PPUFtHzvcgDAez2e3ZjF4ValttwnkHHJobBxVxXbsusLlo764NnOz/LVK6+uVourNbf1fqXrV18vc9uOC6k615T40RPjahNdunFKbQwWegYQBA4O1v34zWGdcdrseWLINI6Kd0pU44m5J8rVb0hs+zq+P9eg0v59Ha/uWJWyCQCXSRxR8dqDnKODJ5xVtXnfT2r53uWYduE0AwAWOrTUjwJgR0GIq0WJH+0EpWvmth8Xunr0EJl24bRqtaJagCevCiZQmdzsCyKcdbpDDiSYxmFzTDYM8R/6Lr3ms2X5E93h04cfdCyXErPBVIlUiQNXHZEqQUFIfae2xHyS5LFqj6cd00rXJLfk3BRF9dclr0nNX0nnB9WUGxxDYr+o/qQoXZKGTx9ul+VPdPsuveYzInNHjsmGQq0A6pCDCEeGOtk5F+CKI2FN9feowoh//jS6dNpIndd1whFZFL4wrrZZXKxCScOc5ZTa6Oo9funjAJC/bFSthPw4qOUaCAmqCISF5HelLV3Aqf1IOx/VHNfMczXt/HRwKt8DSAe34rz0/6nyKfk8tTcaSMr4e6/00b1+dHWYsxwoaVysxtVvHuLQ+bO7T2gxcspwfafPfVW0OAPgtcPGYuySmQAAw24/C/RPKhmDyReBALefmRPx9OJptVJLAUCQnD8GaOq75i2dMrRNq56zr3tU/p15v0BWWqlArfQn877JVqDWRBMUc/FUPu+U33rM9HtfLAjESV5EMTCkoUEAcFrxTfr24Aszrs3gZOtOS/d9/U+dkz+ppUPuOarI80RUldRll5Twkqf+++uz+jL9Z3itpXkKCFJZY36uLaOZPtBrEyKtZR8e/WeEfPLpBi7zY4sUeCnEIShIPBEBKM9l9/zZXZ89hlbkwSk5IaPwFMBvXP4G5h/WCgDgsNtboANtouk05JioeGUxsRMGFY0qOWHu+Fp1SGQKExkCq9BKytDQqlpbVdhpc0Ar9b2V++Zq7lVtP7uPMpWg4NSx2qbj5z6iQ5dfV+KJToiKt9fAGCglJrlrgctOLwCYc1hrvHH5G6nrUgBv9308/N9f6az8v7cwcM8GONcXEQWBiWHInSyK1X8v2Ez3D7io1p8hJXhNByddq6ozoNL6xcQ1qO5aUOY+VJSFFOCVjTVkAqrVAFrpGFBxTm3TsO7dtUvr+9mDrjLk/ovJgQLwxQqBcgw5Z83u+txhj/73Ct3u+6nrUm35le8tIgAg0Im+2iGiCg20lz2VH+LivTxk2ZW7li94Hn+a17tWmRehDK1IGkwVwtr3VvmaytcrSBUkwYbEN2nl8yt3D/sqq+p1gXOrLrQXAD756C84Y6PRocuu3BNT7zVP7Q+GXFZAJViq4nQQnwgAV767KGXlMQCs6jUb/mFn4u3Of2/gwB1I4IZxtaIgBggMM0NUVz73uOLcYafWAfuMCuGmAx1Q9f1hNQYOkn05IAkwAYJDDrkc4hCHOcQhdsllBpOCVAAJxt6EykZFdWUm+al6PJOH2qbP8Tn6DuuG5x9RwGI1w7yZkB3H1QrDNHTJHfBW1783iP/idKzqNTslWbRZfBu5SwsUoMMUOItgktpLoiiNizd7yKgt282612h79vbab56RdAcE2pAUdtXv9C39WMXxoEaTOuRyiMKcyJDYBeAzKFZCebUCXykoTjBUcU5QGVL31GrKVKrYKvGU2ZXUDW3P3q7+J6/Q4OW/+i4u/kwBSplMMPsJDFEMI+XDwkX9tdPimwgAHL11G7BtFr28spRDJtQDRMfF1FNVIiYDYlrkibcMo+5Bi0EPY/Cc22ud8Yqan6a5KUEl3coAESVWzEg/hvRfYpgDwFS/B/FcAIs99T9X1T0qGicQEyMboOYGThcFCpicHg6I4uIFxWuwvkf6aFYzOKn4ka6rSqh8Vq3SxVMuxuxBDwNE8PP/sSxE4fdVdbDCUkw9dci0CRm32xtdnvt83vGMRw8fog491gLbLrwJWVmd8xQ0zIGDuPrCYOOrQFUXRHnPRj12JzZ+t7pOOM+0XFFFPoogXqTJQXnadUBKpOKQwwZc5sF/WdROjqm/xkbpu2HrrqjW2/Zml3+8ZYhecNg9zVf9LZFpB0AFNlmP0ohS7UwS7ExWEzxmHK19av1dD9VWW2lB1tubvKi/EKDBRIZFxTrsGl/9YQb8FtnVxbc99ms4CiWaTvJW/r+a+SoDknE5h10QaEO5LV927rKb7fKT+lPXDwvqEOAUyNWWUVljKx1TJmYCf+Grvafcxl4Lt79qV+sGoOMLo1BcjmnDX6Pm21eCQPisaSssfXkDzljxq1ICrXu1+9OfujbnQ0N8u8vuRQSCr75qlaBTpl1QlQ+C1ni0dujYVQVYdtIq9Ft0tX2z67+WRTi8gVWPjSMOTyx8lQEi1HTA9Cd2K5ScVy6ZQc+/+zc46vZk4kPi6glA7KvAgVlBoDUA8EWLDXXGtAb9ZBJoqgrkPrRCVYmIGOZzT/0bV676fM4fJ98j7z13O23b5iLHXadHoiswLVPqD+ABbD56M97LWkRZm5robP764y6Hb702rv7OELvXMcFYlUTB1ZVfqf1A5VFA3dGWFhsBAKxYo8AKX+VYBTiuVkLkNibH9Hzu6Mc2vtJ7BnHTnc2oYaPskIIGOexCoEJgUiUbE7/ojBVXfAMAz6x8ps6qJWWMX6vbqrOaE2InQ2HO+jIu/uihyy+b1fWIlii9FfRpXivtt+A+PXJN12rLvAN3oNUXrXDqJ711x/eNZdCRm+iMlb8sZri3xcSbRmBKhkOqHR9Xtp615i6mtimJxekrfvlN1HpFCrIEQ6IQhx2o6pBGDRqEm+5sTtxn9kkWDhwftiAuwdpihhyEOLTFV10HAAv6vstzN86tM4ZtamhBCT9uWlCh0pYeHGAyNstE9pbZ8r+eueKyt5/o9gwP3nKV5GyFXvXqqP0u/3Q0R4/l18iy/IlmyIoRcSv2D6JYpQqGslYAl+44qcQPVThd6lqD526ciwV932UAsIp1IQ5tMeRAKVhgRhR9XA6bPrN7WQaAMLI7KuiIuPhQGLIAVOkzhawJbjmrThmupCVaMdSg1PH084LfJFA2e/2y989acfmjALC96KufpDv5y0bZovyJZtiqX35Vbr1Hs03uTiJOtb+Vb57UaACpoIQA8FBD7K5WaVaCB1kjSp8JCKTMUfEhwJHK1BFIjIMFODnC2RDAB4h9EeyV8k1tNtCXAPD6QreOG50MNx9Vbv4yPUgV+7I4stOKPAEAy/OfMw/igZ/M56RlmwUAzl0Vm1xi964VgBOesCqOj5oDI3VPSUyO2Uhflkn5Jl8ECOZi+xGTDYZzEpB0Var2TjLGZNTl0B4F1rfbe7kUty2mul7NJsOZX4PAKnmzhMlwid376bmrLp8DAF2WXVkrk8gn4SFdWDDLEK5WBV6JcGQvwFI9X9WDXtdNNACMw91a3LaYOpVcLgpa57K7h8hosuVToDcAMBCHKLr6YpMWLBlytkNpIwAUHVpUDwlSnLKkqze2MoEGSMIc8USCdmpB33GmNvO4Yt57CgBCPNcXKVbA1GTkVY121Q/AQAU2qtjE5GxH4H4lTyxU0QUA+NV2bzRVwtGe+oAyqQKiukOgmwHAC9X9PG1RhVTS3pqMLA1ciCxQz2csAgA/1LFW+Xnl/ZgCwC6UfV4u0Z2BZ4y0StQpw+CqAFnqo41GBTYC3SyqO4LwEFFcfSjQataJ05owQn5rhgNPRQEiXxVR8XY6arYCAEe4ztnNDLUFGiGVtLaSM4TLbdxn0CYA+MrZUqs8TsSjugu7cOXyq3wBfc1wkg1LNTHhykO5+tPgJDaOmq1R8XbaYNhOvooSHJQZac0gOjbEYSRCaETE6qtsPXvVyBIAGPD6gHoAOFNAmYZKlf5NAYav1vNjkWIA2Pz25lrnaS3WJlEqJjIa2C/VhxV/DnCBCmzOXjWyxKpuDVbNICjIhigMhbZhqzg2Ea5TgJXJKVfoNgB48aIXqT5ylCtbpTXFg5MBicQ1glCwLqSpg2HJLMxK5ohZJDI1pBqeAqpsQdcPyATCixe9mOyHtxlyyigReiViqHJrh8BHpYwXYhhyygDeAQBN9jSpu9BIJVYrBJdMwqvpzKSgFV44XmeSdBLz8iThaAt40hSPmRwFVNHV1B8lMVLoDgaXA5ytkKRNc5QjoBY2yN5AELXhclHdCQBZZVn1wmTlvheazLFME1jqI3BVqzK43K/+hrXJm1bW2oCScCfRJCRj2ajwetQDJTGy0J1EplwCAytYrVzpcEehh1pVaDBfk1QRFdVdqaeoN6qwkhNVMiMmF/ylRCVM7IzXPVfp9kEyzlXhWaME52lerfpU32ThAKC8SxVRKEg1MJaV6FBHFU19WCDxEgsBPIBLgLrp26ojoaDmJzMA04P+6ZT6m/ANUz3MNk1mSibLrMILMgGvzz4YqMDIkpYIEE+UT1YtVKmRo6DcID2WkxlpnpCWAcCH+mG9MKkWUENQquiHa6J0banPBmZ/qlKFJV1/apzEiJlLBfADI5TJBt1EQwegnCCDUmHAEMD6GjR+RzY9sl6YTJirSJ/Vn2yKk0BqYm8ycwKp/3XPXboBWF2lymyy6zK3siolMRJr4mqCVBRJVTONOAq4wampBk9csAcADv/oCg+1QimRKDI0WCt9A5Sxj+tBkBXu0cq8VHMigia9PgFOYuTD+ppIHKzAkkJOZeEp0sVYX2SQhKtqyenamtTq5L6G9cJd9X1rVU4zDMN6p8RIiCh49xsF0nKgFAchhNTghFlhHACwUvfDECBoUlICTM7rqdIKJ4dHAZeqwO56MLKSiQipzJ0Ub2mZPEntJapP5QVQgRFBXaQmpVHyhWGeo6ByBodEJZn2aUQ5BABrd35Vr8xmaHB1gtLkUCnZRP8MfCVrWfrBiiP13vYlMSIxIRg2mrBRCAyBlLISihOJ35pwWTpqbA4ANKOT6oXJA4m1Zvp862eYVFPCQXWu1PqKBycphRFTDkBuwtmiBANV3ctQ/MAUzGRIMBhWoTwA6LqvpW1qkSqGPukCyvT1Iv2c5Di4PpjTpMJWDYCk/86MV9cfJTGyijyAQon8MWUyAPFOR0HfBeGwuCIAOaxKjQDg23qqiJnaUZkyQa7Q2+SQpK5525cDgyr9C3zk9Qnyt4nCGHyIgsIIMFSCAZS+YxBtpaBvhoIgqhGAmgLA13ti9cQmZzR7+2rm0itDfdS/6m2CqhUyoR0Imsj6a6K/zk5gRNxUoJFky8LEEOg3jii+SDGrgA/JVvChAEDLP66XypgcB2va/wTXVc5NrkFGabpcl1Q55ptJFV1Hsn3RetZhMgFGqtTcqmQnpv0meOEvHBBtsIkBXBCBsBEi/gUAjMbvdSmWogd61CmT6UMkTdjKNVGQdxLwWn+Ojh93oSZh3Z9za4uWYil6vNkjaDeIWvhqI6ogEEGCHxtYgQ0xiUE1SMlLLAd4+D87/bcBABSfU1xftkxyo9RvTdufMnbS++C6o3jSb5/WFGcsCVFl27c7sy6oGAE2/85/PQ8wLawIKVRVyUQ1DoA2OI6ENvrwwGRIVIRhyCW3qe/bFgCKbZmtl7ZQNeGF0XRfMxLuy8SPlAAp4fComa07+t7B3dGdGqFRtU0mAdgLYDEIRnegcc5XOKLkKP32vW/RG711C1utcfgAAB8wSURBVDalopYVFSu5XGoy8K8ZvAaH6k+DbU9LWAL1PTk8i0NNffVgxVcmw1YsVHSjc+nqId8/33HGJkNuK1+jyiCAuJkwjgHwSTju1jmjopQWaKjJUZp5XIF9BjMfWFjzAp37QyNT7UT6OLhy65HJa4VdUD8uGDfbTfDExzC4WSLjVF1yoYh/ccXas3Ymogm83CG3VQwxUShbtc0J1BoA5n7Xre61N/Vd2TquGjVSIHDEQbGv130/0+7lVg6HTiDVbCJkJfQ9TEExcQCiolEYKoPavaxcDFCJYyN72jZqvbv7BxS80lY1CkpfkbByg5Ye60pWgvpZFrnbt92SBlZrX21zTcz6cciBr95yoGJB8EWiegEAEhWKq9dQldqNOe41c8/6BnYsRtNYjKt1podPH574ldCStKYwkyqnygS/bCVdn9BtAl9bdK1M6vB620Zu46dE5RRAbWCWZZICCqMIhKKqquKrpz7F4qtL1pX+48QZP6jSFgCd4hrnTNCq5y/lsFGblGuNq8D+VLoLo6nB+gb6/DFrWWhT27h4DQMeEi0c8SIgAbAqfVgu5QgWu4QwOZxFbqsjQntbAtiMvmcTFtYuwGPwJ+Y+A1jfKxOQTa58k+rVkppcXe9Z0RAGRy2sTsc0alq0Sv/RZRqrz6NL/D0FCkokitR8t7TIQRBnA4GJmxiYlsymsy8erGbO+K/pTmnDk2IAeDb/ceeuhnNgCwfKfQEvtUaUwCSa83nLPMpr5cOHr74Q2Cm15XCUPwASnYVH/hqAvnIoBIEKQFBCG2bqEDB+8LXwCTyBeb2DlyxOw2ReMuBdAwD34D4Z+05f/245XQA1Cg0HehUYWlWdHpm+4KAiBOFChaULMVwLcL+Kl31liLIuZnKTqBoE7+5NfFfeErHK1BKKqlZF4xKXcimzfgrcmnzOafsTBiERdX3h5Ldzr1l2q3934SA/Ce5HQ981ky/+b2opvE8uefWg5ZrExCXuCOD4xBhcHA6BQF9HyVsNAM6SIe+Y5V/u8kOOKTTs/lL9GAQWnspRUG4PYMbdC/vIwNYlmLsxb7+L/2+3T3Der4/Ef69/lRoyEwAZjkvkb1unu5M6zggr0bGuugVQGSTQXr5KYx82sGpqais00QRR2g4AjY/rQfgcmNThzZ5ZJnuUVZvrqS+UtHaqcXvV1DqkmhAiqpyHVR0/6b1HkOcGItBDXgnu/XuHmUuZaK5FfJ7ArFi6+Xu7eOaGGEC4Y/h83htk0uiYYdM1P9vHOVMu/jHBAgAGti7B3QtzEy2CaRdXr6Vo8OptQy4EskD8qL906DuGtzfZqXs2bYurYrYnPoiYrYoqiF0O509o/9rhAOG6zrN+VI0/6/oZlvVdgDsBNIscQ3R9Li4YcpkW7SrOnthhxi+eO3HmoBynwQMG7lKjvCrE4XEhEzndIbdxIDDSjAlclVecTVmtSQ0O/pl+Z9sJ7d5ozORcG5VYvhcsgU8EFgILUeIbLAQjlFgGmsCJFfs5sVVMEwVIA7uMVJUUmlg4LX3V20r/QQHIoqoEdkMmq3eII2NVzfsGZl22m/NU345dzp/UbubRR64rzVuw9HsQSPMOzaHsZrvpg1M+wPPtnv9RgAMsCM91mNHCoXA3VTJWRYmYffGhhDnFe4rj3zXZqc6Zk8/Ts0A6QV5f6lDoBya3sY+4JTIGoC5ETgcAW4/9pnX1pd0J/Gv9y8TbTsBx7nFKC9sAAI744a0GEzu81YS3mg6GeZCqDlbVY10KQyCIawxlUuorQAwiKHFSSkDF2LOyCiXHwIk/AAB+7zXHNZGLDDmXqWrSWSNEJJTym1Bi4UJAoZz8VlJSTaKb9CITKKHBYFUCqQYrDhEBKsjotCqsr9QYimDVqi/lokEGt+OQe5Rh50rPxq9Upu0OR+a4kaxZz3ScsZI/wLeD1l7/PQBMP+Z6mjjkIfzg98Lra5/Xxd9UBfzYbQEWAnQIMDKA+sJwjSfebs/Kktu3XaH6osIhkP55RCHr6tLviZ25hpwRHjz44oOJWzsUyn+mzavzj3O6+AvyN6Bg2bGJZ1H8ue8CundOgUbfII0cBuxpNyM8sf2bRxKZtg65fQEdpJAOBi6UFJ7EUaplwXq4SkQIEor2Ne7NbErTka0QcoidY5icngB/ENfyXSCKkUoZgCigcVX4BFgFbIAaOYCyglwKhk7ZCsoGkM3gbIfcLEMmzMRZCs0WlRxLfsTChlWVDDsgDYBWFUXqxR3p1j4RFMlprRrTuKofUwLYpVBzA+dSH96lLkJbjDFzn+s4e46v3pqd0C+vm3VWKd5U4Ky+VNh3PgoWVrxgbEH+BrSi1vpEp1cMSyjfV9taElXOkAsQzWNEd9xx0TamKSS07dZHMe+bzrzp/d04vEHDiwzRZAtfRUVDFGYimhe15Tdcu/aMTx/pPZc2L/oHzu37axqwcEDq3QpPdXijuYHT3iGnp4Ez0Kp3MpOTxUTwJA6B2gQsKd+EBs6gxOoWlHBA75ehrhQMTHcIpM21a87YPanTK7kioUP2ev7uslBu+ZiPBxxUIHtcmzlZYZYcdm0eiR4iQGOAmhPRL0BoSspHMXHzEIcPIaCJVdvEF7+hQCrxTopgTEqUjnryARLxFQKxSy6BAKvWMpllojLPV3+RiP/x9evO+jp5zdy+C/nlhX205Ukv484PL9QJ7d9uk2Wy/qbQgXGJC4HIIYcUuHx32Z7/NO15ng48DMH7q7pD6SOQPtX+rePDHHrdwBwf05g1wZu7S63Yq5utHfLSt0e9ZWZsOUNmJp5mQru3TiB2ujnkDADQR2CPdsiFVR82WHkeSLl1EkZqIjWNwOSwC1WFLx6IEq/BqdFmT2itUsIMqgD4jxhED2JORu14H0Dy3dkKxV/wFypDGQiEu3BX4o6kwK8A/HO/KsB4PMGhdu0bi4m3YKUjCXyEgo4koCuAXgAaJe4LJ7EarFUfApHEE1DSWgeQXNhNQACD2eUQfPVBoO0MXuhpfI6vUvSbtaevSj7Jq23W8KDPOsqLHWaONHCeVSDHwrchChuB/7kn3lnXrT3j044oo9XIVgcA7uu1SvNMjJbvmb9NQTMs9HiAyKqoQ26Ow3zGdx3eLrx+zenf3Zi/kM6MlnYHcd8I5wzyxOulqrlEDBHRGMUSAIITRpEmZEyGDDnsklUfouITeCMRrRfEtzswZxDR4Vb9KqvMpTd8yVBh+ji4CfrTv3E/1iEHffAZBuNsvIAXAPwSqHA2pCrA2IxX3XSkf0FxOYCZmImt2IrGAxvQZ9wInWNhLIr/QO3ZR3H5Dxi1bJTFOuwEsBPAxxPav90ahG4KHEVgmwj4WwDzmBxfVdpZ0NEOhZjB8OFB1Epq7B34X4J1UlQ0JjGFEjnsNFfocCZzTg5nL53QYdZcUS10Gy1YfO77/fwJ7d9s7lJoqAI5VjwBEUkgkRlK+s0Hp/hU4q/RwYtTslPccTTogS9In+kwc5CBM4WIG/niWYdcA+gPPvyrVe1OwJwTMTmnxKU837DDKgJf/cD41CBzgAAoaWJqJ7PDIfjiA9CoQ+4ahSz3JFYkwAZVfyORCYU4PJVhusY0Ksn7ZKBbEdtRIiZV2WHYa3P16rN234W7+G7cXffpHQCeaT/zOAV6OWR6uJzVSVWO8zXeXFQ4SH1SX9Re6MOudImPJ/DxLoc7Qam7p167RKsIXz0IJDFniCrNsg9kx8TssAtfPIQ5sqpcyhaJ2FeIqKHDzkQCN/XVsw45RlX3WPUvum7t0Fm3t1J6eFPQ6zlJsXU7+TnFF4AqVhM7swAdCYB89QGgMZNzV4izTVxj7X31AQU8G5dEN5PyxmvgKCGXwgwQRH1fVFcQ8Xu+xD/wxdtsFV/8dv3pPyQf5+kOM1spiDVhIWeob6VuOTVXCIRyJLmv2+jNuA4zfuGoe5oB+oY4ciKBWvkaP8xTL+hQg6FdwLoSgTj62zVDvwDwBYDZT7V/oxmR0wrgY426pyjkFCLuEELYCCx89STxHsJkd5bS6riNKYHJU78TgTtFTKS/r17cit80IRwiMiDCLF/8jwGgZ6+/KzZdBSDt5ZSO0xyTh99Bl0wb+s0z7ee+YcicyeTmWfWVQCQqJ8bJgyhg1UukVnNSY1WhwmAT4hCLKqz6XzLxTAXmxCX2iZJu/c3aoXsA4IuXgBtGKv593hRq0eYjfDaDKsYwqXFo9ZRuW9fl5MJpmMbDMVyeaj/z17nmkF9btUd7EmvhqUdEDFFRTY3Xgu41FULUQK4Lu23mPkVHC3VfvRPPn7gDwJK/tZ01ixlHGHLbC2SIVRnkcOhQhoGnMRUVodRyAokZn4CKeEIAeeQdr4nMdoWqIZdFsVdgX79+3dBtk0fcTo7TPMVYqikc9sIwfPJ1XwCAB+9DIlNYkasVmH1WbGIWUyI6EFhMPoEpzNkGxPDVXwjoKFF7ZlTK/zhqzYBXrl87ZF2PNduL5wB4p+879OGrLxEASM5eHfDQ41qRspMWXEem8lber/t0edUeKbivFdvbk/ihVgVWRa0k7QRKbmnnEyQRe+pTdLQCwJgvdmJMn3cIuUonXvHOD9evHbLq+1DeSzEbvcVX/wyB3uKrt5jJoTBnGyJDCvhIWKSKxPILAFmxwYg8KR9iEGiuZ+OLAOCTr/pj2AvDUvxkBC5N08P1utZP0I1rT9/iifeKKhUzuaQpBwESJiypAB6TQxGT61iIxNV7QUn7exI/P2ZL/nHd2sGrQ3383Xef8Uua0GkCfXtUY+zAZPRZ2EdHThupBEJ2NOlLBjL9uklKz0OuEGDS2KqfqCv5CoivPiV6j4SLq2q6bHKrbAzcs7Cf3vNOHx3StEy/+KgTZnX9lM6Qo7HlNPv9DWuHLIva8qc8jZ9lVYbENT7FqtUsznE4GPZ4SMw5SpSXdLGpIZdIqcRX/7Xfrj/9y+uOG0um6eEZtT5jdtnYN9pj2vkv4ZmNgC/RecbJm6eK8yoASDbHRLmmobvX7rZio+NUaGKMyreMXndGHAXAv7CGdb3igW0vayR6DK5dte+XVqpykPJC6WCnBJzxXeGgrB9KAzJl5lUlSjsXkBpeyzzrixzM+iJg/50TN+HQbXn4ffbV1Cav2B+6ZOROALMfb/PagnA4956YlF+jkN/kmIZuTMpQ3egiaER4flxtIQAUnPgnDP9vZtlVOBn+35H6yiX/pvMmn7ntr+3nTs+iSG8m09zTuACgwILV+F5b8sjuMvfhP20uKAGAe/rOM6+ve5HPXnCpSD8KnCCv7bccqwjrx0jrDWrNrGH7RT/uZ+nzcSvg46CAnnaIAsCrlz7LWbln+0Mn0HoANz/RbdEYLS8eDdAfAUQo+cpcQB0KkYHZEZXS6TetHfL1q5dMpnMnO1UEUm0r99HkSwEAETR8uVyjb8bVo6RlFyTmIZRF3mN/2lxQ8s+jCrN+i340ZuEAezYuFQD4VWH7/ZdFBiU1oYZIT43H6pIy03Uyy6/UrSQOHOh7sc4vOh8AcO6LV8vQCSQ3QGlh3w+dm4t6l9ywduC9RHSKIReBVUdKILLqIyqxt/3IIS8DwNLJ1UeiqgX4QZBOzH+ar1rbw1fxn4tw7kqHXAAEC/EjnIOYhj4FgF9t6RfdevjMA3uiakiRqjxICq1qP3cQylRLlGEnaHV9LyG1HONPpL+BtO/7J9lkqSo0nWEgFKxfbchFFud+rGon3VzUK/5c/tP8YA1pQjXaKaOWXSdoU0o3rR+yuNwWTwaoFCAikFMme72wyW721/bzngaAM4/4hCd1XXbQD5ThxU0XUGWWtb6190cmx2jat6bv+Gk0qesyPNd1DQOEv7af93TEyWkV06hPgEksVF5WJsUv3bh+8AfbGylduey6GtnchyFKGHv4UsIXQJmvf1dgPsMoKSkpu2V+ibgUvu7J9nMv/fWSTlYdMrcNnHmQ1bdS1mJCYOm/U5R6aSSBajcL5kd5zOArsavKOcCBt9FpdNvAmSSGzFVLO9jx7Wdf5lLWdaV+sZCygZJwAFmhaPmzAPBk54X7XKxunyONsQsK5G/n/Jtv/2zwrpiUP+BweD2RowCUgjEvHDhPjzthXq9RS7vanFgDvuYn1GJNCDFzumhyWk368g3JB6r7lN5keZVnD6aS3TV9+JIcuB7c6kR3QpEba8DXftTVju8wt5dB6CmrPpC4N5MDh8KfxGz0gdHrzv5+cud/8/0LCvZZy390KHnDykvlqTMX0+h1g5eUScmTDC4PptiDrYpluHlhE57waLu3j7v73d52GHDAb73OjCzUPAypqjLZB1TOwRAlQ71QZBpV1UUBE/sPQoEVikYAjX23t338hJnHOQhPZLh5FjbICg3SAaOltuSvo9cP+nDxmYvp4pWX/mgTth++AsIvcjdg8uAPafTaQZPiGnvBwCWFCgHG05gwmY7Z3ODJx9vNPuZMkK7BmgMCuSbvVfXnVmh5fQyTNIj6IN2K3+fZP3pOdVcpPgboNpA+3nZ2q4jJG89wOngaEygMoGLgkqexyfE9PZ+ZcuZi+jJ3w3754PfLGXT+lEt1745I4F40Mgagt0OczRpkSXBMosTg/hHOve/xE2a27IiOug7r9htkqaQVFVZpuqVaXRNdL6TpywdX8Fcdn3TAECsU6wasoE4gfazNzJbZJu8+Iu4fl2jSPWlDnM0AzbHQO2/f1lB/2OrS8CmX7lch++3tG7W8szzc8SG+efWgnWVScpOCPg5ztlGoVSjFJRYCcG62c8iYcSfMbtke7Q9Ak9MCDIGDNeNYehOdLuT6gFkzVLdyE12zx23/7h1obvt5XXVcu9kts0MNx6jquXGJuQmHhg1xxCiwrlz23HjLuoE7pvaawtevyN9v6/KA3Lm3r/6DjMEYvm390A1luvdSUdkVgAxfofAkHlGVi8NOgzGPJDT5LYCG/RjINbTNWu3v9Nn29dJEa9XWpaYuJXnOj4v1Tigew7fUCaSPtpvTMswN7lLViz2NZyUCOn6II0ZV95RqycW3rj/j0z/jzzxi8UUHNHQ4YH/9buyWqZjKt64duDpmoxdYtWUuZTkK9QUKTwOQc0zDBx4/fs4xZ4J05Lngt67ZBxjJ4YdWNHNVhpjIBLn+iGsAs4Iqjqe/3bBmum3gTHJP+9DchsP0kbazW+Vw3kOqerGvXiSIrKnvUpZj1cZjGr3wtrWDV03FVN6DPQc8LjxggMdjPA5BuYzpv8Dc/En/Qk+94QIRlyIJkAFPvQiILgy7uU890m72cSNfJflm1cdmQpel1d6zQnjpzRxV87+yU6ReqKqDv8r/yuPfmjmb1HUZjtvdnMe+e7J95ITZbbI57ykFLvA0npVYL8x3KcsRWFjxR9y8rv/cP/dfYA5BuYzH+ANm/qAiboNxBUhg7xi0wNy8rt9bvnoXWvgJkOErBHGJugQeHKGcaY8eP7fnVUs62VAoZEa22L3fuCRBz4iro6JCFB8M8wdBlY279DeepVjbD3BHtigj4xgz6qN8+3j7+SdlmZzpRDQoLjEnAFetS2FHIPDFXvTZ+h9e/+OghYYFdjCuOCjeDzqkeveCAjg+7B8DkF8ReGepSlmYshxRtQpQXMpB4M6uE57zeNvCS369pLN9adshOu3CaQYADm10KIAKkVTXt2U6FjJZt/Wwyk5lqtpdJHijqt1LOk27cJp5aVu2Xrm0s32i3fzLjTqzCXxiTKJIGVQUMQobt+Kf++n66NRrhjTiQ6zauxcUHDS/Pylmfk9hAVwf9s5BC83otf3fjkl0mEB/CHOOgapVBcc0ZqFoEOKsF59ou/ApABg+fbid1G2Z22dSHwIAS9UIpYaOLx3k+miiKy8Qs+/utYrJpQTQpG7L3OHTh1sAeKLdggkuRf6loLy4xiwAVlUbpohRlT2exM8cvb7gtUaDssxsj+zt8w8eXKAWkiLuKSyA46kd03+hue2TAfNjdm9fAB+HgiGUkMKIWolJTCIm9/pxbd/96pGOhSdeU5TvAdCnjpya8OsFQyVJe0169RZrhZbUm6mlgBJrtXwlx8da4YRJ4vxc9+UOQHpNUb43ru37+ePavftNhPNGxSQmqlYoWBdFwpxtAKwtR3mfW9YHfW7Iw08GF6ilrJe7FxSg9/wv7FRM5Vs/GbR6r5RcIJCZDoUZxKogYhCX2hLP5fARxudVT7R7d+yDbd4O/earEZY1GTVITe1DTfAFwqR6RDgZIkzOm6qJr6SbksAwBABXfZTvP9jmDfeJdu/fJ/CLXAr/otSWeBxkkBII6nKYFTKnTHad/7t1A1ZNxVQ+Zf6Wn9Qsp1OtpTUNxhVYhH/IGMzm29cP/Dxuiy/zNP6UQajUUCix+hq5MSnzFUCEc+4Km5w1T7ZddLYlzVOQrTq23ZdjoZ5IKJGlW3mGf/V8KQAxEnvoxBnZT7Z9/7ywabguwpE7FYqYlvkEcgGoIVcNQuVxiU8q0+ilv1s/9NMx+DMvwiI5WIOqOqrVFb/HYzaA2fJwx3v41tVDvgdwwyNtCz/O5rybAG0naqEQQ4CW2hIb4vBxAL3qaKhQIM00mLBEQM1ujOT+ekvZSb1IIjVnpqZSk9EkTy36hqXhKGZzPsGg1Bb7BDZQNQQO3g5JoU+jdu/44xCeOGz9yXJjryl8zwE6MQ6E/Vql21ePkYndVvK0Th/S79b3m1Rqd1+pwOuG3VImlxLqYOISE0/icOD2V9WWQWgsUIeaoatfTdZE05y2wMo+zhUAGgLoDodC5/sSV8/GRIOVBIgpRMxOGYFmlOqeK2/9pOCZsmNZJ3VZxuPrAFygDjNPRxV1FrNqI57Ce/T7TwYuVr/s8riNjnUpawVAcMglAKQQjWtMKqZf1rTVTIriWlflVM51KshQ2fGSvi8Zu05cCiAuUZHAy0lOkHoMl8Kr4jZ2b7lGL//9ugEfLD7jfeLcDbjmAHzLB0p1+lKG83GpAoq/dV7FN1wkxfhDl0cfOb7wPWa+ykHWWQo9lACyyblN1QeDE1Th5KjcTIaPOYv/s/kEeQfLMBETfxLYCsV7KKTPWuxlbEsbaGtl9vZhBCYGcwyHCARDznZfvJlltnjS7z4p+AAA/nrqB9zzrZOkV2oOZN1QPbx1g3DDSsjYRvN5bJud+rtPmy6ZcvL6oq27vp3vUtYFShjkKOWpKnz4mpiRX0PLkvAoJGTrxvZGAeCOzQWpPNVfYxMd1aOcNPs7JE8U9dG2aX8Y97/AFAFdlI1ofBA+//49MBkoAU32RHHY8u+T5Su2IfE+A/IoYR1Xy0/acwLBWtxMDgWWtO4lorkxLX/Z7om+fPs3Q+LbT9hO4w9bQ79dcLL89qeIdT+pns1SxcT8Ih61rLsAwCPHzz3MmKyBLrnnWJWBBOQqNDH3iYB9dyFlIL1fVNYC8gVgv/rd+sE/7OP8/aZxxy7O9dzyw0FoQUpjQxQ+1dP4vipeMJOSXE5MIS1jmEJfY6/4iM35/fpBWwHgH91W8K+KOsv+BOpri36GcQfwRyj1uOTfOHfy5QoAj7YtbMlwTzZkzhS1pxOZRgyGr3EViCRSKrhicnjw6ZC71+HQDqju8DS206r9BsA2QLcLZAdAP0C1GAZ72fpRH47nWk9iHHbY+GFVzjaKPAY1VkIzAM0BOoxhjghxuBkTN4nZaEuFjVTT7v+f5s4ntK4ijOK/M3PfM7GmFAP+SQ2VBGKhiP9AQlWqpELt4i3swlaLa8GVqOlCCyIIWhB14cJFBaWSUqlIXESpSlNIiQr+qWhLJImtxCK0hFQ0yXv3znFx3wtJ6zrJWV+YuXOY+WbON3O+pv+GQqbrZBKJYi4ojuQpH05ujL94bmAa4FOG9B6BEZ5YhW3/SqwJwS0c2zOksTMXeOe3AwY4tPWrWwLhzkqo7jTUhLZGZRTOyVMjJSWH0qhIgAKhLKMK2AXNeLcQFP8VcV5iwfaicQOcJ6eSFMUgiBAqAVURbcmpPbm4vnDRboqg8lEX5dGupVVRVnlEiqqETBmFGyQ8ITScu/5lUjoz+OvARQA/ZF4Lp/Ty6I5VJ7aFNSUY4JXaLxSXZnT3bR+y59iRckbfcaLDIdya0XafpFpy/mhU1pmFKkVqkLtOwq2aP6JkXM2Z7mUxs5X+AdwUo67y0mv5nzW/W2bobZOaeQQhlFVClUiF3HUK57NR2QmTPsvT4ndJvjh4ducVgONPPacfpx/jXEfuj7/YvWpj+X9Yc4JbGH76A/K8j+lv+zXVNce7pzb5pa7jYWPHpo0hVjszh/sRu5zyRyy62+IGROmBkTsnObdNsaJEaHkXsaU1smyntKQgu2R+SUaWQVIMispUISrDhvn0D0Hhj2CNEvR5o6h/I7g0vzB75eDvj6dnH/5bvSdv4PZdh51tvona4dq1P7kGWDcEt7AXc0//TxwY79PQk+2aSVO8cLQ3PcP72tLXXc2kLFLdpqjtNg+A7zXuiYpU1EZQoOmVhV1QUFDaDJUZVy1F8UBQIBKRIuVyL5ITDS9QlEv+tND3htNWfjoRfk71hWI2zS6+PrXXh/ZNhu7Qw76P5v1G/4R/GL+Lo+tsSNdXb67Cn8+brjdL84+v96PRy2N6deTBa57uvb3tZGfu2CPTZ1KvYAt4M+hmoFOow/IGvHRTvg7Mg+bAs8BfsmcszmMmrTCR0OTg2U8uw1sr2jq4eyzuuHG7B45gIbf6uF7xH8x+qII6qfVbAAAAAElFTkSuQmCC",downloadUrl:"https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba"},[st.WalletNames.Nightly]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABHNCSVQICAgIfAhkiAAAHXlJREFUeJztnXl4HOWd5z9vVbVarfuWb8k2trFsY2xjbG5jsNcJIUCwB0MYpkOA5swmu8kkbHZmszub2c1mJjMJC0xnAvQD4QqBDRCHAAbMYYg5jAGf+LYsyZIlWbdV6q5694+3W63W2d3qUsuG7/O0j+6qet96v+/xe3/XKzgN4PWZbmAucCZwBlABTAbKgHwgD/D0u60baAt/GoBa4DCwH9gD7Az43Z1jUX8nIdJdgXjh9ZkCyAB0YBJwYfizFJgX/j7V2AV8CLwT/hwCbKAn4HfbDpSXcoxrgsOk5qJG4EXAamAhsChNVfos/NkIvAU0AW3jmexxSbDXZ+YAJSgivxb+lKW1UgPRCrwE/AH4AGgM+N1t6a3SQIwrgr0+sww4G7gENVrPSW+N4sZnwKvAG8DWgN9dm+b69GJcEOz1mROB5cDVwFdRo/dURCvwCvAc8G7A7z6S5vqkl2Cvz5wArAK+Ev77VCW2P9pQ6/QG4PWA330oXRVJG8Fen3ktsB41Feelqx4O4yTwGvAU8FTA77bGugJjTrDXZ14AXAdcA0wZ6/LThOPAiyiSXx3LgseMYK/PzAK+Hf4sHKtyxxl2A48DDwb87qaxKHBMCPb6zHOBHwGXcfpOx/HiJEra/nnA797kdGGOE+z1mTcD3wPmO13WKYZ9wIPA/QG/23SqEMcI9vrMQuC/Ad/iy1E7FEzgd8APA353nRMFOEKw12fOAf4VWOPE809DbAbuDvjd21L94JQT7PWZs4FHgPNT/ezTHDuAmwJ+99ZUPjSlBHt95sXACygT3ZdIHDawLuB3P5eqB6aMYK/PvAhFbkGqnvkFhQTWAn9IhZVKG319wOszrwRe5ktyUwEBPAt8y+szR83PqB8Q1kw9y0CPiS8xOvwGuGq0DxkVwV6fuRKlgnONtiJfYlA86/WZ143mAUmvweGt0EdA9kjXahqc7Abbhuws9fcXEZoGXSfVvz2ZIGXcty5KdguV1AgOb4UCxEGuENBtQn6e+pzsVi/6RYMQYJqqg5cUgdmjvosTT3l95pJkyk24qb0+MxelxFgez/VCwOFqybqrde681UVHu6T7C0ayEBAKQfMJG+83Da5fZ1BTJxMZwXOA+8OOEQkhmWb+7ygD/YgQAjo7oahQMH+exsIFgrXX6Bw8rF4ugR58ykIAQoNDRySrV+pccJ7G3DmCaVMEbW0JtcEy4Gden5mQvJMQwV6feStwa7zXCwHNLZLzlgrcbvXdNV83WH2pxu69NroTjq7jDIYBhw9L5ldp3PRNAyHA5RKcv1SjpU0m2snXAz9M5Ia4CQ6b/L4H5MR7j2VBMARLF2t4POpNcnPgu/cYFBYKjlRLDCOR6p5acLmg7piktUvwD39nUFSo2sDjgSWLNDQNgsHEHgnc5vWZcc2gECfB4Q3391HRA3FBTc+SCaWCM2ZqZPSZWAryBQ8/kEFzu6C2TuI6DUl2uaDhuGTrPnji310UF0WHqq7DpEmCGZWCtvaER/FU4Dtha92IiHcEf484190IhID2TjhrgSA3d+Dv5aWCZx5xUV0Px+pPL5JdLmhskmz7HF56zMWsmQMZzM2BcxZpvdumBHE58LfxXDgiwV6feT7w1yQwNYOanm1bsPwcjbzcwbtoZYXg2UAG2/ZDXf3pMV27DEXuHz6A3z/kYv68wZs4L0+wdImGbgh6EpumAQxgvddnjqjpimcErydBHyohoKtLUlgIU6cKXOHpedcemw+3xmo5Zp0hePnJDPbVQG2dxDiFBS/DgIZGyZYd8O4TLhYv1GK2gzt2SbbvjL5/Qb5gykTo6kx4mgaoBK4Mh/cMiWEJ9vrM9cC6hItGaWzmzhJkZ0XL338AfvCTgd117hzBy09loBuC6hqJpp16WyhNUwJVSzu8+mQGy5dqA/b6//iLINs+jW5+c3NhQZWgO3mHnRuBO4et11A/eH1mESrKYEKipUoJtoQzZghy+ui6NA02vSjZs3fgDn/aNMEDv3AxvUJQfVRiWacGyUKo962tkxQVCfz/mkFV1cCKNzfDE7+xkX0msOwswfQKDaGJZNW3buArXp85Y6gLhhvBVwN/lUyplgWaLpg0UfRujwCO1dvMPAsefCg06H1TJgv+/l4XKy7SaGqWnDyZ1NQ1ZoioH483wpKFGj/9exdzZg1e4fv/PcSUeXCiJdq53ZlQVqam9tDgTRIPrkAF5w2KQQkOB4FdhOohCSMUAncGFBeJXsFJSmhokMw7U/DMSza1dYPr6SZOENxxi4v139Dp6YGWVsad1isyatvaJR0dkivXaHznLoOpUwavZEsb/NuTFufMF9Qds2kNxyAKIC9XkJcDPcFRdebLvT5z+mA/DDWCL0BFHiQMIVRliwvUhj6CxibJ8UZJTrZg7lS4799ChIYI5CgshGuu1vneXQYzK6GxWRkphEg/0UIoQ0HzCZhULrjbZ3D9dQZlpUNXLPBoiOllkJsraGqG443Rzp2ZKSgvTVjh0R9XoCIyB2AAwV6fWRq+IWm/qlAISksEmZnRlz7RImlrUy9WMU3w6iabd94deuHJzhJceIHOHbe6WLNScLJLcqJFEgqlx1ChacrM2domaWuXXLhccKfPxarLdPKHcQr+dIfNk89azKwUSKCjQ9LaGiXY44HyMoFloZx1kqwesNbrMyv6/zDYzvNslE9QUpBSNURpCWRmRr/v6FCStQhvgyqmwCOPhag60zVs758xXXDDdQaLF9m8sMHmo08kBflqJog0+kgYatTHY83RhGr39nZJSxvMna1x1RUa86o0ysuGn05aWiW/fihEeYlSfpg96tPeEb3G4xGUlQhAqPokP0OtAZag8oxE69/3P16fmY3Ke5H06FWNJigujB3BnV1RG6htqz3gsQbJM89ZmD3DP7OoSHD+cp3bbzG4+1adYEhQe0zSGp4R+o7ovtO4ZSkhqLNL0t6hZpC2NvXvzk6JaarZJrLG971XC/+7vUNJyF3dgptv1LnndoOVK/QRyZXAhj9b7NkrKSlRI1QAlq10BBFkuqGoCNDASn4Eg8pRcll/FWb/EVwGfH00pdjhXpifrwStCExTYstoB5USykoFr22ymHWGYNVKfcT1tbJCMGmizhkzBVu32fz5NZsjNZKifEF2tiKzq0vSEwSJQNfVyHG7BZmZSsuEgFBQGUG6TAj2EG58pS71ZAk8mdDepZaV/DzBtV/XWH6uzswZGllZ8bXDlvdtXthgUdp3dgp37p4+HdrtVp1dF2BboI9u+bkK+L/AicgX/QmuQk3RSUPaqvfn5ogYA0OwJ3Y6lVI1uOGCRx+3KC0WLDp75LfLyIB5VRrTpmmce47N5r/YvLzR5uARSUmxYHqlRsVUweRJgvIyKCwQeLLUKNdEtGzbhpMn1TRafxxqayWHj0qqj0oOHZUU5guuvkLn0os1Jk0SFOTHP3fu3iN5+FElRGZnR5cCES47GIwdqpketdtIgSvTZGC512d+HolF7iXY6zPzgG+MtgTbVtYSj0cZuiOw5MA1T0rIyRa0tMJvnwqRnWMw+4z4unBuDsyZrTFposaF59kcqZZMnCgoKRa9ozbDRa+adCiEQmpEmT0yvC2TVFdLpkwWTJwgyE+AWFCG/cefDlHfCEUFYtB13u73naFDhoveaXx0MzXXo/zTmyB2BOeRpGKjL6RU04xh9GuYIWotpfLV2n9Q8ptHLHzfFsycEX+j5uZCbq5GZYUiM9FtlGGoT1ZYpVpeJpheAa6MxOWd6qOSxx4P8ckOSdEQHuKy948oNE2RHAqRCoZXobSPTRAWssIK6/NJ0GI0GKRUI7j/Vma4hhcCCgoEuz6XPPRoiMPVib9hRkbq9sgZSZBbd0zy26dC/OUjSUHe0Fs5wcB6ahroxqhHbl+s8fpMA6JStBu1900JhMaAFjKMoV9aSvVbcRF88pnN//p5iEOHU/i6DuNojeRf7gvx5mabkmL1rsNtwXQ9tnGECLdN6l75UsK+6pEm13E4rUJGhhhW8R0hubxMcPiozX/9HyE+3zf+Sa6tk/z0/4T4+DObieUCXRua3Mh2zJUx8LcUK+jOJZzaMdLmxaSQYMse+JJZHrVGDtezZVgQmzxR0NZms3JdDxtft0arxnMEtg0ffGRz+bU9HDpiM22K6NVRDwdDJ8YAA0roClmkkuVSYAFECR5Uj5kMRHg/11/kz8pSe754tEeWBeXlgvPmwV33Bnn86VCM9ifd6OqCFzZY3HR3kDnTlBXMHqRT90dEPsnqF8Vl21EJOoW4HKJS9IpUPVXTwt6U/UZdfp4gJ1twojW+54RCSgGwpAp+5bfYvkty920GlRXptTbUHZM8FAjxuxdtFs5WBoR4TX1SKnL7667tsPdpitfhiyE6guOKUogHEVXkyS5ltI+goEBQUBB/Y4CatjwewaIFgoefsnjk8THPIzYAL/7J5u/+t8WS+YKcnMTex7aVL1Z/pUkopAaEpqVUkl7m9ZlCCyfTrkrVUzVNrSlt7TLGmSwvF0qKGVHv3B9SquiIZQsFa69Kf7zLqpUa676u0daeUOgJAD1BZSMvLo4SLKXSlYeslFvJcoEpGiruJWXQwlJkSyv09PM1KikRmD3xN0ykGT4/KLnuGzrzqtJPcGWF4MbrNPYdTtytqLtb6d89faxspgmtrRLbdsQMerZGCkcvRCwykqZmSbcZy+SEcpGQICE0qG+AS5YL1lyu9+qS0wkh4OILddZ+TedobfxDWEoIhuQAK9TJbmhqBqQjBM/VUGccpBSagMYm1WP7orRE4IlTktY0ZUO2gb++waC8fBywG0Z+nmDdtQalxYLWVhm3BcjQYcKE2Pfo7laeLkI44n82W0P516YULgOON0m6u2OZnDxJrT8j7Ws1TRkADh6V3HGzzvwqLe2uOn0hhPIYve1bOvWNyio10uizbMjPFUzo11FPnoSG4455qUzTSHHGVynBlSFoaVP7xb4oLRFMmyZoaR26twqhpOf9hyU3X69x8QUaGYNoftINw4BlS3Xu+rbOviOyVwoeDEJAVydMniyomBr74qYpaWiUMabVFKJIw4Ek3IauRmDzCUmw3zZi7hyNltbBhZOIJqi6RvK11Rpf+6pBQcE4Grr9kJUFqy7XuWmdxoHDEis09Hs1NklmzxIx4TlSKh+v9k4VUpqoVB4HcjUgrii1RKDrYFmSY/WS7n7BVecs1sjKEjF7ZIg2zNFaycIqjWuvMpgyefySG0FJseDKKwxWXaJx8MjQge3BECxaGDvETROOH4dQyLG4rGyNFJgI+0MIJWjtP6h8n/qicprgrHmC+oboNB35u/YYnDlLcItXZ/bs8U9uBNOmCm68weDC5RqHqmNJFgJOtMKsmWIAwZ1dkkPVdq+hxQFkajiU38qTCXsPSE52D5x3VlyiceAIvTFIQkD1UZg6CXw3G8yr0sbHaSEJYOZ0wc1/Y7BkgWDfQdn7XroO+w5ILjxfGyBtd3bCnr04tf4CZAxiuR09pFQqxuONUN8gBxgeLj5fw9bDgomAPfskldPgP90zdLjlqYCZ0wXfucvFssUa23aojh0KQXuP5KurB4ZNdnZKjtRIsjyOrL+AMjY48mjDANuSbPnAZs5sjcI+wlJBvuDq1QbvbbGQEi67WOPuO4aPDjhVMG2q4Cc/djHhN0F+/4JNZib8hwt1Jk+KfbeOTtj6iU1Xl6Sk0DmCHRnBEWR5YMduONk18Lcb/kpj80bJ9Ws1/ssPh3d+P9WQkwPf/66LO2/ReXOLzZVfGTgrdXVKPt0uyUyhq9EgEAbqDIGUC1pSKsvJwSOS2mM2EyboMYLEogUaG9/I4LIVp+6UPBJuusFg8iSN5ecOfMeWVsn23ZL83KRDR+NBjwY4doSqywVWSPXUk/3UlghOa3IjuGyFRnY/Z/nubti+06azU8aE9ziAbo0+XvCphpSQlwNbP5G0t49//6qxQmeXZOs2SbbH8VNROjWg0amnSwn5+YLPdtocOWIPUG58ESElNDXB+9tUWEx/J/gUo11DnXztKFyGihX6EuF9vyZx6WMS69yioU61dgRCqPWmsEAwdYr4QqQujAdFBYKJ5dDlfIqKag11QJNjMHskxUXRXJVfAjQdykpETJShQ/hcQ51T7xiCQSgs+GKlDx4JuqZ8s/pb2hzAbscJtmzlcPclwVFoGmTnDIwydACfaAG/uwvY61QJlqUi98aDP9V4gRDRADcHOe4GDkbG1RbHipFha8mXBEchRDT5qnMMfxDwu+1IMW+h0uKlHhGT4Cgfs++AZOceyYlmO7y/1phzhqBqrrM9Z+9+ya7dkhMnbCRQUKAxZ5Zg7pzkyx0shNQBvA3R0JU3HCtGMqpe+tl2m6efs9jyoU17h0paAmCaFu5MWLpI48b1OgsXpHaR373H5olnLN7dYtPRGVuuJwsWn6Wx7hqdZUuTLFc6zvBGiBJchxK24k74HTekcldJ1hy2Y5dN4GmLFcs1KqZGg9oi2dK3brN54RWb/3mvwdprRk7kEg9e3mjx45+G8LhgRqVKCdG3XNOEZ/5oMe9MkRTBUkqCIUclrFbgA4jGJlnAJ06UpOkqP1ayEuPKFQZ/s1anpTXayFKG82FqML1SsKgKfuUP8fqm0etCN79n88sHQ1ROgjmzRG8wXSS01baVLfeqVYJLVySnuZFSOSVKHJuq30e5lPcS3AP82YmSDD0ampEMykrh+ut0JpYrZ/pIuEjfXFjZ2YKSIsFLr1gcOJi87a22TvL6JgtNCPLyoma8SHm2Da2tarr+5noXldOSY8eWqpM4uLN4C8WpIjh8yuUmIOWh1i4DTrSMLkXQ/CqNO28zqJgCNccknV0q5MM01afbVI3+8XbJvn3Jd6b9+23eed8mO1uNsO5wGd3dKpFbXb2kMB/uvt1Ifu1FdcqmZkePMdgQ8LtDEJtlpxX4PSoNT8rgzoTjzXLUarlFCzW+e4+LTz612fyexfFGpUSJOMoHgyoX1wdbbRYs0Jg4IbHhcaIFdu626exUniiCaK4NTUBpMay9ymBelaDqzNEJdLYF9cdxyqH/XeBo5D+OEiwluDMEdfWSY/U25WX6qDRaM6cLZk7XOXuhRmOjctpTBEtaW5TAdeCwSnGYOMGSXZ/DRcsEy87VKSwEl6F8pQxDHe4164zUzKntHSr1f26WI75YjwMtkf/0Ehzwu6XXZ34K7AbOTFVpuq5G1779kqq5sekNk8WMSnUkTX8sOlvjSLWMcfCLF3m5sO4a5RxXMU04tk8NheDgIZuODklx6qM2GoF3An5371LbfxWoB54nhQRH1HI7d0uuWAM4GGc0ZbJIOhqipFhQcp7z2odgSLUF4XwdKfbHegGo6ftFzIQZ8LvbURqQ5E7zGQL5eYLtu1V29C86QkHJtu3Km8OB6fkVwhnuIhhsRfwYNYpTApWPEmpqJTt3Jy/hng6QEg4ekuzZZ5Ofl7zyZwhsAj4K+GMN7wMIDvjdtSiC+/tBJg1NA7cL3nvf/kITbFnw7hYbK4QTwWZPAfv7fzlUMW+jSB7V8eIRSKky2L3xts0dt0JBn3TjDcclbW0qOYumKafxslKREmFsLBEMqXdpb1dEZmSojLhlpaJ35yAEbHzTprw05dPza8CbAb97wFMHJTjgd9d4feYmUkhwdrZSUjz/Yohl5+ps3WZTU2NTV6/OMYgEUHs8qlGmVwjmnqmxcIE2YkrgdMGyIqeZWRw8KKlvUEoY21YjNDtb5ayePFnjnEUa+/bb1DdIZs1IOcEvB/zu3YP9MKTY6PWZk4BfAdemsiaRs5Aam8CTBVkeld9RCKWbtW0V9d4ZVuWds1jjjttcTEr4eC5n0doG9/uDvPsXGzOojm73ZAo0PZr427Kg21SkFxcoA5LHo5wfUkjwJuDugN+9Y7Afh90XeH3mt4B/YRRnOPSHZaus8HocbqO2hCPVEhv4+T9kcO6S8eE1sHev5D/eG6StTTKjQoyYXTZCthBKN5/CwSuB7wf87l8MdcGweqWA3/0I8GTq6hNJFh6fFUUTKnC6MB+WrTB59fX0e85/vM1m9lITISVVc5Qr8EijUQj1znpqyQX4LfDAcBfEozj8A/B5SqqTBIJBKC0WrLtGsPorwQGnl44l9h+ULF4T5Oo16kyINGfBrQdeCfjdw+524przvD7zJ8CPSPKou1TAMNSJYRs+hRPvu8lJeTzk8AgG4exLe6gsl+OBXIAHAn73XSNdFK/q/5+AV0dXn9EhFFLS9aIy+OWDzjsU98ejj4eQps2U8UHum8DP4rkwLoIDfncHStg6lHydRo9gEKrmCF74k8X2nWOn9qyplTz2O4tFZ2lj4aw+EhqBBwN+95F4Lo7beBfwu18HHiTsKZAuGIZSfb64YewErj++ZBEMSrI8KVcvJgoLeCzgdz8d7w2JWmf/CWVvTBssSyU13bHLpiaBZKDJorUNtn5sM3liYrmhHcILwE8SuSEhgsOuPT9CeQ2kDRkuZTDfsSt+goMh5SbT2JSYd8mu3TbVNTLmqPo0YRfwtwG/uy2RmxJWeQf87gavz7wbeIIU2o0ThSdTsGOnzaqVwycqtW3lW33goE1NnbJmTZwgmFGpMX+eNmLU445ddvoPLYZjgC/gdyccCZp0zb0+82yUaTEtCAbB0ODeH7iYM0RWvFAINr1l8diTFo3N4HLJ8AHWgtwsuH6dxupVRkyC7r6oOyb56c+CNJ3A6VwaI+HSgN+9KZkbk/aQCvjd24D1hP1vxxqGAU0tks3vDS1sffqZzcOPhmjrkBQXqUD0gnxBSRH0hCSBJyy2fjz0/ZvfszhULdMd2/ydZMmFURAMEJbmUmqMiBdCQF6u4I23bLZ+PLCPSaky2bR2CPLzYrO8apryMrEswbZPBskABOzZK9n4uk1ujkhn6OsdjKCKHAmpqPrzwC0peE7CyMhQ/srP/zHE0ZpYgavbVAeDRFxTB9veuN0q5XF7e+z3TU2SFzeEqKtX/tZp2hr9GHg4ckxsshg1wWEj8yPAutE+K1EIIC8PPtwGv34oxJE+h1p6MlUujM6uwdmRqHRG5WVCncAdRn2D5JFHQ2zcJCkojD0idwxxF/DPAb971DqHlFQ/4HfbAb/798BaHIiOGAoSNd2WlsCWj2x+cV+IPXujhM6fr+HJkBxrUGa6vhlgW06A2a2uMcIhRtVHJfc9EOJPr9mUlzHsOYQO4k7g1wG/2xzxyjiQcvnf6zMXMcZbKCEAAQ0NkpoGuHGtzvq1ysf54CHJLx8I8dE2m/x8ZYJsaYPZMwX33G6wcIFGY5PkmecsHnnSojBPnZ0IY05uLeAN+N0p1fk7ssHz+szFwP2k8ES1eKDrKmapukaiG4LLL9G49iod25J8/JlSckgJRYWwcL5Obg48v8HipddsujokUycrN5s0JGzbAdwe8LvfSfWDHdvBe33mZJTFYx2OurvHIjINd3VJjh2H9k5YslBQNVuoZGwSNF2y/4DkLx9JPBlQXgY5OaI3RHQMYQEvAj9IRokRDxxV0Xh9ZhbwXZSUPd3JsvpDoAQk21bxyZ0dMhpUL9WBGtlZ4fN+SctaW4dayv4x4Hc3O1XImOjgvD5zNfCfUcfYjrnaQPT+EYs0bX9slFvyfQG/+1mnCxszJavXZ04A7kG54s4cq3LHGY6iLEL/HPC7D4xFgWOuRff6zCtQIapXAnkjXH664CTwR+AZ4Jn+4SVOIi1mkvDafD1qNK8kfN78aYp3UJ6pTwT87paRLk410moH8/rM2SiCrwQuxaEjftIAC+U3tQHYGPC7P01XRdJu6ATw+syZwIWoEb2CU5foEEqAehJ4e6hwkrHEuCAYwOszBVABLAFWAasZ463VKFCL8jr9M/AhcCDs/ZJ2jBuCIwgTXQhMAC4ArgHWMA7ripqG/x8qbVE10DxeiI1gPDZaL7w+00BJ2pWotfpi4BxgYpqqdBz4CNiMCtn8HGhPhdXHKYxrgvsiTLYLZQE7F7VmXwQsBoodKrYN5Zb0dvizGaX46onkoRrvOGUIHgpen6mh1u55QBUwC5gKFKGiIj3hT//NZw9qf3oSRWQzShGxH+XBuB3YP1qDe7rx/wE6BbqXqL0k3AAAAABJRU5ErkJggg==",downloadUrl:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa/related?hl=en&authuser=0"},[st.WalletNames.AptosGoole]:{icon:"",downloadUrl:""},[st.WalletNames.AptosApple]:{icon:"",downloadUrl:""}}}(wallets)),wallets}var hasRequiredInject;function requireInject(){return hasRequiredInject||(hasRequiredInject=1,function(st){var t=inject&&inject.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=inject&&inject.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireInjectUtils(),st),et(requireProvider$1(),st),et(requireTypes$1(),st),et(requireThirdpartprovider(),st),et(requireWallets(),st)}(inject)),inject}var connector={},appwalletConnector={},wsConnector={},hasRequiredWsConnector;function requireWsConnector(){if(hasRequiredWsConnector)return wsConnector;hasRequiredWsConnector=1;var st=wsConnector&&wsConnector.__awaiter||function(ws,vs,_s,Es){function Ts(Ss){return Ss instanceof _s?Ss:new _s(function(Rs){Rs(Ss)})}return new(_s||(_s=Promise))(function(Ss,Rs){function Bs(Hs){try{Ws(Es.next(Hs))}catch(Ns){Rs(Ns)}}function Is(Hs){try{Ws(Es.throw(Hs))}catch(Ns){Rs(Ns)}}function Ws(Hs){Hs.done?Ss(Hs.value):Ts(Hs.value).then(Bs,Is)}Ws((Es=Es.apply(ws,vs||[])).next())})};Object.defineProperty(wsConnector,"__esModule",{value:!0}),wsConnector.WsConnector=void 0;const t=requireSafejson(),et=requireLog();class ms{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.icon="",this.pendingRequests=new Map,(0,et.getDefaultReporter)().beginReport()}setAccountChangeListener(vs){this.accountChangeListener=vs}setConnectionManager(vs){this.connectionManager=vs}addConnectionListener(){var vs;(vs=this.connectionManager)===null||vs===void 0||vs.addListener("sdk_response",(_s,Es)=>{var Ts=(0,t.safeJsonParse)(Es);(0,et.logDebug)(`Engine ==>> addListener ==> success ==> ${Ts}`),this.handleResponse(_s,Ts)},function(){})}addDisconnectListener(vs){this.disconnectListener.push(vs)}connectManagerDisconnect(){return st(this,arguments,void 0,function*(vs=!1){var _s;yield(_s=this.connectionManager)===null||_s===void 0?void 0:_s.disconnect(vs)})}openWallet(vs,_s){}bindRequestForPromise(vs,_s){this.pendingRequests.set(vs,_s)}send(vs,_s,Es){return st(this,void 0,void 0,function*(){var Ts,Ss;try{delete vs.injectParams}catch{}(0,et.logDebug)("Engine ==>> send  request==>",JSON.stringify(vs));const Rs=this.getRequestId();try{let Bs=yield(Ts=this.connectionManager)===null||Ts===void 0?void 0:Ts.send(JSON.stringify(Object.assign(Object.assign({},vs),{requestId:Rs})),Es);Bs&&((Ss=this.connectionManager)===null||Ss===void 0||Ss.events.once(Bs.toString(),Is=>{var Ws;(0,et.logDebug)(`Engine ==> send => onAck => ${(0,t.safeJsonStringify)(Is)}`),Is&&Is.result&&((Ws=_s.onAck)===null||Ws===void 0||Ws.call(_s))})),_s.resolve&&this.bindRequestForPromise(Rs,_s.resolve)}catch(Bs){return Promise.reject(Bs)}})}restoreconnect(vs,_s){return st(this,void 0,void 0,function*(){var Es;yield(Es=this.connectionManager)===null||Es===void 0?void 0:Es.restoreConnect(vs.topic),_s(vs)})}restoreconnectFromTopic(vs){return st(this,void 0,void 0,function*(){var _s;yield(_s=this.connectionManager)===null||_s===void 0?void 0:_s.restoreConnect(vs)})}getRequestId(){const vs=Date.now().toString();return(0,et.logDebug)("Engine ==>> getRequestId ==>",vs),vs}handleResponse(vs,_s){if((0,et.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,t.safeJsonStringify)(_s)}`,vs),"requestId"in _s){(0,et.logDebug)("Engine ==>> handleResponse_2  ===> in response");let Es=_s.requestId;const Ts=this.pendingRequests.get(Es);Ts?((0,et.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",Ts),Ts(_s),this.pendingRequests.delete(Es)):((0,et.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),_s.method==="disconnect"&&(this.disconnectListener.forEach(Ss=>Ss()),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var vs;return!!(!((vs=this.connectionManager)===null||vs===void 0)&&vs.getCurrentConnectionReady())}saveSessionContent(vs,_s){var Es;(Es=this.connectionManager)===null||Es===void 0||Es.saveSessionContent(vs,_s)}getSessionContent(vs){var _s;return(_s=this.connectionManager)===null||_s===void 0?void 0:_s.getSessionContent(vs)}setOnConnectResultListener(vs){this.connectResultListener=vs}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}return wsConnector.WsConnector=ms,wsConnector}var hasRequiredAppwalletConnector;function requireAppwalletConnector(){if(hasRequiredAppwalletConnector)return appwalletConnector;hasRequiredAppwalletConnector=1,Object.defineProperty(appwalletConnector,"__esModule",{value:!0}),appwalletConnector.AppwalletConnector=void 0;const st=requireWsConnector(),t=requireIconnector(),et=requireUtils$4(),ms=requireConstants$2(),ws=requireProtocol();class vs extends st.WsConnector{getType(){return t.CONNECTOR_TYPE.WS.OKX_APP_WALLET}constructor(){super(),this.walletName="OKX App",this.walletNameKey=""}getTag(){return t.OKX_APP_WALLET}openWallet(Es,Ts){var Ss;let Rs=Ts??ws.OpenAppLinkType.UniversalLink;if(Es&&Es.connectRequest){(0,et.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(Es)}`);let Bs=Es.connectRequest;(0,et.useShortLink)()||(Bs=Object.assign(Object.assign({},Es.connectRequest),{redirect:(Ss=Es.redirect)!==null&&Ss!==void 0?Ss:"none"}));let{universalLink:Is,deepLink:Ws}=(0,et.getOKXLink)(Bs);(0,et.openOKXDeeplinkWithFallback)(Ws,Is,Rs)}else(0,et.isOS)("android")?(0,et.openDeeplinkWithFallback)(ms.stackDeepLink,()=>{}):(0,et.openOKXDeeplinkWithFallback)(ms.standardDeeplink,ms.shortUniversalLink,Rs)}}return appwalletConnector.AppwalletConnector=vs,appwalletConnector}var InjectConnector={},hasRequiredInjectConnector;function requireInjectConnector(){if(hasRequiredInjectConnector)return InjectConnector;hasRequiredInjectConnector=1;var st=InjectConnector&&InjectConnector.__awaiter||function(vs,_s,Es,Ts){function Ss(Rs){return Rs instanceof Es?Rs:new Es(function(Bs){Bs(Rs)})}return new(Es||(Es=Promise))(function(Rs,Bs){function Is(Ns){try{Hs(Ts.next(Ns))}catch(Js){Bs(Js)}}function Ws(Ns){try{Hs(Ts.throw(Ns))}catch(Js){Bs(Js)}}function Hs(Ns){Ns.done?Rs(Ns.value):Ss(Ns.value).then(Is,Ws)}Hs((Ts=Ts.apply(vs,_s||[])).next())})};Object.defineProperty(InjectConnector,"__esModule",{value:!0}),InjectConnector.InjectConnector=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireIconnector();let ws=class{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.disconnectHandler=null,this.walletName="",this.icon="",this.walletNameKey="",this.enable=!0}setAccountChangeListener(_s){(0,et.logDebug)("setAccountChangeListener: inject",_s),this.accountChangeListener=_s}setConnectionManager(_s){this.connectionManager=_s}getInjectProvider(_s){if(_s){for(const[Es,Ts]of this.providerMap.entries())if(_s.includes(Es))return Ts}}send(_s,Es){return st(this,void 0,void 0,function*(){var Ts;try{(0,et.logDebug)("InjectEngine send  > request:",(0,et.safeJsonStringify)(_s));let Ss=_s;if(Ss.method==="disconnect"){yield this.disconnect(),this.disconnectListener.forEach(Bs=>Bs()),this.disconnectListener=[],(Ts=Es.onAck)===null||Ts===void 0||Ts.call(Es);return}yield this.checkWalletMatch();const Rs=this.getInjectProvider((0,et.getNamespaceKeyByChain)(Ss.chainId));if(Rs){Rs.send(Ss).then(Bs=>{var Is;(0,et.logDebug)("InjectEngine ==>> send > result:",Bs),(Is=Es.resolve)===null||Is===void 0||Is.call(Es,Bs)}).catch(Bs=>{var Is;let Ws=Bs.code;Ws===4001&&(Ws=t.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let Hs={requestId:Date.now().toString(),method:_s.method,error:{code:Ws,message:Bs.message}};(0,et.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(Hs)),(Is=Es.resolve)===null||Is===void 0||Is.call(Es,Hs)});return}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(Ss){return(0,et.logDebug)("InjectEngine ==>> send  ===> error:",Ss),Promise.reject(Ss)}})}checkWalletMatch(){return st(this,void 0,void 0,function*(){return new Promise((_s,Es)=>{var Ts;let Ss=(Ts=this.connectionManager)===null||Ts===void 0?void 0:Ts.getSessionContent("connectSession");Ss||Es(new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(Ss,Rs=>{Rs?_s():Es(new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))})})})}clearData(){this.connectResultListener=void 0}addDisconnectListener(_s){this.disconnectListener.push(_s)}setOnConnectResultListener(_s){this.connectResultListener=_s}connectManagerDisconnect(){return st(this,arguments,void 0,function*(_s=!1){})}getCurrentConnectionReady(_s){return!!_s}getTag(){return ms.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getSupportNameSpaces(){return Array.from(this.providerMap.keys())}};return InjectConnector.InjectConnector=ws,InjectConnector}var tgwalletConnector={},hasRequiredTgwalletConnector;function requireTgwalletConnector(){if(hasRequiredTgwalletConnector)return tgwalletConnector;hasRequiredTgwalletConnector=1,Object.defineProperty(tgwalletConnector,"__esModule",{value:!0}),tgwalletConnector.TgwalletConnector=void 0;const st=requireWsConnector(),t=requireIconnector(),et=requireUtils$4();class ms extends st.WsConnector{getType(){return t.CONNECTOR_TYPE.WS.OKX_TG_WALLET}constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey=""}getTag(){return t.OKX_TG_WALLET}openWallet(vs,_s){var Es,Ts;vs&&vs.connectRequest&&(Ts=(0,et.encodeTWAConnectURLParams)(Object.assign(Object.assign({},vs.connectRequest),{redirect:"none"})));var Ss=(0,et.getTelegramWalletTWAUrl)(Ts,(Es=vs?.tmaReturnUrl)!==null&&Es!==void 0?Es:"back");(0,et.openOKXTMAWalletlinkWithFallback)(Ss)}}return tgwalletConnector.TgwalletConnector=ms,tgwalletConnector}var okxwalletInjectConnector={},SolProvider={},src,hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src;hasRequiredSrc$2=1;function st(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var et=new Uint8Array(256),ms=0;ms<et.length;ms++)et[ms]=255;for(var ws=0;ws<t.length;ws++){var vs=t.charAt(ws),_s=vs.charCodeAt(0);if(et[_s]!==255)throw new TypeError(vs+" is ambiguous");et[_s]=ws}var Es=t.length,Ts=t.charAt(0),Ss=Math.log(Es)/Math.log(256),Rs=Math.log(256)/Math.log(Es);function Bs(Hs){if(Hs instanceof Uint8Array||(ArrayBuffer.isView(Hs)?Hs=new Uint8Array(Hs.buffer,Hs.byteOffset,Hs.byteLength):Array.isArray(Hs)&&(Hs=Uint8Array.from(Hs))),!(Hs instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Hs.length===0)return"";for(var Ns=0,Js=0,ha=0,pa=Hs.length;ha!==pa&&Hs[ha]===0;)ha++,Ns++;for(var za=(pa-ha)*Rs+1>>>0,Ya=new Uint8Array(za);ha!==pa;){for(var Bc=Hs[ha],Qa=0,tu=za-1;(Bc!==0||Qa<Js)&&tu!==-1;tu--,Qa++)Bc+=256*Ya[tu]>>>0,Ya[tu]=Bc%Es>>>0,Bc=Bc/Es>>>0;if(Bc!==0)throw new Error("Non-zero carry");Js=Qa,ha++}for(var eu=za-Js;eu!==za&&Ya[eu]===0;)eu++;for(var ru=Ts.repeat(Ns);eu<za;++eu)ru+=t.charAt(Ya[eu]);return ru}function Is(Hs){if(typeof Hs!="string")throw new TypeError("Expected String");if(Hs.length===0)return new Uint8Array;for(var Ns=0,Js=0,ha=0;Hs[Ns]===Ts;)Js++,Ns++;for(var pa=(Hs.length-Ns)*Ss+1>>>0,za=new Uint8Array(pa);Hs[Ns];){var Ya=Hs.charCodeAt(Ns);if(Ya>255)return;var Bc=et[Ya];if(Bc===255)return;for(var Qa=0,tu=pa-1;(Bc!==0||Qa<ha)&&tu!==-1;tu--,Qa++)Bc+=Es*za[tu]>>>0,za[tu]=Bc%256>>>0,Bc=Bc/256>>>0;if(Bc!==0)throw new Error("Non-zero carry");ha=Qa,Ns++}for(var eu=pa-ha;eu!==pa&&za[eu]===0;)eu++;for(var ru=new Uint8Array(Js+(pa-eu)),cu=Js;eu!==pa;)ru[cu++]=za[eu++];return ru}function Ws(Hs){var Ns=Is(Hs);if(Ns)return Ns;throw new Error("Non-base"+Es+" character")}return{encode:Bs,decodeUnsafe:Is,decode:Ws}}return src=st,src}var bs58,hasRequiredBs58;function requireBs58(){return hasRequiredBs58||(hasRequiredBs58=1,bs58=requireSrc$2()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),bs58}var hasRequiredSolProvider;function requireSolProvider(){if(hasRequiredSolProvider)return SolProvider;hasRequiredSolProvider=1;var st=SolProvider&&SolProvider.__awaiter||function(Ts,Ss,Rs,Bs){function Is(Ws){return Ws instanceof Rs?Ws:new Rs(function(Hs){Hs(Ws)})}return new(Rs||(Rs=Promise))(function(Ws,Hs){function Ns(pa){try{ha(Bs.next(pa))}catch(za){Hs(za)}}function Js(pa){try{ha(Bs.throw(pa))}catch(za){Hs(za)}}function ha(pa){pa.done?Ws(pa.value):Is(pa.value).then(Ns,Js)}ha((Bs=Bs.apply(Ts,Ss||[])).next())})},t=SolProvider&&SolProvider.__importDefault||function(Ts){return Ts&&Ts.__esModule?Ts:{default:Ts}};Object.defineProperty(SolProvider,"__esModule",{value:!0}),SolProvider.SolProvider=void 0;const et=requireProtocol(),ms=requireUtils$4(),ws=t(requireBs58()),vs=requireMedia(),_s=requireInjectUtils();let Es=class{constructor(){this.accountChangedSolanaPublicKeyHandler=null}send(Ss){return st(this,void 0,void 0,function*(){var Rs;try{yield this.restoreConnect(),(0,ms.logDebug)("SolProvider send request:",JSON.stringify(Ss));const Ws=Ss.method;let Hs;if(Ss.injectParams)switch(Ws){case"solana_signMessage":if(Ss.injectParams&&typeof Ss.injectParams=="object"&&"message"in Ss.injectParams){var Bs=(Rs=Ss.injectParams)===null||Rs===void 0?void 0:Rs.message;const Ns=new TextEncoder().encode(Bs),Js=yield window.okxwallet.solana.signMessage(Ns,"utf8");return Hs={method:Ss.method,result:ws.default.encode(Js.signature)},(0,ms.logDebug)("SolProvider send result:",JSON.stringify(Js)),Hs}else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${Ws}'`);break;case"solana_signTransaction":{let Ns=yield window.okxwallet.solana.signTransaction(Ss.injectParams);return(0,ms.logDebug)("SolProvider send bufferResult:",JSON.stringify(Ns)),Hs={method:Ss.method,injectResult:Ns},(0,ms.logDebug)("SolProvider send result:",(0,ms.safeJsonStringify)(Hs)),Hs}break;case"solana_signAllTransactions":{let Ns=yield window.okxwallet.solana.signAllTransactions(Ss.injectParams);return(0,ms.logDebug)("SolProvider send result:",(0,ms.safeJsonStringify)(Ns)),Hs={method:Ss.method,injectResult:Ns},Hs}break;case"solana_signAndSendTransaction":{var Is=yield window.okxwallet.solana.signAndSendTransaction(Ss.injectParams);return(0,ms.logDebug)("SolProvider send result:",(0,ms.safeJsonStringify)(Is)),Hs={method:Ss.method,injectResult:Is},Hs}break;default:throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${Ws}'`)}else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${Ws}'`)}catch(Ws){throw(0,ms.logDebug)("SolProvider send error:",Ws),Ws}})}disconnect(){}restoreConnect(){return(0,vs.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(Ss,Rs,Bs,Is,Ws,Hs){return st(this,void 0,void 0,function*(){let Ns=[];Is.forEach(za=>{za.namespace===et.NameSpaceKeySOL&&Ns.push(...za.chains)});let Js=[],ha={},pa={};if(Ns.forEach(za=>{let Ya=Ws.address.find(Bc=>Bc.chainId==="501"&&Bc.coinType===501||Bc.namespaceChainId===za);Ya&&(Js.push(za+":"+Ya.address),pa&&"publicKey"in pa?ha[za]=pa:ha[za]={publicKey:Ya.publicKey})}),Js&&Js.length>0){let za={namespace:et.NameSpaceKeySOL,addresses:Js,methods:[..._s.SOLANAMethods],extra:ha};return(0,ms.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(za)),za}})}connect(){return st(this,void 0,void 0,function*(){return window.okxwallet.solana.connect()})}singleConnect(){return this.connect()}addAccountChangedListener(Ss){console.log("window.okxwallet configEventWithKey:","sol"),this.accountChangedSolanaPublicKeyHandler=Rs=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),"sol",Rs),Rs&&Ss()},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler)}removeListener(){this.accountChangedSolanaPublicKeyHandler&&window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)}};return SolProvider.SolProvider=Es,SolProvider}var AptosProvider={},hasRequiredAptosProvider;function requireAptosProvider(){if(hasRequiredAptosProvider)return AptosProvider;hasRequiredAptosProvider=1;var st=AptosProvider&&AptosProvider.__awaiter||function(Ss,Rs,Bs,Is){function Ws(Hs){return Hs instanceof Bs?Hs:new Bs(function(Ns){Ns(Hs)})}return new(Bs||(Bs=Promise))(function(Hs,Ns){function Js(za){try{pa(Is.next(za))}catch(Ya){Ns(Ya)}}function ha(za){try{pa(Is.throw(za))}catch(Ya){Ns(Ya)}}function pa(za){za.done?Hs(za.value):Ws(za.value).then(Js,ha)}pa((Is=Is.apply(Ss,Rs||[])).next())})};Object.defineProperty(AptosProvider,"__esModule",{value:!0}),AptosProvider.AptosProvider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireInjectUtils(),ws=requireMedia(),vs=requireLocalforage(),_s=Object.freeze(["637","70000060","70000066"]),Es=new Map;Es.set("aptos:637","Mainnet"),Es.set("aptos:70000060","Movement Testnet"),Es.set("aptos:70000066","Movement Mainnet");let Ts=class{send(Rs){return st(this,void 0,void 0,function*(){try{(0,et.logDebug)("AptosProvider send request:",(0,et.safeJsonStringify)(Rs)),yield this.restoreConnect();let Bs=yield window.okxwallet.aptos.network(),Is=this.searchChainIdToInjectChainName(Rs.chainId);if((0,et.logDebug)("AptosProvider send network and searchNetwork:",Bs,"-----",Is),!(Bs&&Is&&Bs.toLowerCase()===Is.toLowerCase()))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Please switch your wallet link to '${Is}'`);const Ws=Rs.method;let Hs;switch(Ws){case"aptos_signMessage":if(Rs.injectParams){let Ns=yield window.okxwallet.aptos.signMessage(Rs.injectParams);return Hs={method:Rs.method,result:Ns.signature,injectResult:Ns},(0,et.logDebug)("AptosProvider send result:",(0,et.safeJsonStringify)(Hs)),Hs}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${Ws}'`);break;case"aptos_signTransaction":{(0,et.logDebug)("AptosProvider Method>>>> :",Ws);let Ns=yield window.okxwallet.aptos.signTransaction(Rs.params);return Hs={method:Rs.method,result:Ns},(0,et.logDebug)("AptosProvider send result:",(0,et.safeJsonStringify)(Hs)),Hs}break;case"aptos_signAndSubmitTransaction":{(0,et.logDebug)("AptosProvider Method>>>> :",Ws);let Ns=yield window.okxwallet.aptos.signAndSubmitTransaction(Rs.params);return Hs={method:Rs.method,result:Ns.hash},(0,et.logDebug)("AptosProvider send result:",(0,et.safeJsonStringify)(Hs)),Hs}break;default:throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${Ws}'`)}}catch(Bs){throw(0,et.logDebug)("AptosProvider send error:",Bs),Bs}})}searchChainIdToInjectChainName(Rs){let Bs=Rs;return Es.forEach((Is,Ws)=>{Rs.includes(Ws)&&(Bs=Is)}),Bs}disconnect(){}restoreConnect(){return(0,ws.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(Rs,Bs,Is,Ws,Hs,Ns){return st(this,void 0,void 0,function*(){let Js=[];Ws.forEach(Ya=>{Ya.namespace===t.NameSpaceKeyAptos&&Js.push(...Ya.chains)});let ha=[],pa={};(0,et.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(Js));let za;if(!(0,ws.isDevice)("mobile")&&Js&&Js.length>0&&(za=(yield window.okxwallet.aptos.connect()).publicKey),Js.forEach(Ya=>{let Bc=Hs.address.find(Qa=>_s.includes(Qa.chainId)&&Qa.coinType===637||Qa.namespaceChainId===Ya);Bc&&(ha.push(Ya+":"+Bc.address),pa[Ya]={publicKey:Bc.publicKey?Bc.publicKey:za})}),(0,et.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(ha)),ha&&ha.length>0)return{namespace:t.NameSpaceKeyAptos,addresses:ha,methods:[...ms.AptosMethods],extra:pa}})}connect(){return st(this,void 0,void 0,function*(){return window.okxwallet.aptos.connect()})}singleConnect(){return this.connect()}addAccountChangedListener(Rs){window.okxwallet.aptos.onAccountChange(Bs=>{console.log("window.okxwallet configEventWithKey_aptos:",Date.now(),vs.key,JSON.stringify(Bs)),Bs&&Rs()})}removeListener(){}};return AptosProvider.AptosProvider=Ts,AptosProvider}var TONProvider={},hasRequiredTONProvider;function requireTONProvider(){if(hasRequiredTONProvider)return TONProvider;hasRequiredTONProvider=1;var st=TONProvider&&TONProvider.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(TONProvider,"__esModule",{value:!0}),TONProvider.TONProvider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireMedia(),ws=requireInjectUtils();let vs=class{constructor(){this.signalChainConnectResult=void 0,this.accountChangedTONHandler=null}send(Es){return st(this,void 0,void 0,function*(){try{(0,et.logDebug)("TONProvider send request:",(0,et.safeJsonStringify)(Es));let Ts=null;switch(Es.method){case"ton_sendTransaction":Es.params&&(Ts={method:"sendTransaction",params:[JSON.stringify(Es.params)],id:Date.now().toString()},(0,et.logDebug)("TONProvider tonParams first:",JSON.stringify(Ts)));break;default:throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(Ts){const Ss=yield window.okxTonWallet.tonconnect.send(Ts);if((0,et.logDebug)("TONProvider send request result:",(0,et.safeJsonStringify)(Ss)),Ss.error)throw new t.OKXConnectError(Ss.error.code,Ss.error.message);return{result:Ss.result,method:Es.method}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(Ts){throw(0,et.logDebug)("TONProvider encountered an error:",Ts),Ts}})}restoreConnect(){return Promise.resolve()}parseConnectResponse(Es,Ts,Ss,Rs,Bs,Is){return st(this,void 0,void 0,function*(){try{let Ws=[];Rs.forEach(Js=>{Js.namespace===t.NameSpaceKeyTON&&Ws.push(...Js.chains)});let Hs=[],Ns={};if(Ws.forEach(Js=>{let ha=(0,et.getChainId)(Js),pa=Bs.address.find(za=>za.chainId==="607"&&za.coinType===607||za.namespaceChainId===Js);pa&&(Hs.push(Js+":"+pa.address),Ns[Js]={publicKey:pa.publicKey})}),(0,et.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",Es,JSON.stringify(Hs)),Hs&&Hs.length>0){let Js=Rs.find(pa=>pa.namespace===t.NameSpaceKeyTON);(0,et.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(Js));let ha;if(Js&&Js.params&&Is&&Is.manifestUrl){this.dappInfo=Is;let pa=[Js.params.ton_addr],za={manifestUrl:Is.manifestUrl,items:pa};(Es||Ts)&&Js.params.ton_proof&&pa.push(Js.params.ton_proof),(0,et.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(za)),(0,ms.isDevice)("mobile")?ha=yield window.okxTonWallet.tonconnect.connect(2,za):Es||Ts?ha=yield window.okxTonWallet.tonconnect.connect(2,za):ha=yield window.okxTonWallet.tonconnect.restoreConnection()}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");if(Ss&&this.signalChainConnectResult&&(ha=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,et.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(ha)),ha&&Js){if(ha.event==="connect_error")throw new t.OKXConnectError(ha.payload.code,ha.payload.message);{let pa=ha.payload.items.find(Bc=>Bc.name==="ton_addr"),za=ha.payload.items.find(Bc=>Bc.name==="ton_proof");return(0,et.logDebug)("tonprovider connect isSignalChain: ",Ss),{namespace:t.NameSpaceKeyTON,addresses:Hs,methods:[...ws.TONMethods],extra:Ns,data:{ton_addr:pa,ton_proof:za,manifestUrl:Is.manifestUrl}}}}}return}catch(Ws){throw(0,et.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(Ws)),Ws}})}connect(Es,Ts){return st(this,void 0,void 0,function*(){if(Es&&Ts&&Ts.manifestUrl&&Es.params){this.dappInfo=Ts;let Ss=[Es.params.ton_addr],Rs={manifestUrl:Ts.manifestUrl,items:Ss};Es.params.ton_proof&&Ss.push(Es.params.ton_proof),(0,et.logDebug)("tonprovider connect params: ",JSON.stringify(Rs));try{let Bs=yield window.okxTonWallet.tonconnect.connect(2,Rs);return(0,et.logDebug)("tonprovider connect tonResult: ",JSON.stringify(Bs)),this.signalChainConnectResult=Bs,Bs}catch(Bs){throw(0,et.logDebug)("tonprovider connect error: ",JSON.stringify(Bs)),new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil")})}singleConnect(Es,Ts){return this.connect(Es,Ts)}addAccountChangedListener(Es){console.log("window.okxwallet configEventWithKey:","ton"),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),"ton"),Es()},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler)}removeListener(){this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler)}};return TONProvider.TONProvider=vs,TONProvider}var suiProvider={},hasRequiredSuiProvider;function requireSuiProvider(){if(hasRequiredSuiProvider)return suiProvider;hasRequiredSuiProvider=1;var st=suiProvider&&suiProvider.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(suiProvider,"__esModule",{value:!0}),suiProvider.SuiProvider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireMedia(),ws=requireInjectUtils();class vs{constructor(Es=window.okxwallet.sui){this.accountChangedHandler=null,this.wallet=Es}getSuiPublicKey(){return st(this,void 0,void 0,function*(){return(yield this.connect()).accounts[0].publicKey})}parseConnectResponse(Es,Ts,Ss,Rs,Bs,Is){return st(this,void 0,void 0,function*(){try{let Ws=[];Rs.forEach(ha=>{ha.namespace===t.NameSpaceKeySui&&Ws.push(...ha.chains)});let Hs=[],Ns={};if(Ws.length==0)return;const Js=yield this.getSuiPublicKey();return Ws.forEach(ha=>{var pa;let za=(0,et.getChainId)(ha),Ya=Bs.address.find(Bc=>Bc.coinType===784||Bc.namespaceChainId===ha);Ya&&(Hs.push(ha+":"+Ya.address),Ns[ha]={publicKey:(pa=Ya.publicKey)!==null&&pa!==void 0?pa:Js})}),Hs&&Hs.length>0?{namespace:t.NameSpaceKeySui,addresses:Hs,methods:[...ws.SuiMethods],extra:Ns}:void 0}catch(Ws){throw Ws}})}restoreConnect(){return(0,ms.isDevice)("mobile")?this.connect():Promise.resolve()}getSuiWallet(){return this.wallet}send(Es){return st(this,void 0,void 0,function*(){try{yield this.restoreConnect(),(0,et.logDebug)("suiProvider send request:",JSON.stringify(Es));const Ts=Es.method;let Ss;if(Es.injectParams&&this.getSuiWallet()){let Rs=Es.injectParams;switch(Ts){case"sui_signTransactionBlock":let Bs;if(this.getSuiWallet().features["sui:signTransaction"])Bs=yield this.getSuiWallet().features["sui:signTransaction"].signTransaction(Rs);else if(this.getSuiWallet().features["sui:signTransactionBlock"])Bs=yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(Rs);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ss={method:"sui_signTransactionBlock",result:Bs?.signature};break;case"sui_signAndExecuteTransactionBlock":let Is;if(this.getSuiWallet().features["sui:signAndExecuteTransaction"])Is=yield this.getSuiWallet().features["sui:signAndExecuteTransaction"].signAndExecuteTransaction(Rs);else if(this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"])Is=yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(Rs);else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);Ss={method:"sui_signAndExecuteTransactionBlock",result:Is.digest};break;case"sui_signMessage":Ss={method:"sui_signMessage",result:(yield this.getSuiWallet().features["sui:signMessage"].signMessage(Rs)).signature};break;case"sui_signPersonalMessage":Ss={method:"sui_signPersonalMessage",result:(yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(Rs)).signature};break}}return Ss}catch(Ts){throw(0,et.logDebug)("suiProvider send error:",Ts),Ts}})}connect(){return st(this,void 0,void 0,function*(){var Es;return(Es=this.getSuiWallet())===null||Es===void 0?void 0:Es.features["standard:connect"].connect()})}singleConnect(){return this.connect()}addStandardEventListener(Es){var Ts,Ss;!((Ts=this.getSuiWallet())===null||Ts===void 0)&&Ts.features["standard:events"]?((0,et.logDebug)("sui-provider standard:events change"),(Ss=this.getSuiWallet())===null||Ss===void 0||Ss.features["standard:events"].on("change",Rs=>{Es(Rs)})):(0,et.logDebug)("sui-provider standard:events null")}addAccountChangedListener(Es){var Ts;console.log("configEventWithKey:","sui"),this.getSuiWallet().on&&(this.accountChangedHandler=Ss=>{console.log("configEventWithKey_sui:",Date.now(),"sui",Ss),Ss&&Es()},(Ts=this.getSuiWallet())===null||Ts===void 0||Ts.on("accountChanged",this.accountChangedHandler))}removeListener(){var Es;this.accountChangedHandler&&((Es=this.getSuiWallet())===null||Es===void 0||Es.removeListener("accountChanged",this.accountChangedHandler))}}return suiProvider.SuiProvider=vs,suiProvider}var btcProvider={},hasRequiredBtcProvider;function requireBtcProvider(){if(hasRequiredBtcProvider)return btcProvider;hasRequiredBtcProvider=1;var st=btcProvider&&btcProvider.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(btcProvider,"__esModule",{value:!0}),btcProvider.BtcProvider=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireInjectUtils(),ws=requireMedia();class vs{constructor(){this.accountChangedBtcHandler=null}connect(){return window.okxwallet.unisat.connect()}switchChain(Es){return st(this,void 0,void 0,function*(){let Ts=window.okxwallet.unisat;switch(Es){case t.BTC_CHAINS.MAINNET:yield Ts.switchChain("BITCOIN_MAINNET");break;case t.BTC_CHAINS.FRACTAL:yield Ts.switchChain("FRACTAL_BITCOIN_MAINNET");break}})}parseConnectResponse(Es,Ts,Ss,Rs,Bs){return st(this,void 0,void 0,function*(){try{let Is=[];Rs.forEach(pa=>{pa.namespace===t.NameSpaceKeyBtc&&Is.push(...pa.chains)});let Ws=[],Hs={};if(Is.length==0)return;const Ns=(pa,za)=>pa.find(Ya=>{const Bc=Ya.name==="bitcoin"&&za===t.BTC_CHAINS.MAINNET||Ya.name==="fractalbitcoin"&&za===t.BTC_CHAINS.FRACTAL;return Ya.coinType===0&&Bc||Ya.namespaceChainId===za}),Js=pa=>st(this,void 0,void 0,function*(){let za=Ns(Bs.address,pa);if(!za)return;Ws.push(pa+":"+za.address);let Ya=yield this.connect();Hs[pa]={publicKey:Ya.publicKey,compressedPublicKey:Ya.compressedPublicKey}}),ha=Is.map(Js);return yield Promise.all(ha),Ws&&Ws.length>0?{namespace:t.NameSpaceKeyBtc,addresses:Ws,methods:[...ms.BtcMethods],extra:Hs}:void 0}catch(Is){throw Is}})}restoreConnect(){return st(this,void 0,void 0,function*(){return(0,ws.isDevice)("mobile")?this.connect():Promise.resolve()})}send(Es){return st(this,void 0,void 0,function*(){try{(0,et.logDebug)("btcProvider send request:",JSON.stringify(Es));const Ts=Es.method,Ss=Es.chainId;yield this.restoreConnect(),yield this.switchChain(Ss);let Rs;if(Es.params)switch(Ts){case"btc_signMessage":{const{signStr:Bs,type:Is}=Es.params||{},Ws=yield window.okxwallet.unisat.signMessage(Bs,Is);return{method:Es.method,result:Ws}}case"btc_send":{const{from:Bs,to:Is,value:Ws,satBytes:Hs}=Es.params||{},Ns=yield window.okxwallet.unisat.send({from:Bs,to:Is,value:Ws,satBytes:Hs});return{method:Es.method,result:Ns}}case"btc_signPsbts":{const{psbtHexs:Bs,options:Is}=Es.params||{};let Ws;if(Array.isArray(Bs)&&Bs.length===1){let Hs;Array.isArray(Is)?Hs=yield window.okxwallet.unisat.signPsbt(Bs[0],Is.length>0&&typeof Is[0]=="object"?Is[0]:void 0):Hs=yield window.okxwallet.unisat.signPsbt(Bs[0]),Ws=[Hs]}else Ws=yield window.okxwallet.unisat.signPsbts(Bs,Is);return{method:Es.method,result:(0,et.safeJsonStringify)(Ws)}}case"btc_signAndPushPsbt":{const{psbtHex:Bs,options:Is}=Es.params||{},Ws=yield window.okxwallet.unisat.signPsbt(Bs,Is),Hs=yield window.okxwallet.unisat.pushPsbt(Ws);return{method:Es.method,result:(0,et.safeJsonStringify)({signedPsbt:Ws,txHash:Hs})}}case"btc_sendInscription":{const{address:Bs,inscriptionId:Is,options:Ws}=Es.injectParams||{},Hs=yield window.okxwallet.unisat.sendInscription(Bs,Is,Ws);return{method:Es.method,result:Hs}}case"btc_inscribeTransfer":if(this.hasFunction("inscribeTransfer")){const{ticker:Bs,amount:Is}=Es.params||{},Ws=yield window.okxwallet.unisat.inscribeTransfer(Bs,Is);return{method:Es.method,result:Ws}}case"btc_sendRunes":if(this.hasFunction("sendRunes")){const{address:Bs,runeid:Is,amount:Ws,options:Hs}=Es.injectParams||{},Ns=yield window.okxwallet.unisat.sendRunes(Bs,Is,Ws,Hs);return{method:Es.method,result:Ns}}default:throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${Ts}' not support`)}else throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,`param is error method: '${Ts}'`)}catch(Ts){throw(0,et.logDebug)("BtcProvider send error:",Ts),Ts}})}hasFunction(Es){return!!(window.okxwallet&&window.okxwallet.unisat&&typeof window.okxwallet.unisat[Es]=="function")}singleConnect(Es){return st(this,void 0,void 0,function*(){return Es.chains.length==1?this.connect():!1})}addAccountChangedListener(Es){this.accountChangedBtcHandler=Ts=>{console.log("window.okxwallet btc:",Date.now(),"btc",Ts),Ts&&Ts.length>0&&Es()},window.okxwallet.unisat.on("accountsChanged",this.accountChangedBtcHandler)}removeListener(){window.okxwallet.unisat.removeListener("accountsChanged",this.accountChangedBtcHandler)}}return btcProvider.BtcProvider=vs,btcProvider}var hasRequiredOkxwalletInjectConnector;function requireOkxwalletInjectConnector(){if(hasRequiredOkxwalletInjectConnector)return okxwalletInjectConnector;hasRequiredOkxwalletInjectConnector=1;var st=okxwalletInjectConnector&&okxwalletInjectConnector.__awaiter||function(Ns,Js,ha,pa){function za(Ya){return Ya instanceof ha?Ya:new ha(function(Bc){Bc(Ya)})}return new(ha||(ha=Promise))(function(Ya,Bc){function Qa(ru){try{eu(pa.next(ru))}catch(cu){Bc(cu)}}function tu(ru){try{eu(pa.throw(ru))}catch(cu){Bc(cu)}}function eu(ru){ru.done?Ya(ru.value):za(ru.value).then(Qa,tu)}eu((pa=pa.apply(Ns,Js||[])).next())})};Object.defineProperty(okxwalletInjectConnector,"__esModule",{value:!0}),okxwalletInjectConnector.OkxwalletInjectConnector=void 0;const t=requireInjectConnector(),et=requireProtocol(),ms=requireInject(),ws=requireSolProvider(),vs=requireAptosProvider(),_s=requireTONProvider(),Es=requireSuiProvider(),Ts=requireBtcProvider(),Ss=requireUtils$4(),Rs=requireWalletInfo(),Bs=requireMedia(),Is=requireSessionUtils(),Ws=requireIconnector();class Hs extends t.InjectConnector{getType(){return Ws.CONNECTOR_TYPE.INJECT.OKX_INJECT_WALLET}constructor(){super(),this.walletName="OKX Wallet",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected",this.providerMap.set(et.NameSpaceKeyEip155,new ms.Eip155Provider),this.providerMap.set(et.NameSpaceKeySOL,new ws.SolProvider),this.providerMap.set(et.NameSpaceKeyAptos,new vs.AptosProvider),this.providerMap.set(et.NameSpaceKeyTON,new _s.TONProvider),this.providerMap.set(et.NameSpaceKeySui,new Es.SuiProvider),this.providerMap.set(et.NameSpaceKeyBtc,new Ts.BtcProvider)}openWallet(Js,ha){return st(this,void 0,void 0,function*(){var pa,za,Ya;if((0,Ss.logDebug)("InjectEngine connect begin:",JSON.stringify(Js)),!Js)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=Js.connectRequest.dAppInfo;var Bc=Js.connectRequest;try{if(window&&window.okxwallet){if(Bc.requests){let eu=Bc.requests.find(Wa=>Wa.name==="requestAccounts"),ru=yield window.okxwallet.getVersion(),cu={method:"connect",requestId:Bc.requestId,payload:{wallet:{platform:(pa=navigator.platform)!==null&&pa!==void 0?pa:"/",appName:Rs.OKXInjectWalletName,appVersion:ru??"1.0.0",maxProtocolVersion:1},responses:[]}},ou={name:"requestAccounts",accounts:[]};cu.payload.responses.push(ou),yield this.disconnect();const Ga=(za=eu.requiredNamespaces)!==null&&za!==void 0?za:[],Xa=(Ya=eu.optionalNamespaces)!==null&&Ya!==void 0?Ya:[];let Fa=!0,Zs=!1;if(Ga.length+Xa.length===1&&!(0,Bs.isDevice)("mobile")){const Wa=Ga.length===1?Ga[0]:Xa[0],Za=this.getInjectProvider(Wa.namespace);(yield Za?.singleConnect(Wa,this.dappInfo))&&(Zs=!0,Fa=!1)}var Qa=yield this.getAccountByRequestWallets(Fa,!1,Zs,Ga,Xa);if(Qa){if(ou.accounts.push(...Qa),ou.accounts.length===0)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null")}else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach(Wa=>Wa()),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(cu,this))}}else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR)}catch(eu){var tu=et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;eu instanceof et.OKXConnectError&&(tu=eu.code,eu.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:tu}},this)}})}checkAccountChanged(){return st(this,void 0,void 0,function*(){var Js;try{let ha=(Js=this.connectionManager)===null||Js===void 0?void 0:Js.getSessionContent("connectSession");if(!ha)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,Ss.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(ha));let pa=this.getRequireNameSpaceFromSession(ha);(0,Ss.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(pa));let za=yield this.getAccountByRequestWallets(!1,!0,!1,pa,[]);if((0,Ss.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(za)),za){let Ya={};(0,Is.buildAccountNameSpaces)(za,Ya),this.compareAndModifyNamespaces(ha.namespaces,Ya)||((0,Ss.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(ha)),this.accountChangeListener?((0,Ss.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(ha)):((0,Ss.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null")}catch(ha){throw(0,Ss.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(ha)),ha}})}compareAndModifyNamespaces(Js,ha){let pa=!0;for(const za in Js)if(ha[za]){const Ya=Js[za],Bc=ha[za];(0,Ss.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(Ya)),(0,Ss.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(Bc)),JSON.stringify([...Ya.accounts].sort())===JSON.stringify([...Bc.accounts].sort())||(pa=!1,Ya.accounts=[...Bc.accounts],Ya.extra=Object.assign({},Bc.extra),Ya.payload=Object.assign({},Bc.payload)),(0,Ss.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(Ya))}return(0,Ss.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${pa}`),pa}restoreconnect(Js,ha){var pa;if(!window.okxwallet){ha(null);return}this.dappInfo=(pa=Js.sessionConfig)===null||pa===void 0?void 0:pa.dappInfo,(0,Ss.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(Js));var za=this.getRequireNameSpaceFromSession(Js);(0,Ss.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(za)),this.getAccountByRequestWallets(!1,!1,!1,za,[]).then(Ya=>{(0,Ss.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(Ya));let Bc=!0;for(let eu in Js.namespaces){var Qa=Ya.find(ou=>ou.namespace===eu),tu=Js.namespaces[eu].accounts;if(!Qa)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");let ru=tu;eu===et.NameSpaceKeyAptos&&ru&&ru.length>0&&(ru=tu.map(ou=>(0,Ss.replaceChainNameToChainId)(ou))),Qa.addresses.length===ru.length&&Qa.addresses.slice().sort().every((ou,Ga)=>{if(eu===et.NameSpaceKeyAptos){let Xa=ru.slice().sort()[Ga];return(0,Ss.logDebug)("check aptos address -value and aptosAdd--",ou,Xa),Xa===ou}else return ou===ru.slice().sort()[Ga]})||(Bc=!1)}if(Bc)ha(Js);else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session")}).catch(Ya=>{(0,Ss.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(Ya)),ha(null)})}getRequireNameSpaceFromSession(Js){var ha,pa,za=[];for(let Ya in Js.namespaces){let Bc=Js.namespaces[Ya],Qa={namespace:Ya,chains:Bc.chains};if(Ya===et.NameSpaceKeyAptos){let tu=[];Bc.chains.forEach(eu=>{let ru=(0,Ss.replaceChainNameToChainId)(eu);tu.push(ru)}),Qa={namespace:Ya,chains:tu}}else if(Ya===et.NameSpaceKeyTON){let tu,eu;!((ha=Bc.payload)===null||ha===void 0)&&ha.ton_proof&&(tu=(pa=Bc.payload)===null||pa===void 0?void 0:pa.ton_proof,tu.proof.payload&&(eu={name:"ton_proof",payload:tu.proof.payload})),Qa={namespace:Ya,chains:Bc.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:eu}}}za.push(Qa)}return za}getAccountByRequestWallets(Js,ha,pa,za,Ya){return st(this,void 0,void 0,function*(){try{var Bc=[],Qa=[];if((0,Bs.isDevice)("mobile")){var tu=yield window.okxwallet.connectWallet(Js,{requiredNamespaces:za,optionalNamespaces:Ya});Bc.push(tu)}else Bc=yield window.okxwallet.requestWallets(Js);var eu=[...za??[],...Ya??[]];let ru=Bc[0];(0,Ss.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(ru));let cu;if(eu&&ru&&ru.address)for(const[Ga,Xa]of this.providerMap.entries()){let Fa=yield Xa.parseConnectResponse(Js,ha,pa,eu,ru,this.dappInfo);Fa&&(cu=Ga,Qa.push(Fa))}let ou=za.every(Ga=>{let Xa=Qa.find(Fa=>Fa.namespace===Ga.namespace);return Xa?Ga.chains.every(Zs=>!!Xa.addresses.find(Za=>Za.startsWith(Zs+":"))):!1});if((0,Ss.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(za)),(0,Ss.logDebug)("InjectEngine connect accountResult:",JSON.stringify(Qa)),!ou)throw yield this.disconnect(),new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,Bs.isDevice)("mobile")||(this.configEventWithKey(cu),yield window.okxwallet.requestWallets(Js)),Qa}catch(ru){throw ru&&typeof ru=="object"&&"code"in ru&&ru.code===4001?new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR):new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}})}configEventWithKey(Js){var ha,pa;for(let za in this.providerMap)(ha=this.providerMap.get(za))===null||ha===void 0||ha.removeListener();(pa=this.getInjectProvider(Js))===null||pa===void 0||pa.addAccountChangedListener(()=>{this.checkAccountChanged().catch(za=>{console.log("window.okxwallet configEventWithKey error: ",za)})})}disconnect(){return st(this,void 0,void 0,function*(){(0,Ss.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,Ss.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))})}}return okxwalletInjectConnector.OkxwalletInjectConnector=Hs,okxwalletInjectConnector}var okxwalletInjectTonsdkConnector={},hasRequiredOkxwalletInjectTonsdkConnector;function requireOkxwalletInjectTonsdkConnector(){if(hasRequiredOkxwalletInjectTonsdkConnector)return okxwalletInjectTonsdkConnector;hasRequiredOkxwalletInjectTonsdkConnector=1;var st=okxwalletInjectTonsdkConnector&&okxwalletInjectTonsdkConnector.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(okxwalletInjectTonsdkConnector,"__esModule",{value:!0}),okxwalletInjectTonsdkConnector.OkxwalletInjectTonsdkConnector=void 0;const t=requireProtocol(),et=requireUtils$4(),ms=requireMedia(),ws=requireOkxwalletInjectConnector(),vs=requireIconnector();class _s extends ws.OkxwalletInjectConnector{getType(){return vs.CONNECTOR_TYPE.INJECT.OKX_INJECT_WALLET}constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}checkWalletMatch(){return st(this,void 0,void 0,function*(){var Ts,Ss,Rs;(Ts=this.connectionManager)===null||Ts===void 0||Ts.tonsdkConnectStorage.synchronizedCache();let Bs=(Ss=this.connectionManager)===null||Ss===void 0?void 0:Ss.tonsdkConnectStorage.getItem("ton_connect_info_adapter_universal");if(!Bs||!Bs?.content)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const Is=Bs?.content;let Ws=JSON.parse(Is),Hs=Ws.connectEvent.payload.items.find(Js=>"name"in Js?Js.name==="ton_addr":!1);this.dappInfo=Ws.dappInfo;let Ns;if(Hs&&"address"in Hs&&(Ns=Hs.address),!Ns)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if((0,et.logDebug)(`inject-connector localTonaddress : ${Ns}`),(0,ms.isDevice)("mobile")){let Js;Js={namespace:t.NameSpaceKeyTON,chains:[t.TON_CHAINS.MAINNET],params:{ton_addr:{name:"ton_addr"}}};let ha=yield this.getAccountByRequestWallets(!1,!1,!1,[Js],[]);if(ha&&ha.length==1){let za=(Rs=ha[0].data)===null||Rs===void 0?void 0:Rs.ton_addr,Ya=za?.address;if(Ns===Ya)return}}else{let Js=yield window.okxTonWallet.tonconnect.restoreConnection();if(Js.event==="connect"&&Js.payload.items.find(pa=>pa.name==="ton_addr").address==Ns)return}throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)})}}return okxwalletInjectTonsdkConnector.OkxwalletInjectTonsdkConnector=_s,okxwalletInjectTonsdkConnector}var thirdpartInjectConnector={},hasRequiredThirdpartInjectConnector;function requireThirdpartInjectConnector(){if(hasRequiredThirdpartInjectConnector)return thirdpartInjectConnector;hasRequiredThirdpartInjectConnector=1;var st=thirdpartInjectConnector&&thirdpartInjectConnector.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(thirdpartInjectConnector,"__esModule",{value:!0}),thirdpartInjectConnector.ThirdpartInjectConnector=void 0;const t=requireInjectConnector(),et=requireProtocol(),ms=requireIconnector(),ws=requireUtils$4();class vs extends t.InjectConnector{getType(){return this.walletName===et.AptosGoogleWalletName?ms.CONNECTOR_TYPE.KEYLESS.GOOGLE_WALLET:this.walletName===et.AptosAppleWalletName?ms.CONNECTOR_TYPE.KEYLESS.APPLE_WALLET:ms.CONNECTOR_TYPE.INJECT.STANDARD_INJECT_WALLET}constructor(Es){super(),this.walletName=Es.walletName,Es.wallets.forEach((Ts,Ss)=>{this.providerMap.set(Ss,Ts)}),this.icon=Es.icon}registerWallet(Es,Ts){this.providerMap.set(Es,Ts)}getTag(){var Es;return ms.STANDARD_INJECT_WALLET+((Es=this.walletName)!==null&&Es!==void 0?Es:"")}getWalletVersion(){return st(this,void 0,void 0,function*(){const Es=this.providerMap.values().next().value;if(!Es)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);return Es.getVersion()})}openWallet(Es,Ts){return st(this,void 0,void 0,function*(){var Ss,Rs;if((0,ws.logDebug)("InjectEngine connect begin:",JSON.stringify(Es)),!Es)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=Es.connectRequest.dAppInfo;var Bs=Es.connectRequest;try{if(Bs.requests){let Ws=Bs.requests.find(ha=>ha.name==="requestAccounts");const Hs=(Ss=Ws.requiredNamespaces)!==null&&Ss!==void 0?Ss:[],Ns=(Rs=Ws.optionalNamespaces)!==null&&Rs!==void 0?Rs:[];let Js;if(Hs.length+Ns.length===1){const ha=Hs.length===1?Hs[0]:Ns[0],pa=this.providerMap.get(ha.namespace);if(this.addListener(ha.namespace),pa)Js=yield this.getResponseByConnect(pa);else throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"openWallet: provider not found")}this.connectResultListener&&Js&&this.connectResultListener(Js,this)}}catch(Ws){var Is=et.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;Ws instanceof et.OKXConnectError&&(Is=Ws.code,Ws.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:Is}})}})}getResponseByConnect(Es){return st(this,void 0,void 0,function*(){var Ts,Ss;let Rs={method:"connect",requestId:Date.now().toString(),payload:{wallet:{platform:(Ts=navigator.platform)!==null&&Ts!==void 0?Ts:"/",appName:ms.STANDARD_INJECT_WALLET+this.walletName,appVersion:(Ss=this.getWalletVersion())!==null&&Ss!==void 0?Ss:"1.0.0",maxProtocolVersion:1},responses:[]}},Bs={name:"requestAccounts",accounts:[]};return Rs.payload.responses.push(Bs),Bs.accounts.push(yield this.getAccount(Es)),Rs})}getAccount(Es){return st(this,void 0,void 0,function*(){return Es.getAccount()})}disconnect(){return st(this,void 0,void 0,function*(){yield Promise.all([...this.providerMap.values()].map(Es=>Es.disconnect()))})}onDisconnect(){this.disconnectListener.forEach(Es=>Es()),this.disconnectListener=[]}restoreconnect(Es,Ts){const Ss=Object.keys(Es.namespaces);if(!(Ss.length===1)){Ts(null);return}this.addListener(Ss[0]);const Bs=this.getInjectProvider(Ss[0]);if(!Bs)return Ts(null);Bs.getAccount().then(Is=>{var Ws;let Hs=(Ws=Is?.addresses)!==null&&Ws!==void 0?Ws:[""];Es.namespaces[Ss[0]].accounts[0].includes(Hs[0])?Ts(Es):Ts(null)}).catch(Is=>{Ts(null)})}checkAccountChanged(Es,Ts){return st(this,void 0,void 0,function*(){var Ss,Rs;try{let Bs=(Ss=this.connectionManager)===null||Ss===void 0?void 0:Ss.getSessionContent("connectSession");if(Ts&&Bs.namespaces[Es].accounts.some(Ws=>Ws.includes(Ts)))return;let Is=this.getInjectProvider(Es);if(Is){let Ws=yield this.getResponseByConnect(Is);if(Ws&&Bs){let Ns=Ws.payload.responses[0].accounts[0];Bs.namespaces[Es].accounts=Ns.addresses,Bs.namespaces[Es].extra=Ns.extra,Bs.namespaces[Es].rpcMap=void 0,Bs.namespaces[Es].methods=Ns.methods,(Rs=this.accountChangeListener)===null||Rs===void 0||Rs.call(this,Bs)}}}catch{yield this.disconnect()}})}addListener(Es){var Ts,Ss;for(let Rs in this.providerMap)(Ts=this.providerMap.get(Rs))===null||Ts===void 0||Ts.removeListener();(Ss=this.getInjectProvider(Es))===null||Ss===void 0||Ss.addAccountChangedListener(Rs=>{Rs?this.checkAccountChanged(Es,Rs).catch(Bs=>{}):this.onDisconnect()})}supportNamespaceAndChains(Es,Ts){let Ss=this.providerMap.get(Es);return Ss?Ss.supportChains(Ts):!1}}return thirdpartInjectConnector.ThirdpartInjectConnector=vs,thirdpartInjectConnector}var hasRequiredConnector;function requireConnector(){return hasRequiredConnector||(hasRequiredConnector=1,function(st){var t=connector&&connector.__createBinding||(Object.create?function(Rs,Bs,Is,Ws){Ws===void 0&&(Ws=Is);var Hs=Object.getOwnPropertyDescriptor(Bs,Is);(!Hs||("get"in Hs?!Bs.__esModule:Hs.writable||Hs.configurable))&&(Hs={enumerable:!0,get:function(){return Bs[Is]}}),Object.defineProperty(Rs,Ws,Hs)}:function(Rs,Bs,Is,Ws){Ws===void 0&&(Ws=Is),Rs[Ws]=Bs[Is]}),et=connector&&connector.__exportStar||function(Rs,Bs){for(var Is in Rs)Is!=="default"&&!Object.prototype.hasOwnProperty.call(Bs,Is)&&t(Bs,Rs,Is)};Object.defineProperty(st,"__esModule",{value:!0}),st.ThirdpartInjectConnector=st.OkxwalletInjectTonsdkConnector=st.OkxwalletInjectConnector=st.WsConnector=st.TgwalletConnector=st.InjectConnector=st.AppwalletConnector=void 0;var ms=requireAppwalletConnector();Object.defineProperty(st,"AppwalletConnector",{enumerable:!0,get:function(){return ms.AppwalletConnector}}),et(requireIconnector(),st);var ws=requireInjectConnector();Object.defineProperty(st,"InjectConnector",{enumerable:!0,get:function(){return ws.InjectConnector}});var vs=requireTgwalletConnector();Object.defineProperty(st,"TgwalletConnector",{enumerable:!0,get:function(){return vs.TgwalletConnector}});var _s=requireWsConnector();Object.defineProperty(st,"WsConnector",{enumerable:!0,get:function(){return _s.WsConnector}});var Es=requireOkxwalletInjectConnector();Object.defineProperty(st,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return Es.OkxwalletInjectConnector}});var Ts=requireOkxwalletInjectTonsdkConnector();Object.defineProperty(st,"OkxwalletInjectTonsdkConnector",{enumerable:!0,get:function(){return Ts.OkxwalletInjectTonsdkConnector}});var Ss=requireThirdpartInjectConnector();Object.defineProperty(st,"ThirdpartInjectConnector",{enumerable:!0,get:function(){return Ss.ThirdpartInjectConnector}})}(connector)),connector}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,function(st){var t=src$2&&src$2.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=src$2&&src$2.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireConnect(),st),et(requireProtocol(),st),et(requireUtils$4(),st),et(requireInject(),st),et(requireConnector(),st)}(src$2)),src$2}var provider={},utils$1={},misc$1={},hasRequiredMisc$1;function requireMisc$1(){if(hasRequiredMisc$1)return misc$1;hasRequiredMisc$1=1,Object.defineProperty(misc$1,"__esModule",{value:!0}),misc$1.getRpcUrl=t,misc$1.getChainId=et,misc$1.fromAccountToAddress=ms,misc$1.convertChainIdToNumber=ws,misc$1.parseChainId=_s,misc$1.mergeArrays=Es,misc$1.syncAddressAvailable=Ts,misc$1.syncAddressHostAvailable=Ss;const st=requireSrc$1();function t(Rs,Bs,Is){var Ws;const Hs=_s(Rs);return((Ws=Bs.rpcMap)===null||Ws===void 0?void 0:Ws[Hs.reference])||""}function et(Rs){return Rs.includes(":")?Rs.split(":")[1]:Rs}function ms(Rs){if(!Rs)return"";try{let Bs=Rs.split(":").slice(2),Is=Bs.length>0?Bs.join(":"):"";return(0,st.logDebug)("fromAccountToAddress address and account:",Is,Rs),Is}catch{return(0,st.logError)("fromAccountToAddress error:",Rs),""}}function ws(Rs){return typeof Rs=="number"?Rs:Rs.includes("0x")?parseInt(Rs,16):(Rs=Rs.includes(":")?Rs.split(":")[1]:Rs,isNaN(Number(Rs))?Rs:Number(Rs))}const vs=":";function _s(Rs){const[Bs,Is]=Rs.split(vs);return{namespace:Bs,reference:Is}}function Es(Rs=[],Bs=[]){return[...new Set([...Rs,...Bs])]}function Ts(Rs){return!Rs||Rs.appName!=="OKX Wallet"||(0,st.versionCompare)("6.97.0",Rs.appVersion)>0?!1:Ss()}function Ss(){try{return!!window.okxGlobal}catch{return!1}}return misc$1}var globals={},hasRequiredGlobals;function requireGlobals(){if(hasRequiredGlobals)return globals;hasRequiredGlobals=1,Object.defineProperty(globals,"__esModule",{value:!0}),globals.setGlobal=globals.getGlobal=void 0;const st={},t=ms=>st[ms];globals.getGlobal=t;const et=(ms,ws)=>{st[ms]=ws};return globals.setGlobal=et,globals}var hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(st){var t=utils$1&&utils$1.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=utils$1&&utils$1.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireMisc$1(),st),et(requireGlobals(),st)}(utils$1)),utils$1}var hasRequiredProvider;function requireProvider(){return hasRequiredProvider||(hasRequiredProvider=1,function(st){var t=provider&&provider.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=provider&&provider.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireTypes$3(),st),et(requireUtils$2(),st)}(provider)),provider}var hasRequiredConnectMethodUtils;function requireConnectMethodUtils(){return hasRequiredConnectMethodUtils||(hasRequiredConnectMethodUtils=1,function(st){var t=ConnectMethodUtils&&ConnectMethodUtils.__awaiter||function(Ns,Js,ha,pa){function za(Ya){return Ya instanceof ha?Ya:new ha(function(Bc){Bc(Ya)})}return new(ha||(ha=Promise))(function(Ya,Bc){function Qa(ru){try{eu(pa.next(ru))}catch(cu){Bc(cu)}}function tu(ru){try{eu(pa.throw(ru))}catch(cu){Bc(cu)}}function eu(ru){ru.done?Ya(ru.value):za(ru.value).then(Qa,tu)}eu((pa=pa.apply(Ns,Js||[])).next())})},et=ConnectMethodUtils&&ConnectMethodUtils.__importDefault||function(Ns){return Ns&&Ns.__esModule?Ns:{default:Ns}};Object.defineProperty(st,"__esModule",{value:!0}),st.connectSupportMethods=void 0,st.creatNotSupportMethodItemReplay=Ts,st.isMobileDiscover=Ss,st.connectMethodsAdaptOldVersion=Rs,st.connectMethodsResponseUpdate=Bs,st.connectMethodsToConnectWalletMethods=Is,st.syncResoonseToRequire=Hs;const ms=requireSrc$1(),ws=et(requireBs58()),vs=requireProvider();function _s(Ns){return typeof Ns=="object"&&Ns!==null&&Array.isArray(Ns)}function Es(Ns){return typeof Ns=="object"&&Ns!==null&&!Array.isArray(Ns)}st.connectSupportMethods=Object.freeze(["personal_sign","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage","sync_all_addresses"]);function Ts(Ns){let Js=new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);var ha={method:Ns.method,chainId:Ns.chainId,error:{code:Js.code,message:Js.message}};return ha}function Ss(){return!!window.okxwallet&&window.okxwallet.mobileDiscoverWallet}function Rs(Ns,Js){return t(this,void 0,void 0,function*(){var ha,pa,za,Ya,Bc;try{(0,ms.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(Ns));let tu={};if(Ns.method==="solana_signMessage"){let eu=(ha=Js.namespaces[ms.NameSpaceKeySOL])===null||ha===void 0?void 0:ha.accounts.filter(function(cu){return cu.startsWith(Ns.chainId)})[0];const ru=(0,vs.fromAccountToAddress)(eu);if(Ns.params&&ru&&"message"in Ns.params){let cu=Ns.params.message;if(((pa=Js.wallet)===null||pa===void 0?void 0:pa.appName)=="OKX Wallet"){let ou=new TextEncoder().encode(cu);cu=ws.default.encode(ou)}return Ns.params={message:cu,pubkey:ru},Ns.injectParams=Ns.params,tu={publicKey:ru},(0,ms.logDebug)("solana_signMessage account and address:",JSON.stringify(eu),ru),(0,ms.logDebug)("solana_signMessage callBackParams:",JSON.stringify(tu)),tu}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(Ns.method==="sui_signMessage"||Ns.method==="sui_signPersonalMessage")if("message"in Ns.params&&Ns.params.message){let eu=JSON.parse(JSON.stringify(Ns.params.message)),ru=Object.values(eu),cu=new Uint8Array(ru),ou=new TextDecoder("utf8"),Ga=btoa(ou.decode(cu));return Ns.params={message:atob(Ga)},Ns.injectParams={message:cu},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(Ns.params),Ga),Ns.method==="sui_signMessage"?tu={messageBytes:Ga,signature:""}:Ns.method==="sui_signPersonalMessage"&&(tu={bytes:Ga,signature:""}),(0,ms.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(tu)),tu}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(Ns.method==="btc_signMessage"){let ru=((za=Js.namespaces[ms.NameSpaceKeyBtc])===null||za===void 0?void 0:za.accounts.filter(function(ou){return ou.startsWith(Ns.chainId)}))[0];const cu=(0,vs.fromAccountToAddress)(ru);if((0,ms.logDebug)("btc_signMessage account and address:",JSON.stringify(ru),cu),cu){if("message"in Ns.params&&Ns.params.message&&typeof Ns.params.message=="string")Ns.params={from:cu,signStr:Ns.params.message};else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return Ns.params.from=cu,(0,ms.logDebug)("btc_signMessage callBackParams:",JSON.stringify(tu)),tu}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(Ns.method==="aptos_signMessage"){let eu=Ns.params,ru=(Ya=Js.namespaces[ms.NameSpaceKeyAptos])===null||Ya===void 0?void 0:Ya.accounts.filter(function(ou){return ou.startsWith(Ns.chainId)})[0],cu=(0,vs.fromAccountToAddress)(ru);if(eu&&cu){let ou="APTOS",Ga="",Xa="";var Qa=ou;let Fa=window.location.protocol+"//"+window.location.hostname;"address"in eu&&eu.address&&(Qa+=`
address: `+cu),"application"in eu&&eu.application&&(Qa+=`
application: `+Fa);let Zs=1;"chainId"in eu&&eu.chainId&&(eu.chainId=="aptos:mainnet"?Zs=1:eu.chainId=="movement:testnet"&&(Zs=2),Qa+=`
chainId: `+Zs),"message"in eu&&(Qa+=`
message: `+eu.message,Ga=eu.message),"nonce"in eu&&(Qa+=`
nonce: `+eu.nonce,Xa=eu.nonce);const Wa=new TextEncoder().encode(Qa),Za=Array.from(Wa).map(iu=>iu.toString(16).padStart(2,"0")).join("");return Ns.params={message:Za},Ns.injectParams=eu,(0,ms.logDebug)("aptos_signMessage requestParams:",JSON.stringify(Ns)),tu={address:cu,application:Fa,chainId:Zs,fullMessage:Qa,message:Ga,nonce:Xa,prefix:ou,signature:""},(0,ms.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(tu)),tu}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(Ns.method==="cosmos_signArbitrary"){let eu=(Bc=Js?.namespaces[ms.NameSpaceKeyCosmos])===null||Bc===void 0?void 0:Bc.accounts.filter(function(Ga){return Ga.startsWith(Ns.chainId)})[0];const ru=(0,vs.fromAccountToAddress)(eu);let cu=Ns.params.message;const ou=btoa(cu);if((0,ms.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(eu),ru),(0,ms.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",ou),cu&&ru){const Ga={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:ru,data:ou}}],memo:""};return Ns.params={signer:ru,chain_id:Ns.chainId.split(":")[1],data:Ga},(0,ms.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(tu)),tu}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,ms.logDebug)("sol_handleSignatureData end params:",JSON.stringify(Ns))}catch(tu){throw tu}})}function Bs(Ns,Js){return t(this,void 0,void 0,function*(){var ha;try{if(Ns.signResponse){(0,ms.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(Ns.signResponse)),(0,ms.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(Ns.namespaces));for(const pa of Ns.signResponse)if((0,ms.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(pa)),"result"in pa)if(pa.method==="solana_signMessage"){let za=pa.result;(0,ms.logDebug)("solana_signMessage methodItem.chainId:",pa.chainId);let Ya=(ha=Ns.namespaces[ms.NameSpaceKeySOL])===null||ha===void 0?void 0:ha.accounts.filter(function(Bc){return(0,ms.logDebug)("solana_signMessage account:",Bc),Bc.startsWith(pa.chainId)})[0];(0,ms.logDebug)("solana_signMessage result account:",za,Ya),za&&Ya&&(pa.result={signature:ws.default.decode(za),publicKey:(0,vs.fromAccountToAddress)(Ya)})}else if(pa.method==="sui_signMessage"||pa.method==="sui_signPersonalMessage"){let za=Js.filter(function(Ya){return Ya.method===pa.method})[0];if(za&&za.params&&"message"in za.params){let Ya=za.params.message,Bc=btoa(Ya);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",Ya,Bc),pa.method==="sui_signMessage"?pa.result={messageBytes:Bc,signature:pa.result}:pa.method==="sui_signPersonalMessage"&&(pa.result={bytes:Bc,signature:pa.result})}}else if(pa.method==="aptos_signMessage"){if(pa.chainId=(0,ms.replaceChainIdToChainName)(pa.chainId),pa.result=JSON.parse(pa.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(pa.result)),pa.result&&"signature"in pa.result){let za=pa.result.signature;za&&za.startsWith("0x")&&(za=za.slice(2,za.length),pa.result.signature=za)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(pa.result))}else if(pa.method==="cosmos_signArbitrary")pa.result=JSON.parse(pa.result);else if(pa.method=="starknet_signMessage"){let za=pa.result;typeof za=="string"&&(za=JSON.parse(za)),pa.result=[za.signedDataR,za.signedDataS]}else pa.method=="sync_all_addresses"&&(pa.result=Hs(pa.result))}}catch(pa){throw(0,ms.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(pa)),pa}})}function Is(Ns,Js){return t(this,void 0,void 0,function*(){try{(0,ms.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(Ns));const Ya=[];if(Ns&&Ns.length>1)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!Js&&Ns&&Ns.length>0)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const Bc of Ns)if(Bc.method==="aptos_signMessage"&&(Bc.chainId=(0,ms.replaceChainNameToChainId)(Bc.chainId)),Bc.method==="wallet_addEthereumChain"){var ha=Js?.some(Qa=>Qa.namespace.includes("eip155"));if(!ha)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${Bc.method}', the EVM chain needs to be included in the NameSpace`)}else if(Bc.method==="sync_all_addresses")if((0,vs.syncAddressHostAvailable)())Bc.chainId="";else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(!!!Js?.some(tu=>tu.chains.some(eu=>eu.includes(`${Bc.chainId}`))))throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${Bc.method}', NameSpace must contain '${Bc.chainId}'`);for(const Bc of Ns){if(!st.connectSupportMethods.includes(Bc.method))throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${Bc.method}'`);if(Bc.method==="wallet_addEthereumChain"){if(Array.isArray(Bc.params)){const Qa=Bc.params;if(Qa&&Qa.length===1){const tu=Qa[0];Es(tu)&&(Bc.params=tu)}else throw Qa&&Qa.length>1?new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${Bc.method}'`):new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${Bc.method}'`)}}else if(Bc.method==="personal_sign"){if(_s(Bc.params)){if(Bc.params&&Bc.params.length!==1)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${Bc.method}' `);let Qa=Bc.params[0];if(Qa&&typeof Qa=="string")Bc.params={message:Qa};else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `)}}else if(Bc.method==="sui_signMessage"||Bc.method==="sui_signPersonalMessage")if(Es(Bc.params)&&"message"in Bc.params)if(Bc.params.message){(0,ms.logDebug)("sui_signMessage item.params.message :",Bc.params.message);let Qa=JSON.parse(JSON.stringify(Bc.params.message)),tu=Object.values(Qa),eu=new Uint8Array(tu),ru=new TextDecoder("utf8"),cu=btoa(ru.decode(eu));Bc.params.message=atob(cu)}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else if(Bc.method==="solana_signMessage")if(Es(Bc.params)&&"message"in Bc.params)if(Bc.params.message&&typeof Bc.params.message=="string"){let Qa=new TextEncoder().encode(Bc.params.message);Bc.params.bs58Message=ws.default.encode(Qa)}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else if(Bc.method==="aptos_signMessage")if(Es(Bc.params))if(Bc.chainId){var pa=Bc.params,za=window.location.protocol+"//"+window.location.hostname;let Qa=1;Bc.chainId==="aptos:637"||Bc.chainId==="aptos:70000060"&&(Qa=2),Bc.params={data:pa,applicationUrl:za,prefix:"APTOS",aptosChainId:Qa}}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${Bc.method}' `);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else if(Bc.method==="cosmos_signArbitrary")if(Es(Bc.params))if(Bc.params.message&&typeof Bc.params.message=="string"){const Qa=btoa(Bc.params.message);let tu=Bc.chainId.split(":")[1];if(tu)Bc.params={chain_id:tu,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:Qa}}],memo:""}};else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${Bc.method}' `)}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${Bc.method}' `);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else if(Bc.method=="tron_signMessage")if(Es(Bc.params))if("message"in Bc.params&&Bc.params.message&&typeof Bc.params.message=="string")Bc.params.message=Ws(Bc.params.message);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else if(Bc.method=="btc_signMessage")if(Es(Bc.params))if("message"in Bc.params&&Bc.params.message&&typeof Bc.params.message=="string")Bc.params={signStr:Bc.params.message};else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${Bc.method}' `);(0,ms.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(Bc)),Ya.push(Bc)}return Ya}catch(Ya){throw Ya}})}function Ws(Ns){let Js="";for(let ha=0;ha<Ns.length;ha++)Js+=Ns.charCodeAt(ha).toString(16).padStart(2,"0");return Js}function Hs(Ns){const Js=JSON.parse(Ns);return{type:Js.type,isEvm:Js.isEvm,walletName:Js.walletName,deriveName:Js.deriveName,addresses:Js.addresses.map(pa=>({coinId:pa.ci,address:pa.a&&pa.a!=="null"?pa.a:Js.evmAddress}))}}}(ConnectMethodUtils)),ConnectMethodUtils}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.isMobileDiscover=st.creatNotSupportMethodItemReplay=st.connectMethodsAdaptOldVersion=void 0;var t=requireConnectMethodUtils();Object.defineProperty(st,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return t.connectMethodsAdaptOldVersion}}),Object.defineProperty(st,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return t.creatNotSupportMethodItemReplay}}),Object.defineProperty(st,"isMobileDiscover",{enumerable:!0,get:function(){return t.isMobileDiscover}})}(utils$8)),utils$8}var hasRequiredPackages;function requirePackages(){return hasRequiredPackages||(hasRequiredPackages=1,function(st){var t=packages&&packages.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=packages&&packages.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireUtils$1(),st)}(packages)),packages}var OKXUniversalProvider={},eip155={},constants$1={},values={},hasRequiredValues;function requireValues(){return hasRequiredValues||(hasRequiredValues=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.GENERIC_SUBPROVIDER_NAME=st.RPC_URL=st.STORAGE=st.CONTEXT=st.WC_VERSION=st.PROTOCOL=st.RELAY_URL=st.LOGGER=void 0,st.LOGGER="error",st.RELAY_URL="wss://relay.walletconnect.com",st.PROTOCOL="wc",st.WC_VERSION=2,st.CONTEXT="universal_provider",st.STORAGE=`${st.PROTOCOL}@${st.WC_VERSION}:${st.CONTEXT}:`,st.RPC_URL="https://rpc.walletconnect.com/v1/",st.GENERIC_SUBPROVIDER_NAME="generic"}(values)),values}var events={},hasRequiredEvents;function requireEvents(){return hasRequiredEvents||(hasRequiredEvents=1,Object.defineProperty(events,"__esModule",{value:!0}),events.PROVIDER_EVENTS=void 0,events.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"}),events}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(st){var t=constants$1&&constants$1.__createBinding||(Object.create?function(ms,ws,vs,_s){_s===void 0&&(_s=vs);var Es=Object.getOwnPropertyDescriptor(ws,vs);(!Es||("get"in Es?!ws.__esModule:Es.writable||Es.configurable))&&(Es={enumerable:!0,get:function(){return ws[vs]}}),Object.defineProperty(ms,_s,Es)}:function(ms,ws,vs,_s){_s===void 0&&(_s=vs),ms[_s]=ws[vs]}),et=constants$1&&constants$1.__exportStar||function(ms,ws){for(var vs in ms)vs!=="default"&&!Object.prototype.hasOwnProperty.call(ws,vs)&&t(ws,ms,vs)};Object.defineProperty(st,"__esModule",{value:!0}),et(requireValues(),st),et(requireEvents(),st)}(constants$1)),constants$1}var JsonRpcProvider={},hasRequiredJsonRpcProvider;function requireJsonRpcProvider(){if(hasRequiredJsonRpcProvider)return JsonRpcProvider;hasRequiredJsonRpcProvider=1;var st=JsonRpcProvider&&JsonRpcProvider.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(JsonRpcProvider,"__esModule",{value:!0}),JsonRpcProvider.JsonRpcProvider=void 0;const t=requireEventemitter3(),et=requireTypes$3(),ms=requireSrc$1(),ws=requireSrc$1();let vs=class extends et.IJSONRpcProvider{constructor(Es){super(Es),this.events=new t.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(Es),this.connection.connected&&this.registerEventListeners()}connect(){return st(this,arguments,void 0,function*(Es=this.connection){yield this.open(Es)})}disconnect(){return st(this,void 0,void 0,function*(){yield this.close()})}on(Es,Ts){this.events.on(Es,Ts)}once(Es,Ts){this.events.once(Es,Ts)}off(Es,Ts){this.events.off(Es,Ts)}removeListener(Es,Ts){this.events.removeListener(Es,Ts)}request(Es,Ts){return st(this,void 0,void 0,function*(){return this.requestStrict((0,ms.formatJsonRpcRequest)(Es.method,Es.params||[],(0,ms.getBigIntRpcId)().toString()),Ts)})}requestStrict(Es,Ts){return st(this,void 0,void 0,function*(){return new Promise((Ss,Rs)=>st(this,void 0,void 0,function*(){if(!this.connection.connected)try{yield this.open()}catch(Bs){Rs(Bs)}this.events.on(`${Es.id}`,Bs=>{(0,ms.isJsonRpcError)(Bs)?Rs(Bs.error):Ss(Bs.result)});try{(0,ws.logDebug)("[RPC] >>> send request",Es,Ts),yield this.connection.send(Es,Ts)}catch(Bs){Rs(Bs)}}))})}setConnection(Es=this.connection){return Es}onPayload(Es){this.events.emit("payload",Es),(0,ms.isJsonRpcResponse)(Es)?this.events.emit(`${Es.id}`,Es):this.events.emit("message",{type:Es.method,data:Es.params})}onClose(Es){Es&&Es.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${Es.code} ${Es.reason?`(${Es.reason})`:""}`)),this.events.emit("disconnect")}open(){return st(this,arguments,void 0,function*(Es=this.connection){this.connection===Es&&this.connection.connected||(this.connection.connected&&this.close(),typeof Es=="string"&&(yield this.connection.open(Es),Es=this.connection),this.connection=this.setConnection(Es),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))})}close(){return st(this,void 0,void 0,function*(){yield this.connection.close()})}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",Es=>this.onPayload(Es)),this.connection.on("close",Es=>this.onClose(Es)),this.connection.on("error",Es=>this.events.emit("error",Es)),this.connection.on("register_error",Es=>this.onClose()),this.hasRegisteredEventListeners=!0)}};return JsonRpcProvider.JsonRpcProvider=vs,JsonRpcProvider}var JsonRpcConnection={},browserPonyfill={exports:{}},hasRequiredBrowserPonyfill;function requireBrowserPonyfill(){return hasRequiredBrowserPonyfill||(hasRequiredBrowserPonyfill=1,function(st,t){var et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window,ms=function(){function vs(){this.fetch=!1,this.DOMException=et.DOMException}return vs.prototype=et,new vs}();(function(vs){(function(_s){var Es=typeof vs<"u"&&vs||typeof self<"u"&&self||typeof window<"u"&&window||{},Ts={searchParams:"URLSearchParams"in Es,iterable:"Symbol"in Es&&"iterator"in Symbol,blob:"FileReader"in Es&&"Blob"in Es&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Es,arrayBuffer:"ArrayBuffer"in Es};function Ss(Zs){return Zs&&DataView.prototype.isPrototypeOf(Zs)}if(Ts.arrayBuffer)var Rs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Bs=ArrayBuffer.isView||function(Zs){return Zs&&Rs.indexOf(Object.prototype.toString.call(Zs))>-1};function Is(Zs){if(typeof Zs!="string"&&(Zs=String(Zs)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Zs)||Zs==="")throw new TypeError('Invalid character in header field name: "'+Zs+'"');return Zs.toLowerCase()}function Ws(Zs){return typeof Zs!="string"&&(Zs=String(Zs)),Zs}function Hs(Zs){var Wa={next:function(){var Za=Zs.shift();return{done:Za===void 0,value:Za}}};return Ts.iterable&&(Wa[Symbol.iterator]=function(){return Wa}),Wa}function Ns(Zs){this.map={},Zs instanceof Ns?Zs.forEach(function(Wa,Za){this.append(Za,Wa)},this):Array.isArray(Zs)?Zs.forEach(function(Wa){if(Wa.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Wa.length);this.append(Wa[0],Wa[1])},this):Zs&&Object.getOwnPropertyNames(Zs).forEach(function(Wa){this.append(Wa,Zs[Wa])},this)}Ns.prototype.append=function(Zs,Wa){Zs=Is(Zs),Wa=Ws(Wa);var Za=this.map[Zs];this.map[Zs]=Za?Za+", "+Wa:Wa},Ns.prototype.delete=function(Zs){delete this.map[Is(Zs)]},Ns.prototype.get=function(Zs){return Zs=Is(Zs),this.has(Zs)?this.map[Zs]:null},Ns.prototype.has=function(Zs){return this.map.hasOwnProperty(Is(Zs))},Ns.prototype.set=function(Zs,Wa){this.map[Is(Zs)]=Ws(Wa)},Ns.prototype.forEach=function(Zs,Wa){for(var Za in this.map)this.map.hasOwnProperty(Za)&&Zs.call(Wa,this.map[Za],Za,this)},Ns.prototype.keys=function(){var Zs=[];return this.forEach(function(Wa,Za){Zs.push(Za)}),Hs(Zs)},Ns.prototype.values=function(){var Zs=[];return this.forEach(function(Wa){Zs.push(Wa)}),Hs(Zs)},Ns.prototype.entries=function(){var Zs=[];return this.forEach(function(Wa,Za){Zs.push([Za,Wa])}),Hs(Zs)},Ts.iterable&&(Ns.prototype[Symbol.iterator]=Ns.prototype.entries);function Js(Zs){if(!Zs._noBody){if(Zs.bodyUsed)return Promise.reject(new TypeError("Already read"));Zs.bodyUsed=!0}}function ha(Zs){return new Promise(function(Wa,Za){Zs.onload=function(){Wa(Zs.result)},Zs.onerror=function(){Za(Zs.error)}})}function pa(Zs){var Wa=new FileReader,Za=ha(Wa);return Wa.readAsArrayBuffer(Zs),Za}function za(Zs){var Wa=new FileReader,Za=ha(Wa),iu=/charset=([A-Za-z0-9_-]+)/.exec(Zs.type),au=iu?iu[1]:"utf-8";return Wa.readAsText(Zs,au),Za}function Ya(Zs){for(var Wa=new Uint8Array(Zs),Za=new Array(Wa.length),iu=0;iu<Wa.length;iu++)Za[iu]=String.fromCharCode(Wa[iu]);return Za.join("")}function Bc(Zs){if(Zs.slice)return Zs.slice(0);var Wa=new Uint8Array(Zs.byteLength);return Wa.set(new Uint8Array(Zs)),Wa.buffer}function Qa(){return this.bodyUsed=!1,this._initBody=function(Zs){this.bodyUsed=this.bodyUsed,this._bodyInit=Zs,Zs?typeof Zs=="string"?this._bodyText=Zs:Ts.blob&&Blob.prototype.isPrototypeOf(Zs)?this._bodyBlob=Zs:Ts.formData&&FormData.prototype.isPrototypeOf(Zs)?this._bodyFormData=Zs:Ts.searchParams&&URLSearchParams.prototype.isPrototypeOf(Zs)?this._bodyText=Zs.toString():Ts.arrayBuffer&&Ts.blob&&Ss(Zs)?(this._bodyArrayBuffer=Bc(Zs.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ts.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Zs)||Bs(Zs))?this._bodyArrayBuffer=Bc(Zs):this._bodyText=Zs=Object.prototype.toString.call(Zs):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof Zs=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ts.searchParams&&URLSearchParams.prototype.isPrototypeOf(Zs)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ts.blob&&(this.blob=function(){var Zs=Js(this);if(Zs)return Zs;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var Zs=Js(this);return Zs||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Ts.blob)return this.blob().then(pa);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var Zs=Js(this);if(Zs)return Zs;if(this._bodyBlob)return za(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ya(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ts.formData&&(this.formData=function(){return this.text().then(cu)}),this.json=function(){return this.text().then(JSON.parse)},this}var tu=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function eu(Zs){var Wa=Zs.toUpperCase();return tu.indexOf(Wa)>-1?Wa:Zs}function ru(Zs,Wa){if(!(this instanceof ru))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Wa=Wa||{};var Za=Wa.body;if(Zs instanceof ru){if(Zs.bodyUsed)throw new TypeError("Already read");this.url=Zs.url,this.credentials=Zs.credentials,Wa.headers||(this.headers=new Ns(Zs.headers)),this.method=Zs.method,this.mode=Zs.mode,this.signal=Zs.signal,!Za&&Zs._bodyInit!=null&&(Za=Zs._bodyInit,Zs.bodyUsed=!0)}else this.url=String(Zs);if(this.credentials=Wa.credentials||this.credentials||"same-origin",(Wa.headers||!this.headers)&&(this.headers=new Ns(Wa.headers)),this.method=eu(Wa.method||this.method||"GET"),this.mode=Wa.mode||this.mode||null,this.signal=Wa.signal||this.signal||function(){if("AbortController"in Es){var nu=new AbortController;return nu.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Za)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Za),(this.method==="GET"||this.method==="HEAD")&&(Wa.cache==="no-store"||Wa.cache==="no-cache")){var iu=/([?&])_=[^&]*/;if(iu.test(this.url))this.url=this.url.replace(iu,"$1_="+new Date().getTime());else{var au=/\?/;this.url+=(au.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ru.prototype.clone=function(){return new ru(this,{body:this._bodyInit})};function cu(Zs){var Wa=new FormData;return Zs.trim().split("&").forEach(function(Za){if(Za){var iu=Za.split("="),au=iu.shift().replace(/\+/g," "),nu=iu.join("=").replace(/\+/g," ");Wa.append(decodeURIComponent(au),decodeURIComponent(nu))}}),Wa}function ou(Zs){var Wa=new Ns,Za=Zs.replace(/\r?\n[\t ]+/g," ");return Za.split("\r").map(function(iu){return iu.indexOf(`
`)===0?iu.substr(1,iu.length):iu}).forEach(function(iu){var au=iu.split(":"),nu=au.shift().trim();if(nu){var uu=au.join(":").trim();try{Wa.append(nu,uu)}catch(fu){console.warn("Response "+fu.message)}}}),Wa}Qa.call(ru.prototype);function Ga(Zs,Wa){if(!(this instanceof Ga))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Wa||(Wa={}),this.type="default",this.status=Wa.status===void 0?200:Wa.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Wa.statusText===void 0?"":""+Wa.statusText,this.headers=new Ns(Wa.headers),this.url=Wa.url||"",this._initBody(Zs)}Qa.call(Ga.prototype),Ga.prototype.clone=function(){return new Ga(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ns(this.headers),url:this.url})},Ga.error=function(){var Zs=new Ga(null,{status:200,statusText:""});return Zs.ok=!1,Zs.status=0,Zs.type="error",Zs};var Xa=[301,302,303,307,308];Ga.redirect=function(Zs,Wa){if(Xa.indexOf(Wa)===-1)throw new RangeError("Invalid status code");return new Ga(null,{status:Wa,headers:{location:Zs}})},_s.DOMException=Es.DOMException;try{new _s.DOMException}catch{_s.DOMException=function(Wa,Za){this.message=Wa,this.name=Za;var iu=Error(Wa);this.stack=iu.stack},_s.DOMException.prototype=Object.create(Error.prototype),_s.DOMException.prototype.constructor=_s.DOMException}function Fa(Zs,Wa){return new Promise(function(Za,iu){var au=new ru(Zs,Wa);if(au.signal&&au.signal.aborted)return iu(new _s.DOMException("Aborted","AbortError"));var nu=new XMLHttpRequest;function uu(){nu.abort()}nu.onload=function(){var Eu={statusText:nu.statusText,headers:ou(nu.getAllResponseHeaders()||"")};au.url.indexOf("file://")===0&&(nu.status<200||nu.status>599)?Eu.status=200:Eu.status=nu.status,Eu.url="responseURL"in nu?nu.responseURL:Eu.headers.get("X-Request-URL");var $u="response"in nu?nu.response:nu.responseText;setTimeout(function(){Za(new Ga($u,Eu))},0)},nu.onerror=function(){setTimeout(function(){iu(new TypeError("Network request failed"))},0)},nu.ontimeout=function(){setTimeout(function(){iu(new TypeError("Network request timed out"))},0)},nu.onabort=function(){setTimeout(function(){iu(new _s.DOMException("Aborted","AbortError"))},0)};function fu(Eu){try{return Eu===""&&Es.location.href?Es.location.href:Eu}catch{return Eu}}if(nu.open(au.method,fu(au.url),!0),au.credentials==="include"?nu.withCredentials=!0:au.credentials==="omit"&&(nu.withCredentials=!1),"responseType"in nu&&(Ts.blob?nu.responseType="blob":Ts.arrayBuffer&&(nu.responseType="arraybuffer")),Wa&&typeof Wa.headers=="object"&&!(Wa.headers instanceof Ns||Es.Headers&&Wa.headers instanceof Es.Headers)){var hu=[];Object.getOwnPropertyNames(Wa.headers).forEach(function(Eu){hu.push(Is(Eu)),nu.setRequestHeader(Eu,Ws(Wa.headers[Eu]))}),au.headers.forEach(function(Eu,$u){hu.indexOf($u)===-1&&nu.setRequestHeader($u,Eu)})}else au.headers.forEach(function(Eu,$u){nu.setRequestHeader($u,Eu)});au.signal&&(au.signal.addEventListener("abort",uu),nu.onreadystatechange=function(){nu.readyState===4&&au.signal.removeEventListener("abort",uu)}),nu.send(typeof au._bodyInit>"u"?null:au._bodyInit)})}return Fa.polyfill=!0,Es.fetch||(Es.fetch=Fa,Es.Headers=Ns,Es.Request=ru,Es.Response=Ga),_s.Headers=Ns,_s.Request=ru,_s.Response=Ga,_s.fetch=Fa,Object.defineProperty(_s,"__esModule",{value:!0}),_s})({})})(ms),ms.fetch.ponyfill=!0,delete ms.fetch.polyfill;var ws=et.fetch?et:ms;t=ws.fetch,t.default=ws.fetch,t.fetch=ws.fetch,t.Headers=ws.Headers,t.Request=ws.Request,t.Response=ws.Response,st.exports=t}(browserPonyfill,browserPonyfill.exports)),browserPonyfill.exports}var hasRequiredJsonRpcConnection;function requireJsonRpcConnection(){if(hasRequiredJsonRpcConnection)return JsonRpcConnection;hasRequiredJsonRpcConnection=1;var st=JsonRpcConnection&&JsonRpcConnection.__awaiter||function(Rs,Bs,Is,Ws){function Hs(Ns){return Ns instanceof Is?Ns:new Is(function(Js){Js(Ns)})}return new(Is||(Is=Promise))(function(Ns,Js){function ha(Ya){try{za(Ws.next(Ya))}catch(Bc){Js(Bc)}}function pa(Ya){try{za(Ws.throw(Ya))}catch(Bc){Js(Bc)}}function za(Ya){Ya.done?Ns(Ya.value):Hs(Ya.value).then(ha,pa)}za((Ws=Ws.apply(Rs,Bs||[])).next())})},t=JsonRpcConnection&&JsonRpcConnection.__importDefault||function(Rs){return Rs&&Rs.__esModule?Rs:{default:Rs}};Object.defineProperty(JsonRpcConnection,"__esModule",{value:!0}),JsonRpcConnection.JsonRpcConnection=void 0;const et=requireEventemitter3(),ms=t(requireBrowserPonyfill()),ws=requireSrc$1(),vs=requireSrc$1(),Ts={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};let Ss=class{constructor(Bs,Is=!1){if(this.url=Bs,this.disableProviderPing=Is,this.events=new et.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,vs.isHttpUrl)(Bs))throw new Error(`Provided URL is not compatible with HTTP connection: ${Bs}`);this.url=Bs,this.disableProviderPing=Is}get connected(){return this.isAvailable}get connecting(){return this.registering}on(Bs,Is){this.events.on(Bs,Is)}once(Bs,Is){this.events.once(Bs,Is)}off(Bs,Is){this.events.off(Bs,Is)}removeListener(Bs,Is){this.events.removeListener(Bs,Is)}open(){return st(this,arguments,void 0,function*(Bs=this.url){yield this.register(Bs)})}close(){return st(this,void 0,void 0,function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()})}send(Bs){return st(this,void 0,void 0,function*(){this.isAvailable||(yield this.register());try{const Is=(0,ws.safeJsonStringify)(Bs),Hs=yield(yield(0,ms.default)(this.url,Object.assign(Object.assign({},Ts),{body:Is}))).json();this.onPayload({data:Hs})}catch(Is){this.onError(Bs.id,Is)}})}register(){return st(this,arguments,void 0,function*(Bs=this.url){if(!(0,vs.isHttpUrl)(Bs))throw new Error(`Provided URL is not compatible with HTTP connection: ${Bs}`);if(this.registering)return new Promise((Is,Ws)=>{this.events.once("register_error",Hs=>{Ws(Hs)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return Ws(new Error("HTTP connection is missing or invalid"));Is()})});this.url=Bs,this.registering=!0;try{if(!this.disableProviderPing){const Is=(0,ws.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,ms.default)(Bs,Object.assign(Object.assign({},Ts),{body:Is}))}this.onOpen()}catch(Is){const Ws=this.parseError(Is);throw this.events.emit("register_error",Ws),this.onClose(),Ws}})}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(Bs){if(typeof Bs.data>"u")return;const Is=typeof Bs.data=="string"?(0,ws.safeJsonParse)(Bs.data):Bs.data;this.events.emit("payload",Is)}onError(Bs,Is){const Ws=this.parseError(Is),Hs=Ws.message||Ws.toString(),Ns=(0,vs.formatJsonRpcError)(Bs,Hs);this.events.emit("payload",Ns)}parseError(Bs,Is=this.url){return(0,vs.parseConnectionError)(Bs,Is,"HTTP")}};return JsonRpcConnection.JsonRpcConnection=Ss,JsonRpcConnection}var hasRequiredEip155;function requireEip155(){if(hasRequiredEip155)return eip155;hasRequiredEip155=1;var st=eip155&&eip155.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(eip155,"__esModule",{value:!0}),eip155.Eip155Provider=void 0;const t=requireUtils$2(),et=requireConstants$1(),ms=requireSrc$1(),ws=requireJsonRpcProvider(),vs=requireJsonRpcConnection();class _s{constructor(Ts,Ss,Rs){this.name="eip155",this.namespace=Ts.namespace,this.events=Rs,this.client=Ss,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,ms.logDebug)("eip155 constructor --opts.namespace-->",Ts.namespace)}isRecord(Ts){return typeof Ts=="object"&&Ts!==null&&!Array.isArray(Ts)}isArray(Ts){return typeof Ts=="object"&&Ts!==null&&Array.isArray(Ts)}updateRequestParams(Ts){let Ss=Ts.params&&typeof Ts.params=="object"&&!Array.isArray(Ts.params);if(Ts.method==="wallet_switchEthereumChain"){const Rs=Ts.chainId.split(":")[1],Bs=parseInt(Rs,10);if(isNaN(Bs))throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${Rs}' `);if(!Ts.params)Ts.params={chainId:"0x"+Bs.toString(16)};else if(Ss){let Is=Ts.params;"chainId"in Is||(Is.chainId="0x"+Bs.toString(16),Ts.params=Is)}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${Ts.method}' `)}else if(Ts.method==="personal_sign"||Ts.method==="eth_signTypedData_v4"||Ts.method==="eth_sendTransaction"||Ts.method==="wallet_watchAsset"){if(!Ts.params)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${Ts.method}'`);if(this.isRecord(Ts.params)){let Rs=Ts.params;if((0,ms.logDebug)("eip155 updateRequestParams params>",JSON.stringify(Rs)),"chainId"in Rs){const Bs=Ts.chainId.split(":")[1],Is=parseInt(Bs,10);let Ws=String(Rs.chainId),Hs;if(Ws.startsWith(this.name)&&Ts.chainId===Ws)Hs=Is;else if(Ws.startsWith("0x"))Hs=parseInt(Ws,16);else if(!isNaN(Number(Ws)))Hs=parseInt(Ws,10);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${Ts.method}'`);if(Is!==Hs)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${Ts.method}' `)}}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${Ts.method}'`)}}adaptArray(Ts){if(Ts.method==="wallet_switchEthereumChain"||Ts.method==="wallet_addEthereumChain"||Ts.method==="wallet_watchAsset"||Ts.method==="eth_sendTransaction"||Ts.method==="kaia_signTransaction"||Ts.method==="klay_signTransaction"){if(this.isArray(Ts.params)){let Ss=Ts.params;if(Ss)if(Ss.length===1){let Rs=Ts.params[0];this.isRecord(Rs)&&(Ts.params=Rs)}else throw Ss.length>1?new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${Ts.method}' `):new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${Ts.method}' `)}}else if(Ts.method==="eth_signTypedData_v4"){if(this.isArray(Ts.params)){let Ss=Ts.params;if(Ss&&Ss.length>2)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${Ts.method}' `);if(Ss&&Ss.length===0)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${Ts.method}' `);let Rs={};if(Ss&&Ss.length===2){let Bs=Ts.params[0];if(Bs&&typeof Bs=="string"){let Is=!1;if(this.namespace.accounts.forEach(Ws=>{(0,t.fromAccountToAddress)(Ws).toLowerCase()===Bs.toLowerCase()&&(Is=!0)}),(0,ms.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",Is),!Is)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${Ts.method}' `);if(this.isRecord(Ts.params[1]))Rs=Ts.params[1];else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${Ts.method}' `)}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${Ts.method}' `)}else if(Ss&&Ss.length===1)if(this.isRecord(Ts.params[0]))Rs=Ts.params[0];else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${Ts.method}' `);try{let Bs=JSON.stringify(Rs);Ts.params={typedDataJson:Bs}}catch{throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${Ts.method}' `)}}}else if(Ts.method==="personal_sign"&&this.isArray(Ts.params)){if(Ts.params&&Ts.params.length>2)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${Ts.method}' `);if(Ts.params&&Ts.params.length===0)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${Ts.method}' `);let Ss=Ts.params[0],Rs=Ts.params[1];if(Rs&&typeof Rs=="string"){let Bs=!1;if(this.namespace.accounts.forEach(Is=>{(0,t.fromAccountToAddress)(Is).toLowerCase()===Rs.toLowerCase()&&(Bs=!0)}),(0,ms.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",Bs),!Bs)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${Ts.method}' `)}if(Ss&&typeof Ss=="string")Ts.params={message:Ss};else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${Ts.method}' `)}}showRequestModal(Ts){switch(Ts.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(Ts),this.updateRequestParams(Ts);const{parsedChainId:Ss,hexChainId:Rs}=this.getHexChainIdFromRequest(Ts);return!this.isChainApproved(Ss)}default:return!1}return!1}configAddressAdaptInjectWallet(Ts){this.namespace.accounts.forEach(Ss=>{Ss.includes(Ts.chainId)&&(Ts.address=(0,t.fromAccountToAddress)(Ss))})}request(Ts){return st(this,void 0,void 0,function*(){if(Ts.method==="eth_signLegacy"||Ts.method==="eth_sign")throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`${Ts.method} method not supported`);switch(Ts.injectParams=Ts.params,this.adaptArray(Ts),this.client.needCheckRequestMethod()&&Ts.method==="klay_signTransaction"&&(Ts.method="kaia_signTransaction"),(0,ms.logDebug)("eip155 request --args--string>",JSON.stringify(Ts)),this.updateRequestParams(Ts),(0,ms.logDebug)("eip155 request --params--string>",JSON.stringify(Ts)),this.configAddressAdaptInjectWallet(Ts),Ts.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(Ts);case"wallet_addEthereumChain":return this.addEthereumChain(Ts)}if(!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method)){if(this.client.needCheckRequestMethod()&&(Ts.method==="eth_sendTransaction"||Ts.method==="kaia_signTransaction"))try{if(Ts.params&&typeof Ts.params=="object"&&!Array.isArray(Ts.params)){const Ss=Ts.params;typeof Ss.input=="string"&&Ss.input.trim()!==""?!Ss.data||typeof Ss.data=="string"&&Ss.data.trim()===""?(Ss.data=Ss.input,(0,ms.logDebug)("eip155 sendTransaction:  replace data with input")):(0,ms.logDebug)("eip155 sendTransaction:  data not empty"):(0,ms.logDebug)("eip155 sendTransaction:  input empty")}}catch{(0,ms.logDebug)("eip155 sendTransaction:  replace error")}try{const Ss=yield this.client.request(Ts);if((0,ms.logDebug)("eip155 request --response----string>",JSON.stringify(Ss)),this.isRecord(Ss)&&"result"in Ss){let Rs=Ss.result;return Rs&&typeof Rs=="string"&&(Rs==="true"||Rs==="false")?((0,ms.logDebug)("eip155 request --wallet_watchAsset>>>>",Rs==="true"),Rs==="true"):Ss.result}return Ss}catch(Ss){throw(0,ms.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${Ss instanceof ms.OKXConnectError}`,JSON.stringify(Ss)),Ss}}else return(0,ms.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(Ts)})}addEthereumChain(Ts){return st(this,void 0,void 0,function*(){let Ss=yield this.client.request(Ts);try{if("result"in Ss){let Rs=Ss,Bs=Ss.result;if(Bs){const Is=Bs.split(":")[0],Ws=Bs.split(":")[1],Hs=Is+":"+Ws;let Ns=this.namespace;if(this.namespace.accounts.push(Bs),this.namespace.chains.push(Hs),this.isRecord(Ts.params)&&"rpcUrls"in Ts.params){let Js=Ts.params.rpcUrls,ha=Js?Js[0]:void 0;ha&&(this.namespace.rpcMap?this.namespace.rpcMap[Ws]=ha:this.namespace.rpcMap={[Ws]:ha},this.setHttpProvider(Ws,ha))}this.events.emit(et.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${Ts.method} request error`)}catch{throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${Ts.method} request  error`)}return null})}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}setDefaultChain(Ts,Ss){if(this.chainId=parseInt(Ts),!this.httpProviders[Ts]){const Rs=Ss||(0,t.getRpcUrl)(`${this.name}:${Ts}`,this.namespace);Rs?this.setHttpProvider(Ts,Rs):(0,ms.logDebug)(`No RPC url provided for chainId: ${Ts}`)}this.events.emit(et.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return(0,ms.logDebug)("eip155 getAccounts ",Ts,this.chainId),Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>(0,t.fromAccountToAddress)(Ss)))]:[]}getHexChainIdFromRequest(Ts){let Ss=Ts.params,Rs="0x0";Ss&&"chainId"in Ss&&(Rs=Ss.chainId),Rs=Rs.startsWith("0x")?Rs:`0x${Rs}`,(0,ms.logDebug)("handleSwitchChain -->args ",Ts),(0,ms.logDebug)("handleSwitchChain -->hexChainId ",Rs);const Bs=parseInt(Rs,16);return(0,ms.logDebug)("handleSwitchChain -->parsedChainId ",Bs),{parsedChainId:Bs,hexChainId:Rs}}handleSwitchChain(Ts){return st(this,void 0,void 0,function*(){const{parsedChainId:Ss,hexChainId:Rs}=this.getHexChainIdFromRequest(Ts);if(this.isChainApproved(Ss))this.setDefaultChain(`${Ss}`);else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,`the method ${Ts.method} request  error`)})}isChainApproved(Ts){return this.namespace.chains.includes(`${this.name}:${Ts}`)}createHttpProvider(Ts,Ss){const Rs=Ss;if(!Rs)(0,ms.logDebug)(`No RPC url provided for chainId: ${Ts}`);else return new ws.JsonRpcProvider(new vs.JsonRpcConnection(Rs,(0,t.getGlobal)("disableProviderPing")))}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,t.getChainId)(Ss),Bs=(0,t.getRpcUrl)(Ss,this.namespace);(0,ms.logDebug)("get parsed chain and rpc:",Rs,Bs);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),(0,ms.logDebug)("get http providermap:",Ts),Ts}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if((0,ms.logDebug)("[RPC] get http provider:",Ts,Ss),typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}}return eip155.Eip155Provider=_s,eip155.default=_s,eip155}var sui={},hasRequiredSui;function requireSui(){if(hasRequiredSui)return sui;hasRequiredSui=1;var st=sui&&sui.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(sui,"__esModule",{value:!0}),sui.SuiProvider=void 0;const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs){this.name=et.NameSpaceKeySui,this.namespace=Ts.namespace,this.events=Rs,this.client=Ss,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}request(Ts){return st(this,void 0,void 0,function*(){if((0,et.logDebug)("sui request --args--string>",JSON.stringify(Ts)),(0,et.logDebug)("sui provider namespace: ",this.namespace),Ts.injectParams){if("chain"in Ts&&et.SUI_CHAINS.MAINNET!=Ts.chain)throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);if(Ts.injectParams.chain=et.SUI_CHAINS.MAINNET,"account"in Ts&&Ts.account.address!=this.getAccounts[0])throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);Ts.injectParams.account={address:this.getAccounts()[0]}}return!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method)?this.client.request(Ts):this.getHttpProvider().request(Ts)})}requestAccounts(){return this.getAccounts()}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if((0,et.logDebug)("[RPC] get http provider:",Ts,Ss),typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&((0,et.logDebug)("setHttpProvider",Ts,Ss),this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(!Rs)(0,et.logDebug)(`No RPC url provided for chainId: ${Ts}`);else return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}getPubkey(Ts){return this.getWalletAddress(Ts)}getWalletAddress(Ts){return Ts||(Ts=this.namespace.defaultChain,Ts?.startsWith("sui")||(Ts=`sui:${Ts}`)),this.namespace.accounts.filter(function(Ss){return Ss.split(":").length>2&&Ss.startsWith(Ts)}).map(function(Ss){return Ss.split(":")[2]})[0]}showRequestModal(Ts){switch(Ts.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}return sui.SuiProvider=_s,sui.default=_s,sui}var client={},namespaces={},hasRequiredNamespaces;function requireNamespaces(){if(hasRequiredNamespaces)return namespaces;hasRequiredNamespaces=1,Object.defineProperty(namespaces,"__esModule",{value:!0}),namespaces.getAccountsChains=t,namespaces.nameSpaceToConnectWalletNameSpace=et,namespaces.fillParamsToSession=ms,namespaces.isCaipNamespace=vs,namespaces.parseNamespaceKey=_s;const st=requireSrc$1();function t(Es){const Ts=[];return Es.forEach(Ss=>{const[Rs,Bs]=Ss.split(":");Ts.push(`${Rs}:${Bs}`)}),Ts}function et(Es){var Ts=[];return Es&&Object.keys(Es).forEach(Ss=>{(Ss===st.NameSpaceKeyEip155||Ss===st.NameSpaceKeySOL||Ss===st.NameSpaceKeySui||Ss===st.NameSpaceKeyAptos||Ss==st.NameSpaceKeyBtc||Ss===st.NameSpaceKeyTON||Ss===st.NameSpaceKeyCosmos||Ss===st.NameSpaceKeyTron||Ss===st.NameSpaceKeyStarknet)&&Es[Ss].chains&&Ts.push({namespace:Ss,chains:Es[Ss].chains,params:Es[Ss].params})}),Ts}function ms(Es,Ts,Ss,Rs){const Bs=(Ws,Hs)=>{Object.assign(Ws,Hs)},Is=(Ws,Hs)=>{for(const Ns in Hs)Hs.hasOwnProperty(Ns)&&Hs[Ns].rpcMap&&(Hs[Ns].rpcMap&&(Ws[Ns].rpcMap||(Ws[Ns].rpcMap={}),Bs(Ws[Ns].rpcMap,Hs[Ns].rpcMap)),Hs[Ns].defaultChain&&Ws[Ns].defaultChain===void 0&&Ws[Ns].chains.some(Js=>Js.split(":")[1]===Hs[Ns].defaultChain)&&(Ws[Ns].defaultChain=Hs[Ns].defaultChain))};Ts&&Is(Es.namespaces,Ts),Ss&&Is(Es.namespaces,Ss);for(const Ws in Es.namespaces){const Hs=Es.namespaces[Ws];(!Hs?.accounts||Hs.accounts.length===0)&&delete Es.namespaces[Ws]}Es.namespaces[st.NameSpaceKeyBtc]&&Es.wallet.appName===st.OKXWalletName&&ws(Es.namespaces[st.NameSpaceKeyBtc]),Es.sessionConfig=Rs}function ws(Es){try{if(Es&&Es.extra){var Ts=Es.extra;Object.keys(Ts).forEach(Ss=>{const Rs=Ts[Ss];Number(Rs.addressType)===6?Rs.publicKey=Rs.compressedPublicKey.slice(2):Rs.publicKey=Rs.compressedPublicKey})}}catch{(0,st.logDebug)("namespaces fixMobileBtcSession error")}}function vs(Es){return Es.includes(":")}function _s(Es){return vs(Es)?Es.split(":")[0]:Es}return namespaces}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var st=client&&client.__awaiter||function(_s,Es,Ts,Ss){function Rs(Bs){return Bs instanceof Ts?Bs:new Ts(function(Is){Is(Bs)})}return new(Ts||(Ts=Promise))(function(Bs,Is){function Ws(Js){try{Ns(Ss.next(Js))}catch(ha){Is(ha)}}function Hs(Js){try{Ns(Ss.throw(Js))}catch(ha){Is(ha)}}function Ns(Js){Js.done?Bs(Js.value):Rs(Js.value).then(Ws,Hs)}Ns((Ss=Ss.apply(_s,Es||[])).next())})};Object.defineProperty(client,"__esModule",{value:!0}),client.SignClient=void 0;const t=requireSrc$1(),et=requireNamespaces(),ms=requireConnectMethodUtils(),ws=requireConstants$1();class vs extends t.ISignClient{constructor(Es,Ts,Ss){super(Es),this.connect=Rs=>st(this,void 0,void 0,function*(){return new Promise((Bs,Is)=>st(this,void 0,void 0,function*(){try{var Ws=[];(0,t.logDebug)("client connect params >>>",JSON.stringify(Rs));var Hs={name:"requestAccounts",requiredNamespaces:(0,et.nameSpaceToConnectWalletNameSpace)(Rs.namespaces),optionalNamespaces:(0,et.nameSpaceToConnectWalletNameSpace)(Rs.optionalNamespaces)};this.engine.setSessionConnectingListener(()=>{(0,t.logDebug)("sessionConnectingListener >>>"),this.events.emit(ws.PROVIDER_EVENTS.SESSION_CONNECTING)}),Rs.signRequest&&(Hs.connectRequestMethods=yield(0,ms.connectMethodsToConnectWalletMethods)(Rs.signRequest,Hs.requiredNamespaces)),Ws.push(Hs),(0,t.logDebug)("client connect connectRequest >>>",JSON.stringify(Ws)),this.engine.universalConnect(Ws,Object.assign({dappInfo:this.metadata},Rs.sessionConfig),Ns=>{Ns&&Ns.connectRequest&&((0,t.logDebug)("universalConect info.connectRequest :",Ns.connectRequest),(0,t.logDebug)("universalConect url:",(0,t.getOKXLink)(Ns.connectRequest,this.sessionConfig.useMini)),this.events.emit("display_uri",(0,t.getOKXLink)(Ns.connectRequest,this.sessionConfig.useMini).universalLink),this.events.emit("short_display_uri",(0,t.getAppWalletShortDeepLink)(Ns.connectRequest.topic,Ns.connectRequest.clientId)),(0,t.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(Ns)}`),this.events.emit("okx_engine_connect_params",Ns))}).then(Ns=>st(this,void 0,void 0,function*(){(0,et.fillParamsToSession)(Ns,Rs.namespaces,Rs.optionalNamespaces,this.sessionConfig),(0,t.logDebug)(`signClient: connect: session ${JSON.stringify(Ns)}`),Rs.signRequest&&(yield(0,ms.connectMethodsResponseUpdate)(Ns,Rs.signRequest)),Bs(Ns)})).catch(Ns=>{(0,t.logDebug)(`signClient: connect: catch ${JSON.stringify(Ns)}`),this.events.emit("connect_error",Ns),Is(Ns)})}catch(Ns){(0,t.logDebug)(`signClient: connect:  ${JSON.stringify(Ns)}`),Is(Ns)}}))}),this.restoreconnect=Rs=>st(this,void 0,void 0,function*(){return new Promise((Bs,Is)=>{this.engine.restoreconnect(Rs,Ws=>{Ws?Bs(Ws):Is()})})}),this.reject=Rs=>st(this,void 0,void 0,function*(){}),this.request=Rs=>st(this,void 0,void 0,function*(){return new Promise((Bs,Is)=>st(this,void 0,void 0,function*(){var Ws,Hs;(0,t.logDebug)("clint request --params>>>> >",(Ws=this.sessionConfig)===null||Ws===void 0?void 0:Ws.openUniversalUrl,(0,t.safeJsonStringify)(Rs));try{!((Hs=this.sessionConfig)===null||Hs===void 0)&&Hs.openUniversalUrl&&(0,t.isIos)()&&this.openOKXWallet(),yield this.engine.send(Rs,{resolve:Ns=>{if(delete Ns.requestId,(0,t.logDebug)("clint request --response >",(0,t.safeJsonStringify)(Ns)),"error"in Ns&&Ns.error){let Js=Ns.error;Is(new t.OKXConnectError(Ns.error.code,Ns.method+":"+Js.message))}else Bs(Ns)},onAck:()=>{var Ns;!(0,t.isIos)()&&(!((Ns=this.sessionConfig)===null||Ns===void 0)&&Ns.openUniversalUrl)&&this.openOKXWallet()}})}catch(Ns){(0,t.logDebug)("clint request --error:",Ns),Is(Ns)}}))}),this.disconnect=()=>st(this,void 0,void 0,function*(){return new Promise((Rs,Bs)=>{this.engine.send({method:"disconnect"},{onAck:()=>{Rs()}},864e5).catch(Is=>{console.log(`disconnect : ${JSON.stringify(Is)}`),Bs(Is)})})}),this.engine=new t.Engine(Es.name),this.events=Ts,this.metadata=Es,this.openAppLineType=Ss??t.OpenAppLinkType.UniversalLink}setAccountChangeListener(Es){this.engine.setAccountChangeListener(Es)}openOKXWallet(){(0,t.logDebug)("bridge-provider ==>> connect_5"),this.engine.openWallet({tmaReturnUrl:this.sessionConfig.tmaReturnUrl},null,this.openAppLineType)}syncAllAddress(){return st(this,void 0,void 0,function*(){return new Promise((Es,Ts)=>{this.engine.send({method:"sync_all_addresses"},{resolve:Ss=>{if(delete Ss.requestId,(0,t.logDebug)("clint syncAllAddress --response >",JSON.stringify(Ss)),"error"in Ss&&Ss.error){let Rs=Ss.error;Ts(new t.OKXConnectError(Ss.error.code,Ss.method+":"+Rs.message))}else{let Rs=Ss.result;Es((0,ms.syncResoonseToRequire)(Rs))}}}).catch(Ss=>{console.log(`disconnect : ${JSON.stringify(Ss)}`),Ts(Ss)})})})}registerConnector(Es){this.engine.registerConnector(Es)}openWallet(Es,Ts){this.engine.openWallet(Es,Ts,this.openAppLineType)}setConnectConnector(Es){this.engine.setConnectConnector(Es)}needCheckRequestMethod(){try{return!Object.values(t.CONNECTOR_TYPE.INJECT).includes(this.engine.getConnector().getType())&&!Object.values(t.CONNECTOR_TYPE.KEYLESS).includes(this.engine.getConnector().getType())}catch{return!0}}}return client.SignClient=vs,client}var solana={},hasRequiredSolana;function requireSolana(){if(hasRequiredSolana)return solana;hasRequiredSolana=1;var st=solana&&solana.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(solana,"__esModule",{value:!0}),solana.SolanaProvider=void 0;const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs,Bs){this.name="solana",this.namespace=Ts.namespace,this.events=Bs,this.client=Rs,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=Ss}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}requestAccounts(){return this.getAccounts()}request(Ts){return st(this,void 0,void 0,function*(){if((0,et.logDebug)("solana request --args--string>",JSON.stringify(Ts)),(0,et.logDebug)("solana provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method))return this.client.request(Ts);throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if(typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(Rs)return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}getPubkey(Ts){return this.getWalletAddress(Ts)}getWalletAddress(Ts){return Ts||(Ts=this.namespace.defaultChain,Ts?.startsWith("solana")||(Ts=`solana:${Ts}`)),this.namespace.accounts.filter(function(Ss){return Ss.split(":").length>2&&Ss.startsWith(Ts)}).map(function(Ss){return Ss.split(":")[2]})[0]}showRequestModal(Ts){return!0}}return solana.SolanaProvider=_s,solana.default=_s,solana}var btc={},hasRequiredBtc;function requireBtc(){if(hasRequiredBtc)return btc;hasRequiredBtc=1;var st=btc&&btc.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(btc,"__esModule",{value:!0});const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs,Bs){this.name=et.NameSpaceKeyBtc,this.namespace=Ts.namespace,this.events=Bs,this.client=Rs,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=Ss}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}requestAccounts(){return this.getAccounts()}request(Ts){return st(this,void 0,void 0,function*(){return(0,et.logDebug)("btc request --args--string>",JSON.stringify(Ts)),(0,et.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method)?this.client.request(Ts):this.getHttpProvider().request(Ts)})}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if(typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(!Rs)(0,et.logDebug)(`No RPC url provided for chainId: ${Ts}`);else return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}showRequestModal(Ts){return!0}}return btc.default=_s,btc}var aptos={},hasRequiredAptos;function requireAptos(){if(hasRequiredAptos)return aptos;hasRequiredAptos=1;var st=aptos&&aptos.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(aptos,"__esModule",{value:!0});const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs,Bs){this.name="aptos",this.namespace=Ts.namespace,this.events=Bs,this.client=Rs,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=Ss}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}requestAccounts(){return this.getAccounts()}request(Ts){return st(this,void 0,void 0,function*(){if((0,et.logDebug)("aptos request --args--string>",(0,et.safeJsonStringify)(Ts)),(0,et.logDebug)("aptos provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method))return this.client.request(Ts);throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if(typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(Rs)return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}showRequestModal(Ts){return!0}}return aptos.default=_s,aptos}var ton={},hasRequiredTon;function requireTon(){if(hasRequiredTon)return ton;hasRequiredTon=1;var st=ton&&ton.__awaiter||function(Ts,Ss,Rs,Bs){function Is(Ws){return Ws instanceof Rs?Ws:new Rs(function(Hs){Hs(Ws)})}return new(Rs||(Rs=Promise))(function(Ws,Hs){function Ns(pa){try{ha(Bs.next(pa))}catch(za){Hs(za)}}function Js(pa){try{ha(Bs.throw(pa))}catch(za){Hs(za)}}function ha(pa){pa.done?Ws(pa.value):Is(pa.value).then(Ns,Js)}ha((Bs=Bs.apply(Ts,Ss||[])).next())})},t=ton&&ton.__rest||function(Ts,Ss){var Rs={};for(var Bs in Ts)Object.prototype.hasOwnProperty.call(Ts,Bs)&&Ss.indexOf(Bs)<0&&(Rs[Bs]=Ts[Bs]);if(Ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Is=0,Bs=Object.getOwnPropertySymbols(Ts);Is<Bs.length;Is++)Ss.indexOf(Bs[Is])<0&&Object.prototype.propertyIsEnumerable.call(Ts,Bs[Is])&&(Rs[Bs[Is]]=Ts[Bs[Is]]);return Rs};Object.defineProperty(ton,"__esModule",{value:!0});const et=requireConstants$1(),ms=requireSrc$1(),ws=requireUtils$2(),vs=requireJsonRpcConnection(),_s=requireJsonRpcProvider();class Es{constructor(Ss,Rs,Bs){this.name=ms.NameSpaceKeyTON,this.namespace=Ss.namespace,this.events=Bs,this.client=Rs,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Ss){this.namespace=Object.assign(this.namespace,Ss)}isRecord(Ss){return typeof Ss=="object"&&Ss!==null&&!Array.isArray(Ss)}request(Ss){return st(this,void 0,void 0,function*(){var Rs,Bs,Is,Ws;if((0,ms.logDebug)("TONProvider request --args--string>",JSON.stringify(Ss)),(0,ms.logDebug)("TONProvider request provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ss.method)){if(!Ss.params)throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(Ss.params)){const Hs=Ss.params,{validUntil:Ns}=Hs,Js=t(Hs,["validUntil"]);let ha=(Bs=(Rs=this.namespace.payload)===null||Rs===void 0?void 0:Rs.ton_addr)===null||Bs===void 0?void 0:Bs.address;"from"in Js&&(ha=Js.from||((Ws=(Is=this.namespace.payload)===null||Is===void 0?void 0:Is.ton_addr)===null||Ws===void 0?void 0:Ws.address)),Ss.params.from=ha,Ss.params.network=this.getDefaultChain(),Ss.params.valid_until=Ns;let pa=yield this.client.request(Ss);if(this.isRecord(pa)&&"result"in pa){const za={boc:pa.result.toString()};return(0,ms.logDebug)("TONProvider request provider response: ",JSON.stringify(pa)),(0,ms.logDebug)("TONProvider request provider result: ",JSON.stringify(za)),za}throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}else throw new ms.OKXConnectError(ms.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(Ss)})}requestAccounts(){return this.getAccounts()}setDefaultChain(Ss,Rs){this.httpProviders[Ss]||this.setHttpProvider(Ss,Rs),this.chainId=Ss,this.events.emit(et.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ss}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ss=this.namespace.chains[0];if(!Ss)throw new Error("ChainId not found");return Ss.split(":")[1]}getAccounts(){var Ss,Rs;const Bs=this.namespace.accounts;if((0,ms.logDebug)("ton getAccounts accounts :",Bs),(0,ms.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!Bs)return[];let Is=(Rs=(Ss=this.namespace.payload)===null||Ss===void 0?void 0:Ss.ton_addr)===null||Rs===void 0?void 0:Rs.address;return(0,ms.logDebug)("ton getAccounts address :",Is),Is?[Is]:[]}createHttpProviders(){const Ss={};return this.namespace.chains.forEach(Rs=>{const Bs=(0,ws.getChainId)(Rs),Is=(0,ws.getRpcUrl)(Rs,this.namespace);let Ws=this.createHttpProvider(Bs,Is);Ws&&(Ss[Bs]=Ws)}),Ss}getHttpProvider(){const Ss=`${this.chainId}`,Rs=this.httpProviders[Ss];if((0,ms.logDebug)("[RPC] get http provider:",Ss,Rs),typeof Rs>"u")throw new Error(`JSON-RPC provider for ${Ss} not found`);return Rs}setHttpProvider(Ss,Rs){const Bs=this.createHttpProvider(Ss,Rs);Bs&&((0,ms.logDebug)("setHttpProvider",Ss,Rs),this.httpProviders[Ss]=Bs)}createHttpProvider(Ss,Rs){const Bs=Rs;if(!Bs)(0,ms.logDebug)(`No RPC url provided for chainId: ${Ss}`);else return new _s.JsonRpcProvider(new vs.JsonRpcConnection(Bs,(0,ws.getGlobal)("disableProviderPing")))}showRequestModal(Ss){switch(Ss.method){case"ton_sendTransaction":return!0;default:return!1}}}return ton.default=Es,ton}var cosmos={},hasRequiredCosmos;function requireCosmos(){if(hasRequiredCosmos)return cosmos;hasRequiredCosmos=1;var st=cosmos&&cosmos.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(cosmos,"__esModule",{value:!0});const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs){this.name=et.NameSpaceKeyCosmos,this.namespace=Ts.namespace,this.events=Rs,this.client=Ss,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}requestAccounts(){return this.getAccounts()}request(Ts){return st(this,void 0,void 0,function*(){if((0,et.logDebug)("cosmos request --args--string>",JSON.stringify(Ts)),(0,et.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method))return this.client.request(Ts);throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if(typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(Rs)return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}showRequestModal(Ts){return!0}}return cosmos.default=_s,cosmos}var tron$1={},hasRequiredTron;function requireTron(){if(hasRequiredTron)return tron$1;hasRequiredTron=1;var st=tron$1&&tron$1.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(tron$1,"__esModule",{value:!0});const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs){this.name=et.NameSpaceKeyTron,this.namespace=Ts.namespace,this.events=Rs,this.client=Ss,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}requestAccounts(){return this.getAccounts()}request(Ts){return st(this,void 0,void 0,function*(){if((0,et.logDebug)("tron request --args--string>",JSON.stringify(Ts)),(0,et.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method))return this.client.request(Ts);throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if(typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(Rs)return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}showRequestModal(Ts){return!0}}return tron$1.default=_s,tron$1}var starknet={},hasRequiredStarknet;function requireStarknet(){if(hasRequiredStarknet)return starknet;hasRequiredStarknet=1;var st=starknet&&starknet.__awaiter||function(Es,Ts,Ss,Rs){function Bs(Is){return Is instanceof Ss?Is:new Ss(function(Ws){Ws(Is)})}return new(Ss||(Ss=Promise))(function(Is,Ws){function Hs(ha){try{Js(Rs.next(ha))}catch(pa){Ws(pa)}}function Ns(ha){try{Js(Rs.throw(ha))}catch(pa){Ws(pa)}}function Js(ha){ha.done?Is(ha.value):Bs(ha.value).then(Hs,Ns)}Js((Rs=Rs.apply(Es,Ts||[])).next())})};Object.defineProperty(starknet,"__esModule",{value:!0});const t=requireConstants$1(),et=requireSrc$1(),ms=requireUtils$2(),ws=requireJsonRpcConnection(),vs=requireJsonRpcProvider();class _s{constructor(Ts,Ss,Rs,Bs){this.name="starknet",this.namespace=Ts.namespace,this.events=Bs,this.client=Rs,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=Ss}updateNamespace(Ts){this.namespace=Object.assign(this.namespace,Ts)}requestAccounts(){return this.getAccounts()}request(Ts){return st(this,void 0,void 0,function*(){if((0,et.logDebug)("starknet request --args--string>",JSON.stringify(Ts)),(0,et.logDebug)("starknet provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(Ts.method))return this.client.request(Ts);throw new et.OKXConnectError(et.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support"+Ts.method)})}setDefaultChain(Ts,Ss){this.httpProviders[Ts]||this.setHttpProvider(Ts,Ss),this.chainId=Ts,this.events.emit(t.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${Ts}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Ts=this.namespace.chains[0];if(!Ts)throw new Error("ChainId not found");return Ts.split(":")[1]}getAccounts(){const Ts=this.namespace.accounts;return Ts?[...new Set(Ts.filter(Ss=>Ss.split(":")[1]===this.chainId.toString()).map(Ss=>Ss.split(":")[2]))]:[]}createHttpProviders(){const Ts={};return this.namespace.chains.forEach(Ss=>{const Rs=(0,ms.getChainId)(Ss),Bs=(0,ms.getRpcUrl)(Ss,this.namespace);let Is=this.createHttpProvider(Rs,Bs);Is&&(Ts[Rs]=Is)}),Ts}getHttpProvider(){const Ts=`${this.chainId}`,Ss=this.httpProviders[Ts];if(typeof Ss>"u")throw new Error(`JSON-RPC provider for ${Ts} not found`);return Ss}setHttpProvider(Ts,Ss){const Rs=this.createHttpProvider(Ts,Ss);Rs&&(this.httpProviders[Ts]=Rs)}createHttpProvider(Ts,Ss){const Rs=Ss;if(Rs)return new vs.JsonRpcProvider(new ws.JsonRpcConnection(Rs,(0,ms.getGlobal)("disableProviderPing")))}showRequestModal(Ts){return!0}}return starknet.default=_s,starknet}var hasRequiredOKXUniversalProvider;function requireOKXUniversalProvider(){if(hasRequiredOKXUniversalProvider)return OKXUniversalProvider;hasRequiredOKXUniversalProvider=1;var st=OKXUniversalProvider&&OKXUniversalProvider.__awaiter||function(Ya,Bc,Qa,tu){function eu(ru){return ru instanceof Qa?ru:new Qa(function(cu){cu(ru)})}return new(Qa||(Qa=Promise))(function(ru,cu){function ou(Fa){try{Xa(tu.next(Fa))}catch(Zs){cu(Zs)}}function Ga(Fa){try{Xa(tu.throw(Fa))}catch(Zs){cu(Zs)}}function Xa(Fa){Fa.done?ru(Fa.value):eu(Fa.value).then(ou,Ga)}Xa((tu=tu.apply(Ya,Bc||[])).next())})},t=OKXUniversalProvider&&OKXUniversalProvider.__importDefault||function(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}};Object.defineProperty(OKXUniversalProvider,"__esModule",{value:!0}),OKXUniversalProvider.OKXUniversalProvider=void 0;const et=requireEip155(),ms=requireSui(),ws=requireConstants$1(),vs=t(requireEventemitter3()),_s=requireClient(),Es=requireSrc$1(),Ts=requireNamespaces(),Ss=t(requireSolana()),Rs=t(requireBtc()),Bs=t(requireAptos()),Is=t(requireTon()),Ws=t(requireCosmos()),Hs=t(requireTron()),Ns=requireUtils$2(),Js=requirePackages(),ha=requireProvider(),pa=t(requireStarknet());let za=class od{static init(Bc){return st(this,void 0,void 0,function*(){(0,Es.logDebug)("OKXUniversalProvider init() called"),(0,Es.checkMetaData)(Bc.dappMetaData),(0,Ns.setGlobal)("disableProviderPing",!0);let Qa;return(0,Es.getDefaultReporter)().configVersionAndSide("universalprovider","dapp",Bc.dappMetaData.name),window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof od?((0,Es.logDebug)("OKXUniversalConnect init() old called"),Qa=window.okxConnectUniversalinwindow):((0,Es.logDebug)("OKXUniversalConnect init() new called"),Qa=new od(Bc),window&&(window.okxConnectUniversalinwindow=Qa),yield Qa.initialize()),Qa})}constructor(Bc){this.rpcProviders={},this.events=new vs.default,(!Bc.connector||Bc.connector.length==0)&&((0,Js.isMobileDiscover)()?Bc.connector=[new Es.OkxwalletInjectConnector]:Bc.connector=[new Es.AppwalletConnector]),this.providerOpts=Bc,this.specialDAppLineType(this.providerOpts),(0,Es.logDebug)("constructor this.providerOpts>>",JSON.stringify(this.providerOpts));let Qa=Es.OpenAppLinkType.UniversalLink;switch(Bc.openAppLinkType){case"universallink":Qa=Es.OpenAppLinkType.UniversalLink;break;case"deeplink":Qa=Es.OpenAppLinkType.DeepLink;break;default:Qa=Es.OpenAppLinkType.UniversalLink;break}this.providerOpts.openAppLinkType=Qa,(0,Es.logDebug)("OKXUniversalProvider constructor() linkType:",Qa)}specialDAppLineType(Bc){let Qa=window.location.host;Qa&&(Qa.includes("dappportal.io")||Qa.includes("connect.oker.vip"))&&!Bc.openAppLinkType&&((0,Es.logDebug)("specialDAppLineType --> host:",Qa),Bc.openAppLinkType=Es.OpenAppLinkType.DeepLink)}getOpenAppLinkType(){var Bc;return(Bc=this.providerOpts.openAppLinkType)!==null&&Bc!==void 0?Bc:Es.OpenAppLinkType.UniversalLink}request(Bc,Qa){return st(this,void 0,void 0,function*(){if((0,Es.logDebug)("OKXUniversalProvider request() called"),(0,Es.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(0,Es.logDebug)("OKXUniversalProvider request()  connected ");const{namespace:tu,requestParam:eu}=this.buildRequestParamFromRequest(Bc,Qa);return yield this.getProvider(tu).request(eu)})}buildRequestParamFromRequest(Bc,Qa){var tu;(0,Es.logDebug)("UniversalProvider request args >>>>>>>: ",Qa,(0,Es.safeJsonStringify)(Bc));let[eu,ru]=this.validateChain(Qa);if(!this.session)throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let cu=Object.keys(this.session.namespaces);if(!Qa&&cu&&cu.length>1)throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");let ou=(0,Es.replaceChainNameToChainId)(`${eu}:${ru}`);ou!=null&&(eu=ou.split(":")[0],ru=ou.split(":")[1]);const Ga=Object.assign(Object.assign({},Bc),{chainId:`${eu}:${ru}`,redirect:(tu=Bc.redirect)!==null&&tu!==void 0?tu:this.sessionConfig.redirect});return{namespace:eu,requestParam:Ga}}enable(){return st(this,void 0,void 0,function*(){if(!this.client)throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session)if(this.connectOpts)yield this.connect(this.connectOpts);else throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");return yield this.requestAccounts()})}disconnect(){return st(this,void 0,void 0,function*(){return(0,Es.logDebug)("OKXUniversalProvider disconnect() called"),(0,Es.reportLog)("provider disconnect called"),new Promise(Bc=>st(this,void 0,void 0,function*(){let Qa=!1;const tu=()=>st(this,void 0,void 0,function*(){Qa||(Qa=!0,yield this.disconnectAndEmit(),yield this.cleanup(),Bc(),(0,Es.logDebug)("UniversalProvider disconnect Disconnected"),(0,Es.reportLog)("provider disconnect disconnected"))});try{yield this.client.disconnect(),yield tu()}catch{yield tu()}}))})}disconnectAndEmit(){var Bc,Qa,tu;this.client.engine.connectManagerDisconnect(),!((Bc=this.session)===null||Bc===void 0)&&Bc.topic&&(this.events.emit("disconnect",{topic:(Qa=this.session)===null||Qa===void 0?void 0:Qa.topic}),this.events.emit("session_delete",{topic:(tu=this.session)===null||tu===void 0?void 0:tu.topic}))}replaceNamespace(Bc,Qa){var tu,eu;let ru=(tu=Bc.namespaces)===null||tu===void 0?void 0:tu[Qa];if(ru!=null){let ou=this.replaceNamespaceInner(ru);Bc.namespaces!=null&&Qa in Bc.namespaces&&ou!=null&&(Bc.namespaces[Qa]=ou)}let cu=(eu=Bc.optionalNamespaces)===null||eu===void 0?void 0:eu[Qa];if(cu!=null){let ou=this.replaceNamespaceInner(cu);Bc.optionalNamespaces!=null&&Qa in Bc.optionalNamespaces&&ou!=null&&(Bc.optionalNamespaces[Qa]=ou)}return Bc}replaceNamespaceInner(Bc){var Qa;return Bc!=null&&(Bc.chains=(Qa=Bc.chains)===null||Qa===void 0?void 0:Qa.map(tu=>(0,Es.replaceChainNameToChainId)(tu)),Bc.defaultChain!=null&&(Bc.defaultChain=(0,Es.replaceChainNameToChainId)(Bc.defaultChain))),Bc}replaceSessionAptos(Bc,Qa){var tu;let eu=(tu=Bc?.namespaces)===null||tu===void 0?void 0:tu[Qa];if(eu!=null&&eu.chains!=null){eu.chains=eu.chains.map(cu=>(0,Es.replaceChainIdToChainName)(cu)),eu.accounts=eu.accounts.map(cu=>(0,Es.replaceChainIdToChainName)(cu));let ru={};Object.keys(eu.extra||{}).forEach((cu,ou)=>{(0,Es.replaceChainIdToChainName)(cu),ru[(0,Es.replaceChainIdToChainName)(cu)]=Object.values(Bc?.namespaces[Qa].extra||{})[ou]}),eu.extra=ru}(0,Es.logDebug)("replaceSessionAptos",Bc)}connected(){(0,Es.logDebug)("OKXUniversalProvider connected() called"),(0,Es.reportLog)("provider connected called");let Bc=()=>{try{this.cleanup(),this.client.engine.connectManagerDisconnect()}catch(Qa){(0,Es.logDebug)("Error during disconnect:",Qa)}};try{return this.session?this.client.engine.getCurrentConnectionReady(Object.keys(this.session.namespaces))?!0:(Bc(),!1):!1}catch{return Bc(),!1}}connectAndSign(Bc,Qa){return st(this,void 0,void 0,function*(){(0,Es.logDebug)("OKXUniversalProvider connectAndSign() called");const tu=Object.assign(Object.assign({},Bc),Qa);return(0,Es.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(Bc)),(0,Es.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(Qa)),yield this.connect(tu)})}connect(Bc){return st(this,void 0,void 0,function*(){if((0,Es.logDebug)("OKXUniversalProvider connect() called"),(0,Es.reportLog)("provider connect called"),Bc.sessionConfig.useMini)throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"miniWallet is not Supported");if(!this.client)throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;Bc=this.replaceNamespace(Bc,"aptos"),Bc=this.replaceNamespace(Bc,"solana"),(0,Es.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(Bc)),Bc.sessionConfig===void 0&&(Bc.sessionConfig={}),Bc.sessionConfig.openUniversalUrl===void 0&&(Bc.sessionConfig.openUniversalUrl=(0,Es.isMobileUserAgent)()),Bc.sessionConfig.openAppLinkType=this.providerOpts.openAppLinkType,this.setNamespaces(Bc);try{(0,Es.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(Bc)}`);let Qa=yield this.client.connect(Bc);if((0,Es.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(Qa)}`),Qa){if(this.replaceSessionAptos(Qa,"aptos"),this.replaceSessionAptos(Qa,"solana"),this.session=Qa,this.client.session=Qa,this.setConnectConnector(),(0,Es.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(Bc)),this.onConnect(),Bc.signRequest&&Bc.signRequest.length>0){let tu=Bc.signRequest[0],eu=[];typeof window<"u"&&window&&window.okxConnectUniversalUIinwindow?((0,Es.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(eu=this.session.signResponse)):((0,Es.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?eu=this.session.signResponse:eu.push((0,Js.creatNotSupportMethodItemReplay)(tu))),(0,Es.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(eu)}`),setTimeout(()=>{this.events.emit("connect_signResponse",eu)},100)}return Qa}return}catch(Qa){throw(0,Es.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(Qa)),Qa}})}syncAllAddresses(){return st(this,void 0,void 0,function*(){if((0,ha.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}setConnectConnector(){var Bc;this.client.setConnectConnector((Bc=this.session)===null||Bc===void 0?void 0:Bc.wallet)}on(Bc,Qa){this.events.on(Bc,Qa)}once(Bc,Qa){this.events.once(Bc,Qa)}removeListener(Bc,Qa){this.events.removeListener(Bc,Qa)}off(Bc,Qa){this.events.off(Bc,Qa)}setDefaultChain(Bc,Qa){(0,Es.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[tu,eu]=this.validateChain(Bc);this.getProvider(tu).setDefaultChain(eu,Qa)}catch(tu){if(!/Please call connect/.test(tu.message))throw tu}}tryToReconnect(){return st(this,void 0,void 0,function*(){yield this.checkStorage()})}checkStorage(){return st(this,void 0,void 0,function*(){if(this.connected())return;let Bc=yield this.getFromStore("connectSession");if((0,Es.logDebug)(Bc),Bc){(0,Es.logDebug)("checkStorage error start");try{let Qa=Bc;if(this.session=Qa,this.client.session=this.session,this.setConnectConnector(),yield this.client.restoreconnect(Qa),!this.connected())throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);this.sessionConfig=Qa.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,Es.logDebug)("[evm u-provider] do reconnection",this.session),this.createProviders(),this.registerEventListeners(),setTimeout(()=>{this.events.emit("reconnect",{session:this.session})},100)}catch(Qa){yield this.cleanup(!1),(0,Es.logDebug)(`checkStorage error ${JSON.stringify(Qa)}`)}}})}initialize(){return st(this,void 0,void 0,function*(){(0,Es.logDebug)("OKXUniversalProvider initialize() called"),(0,Es.reportLog)("provider initialize called");const Bc=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new _s.SignClient(Bc,this.events,this.providerOpts.openAppLinkType),this.registerConnector(this.providerOpts.connector),yield this.tryToReconnect()})}createProviders(){if(!this.client)throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");const Bc=[...new Set(Object.keys(this.session.namespaces).filter(Qa=>{var tu,eu;return((eu=(tu=this.session.namespaces[Qa])===null||tu===void 0?void 0:tu.accounts)===null||eu===void 0?void 0:eu.length)>0}).map(Qa=>(0,Ts.parseNamespaceKey)(Qa)))];this.rpcProviders={},Bc.forEach(Qa=>{if(!this.session)return;const eu=this.session.namespaces[Qa];switch((0,Es.logDebug)("init eip155 >> ",eu),Qa){case"eip155":const ru={namespace:eu};this.rpcProviders[Qa]=new et.Eip155Provider(ru,this.client,this.events);break;case"solana":const cu={namespace:eu};let ou=new Ss.default(cu,"solana",this.client,this.events);this.rpcProviders[Qa]=ou;let Ga=new Ss.default(cu,"sonic",this.client,this.events);this.rpcProviders.sonic=Ga;let Xa=new Ss.default(cu,"svm",this.client,this.events);this.rpcProviders.svm=Xa;let Fa=new Ss.default(cu,"soon",this.client,this.events);this.rpcProviders.soon=Fa;let Zs=new Ss.default(cu,"eclipse",this.client,this.events);this.rpcProviders.eclipse=Zs;break;case"ton":const Wa={namespace:eu};let Za=new Is.default(Wa,this.client,this.events);this.rpcProviders[Qa]=Za;break;case"sui":const iu={namespace:eu};let au=new ms.SuiProvider(iu,this.client,this.events);au.name="sui",this.rpcProviders[Qa]=au;break;case"btc":const nu={namespace:eu};let uu=new Rs.default(nu,"btc",this.client,this.events);this.rpcProviders.btc=uu;let fu=new Rs.default(nu,"fractal",this.client,this.events);this.rpcProviders.fractal=fu;break;case"aptos":let hu=new Bs.default({namespace:eu},"aptos",this.client,this.events);this.rpcProviders[Qa]=hu;let Eu=new Bs.default({namespace:eu},"movement",this.client,this.events);this.rpcProviders.movement=Eu;break;case"cosmos":let $u=new Ws.default({namespace:eu},this.client,this.events);this.rpcProviders[Qa]=$u;break;case"tron":let Ou=new Hs.default({namespace:eu},this.client,this.events);this.rpcProviders[Qa]=Ou;break;case"starknet":let gu=new pa.default({namespace:eu},"starknet",this.client,this.events);this.rpcProviders[Qa]=gu;break}})}registerEventListeners(){if(typeof this.client>"u")throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener(()=>{this.disconnectAndEmit(),this.cleanup()}),this.on(ws.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,Bc=>{this.onChainChanged(Bc)}),this.on(ws.PROVIDER_EVENTS.UPDATE_NAMESPACES,Bc=>{if(Bc){const Qa=Object.keys(Bc)[0];this.session&&(this.session.namespaces[Qa]=Bc[Qa],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,Es.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}})}getProvider(Bc){return(0,Es.logDebug)("current get providers",this.rpcProviders),(0,Es.logDebug)("query namespace: ",Bc),this.rpcProviders[Bc]}setNamespaces(Bc){this.connectOpts=Bc;const{namespaces:Qa,sessionConfig:tu}=Bc,eu={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon,manifestUrl:this.providerOpts.dappMetaData.manifestUrl};this.sessionConfig=Object.assign({dappInfo:eu},tu),(0,Es.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",tu)}validateChain(Bc){var Qa;let[tu,eu]=Bc?.split(":")||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,Es.logDebug)("get name & chain",tu,eu),[tu,eu];if(tu){if(!this.isChainNamespaceInSession(tu))throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${tu}' is not configured. Please call connect() first with namespace config.`);if(eu&&Bc){(0,Es.logDebug)("this.session.namespaces -->> ",tu,JSON.stringify(this.session.namespaces));const ou=(Qa=this.session.namespaces[tu])===null||Qa===void 0?void 0:Qa.chains;if((0,Es.logDebug)("get chainsArr & chain",JSON.stringify(ou),Bc),ou&&!ou.includes(Bc))throw new Es.OKXConnectError(Es.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${Bc}'`)}}if(tu&&eu)return(0,Es.logDebug)("get name & chain",tu,eu),[tu,eu];let ru=(0,Ts.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const cu=this.rpcProviders[ru].getDefaultChain();return(0,Es.logDebug)("get default chain:",cu),[ru,cu]}isChainNamespaceInSession(Bc){var Qa,tu;if(Object.keys(((Qa=this.session)===null||Qa===void 0?void 0:Qa.namespaces)||{}).map(ru=>(0,Ts.parseNamespaceKey)(ru)).includes(Bc))return!0;let eu=!1;return Object.values(((tu=this.session)===null||tu===void 0?void 0:tu.namespaces)||{}).forEach(ru=>{ru.chains.forEach(cu=>{cu.split(":")[0]==Bc&&(eu=!0)})}),eu}requestAccountsWithNamespace(Bc){return this.getProvider(Bc).requestAccounts()}requestDefaultChainWithNamespace(Bc){return this.getProvider(Bc).getDefaultChain()}requestAccounts(){return st(this,void 0,void 0,function*(){const[Bc]=this.validateChain();return yield this.getProvider(Bc).requestAccounts()})}onChainChanged(Bc){var Qa;if(!(!((Qa=this.session)===null||Qa===void 0)&&Qa.namespaces))return;const[tu,eu]=this.validateChain(Bc);eu&&(this.session.namespaces[tu]&&(this.session.namespaces[tu].defaultChain=eu,this.persist("connectSession",this.session)),this.events.emit("chainChanged",eu))}onConnect(){this.createProviders(),this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return st(this,arguments,void 0,function*(Bc=!0){this.session=void 0,this.client.session=void 0,this.setConnectConnector(),this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),Bc&&this.persist("connectSession",void 0)})}persist(Bc,Qa){return(0,Es.logDebug)("[evm u-provider] persisit data",Bc,Qa),this.client.engine.saveSessionContent(Bc,Qa)}getFromStore(Bc){return st(this,void 0,void 0,function*(){return this.client.engine.getSessionContent(Bc)})}showRequestModal(Bc,Qa){try{const{namespace:tu,requestParam:eu}=this.buildRequestParamFromRequest(Bc,Qa);return this.getProvider(tu).showRequestModal(eu)}catch{return!1}}openWallet(Bc,Qa){this.client.openWallet(Bc,Qa)}registerConnector(Bc){this.client.registerConnector(Bc),this.client.setAccountChangeListener(Qa=>{(0,Es.logDebug)("accountChangeListener sessionï¼",this.events.listenerCount("accountChanged"),JSON.stringify(Qa));try{Qa&&this.events.listenerCount("accountChanged")&&(this.replaceSessionAptos(Qa,"aptos"),this.replaceSessionAptos(Qa,"solana"),this.session=Qa,this.client.session=Qa,this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.setConnectConnector(),this.createProviders(),this.events.emit("accountChanged",this.session))}catch(tu){(0,Es.logDebug)("setAccountChangeListener error:",JSON.stringify(tu))}})}getEngine(){return this.client.engine}};return OKXUniversalProvider.OKXUniversalProvider=za,OKXUniversalProvider.default=za,OKXUniversalProvider}var OKXBtcProvider={},hasRequiredOKXBtcProvider;function requireOKXBtcProvider(){if(hasRequiredOKXBtcProvider)return OKXBtcProvider;hasRequiredOKXBtcProvider=1;var st=OKXBtcProvider&&OKXBtcProvider.__awaiter||function(ws,vs,_s,Es){function Ts(Ss){return Ss instanceof _s?Ss:new _s(function(Rs){Rs(Ss)})}return new(_s||(_s=Promise))(function(Ss,Rs){function Bs(Hs){try{Ws(Es.next(Hs))}catch(Ns){Rs(Ns)}}function Is(Hs){try{Ws(Es.throw(Hs))}catch(Ns){Rs(Ns)}}function Ws(Hs){Hs.done?Ss(Hs.value):Ts(Hs.value).then(Bs,Is)}Ws((Es=Es.apply(ws,vs||[])).next())})};Object.defineProperty(OKXBtcProvider,"__esModule",{value:!0}),OKXBtcProvider.OKXBtcProvider=void 0;const t=requireSrc(),et=requireSrc$1();let ms=class{constructor(vs){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=vs}getAddressForChainId(vs){var _s,Es;if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let Ss=(Es=(_s=this.provider.session)===null||_s===void 0?void 0:_s.namespaces.btc)===null||Es===void 0?void 0:Es.accounts.filter(function(Is){return Is.startsWith(vs)});if(Ss==null||Ss.length<0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return Ss[0].split(":")[2]}getAccount(vs){var _s,Es,Ts;if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let Rs=(Ts=(Es=(_s=this.provider.session)===null||_s===void 0?void 0:_s.namespaces.btc)===null||Es===void 0?void 0:Es.extra)===null||Ts===void 0?void 0:Ts[vs],Bs="";return Rs!=null&&(Bs=Rs.compressedPublicKey),{address:this.getAddressForChainId(vs),publicKey:Bs}}signMessage(vs,_s,Es){return st(this,void 0,void 0,function*(){if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(_s==="undefined")throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let Ss={signStr:_s,from:this.getAddressForChainId(vs)};Es&&(Ss.type=Es);try{const Rs=yield this.provider.request({method:"btc_signMessage",params:Ss},vs);return"result"in Rs?Rs.result:Rs.error}catch(Rs){throw Rs instanceof t.OKXConnectError?Rs:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendBitcoin(vs,_s,Es,Ts){return st(this,void 0,void 0,function*(){if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let Rs={from:this.getAddressForChainId(vs),to:_s,value:(Es/1e8).toString()};Ts?.feeRate&&(Rs.satBytes=Ts.feeRate.toString());let Bs=yield this.send(vs,Rs);return Bs!==void 0&&"txhash"in Bs?Bs.txhash:Bs})}send(vs,_s){return st(this,void 0,void 0,function*(){if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(_s,"to","value"))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");_s.from=this.getAddressForChainId(vs);try{const Ts=yield this.provider.request({method:"btc_send",params:_s},vs);return"result"in Ts?{txhash:Ts.result}:Ts.error}catch(Ts){throw Ts instanceof t.OKXConnectError?Ts:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${Ts}`)}})}signPsbt(vs,_s,Es){return st(this,void 0,void 0,function*(){return new Promise((Ts,Ss)=>{this.signPsbts(vs,[_s],[Es]).then(Rs=>{let Bs=JSON.parse(Rs);Ts(Bs[0])}).catch(Rs=>{Ss(Rs)})})})}signPsbts(vs,_s,Es){return st(this,void 0,void 0,function*(){if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(_s===void 0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let Ss={psbtHexs:_s,options:Es};Ss.from=this.getAddressForChainId(vs);try{const Rs=yield this.provider.request({method:"btc_signPsbts",params:Ss},vs);if("result"in Rs)return Rs.result}catch(Rs){throw Rs instanceof t.OKXConnectError?Rs:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${Rs}`)}})}signAndPushPsbt(vs,_s,Es){return st(this,void 0,void 0,function*(){if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(_s===void 0)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let Ss={psbtHex:_s,options:Es};Ss.from=this.getAddressForChainId(vs);try{const Rs=yield this.provider.request({method:"btc_signAndPushPsbt",params:Ss},vs);return"result"in Rs?JSON.parse(Rs.result):Rs.error}catch(Rs){throw Rs instanceof t.OKXConnectError?Rs:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${Rs}`)}})}sendInscription(vs,_s,Es,Ts){return st(this,void 0,void 0,function*(){let Ss={address:_s,inscriptionId:Es,options:Ts};if(this.checkChainId(vs)==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(_s==="undefined")throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var Bs=0;Ts&&"feeRate"in Ts&&(Bs=Ts.feeRate);let Is="",Ws=this.getAddressForChainId(vs);var Hs=7;if(Es!=="undefined"){let Js="-Atomicals",ha="-Ordinals";Es?.toLowerCase().endsWith(Js.toLowerCase())?(Hs=8,Es=this.removeSuffix(Es,Js)):Es?.toLowerCase().endsWith(ha.toLowerCase())&&(Es=this.removeSuffix(Es,ha))}let Ns={scenario:5,feeRate:Bs,txType:"20",to:_s,batchBean:[{coinAmount:"1",nftId:Es,protocolId:Hs,coinId:Is,inscriptionId:"",from:Ws}],extension:Ss};try{const Js=yield this.provider.request({method:"btc_sendInscription",params:Ns,injectParams:{address:_s,inscriptionId:Es,options:Ts}},vs);return"result"in Js?Js.result:Js.error}catch(Js){throw Js instanceof t.OKXConnectError?Js:new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendRunes(vs,_s,Es,Ts,Ss){return st(this,void 0,void 0,function*(){try{if(!vs||!_s||!Es||!Ts)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let Rs=this.checkChainId(vs),Bs;if(Rs!=null&&(Rs.startsWith("btc")?Bs=13:Rs.startsWith("fractal")&&(Bs=16)),Rs==null||Bs==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let Ws={fromAddress:this.getAddressForChainId(vs),protocolId:Bs,address:_s,runeid:Es,amount:Ts,options:Ss};return(0,et.logDebug)("OKXBtcProvider sendRunes -->",JSON.stringify(Ws)),(yield this.provider.request({method:"btc_sendRunes",params:Ws,injectParams:{address:_s,runeid:Es,amount:Ts,options:Ss}},vs)).result}catch(Rs){throw Rs}})}inscribeTransfer(vs,_s,Es){return st(this,void 0,void 0,function*(){try{if(!vs||!_s||!Es)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let Ts=this.checkChainId(vs),Ss;if(Ts!=null&&(Ts.startsWith("btc")?Ss=1:Ts.startsWith("fractal")&&(Ss=14)),Ts==null||Ss==null)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let Bs={fromAddress:this.getAddressForChainId(vs),protocolId:Ss,ticker:_s,amount:Es};(0,et.logDebug)("OKXBtcProvider inscribeTransfer -->",JSON.stringify(Bs));const Is=yield this.provider.request({method:"btc_inscribeTransfer",params:Bs},vs)}catch(Ts){throw Ts}})}removeSuffix(vs,_s){return vs.endsWith(_s)?vs.slice(0,vs.length-_s.length):vs}checkParameters(vs,..._s){var Es=[];return _s.forEach(Ts=>{`${Ts}`in vs||Es.push(Ts)}),Es.length>0?(console.log("not find key: ",Es.join(",")),!1):!0}checkChainId(vs){if(this.caip.includes(vs)){let[_s,Es]=vs.split(":");return _s}}};return OKXBtcProvider.OKXBtcProvider=ms,OKXBtcProvider.default=ms,OKXBtcProvider}var OKXCosmosProvider={},hasRequiredOKXCosmosProvider;function requireOKXCosmosProvider(){if(hasRequiredOKXCosmosProvider)return OKXCosmosProvider;hasRequiredOKXCosmosProvider=1;var st=OKXCosmosProvider&&OKXCosmosProvider.__awaiter||function(ms,ws,vs,_s){function Es(Ts){return Ts instanceof vs?Ts:new vs(function(Ss){Ss(Ts)})}return new(vs||(vs=Promise))(function(Ts,Ss){function Rs(Ws){try{Is(_s.next(Ws))}catch(Hs){Ss(Hs)}}function Bs(Ws){try{Is(_s.throw(Ws))}catch(Hs){Ss(Hs)}}function Is(Ws){Ws.done?Ts(Ws.value):Es(Ws.value).then(Rs,Bs)}Is((_s=_s.apply(ms,ws||[])).next())})};Object.defineProperty(OKXCosmosProvider,"__esModule",{value:!0}),OKXCosmosProvider.OKXCosmosProvider=void 0;const t=requireSrc$1();let et=class{constructor(ws){this.provider=ws}getAccount(ws){var vs,_s,Es,Ts,Ss,Rs;(0,t.logDebug)("OKXCosmosProvider getAccount chainId:",ws),(0,t.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify((vs=this.provider.session)===null||vs===void 0?void 0:vs.namespaces));let Bs=(Es=(_s=this.provider.session)===null||_s===void 0?void 0:_s.namespaces[t.NameSpaceKeyCosmos])===null||Es===void 0?void 0:Es.accounts.filter(function(Js){return Js.startsWith(ws)})[0];if((0,t.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(Bs)),!Bs)return;const Is=Bs.split(":"),Ws=Bs.split(":")[2];(0,t.logDebug)("OKXCosmosProvider getAccount address:",Ws);let Hs=(Rs=(Ss=(Ts=this.provider.session)===null||Ts===void 0?void 0:Ts.namespaces[t.NameSpaceKeyCosmos])===null||Ss===void 0?void 0:Ss.extra)===null||Rs===void 0?void 0:Rs[`${Is[0]}:${Is[1]}`],Ns="";if(Hs!=null&&(Ns=Hs.publicKey,console.log("aptos_publicKey",Ns)),!!Ws)return{algo:"secp256k1",address:Ws,bech32Address:Ws,pubKey:this.hexToUint8Array(Ns)}}signArbitrary(ws,vs,_s){return st(this,void 0,void 0,function*(){const Es=window.btoa(_s),Ts={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:vs,data:Es}}],memo:""};let Ss={chainId:ws,method:"cosmos_signArbitrary",params:{signer:vs,chain_id:ws.split(":")[1],data:Ts}};try{const Rs=yield this.provider.request(Ss,ws);return"result"in Rs?typeof Rs.result=="string"?JSON.parse(Rs.result):Rs.result:Rs.error}catch(Rs){return Rs}})}signAmino(ws,vs,_s,Es){return st(this,void 0,void 0,function*(){if(_s.msgs[0].type=="sign/MsgSignData"){let Ts={chainId:ws,method:"cosmos_signArbitrary",params:{signer:vs,chain_id:ws.split(":")[1],data:_s}};try{const Ss=yield this.provider.request(Ts,ws);return"result"in Ss?Ss.result:Ss.error}catch(Ss){return Ss}}else{let Ts={chainId:ws,method:"cosmos_signAmino",params:{signer:vs,chainId:ws.split(":")[1],sign_doc:_s,signOptions:Es}};try{const Ss=yield this.provider.request(Ts,ws);if("result"in Ss){const Rs=JSON.parse(Ss.result);return console.log("signdoc",_s,Rs.signDoc),_s.fee=Rs.signDoc.fee,{signed:_s,signature:Rs.signature}}else return Ss.error}catch(Ss){return Ss}}})}signDirect(ws,vs,_s,Es){return st(this,void 0,void 0,function*(){const Ts={bodyBytes:this.bufferToHex(_s.bodyBytes),authInfoBytes:this.bufferToHex(_s.authInfoBytes),chainId:_s.chainId,accountNumber:_s.accountNumber?_s.accountNumber.toString():null,signOptions:Es||null};let Ss={chainId:ws,method:"cosmos_signDirect",params:{signer:vs,chainId:ws.split(":")[1],sign_doc:Ts}};try{const Rs=yield this.provider.request(Ss,ws);if("result"in Rs){const Bs=JSON.parse(Rs.result);return console.log("signdirect result",Bs),_s.authInfoBytes=this.messageToBuffer(Bs.signDoc.authInfoBytes),{signed:_s,signature:Bs.signature}}}catch(Rs){return Rs}})}messageToBuffer(ws){var vs=Uint8Array.from([]);try{typeof ws=="string"?vs=this.hexToUint8Array(ws.replace("0x","")):vs=Uint8Array.from(ws)}catch(_s){console.log(`messageToBuffer error: ${_s}`)}return vs}bufferToHex(ws){return"0x"+[...new Uint8Array(ws)].map(_s=>_s.toString(16).padStart(2,"0")).join("")}hexToUint8Array(ws){if(ws.length%2!==0)throw"Invalid hexString";for(var vs=new Uint8Array(ws.length/2),_s=0;_s<ws.length;_s+=2){var Es=parseInt(ws.substr(_s,2),16);if(isNaN(Es))throw"Invalid hexString";vs[_s/2]=Es}return vs}};return OKXCosmosProvider.OKXCosmosProvider=et,OKXCosmosProvider}var OKXTonProvider={},hasRequiredOKXTonProvider;function requireOKXTonProvider(){if(hasRequiredOKXTonProvider)return OKXTonProvider;hasRequiredOKXTonProvider=1;var st=OKXTonProvider&&OKXTonProvider.__awaiter||function(ws,vs,_s,Es){function Ts(Ss){return Ss instanceof _s?Ss:new _s(function(Rs){Rs(Ss)})}return new(_s||(_s=Promise))(function(Ss,Rs){function Bs(Hs){try{Ws(Es.next(Hs))}catch(Ns){Rs(Ns)}}function Is(Hs){try{Ws(Es.throw(Hs))}catch(Ns){Rs(Ns)}}function Ws(Hs){Hs.done?Ss(Hs.value):Ts(Hs.value).then(Bs,Is)}Ws((Es=Es.apply(ws,vs||[])).next())})};Object.defineProperty(OKXTonProvider,"__esModule",{value:!0}),OKXTonProvider.OKXTonProvider=void 0;const t=requireSrc(),et=requireSrc$1();let ms=class{constructor(vs){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=vs,this.provider.on("connect",()=>{let _s=this.wallet();(0,et.logDebug)("OKXTONProvider event connect:",JSON.stringify(_s)),this.statusChangeSubscriptions.forEach(Es=>Es(_s))}),this.provider.on("reconnect",()=>{let _s=this.wallet();(0,et.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(_s)),this.statusChangeSubscriptions.forEach(Es=>Es(_s))}),this.provider.on("disconnect",()=>{(0,et.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach(_s=>_s(null))}),this.provider.on("connect_error",_s=>{(0,et.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(_s)),this.statusChangeErrorSubscriptions.forEach(Es=>Es(_s))})}connected(){return this.provider.connected()?!!this.provider.session.namespaces.ton:!1}account(){try{if(!this.provider.session)return null;let vs=this.provider.session.namespaces.ton;if(!vs||!vs.payload||!vs.payload.ton_addr)return null;let _s=vs.payload.ton_addr;return{address:_s.address,chain:_s.network,walletStateInit:_s.walletStateInit,publicKey:_s.publicKey}}catch(vs){return(0,et.logDebug)("OKXTONProvider account  error:",JSON.stringify(vs)),null}}wallet(){if(this.connected())try{let vs=this.provider.session.wallet;const Es={device:{platform:vs.platform,appName:vs.appName,appVersion:vs.appVersion,maxProtocolVersion:vs.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()};let Ts=this.provider.session.namespaces.ton;return Ts&&Ts.payload&&Ts.payload.ton_proof&&(Es.connectItems={tonProof:Ts.payload.ton_proof}),(0,et.logDebug)("OKXTONProvider wallet :",JSON.stringify(Es)),Es}catch(vs){return(0,et.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(vs)),null}return null}onStatusChange(vs,_s){return this.statusChangeSubscriptions.push(vs),_s&&this.statusChangeErrorSubscriptions.push(_s),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(Es=>Es!==vs),_s&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(Es=>Es!==_s))}}sendTransaction(vs){return st(this,void 0,void 0,function*(){if(vs.network&&vs.network!==et.TONCHAIN.MAINNET)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(vs.network||(vs.network=et.TONCHAIN.MAINNET),this.provider.session&&!vs.from){const Ts=this.provider.requestAccountsWithNamespace("ton");vs.from=Ts[0]}const _s={method:"ton_sendTransaction",params:vs};let Es="ton:"+et.TONCHAIN.MAINNET;return(0,et.logDebug)("OKXTONProvider sendTransaction transaction----:",Es,JSON.stringify(_s)),this.provider.request(_s,Es)})}};return OKXTonProvider.OKXTonProvider=ms,OKXTonProvider.default=ms,OKXTonProvider}var OKXTronProvider={},hasRequiredOKXTronProvider;function requireOKXTronProvider(){if(hasRequiredOKXTronProvider)return OKXTronProvider;hasRequiredOKXTronProvider=1;var st=OKXTronProvider&&OKXTronProvider.__awaiter||function(ms,ws,vs,_s){function Es(Ts){return Ts instanceof vs?Ts:new vs(function(Ss){Ss(Ts)})}return new(vs||(vs=Promise))(function(Ts,Ss){function Rs(Ws){try{Is(_s.next(Ws))}catch(Hs){Ss(Hs)}}function Bs(Ws){try{Is(_s.throw(Ws))}catch(Hs){Ss(Hs)}}function Is(Ws){Ws.done?Ts(Ws.value):Es(Ws.value).then(Rs,Bs)}Is((_s=_s.apply(ms,ws||[])).next())})};Object.defineProperty(OKXTronProvider,"__esModule",{value:!0}),OKXTronProvider.OKXTronProvider=void 0;const t=requireSrc$1();let et=class{constructor(ws){this.TRON_CHAIN_ID="tron:mainnet",this.provider=ws}getChain(ws){if(ws==null&&(ws=this.TRON_CHAIN_ID),ws!=this.TRON_CHAIN_ID)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+ws+"is wrong for OKXTronProvider");return ws}getAccount(ws){var vs,_s,Es,Ts,Ss;ws=this.getChain(ws);let Rs=(_s=(vs=this.provider.session)===null||vs===void 0?void 0:vs.namespaces[t.NameSpaceKeyTron])===null||_s===void 0?void 0:_s.accounts.filter(function(Hs){return Hs.startsWith(ws)})[0];if(!Rs)return;const Bs=Rs.split(":"),Is=Rs.split(":")[2];let Ws=(Ss=(Ts=(Es=this.provider.session)===null||Es===void 0?void 0:Es.namespaces[t.NameSpaceKeyTron])===null||Ts===void 0?void 0:Ts.extra)===null||Ss===void 0?void 0:Ss[`${Bs[0]}:${Bs[1]}`];if(Ws?.publicKey,!!Is)return{address:Is}}stringToHex(ws){let vs="";for(let _s=0;_s<ws.length;_s++)vs+=ws.charCodeAt(_s).toString(16).padStart(2,"0");return vs}signMessage(ws,vs){return st(this,void 0,void 0,function*(){vs=this.getChain(vs);let _s={chainId:vs,method:"tron_signMessage",params:{message:this.stringToHex(ws)}};try{const Es=yield this.provider.request(_s,vs);return"result"in Es?Es.result:Es.error}catch(Es){return Es}})}signMessageV2(ws,vs){return st(this,void 0,void 0,function*(){vs=this.getChain(vs);let _s={chainId:vs,method:"tron_signMessageV2",params:{message:ws}};try{const Es=yield this.provider.request(_s,vs);return"result"in Es?Es.result:Es.error}catch(Es){return Es}})}signTransaction(ws,vs){return st(this,void 0,void 0,function*(){vs=this.getChain(vs);let _s={method:"tron_signTransaction",params:ws};try{const Es=yield this.provider.request(_s,vs);if("result"in Es){let Ts;typeof Es.result=="string"?Ts=JSON.parse(Es.result):Ts=Es.result;let Ss={};Ss.visible=Ts.visible,Ss.txID=Ts.txID;let Rs={};return Rs.contract=Ts.raw_data.contract,Rs.expiration=Ts.raw_data.expiration,Rs.ref_block_bytes=Ts.raw_data.ref_block_bytes,Rs.fee_limit=Ts.raw_data.fee_limit,Rs.ref_block_hash=Ts.raw_data.ref_block_hash,Rs.timestamp=Ts.raw_data.timestamp,Ss.raw_data=Rs,Ss.raw_data_hex=Ts.raw_data_hex,Ss.signature=Ts.signature,Ss}}catch(Es){return Es}})}signAndSendTransaction(ws,vs){return st(this,void 0,void 0,function*(){vs=this.getChain(vs);let _s={method:"tron_signAndSendTransaction",params:ws};try{const Es=yield this.provider.request(_s,vs);if("result"in Es)return Es.result}catch(Es){return Es}})}};return OKXTronProvider.OKXTronProvider=et,OKXTronProvider}var OKXStarknetProvider={},hasRequiredOKXStarknetProvider;function requireOKXStarknetProvider(){if(hasRequiredOKXStarknetProvider)return OKXStarknetProvider;hasRequiredOKXStarknetProvider=1;var st=OKXStarknetProvider&&OKXStarknetProvider.__awaiter||function(ms,ws,vs,_s){function Es(Ts){return Ts instanceof vs?Ts:new vs(function(Ss){Ss(Ts)})}return new(vs||(vs=Promise))(function(Ts,Ss){function Rs(Ws){try{Is(_s.next(Ws))}catch(Hs){Ss(Hs)}}function Bs(Ws){try{Is(_s.throw(Ws))}catch(Hs){Ss(Hs)}}function Is(Ws){Ws.done?Ts(Ws.value):Es(Ws.value).then(Rs,Bs)}Is((_s=_s.apply(ms,ws||[])).next())})};Object.defineProperty(OKXStarknetProvider,"__esModule",{value:!0}),OKXStarknetProvider.OKXStarknetProvider=void 0;const t=requireSrc$1();let et=class{constructor(ws){this.STARKNET_CHAIN_ID="starknet:mainnet",this.provider=ws}getChain(ws){if(ws==null&&(ws=this.STARKNET_CHAIN_ID),ws!=this.STARKNET_CHAIN_ID)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+ws+"is wrong for OKXStarknetProvider");return ws}getAccount(ws){var vs,_s,Es,Ts,Ss;let Rs=(_s=(vs=this.provider.session)===null||vs===void 0?void 0:vs.namespaces[t.NameSpaceKeyStarknet])===null||_s===void 0?void 0:_s.accounts.filter(function(Ns){return Ns.startsWith(ws)})[0];if(!Rs)return;const Bs=Rs.split(":"),Is=Rs.split(":")[2];let Ws=(Ss=(Ts=(Es=this.provider.session)===null||Es===void 0?void 0:Es.namespaces[t.NameSpaceKeyStarknet])===null||Ts===void 0?void 0:Ts.extra)===null||Ss===void 0?void 0:Ss[`${Bs[0]}:${Bs[1]}`],Hs="";if(Ws!=null&&(Hs=Ws.publicKey),!!Is)return{address:Is,pubKey:Hs}}signMessage(ws,vs,_s){return st(this,void 0,void 0,function*(){_s=this.getChain(_s),ws.length==0&&(ws=this.getAccount(_s).address);let Es={chainId:_s,method:"starknet_signMessage",params:{accountAddress:ws,typedData:vs}};try{const Ts=yield this.provider.request(Es,_s);if("result"in Ts){let Ss=Ts.result;return typeof Ss=="string"&&(Ss=JSON.parse(Ss)),[Ss.signedDataR,Ss.signedDataS]}else return Ts.error}catch(Ts){return Ts}})}sendTransaction(ws,vs,_s){return st(this,void 0,void 0,function*(){_s=this.getChain(_s);let Ts={method:"starknet_sendTransaction",params:{data:JSON.stringify({accountAddress:ws,executionRequest:vs}),from:ws}};try{const Ss=yield this.provider.request(Ts,_s);return"result"in Ss?{transaction_hash:Ss.result}:Ss.error}catch(Ss){return Ss}})}signMessageDeclareContractPayload(ws,vs){return st(this,void 0,void 0,function*(){vs=this.getChain(vs);try{let _s={method:"starknet_signMessage",params:ws};const Es=yield this.provider.request(_s,vs);return"result"in Es?{transaction_hash:Es.result.txHash,class_hash:Es.result.classHash}:Es.error}catch(_s){return _s}})}sendMessageExecuteTransactionDetail(ws,vs,_s,Es,Ts){return st(this,void 0,void 0,function*(){Ts=this.getChain(Ts);const Rs={calls:Array.isArray(vs)?vs:[vs],abis:_s,transactionsDetail:{nonce:Es?.nonce,maxFee:Es?.nonce,version:Es?.version}};return this.sendTransaction(ws,Rs,Ts)})}};return OKXStarknetProvider.OKXStarknetProvider=et,OKXStarknetProvider}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,function(st){var t=src$3&&src$3.__createBinding||(Object.create?function(Ss,Rs,Bs,Is){Is===void 0&&(Is=Bs);var Ws=Object.getOwnPropertyDescriptor(Rs,Bs);(!Ws||("get"in Ws?!Rs.__esModule:Ws.writable||Ws.configurable))&&(Ws={enumerable:!0,get:function(){return Rs[Bs]}}),Object.defineProperty(Ss,Is,Ws)}:function(Ss,Rs,Bs,Is){Is===void 0&&(Is=Bs),Ss[Is]=Rs[Bs]}),et=src$3&&src$3.__exportStar||function(Ss,Rs){for(var Bs in Ss)Bs!=="default"&&!Object.prototype.hasOwnProperty.call(Rs,Bs)&&t(Rs,Ss,Bs)};Object.defineProperty(st,"__esModule",{value:!0}),st.OKXStarknetProvider=st.OKXTronProvider=st.OKXTonProvider=st.OKXCosmosProvider=st.OKXBtcProvider=st.OKXUniversalProvider=void 0,et(requireTypes$3(),st),et(requirePackages(),st);var ms=requireOKXUniversalProvider();Object.defineProperty(st,"OKXUniversalProvider",{enumerable:!0,get:function(){return ms.OKXUniversalProvider}});var ws=requireOKXBtcProvider();Object.defineProperty(st,"OKXBtcProvider",{enumerable:!0,get:function(){return ws.OKXBtcProvider}});var vs=requireOKXCosmosProvider();Object.defineProperty(st,"OKXCosmosProvider",{enumerable:!0,get:function(){return vs.OKXCosmosProvider}});var _s=requireOKXTonProvider();Object.defineProperty(st,"OKXTonProvider",{enumerable:!0,get:function(){return _s.OKXTonProvider}});var Es=requireOKXTronProvider();Object.defineProperty(st,"OKXTronProvider",{enumerable:!0,get:function(){return Es.OKXTronProvider}});var Ts=requireOKXStarknetProvider();Object.defineProperty(st,"OKXStarknetProvider",{enumerable:!0,get:function(){return Ts.OKXStarknetProvider}}),et(requireSrc$1(),st)}(src$3)),src$3}var srcExports=requireSrc();let up=null,tron=null;async function getProvider(){return up&&up.connected()?(console.log("connected~"),up):(up=await srcExports.OKXUniversalProvider.init({dappMetaData:{name:"campâpay",icon:""},reporter:{enable:!1}}),up.connected()||await up.connect({namespaces:{tron:{chains:["tron:mainnet"]}},sessionConfig:{redirect:"none",openUniversalUrl:!0,openAppLinkType:srcExports.OpenAppLinkType.UniversalLink}}),tron=new srcExports.OKXTronProvider(up),up)}function getTronProvider(){if(!tron)throw new Error("é±åæªè¿æ¥");return tron}const listenForTrustWalletInitialized=({timeout:st}={timeout:5e3})=>new Promise(t=>{const et=()=>{t(getTrustWalletFromWindow())};window.addEventListener("trustwallet#initialized",et,{once:!0}),setTimeout(()=>{window.removeEventListener("trustwallet#initialized",et,{once:!0}),t(null)},st)}),getTrustWalletFromWindow=()=>{const st=et=>!!et.isTrust;return typeof window<"u"&&typeof window.ethereum<"u"?st(window.ethereum)?window.ethereum:window.ethereum?.providers?window.ethereum.providers.find(st)??null:window.trustwallet??null:null},getTrustWalletInjectedProvider=async({timeout:st}={timeout:5e3})=>{debugger;const t=getTrustWalletFromWindow();return t||listenForTrustWalletInitialized({timeout:st})};var eventsExports=requireEvents$1();const Ut$3=getDefaultExportFromCjs$1(eventsExports);var cjs$3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(st,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,ms){et.__proto__=ms}||function(et,ms){for(var ws in ms)ms.hasOwnProperty(ws)&&(et[ws]=ms[ws])},extendStatics(st,t)};function __extends(st,t){extendStatics(st,t);function et(){this.constructor=st}st.prototype=t===null?Object.create(t):(et.prototype=t.prototype,new et)}var __assign=function(){return __assign=Object.assign||function(t){for(var et,ms=1,ws=arguments.length;ms<ws;ms++){et=arguments[ms];for(var vs in et)Object.prototype.hasOwnProperty.call(et,vs)&&(t[vs]=et[vs])}return t},__assign.apply(this,arguments)};function __rest(st,t){var et={};for(var ms in st)Object.prototype.hasOwnProperty.call(st,ms)&&t.indexOf(ms)<0&&(et[ms]=st[ms]);if(st!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ws=0,ms=Object.getOwnPropertySymbols(st);ws<ms.length;ws++)t.indexOf(ms[ws])<0&&Object.prototype.propertyIsEnumerable.call(st,ms[ws])&&(et[ms[ws]]=st[ms[ws]]);return et}function __decorate(st,t,et,ms){var ws=arguments.length,vs=ws<3?t:ms===null?ms=Object.getOwnPropertyDescriptor(t,et):ms,_s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vs=Reflect.decorate(st,t,et,ms);else for(var Es=st.length-1;Es>=0;Es--)(_s=st[Es])&&(vs=(ws<3?_s(vs):ws>3?_s(t,et,vs):_s(t,et))||vs);return ws>3&&vs&&Object.defineProperty(t,et,vs),vs}function __param(st,t){return function(et,ms){t(et,ms,st)}}function __metadata(st,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(st,t)}function __awaiter(st,t,et,ms){function ws(vs){return vs instanceof et?vs:new et(function(_s){_s(vs)})}return new(et||(et=Promise))(function(vs,_s){function Es(Rs){try{Ss(ms.next(Rs))}catch(Bs){_s(Bs)}}function Ts(Rs){try{Ss(ms.throw(Rs))}catch(Bs){_s(Bs)}}function Ss(Rs){Rs.done?vs(Rs.value):ws(Rs.value).then(Es,Ts)}Ss((ms=ms.apply(st,t||[])).next())})}function __generator(st,t){var et={label:0,sent:function(){if(vs[0]&1)throw vs[1];return vs[1]},trys:[],ops:[]},ms,ws,vs,_s;return _s={next:Es(0),throw:Es(1),return:Es(2)},typeof Symbol=="function"&&(_s[Symbol.iterator]=function(){return this}),_s;function Es(Ss){return function(Rs){return Ts([Ss,Rs])}}function Ts(Ss){if(ms)throw new TypeError("Generator is already executing.");for(;et;)try{if(ms=1,ws&&(vs=Ss[0]&2?ws.return:Ss[0]?ws.throw||((vs=ws.return)&&vs.call(ws),0):ws.next)&&!(vs=vs.call(ws,Ss[1])).done)return vs;switch(ws=0,vs&&(Ss=[Ss[0]&2,vs.value]),Ss[0]){case 0:case 1:vs=Ss;break;case 4:return et.label++,{value:Ss[1],done:!1};case 5:et.label++,ws=Ss[1],Ss=[0];continue;case 7:Ss=et.ops.pop(),et.trys.pop();continue;default:if(vs=et.trys,!(vs=vs.length>0&&vs[vs.length-1])&&(Ss[0]===6||Ss[0]===2)){et=0;continue}if(Ss[0]===3&&(!vs||Ss[1]>vs[0]&&Ss[1]<vs[3])){et.label=Ss[1];break}if(Ss[0]===6&&et.label<vs[1]){et.label=vs[1],vs=Ss;break}if(vs&&et.label<vs[2]){et.label=vs[2],et.ops.push(Ss);break}vs[2]&&et.ops.pop(),et.trys.pop();continue}Ss=t.call(st,et)}catch(Rs){Ss=[6,Rs],ws=0}finally{ms=vs=0}if(Ss[0]&5)throw Ss[1];return{value:Ss[0]?Ss[1]:void 0,done:!0}}}function __createBinding(st,t,et,ms){ms===void 0&&(ms=et),st[ms]=t[et]}function __exportStar(st,t){for(var et in st)et!=="default"&&!t.hasOwnProperty(et)&&(t[et]=st[et])}function __values(st){var t=typeof Symbol=="function"&&Symbol.iterator,et=t&&st[t],ms=0;if(et)return et.call(st);if(st&&typeof st.length=="number")return{next:function(){return st&&ms>=st.length&&(st=void 0),{value:st&&st[ms++],done:!st}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(st,t){var et=typeof Symbol=="function"&&st[Symbol.iterator];if(!et)return st;var ms=et.call(st),ws,vs=[],_s;try{for(;(t===void 0||t-- >0)&&!(ws=ms.next()).done;)vs.push(ws.value)}catch(Es){_s={error:Es}}finally{try{ws&&!ws.done&&(et=ms.return)&&et.call(ms)}finally{if(_s)throw _s.error}}return vs}function __spread(){for(var st=[],t=0;t<arguments.length;t++)st=st.concat(__read(arguments[t]));return st}function __spreadArrays(){for(var st=0,t=0,et=arguments.length;t<et;t++)st+=arguments[t].length;for(var ms=Array(st),ws=0,t=0;t<et;t++)for(var vs=arguments[t],_s=0,Es=vs.length;_s<Es;_s++,ws++)ms[ws]=vs[_s];return ms}function __await(st){return this instanceof __await?(this.v=st,this):new __await(st)}function __asyncGenerator(st,t,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ms=et.apply(st,t||[]),ws,vs=[];return ws={},_s("next"),_s("throw"),_s("return"),ws[Symbol.asyncIterator]=function(){return this},ws;function _s(Is){ms[Is]&&(ws[Is]=function(Ws){return new Promise(function(Hs,Ns){vs.push([Is,Ws,Hs,Ns])>1||Es(Is,Ws)})})}function Es(Is,Ws){try{Ts(ms[Is](Ws))}catch(Hs){Bs(vs[0][3],Hs)}}function Ts(Is){Is.value instanceof __await?Promise.resolve(Is.value.v).then(Ss,Rs):Bs(vs[0][2],Is)}function Ss(Is){Es("next",Is)}function Rs(Is){Es("throw",Is)}function Bs(Is,Ws){Is(Ws),vs.shift(),vs.length&&Es(vs[0][0],vs[0][1])}}function __asyncDelegator(st){var t,et;return t={},ms("next"),ms("throw",function(ws){throw ws}),ms("return"),t[Symbol.iterator]=function(){return this},t;function ms(ws,vs){t[ws]=st[ws]?function(_s){return(et=!et)?{value:__await(st[ws](_s)),done:ws==="return"}:vs?vs(_s):_s}:vs}}function __asyncValues(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=st[Symbol.asyncIterator],et;return t?t.call(st):(st=typeof __values=="function"?__values(st):st[Symbol.iterator](),et={},ms("next"),ms("throw"),ms("return"),et[Symbol.asyncIterator]=function(){return this},et);function ms(vs){et[vs]=st[vs]&&function(_s){return new Promise(function(Es,Ts){_s=st[vs](_s),ws(Es,Ts,_s.done,_s.value)})}}function ws(vs,_s,Es,Ts){Promise.resolve(Ts).then(function(Ss){vs({value:Ss,done:Es})},_s)}}function __makeTemplateObject(st,t){return Object.defineProperty?Object.defineProperty(st,"raw",{value:t}):st.raw=t,st}function __importStar(st){if(st&&st.__esModule)return st;var t={};if(st!=null)for(var et in st)Object.hasOwnProperty.call(st,et)&&(t[et]=st[et]);return t.default=st,t}function __importDefault(st){return st&&st.__esModule?st:{default:st}}function __classPrivateFieldGet(st,t){if(!t.has(st))throw new TypeError("attempted to get private field on non-instance");return t.get(st)}function __classPrivateFieldSet(st,t,et){if(!t.has(st))throw new TypeError("attempted to set private field on non-instance");return t.set(st,et),et}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6);var utils={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function st(t){return new Promise(et=>{setTimeout(()=>{et(!0)},t)})}return delay.delay=st,delay}var convert={},constants={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.ONE_YEAR=st.FOUR_WEEKS=st.THREE_WEEKS=st.TWO_WEEKS=st.ONE_WEEK=st.THIRTY_DAYS=st.SEVEN_DAYS=st.FIVE_DAYS=st.THREE_DAYS=st.ONE_DAY=st.TWENTY_FOUR_HOURS=st.TWELVE_HOURS=st.SIX_HOURS=st.THREE_HOURS=st.ONE_HOUR=st.SIXTY_MINUTES=st.THIRTY_MINUTES=st.TEN_MINUTES=st.FIVE_MINUTES=st.ONE_MINUTE=st.SIXTY_SECONDS=st.THIRTY_SECONDS=st.TEN_SECONDS=st.FIVE_SECONDS=st.ONE_SECOND=void 0,st.ONE_SECOND=1,st.FIVE_SECONDS=5,st.TEN_SECONDS=10,st.THIRTY_SECONDS=30,st.SIXTY_SECONDS=60,st.ONE_MINUTE=st.SIXTY_SECONDS,st.FIVE_MINUTES=st.ONE_MINUTE*5,st.TEN_MINUTES=st.ONE_MINUTE*10,st.THIRTY_MINUTES=st.ONE_MINUTE*30,st.SIXTY_MINUTES=st.ONE_MINUTE*60,st.ONE_HOUR=st.SIXTY_MINUTES,st.THREE_HOURS=st.ONE_HOUR*3,st.SIX_HOURS=st.ONE_HOUR*6,st.TWELVE_HOURS=st.ONE_HOUR*12,st.TWENTY_FOUR_HOURS=st.ONE_HOUR*24,st.ONE_DAY=st.TWENTY_FOUR_HOURS,st.THREE_DAYS=st.ONE_DAY*3,st.FIVE_DAYS=st.ONE_DAY*5,st.SEVEN_DAYS=st.ONE_DAY*7,st.THIRTY_DAYS=st.ONE_DAY*30,st.ONE_WEEK=st.SEVEN_DAYS,st.TWO_WEEKS=st.ONE_WEEK*2,st.THREE_WEEKS=st.ONE_WEEK*3,st.FOUR_WEEKS=st.ONE_WEEK*4,st.ONE_YEAR=st.ONE_DAY*365}(time)),time}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});const t=require$$0;t.__exportStar(requireMisc(),st),t.__exportStar(requireTime(),st)}(constants)),constants}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const st=requireConstants();function t(ms){return ms*st.ONE_THOUSAND}convert.toMiliseconds=t;function et(ms){return Math.floor(ms/st.ONE_THOUSAND)}return convert.fromMiliseconds=et,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});const t=require$$0;t.__exportStar(requireDelay(),st),t.__exportStar(requireConvert(),st)}(utils)),utils}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class st{constructor(){this.timestamps=new Map}start(et){if(this.timestamps.has(et))throw new Error(`Watch already started for label: ${et}`);this.timestamps.set(et,{started:Date.now()})}stop(et){const ms=this.get(et);if(typeof ms.elapsed<"u")throw new Error(`Watch already stopped for label: ${et}`);const ws=Date.now()-ms.started;this.timestamps.set(et,{started:ms.started,elapsed:ws})}get(et){const ms=this.timestamps.get(et);if(typeof ms>"u")throw new Error(`No timestamp found for label: ${et}`);return ms}elapsed(et){const ms=this.get(et);return ms.elapsed||Date.now()-ms.started}}return watch$2.Watch=st,watch$2.default=st,watch$2}var types={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class st{}return watch$1.IWatch=st,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(st){Object.defineProperty(st,"__esModule",{value:!0}),require$$0.__exportStar(requireWatch(),st)}(types)),types}var hasRequiredCjs$3;function requireCjs$3(){return hasRequiredCjs$3||(hasRequiredCjs$3=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});const t=require$$0;t.__exportStar(requireUtils(),st),t.__exportStar(requireWatch$1(),st),t.__exportStar(requireTypes(),st),t.__exportStar(requireConstants(),st)}(cjs$3)),cjs$3}var cjsExports$3=requireCjs$3();class IEvents{}let n$2=class extends IEvents{constructor(t){super()}};const s=cjsExports$3.FIVE_SECONDS,r$1={pulse:"heartbeat_pulse"};let i$2=class ud extends n$2{constructor(t){super(t),this.events=new eventsExports.EventEmitter,this.interval=s,this.interval=t?.interval||s}static async init(t){const et=new ud(t);return await et.init(),et}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,et){this.events.on(t,et)}once(t,et){this.events.once(t,et)}off(t,et){this.events.off(t,et)}removeListener(t,et){this.events.removeListener(t,et)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjsExports$3.toMiliseconds(this.interval))}pulse(){this.events.emit(r$1.pulse)}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(st,t){if(st==="__proto__"||st==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(st);return}return t}function warnKeyDropped(st){console.warn(`[destr] Dropping "${st}" key to prevent prototype pollution.`)}function destr(st,t={}){if(typeof st!="string")return st;if(st[0]==='"'&&st[st.length-1]==='"'&&st.indexOf("\\")===-1)return st.slice(1,-1);const et=st.trim();if(et.length<=9)switch(et.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(st)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return st}try{if(suspectProtoRx.test(st)||suspectConstructorRx.test(st)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(st,jsonParseTransform)}return JSON.parse(st)}catch(ms){if(t.strict)throw ms;return st}}function wrapToPromise(st){return!st||typeof st.then!="function"?Promise.resolve(st):st}function asyncCall(st,...t){try{return wrapToPromise(st(...t))}catch(et){return Promise.reject(et)}}function isPrimitive(st){const t=typeof st;return st===null||t!=="object"&&t!=="function"}function isPureObject(st){const t=Object.getPrototypeOf(st);return!t||t.isPrototypeOf(Object)}function stringify(st){if(isPrimitive(st))return String(st);if(isPureObject(st)||Array.isArray(st))return JSON.stringify(st);if(typeof st.toJSON=="function")return stringify(st.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const BASE64_PREFIX="base64:";function serializeRaw(st){return typeof st=="string"?st:BASE64_PREFIX+base64Encode(st)}function deserializeRaw(st){return typeof st!="string"||!st.startsWith(BASE64_PREFIX)?st:base64Decode(st.slice(BASE64_PREFIX.length))}function base64Decode(st){return globalThis.Buffer?Buffer.from(st,"base64"):Uint8Array.from(globalThis.atob(st),t=>t.codePointAt(0))}function base64Encode(st){return globalThis.Buffer?Buffer.from(st).toString("base64"):globalThis.btoa(String.fromCodePoint(...st))}function normalizeKey(st){return st&&st.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function joinKeys(...st){return normalizeKey(st.join(":"))}function normalizeBaseKey(st){return st=normalizeKey(st),st?st+":":""}function filterKeyByDepth(st,t){if(t===void 0)return!0;let et=0,ms=st.indexOf(":");for(;ms>-1;)et++,ms=st.indexOf(":",ms+1);return et<=t}function filterKeyByBase(st,t){return t?st.startsWith(t)&&st[st.length-1]!=="$":st[st.length-1]!=="$"}function defineDriver(st){return st}const DRIVER_NAME="memory",memory=()=>{const st=new Map;return{name:DRIVER_NAME,getInstance:()=>st,hasItem(t){return st.has(t)},getItem(t){return st.get(t)??null},getItemRaw(t){return st.get(t)??null},setItem(t,et){st.set(t,et)},setItemRaw(t,et){st.set(t,et)},removeItem(t){st.delete(t)},getKeys(){return[...st.keys()]},clear(){st.clear()},dispose(){st.clear()}}};function createStorage(st={}){const t={mounts:{"":st.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},et=Ss=>{for(const Rs of t.mountpoints)if(Ss.startsWith(Rs))return{base:Rs,relativeKey:Ss.slice(Rs.length),driver:t.mounts[Rs]};return{base:"",relativeKey:Ss,driver:t.mounts[""]}},ms=(Ss,Rs)=>t.mountpoints.filter(Bs=>Bs.startsWith(Ss)||Rs&&Ss.startsWith(Bs)).map(Bs=>({relativeBase:Ss.length>Bs.length?Ss.slice(Bs.length):void 0,mountpoint:Bs,driver:t.mounts[Bs]})),ws=(Ss,Rs)=>{if(t.watching){Rs=normalizeKey(Rs);for(const Bs of t.watchListeners)Bs(Ss,Rs)}},vs=async()=>{if(!t.watching){t.watching=!0;for(const Ss in t.mounts)t.unwatch[Ss]=await watch(t.mounts[Ss],ws,Ss)}},_s=async()=>{if(t.watching){for(const Ss in t.unwatch)await t.unwatch[Ss]();t.unwatch={},t.watching=!1}},Es=(Ss,Rs,Bs)=>{const Is=new Map,Ws=Hs=>{let Ns=Is.get(Hs.base);return Ns||(Ns={driver:Hs.driver,base:Hs.base,items:[]},Is.set(Hs.base,Ns)),Ns};for(const Hs of Ss){const Ns=typeof Hs=="string",Js=normalizeKey(Ns?Hs:Hs.key),ha=Ns?void 0:Hs.value,pa=Ns||!Hs.options?Rs:{...Rs,...Hs.options},za=et(Js);Ws(za).items.push({key:Js,value:ha,relativeKey:za.relativeKey,options:pa})}return Promise.all([...Is.values()].map(Hs=>Bs(Hs))).then(Hs=>Hs.flat())},Ts={hasItem(Ss,Rs={}){Ss=normalizeKey(Ss);const{relativeKey:Bs,driver:Is}=et(Ss);return asyncCall(Is.hasItem,Bs,Rs)},getItem(Ss,Rs={}){Ss=normalizeKey(Ss);const{relativeKey:Bs,driver:Is}=et(Ss);return asyncCall(Is.getItem,Bs,Rs).then(Ws=>destr(Ws))},getItems(Ss,Rs={}){return Es(Ss,Rs,Bs=>Bs.driver.getItems?asyncCall(Bs.driver.getItems,Bs.items.map(Is=>({key:Is.relativeKey,options:Is.options})),Rs).then(Is=>Is.map(Ws=>({key:joinKeys(Bs.base,Ws.key),value:destr(Ws.value)}))):Promise.all(Bs.items.map(Is=>asyncCall(Bs.driver.getItem,Is.relativeKey,Is.options).then(Ws=>({key:Is.key,value:destr(Ws)})))))},getItemRaw(Ss,Rs={}){Ss=normalizeKey(Ss);const{relativeKey:Bs,driver:Is}=et(Ss);return Is.getItemRaw?asyncCall(Is.getItemRaw,Bs,Rs):asyncCall(Is.getItem,Bs,Rs).then(Ws=>deserializeRaw(Ws))},async setItem(Ss,Rs,Bs={}){if(Rs===void 0)return Ts.removeItem(Ss);Ss=normalizeKey(Ss);const{relativeKey:Is,driver:Ws}=et(Ss);Ws.setItem&&(await asyncCall(Ws.setItem,Is,stringify(Rs),Bs),Ws.watch||ws("update",Ss))},async setItems(Ss,Rs){await Es(Ss,Rs,async Bs=>{if(Bs.driver.setItems)return asyncCall(Bs.driver.setItems,Bs.items.map(Is=>({key:Is.relativeKey,value:stringify(Is.value),options:Is.options})),Rs);Bs.driver.setItem&&await Promise.all(Bs.items.map(Is=>asyncCall(Bs.driver.setItem,Is.relativeKey,stringify(Is.value),Is.options)))})},async setItemRaw(Ss,Rs,Bs={}){if(Rs===void 0)return Ts.removeItem(Ss,Bs);Ss=normalizeKey(Ss);const{relativeKey:Is,driver:Ws}=et(Ss);if(Ws.setItemRaw)await asyncCall(Ws.setItemRaw,Is,Rs,Bs);else if(Ws.setItem)await asyncCall(Ws.setItem,Is,serializeRaw(Rs),Bs);else return;Ws.watch||ws("update",Ss)},async removeItem(Ss,Rs={}){typeof Rs=="boolean"&&(Rs={removeMeta:Rs}),Ss=normalizeKey(Ss);const{relativeKey:Bs,driver:Is}=et(Ss);Is.removeItem&&(await asyncCall(Is.removeItem,Bs,Rs),(Rs.removeMeta||Rs.removeMata)&&await asyncCall(Is.removeItem,Bs+"$",Rs),Is.watch||ws("remove",Ss))},async getMeta(Ss,Rs={}){typeof Rs=="boolean"&&(Rs={nativeOnly:Rs}),Ss=normalizeKey(Ss);const{relativeKey:Bs,driver:Is}=et(Ss),Ws=Object.create(null);if(Is.getMeta&&Object.assign(Ws,await asyncCall(Is.getMeta,Bs,Rs)),!Rs.nativeOnly){const Hs=await asyncCall(Is.getItem,Bs+"$",Rs).then(Ns=>destr(Ns));Hs&&typeof Hs=="object"&&(typeof Hs.atime=="string"&&(Hs.atime=new Date(Hs.atime)),typeof Hs.mtime=="string"&&(Hs.mtime=new Date(Hs.mtime)),Object.assign(Ws,Hs))}return Ws},setMeta(Ss,Rs,Bs={}){return this.setItem(Ss+"$",Rs,Bs)},removeMeta(Ss,Rs={}){return this.removeItem(Ss+"$",Rs)},async getKeys(Ss,Rs={}){Ss=normalizeBaseKey(Ss);const Bs=ms(Ss,!0);let Is=[];const Ws=[];let Hs=!0;for(const Js of Bs){Js.driver.flags?.maxDepth||(Hs=!1);const ha=await asyncCall(Js.driver.getKeys,Js.relativeBase,Rs);for(const pa of ha){const za=Js.mountpoint+normalizeKey(pa);Is.some(Ya=>za.startsWith(Ya))||Ws.push(za)}Is=[Js.mountpoint,...Is.filter(pa=>!pa.startsWith(Js.mountpoint))]}const Ns=Rs.maxDepth!==void 0&&!Hs;return Ws.filter(Js=>(!Ns||filterKeyByDepth(Js,Rs.maxDepth))&&filterKeyByBase(Js,Ss))},async clear(Ss,Rs={}){Ss=normalizeBaseKey(Ss),await Promise.all(ms(Ss,!1).map(async Bs=>{if(Bs.driver.clear)return asyncCall(Bs.driver.clear,Bs.relativeBase,Rs);if(Bs.driver.removeItem){const Is=await Bs.driver.getKeys(Bs.relativeBase||"",Rs);return Promise.all(Is.map(Ws=>Bs.driver.removeItem(Ws,Rs)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(Ss=>dispose(Ss)))},async watch(Ss){return await vs(),t.watchListeners.push(Ss),async()=>{t.watchListeners=t.watchListeners.filter(Rs=>Rs!==Ss),t.watchListeners.length===0&&await _s()}},async unwatch(){t.watchListeners=[],await _s()},mount(Ss,Rs){if(Ss=normalizeBaseKey(Ss),Ss&&t.mounts[Ss])throw new Error(`already mounted at ${Ss}`);return Ss&&(t.mountpoints.push(Ss),t.mountpoints.sort((Bs,Is)=>Is.length-Bs.length)),t.mounts[Ss]=Rs,t.watching&&Promise.resolve(watch(Rs,ws,Ss)).then(Bs=>{t.unwatch[Ss]=Bs}).catch(console.error),Ts},async unmount(Ss,Rs=!0){Ss=normalizeBaseKey(Ss),!(!Ss||!t.mounts[Ss])&&(t.watching&&Ss in t.unwatch&&(t.unwatch[Ss]?.(),delete t.unwatch[Ss]),Rs&&await dispose(t.mounts[Ss]),t.mountpoints=t.mountpoints.filter(Bs=>Bs!==Ss),delete t.mounts[Ss])},getMount(Ss=""){Ss=normalizeKey(Ss)+":";const Rs=et(Ss);return{driver:Rs.driver,base:Rs.base}},getMounts(Ss="",Rs={}){return Ss=normalizeKey(Ss),ms(Ss,Rs.parents).map(Is=>({driver:Is.driver,base:Is.mountpoint}))},keys:(Ss,Rs={})=>Ts.getKeys(Ss,Rs),get:(Ss,Rs={})=>Ts.getItem(Ss,Rs),set:(Ss,Rs,Bs={})=>Ts.setItem(Ss,Rs,Bs),has:(Ss,Rs={})=>Ts.hasItem(Ss,Rs),del:(Ss,Rs={})=>Ts.removeItem(Ss,Rs),remove:(Ss,Rs={})=>Ts.removeItem(Ss,Rs)};return Ts}function watch(st,t,et){return st.watch?st.watch((ms,ws)=>t(ms,et+ws)):()=>{}}async function dispose(st){typeof st.dispose=="function"&&await asyncCall(st.dispose)}function promisifyRequest(st){return new Promise((t,et)=>{st.oncomplete=st.onsuccess=()=>t(st.result),st.onabort=st.onerror=()=>et(st.error)})}function createStore(st,t){let et;const ms=()=>{if(et)return et;const ws=indexedDB.open(st);return ws.onupgradeneeded=()=>ws.result.createObjectStore(t),et=promisifyRequest(ws),et.then(vs=>{vs.onclose=()=>et=void 0},()=>{}),et};return(ws,vs)=>ms().then(_s=>vs(_s.transaction(t,ws).objectStore(t)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(st,t=defaultGetStore()){return t("readonly",et=>promisifyRequest(et.get(st)))}function set(st,t,et=defaultGetStore()){return et("readwrite",ms=>(ms.put(t,st),promisifyRequest(ms.transaction)))}function del(st,t=defaultGetStore()){return t("readwrite",et=>(et.delete(st),promisifyRequest(et.transaction)))}function clear(st=defaultGetStore()){return st("readwrite",t=>(t.clear(),promisifyRequest(t.transaction)))}function eachCursor(st,t){return st.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},promisifyRequest(st.transaction)}function keys(st=defaultGetStore()){return st("readonly",t=>{if(t.getAllKeys)return promisifyRequest(t.getAllKeys());const et=[];return eachCursor(t,ms=>et.push(ms.key)).then(()=>et)})}const JSONStringify=st=>JSON.stringify(st,(t,et)=>typeof et=="bigint"?et.toString()+"n":et),JSONParse=st=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,et=st.replace(t,'$1"$2n"$3');return JSON.parse(et,(ms,ws)=>typeof ws=="string"&&ws.match(/^\d+n$/)?BigInt(ws.substring(0,ws.length-1)):ws)};function safeJsonParse(st){if(typeof st!="string")throw new Error(`Cannot safe json parse value of type ${typeof st}`);try{return JSONParse(st)}catch{return st}}function safeJsonStringify(st){return typeof st=="string"?st:JSONStringify(st)||""}const x$4="idb-keyval";var z$2=(st={})=>{const t=st.base&&st.base.length>0?`${st.base}:`:"",et=ws=>t+ws;let ms;return st.dbName&&st.storeName&&(ms=createStore(st.dbName,st.storeName)),{name:x$4,options:st,async hasItem(ws){return!(typeof await get(et(ws),ms)>"u")},async getItem(ws){return await get(et(ws),ms)??null},setItem(ws,vs){return set(et(ws),vs,ms)},removeItem(ws){return del(et(ws),ms)},getKeys(){return keys(ms)},clear(){return clear(ms)}}};const D$1="WALLET_CONNECT_V2_INDEXED_DB",E$4="keyvaluestorage";let _$1=class{constructor(){this.indexedDb=createStorage({driver:z$2({dbName:D$1,storeName:E$4})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const et=await this.indexedDb.getItem(t);if(et!==null)return et}async setItem(t,et){await this.indexedDb.setItem(t,safeJsonStringify(et))}async removeItem(t){await this.indexedDb.removeItem(t)}};var l$3=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},c$4={exports:{}};(function(){let st;function t(){}st=t,st.prototype.getItem=function(et){return this.hasOwnProperty(et)?String(this[et]):null},st.prototype.setItem=function(et,ms){this[et]=String(ms)},st.prototype.removeItem=function(et){delete this[et]},st.prototype.clear=function(){const et=this;Object.keys(et).forEach(function(ms){et[ms]=void 0,delete et[ms]})},st.prototype.key=function(et){return et=et||0,Object.keys(this)[et]},st.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$3<"u"&&l$3.localStorage?c$4.exports=l$3.localStorage:typeof window<"u"&&window.localStorage?c$4.exports=window.localStorage:c$4.exports=new t})();function k$4(st){var t;return[st[0],safeJsonParse((t=st[1])!=null?t:"")]}let K$2=class{constructor(){this.localStorage=c$4.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$4)}async getItem(t){const et=this.localStorage.getItem(t);if(et!==null)return safeJsonParse(et)}async setItem(t,et){this.localStorage.setItem(t,safeJsonStringify(et))}async removeItem(t){this.localStorage.removeItem(t)}};const N$4="wc_storage_version",y$4=1,O$5=async(st,t,et)=>{const ms=N$4,ws=await t.getItem(ms);if(ws&&ws>=y$4){et(t);return}const vs=await st.getKeys();if(!vs.length){et(t);return}const _s=[];for(;vs.length;){const Es=vs.shift();if(!Es)continue;const Ts=Es.toLowerCase();if(Ts.includes("wc@")||Ts.includes("walletconnect")||Ts.includes("wc_")||Ts.includes("wallet_connect")){const Ss=await st.getItem(Es);await t.setItem(Es,Ss),_s.push(Es)}}await t.setItem(ms,y$4),et(t),j$3(st,_s)},j$3=async(st,t)=>{t.length&&t.forEach(async et=>{await st.removeItem(et)})};let h$3=class{constructor(){this.initialized=!1,this.setInitialized=et=>{this.storage=et,this.initialized=!0};const t=new K$2;this.storage=t;try{const et=new _$1;O$5(t,et,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,et){return await this.initialize(),this.storage.setItem(t,et)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const et=setInterval(()=>{this.initialized&&(clearInterval(et),t())},20)})}};var quickFormatUnescaped,hasRequiredQuickFormatUnescaped;function requireQuickFormatUnescaped(){if(hasRequiredQuickFormatUnescaped)return quickFormatUnescaped;hasRequiredQuickFormatUnescaped=1;function st(et){try{return JSON.stringify(et)}catch{return'"[Circular]"'}}quickFormatUnescaped=t;function t(et,ms,ws){var vs=ws&&ws.stringify||st,_s=1;if(typeof et=="object"&&et!==null){var Es=ms.length+_s;if(Es===1)return et;var Ts=new Array(Es);Ts[0]=vs(et);for(var Ss=1;Ss<Es;Ss++)Ts[Ss]=vs(ms[Ss]);return Ts.join(" ")}if(typeof et!="string")return et;var Rs=ms.length;if(Rs===0)return et;for(var Bs="",Is=1-_s,Ws=-1,Hs=et&&et.length||0,Ns=0;Ns<Hs;){if(et.charCodeAt(Ns)===37&&Ns+1<Hs){switch(Ws=Ws>-1?Ws:0,et.charCodeAt(Ns+1)){case 100:case 102:if(Is>=Rs||ms[Is]==null)break;Ws<Ns&&(Bs+=et.slice(Ws,Ns)),Bs+=Number(ms[Is]),Ws=Ns+2,Ns++;break;case 105:if(Is>=Rs||ms[Is]==null)break;Ws<Ns&&(Bs+=et.slice(Ws,Ns)),Bs+=Math.floor(Number(ms[Is])),Ws=Ns+2,Ns++;break;case 79:case 111:case 106:if(Is>=Rs||ms[Is]===void 0)break;Ws<Ns&&(Bs+=et.slice(Ws,Ns));var Js=typeof ms[Is];if(Js==="string"){Bs+="'"+ms[Is]+"'",Ws=Ns+2,Ns++;break}if(Js==="function"){Bs+=ms[Is].name||"<anonymous>",Ws=Ns+2,Ns++;break}Bs+=vs(ms[Is]),Ws=Ns+2,Ns++;break;case 115:if(Is>=Rs)break;Ws<Ns&&(Bs+=et.slice(Ws,Ns)),Bs+=String(ms[Is]),Ws=Ns+2,Ns++;break;case 37:Ws<Ns&&(Bs+=et.slice(Ws,Ns)),Bs+="%",Ws=Ns+2,Ns++,Is--;break}++Is}++Ns}return Ws===-1?et:(Ws<Hs&&(Bs+=et.slice(Ws)),Bs)}return quickFormatUnescaped}var browser,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;const st=requireQuickFormatUnescaped();browser=ws;const t=Bc().console||{},et={mapHttpRequest:Hs,mapHttpResponse:Hs,wrapRequestSerializer:Ns,wrapResponseSerializer:Ns,wrapErrorSerializer:Ns,req:Hs,res:Hs,err:Is};function ms(Qa,tu){return Array.isArray(Qa)?Qa.filter(function(ru){return ru!=="!stdSerializers.err"}):Qa===!0?Object.keys(tu):!1}function ws(Qa){Qa=Qa||{},Qa.browser=Qa.browser||{};const tu=Qa.browser.transmit;if(tu&&typeof tu.send!="function")throw Error("pino: transmit option must have a send function");const eu=Qa.browser.write||t;Qa.browser.write&&(Qa.browser.asObject=!0);const ru=Qa.serializers||{},cu=ms(Qa.browser.serialize,ru);let ou=Qa.browser.serialize;Array.isArray(Qa.browser.serialize)&&Qa.browser.serialize.indexOf("!stdSerializers.err")>-1&&(ou=!1);const Ga=["error","fatal","warn","info","debug","trace"];typeof eu=="function"&&(eu.error=eu.fatal=eu.warn=eu.info=eu.debug=eu.trace=eu),Qa.enabled===!1&&(Qa.level="silent");const Xa=Qa.level||"info",Fa=Object.create(eu);Fa.log||(Fa.log=Js),Object.defineProperty(Fa,"levelVal",{get:Wa}),Object.defineProperty(Fa,"level",{get:Za,set:iu});const Zs={transmit:tu,serialize:cu,asObject:Qa.browser.asObject,levels:Ga,timestamp:Ws(Qa)};Fa.levels=ws.levels,Fa.level=Xa,Fa.setMaxListeners=Fa.getMaxListeners=Fa.emit=Fa.addListener=Fa.on=Fa.prependListener=Fa.once=Fa.prependOnceListener=Fa.removeListener=Fa.removeAllListeners=Fa.listeners=Fa.listenerCount=Fa.eventNames=Fa.write=Fa.flush=Js,Fa.serializers=ru,Fa._serialize=cu,Fa._stdErrSerialize=ou,Fa.child=au,tu&&(Fa._logEvent=Bs());function Wa(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Za(){return this._level}function iu(nu){if(nu!=="silent"&&!this.levels.values[nu])throw Error("unknown level "+nu);this._level=nu,vs(Zs,Fa,"error","log"),vs(Zs,Fa,"fatal","error"),vs(Zs,Fa,"warn","error"),vs(Zs,Fa,"info","log"),vs(Zs,Fa,"debug","log"),vs(Zs,Fa,"trace","log")}function au(nu,uu){if(!nu)throw new Error("missing bindings for child Pino");uu=uu||{},cu&&nu.serializers&&(uu.serializers=nu.serializers);const fu=uu.serializers;if(cu&&fu){var hu=Object.assign({},ru,fu),Eu=Qa.browser.serialize===!0?Object.keys(hu):cu;delete nu.serializers,Ts([nu],Eu,hu,this._stdErrSerialize)}function $u(Ou){this._childLevel=(Ou._childLevel|0)+1,this.error=Ss(Ou,nu,"error"),this.fatal=Ss(Ou,nu,"fatal"),this.warn=Ss(Ou,nu,"warn"),this.info=Ss(Ou,nu,"info"),this.debug=Ss(Ou,nu,"debug"),this.trace=Ss(Ou,nu,"trace"),hu&&(this.serializers=hu,this._serialize=Eu),tu&&(this._logEvent=Bs([].concat(Ou._logEvent.bindings,nu)))}return $u.prototype=this,new $u(this)}return Fa}ws.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},ws.stdSerializers=et,ws.stdTimeFunctions=Object.assign({},{nullTime:ha,epochTime:pa,unixTime:za,isoTime:Ya});function vs(Qa,tu,eu,ru){const cu=Object.getPrototypeOf(tu);tu[eu]=tu.levelVal>tu.levels.values[eu]?Js:cu[eu]?cu[eu]:t[eu]||t[ru]||Js,_s(Qa,tu,eu)}function _s(Qa,tu,eu){!Qa.transmit&&tu[eu]===Js||(tu[eu]=function(ru){return function(){const ou=Qa.timestamp(),Ga=new Array(arguments.length),Xa=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var Fa=0;Fa<Ga.length;Fa++)Ga[Fa]=arguments[Fa];if(Qa.serialize&&!Qa.asObject&&Ts(Ga,this._serialize,this.serializers,this._stdErrSerialize),Qa.asObject?ru.call(Xa,Es(this,eu,Ga,ou)):ru.apply(Xa,Ga),Qa.transmit){const Zs=Qa.transmit.level||tu.level,Wa=ws.levels.values[Zs],Za=ws.levels.values[eu];if(Za<Wa)return;Rs(this,{ts:ou,methodLevel:eu,methodValue:Za,transmitValue:ws.levels.values[Qa.transmit.level||tu.level],send:Qa.transmit.send,val:tu.levelVal},Ga)}}}(tu[eu]))}function Es(Qa,tu,eu,ru){Qa._serialize&&Ts(eu,Qa._serialize,Qa.serializers,Qa._stdErrSerialize);const cu=eu.slice();let ou=cu[0];const Ga={};ru&&(Ga.time=ru),Ga.level=ws.levels.values[tu];let Xa=(Qa._childLevel|0)+1;if(Xa<1&&(Xa=1),ou!==null&&typeof ou=="object"){for(;Xa--&&typeof cu[0]=="object";)Object.assign(Ga,cu.shift());ou=cu.length?st(cu.shift(),cu):void 0}else typeof ou=="string"&&(ou=st(cu.shift(),cu));return ou!==void 0&&(Ga.msg=ou),Ga}function Ts(Qa,tu,eu,ru){for(const cu in Qa)if(ru&&Qa[cu]instanceof Error)Qa[cu]=ws.stdSerializers.err(Qa[cu]);else if(typeof Qa[cu]=="object"&&!Array.isArray(Qa[cu]))for(const ou in Qa[cu])tu&&tu.indexOf(ou)>-1&&ou in eu&&(Qa[cu][ou]=eu[ou](Qa[cu][ou]))}function Ss(Qa,tu,eu){return function(){const ru=new Array(1+arguments.length);ru[0]=tu;for(var cu=1;cu<ru.length;cu++)ru[cu]=arguments[cu-1];return Qa[eu].apply(this,ru)}}function Rs(Qa,tu,eu){const ru=tu.send,cu=tu.ts,ou=tu.methodLevel,Ga=tu.methodValue,Xa=tu.val,Fa=Qa._logEvent.bindings;Ts(eu,Qa._serialize||Object.keys(Qa.serializers),Qa.serializers,Qa._stdErrSerialize===void 0?!0:Qa._stdErrSerialize),Qa._logEvent.ts=cu,Qa._logEvent.messages=eu.filter(function(Zs){return Fa.indexOf(Zs)===-1}),Qa._logEvent.level.label=ou,Qa._logEvent.level.value=Ga,ru(ou,Qa._logEvent,Xa),Qa._logEvent=Bs(Fa)}function Bs(Qa){return{ts:0,messages:[],bindings:Qa||[],level:{label:"",value:0}}}function Is(Qa){const tu={type:Qa.constructor.name,msg:Qa.message,stack:Qa.stack};for(const eu in Qa)tu[eu]===void 0&&(tu[eu]=Qa[eu]);return tu}function Ws(Qa){return typeof Qa.timestamp=="function"?Qa.timestamp:Qa.timestamp===!1?ha:pa}function Hs(){return{}}function Ns(Qa){return Qa}function Js(){}function ha(){return!1}function pa(){return Date.now()}function za(){return Math.round(Date.now()/1e3)}function Ya(){return new Date(Date.now()).toISOString()}function Bc(){function Qa(tu){return typeof tu<"u"&&tu}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return Qa(self)||Qa(window)||Qa(this)||{}}}return browser}var browserExports=requireBrowser();const qt$3=getDefaultExportFromCjs$1(browserExports),c$3={level:"info"},n$1="custom_context",l$2=1e3*1024;let O$4=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$3=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const et=new O$4(t);if(et.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${et.size}`);for(;this.size+et.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=et),this.tail=et):(this.head=et,this.tail=et),this.lengthInNodes++,this.sizeInBytes+=et.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let et=this.head;for(;et!==null;)t.push(et.value),et=et.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const et=t.value;return t=t.next,{done:!1,value:et}}}}},L$3=class{constructor(t,et=l$2){this.level=t??"error",this.levelValue=browserExports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=et,this.logs=new d$3(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,et){et===browserExports.levels.values.error?console.error(t):et===browserExports.levels.values.warn?console.warn(t):et===browserExports.levels.values.debug?console.debug(t):et===browserExports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:t}));const et=typeof t=="string"?JSON.parse(t).level:t.level;et>=this.levelValue&&this.forwardToConsole(t,et)}getLogs(){return this.logs}clearLogs(){this.logs=new d$3(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const et=this.getLogArray();return et.push(safeJsonStringify({extraMetadata:t})),new Blob(et,{type:"application/json"})}},m$1=class{constructor(t,et=l$2){this.baseChunkLogger=new L$3(t,et)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const et=URL.createObjectURL(this.logsToBlob(t)),ms=document.createElement("a");ms.href=et,ms.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(ms),ms.click(),document.body.removeChild(ms),URL.revokeObjectURL(et)}},B$2=class{constructor(t,et=l$2){this.baseChunkLogger=new L$3(t,et)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var x$3=Object.defineProperty,S$3=Object.defineProperties,_=Object.getOwnPropertyDescriptors,p$3=Object.getOwnPropertySymbols,T$3=Object.prototype.hasOwnProperty,z$1=Object.prototype.propertyIsEnumerable,f$6=(st,t,et)=>t in st?x$3(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,i$1=(st,t)=>{for(var et in t||(t={}))T$3.call(t,et)&&f$6(st,et,t[et]);if(p$3)for(var et of p$3(t))z$1.call(t,et)&&f$6(st,et,t[et]);return st},g$1=(st,t)=>S$3(st,_(t));function k$3(st){return g$1(i$1({},st),{level:st?.level||c$3.level})}function v$4(st,t=n$1){return st[t]||""}function b$3(st,t,et=n$1){return st[et]=t,st}function y$3(st,t=n$1){let et="";return typeof st.bindings>"u"?et=v$4(st,t):et=st.bindings().context||"",et}function w$3(st,t,et=n$1){const ms=y$3(st,et);return ms.trim()?`${ms}/${t}`:t}function E$3(st,t,et=n$1){const ms=w$3(st,t,et),ws=st.child({context:ms});return b$3(ws,ms,et)}function C$3(st){var t,et;const ms=new m$1((t=st.opts)==null?void 0:t.level,st.maxSizeInBytes);return{logger:qt$3(g$1(i$1({},st.opts),{level:"trace",browser:g$1(i$1({},(et=st.opts)==null?void 0:et.browser),{write:ws=>ms.write(ws)})})),chunkLoggerController:ms}}function I$3(st){var t;const et=new B$2((t=st.opts)==null?void 0:t.level,st.maxSizeInBytes);return{logger:qt$3(g$1(i$1({},st.opts),{level:"trace"}),et),chunkLoggerController:et}}function A$2(st){return typeof st.loggerOverride<"u"&&typeof st.loggerOverride!="string"?{logger:st.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$3(st):I$3(st)}var a=Object.defineProperty,u$1=(st,t,et)=>t in st?a(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,c$2=(st,t,et)=>u$1(st,typeof t!="symbol"?t+"":t,et);let h$2=class extends IEvents{constructor(t){super(),this.opts=t,c$2(this,"protocol","wc"),c$2(this,"version",2)}};var p$2=Object.defineProperty,b$2=(st,t,et)=>t in st?p$2(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,v$3=(st,t,et)=>b$2(st,t+"",et);let I$2=class extends IEvents{constructor(t,et){super(),this.core=t,this.logger=et,v$3(this,"records",new Map)}},y$2=class{constructor(t,et){this.logger=t,this.core=et}};class m extends IEvents{constructor(t,et){super(),this.relayer=t,this.logger=et}}let d$2=class extends IEvents{constructor(t){super()}},f$5=class{constructor(t,et,ms,ws){this.core=t,this.logger=et,this.name=ms}},P$3=class extends IEvents{constructor(t,et){super(),this.relayer=t,this.logger=et}},S$2=class extends IEvents{constructor(t,et){super(),this.core=t,this.logger=et}},M$4=class{constructor(t,et,ms){this.core=t,this.logger=et,this.store=ms}},O$3=class{constructor(t,et){this.projectId=t,this.logger=et}},R$1=class{constructor(t,et,ms){this.core=t,this.logger=et,this.telemetryEnabled=ms}};var T$2=Object.defineProperty,k$2=(st,t,et)=>t in st?T$2(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,i=(st,t,et)=>k$2(st,typeof t!="symbol"?t+"":t,et);let J$2=class{constructor(t){this.opts=t,i(this,"protocol","wc"),i(this,"version",2)}},V$2=class{constructor(t){this.client=t}};function En$2(st){return st instanceof Uint8Array||ArrayBuffer.isView(st)&&st.constructor.name==="Uint8Array"}function fe$2(st,...t){if(!En$2(st))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(st.length))throw new Error("Uint8Array expected of length "+t+", got length="+st.length)}function De$3(st,t=!0){if(st.destroyed)throw new Error("Hash instance has been destroyed");if(t&&st.finished)throw new Error("Hash#digest() has already been called")}function gn$2(st,t){fe$2(st);const et=t.outputLen;if(st.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}const it$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t$2=st=>new DataView(st.buffer,st.byteOffset,st.byteLength);function yn$2(st){if(typeof st!="string")throw new Error("utf8ToBytes expected string, got "+typeof st);return new Uint8Array(new TextEncoder().encode(st))}function de$3(st){return typeof st=="string"&&(st=yn$2(st)),fe$2(st),st}let xn$2=class{clone(){return this._cloneInto()}};function Bn$2(st){const t=ms=>st().update(de$3(ms)).digest(),et=st();return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=()=>st(),t}function he$3(st=32){if(it$1&&typeof it$1.getRandomValues=="function")return it$1.getRandomValues(new Uint8Array(st));if(it$1&&typeof it$1.randomBytes=="function")return it$1.randomBytes(st);throw new Error("crypto.getRandomValues must be defined")}function Cn$2(st,t,et,ms){if(typeof st.setBigUint64=="function")return st.setBigUint64(t,et,ms);const ws=BigInt(32),vs=BigInt(4294967295),_s=Number(et>>ws&vs),Es=Number(et&vs),Ts=ms?4:0,Ss=ms?0:4;st.setUint32(t+Ts,_s,ms),st.setUint32(t+Ss,Es,ms)}let An$2=class extends xn$2{constructor(t,et,ms,ws){super(),this.blockLen=t,this.outputLen=et,this.padOffset=ms,this.isLE=ws,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=_t$2(this.buffer)}update(t){De$3(this);const{view:et,buffer:ms,blockLen:ws}=this;t=de$3(t);const vs=t.length;for(let _s=0;_s<vs;){const Es=Math.min(ws-this.pos,vs-_s);if(Es===ws){const Ts=_t$2(t);for(;ws<=vs-_s;_s+=ws)this.process(Ts,_s);continue}ms.set(t.subarray(_s,_s+Es),this.pos),this.pos+=Es,_s+=Es,this.pos===ws&&(this.process(et,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){De$3(this),gn$2(t,this),this.finished=!0;const{buffer:et,view:ms,blockLen:ws,isLE:vs}=this;let{pos:_s}=this;et[_s++]=128,this.buffer.subarray(_s).fill(0),this.padOffset>ws-_s&&(this.process(ms,0),_s=0);for(let Bs=_s;Bs<ws;Bs++)et[Bs]=0;Cn$2(ms,ws-8,BigInt(this.length*8),vs),this.process(ms,0);const Es=_t$2(t),Ts=this.outputLen;if(Ts%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Ss=Ts/4,Rs=this.get();if(Ss>Rs.length)throw new Error("_sha2: outputLen bigger than state");for(let Bs=0;Bs<Ss;Bs++)Es.setUint32(4*Bs,Rs[Bs],vs)}digest(){const{buffer:t,outputLen:et}=this;this.digestInto(t);const ms=t.slice(0,et);return this.destroy(),ms}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:et,buffer:ms,length:ws,finished:vs,destroyed:_s,pos:Es}=this;return t.length=ws,t.pos=Es,t.finished=vs,t.destroyed=_s,ws%et&&t.buffer.set(ms),t}};const wt$3=BigInt(2**32-1),St$4=BigInt(32);function le$3(st,t=!1){return t?{h:Number(st&wt$3),l:Number(st>>St$4&wt$3)}:{h:Number(st>>St$4&wt$3)|0,l:Number(st&wt$3)|0}}function mn$2(st,t=!1){let et=new Uint32Array(st.length),ms=new Uint32Array(st.length);for(let ws=0;ws<st.length;ws++){const{h:vs,l:_s}=le$3(st[ws],t);[et[ws],ms[ws]]=[vs,_s]}return[et,ms]}const _n$2=(st,t)=>BigInt(st>>>0)<<St$4|BigInt(t>>>0),Sn$2=(st,t,et)=>st>>>et,vn$2=(st,t,et)=>st<<32-et|t>>>et,In$2=(st,t,et)=>st>>>et|t<<32-et,Un$2=(st,t,et)=>st<<32-et|t>>>et,Tn$2=(st,t,et)=>st<<64-et|t>>>et-32,Fn$1=(st,t,et)=>st>>>et-32|t<<64-et,Nn$2=(st,t)=>t,Ln$2=(st,t)=>st,On$2=(st,t,et)=>st<<et|t>>>32-et,Hn$2=(st,t,et)=>t<<et|st>>>32-et,zn$1=(st,t,et)=>t<<et-32|st>>>64-et,Mn$2=(st,t,et)=>st<<et-32|t>>>64-et;function qn$2(st,t,et,ms){const ws=(t>>>0)+(ms>>>0);return{h:st+et+(ws/2**32|0)|0,l:ws|0}}const $n$2=(st,t,et)=>(st>>>0)+(t>>>0)+(et>>>0),kn$2=(st,t,et,ms)=>t+et+ms+(st/2**32|0)|0,Rn$2=(st,t,et,ms)=>(st>>>0)+(t>>>0)+(et>>>0)+(ms>>>0),jn$2=(st,t,et,ms,ws)=>t+et+ms+ws+(st/2**32|0)|0,Zn$1=(st,t,et,ms,ws)=>(st>>>0)+(t>>>0)+(et>>>0)+(ms>>>0)+(ws>>>0),Gn$1=(st,t,et,ms,ws,vs)=>t+et+ms+ws+vs+(st/2**32|0)|0,x$2={fromBig:le$3,split:mn$2,toBig:_n$2,shrSH:Sn$2,shrSL:vn$2,rotrSH:In$2,rotrSL:Un$2,rotrBH:Tn$2,rotrBL:Fn$1,rotr32H:Nn$2,rotr32L:Ln$2,rotlSH:On$2,rotlSL:Hn$2,rotlBH:zn$1,rotlBL:Mn$2,add:qn$2,add3L:$n$2,add3H:kn$2,add4L:Rn$2,add4H:jn$2,add5H:Gn$1,add5L:Zn$1},[Vn$2,Yn$1]=x$2.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(st=>BigInt(st))),P$2=new Uint32Array(80),Q$3=new Uint32Array(80);let Jn$2=class extends An$2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:et,Bh:ms,Bl:ws,Ch:vs,Cl:_s,Dh:Es,Dl:Ts,Eh:Ss,El:Rs,Fh:Bs,Fl:Is,Gh:Ws,Gl:Hs,Hh:Ns,Hl:Js}=this;return[t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js]}set(t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){this.Ah=t|0,this.Al=et|0,this.Bh=ms|0,this.Bl=ws|0,this.Ch=vs|0,this.Cl=_s|0,this.Dh=Es|0,this.Dl=Ts|0,this.Eh=Ss|0,this.El=Rs|0,this.Fh=Bs|0,this.Fl=Is|0,this.Gh=Ws|0,this.Gl=Hs|0,this.Hh=Ns|0,this.Hl=Js|0}process(t,et){for(let za=0;za<16;za++,et+=4)P$2[za]=t.getUint32(et),Q$3[za]=t.getUint32(et+=4);for(let za=16;za<80;za++){const Ya=P$2[za-15]|0,Bc=Q$3[za-15]|0,Qa=x$2.rotrSH(Ya,Bc,1)^x$2.rotrSH(Ya,Bc,8)^x$2.shrSH(Ya,Bc,7),tu=x$2.rotrSL(Ya,Bc,1)^x$2.rotrSL(Ya,Bc,8)^x$2.shrSL(Ya,Bc,7),eu=P$2[za-2]|0,ru=Q$3[za-2]|0,cu=x$2.rotrSH(eu,ru,19)^x$2.rotrBH(eu,ru,61)^x$2.shrSH(eu,ru,6),ou=x$2.rotrSL(eu,ru,19)^x$2.rotrBL(eu,ru,61)^x$2.shrSL(eu,ru,6),Ga=x$2.add4L(tu,ou,Q$3[za-7],Q$3[za-16]),Xa=x$2.add4H(Ga,Qa,cu,P$2[za-7],P$2[za-16]);P$2[za]=Xa|0,Q$3[za]=Ga|0}let{Ah:ms,Al:ws,Bh:vs,Bl:_s,Ch:Es,Cl:Ts,Dh:Ss,Dl:Rs,Eh:Bs,El:Is,Fh:Ws,Fl:Hs,Gh:Ns,Gl:Js,Hh:ha,Hl:pa}=this;for(let za=0;za<80;za++){const Ya=x$2.rotrSH(Bs,Is,14)^x$2.rotrSH(Bs,Is,18)^x$2.rotrBH(Bs,Is,41),Bc=x$2.rotrSL(Bs,Is,14)^x$2.rotrSL(Bs,Is,18)^x$2.rotrBL(Bs,Is,41),Qa=Bs&Ws^~Bs&Ns,tu=Is&Hs^~Is&Js,eu=x$2.add5L(pa,Bc,tu,Yn$1[za],Q$3[za]),ru=x$2.add5H(eu,ha,Ya,Qa,Vn$2[za],P$2[za]),cu=eu|0,ou=x$2.rotrSH(ms,ws,28)^x$2.rotrBH(ms,ws,34)^x$2.rotrBH(ms,ws,39),Ga=x$2.rotrSL(ms,ws,28)^x$2.rotrBL(ms,ws,34)^x$2.rotrBL(ms,ws,39),Xa=ms&vs^ms&Es^vs&Es,Fa=ws&_s^ws&Ts^_s&Ts;ha=Ns|0,pa=Js|0,Ns=Ws|0,Js=Hs|0,Ws=Bs|0,Hs=Is|0,{h:Bs,l:Is}=x$2.add(Ss|0,Rs|0,ru|0,cu|0),Ss=Es|0,Rs=Ts|0,Es=vs|0,Ts=_s|0,vs=ms|0,_s=ws|0;const Zs=x$2.add3L(cu,Ga,Fa);ms=x$2.add3H(Zs,ru,ou,Xa),ws=Zs|0}({h:ms,l:ws}=x$2.add(this.Ah|0,this.Al|0,ms|0,ws|0)),{h:vs,l:_s}=x$2.add(this.Bh|0,this.Bl|0,vs|0,_s|0),{h:Es,l:Ts}=x$2.add(this.Ch|0,this.Cl|0,Es|0,Ts|0),{h:Ss,l:Rs}=x$2.add(this.Dh|0,this.Dl|0,Ss|0,Rs|0),{h:Bs,l:Is}=x$2.add(this.Eh|0,this.El|0,Bs|0,Is|0),{h:Ws,l:Hs}=x$2.add(this.Fh|0,this.Fl|0,Ws|0,Hs|0),{h:Ns,l:Js}=x$2.add(this.Gh|0,this.Gl|0,Ns|0,Js|0),{h:ha,l:pa}=x$2.add(this.Hh|0,this.Hl|0,ha|0,pa|0),this.set(ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js,ha,pa)}roundClean(){P$2.fill(0),Q$3.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Kn$1=Bn$2(()=>new Jn$2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt$3=BigInt(0),be$3=BigInt(1),Wn$1=BigInt(2);function It$3(st){return st instanceof Uint8Array||ArrayBuffer.isView(st)&&st.constructor.name==="Uint8Array"}function Ut$2(st){if(!It$3(st))throw new Error("Uint8Array expected")}function Tt$3(st,t){if(typeof t!="boolean")throw new Error(st+" boolean expected, got "+t)}const Xn$1=Array.from({length:256},(st,t)=>t.toString(16).padStart(2,"0"));function Ft$1(st){Ut$2(st);let t="";for(let et=0;et<st.length;et++)t+=Xn$1[st[et]];return t}function pe$3(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);return st===""?vt$3:BigInt("0x"+st)}const K$1={_0:48,_9:57,A:65,F:70,a:97,f:102};function we$3(st){if(st>=K$1._0&&st<=K$1._9)return st-K$1._0;if(st>=K$1.A&&st<=K$1.F)return st-(K$1.A-10);if(st>=K$1.a&&st<=K$1.f)return st-(K$1.a-10)}function Ee$3(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);const t=st.length,et=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const ms=new Uint8Array(et);for(let ws=0,vs=0;ws<et;ws++,vs+=2){const _s=we$3(st.charCodeAt(vs)),Es=we$3(st.charCodeAt(vs+1));if(_s===void 0||Es===void 0){const Ts=st[vs]+st[vs+1];throw new Error('hex string expected, got non-hex character "'+Ts+'" at index '+vs)}ms[ws]=_s*16+Es}return ms}function Pn$2(st){return pe$3(Ft$1(st))}function Et$4(st){return Ut$2(st),pe$3(Ft$1(Uint8Array.from(st).reverse()))}function ge$3(st,t){return Ee$3(st.toString(16).padStart(t*2,"0"))}function Nt$3(st,t){return ge$3(st,t).reverse()}function W$3(st,t,et){let ms;if(typeof t=="string")try{ms=Ee$3(t)}catch(vs){throw new Error(st+" must be hex string or Uint8Array, cause: "+vs)}else if(It$3(t))ms=Uint8Array.from(t);else throw new Error(st+" must be hex string or Uint8Array");const ws=ms.length;if(typeof et=="number"&&ws!==et)throw new Error(st+" of length "+et+" expected, got "+ws);return ms}function ye$3(...st){let t=0;for(let ms=0;ms<st.length;ms++){const ws=st[ms];Ut$2(ws),t+=ws.length}const et=new Uint8Array(t);for(let ms=0,ws=0;ms<st.length;ms++){const vs=st[ms];et.set(vs,ws),ws+=vs.length}return et}const Lt$3=st=>typeof st=="bigint"&&vt$3<=st;function Qn$2(st,t,et){return Lt$3(st)&&Lt$3(t)&&Lt$3(et)&&t<=st&&st<et}function ft$2(st,t,et,ms){if(!Qn$2(t,et,ms))throw new Error("expected valid "+st+": "+et+" <= n < "+ms+", got "+t)}function tr$2(st){let t;for(t=0;st>vt$3;st>>=be$3,t+=1);return t}const er$1=st=>(Wn$1<<BigInt(st-1))-be$3,nr$1={bigint:st=>typeof st=="bigint",function:st=>typeof st=="function",boolean:st=>typeof st=="boolean",string:st=>typeof st=="string",stringOrUint8Array:st=>typeof st=="string"||It$3(st),isSafeInteger:st=>Number.isSafeInteger(st),array:st=>Array.isArray(st),field:(st,t)=>t.Fp.isValid(st),hash:st=>typeof st=="function"&&Number.isSafeInteger(st.outputLen)};function Ot$3(st,t,et={}){const ms=(ws,vs,_s)=>{const Es=nr$1[vs];if(typeof Es!="function")throw new Error("invalid validator function");const Ts=st[ws];if(!(_s&&Ts===void 0)&&!Es(Ts,st))throw new Error("param "+String(ws)+" is invalid. Expected "+vs+", got "+Ts)};for(const[ws,vs]of Object.entries(t))ms(ws,vs,!1);for(const[ws,vs]of Object.entries(et))ms(ws,vs,!0);return st}function xe$2(st){const t=new WeakMap;return(et,...ms)=>{const ws=t.get(et);if(ws!==void 0)return ws;const vs=st(et,...ms);return t.set(et,vs),vs}}const M$3=BigInt(0),N$3=BigInt(1),nt$2=BigInt(2),rr$2=BigInt(3),Ht$3=BigInt(4),Be$3=BigInt(5),Ce$3=BigInt(8);function H$1(st,t){const et=st%t;return et>=M$3?et:t+et}function or$2(st,t,et){if(t<M$3)throw new Error("invalid exponent, negatives unsupported");if(et<=M$3)throw new Error("invalid modulus");if(et===N$3)return M$3;let ms=N$3;for(;t>M$3;)t&N$3&&(ms=ms*st%et),st=st*st%et,t>>=N$3;return ms}function J$1(st,t,et){let ms=st;for(;t-- >M$3;)ms*=ms,ms%=et;return ms}function Ae$2(st,t){if(st===M$3)throw new Error("invert: expected non-zero number");if(t<=M$3)throw new Error("invert: expected positive modulus, got "+t);let et=H$1(st,t),ms=t,ws=M$3,vs=N$3;for(;et!==M$3;){const _s=ms/et,Es=ms%et,Ts=ws-vs*_s;ms=et,et=Es,ws=vs,vs=Ts}if(ms!==N$3)throw new Error("invert: does not exist");return H$1(ws,t)}function sr$2(st){const t=(st-N$3)/nt$2;let et,ms,ws;for(et=st-N$3,ms=0;et%nt$2===M$3;et/=nt$2,ms++);for(ws=nt$2;ws<st&&or$2(ws,t,st)!==st-N$3;ws++)if(ws>1e3)throw new Error("Cannot find square root: likely non-prime P");if(ms===1){const _s=(st+N$3)/Ht$3;return function(Es,Ts){const Ss=Es.pow(Ts,_s);if(!Es.eql(Es.sqr(Ss),Ts))throw new Error("Cannot find square root");return Ss}}const vs=(et+N$3)/nt$2;return function(_s,Es){if(_s.pow(Es,t)===_s.neg(_s.ONE))throw new Error("Cannot find square root");let Ts=ms,Ss=_s.pow(_s.mul(_s.ONE,ws),et),Rs=_s.pow(Es,vs),Bs=_s.pow(Es,et);for(;!_s.eql(Bs,_s.ONE);){if(_s.eql(Bs,_s.ZERO))return _s.ZERO;let Is=1;for(let Hs=_s.sqr(Bs);Is<Ts&&!_s.eql(Hs,_s.ONE);Is++)Hs=_s.sqr(Hs);const Ws=_s.pow(Ss,N$3<<BigInt(Ts-Is-1));Ss=_s.sqr(Ws),Rs=_s.mul(Rs,Ws),Bs=_s.mul(Bs,Ss),Ts=Is}return Rs}}function ir$2(st){if(st%Ht$3===rr$2){const t=(st+N$3)/Ht$3;return function(et,ms){const ws=et.pow(ms,t);if(!et.eql(et.sqr(ws),ms))throw new Error("Cannot find square root");return ws}}if(st%Ce$3===Be$3){const t=(st-Be$3)/Ce$3;return function(et,ms){const ws=et.mul(ms,nt$2),vs=et.pow(ws,t),_s=et.mul(ms,vs),Es=et.mul(et.mul(_s,nt$2),vs),Ts=et.mul(_s,et.sub(Es,et.ONE));if(!et.eql(et.sqr(Ts),ms))throw new Error("Cannot find square root");return Ts}}return sr$2(st)}const ur$1=(st,t)=>(H$1(st,t)&N$3)===N$3,cr$2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ar$1(st){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},et=cr$2.reduce((ms,ws)=>(ms[ws]="function",ms),t);return Ot$3(st,et)}function fr$2(st,t,et){if(et<M$3)throw new Error("invalid exponent, negatives unsupported");if(et===M$3)return st.ONE;if(et===N$3)return t;let ms=st.ONE,ws=t;for(;et>M$3;)et&N$3&&(ms=st.mul(ms,ws)),ws=st.sqr(ws),et>>=N$3;return ms}function Dr$2(st,t){const et=new Array(t.length),ms=t.reduce((vs,_s,Es)=>st.is0(_s)?vs:(et[Es]=vs,st.mul(vs,_s)),st.ONE),ws=st.inv(ms);return t.reduceRight((vs,_s,Es)=>st.is0(_s)?vs:(et[Es]=st.mul(vs,et[Es]),st.mul(vs,_s)),ws),et}function me$3(st,t){const et=t!==void 0?t:st.toString(2).length,ms=Math.ceil(et/8);return{nBitLength:et,nByteLength:ms}}function _e$4(st,t,et=!1,ms={}){if(st<=M$3)throw new Error("invalid field: expected ORDER > 0, got "+st);const{nBitLength:ws,nByteLength:vs}=me$3(st,t);if(vs>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let _s;const Es=Object.freeze({ORDER:st,isLE:et,BITS:ws,BYTES:vs,MASK:er$1(ws),ZERO:M$3,ONE:N$3,create:Ts=>H$1(Ts,st),isValid:Ts=>{if(typeof Ts!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Ts);return M$3<=Ts&&Ts<st},is0:Ts=>Ts===M$3,isOdd:Ts=>(Ts&N$3)===N$3,neg:Ts=>H$1(-Ts,st),eql:(Ts,Ss)=>Ts===Ss,sqr:Ts=>H$1(Ts*Ts,st),add:(Ts,Ss)=>H$1(Ts+Ss,st),sub:(Ts,Ss)=>H$1(Ts-Ss,st),mul:(Ts,Ss)=>H$1(Ts*Ss,st),pow:(Ts,Ss)=>fr$2(Es,Ts,Ss),div:(Ts,Ss)=>H$1(Ts*Ae$2(Ss,st),st),sqrN:Ts=>Ts*Ts,addN:(Ts,Ss)=>Ts+Ss,subN:(Ts,Ss)=>Ts-Ss,mulN:(Ts,Ss)=>Ts*Ss,inv:Ts=>Ae$2(Ts,st),sqrt:ms.sqrt||(Ts=>(_s||(_s=ir$2(st)),_s(Es,Ts))),invertBatch:Ts=>Dr$2(Es,Ts),cmov:(Ts,Ss,Rs)=>Rs?Ss:Ts,toBytes:Ts=>et?Nt$3(Ts,vs):ge$3(Ts,vs),fromBytes:Ts=>{if(Ts.length!==vs)throw new Error("Field.fromBytes: expected "+vs+" bytes, got "+Ts.length);return et?Et$4(Ts):Pn$2(Ts)}});return Object.freeze(Es)}const Se$2=BigInt(0),gt$3=BigInt(1);function zt$3(st,t){const et=t.negate();return st?et:t}function ve$2(st,t){if(!Number.isSafeInteger(st)||st<=0||st>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+st)}function Mt$3(st,t){ve$2(st,t);const et=Math.ceil(t/st)+1,ms=2**(st-1);return{windows:et,windowSize:ms}}function dr$2(st,t){if(!Array.isArray(st))throw new Error("array expected");st.forEach((et,ms)=>{if(!(et instanceof t))throw new Error("invalid point at index "+ms)})}function hr$2(st,t){if(!Array.isArray(st))throw new Error("array of scalars expected");st.forEach((et,ms)=>{if(!t.isValid(et))throw new Error("invalid scalar at index "+ms)})}const qt$2=new WeakMap,Ie$3=new WeakMap;function $t$3(st){return Ie$3.get(st)||1}function lr$1(st,t){return{constTimeNegate:zt$3,hasPrecomputes(et){return $t$3(et)!==1},unsafeLadder(et,ms,ws=st.ZERO){let vs=et;for(;ms>Se$2;)ms&gt$3&&(ws=ws.add(vs)),vs=vs.double(),ms>>=gt$3;return ws},precomputeWindow(et,ms){const{windows:ws,windowSize:vs}=Mt$3(ms,t),_s=[];let Es=et,Ts=Es;for(let Ss=0;Ss<ws;Ss++){Ts=Es,_s.push(Ts);for(let Rs=1;Rs<vs;Rs++)Ts=Ts.add(Es),_s.push(Ts);Es=Ts.double()}return _s},wNAF(et,ms,ws){const{windows:vs,windowSize:_s}=Mt$3(et,t);let Es=st.ZERO,Ts=st.BASE;const Ss=BigInt(2**et-1),Rs=2**et,Bs=BigInt(et);for(let Is=0;Is<vs;Is++){const Ws=Is*_s;let Hs=Number(ws&Ss);ws>>=Bs,Hs>_s&&(Hs-=Rs,ws+=gt$3);const Ns=Ws,Js=Ws+Math.abs(Hs)-1,ha=Is%2!==0,pa=Hs<0;Hs===0?Ts=Ts.add(zt$3(ha,ms[Ns])):Es=Es.add(zt$3(pa,ms[Js]))}return{p:Es,f:Ts}},wNAFUnsafe(et,ms,ws,vs=st.ZERO){const{windows:_s,windowSize:Es}=Mt$3(et,t),Ts=BigInt(2**et-1),Ss=2**et,Rs=BigInt(et);for(let Bs=0;Bs<_s;Bs++){const Is=Bs*Es;if(ws===Se$2)break;let Ws=Number(ws&Ts);if(ws>>=Rs,Ws>Es&&(Ws-=Ss,ws+=gt$3),Ws===0)continue;let Hs=ms[Is+Math.abs(Ws)-1];Ws<0&&(Hs=Hs.negate()),vs=vs.add(Hs)}return vs},getPrecomputes(et,ms,ws){let vs=qt$2.get(ms);return vs||(vs=this.precomputeWindow(ms,et),et!==1&&qt$2.set(ms,ws(vs))),vs},wNAFCached(et,ms,ws){const vs=$t$3(et);return this.wNAF(vs,this.getPrecomputes(vs,et,ws),ms)},wNAFCachedUnsafe(et,ms,ws,vs){const _s=$t$3(et);return _s===1?this.unsafeLadder(et,ms,vs):this.wNAFUnsafe(_s,this.getPrecomputes(_s,et,ws),ms,vs)},setWindowSize(et,ms){ve$2(ms,t),Ie$3.set(et,ms),qt$2.delete(et)}}}function br$2(st,t,et,ms){if(dr$2(et,st),hr$2(ms,t),et.length!==ms.length)throw new Error("arrays of points and scalars must have equal length");const ws=st.ZERO,vs=tr$2(BigInt(et.length)),_s=vs>12?vs-3:vs>4?vs-2:vs?2:1,Es=(1<<_s)-1,Ts=new Array(Es+1).fill(ws),Ss=Math.floor((t.BITS-1)/_s)*_s;let Rs=ws;for(let Bs=Ss;Bs>=0;Bs-=_s){Ts.fill(ws);for(let Ws=0;Ws<ms.length;Ws++){const Hs=ms[Ws],Ns=Number(Hs>>BigInt(Bs)&BigInt(Es));Ts[Ns]=Ts[Ns].add(et[Ws])}let Is=ws;for(let Ws=Ts.length-1,Hs=ws;Ws>0;Ws--)Hs=Hs.add(Ts[Ws]),Is=Is.add(Hs);if(Rs=Rs.add(Is),Bs!==0)for(let Ws=0;Ws<_s;Ws++)Rs=Rs.double()}return Rs}function pr$2(st){return ar$1(st.Fp),Ot$3(st,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me$3(st.n,st.nBitLength),...st,p:st.Fp.ORDER})}const G$3=BigInt(0),j$2=BigInt(1),yt$2=BigInt(2),wr$2=BigInt(8),Er$2={zip215:!0};function gr$2(st){const t=pr$2(st);return Ot$3(st,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function yr$2(st){const t=gr$2(st),{Fp:et,n:ms,prehash:ws,hash:vs,randomBytes:_s,nByteLength:Es,h:Ts}=t,Ss=yt$2<<BigInt(Es*8)-j$2,Rs=et.create,Bs=_e$4(t.n,t.nBitLength),Is=t.uvRatio||((Zs,Wa)=>{try{return{isValid:!0,value:et.sqrt(Zs*et.inv(Wa))}}catch{return{isValid:!1,value:G$3}}}),Ws=t.adjustScalarBytes||(Zs=>Zs),Hs=t.domain||((Zs,Wa,Za)=>{if(Tt$3("phflag",Za),Wa.length||Za)throw new Error("Contexts/pre-hash are not supported");return Zs});function Ns(Zs,Wa){ft$2("coordinate "+Zs,Wa,G$3,Ss)}function Js(Zs){if(!(Zs instanceof za))throw new Error("ExtendedPoint expected")}const ha=xe$2((Zs,Wa)=>{const{ex:Za,ey:iu,ez:au}=Zs,nu=Zs.is0();Wa==null&&(Wa=nu?wr$2:et.inv(au));const uu=Rs(Za*Wa),fu=Rs(iu*Wa),hu=Rs(au*Wa);if(nu)return{x:G$3,y:j$2};if(hu!==j$2)throw new Error("invZ was invalid");return{x:uu,y:fu}}),pa=xe$2(Zs=>{const{a:Wa,d:Za}=t;if(Zs.is0())throw new Error("bad point: ZERO");const{ex:iu,ey:au,ez:nu,et:uu}=Zs,fu=Rs(iu*iu),hu=Rs(au*au),Eu=Rs(nu*nu),$u=Rs(Eu*Eu),Ou=Rs(fu*Wa),gu=Rs(Eu*Rs(Ou+hu)),yu=Rs($u+Rs(Za*Rs(fu*hu)));if(gu!==yu)throw new Error("bad point: equation left != right (1)");const Tu=Rs(iu*au),du=Rs(nu*uu);if(Tu!==du)throw new Error("bad point: equation left != right (2)");return!0});class za{constructor(Wa,Za,iu,au){this.ex=Wa,this.ey=Za,this.ez=iu,this.et=au,Ns("x",Wa),Ns("y",Za),Ns("z",iu),Ns("t",au),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Wa){if(Wa instanceof za)throw new Error("extended point not allowed");const{x:Za,y:iu}=Wa||{};return Ns("x",Za),Ns("y",iu),new za(Za,iu,j$2,Rs(Za*iu))}static normalizeZ(Wa){const Za=et.invertBatch(Wa.map(iu=>iu.ez));return Wa.map((iu,au)=>iu.toAffine(Za[au])).map(za.fromAffine)}static msm(Wa,Za){return br$2(za,Bs,Wa,Za)}_setWindowSize(Wa){Qa.setWindowSize(this,Wa)}assertValidity(){pa(this)}equals(Wa){Js(Wa);const{ex:Za,ey:iu,ez:au}=this,{ex:nu,ey:uu,ez:fu}=Wa,hu=Rs(Za*fu),Eu=Rs(nu*au),$u=Rs(iu*fu),Ou=Rs(uu*au);return hu===Eu&&$u===Ou}is0(){return this.equals(za.ZERO)}negate(){return new za(Rs(-this.ex),this.ey,this.ez,Rs(-this.et))}double(){const{a:Wa}=t,{ex:Za,ey:iu,ez:au}=this,nu=Rs(Za*Za),uu=Rs(iu*iu),fu=Rs(yt$2*Rs(au*au)),hu=Rs(Wa*nu),Eu=Za+iu,$u=Rs(Rs(Eu*Eu)-nu-uu),Ou=hu+uu,gu=Ou-fu,yu=hu-uu,Tu=Rs($u*gu),du=Rs(Ou*yu),wu=Rs($u*yu),Ru=Rs(gu*Ou);return new za(Tu,du,Ru,wu)}add(Wa){Js(Wa);const{a:Za,d:iu}=t,{ex:au,ey:nu,ez:uu,et:fu}=this,{ex:hu,ey:Eu,ez:$u,et:Ou}=Wa;if(Za===BigInt(-1)){const Mu=Rs((nu-au)*(Eu+hu)),Ju=Rs((nu+au)*(Eu-hu)),vf=Rs(Ju-Mu);if(vf===G$3)return this.double();const wf=Rs(uu*yt$2*Ou),el=Rs(fu*yt$2*$u),il=el+wf,hl=Ju+Mu,cl=el-wf,ul=Rs(il*vf),yl=Rs(hl*cl),Cl=Rs(il*cl),Bu=Rs(vf*hl);return new za(ul,yl,Bu,Cl)}const gu=Rs(au*hu),yu=Rs(nu*Eu),Tu=Rs(fu*iu*Ou),du=Rs(uu*$u),wu=Rs((au+nu)*(hu+Eu)-gu-yu),Ru=du-Tu,Ku=du+Tu,Zu=Rs(yu-Za*gu),tl=Rs(wu*Ru),sl=Rs(Ku*Zu),gl=Rs(wu*Zu),Fu=Rs(Ru*Ku);return new za(tl,sl,Fu,gl)}subtract(Wa){return this.add(Wa.negate())}wNAF(Wa){return Qa.wNAFCached(this,Wa,za.normalizeZ)}multiply(Wa){const Za=Wa;ft$2("scalar",Za,j$2,ms);const{p:iu,f:au}=this.wNAF(Za);return za.normalizeZ([iu,au])[0]}multiplyUnsafe(Wa,Za=za.ZERO){const iu=Wa;return ft$2("scalar",iu,G$3,ms),iu===G$3?Bc:this.is0()||iu===j$2?this:Qa.wNAFCachedUnsafe(this,iu,za.normalizeZ,Za)}isSmallOrder(){return this.multiplyUnsafe(Ts).is0()}isTorsionFree(){return Qa.unsafeLadder(this,ms).is0()}toAffine(Wa){return ha(this,Wa)}clearCofactor(){const{h:Wa}=t;return Wa===j$2?this:this.multiplyUnsafe(Wa)}static fromHex(Wa,Za=!1){const{d:iu,a:au}=t,nu=et.BYTES;Wa=W$3("pointHex",Wa,nu),Tt$3("zip215",Za);const uu=Wa.slice(),fu=Wa[nu-1];uu[nu-1]=fu&-129;const hu=Et$4(uu),Eu=Za?Ss:et.ORDER;ft$2("pointHex.y",hu,G$3,Eu);const $u=Rs(hu*hu),Ou=Rs($u-j$2),gu=Rs(iu*$u-au);let{isValid:yu,value:Tu}=Is(Ou,gu);if(!yu)throw new Error("Point.fromHex: invalid y coordinate");const du=(Tu&j$2)===j$2,wu=(fu&128)!==0;if(!Za&&Tu===G$3&&wu)throw new Error("Point.fromHex: x=0 and x_0=1");return wu!==du&&(Tu=Rs(-Tu)),za.fromAffine({x:Tu,y:hu})}static fromPrivateKey(Wa){return ru(Wa).point}toRawBytes(){const{x:Wa,y:Za}=this.toAffine(),iu=Nt$3(Za,et.BYTES);return iu[iu.length-1]|=Wa&j$2?128:0,iu}toHex(){return Ft$1(this.toRawBytes())}}za.BASE=new za(t.Gx,t.Gy,j$2,Rs(t.Gx*t.Gy)),za.ZERO=new za(G$3,j$2,j$2,G$3);const{BASE:Ya,ZERO:Bc}=za,Qa=lr$1(za,Es*8);function tu(Zs){return H$1(Zs,ms)}function eu(Zs){return tu(Et$4(Zs))}function ru(Zs){const Wa=et.BYTES;Zs=W$3("private key",Zs,Wa);const Za=W$3("hashed private key",vs(Zs),2*Wa),iu=Ws(Za.slice(0,Wa)),au=Za.slice(Wa,2*Wa),nu=eu(iu),uu=Ya.multiply(nu),fu=uu.toRawBytes();return{head:iu,prefix:au,scalar:nu,point:uu,pointBytes:fu}}function cu(Zs){return ru(Zs).pointBytes}function ou(Zs=new Uint8Array,...Wa){const Za=ye$3(...Wa);return eu(vs(Hs(Za,W$3("context",Zs),!!ws)))}function Ga(Zs,Wa,Za={}){Zs=W$3("message",Zs),ws&&(Zs=ws(Zs));const{prefix:iu,scalar:au,pointBytes:nu}=ru(Wa),uu=ou(Za.context,iu,Zs),fu=Ya.multiply(uu).toRawBytes(),hu=ou(Za.context,fu,nu,Zs),Eu=tu(uu+hu*au);ft$2("signature.s",Eu,G$3,ms);const $u=ye$3(fu,Nt$3(Eu,et.BYTES));return W$3("result",$u,et.BYTES*2)}const Xa=Er$2;function Fa(Zs,Wa,Za,iu=Xa){const{context:au,zip215:nu}=iu,uu=et.BYTES;Zs=W$3("signature",Zs,2*uu),Wa=W$3("message",Wa),Za=W$3("publicKey",Za,uu),nu!==void 0&&Tt$3("zip215",nu),ws&&(Wa=ws(Wa));const fu=Et$4(Zs.slice(uu,2*uu));let hu,Eu,$u;try{hu=za.fromHex(Za,nu),Eu=za.fromHex(Zs.slice(0,uu),nu),$u=Ya.multiplyUnsafe(fu)}catch{return!1}if(!nu&&hu.isSmallOrder())return!1;const Ou=ou(au,Eu.toRawBytes(),hu.toRawBytes(),Wa);return Eu.add(hu.multiplyUnsafe(Ou)).subtract($u).clearCofactor().equals(za.ZERO)}return Ya._setWindowSize(8),{CURVE:t,getPublicKey:cu,sign:Ga,verify:Fa,ExtendedPoint:za,utils:{getExtendedPublicKey:ru,randomPrivateKey:()=>_s(et.BYTES),precompute(Zs=8,Wa=za.BASE){return Wa._setWindowSize(Zs),Wa.multiply(BigInt(3)),Wa}}}}BigInt(0),BigInt(1);const kt$3=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ue$3=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xr$2=BigInt(1),Te$3=BigInt(2);BigInt(3);const Br$2=BigInt(5),Cr$2=BigInt(8);function Ar$2(st){const t=BigInt(10),et=BigInt(20),ms=BigInt(40),ws=BigInt(80),vs=kt$3,_s=st*st%vs*st%vs,Es=J$1(_s,Te$3,vs)*_s%vs,Ts=J$1(Es,xr$2,vs)*st%vs,Ss=J$1(Ts,Br$2,vs)*Ts%vs,Rs=J$1(Ss,t,vs)*Ss%vs,Bs=J$1(Rs,et,vs)*Rs%vs,Is=J$1(Bs,ms,vs)*Bs%vs,Ws=J$1(Is,ws,vs)*Is%vs,Hs=J$1(Ws,ws,vs)*Is%vs,Ns=J$1(Hs,t,vs)*Ss%vs;return{pow_p_5_8:J$1(Ns,Te$3,vs)*st%vs,b2:_s}}function mr$2(st){return st[0]&=248,st[31]&=127,st[31]|=64,st}function _r$2(st,t){const et=kt$3,ms=H$1(t*t*t,et),ws=H$1(ms*ms*t,et),vs=Ar$2(st*ws).pow_p_5_8;let _s=H$1(st*ms*vs,et);const Es=H$1(t*_s*_s,et),Ts=_s,Ss=H$1(_s*Ue$3,et),Rs=Es===st,Bs=Es===H$1(-st,et),Is=Es===H$1(-st*Ue$3,et);return Rs&&(_s=Ts),(Bs||Is)&&(_s=Ss),ur$1(_s,et)&&(_s=H$1(-_s,et)),{isValid:Rs||Bs,value:_s}}const Sr$2=_e$4(kt$3,void 0,!0),vr$2={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sr$2,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cr$2,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kn$1,randomBytes:he$3,adjustScalarBytes:mr$2,uvRatio:_r$2},Rt$3=yr$2(vr$2),jt$2="EdDSA",Zt$3="JWT",ut$3=".",Dt$1="base64url",Gt$3="utf8",xt$3="utf8",Vt$3=":",Yt$3="did",Jt$3="key",dt$3="base58btc",Kt$3="z",Wt$3="K36",Ne$2=32;function Xt$3(st){return globalThis.Buffer!=null?new Uint8Array(st.buffer,st.byteOffset,st.byteLength):st}function Le$4(st=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt$3(globalThis.Buffer.allocUnsafe(st)):new Uint8Array(st)}function Oe$2(st,t){t||(t=st.reduce((ws,vs)=>ws+vs.length,0));const et=Le$4(t);let ms=0;for(const ws of st)et.set(ws,ms),ms+=ws.length;return Xt$3(et)}function Ir$2(st,t){if(st.length>=255)throw new TypeError("Alphabet too long");for(var et=new Uint8Array(256),ms=0;ms<et.length;ms++)et[ms]=255;for(var ws=0;ws<st.length;ws++){var vs=st.charAt(ws),_s=vs.charCodeAt(0);if(et[_s]!==255)throw new TypeError(vs+" is ambiguous");et[_s]=ws}var Es=st.length,Ts=st.charAt(0),Ss=Math.log(Es)/Math.log(256),Rs=Math.log(256)/Math.log(Es);function Bs(Hs){if(Hs instanceof Uint8Array||(ArrayBuffer.isView(Hs)?Hs=new Uint8Array(Hs.buffer,Hs.byteOffset,Hs.byteLength):Array.isArray(Hs)&&(Hs=Uint8Array.from(Hs))),!(Hs instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Hs.length===0)return"";for(var Ns=0,Js=0,ha=0,pa=Hs.length;ha!==pa&&Hs[ha]===0;)ha++,Ns++;for(var za=(pa-ha)*Rs+1>>>0,Ya=new Uint8Array(za);ha!==pa;){for(var Bc=Hs[ha],Qa=0,tu=za-1;(Bc!==0||Qa<Js)&&tu!==-1;tu--,Qa++)Bc+=256*Ya[tu]>>>0,Ya[tu]=Bc%Es>>>0,Bc=Bc/Es>>>0;if(Bc!==0)throw new Error("Non-zero carry");Js=Qa,ha++}for(var eu=za-Js;eu!==za&&Ya[eu]===0;)eu++;for(var ru=Ts.repeat(Ns);eu<za;++eu)ru+=st.charAt(Ya[eu]);return ru}function Is(Hs){if(typeof Hs!="string")throw new TypeError("Expected String");if(Hs.length===0)return new Uint8Array;var Ns=0;if(Hs[Ns]!==" "){for(var Js=0,ha=0;Hs[Ns]===Ts;)Js++,Ns++;for(var pa=(Hs.length-Ns)*Ss+1>>>0,za=new Uint8Array(pa);Hs[Ns];){var Ya=et[Hs.charCodeAt(Ns)];if(Ya===255)return;for(var Bc=0,Qa=pa-1;(Ya!==0||Bc<ha)&&Qa!==-1;Qa--,Bc++)Ya+=Es*za[Qa]>>>0,za[Qa]=Ya%256>>>0,Ya=Ya/256>>>0;if(Ya!==0)throw new Error("Non-zero carry");ha=Bc,Ns++}if(Hs[Ns]!==" "){for(var tu=pa-ha;tu!==pa&&za[tu]===0;)tu++;for(var eu=new Uint8Array(Js+(pa-tu)),ru=Js;tu!==pa;)eu[ru++]=za[tu++];return eu}}}function Ws(Hs){var Ns=Is(Hs);if(Ns)return Ns;throw new Error(`Non-${t} character`)}return{encode:Bs,decodeUnsafe:Is,decode:Ws}}var Ur$2=Ir$2,Tr$2=Ur$2;const He$3=st=>{if(st instanceof Uint8Array&&st.constructor.name==="Uint8Array")return st;if(st instanceof ArrayBuffer)return new Uint8Array(st);if(ArrayBuffer.isView(st))return new Uint8Array(st.buffer,st.byteOffset,st.byteLength);throw new Error("Unknown type, must be binary type")},Fr$1=st=>new TextEncoder().encode(st),Nr$2=st=>new TextDecoder().decode(st);let Lr$2=class{constructor(t,et,ms){this.name=t,this.prefix=et,this.baseEncode=ms}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Or$2=class{constructor(t,et,ms){if(this.name=t,this.prefix=et,et.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=et.codePointAt(0),this.baseDecode=ms}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return ze$2(this,t)}},Hr$2=class{constructor(t){this.decoders=t}or(t){return ze$2(this,t)}decode(t){const et=t[0],ms=this.decoders[et];if(ms)return ms.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ze$2=(st,t)=>new Hr$2({...st.decoders||{[st.prefix]:st},...t.decoders||{[t.prefix]:t}});let zr$1=class{constructor(t,et,ms,ws){this.name=t,this.prefix=et,this.baseEncode=ms,this.baseDecode=ws,this.encoder=new Lr$2(t,et,ms),this.decoder=new Or$2(t,et,ws)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const Bt$3=({name:st,prefix:t,encode:et,decode:ms})=>new zr$1(st,t,et,ms),ht$3=({prefix:st,name:t,alphabet:et})=>{const{encode:ms,decode:ws}=Tr$2(et,t);return Bt$3({prefix:st,name:t,encode:ms,decode:vs=>He$3(ws(vs))})},Mr$2=(st,t,et,ms)=>{const ws={};for(let Rs=0;Rs<t.length;++Rs)ws[t[Rs]]=Rs;let vs=st.length;for(;st[vs-1]==="=";)--vs;const _s=new Uint8Array(vs*et/8|0);let Es=0,Ts=0,Ss=0;for(let Rs=0;Rs<vs;++Rs){const Bs=ws[st[Rs]];if(Bs===void 0)throw new SyntaxError(`Non-${ms} character`);Ts=Ts<<et|Bs,Es+=et,Es>=8&&(Es-=8,_s[Ss++]=255&Ts>>Es)}if(Es>=et||255&Ts<<8-Es)throw new SyntaxError("Unexpected end of data");return _s},qr$2=(st,t,et)=>{const ms=t[t.length-1]==="=",ws=(1<<et)-1;let vs="",_s=0,Es=0;for(let Ts=0;Ts<st.length;++Ts)for(Es=Es<<8|st[Ts],_s+=8;_s>et;)_s-=et,vs+=t[ws&Es>>_s];if(_s&&(vs+=t[ws&Es<<et-_s]),ms)for(;vs.length*et&7;)vs+="=";return vs},k$1=({name:st,prefix:t,bitsPerChar:et,alphabet:ms})=>Bt$3({prefix:t,name:st,encode(ws){return qr$2(ws,ms,et)},decode(ws){return Mr$2(ws,ms,et,st)}}),$r$2=Bt$3({prefix:"\0",name:"identity",encode:st=>Nr$2(st),decode:st=>Fr$1(st)});var kr$2=Object.freeze({__proto__:null,identity:$r$2});const Rr$2=k$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jr$2=Object.freeze({__proto__:null,base2:Rr$2});const Zr$2=k$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gr$2=Object.freeze({__proto__:null,base8:Zr$2});const Vr$2=ht$3({prefix:"9",name:"base10",alphabet:"0123456789"});var Yr$1=Object.freeze({__proto__:null,base10:Vr$2});const Jr$1=k$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kr$1=k$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wr$2=Object.freeze({__proto__:null,base16:Jr$1,base16upper:Kr$1});const Xr$2=k$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr$2=k$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qr$2=k$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),to$2=k$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eo$2=k$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),no$2=k$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ro$2=k$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oo$2=k$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),so$2=k$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var io$2=Object.freeze({__proto__:null,base32:Xr$2,base32upper:Pr$2,base32pad:Qr$2,base32padupper:to$2,base32hex:eo$2,base32hexupper:no$2,base32hexpad:ro$2,base32hexpadupper:oo$2,base32z:so$2});const uo$2=ht$3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),co$2=ht$3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ao$2=Object.freeze({__proto__:null,base36:uo$2,base36upper:co$2});const fo$2=ht$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Do$2=ht$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ho$2=Object.freeze({__proto__:null,base58btc:fo$2,base58flickr:Do$2});const lo$2=k$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bo$2=k$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),po$2=k$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wo$2=k$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eo$2=Object.freeze({__proto__:null,base64:lo$2,base64pad:bo$2,base64url:po$2,base64urlpad:wo$2});const Me$4=Array.from("ððªâð°ðððððððððððððâð»ð¥ð¾ð¿ðâ¤ðð¤£ðððð­ðððððð¥ð¥°ðððð¢ð¤ðððªðâºðð¤ððððð¹ð¤¦ððââ¨ð¤·ð±ðð¸ððððððððð¤©ððð¤ðð¯ððð¶ðð¤­â£ððððªðð¥ððð©ð¡ð¤ªðð¥³ð¥ð¤¤ððð³âððð´ðð¬ððð·ð»ðâ­âð¥ºððð¤ð¦âð£ððâ¹ððð âððºðð»ððððð¹ð£ð«ðððµð¤ðð´ð¤ð¼ð«â½ð¤âðð¤«ðð®ðð»ðð¶ðð²ð¿ð§¡ðâ¡ððââðð°ð¤¨ð¶ð¤ð¶ð°ðð¢ð¤ðð¨ð¨ð¤¬âððºð¤ððð±ðð¶ð¥´â¶â¡âðð¸â¬ð¨ðð¦ð·ðºâ ðððµðð¤²ð¤ ð¤§ððµðð§ð¾ððð¤ðð¤¯ð·âð§ð¯ððð¤ððâð´ð£ð¸ððð¥ð¤¢ðð¡ð©ðð¸ð»ð¤ð¤®ð¼ð¥µð©ððð¼ðð£ð¥"),go$2=Me$4.reduce((st,t,et)=>(st[et]=t,st),[]),yo$2=Me$4.reduce((st,t,et)=>(st[t.codePointAt(0)]=et,st),[]);function xo$2(st){return st.reduce((t,et)=>(t+=go$2[et],t),"")}function Bo$2(st){const t=[];for(const et of st){const ms=yo$2[et.codePointAt(0)];if(ms===void 0)throw new Error(`Non-base256emoji character: ${et}`);t.push(ms)}return new Uint8Array(t)}const Co$2=Bt$3({prefix:"ð",name:"base256emoji",encode:xo$2,decode:Bo$2});var Ao$2=Object.freeze({__proto__:null,base256emoji:Co$2}),mo$2=$e$3,qe$3=128,So$2=-128,vo$2=Math.pow(2,31);function $e$3(st,t,et){t=t||[],et=et||0;for(var ms=et;st>=vo$2;)t[et++]=st&255|qe$3,st/=128;for(;st&So$2;)t[et++]=st&255|qe$3,st>>>=7;return t[et]=st|0,$e$3.bytes=et-ms+1,t}var Io$2=Pt$3,Uo$2=128,ke$4=127;function Pt$3(st,ms){var et=0,ms=ms||0,ws=0,vs=ms,_s,Es=st.length;do{if(vs>=Es)throw Pt$3.bytes=0,new RangeError("Could not decode varint");_s=st[vs++],et+=ws<28?(_s&ke$4)<<ws:(_s&ke$4)*Math.pow(2,ws),ws+=7}while(_s>=Uo$2);return Pt$3.bytes=vs-ms,et}var To$2=Math.pow(2,7),Fo$2=Math.pow(2,14),No$2=Math.pow(2,21),Lo$2=Math.pow(2,28),Oo$2=Math.pow(2,35),Ho$2=Math.pow(2,42),zo$2=Math.pow(2,49),Mo$2=Math.pow(2,56),qo$2=Math.pow(2,63),$o$2=function(st){return st<To$2?1:st<Fo$2?2:st<No$2?3:st<Lo$2?4:st<Oo$2?5:st<Ho$2?6:st<zo$2?7:st<Mo$2?8:st<qo$2?9:10},ko$2={encode:mo$2,decode:Io$2,encodingLength:$o$2},Re$2=ko$2;const je$3=(st,t,et=0)=>(Re$2.encode(st,t,et),t),Ze$3=st=>Re$2.encodingLength(st),Qt$3=(st,t)=>{const et=t.byteLength,ms=Ze$3(st),ws=ms+Ze$3(et),vs=new Uint8Array(ws+et);return je$3(st,vs,0),je$3(et,vs,ms),vs.set(t,ws),new Ro$2(st,et,t,vs)};let Ro$2=class{constructor(t,et,ms,ws){this.code=t,this.size=et,this.digest=ms,this.bytes=ws}};const Ge$2=({name:st,code:t,encode:et})=>new jo$2(st,t,et);let jo$2=class{constructor(t,et,ms){this.name=t,this.code=et,this.encode=ms}digest(t){if(t instanceof Uint8Array){const et=this.encode(t);return et instanceof Uint8Array?Qt$3(this.code,et):et.then(ms=>Qt$3(this.code,ms))}else throw Error("Unknown type, must be binary type")}};const Ve$3=st=>async t=>new Uint8Array(await crypto.subtle.digest(st,t)),Zo$2=Ge$2({name:"sha2-256",code:18,encode:Ve$3("SHA-256")}),Go$2=Ge$2({name:"sha2-512",code:19,encode:Ve$3("SHA-512")});var Vo$2=Object.freeze({__proto__:null,sha256:Zo$2,sha512:Go$2});const Ye$3=0,Yo$2="identity",Je$2=He$3,Jo$2=st=>Qt$3(Ye$3,Je$2(st)),Ko$2={code:Ye$3,name:Yo$2,encode:Je$2,digest:Jo$2};var Wo$2=Object.freeze({__proto__:null,identity:Ko$2});new TextEncoder,new TextDecoder;const Ke$3={...kr$2,...jr$2,...Gr$2,...Yr$1,...Wr$2,...io$2,...ao$2,...ho$2,...Eo$2,...Ao$2};({...Vo$2,...Wo$2});function We$2(st,t,et,ms){return{name:st,prefix:t,encoder:{name:st,prefix:t,encode:et},decoder:{decode:ms}}}const Xe$3=We$2("utf8","u",st=>"u"+new TextDecoder("utf8").decode(st),st=>new TextEncoder().encode(st.substring(1))),te$2=We$2("ascii","a",st=>{let t="a";for(let et=0;et<st.length;et++)t+=String.fromCharCode(st[et]);return t},st=>{st=st.substring(1);const t=Le$4(st.length);for(let et=0;et<st.length;et++)t[et]=st.charCodeAt(et);return t}),Pe$2={utf8:Xe$3,"utf-8":Xe$3,hex:Ke$3.base16,latin1:te$2,ascii:te$2,binary:te$2,...Ke$3};function ct$2(st,t="utf8"){const et=Pe$2[t];if(!et)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(st.buffer,st.byteOffset,st.byteLength).toString("utf8"):et.encoder.encode(st).substring(1)}function rt$2(st,t="utf8"){const et=Pe$2[t];if(!et)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt$3(globalThis.Buffer.from(st,"utf-8")):et.decoder.decode(`${et.prefix}${st}`)}function lt$2(st){return safeJsonParse(ct$2(rt$2(st,Dt$1),Gt$3))}function bt$2(st){return ct$2(rt$2(safeJsonStringify(st),Gt$3),Dt$1)}function Qe$3(st){const t=rt$2(Wt$3,dt$3),et=Kt$3+ct$2(Oe$2([t,st]),dt$3);return[Yt$3,Jt$3,et].join(Vt$3)}function en$2(st){return ct$2(st,Dt$1)}function nn$2(st){return rt$2(st,Dt$1)}function rn$2(st){return rt$2([bt$2(st.header),bt$2(st.payload)].join(ut$3),xt$3)}function on$2(st){return[bt$2(st.header),bt$2(st.payload),en$2(st.signature)].join(ut$3)}function sn$2(st){const t=st.split(ut$3),et=lt$2(t[0]),ms=lt$2(t[1]),ws=nn$2(t[2]),vs=rt$2(t.slice(0,2).join(ut$3),xt$3);return{header:et,payload:ms,signature:ws,data:vs}}function Po$2(st=he$3(Ne$2)){const t=Rt$3.getPublicKey(st);return{secretKey:Oe$2([st,t]),publicKey:t}}async function Qo$1(st,t,et,ms,ws=cjsExports$3.fromMiliseconds(Date.now())){const vs={alg:jt$2,typ:Zt$3},_s=Qe$3(ms.publicKey),Es=ws+et,Ts={iss:_s,sub:st,aud:t,iat:ws,exp:Es},Ss=rn$2({header:vs,payload:Ts}),Rs=Rt$3.sign(Ss,ms.secretKey.slice(0,32));return on$2({header:vs,payload:Ts,signature:Rs})}var __spreadArray=function(st,t,et){if(et||arguments.length===2)for(var ms=0,ws=t.length,vs;ms<ws;ms++)(vs||!(ms in t))&&(vs||(vs=Array.prototype.slice.call(t,0,ms)),vs[ms]=t[ms]);return st.concat(vs||Array.prototype.slice.call(t))},BrowserInfo=function(){function st(t,et,ms){this.name=t,this.version=et,this.os=ms,this.type="browser"}return st}(),NodeInfo=function(){function st(t){this.version=t,this.type="node",this.name="node",this.os=process$1.platform}return st}(),SearchBotDeviceInfo=function(){function st(t,et,ms,ws){this.name=t,this.version=et,this.os=ms,this.bot=ws,this.type="bot-device"}return st}(),BotInfo=function(){function st(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return st}(),ReactNativeInfo=function(){function st(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return st}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(st){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(st){return st!==""&&userAgentRules.reduce(function(t,et){var ms=et[0],ws=et[1];if(t)return t;var vs=ws.exec(st);return!!vs&&[ms,vs]},!1)}function parseUserAgent(st){var t=matchUserAgent(st);if(!t)return null;var et=t[0],ms=t[1];if(et==="searchbot")return new BotInfo;var ws=ms[1]&&ms[1].split(".").join("_").split("_").slice(0,3);ws?ws.length<REQUIRED_VERSION_PARTS&&(ws=__spreadArray(__spreadArray([],ws,!0),createVersionParts(REQUIRED_VERSION_PARTS-ws.length),!0)):ws=[];var vs=ws.join("."),_s=detectOS(st),Es=SEARCHBOT_OS_REGEX.exec(st);return Es&&Es[1]?new SearchBotDeviceInfo(et,vs,_s,Es[1]):new BrowserInfo(et,vs,_s)}function detectOS(st){for(var t=0,et=operatingSystemRules.length;t<et;t++){var ms=operatingSystemRules[t],ws=ms[0],vs=ms[1],_s=vs.exec(st);if(_s)return ws}return null}function getNodeVersion(){var st=typeof process$1<"u"&&process$1.version;return st?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(st){for(var t=[],et=0;et<st;et++)t.push("0");return t}var cjs$2={},hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$2;hasRequiredCjs$2=1,Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.getLocalStorage=cjs$2.getLocalStorageOrThrow=cjs$2.getCrypto=cjs$2.getCryptoOrThrow=cjs$2.getLocation=cjs$2.getLocationOrThrow=cjs$2.getNavigator=cjs$2.getNavigatorOrThrow=cjs$2.getDocument=cjs$2.getDocumentOrThrow=cjs$2.getFromWindowOrThrow=cjs$2.getFromWindow=void 0;function st(Is){let Ws;return typeof window<"u"&&typeof window[Is]<"u"&&(Ws=window[Is]),Ws}cjs$2.getFromWindow=st;function t(Is){const Ws=st(Is);if(!Ws)throw new Error(`${Is} is not defined in Window`);return Ws}cjs$2.getFromWindowOrThrow=t;function et(){return t("document")}cjs$2.getDocumentOrThrow=et;function ms(){return st("document")}cjs$2.getDocument=ms;function ws(){return t("navigator")}cjs$2.getNavigatorOrThrow=ws;function vs(){return st("navigator")}cjs$2.getNavigator=vs;function _s(){return t("location")}cjs$2.getLocationOrThrow=_s;function Es(){return st("location")}cjs$2.getLocation=Es;function Ts(){return t("crypto")}cjs$2.getCryptoOrThrow=Ts;function Ss(){return st("crypto")}cjs$2.getCrypto=Ss;function Rs(){return t("localStorage")}cjs$2.getLocalStorageOrThrow=Rs;function Bs(){return st("localStorage")}return cjs$2.getLocalStorage=Bs,cjs$2}var cjsExports$2=requireCjs$2(),cjs$1={},hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1,Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.getWindowMetadata=void 0;const st=requireCjs$2();function t(){let et,ms;try{et=st.getDocumentOrThrow(),ms=st.getLocationOrThrow()}catch{return null}function ws(){const Ws=et.getElementsByTagName("link"),Hs=[];for(let Ns=0;Ns<Ws.length;Ns++){const Js=Ws[Ns],ha=Js.getAttribute("rel");if(ha&&ha.toLowerCase().indexOf("icon")>-1){const pa=Js.getAttribute("href");if(pa)if(pa.toLowerCase().indexOf("https:")===-1&&pa.toLowerCase().indexOf("http:")===-1&&pa.indexOf("//")!==0){let za=ms.protocol+"//"+ms.host;if(pa.indexOf("/")===0)za+=pa;else{const Ya=ms.pathname.split("/");Ya.pop();const Bc=Ya.join("/");za+=Bc+"/"+pa}Hs.push(za)}else if(pa.indexOf("//")===0){const za=ms.protocol+pa;Hs.push(za)}else Hs.push(pa)}}return Hs}function vs(...Ws){const Hs=et.getElementsByTagName("meta");for(let Ns=0;Ns<Hs.length;Ns++){const Js=Hs[Ns],ha=["itemprop","property","name"].map(pa=>Js.getAttribute(pa)).filter(pa=>pa?Ws.includes(pa):!1);if(ha.length&&ha){const pa=Js.getAttribute("content");if(pa)return pa}}return""}function _s(){let Ws=vs("name","og:site_name","og:title","twitter:title");return Ws||(Ws=et.title),Ws}function Es(){return vs("description","og:description","twitter:description","keywords")}const Ts=_s(),Ss=Es(),Rs=ms.origin,Bs=ws();return{description:Ss,url:Rs,icons:Bs,name:Ts}}return cjs$1.getWindowMetadata=t,cjs$1}var cjsExports$1=requireCjs$1();function isHex(st,{strict:t=!0}={}){return!st||typeof st!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(st):st.startsWith("0x")}function size(st){return isHex(st,{strict:!1})?Math.ceil((st.length-2)/2):st.length}const version="2.31.0";let errorConfig={getDocsUrl:({docsBaseUrl:st,docsPath:t="",docsSlug:et})=>t?`${st??"https://viem.sh"}${t}${et?`#${et}`:""}`:void 0,version:`viem@${version}`};class BaseError extends Error{constructor(t,et={}){const ms=et.cause instanceof BaseError?et.cause.details:et.cause?.message?et.cause.message:et.details,ws=et.cause instanceof BaseError&&et.cause.docsPath||et.docsPath,vs=errorConfig.getDocsUrl?.({...et,docsPath:ws}),_s=[t||"An error occurred.","",...et.metaMessages?[...et.metaMessages,""]:[],...vs?[`Docs: ${vs}`]:[],...ms?[`Details: ${ms}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join(`
`);super(_s,et.cause?{cause:et.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=ms,this.docsPath=ws,this.metaMessages=et.metaMessages,this.name=et.name??this.name,this.shortMessage=t,this.version=version}walk(t){return walk(this,t)}}function walk(st,t){return t?.(st)?st:st&&typeof st=="object"&&"cause"in st&&st.cause!==void 0?walk(st.cause,t):t?null:st}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:t,targetSize:et,type:ms}){super(`${ms.charAt(0).toUpperCase()}${ms.slice(1).toLowerCase()} size (${t}) exceeds padding size (${et}).`,{name:"SizeExceedsPaddingSizeError"})}}function pad(st,{dir:t,size:et=32}={}){return typeof st=="string"?padHex(st,{dir:t,size:et}):padBytes(st,{dir:t,size:et})}function padHex(st,{dir:t,size:et=32}={}){if(et===null)return st;const ms=st.replace("0x","");if(ms.length>et*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(ms.length/2),targetSize:et,type:"hex"});return`0x${ms[t==="right"?"padEnd":"padStart"](et*2,"0")}`}function padBytes(st,{dir:t,size:et=32}={}){if(et===null)return st;if(st.length>et)throw new SizeExceedsPaddingSizeError({size:st.length,targetSize:et,type:"bytes"});const ms=new Uint8Array(et);for(let ws=0;ws<et;ws++){const vs=t==="right";ms[vs?ws:et-ws-1]=st[vs?ws:st.length-ws-1]}return ms}class IntegerOutOfRangeError extends BaseError{constructor({max:t,min:et,signed:ms,size:ws,value:vs}){super(`Number "${vs}" is not in safe ${ws?`${ws*8}-bit ${ms?"signed":"unsigned"} `:""}integer range ${t?`(${et} to ${t})`:`(above ${et})`}`,{name:"IntegerOutOfRangeError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:t,maxSize:et}){super(`Size cannot exceed ${et} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function assertSize(st,{size:t}){if(size(st)>t)throw new SizeOverflowError({givenSize:size(st),maxSize:t})}function hexToBigInt(st,t={}){const{signed:et}=t;t.size&&assertSize(st,{size:t.size});const ms=BigInt(st);if(!et)return ms;const ws=(st.length-2)/2,vs=(1n<<BigInt(ws)*8n-1n)-1n;return ms<=vs?ms:ms-BigInt(`0x${"f".padStart(ws*2,"f")}`)-1n}function hexToNumber(st,t={}){return Number(hexToBigInt(st,t))}const hexes=Array.from({length:256},(st,t)=>t.toString(16).padStart(2,"0"));function toHex(st,t={}){return typeof st=="number"||typeof st=="bigint"?numberToHex(st,t):typeof st=="string"?stringToHex(st,t):typeof st=="boolean"?boolToHex(st,t):bytesToHex(st,t)}function boolToHex(st,t={}){const et=`0x${Number(st)}`;return typeof t.size=="number"?(assertSize(et,{size:t.size}),pad(et,{size:t.size})):et}function bytesToHex(st,t={}){let et="";for(let ws=0;ws<st.length;ws++)et+=hexes[st[ws]];const ms=`0x${et}`;return typeof t.size=="number"?(assertSize(ms,{size:t.size}),pad(ms,{dir:"right",size:t.size})):ms}function numberToHex(st,t={}){const{signed:et,size:ms}=t,ws=BigInt(st);let vs;ms?et?vs=(1n<<BigInt(ms)*8n-1n)-1n:vs=2n**(BigInt(ms)*8n)-1n:typeof st=="number"&&(vs=BigInt(Number.MAX_SAFE_INTEGER));const _s=typeof vs=="bigint"&&et?-vs-1n:0;if(vs&&ws>vs||ws<_s){const Ts=typeof st=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:vs?`${vs}${Ts}`:void 0,min:`${_s}${Ts}`,signed:et,size:ms,value:`${st}${Ts}`})}const Es=`0x${(et&&ws<0?(1n<<BigInt(ms*8))+BigInt(ws):ws).toString(16)}`;return ms?pad(Es,{size:ms}):Es}const encoder$1=new TextEncoder;function stringToHex(st,t={}){const et=encoder$1.encode(st);return bytesToHex(et,t)}const encoder=new TextEncoder;function toBytes$1(st,t={}){return typeof st=="number"||typeof st=="bigint"?numberToBytes(st,t):typeof st=="boolean"?boolToBytes(st,t):isHex(st)?hexToBytes(st,t):stringToBytes(st,t)}function boolToBytes(st,t={}){const et=new Uint8Array(1);return et[0]=Number(st),typeof t.size=="number"?(assertSize(et,{size:t.size}),pad(et,{size:t.size})):et}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(st){if(st>=charCodeMap.zero&&st<=charCodeMap.nine)return st-charCodeMap.zero;if(st>=charCodeMap.A&&st<=charCodeMap.F)return st-(charCodeMap.A-10);if(st>=charCodeMap.a&&st<=charCodeMap.f)return st-(charCodeMap.a-10)}function hexToBytes(st,t={}){let et=st;t.size&&(assertSize(et,{size:t.size}),et=pad(et,{dir:"right",size:t.size}));let ms=et.slice(2);ms.length%2&&(ms=`0${ms}`);const ws=ms.length/2,vs=new Uint8Array(ws);for(let _s=0,Es=0;_s<ws;_s++){const Ts=charCodeToBase16(ms.charCodeAt(Es++)),Ss=charCodeToBase16(ms.charCodeAt(Es++));if(Ts===void 0||Ss===void 0)throw new BaseError(`Invalid byte sequence ("${ms[Es-2]}${ms[Es-1]}" in "${ms}").`);vs[_s]=Ts*16+Ss}return vs}function numberToBytes(st,t){const et=numberToHex(st,t);return hexToBytes(et)}function stringToBytes(st,t={}){const et=encoder.encode(st);return typeof t.size=="number"?(assertSize(et,{size:t.size}),pad(et,{dir:"right",size:t.size})):et}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(st,t=!1){return t?{h:Number(st&U32_MASK64),l:Number(st>>_32n&U32_MASK64)}:{h:Number(st>>_32n&U32_MASK64)|0,l:Number(st&U32_MASK64)|0}}function split(st,t=!1){const et=st.length;let ms=new Uint32Array(et),ws=new Uint32Array(et);for(let vs=0;vs<et;vs++){const{h:_s,l:Es}=fromBig(st[vs],t);[ms[vs],ws[vs]]=[_s,Es]}return[ms,ws]}const rotlSH=(st,t,et)=>st<<et|t>>>32-et,rotlSL=(st,t,et)=>t<<et|st>>>32-et,rotlBH=(st,t,et)=>t<<et-32|st>>>64-et,rotlBL=(st,t,et)=>st<<et-32|t>>>64-et,crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$1(st){return st instanceof Uint8Array||ArrayBuffer.isView(st)&&st.constructor.name==="Uint8Array"}function anumber$1(st){if(!Number.isSafeInteger(st)||st<0)throw new Error("positive integer expected, got "+st)}function abytes(st,...t){if(!isBytes$1(st))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(st.length))throw new Error("Uint8Array expected of length "+t+", got length="+st.length)}function ahash(st){if(typeof st!="function"||typeof st.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber$1(st.outputLen),anumber$1(st.blockLen)}function aexists(st,t=!0){if(st.destroyed)throw new Error("Hash instance has been destroyed");if(t&&st.finished)throw new Error("Hash#digest() has already been called")}function aoutput(st,t){abytes(st);const et=t.outputLen;if(st.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}function u32(st){return new Uint32Array(st.buffer,st.byteOffset,Math.floor(st.byteLength/4))}function clean(...st){for(let t=0;t<st.length;t++)st[t].fill(0)}function createView(st){return new DataView(st.buffer,st.byteOffset,st.byteLength)}function rotr(st,t){return st<<32-t|st>>>t}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(st){return st<<24&4278190080|st<<8&16711680|st>>>8&65280|st>>>24&255}function byteSwap32(st){for(let t=0;t<st.length;t++)st[t]=byteSwap(st[t]);return st}const swap32IfBE=isLE?st=>st:byteSwap32;function utf8ToBytes(st){if(typeof st!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(st))}function toBytes(st){return typeof st=="string"&&(st=utf8ToBytes(st)),abytes(st),st}function concatBytes(...st){let t=0;for(let ms=0;ms<st.length;ms++){const ws=st[ms];abytes(ws),t+=ws.length}const et=new Uint8Array(t);for(let ms=0,ws=0;ms<st.length;ms++){const vs=st[ms];et.set(vs,ws),ws+=vs.length}return et}class Hash{}function createHasher(st){const t=ms=>st().update(toBytes(ms)).digest(),et=st();return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=()=>st(),t}function randomBytes(st=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(st));if(crypto$2&&typeof crypto$2.randomBytes=="function")return Uint8Array.from(crypto$2.randomBytes(st));throw new Error("crypto.getRandomValues must be defined")}const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113),SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[];for(let st=0,t=_1n,et=1,ms=0;st<24;st++){[et,ms]=[ms,(2*et+3*ms)%5],SHA3_PI.push(2*(5*ms+et)),SHA3_ROTL.push((st+1)*(st+2)/2%64);let ws=_0n;for(let vs=0;vs<7;vs++)t=(t<<_1n^(t>>_7n)*_0x71n)%_256n,t&_2n&&(ws^=_1n<<(_1n<<BigInt(vs))-_1n);_SHA3_IOTA.push(ws)}const IOTAS=split(_SHA3_IOTA,!0),SHA3_IOTA_H=IOTAS[0],SHA3_IOTA_L=IOTAS[1],rotlH=(st,t,et)=>et>32?rotlBH(st,t,et):rotlSH(st,t,et),rotlL=(st,t,et)=>et>32?rotlBL(st,t,et):rotlSL(st,t,et);function keccakP(st,t=24){const et=new Uint32Array(10);for(let ms=24-t;ms<24;ms++){for(let _s=0;_s<10;_s++)et[_s]=st[_s]^st[_s+10]^st[_s+20]^st[_s+30]^st[_s+40];for(let _s=0;_s<10;_s+=2){const Es=(_s+8)%10,Ts=(_s+2)%10,Ss=et[Ts],Rs=et[Ts+1],Bs=rotlH(Ss,Rs,1)^et[Es],Is=rotlL(Ss,Rs,1)^et[Es+1];for(let Ws=0;Ws<50;Ws+=10)st[_s+Ws]^=Bs,st[_s+Ws+1]^=Is}let ws=st[2],vs=st[3];for(let _s=0;_s<24;_s++){const Es=SHA3_ROTL[_s],Ts=rotlH(ws,vs,Es),Ss=rotlL(ws,vs,Es),Rs=SHA3_PI[_s];ws=st[Rs],vs=st[Rs+1],st[Rs]=Ts,st[Rs+1]=Ss}for(let _s=0;_s<50;_s+=10){for(let Es=0;Es<10;Es++)et[Es]=st[_s+Es];for(let Es=0;Es<10;Es++)st[_s+Es]^=~et[(Es+2)%10]&et[(Es+4)%10]}st[0]^=SHA3_IOTA_H[ms],st[1]^=SHA3_IOTA_L[ms]}clean(et)}class Keccak extends Hash{constructor(t,et,ms,ws=!1,vs=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=et,this.outputLen=ms,this.enableXOF=ws,this.rounds=vs,anumber$1(ms),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=u32(this.state)}clone(){return this._cloneInto()}keccak(){swap32IfBE(this.state32),keccakP(this.state32,this.rounds),swap32IfBE(this.state32),this.posOut=0,this.pos=0}update(t){aexists(this),t=toBytes(t),abytes(t);const{blockLen:et,state:ms}=this,ws=t.length;for(let vs=0;vs<ws;){const _s=Math.min(et-this.pos,ws-vs);for(let Es=0;Es<_s;Es++)ms[this.pos++]^=t[vs++];this.pos===et&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:et,pos:ms,blockLen:ws}=this;t[ms]^=et,(et&128)!==0&&ms===ws-1&&this.keccak(),t[ws-1]^=128,this.keccak()}writeInto(t){aexists(this,!1),abytes(t),this.finish();const et=this.state,{blockLen:ms}=this;for(let ws=0,vs=t.length;ws<vs;){this.posOut>=ms&&this.keccak();const _s=Math.min(ms-this.posOut,vs-ws);t.set(et.subarray(this.posOut,this.posOut+_s),ws),this.posOut+=_s,ws+=_s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return anumber$1(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(aoutput(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,clean(this.state)}_cloneInto(t){const{blockLen:et,suffix:ms,outputLen:ws,rounds:vs,enableXOF:_s}=this;return t||(t=new Keccak(et,ms,ws,_s,vs)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=vs,t.suffix=ms,t.outputLen=ws,t.enableXOF=_s,t.destroyed=this.destroyed,t}}const gen=(st,t,et)=>createHasher(()=>new Keccak(t,st,et)),keccak_256=gen(1,136,256/8);function keccak256(st,t){const et=t||"hex",ms=keccak_256(isHex(st,{strict:!1})?toBytes$1(st):st);return et==="bytes"?ms:toHex(ms)}class LruMap extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const et=super.get(t);return super.has(t)&&et!==void 0&&(this.delete(t),super.set(t,et)),et}set(t,et){if(super.set(t,et),this.maxSize&&this.size>this.maxSize){const ms=this.keys().next().value;ms&&this.delete(ms)}return this}}const checksumAddressCache=new LruMap(8192);function checksumAddress(st,t){if(checksumAddressCache.has(`${st}.${t}`))return checksumAddressCache.get(`${st}.${t}`);const et=st.substring(2).toLowerCase(),ms=keccak256(stringToBytes(et),"bytes"),ws=et.split("");for(let _s=0;_s<40;_s+=2)ms[_s>>1]>>4>=8&&ws[_s]&&(ws[_s]=ws[_s].toUpperCase()),(ms[_s>>1]&15)>=8&&ws[_s+1]&&(ws[_s+1]=ws[_s+1].toUpperCase());const vs=`0x${ws.join("")}`;return checksumAddressCache.set(`${st}.${t}`,vs),vs}function publicKeyToAddress(st){const t=keccak256(`0x${st.substring(4)}`).substring(26);return checksumAddress(`0x${t}`)}async function recoverPublicKey({hash:st,signature:t}){const et=isHex(st)?st:toHex(st),{secp256k1:ms}=await __vitePreload(async()=>{const{secp256k1:_s}=await import("./secp256k1-D6bl7fvD.js");return{secp256k1:_s}},__vite__mapDeps([0,1,2]));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:Ss,s:Rs,v:Bs,yParity:Is}=t,Ws=Number(Is??Bs),Hs=toRecoveryBit(Ws);return new ms.Signature(hexToBigInt(Ss),hexToBigInt(Rs)).addRecoveryBit(Hs)}const _s=isHex(t)?t:toHex(t);if(size(_s)!==65)throw new Error("invalid signature length");const Es=hexToNumber(`0x${_s.slice(130)}`),Ts=toRecoveryBit(Es);return ms.Signature.fromCompact(_s.substring(2,130)).addRecoveryBit(Ts)})().recoverPublicKey(et.substring(2)).toHex(!1)}`}function toRecoveryBit(st){if(st===0||st===1)return st;if(st===27)return 0;if(st===28)return 1;throw new Error("Invalid yParityOrV value")}async function recoverAddress({hash:st,signature:t}){return publicKeyToAddress(await recoverPublicKey({hash:st,signature:t}))}function base(st){if(st.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let Ss=0;Ss<t.length;Ss++)t[Ss]=255;for(let Ss=0;Ss<st.length;Ss++){const Rs=st.charAt(Ss),Bs=Rs.charCodeAt(0);if(t[Bs]!==255)throw new TypeError(Rs+" is ambiguous");t[Bs]=Ss}const et=st.length,ms=st.charAt(0),ws=Math.log(et)/Math.log(256),vs=Math.log(256)/Math.log(et);function _s(Ss){if(Ss instanceof Uint8Array||(ArrayBuffer.isView(Ss)?Ss=new Uint8Array(Ss.buffer,Ss.byteOffset,Ss.byteLength):Array.isArray(Ss)&&(Ss=Uint8Array.from(Ss))),!(Ss instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Ss.length===0)return"";let Rs=0,Bs=0,Is=0;const Ws=Ss.length;for(;Is!==Ws&&Ss[Is]===0;)Is++,Rs++;const Hs=(Ws-Is)*vs+1>>>0,Ns=new Uint8Array(Hs);for(;Is!==Ws;){let pa=Ss[Is],za=0;for(let Ya=Hs-1;(pa!==0||za<Bs)&&Ya!==-1;Ya--,za++)pa+=256*Ns[Ya]>>>0,Ns[Ya]=pa%et>>>0,pa=pa/et>>>0;if(pa!==0)throw new Error("Non-zero carry");Bs=za,Is++}let Js=Hs-Bs;for(;Js!==Hs&&Ns[Js]===0;)Js++;let ha=ms.repeat(Rs);for(;Js<Hs;++Js)ha+=st.charAt(Ns[Js]);return ha}function Es(Ss){if(typeof Ss!="string")throw new TypeError("Expected String");if(Ss.length===0)return new Uint8Array;let Rs=0,Bs=0,Is=0;for(;Ss[Rs]===ms;)Bs++,Rs++;const Ws=(Ss.length-Rs)*ws+1>>>0,Hs=new Uint8Array(Ws);for(;Rs<Ss.length;){const pa=Ss.charCodeAt(Rs);if(pa>255)return;let za=t[pa];if(za===255)return;let Ya=0;for(let Bc=Ws-1;(za!==0||Ya<Is)&&Bc!==-1;Bc--,Ya++)za+=et*Hs[Bc]>>>0,Hs[Bc]=za%256>>>0,za=za/256>>>0;if(za!==0)throw new Error("Non-zero carry");Is=Ya,Rs++}let Ns=Ws-Is;for(;Ns!==Ws&&Hs[Ns]===0;)Ns++;const Js=new Uint8Array(Bs+(Ws-Ns));let ha=Bs;for(;Ns!==Ws;)Js[ha++]=Hs[Ns++];return Js}function Ts(Ss){const Rs=Es(Ss);if(Rs)return Rs;throw new Error("Non-base"+et+" character")}return{encode:_s,decodeUnsafe:Es,decode:Ts}}var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const re$2=base(ALPHABET);function utf8Count(st){const t=st.length;let et=0,ms=0;for(;ms<t;){let ws=st.charCodeAt(ms++);if((ws&4294967168)===0){et++;continue}else if((ws&4294965248)===0)et+=2;else{if(ws>=55296&&ws<=56319&&ms<t){const vs=st.charCodeAt(ms);(vs&64512)===56320&&(++ms,ws=((ws&1023)<<10)+(vs&1023)+65536)}(ws&4294901760)===0?et+=3:et+=4}}return et}function utf8EncodeJs(st,t,et){const ms=st.length;let ws=et,vs=0;for(;vs<ms;){let _s=st.charCodeAt(vs++);if((_s&4294967168)===0){t[ws++]=_s;continue}else if((_s&4294965248)===0)t[ws++]=_s>>6&31|192;else{if(_s>=55296&&_s<=56319&&vs<ms){const Es=st.charCodeAt(vs);(Es&64512)===56320&&(++vs,_s=((_s&1023)<<10)+(Es&1023)+65536)}(_s&4294901760)===0?(t[ws++]=_s>>12&15|224,t[ws++]=_s>>6&63|128):(t[ws++]=_s>>18&7|240,t[ws++]=_s>>12&63|128,t[ws++]=_s>>6&63|128)}t[ws++]=_s&63|128}}const sharedTextEncoder=new TextEncoder,TEXT_ENCODER_THRESHOLD=50;function utf8EncodeTE(st,t,et){sharedTextEncoder.encodeInto(st,t.subarray(et))}function utf8Encode(st,t,et){st.length>TEXT_ENCODER_THRESHOLD?utf8EncodeTE(st,t,et):utf8EncodeJs(st,t,et)}const CHUNK_SIZE=4096;function utf8DecodeJs(st,t,et){let ms=t;const ws=ms+et,vs=[];let _s="";for(;ms<ws;){const Es=st[ms++];if((Es&128)===0)vs.push(Es);else if((Es&224)===192){const Ts=st[ms++]&63;vs.push((Es&31)<<6|Ts)}else if((Es&240)===224){const Ts=st[ms++]&63,Ss=st[ms++]&63;vs.push((Es&31)<<12|Ts<<6|Ss)}else if((Es&248)===240){const Ts=st[ms++]&63,Ss=st[ms++]&63,Rs=st[ms++]&63;let Bs=(Es&7)<<18|Ts<<12|Ss<<6|Rs;Bs>65535&&(Bs-=65536,vs.push(Bs>>>10&1023|55296),Bs=56320|Bs&1023),vs.push(Bs)}else vs.push(Es);vs.length>=CHUNK_SIZE&&(_s+=String.fromCharCode(...vs),vs.length=0)}return vs.length>0&&(_s+=String.fromCharCode(...vs)),_s}const sharedTextDecoder=new TextDecoder,TEXT_DECODER_THRESHOLD=200;function utf8DecodeTD(st,t,et){const ms=st.subarray(t,t+et);return sharedTextDecoder.decode(ms)}function utf8Decode(st,t,et){return et>TEXT_DECODER_THRESHOLD?utf8DecodeTD(st,t,et):utf8DecodeJs(st,t,et)}class ExtData{constructor(t,et){this.type=t,this.data=et}}class DecodeError extends Error{constructor(t){super(t);const et=Object.create(DecodeError.prototype);Object.setPrototypeOf(this,et),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:DecodeError.name})}}const UINT32_MAX=4294967295;function setUint64(st,t,et){const ms=et/4294967296,ws=et;st.setUint32(t,ms),st.setUint32(t+4,ws)}function setInt64(st,t,et){const ms=Math.floor(et/4294967296),ws=et;st.setUint32(t,ms),st.setUint32(t+4,ws)}function getInt64(st,t){const et=st.getInt32(t),ms=st.getUint32(t+4);return et*4294967296+ms}function getUint64(st,t){const et=st.getUint32(t),ms=st.getUint32(t+4);return et*4294967296+ms}const EXT_TIMESTAMP=-1,TIMESTAMP32_MAX_SEC=4294967296-1,TIMESTAMP64_MAX_SEC=17179869184-1;function encodeTimeSpecToTimestamp({sec:st,nsec:t}){if(st>=0&&t>=0&&st<=TIMESTAMP64_MAX_SEC)if(t===0&&st<=TIMESTAMP32_MAX_SEC){const et=new Uint8Array(4);return new DataView(et.buffer).setUint32(0,st),et}else{const et=st/4294967296,ms=st&4294967295,ws=new Uint8Array(8),vs=new DataView(ws.buffer);return vs.setUint32(0,t<<2|et&3),vs.setUint32(4,ms),ws}else{const et=new Uint8Array(12),ms=new DataView(et.buffer);return ms.setUint32(0,t),setInt64(ms,4,st),et}}function encodeDateToTimeSpec(st){const t=st.getTime(),et=Math.floor(t/1e3),ms=(t-et*1e3)*1e6,ws=Math.floor(ms/1e9);return{sec:et+ws,nsec:ms-ws*1e9}}function encodeTimestampExtension(st){if(st instanceof Date){const t=encodeDateToTimeSpec(st);return encodeTimeSpecToTimestamp(t)}else return null}function decodeTimestampToTimeSpec(st){const t=new DataView(st.buffer,st.byteOffset,st.byteLength);switch(st.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const et=t.getUint32(0),ms=t.getUint32(4),ws=(et&3)*4294967296+ms,vs=et>>>2;return{sec:ws,nsec:vs}}case 12:{const et=getInt64(t,4),ms=t.getUint32(0);return{sec:et,nsec:ms}}default:throw new DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${st.length}`)}}function decodeTimestampExtension(st){const t=decodeTimestampToTimeSpec(st);return new Date(t.sec*1e3+t.nsec/1e6)}const timestampExtension={type:EXT_TIMESTAMP,encode:encodeTimestampExtension,decode:decodeTimestampExtension};class ExtensionCodec{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(timestampExtension)}register({type:t,encode:et,decode:ms}){if(t>=0)this.encoders[t]=et,this.decoders[t]=ms;else{const ws=-1-t;this.builtInEncoders[ws]=et,this.builtInDecoders[ws]=ms}}tryToEncode(t,et){for(let ms=0;ms<this.builtInEncoders.length;ms++){const ws=this.builtInEncoders[ms];if(ws!=null){const vs=ws(t,et);if(vs!=null){const _s=-1-ms;return new ExtData(_s,vs)}}}for(let ms=0;ms<this.encoders.length;ms++){const ws=this.encoders[ms];if(ws!=null){const vs=ws(t,et);if(vs!=null){const _s=ms;return new ExtData(_s,vs)}}}return t instanceof ExtData?t:null}decode(t,et,ms){const ws=et<0?this.builtInDecoders[-1-et]:this.decoders[et];return ws?ws(t,et,ms):new ExtData(et,t)}}ExtensionCodec.defaultCodec=new ExtensionCodec;function isArrayBufferLike(st){return st instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&st instanceof SharedArrayBuffer}function ensureUint8Array(st){return st instanceof Uint8Array?st:ArrayBuffer.isView(st)?new Uint8Array(st.buffer,st.byteOffset,st.byteLength):isArrayBufferLike(st)?new Uint8Array(st):Uint8Array.from(st)}const DEFAULT_MAX_DEPTH=100,DEFAULT_INITIAL_BUFFER_SIZE=2048;class Encoder{constructor(t){this.entered=!1,this.extensionCodec=t?.extensionCodec??ExtensionCodec.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??DEFAULT_MAX_DEPTH,this.initialBufferSize=t?.initialBufferSize??DEFAULT_INITIAL_BUFFER_SIZE,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Encoder({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,et){if(et>this.maxDepth)throw new Error(`Too deep objects in depth ${et}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,et)}ensureBufferSizeToWrite(t){const et=this.pos+t;this.view.byteLength<et&&this.resizeBuffer(et*2)}resizeBuffer(t){const et=new ArrayBuffer(t),ms=new Uint8Array(et),ws=new DataView(et);ms.set(this.bytes),this.view=ws,this.bytes=ms}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const ms=utf8Count(t);this.ensureBufferSizeToWrite(5+ms),this.writeStringHeader(ms),utf8Encode(t,this.bytes,this.pos),this.pos+=ms}encodeObject(t,et){const ms=this.extensionCodec.tryToEncode(t,this.context);if(ms!=null)this.encodeExtension(ms);else if(Array.isArray(t))this.encodeArray(t,et);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,et);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const et=t.byteLength;if(et<256)this.writeU8(196),this.writeU8(et);else if(et<65536)this.writeU8(197),this.writeU16(et);else if(et<4294967296)this.writeU8(198),this.writeU32(et);else throw new Error(`Too large binary: ${et}`);const ms=ensureUint8Array(t);this.writeU8a(ms)}encodeArray(t,et){const ms=t.length;if(ms<16)this.writeU8(144+ms);else if(ms<65536)this.writeU8(220),this.writeU16(ms);else if(ms<4294967296)this.writeU8(221),this.writeU32(ms);else throw new Error(`Too large array: ${ms}`);for(const ws of t)this.doEncode(ws,et+1)}countWithoutUndefined(t,et){let ms=0;for(const ws of et)t[ws]!==void 0&&ms++;return ms}encodeMap(t,et){const ms=Object.keys(t);this.sortKeys&&ms.sort();const ws=this.ignoreUndefined?this.countWithoutUndefined(t,ms):ms.length;if(ws<16)this.writeU8(128+ws);else if(ws<65536)this.writeU8(222),this.writeU16(ws);else if(ws<4294967296)this.writeU8(223),this.writeU32(ws);else throw new Error(`Too large map object: ${ws}`);for(const vs of ms){const _s=t[vs];this.ignoreUndefined&&_s===void 0||(this.encodeString(vs),this.doEncode(_s,et+1))}}encodeExtension(t){if(typeof t.data=="function"){const ms=t.data(this.pos+6),ws=ms.length;if(ws>=4294967296)throw new Error(`Too large extension object: ${ws}`);this.writeU8(201),this.writeU32(ws),this.writeI8(t.type),this.writeU8a(ms);return}const et=t.data.length;if(et===1)this.writeU8(212);else if(et===2)this.writeU8(213);else if(et===4)this.writeU8(214);else if(et===8)this.writeU8(215);else if(et===16)this.writeU8(216);else if(et<256)this.writeU8(199),this.writeU8(et);else if(et<65536)this.writeU8(200),this.writeU16(et);else if(et<4294967296)this.writeU8(201),this.writeU32(et);else throw new Error(`Too large extension object: ${et}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const et=t.length;this.ensureBufferSizeToWrite(et),this.bytes.set(t,this.pos),this.pos+=et}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),setUint64(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),setInt64(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}}function encode(st,t){return new Encoder(t).encodeSharedRef(st)}function prettyByte(st){return`${st<0?"-":""}0x${Math.abs(st).toString(16).padStart(2,"0")}`}const DEFAULT_MAX_KEY_LENGTH=16,DEFAULT_MAX_LENGTH_PER_KEY=16;class CachedKeyDecoder{constructor(t=DEFAULT_MAX_KEY_LENGTH,et=DEFAULT_MAX_LENGTH_PER_KEY){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=et,this.caches=[];for(let ms=0;ms<this.maxKeyLength;ms++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,et,ms){const ws=this.caches[ms-1];e:for(const vs of ws){const _s=vs.bytes;for(let Es=0;Es<ms;Es++)if(_s[Es]!==t[et+Es])continue e;return vs.str}return null}store(t,et){const ms=this.caches[t.length-1],ws={bytes:t,str:et};ms.length>=this.maxLengthPerKey?ms[Math.random()*ms.length|0]=ws:ms.push(ws)}decode(t,et,ms){const ws=this.find(t,et,ms);if(ws!=null)return this.hit++,ws;this.miss++;const vs=utf8DecodeJs(t,et,ms),_s=Uint8Array.prototype.slice.call(t,et,et+ms);return this.store(_s,vs),vs}}const STATE_ARRAY="array",STATE_MAP_KEY="map_key",STATE_MAP_VALUE="map_value",mapKeyConverter=st=>{if(typeof st=="string"||typeof st=="number")return st;throw new DecodeError("The type of key must be string or number but "+typeof st)};class StackPool{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const et=this.getUninitializedStateFromPool();et.type=STATE_ARRAY,et.position=0,et.size=t,et.array=new Array(t)}pushMapState(t){const et=this.getUninitializedStateFromPool();et.type=STATE_MAP_KEY,et.readCount=0,et.size=t,et.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===STATE_ARRAY){const ms=t;ms.size=0,ms.array=void 0,ms.position=0,ms.type=void 0}if(t.type===STATE_MAP_KEY||t.type===STATE_MAP_VALUE){const ms=t;ms.size=0,ms.map=void 0,ms.readCount=0,ms.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const HEAD_BYTE_REQUIRED=-1,EMPTY_VIEW=new DataView(new ArrayBuffer(0)),EMPTY_BYTES=new Uint8Array(EMPTY_VIEW.buffer);try{EMPTY_VIEW.getInt8(0)}catch(st){if(!(st instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const MORE_DATA=new RangeError("Insufficient data"),sharedCachedKeyDecoder=new CachedKeyDecoder;class Decoder{constructor(t){this.totalPos=0,this.pos=0,this.view=EMPTY_VIEW,this.bytes=EMPTY_BYTES,this.headByte=HEAD_BYTE_REQUIRED,this.stack=new StackPool,this.entered=!1,this.extensionCodec=t?.extensionCodec??ExtensionCodec.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??UINT32_MAX,this.maxBinLength=t?.maxBinLength??UINT32_MAX,this.maxArrayLength=t?.maxArrayLength??UINT32_MAX,this.maxMapLength=t?.maxMapLength??UINT32_MAX,this.maxExtLength=t?.maxExtLength??UINT32_MAX,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:sharedCachedKeyDecoder,this.mapKeyConverter=t?.mapKeyConverter??mapKeyConverter}clone(){return new Decoder({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=HEAD_BYTE_REQUIRED,this.stack.reset()}setBuffer(t){const et=ensureUint8Array(t);this.bytes=et,this.view=new DataView(et.buffer,et.byteOffset,et.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===HEAD_BYTE_REQUIRED&&!this.hasRemaining(1))this.setBuffer(t);else{const et=this.bytes.subarray(this.pos),ms=ensureUint8Array(t),ws=new Uint8Array(et.length+ms.length);ws.set(et),ws.set(ms,et.length),this.setBuffer(ws)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:et,pos:ms}=this;return new RangeError(`Extra ${et.byteLength-ms} of ${et.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const et=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return et}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let et=!1,ms;for await(const Es of t){if(et)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(Es);try{ms=this.doDecodeSync(),et=!0}catch(Ts){if(!(Ts instanceof RangeError))throw Ts}this.totalPos+=this.pos}if(et){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return ms}const{headByte:ws,pos:vs,totalPos:_s}=this;throw new RangeError(`Insufficient data in parsing ${prettyByte(ws)} at ${_s} (${vs} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,et){if(this.entered){yield*this.clone().decodeMultiAsync(t,et);return}try{this.entered=!0;let ms=et,ws=-1;for await(const vs of t){if(et&&ws===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(vs),ms&&(ws=this.readArraySize(),ms=!1,this.complete());try{for(;yield this.doDecodeSync(),--ws!==0;);}catch(_s){if(!(_s instanceof RangeError))throw _s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let et;if(t>=224)et=t-256;else if(t<192)if(t<128)et=t;else if(t<144){const ws=t-128;if(ws!==0){this.pushMapState(ws),this.complete();continue e}else et={}}else if(t<160){const ws=t-144;if(ws!==0){this.pushArrayState(ws),this.complete();continue e}else et=[]}else{const ws=t-160;et=this.decodeString(ws,0)}else if(t===192)et=null;else if(t===194)et=!1;else if(t===195)et=!0;else if(t===202)et=this.readF32();else if(t===203)et=this.readF64();else if(t===204)et=this.readU8();else if(t===205)et=this.readU16();else if(t===206)et=this.readU32();else if(t===207)this.useBigInt64?et=this.readU64AsBigInt():et=this.readU64();else if(t===208)et=this.readI8();else if(t===209)et=this.readI16();else if(t===210)et=this.readI32();else if(t===211)this.useBigInt64?et=this.readI64AsBigInt():et=this.readI64();else if(t===217){const ws=this.lookU8();et=this.decodeString(ws,1)}else if(t===218){const ws=this.lookU16();et=this.decodeString(ws,2)}else if(t===219){const ws=this.lookU32();et=this.decodeString(ws,4)}else if(t===220){const ws=this.readU16();if(ws!==0){this.pushArrayState(ws),this.complete();continue e}else et=[]}else if(t===221){const ws=this.readU32();if(ws!==0){this.pushArrayState(ws),this.complete();continue e}else et=[]}else if(t===222){const ws=this.readU16();if(ws!==0){this.pushMapState(ws),this.complete();continue e}else et={}}else if(t===223){const ws=this.readU32();if(ws!==0){this.pushMapState(ws),this.complete();continue e}else et={}}else if(t===196){const ws=this.lookU8();et=this.decodeBinary(ws,1)}else if(t===197){const ws=this.lookU16();et=this.decodeBinary(ws,2)}else if(t===198){const ws=this.lookU32();et=this.decodeBinary(ws,4)}else if(t===212)et=this.decodeExtension(1,0);else if(t===213)et=this.decodeExtension(2,0);else if(t===214)et=this.decodeExtension(4,0);else if(t===215)et=this.decodeExtension(8,0);else if(t===216)et=this.decodeExtension(16,0);else if(t===199){const ws=this.lookU8();et=this.decodeExtension(ws,1)}else if(t===200){const ws=this.lookU16();et=this.decodeExtension(ws,2)}else if(t===201){const ws=this.lookU32();et=this.decodeExtension(ws,4)}else throw new DecodeError(`Unrecognized type byte: ${prettyByte(t)}`);this.complete();const ms=this.stack;for(;ms.length>0;){const ws=ms.top();if(ws.type===STATE_ARRAY)if(ws.array[ws.position]=et,ws.position++,ws.position===ws.size)et=ws.array,ms.release(ws);else continue e;else if(ws.type===STATE_MAP_KEY){if(et==="__proto__")throw new DecodeError("The key __proto__ is not allowed");ws.key=this.mapKeyConverter(et),ws.type=STATE_MAP_VALUE;continue e}else if(ws.map[ws.key]=et,ws.readCount++,ws.readCount===ws.size)et=ws.map,ms.release(ws);else{ws.key=null,ws.type=STATE_MAP_KEY;continue e}}return et}}readHeadByte(){return this.headByte===HEAD_BYTE_REQUIRED&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=HEAD_BYTE_REQUIRED}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new DecodeError(`Unrecognized array type byte: ${prettyByte(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new DecodeError(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new DecodeError(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,et){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,et):this.decodeBinary(t,et)}decodeUtf8String(t,et){if(t>this.maxStrLength)throw new DecodeError(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+et+t)throw MORE_DATA;const ms=this.pos+et;let ws;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?ws=this.keyDecoder.decode(this.bytes,ms,t):ws=utf8Decode(this.bytes,ms,t),this.pos+=et+t,ws}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===STATE_MAP_KEY:!1}decodeBinary(t,et){if(t>this.maxBinLength)throw new DecodeError(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+et))throw MORE_DATA;const ms=this.pos+et,ws=this.bytes.subarray(ms,ms+t);return this.pos+=et+t,ws}decodeExtension(t,et){if(t>this.maxExtLength)throw new DecodeError(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const ms=this.view.getInt8(this.pos+et),ws=this.decodeBinary(t,et+1);return this.extensionCodec.decode(ws,ms,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=getUint64(this.view,this.pos);return this.pos+=8,t}readI64(){const t=getInt64(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}}function decode(st,t){return new Decoder(t).decode(st)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes(st){return st instanceof Uint8Array||ArrayBuffer.isView(st)&&st.constructor.name==="Uint8Array"}function isArrayOf(st,t){return Array.isArray(t)?t.length===0?!0:st?t.every(et=>typeof et=="string"):t.every(et=>Number.isSafeInteger(et)):!1}function astr(st,t){if(typeof t!="string")throw new Error(`${st}: string expected`);return!0}function anumber(st){if(!Number.isSafeInteger(st))throw new Error(`invalid integer: ${st}`)}function aArr(st){if(!Array.isArray(st))throw new Error("array expected")}function astrArr(st,t){if(!isArrayOf(!0,t))throw new Error(`${st}: array of strings expected`)}function anumArr(st,t){if(!isArrayOf(!1,t))throw new Error(`${st}: array of numbers expected`)}function chain(...st){const t=vs=>vs,et=(vs,_s)=>Es=>vs(_s(Es)),ms=st.map(vs=>vs.encode).reduceRight(et,t),ws=st.map(vs=>vs.decode).reduce(et,t);return{encode:ms,decode:ws}}function alphabet(st){const t=typeof st=="string"?st.split(""):st,et=t.length;astrArr("alphabet",t);const ms=new Map(t.map((ws,vs)=>[ws,vs]));return{encode:ws=>(aArr(ws),ws.map(vs=>{if(!Number.isSafeInteger(vs)||vs<0||vs>=et)throw new Error(`alphabet.encode: digit index outside alphabet "${vs}". Allowed: ${st}`);return t[vs]})),decode:ws=>(aArr(ws),ws.map(vs=>{astr("alphabet.decode",vs);const _s=ms.get(vs);if(_s===void 0)throw new Error(`Unknown letter: "${vs}". Allowed: ${st}`);return _s}))}}function join(st=""){return astr("join",st),{encode:t=>(astrArr("join.decode",t),t.join(st)),decode:t=>(astr("join.decode",t),t.split(st))}}function padding(st,t="="){return anumber(st),astr("padding",t),{encode(et){for(astrArr("padding.encode",et);et.length*st%8;)et.push(t);return et},decode(et){astrArr("padding.decode",et);let ms=et.length;if(ms*st%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;ms>0&&et[ms-1]===t;ms--)if((ms-1)*st%8===0)throw new Error("padding: invalid, string has too much padding");return et.slice(0,ms)}}}const gcd=(st,t)=>t===0?st:gcd(t,st%t),radix2carry=(st,t)=>st+(t-gcd(st,t)),powers=(()=>{let st=[];for(let t=0;t<40;t++)st.push(2**t);return st})();function convertRadix2(st,t,et,ms){if(aArr(st),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(et<=0||et>32)throw new Error(`convertRadix2: wrong to=${et}`);if(radix2carry(t,et)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${et} carryBits=${radix2carry(t,et)}`);let ws=0,vs=0;const _s=powers[t],Es=powers[et]-1,Ts=[];for(const Ss of st){if(anumber(Ss),Ss>=_s)throw new Error(`convertRadix2: invalid data word=${Ss} from=${t}`);if(ws=ws<<t|Ss,vs+t>32)throw new Error(`convertRadix2: carry overflow pos=${vs} from=${t}`);for(vs+=t;vs>=et;vs-=et)Ts.push((ws>>vs-et&Es)>>>0);const Rs=powers[vs];if(Rs===void 0)throw new Error("invalid carry");ws&=Rs-1}if(ws=ws<<et-vs&Es,!ms&&vs>=t)throw new Error("Excess padding");if(!ms&&ws>0)throw new Error(`Non-zero padding: ${ws}`);return ms&&vs>0&&Ts.push(ws>>>0),Ts}function radix2(st,t=!1){if(anumber(st),st<=0||st>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,st)>32||radix2carry(st,8)>32)throw new Error("radix2: carry overflow");return{encode:et=>{if(!isBytes(et))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(et),8,st,!t)},decode:et=>(anumArr("radix2.decode",et),Uint8Array.from(convertRadix2(et,st,8,t)))}}const base32=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));function asUint8Array(st){return globalThis.Buffer!=null?new Uint8Array(st.buffer,st.byteOffset,st.byteLength):st}function allocUnsafe(st=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(st)):new Uint8Array(st)}function concat(st,t){t||(t=st.reduce((ws,vs)=>ws+vs.length,0));const et=allocUnsafe(t);let ms=0;for(const ws of st)et.set(ws,ms),ms+=ws.length;return asUint8Array(et)}function createCodec(st,t,et,ms){return{name:st,prefix:t,encoder:{name:st,prefix:t,encode:et},decoder:{decode:ms}}}const string=createCodec("utf8","u",st=>"u"+new TextDecoder("utf8").decode(st),st=>new TextEncoder().encode(st.substring(1))),ascii=createCodec("ascii","a",st=>{let t="a";for(let et=0;et<st.length;et++)t+=String.fromCharCode(st[et]);return t},st=>{st=st.substring(1);const t=allocUnsafe(st.length);for(let et=0;et<st.length;et++)t[et]=st.charCodeAt(et);return t}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(st,t="utf8"){const et=BASES[t];if(!et)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(st,"utf-8")):et.decoder.decode(`${et.prefix}${st}`)}function toString$1(st,t="utf8"){const et=BASES[t];if(!et)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(st.buffer,st.byteOffset,st.byteLength).toString("utf8"):et.encoder.encode(st).substring(1)}const C$2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;const st="Input must be an string, Buffer or Uint8Array";function t(_s){let Es;if(_s instanceof Uint8Array)Es=_s;else if(typeof _s=="string")Es=new TextEncoder().encode(_s);else throw new Error(st);return Es}function et(_s){return Array.prototype.map.call(_s,function(Es){return(Es<16?"0":"")+Es.toString(16)}).join("")}function ms(_s){return(4294967296+_s).toString(16).substring(1)}function ws(_s,Es,Ts){let Ss=`
`+_s+" = ";for(let Rs=0;Rs<Es.length;Rs+=2){if(Ts===32)Ss+=ms(Es[Rs]).toUpperCase(),Ss+=" ",Ss+=ms(Es[Rs+1]).toUpperCase();else if(Ts===64)Ss+=ms(Es[Rs+1]).toUpperCase(),Ss+=ms(Es[Rs]).toUpperCase();else throw new Error("Invalid size "+Ts);Rs%6===4?Ss+=`
`+new Array(_s.length+4).join(" "):Rs<Es.length-2&&(Ss+=" ")}console.log(Ss)}function vs(_s,Es,Ts){let Ss=new Date().getTime();const Rs=new Uint8Array(Es);for(let Is=0;Is<Es;Is++)Rs[Is]=Is%256;const Bs=new Date().getTime();console.log("Generated random input in "+(Bs-Ss)+"ms"),Ss=Bs;for(let Is=0;Is<Ts;Is++){const Ws=_s(Rs),Hs=new Date().getTime(),Ns=Hs-Ss;Ss=Hs,console.log("Hashed in "+Ns+"ms: "+Ws.substring(0,20)+"..."),console.log(Math.round(Es/(1<<20)/(Ns/1e3)*100)/100+" MB PER SECOND")}}return util={normalizeInput:t,toHex:et,debugPrint:ws,testSpeed:vs},util}var blake2b_1,hasRequiredBlake2b;function requireBlake2b(){if(hasRequiredBlake2b)return blake2b_1;hasRequiredBlake2b=1;const st=requireUtil();function t(ha,pa,za){const Ya=ha[pa]+ha[za];let Bc=ha[pa+1]+ha[za+1];Ya>=4294967296&&Bc++,ha[pa]=Ya,ha[pa+1]=Bc}function et(ha,pa,za,Ya){let Bc=ha[pa]+za;za<0&&(Bc+=4294967296);let Qa=ha[pa+1]+Ya;Bc>=4294967296&&Qa++,ha[pa]=Bc,ha[pa+1]=Qa}function ms(ha,pa){return ha[pa]^ha[pa+1]<<8^ha[pa+2]<<16^ha[pa+3]<<24}function ws(ha,pa,za,Ya,Bc,Qa){const tu=Ss[Bc],eu=Ss[Bc+1],ru=Ss[Qa],cu=Ss[Qa+1];t(Ts,ha,pa),et(Ts,ha,tu,eu);let ou=Ts[Ya]^Ts[ha],Ga=Ts[Ya+1]^Ts[ha+1];Ts[Ya]=Ga,Ts[Ya+1]=ou,t(Ts,za,Ya),ou=Ts[pa]^Ts[za],Ga=Ts[pa+1]^Ts[za+1],Ts[pa]=ou>>>24^Ga<<8,Ts[pa+1]=Ga>>>24^ou<<8,t(Ts,ha,pa),et(Ts,ha,ru,cu),ou=Ts[Ya]^Ts[ha],Ga=Ts[Ya+1]^Ts[ha+1],Ts[Ya]=ou>>>16^Ga<<16,Ts[Ya+1]=Ga>>>16^ou<<16,t(Ts,za,Ya),ou=Ts[pa]^Ts[za],Ga=Ts[pa+1]^Ts[za+1],Ts[pa]=Ga>>>31^ou<<1,Ts[pa+1]=ou>>>31^Ga<<1}const vs=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),_s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Es=new Uint8Array(_s.map(function(ha){return ha*2})),Ts=new Uint32Array(32),Ss=new Uint32Array(32);function Rs(ha,pa){let za=0;for(za=0;za<16;za++)Ts[za]=ha.h[za],Ts[za+16]=vs[za];for(Ts[24]=Ts[24]^ha.t,Ts[25]=Ts[25]^ha.t/4294967296,pa&&(Ts[28]=~Ts[28],Ts[29]=~Ts[29]),za=0;za<32;za++)Ss[za]=ms(ha.b,4*za);for(za=0;za<12;za++)ws(0,8,16,24,Es[za*16+0],Es[za*16+1]),ws(2,10,18,26,Es[za*16+2],Es[za*16+3]),ws(4,12,20,28,Es[za*16+4],Es[za*16+5]),ws(6,14,22,30,Es[za*16+6],Es[za*16+7]),ws(0,10,20,30,Es[za*16+8],Es[za*16+9]),ws(2,12,22,24,Es[za*16+10],Es[za*16+11]),ws(4,14,16,26,Es[za*16+12],Es[za*16+13]),ws(6,8,18,28,Es[za*16+14],Es[za*16+15]);for(za=0;za<16;za++)ha.h[za]=ha.h[za]^Ts[za]^Ts[za+16]}const Bs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Is(ha,pa,za,Ya){if(ha===0||ha>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(pa&&pa.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(za&&za.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(Ya&&Ya.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const Bc={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:ha};Bs.fill(0),Bs[0]=ha,pa&&(Bs[1]=pa.length),Bs[2]=1,Bs[3]=1,za&&Bs.set(za,32),Ya&&Bs.set(Ya,48);for(let Qa=0;Qa<16;Qa++)Bc.h[Qa]=vs[Qa]^ms(Bs,Qa*4);return pa&&(Ws(Bc,pa),Bc.c=128),Bc}function Ws(ha,pa){for(let za=0;za<pa.length;za++)ha.c===128&&(ha.t+=ha.c,Rs(ha,!1),ha.c=0),ha.b[ha.c++]=pa[za]}function Hs(ha){for(ha.t+=ha.c;ha.c<128;)ha.b[ha.c++]=0;Rs(ha,!0);const pa=new Uint8Array(ha.outlen);for(let za=0;za<ha.outlen;za++)pa[za]=ha.h[za>>2]>>8*(za&3);return pa}function Ns(ha,pa,za,Ya,Bc){za=za||64,ha=st.normalizeInput(ha),Ya&&(Ya=st.normalizeInput(Ya)),Bc&&(Bc=st.normalizeInput(Bc));const Qa=Is(za,pa,Ya,Bc);return Ws(Qa,ha),Hs(Qa)}function Js(ha,pa,za,Ya,Bc){const Qa=Ns(ha,pa,za,Ya,Bc);return st.toHex(Qa)}return blake2b_1={blake2b:Ns,blake2bHex:Js,blake2bInit:Is,blake2bUpdate:Ws,blake2bFinal:Hs},blake2b_1}var blake2s_1,hasRequiredBlake2s;function requireBlake2s(){if(hasRequiredBlake2s)return blake2s_1;hasRequiredBlake2s=1;const st=requireUtil();function t(Hs,Ns){return Hs[Ns]^Hs[Ns+1]<<8^Hs[Ns+2]<<16^Hs[Ns+3]<<24}function et(Hs,Ns,Js,ha,pa,za){_s[Hs]=_s[Hs]+_s[Ns]+pa,_s[ha]=ms(_s[ha]^_s[Hs],16),_s[Js]=_s[Js]+_s[ha],_s[Ns]=ms(_s[Ns]^_s[Js],12),_s[Hs]=_s[Hs]+_s[Ns]+za,_s[ha]=ms(_s[ha]^_s[Hs],8),_s[Js]=_s[Js]+_s[ha],_s[Ns]=ms(_s[Ns]^_s[Js],7)}function ms(Hs,Ns){return Hs>>>Ns^Hs<<32-Ns}const ws=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vs=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),_s=new Uint32Array(16),Es=new Uint32Array(16);function Ts(Hs,Ns){let Js=0;for(Js=0;Js<8;Js++)_s[Js]=Hs.h[Js],_s[Js+8]=ws[Js];for(_s[12]^=Hs.t,_s[13]^=Hs.t/4294967296,Ns&&(_s[14]=~_s[14]),Js=0;Js<16;Js++)Es[Js]=t(Hs.b,4*Js);for(Js=0;Js<10;Js++)et(0,4,8,12,Es[vs[Js*16+0]],Es[vs[Js*16+1]]),et(1,5,9,13,Es[vs[Js*16+2]],Es[vs[Js*16+3]]),et(2,6,10,14,Es[vs[Js*16+4]],Es[vs[Js*16+5]]),et(3,7,11,15,Es[vs[Js*16+6]],Es[vs[Js*16+7]]),et(0,5,10,15,Es[vs[Js*16+8]],Es[vs[Js*16+9]]),et(1,6,11,12,Es[vs[Js*16+10]],Es[vs[Js*16+11]]),et(2,7,8,13,Es[vs[Js*16+12]],Es[vs[Js*16+13]]),et(3,4,9,14,Es[vs[Js*16+14]],Es[vs[Js*16+15]]);for(Js=0;Js<8;Js++)Hs.h[Js]^=_s[Js]^_s[Js+8]}function Ss(Hs,Ns){if(!(Hs>0&&Hs<=32))throw new Error("Incorrect output length, should be in [1, 32]");const Js=Ns?Ns.length:0;if(Ns&&!(Js>0&&Js<=32))throw new Error("Incorrect key length, should be in [1, 32]");const ha={h:new Uint32Array(ws),b:new Uint8Array(64),c:0,t:0,outlen:Hs};return ha.h[0]^=16842752^Js<<8^Hs,Js>0&&(Rs(ha,Ns),ha.c=64),ha}function Rs(Hs,Ns){for(let Js=0;Js<Ns.length;Js++)Hs.c===64&&(Hs.t+=Hs.c,Ts(Hs,!1),Hs.c=0),Hs.b[Hs.c++]=Ns[Js]}function Bs(Hs){for(Hs.t+=Hs.c;Hs.c<64;)Hs.b[Hs.c++]=0;Ts(Hs,!0);const Ns=new Uint8Array(Hs.outlen);for(let Js=0;Js<Hs.outlen;Js++)Ns[Js]=Hs.h[Js>>2]>>8*(Js&3)&255;return Ns}function Is(Hs,Ns,Js){Js=Js||32,Hs=st.normalizeInput(Hs);const ha=Ss(Js,Ns);return Rs(ha,Hs),Bs(ha)}function Ws(Hs,Ns,Js){const ha=Is(Hs,Ns,Js);return st.toHex(ha)}return blake2s_1={blake2s:Is,blake2sHex:Ws,blake2sInit:Ss,blake2sUpdate:Rs,blake2sFinal:Bs},blake2s_1}var blakejs,hasRequiredBlakejs;function requireBlakejs(){if(hasRequiredBlakejs)return blakejs;hasRequiredBlakejs=1;const st=requireBlake2b(),t=requireBlake2s();return blakejs={blake2b:st.blake2b,blake2bHex:st.blake2bHex,blake2bInit:st.blake2bInit,blake2bUpdate:st.blake2bUpdate,blake2bFinal:st.blake2bFinal,blake2s:t.blake2s,blake2sHex:t.blake2sHex,blake2sInit:t.blake2sInit,blake2sUpdate:t.blake2sUpdate,blake2sFinal:t.blake2sFinal},blakejs}var blakejsExports=requireBlakejs(),define_process_env_default$1={};const xe$1=":";function Fe$2(st){const[t,et]=st.split(xe$1);return{namespace:t,reference:et}}function ve$1(st,t){return st.includes(":")?[st]:t.chains||[]}var $s$1=Object.defineProperty,Cs$1=Object.defineProperties,Ls$1=Object.getOwnPropertyDescriptors,Jn$1=Object.getOwnPropertySymbols,js$1=Object.prototype.hasOwnProperty,ks$1=Object.prototype.propertyIsEnumerable,Ze$2=(st,t,et)=>t in st?$s$1(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Qn$1=(st,t)=>{for(var et in t||(t={}))js$1.call(t,et)&&Ze$2(st,et,t[et]);if(Jn$1)for(var et of Jn$1(t))ks$1.call(t,et)&&Ze$2(st,et,t[et]);return st},Ps=(st,t)=>Cs$1(st,Ls$1(t)),tr$1=(st,t,et)=>Ze$2(st,typeof t!="symbol"?t+"":t,et);const er="ReactNative",J={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},rr$1="js";function Ye$2(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function Bt$2(){return!cjsExports$2.getDocument()&&!!cjsExports$2.getNavigator()&&navigator.product===er}function Ms$1(){return Bt$2()&&typeof window<"u"&&typeof window?.Platform<"u"&&window?.Platform.OS==="android"}function Vs$1(){return Bt$2()&&typeof window<"u"&&typeof window?.Platform<"u"&&window?.Platform.OS==="ios"}function zt$2(){return!Ye$2()&&!!cjsExports$2.getNavigator()&&!!cjsExports$2.getDocument()}function Pt$2(){return Bt$2()?J.reactNative:Ye$2()?J.node:zt$2()?J.browser:J.unknown}function qs(){var st;try{return Bt$2()&&typeof window<"u"&&typeof window?.Application<"u"?(st=window.Application)==null?void 0:st.applicationId:void 0}catch{return}}function or$1(st,t){const et=new URLSearchParams(st);for(const ms of Object.keys(t).sort())if(t.hasOwnProperty(ms)){const ws=t[ms];ws!==void 0&&et.set(ms,ws)}return et.toString()}function Ks$1(st){var t,et;const ms=sr$1();try{return st!=null&&st.url&&ms.url&&new URL(st.url).host!==new URL(ms.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${st.url} differs from the actual page url:${ms.url}. This is probably unintended and can lead to issues.`),st.url=ms.url),(t=st?.icons)!=null&&t.length&&st.icons.length>0&&(st.icons=st.icons.filter(ws=>ws!=="")),Ps(Qn$1(Qn$1({},ms),st),{url:st?.url||ms.url,name:st?.name||ms.name,description:st?.description||ms.description,icons:(et=st?.icons)!=null&&et.length&&st.icons.length>0?st.icons:ms.icons})}catch(ws){return console.warn("Error populating app metadata",ws),st||ms}}function sr$1(){return cjsExports$1.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function ir$1(){if(Pt$2()===J.reactNative&&typeof window<"u"&&typeof window?.Platform<"u"){const{OS:et,Version:ms}=window.Platform;return[et,ms].join("-")}const st=detect();if(st===null)return"unknown";const t=st.os?st.os.replace(" ","").toLowerCase():"unknown";return st.type==="browser"?[t,st.name,st.version].join("-"):[t,st.version].join("-")}function fr$1(){var st;const t=Pt$2();return t===J.browser?[t,((st=cjsExports$2.getLocation())==null?void 0:st.host)||"unknown"].join(":"):t}function cr$1(st,t,et){const ms=ir$1(),ws=fr$1();return[[st,t].join("-"),[rr$1,et].join("-"),ms,ws].join("/")}function zs({protocol:st,version:t,relayUrl:et,sdkVersion:ms,auth:ws,projectId:vs,useOnCloseEvent:_s,bundleId:Es,packageName:Ts}){const Ss=et.split("?"),Rs=cr$1(st,t,ms),Bs={auth:ws,ua:Rs,projectId:vs,useOnCloseEvent:_s,packageName:Ts||void 0,bundleId:Es||void 0},Is=or$1(Ss[1]||"",Bs);return Ss[0]+"?"+Is}function It$2(st,t){return st.filter(et=>t.includes(et)).length===st.length}function Ys(st){return Object.fromEntries(st.entries())}function Xs(st){return new Map(Object.entries(st))}function ei$1(st=cjsExports$3.FIVE_MINUTES,t){const et=cjsExports$3.toMiliseconds(st||cjsExports$3.FIVE_MINUTES);let ms,ws,vs,_s;return{resolve:Es=>{vs&&ms&&(clearTimeout(vs),ms(Es),_s=Promise.resolve(Es))},reject:Es=>{vs&&ws&&(clearTimeout(vs),ws(Es))},done:()=>new Promise((Es,Ts)=>{if(_s)return Es(_s);vs=setTimeout(()=>{const Ss=new Error(t);_s=Promise.reject(Ss),Ts(Ss)},et),ms=Es,ws=Ts})}}function ni$1(st,t,et){return new Promise(async(ms,ws)=>{const vs=setTimeout(()=>ws(new Error(et)),t);try{const _s=await st;ms(_s)}catch(_s){ws(_s)}clearTimeout(vs)})}function Xe$2(st,t){if(typeof t=="string"&&t.startsWith(`${st}:`))return t;if(st.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(st.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${st}`)}function ri$1(st){return Xe$2("topic",st)}function oi$1(st){return Xe$2("id",st)}function si$1(st){const[t,et]=st.split(":"),ms={id:void 0,topic:void 0};if(t==="topic"&&typeof et=="string")ms.topic=et;else if(t==="id"&&Number.isInteger(Number(et)))ms.id=Number(et);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${et}`);return ms}function ii$1(st,t){return cjsExports$3.fromMiliseconds(Date.now()+cjsExports$3.toMiliseconds(st))}function fi$1(st){return Date.now()>=cjsExports$3.toMiliseconds(st)}function ci$1(st,t){return`${st}${t?`:${t}`:""}`}function ct$1(st=[],t=[]){return[...new Set([...st,...t])]}async function ai$1({id:st,topic:t,wcDeepLink:et}){var ms;try{if(!et)return;const ws=typeof et=="string"?JSON.parse(et):et,vs=ws?.href;if(typeof vs!="string")return;const _s=dr$1(vs,st,t),Es=Pt$2();if(Es===J.browser){if(!((ms=cjsExports$2.getDocument())!=null&&ms.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}hr$1(_s)}else Es===J.reactNative&&typeof window?.Linking<"u"&&await window.Linking.openURL(_s)}catch(ws){console.error(ws)}}function dr$1(st,t,et){const ms=`requestId=${t}&sessionTopic=${et}`;st.endsWith("/")&&(st=st.slice(0,-1));let ws=`${st}`;if(st.startsWith("https://t.me")){const vs=st.includes("?")?"&startapp=":"?startapp=";ws=`${ws}${vs}${br$1(ms,!0)}`}else ws=`${ws}/wc?${ms}`;return ws}function hr$1(st){let t="_self";gr$1()?t="_top":(pr$1()||st.startsWith("https://")||st.startsWith("http://"))&&(t="_blank"),window.open(st,t,"noreferrer noopener")}async function ui$1(st,t){let et="";try{if(zt$2()&&(et=localStorage.getItem(t),et))return et;et=await st.getItem(t)}catch(ms){console.error(ms)}return et}function li$1(st,t){if(!st.includes(t))return null;const et=st.split(/([&,?,=])/),ms=et.indexOf(t);return et[ms+2]}function di$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,st=>{const t=Math.random()*16|0;return(st==="x"?t:t&3|8).toString(16)})}function hi$1(){return typeof process$1<"u"&&define_process_env_default$1.IS_VITEST==="true"}function pr$1(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gr$1(){try{return window.self!==window.top}catch{return!1}}function br$1(st,t=!1){const et=Buffer.from(st).toString("base64");return t?et.replace(/[=]/g,""):et}function Qe$2(st){return Buffer.from(st,"base64").toString("utf-8")}function pi$1(st){return new Promise(t=>setTimeout(t,st))}let gi$1=class{constructor({limit:t}){tr$1(this,"limit"),tr$1(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const et=this.set.values().next().value;et&&this.set.delete(et)}this.set.add(t)}}has(t){return this.set.has(t)}};const Be$2=BigInt(2**32-1),yr$1=BigInt(32);function mr$1(st,t=!1){return t?{h:Number(st&Be$2),l:Number(st>>yr$1&Be$2)}:{h:Number(st>>yr$1&Be$2)|0,l:Number(st&Be$2)|0}}function wr$1(st,t=!1){const et=st.length;let ms=new Uint32Array(et),ws=new Uint32Array(et);for(let vs=0;vs<et;vs++){const{h:_s,l:Es}=mr$1(st[vs],t);[ms[vs],ws[vs]]=[_s,Es]}return[ms,ws]}const xr$1=(st,t,et)=>st>>>et,vr$1=(st,t,et)=>st<<32-et|t>>>et,At$2=(st,t,et)=>st>>>et|t<<32-et,St$3=(st,t,et)=>st<<32-et|t>>>et,se$2=(st,t,et)=>st<<64-et|t>>>et-32,ie$1=(st,t,et)=>st>>>et-32|t<<64-et,bi$1=(st,t)=>t,yi$1=(st,t)=>st,mi$1=(st,t,et)=>st<<et|t>>>32-et,wi$1=(st,t,et)=>t<<et|st>>>32-et,xi$1=(st,t,et)=>t<<et-32|st>>>64-et,vi$1=(st,t,et)=>st<<et-32|t>>>64-et;function dt$2(st,t,et,ms){const ws=(t>>>0)+(ms>>>0);return{h:st+et+(ws/2**32|0)|0,l:ws|0}}const tn=(st,t,et)=>(st>>>0)+(t>>>0)+(et>>>0),en$1=(st,t,et,ms)=>t+et+ms+(st/2**32|0)|0,Ei$1=(st,t,et,ms)=>(st>>>0)+(t>>>0)+(et>>>0)+(ms>>>0),Bi$1=(st,t,et,ms,ws)=>t+et+ms+ws+(st/2**32|0)|0,Ii$1=(st,t,et,ms,ws)=>(st>>>0)+(t>>>0)+(et>>>0)+(ms>>>0)+(ws>>>0),Ai$1=(st,t,et,ms,ws,vs)=>t+et+ms+ws+vs+(st/2**32|0)|0,Gt$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function nn$1(st){return st instanceof Uint8Array||ArrayBuffer.isView(st)&&st.constructor.name==="Uint8Array"}function mt$2(st){if(!Number.isSafeInteger(st)||st<0)throw new Error("positive integer expected, got "+st)}function at$1(st,...t){if(!nn$1(st))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(st.length))throw new Error("Uint8Array expected of length "+t+", got length="+st.length)}function rn$1(st){if(typeof st!="function"||typeof st.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");mt$2(st.outputLen),mt$2(st.blockLen)}function Nt$2(st,t=!0){if(st.destroyed)throw new Error("Hash instance has been destroyed");if(t&&st.finished)throw new Error("Hash#digest() has already been called")}function on$1(st,t){at$1(st);const et=t.outputLen;if(st.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}function fe$1(st){return new Uint32Array(st.buffer,st.byteOffset,Math.floor(st.byteLength/4))}function ut$2(...st){for(let t=0;t<st.length;t++)st[t].fill(0)}function sn$1(st){return new DataView(st.buffer,st.byteOffset,st.byteLength)}function gt$2(st,t){return st<<32-t|st>>>t}const Er$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Br$1(st){return st<<24&4278190080|st<<8&16711680|st>>>8&65280|st>>>24&255}const wt$2=Er$1?st=>st:st=>Br$1(st);function Si$1(st){for(let t=0;t<st.length;t++)st[t]=Br$1(st[t]);return st}const Ot$2=Er$1?st=>st:Si$1,Ir$1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ni$1=Array.from({length:256},(st,t)=>t.toString(16).padStart(2,"0"));function ce$2(st){if(at$1(st),Ir$1)return st.toHex();let t="";for(let et=0;et<st.length;et++)t+=Ni$1[st[et]];return t}const xt$2={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ar$1(st){if(st>=xt$2._0&&st<=xt$2._9)return st-xt$2._0;if(st>=xt$2.A&&st<=xt$2.F)return st-(xt$2.A-10);if(st>=xt$2.a&&st<=xt$2.f)return st-(xt$2.a-10)}function fn$1(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);if(Ir$1)return Uint8Array.fromHex(st);const t=st.length,et=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const ms=new Uint8Array(et);for(let ws=0,vs=0;ws<et;ws++,vs+=2){const _s=Ar$1(st.charCodeAt(vs)),Es=Ar$1(st.charCodeAt(vs+1));if(_s===void 0||Es===void 0){const Ts=st[vs]+st[vs+1];throw new Error('hex string expected, got non-hex character "'+Ts+'" at index '+vs)}ms[ws]=_s*16+Es}return ms}function Oi$1(st){if(typeof st!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(st))}function ht$2(st){return typeof st=="string"&&(st=Oi$1(st)),at$1(st),st}function Ht$2(...st){let t=0;for(let ms=0;ms<st.length;ms++){const ws=st[ms];at$1(ws),t+=ws.length}const et=new Uint8Array(t);for(let ms=0,ws=0;ms<st.length;ms++){const vs=st[ms];et.set(vs,ws),ws+=vs.length}return et}let Ie$2=class{};function ae$2(st){const t=ms=>st().update(ht$2(ms)).digest(),et=st();return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=()=>st(),t}function Ui$1(st){const t=(ms,ws)=>st(ws).update(ht$2(ms)).digest(),et=st({});return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=ms=>st(ms),t}function Zt$2(st=32){if(Gt$2&&typeof Gt$2.getRandomValues=="function")return Gt$2.getRandomValues(new Uint8Array(st));if(Gt$2&&typeof Gt$2.randomBytes=="function")return Uint8Array.from(Gt$2.randomBytes(st));throw new Error("crypto.getRandomValues must be defined")}const _i$1=BigInt(0),ue$2=BigInt(1),Ti$1=BigInt(2),Ri$1=BigInt(7),$i$1=BigInt(256),Ci$1=BigInt(113),Sr$1=[],Nr$1=[],Or$1=[];for(let st=0,t=ue$2,et=1,ms=0;st<24;st++){[et,ms]=[ms,(2*et+3*ms)%5],Sr$1.push(2*(5*ms+et)),Nr$1.push((st+1)*(st+2)/2%64);let ws=_i$1;for(let vs=0;vs<7;vs++)t=(t<<ue$2^(t>>Ri$1)*Ci$1)%$i$1,t&Ti$1&&(ws^=ue$2<<(ue$2<<BigInt(vs))-ue$2);Or$1.push(ws)}const Ur$1=wr$1(Or$1,!0),Li$1=Ur$1[0],ji$1=Ur$1[1],_r$1=(st,t,et)=>et>32?xi$1(st,t,et):mi$1(st,t,et),Tr$1=(st,t,et)=>et>32?vi$1(st,t,et):wi$1(st,t,et);function ki$1(st,t=24){const et=new Uint32Array(10);for(let ms=24-t;ms<24;ms++){for(let _s=0;_s<10;_s++)et[_s]=st[_s]^st[_s+10]^st[_s+20]^st[_s+30]^st[_s+40];for(let _s=0;_s<10;_s+=2){const Es=(_s+8)%10,Ts=(_s+2)%10,Ss=et[Ts],Rs=et[Ts+1],Bs=_r$1(Ss,Rs,1)^et[Es],Is=Tr$1(Ss,Rs,1)^et[Es+1];for(let Ws=0;Ws<50;Ws+=10)st[_s+Ws]^=Bs,st[_s+Ws+1]^=Is}let ws=st[2],vs=st[3];for(let _s=0;_s<24;_s++){const Es=Nr$1[_s],Ts=_r$1(ws,vs,Es),Ss=Tr$1(ws,vs,Es),Rs=Sr$1[_s];ws=st[Rs],vs=st[Rs+1],st[Rs]=Ts,st[Rs+1]=Ss}for(let _s=0;_s<50;_s+=10){for(let Es=0;Es<10;Es++)et[Es]=st[_s+Es];for(let Es=0;Es<10;Es++)st[_s+Es]^=~et[(Es+2)%10]&et[(Es+4)%10]}st[0]^=Li$1[ms],st[1]^=ji$1[ms]}ut$2(et)}let qn$1=class fd extends Ie$2{constructor(t,et,ms,ws=!1,vs=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=et,this.outputLen=ms,this.enableXOF=ws,this.rounds=vs,mt$2(ms),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fe$1(this.state)}clone(){return this._cloneInto()}keccak(){Ot$2(this.state32),ki$1(this.state32,this.rounds),Ot$2(this.state32),this.posOut=0,this.pos=0}update(t){Nt$2(this),t=ht$2(t),at$1(t);const{blockLen:et,state:ms}=this,ws=t.length;for(let vs=0;vs<ws;){const _s=Math.min(et-this.pos,ws-vs);for(let Es=0;Es<_s;Es++)ms[this.pos++]^=t[vs++];this.pos===et&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:et,pos:ms,blockLen:ws}=this;t[ms]^=et,(et&128)!==0&&ms===ws-1&&this.keccak(),t[ws-1]^=128,this.keccak()}writeInto(t){Nt$2(this,!1),at$1(t),this.finish();const et=this.state,{blockLen:ms}=this;for(let ws=0,vs=t.length;ws<vs;){this.posOut>=ms&&this.keccak();const _s=Math.min(ms-this.posOut,vs-ws);t.set(et.subarray(this.posOut,this.posOut+_s),ws),this.posOut+=_s,ws+=_s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return mt$2(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(on$1(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ut$2(this.state)}_cloneInto(t){const{blockLen:et,suffix:ms,outputLen:ws,rounds:vs,enableXOF:_s}=this;return t||(t=new fd(et,ms,ws,_s,vs)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=vs,t.suffix=ms,t.outputLen=ws,t.enableXOF=_s,t.destroyed=this.destroyed,t}};const Pi$1=(st,t,et)=>ae$2(()=>new qn$1(t,st,et)),Hi=Pi$1(1,136,256/8);function Di$1(st,t,et,ms){if(typeof st.setBigUint64=="function")return st.setBigUint64(t,et,ms);const ws=BigInt(32),vs=BigInt(4294967295),_s=Number(et>>ws&vs),Es=Number(et&vs),Ts=ms?4:0,Ss=ms?0:4;st.setUint32(t+Ts,_s,ms),st.setUint32(t+Ss,Es,ms)}function Mi$1(st,t,et){return st&t^~st&et}function Vi$1(st,t,et){return st&t^st&et^t&et}let Rr$1=class extends Ie$2{constructor(t,et,ms,ws){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=et,this.padOffset=ms,this.isLE=ws,this.buffer=new Uint8Array(t),this.view=sn$1(this.buffer)}update(t){Nt$2(this),t=ht$2(t),at$1(t);const{view:et,buffer:ms,blockLen:ws}=this,vs=t.length;for(let _s=0;_s<vs;){const Es=Math.min(ws-this.pos,vs-_s);if(Es===ws){const Ts=sn$1(t);for(;ws<=vs-_s;_s+=ws)this.process(Ts,_s);continue}ms.set(t.subarray(_s,_s+Es),this.pos),this.pos+=Es,_s+=Es,this.pos===ws&&(this.process(et,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Nt$2(this),on$1(t,this),this.finished=!0;const{buffer:et,view:ms,blockLen:ws,isLE:vs}=this;let{pos:_s}=this;et[_s++]=128,ut$2(this.buffer.subarray(_s)),this.padOffset>ws-_s&&(this.process(ms,0),_s=0);for(let Bs=_s;Bs<ws;Bs++)et[Bs]=0;Di$1(ms,ws-8,BigInt(this.length*8),vs),this.process(ms,0);const Es=sn$1(t),Ts=this.outputLen;if(Ts%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Ss=Ts/4,Rs=this.get();if(Ss>Rs.length)throw new Error("_sha2: outputLen bigger than state");for(let Bs=0;Bs<Ss;Bs++)Es.setUint32(4*Bs,Rs[Bs],vs)}digest(){const{buffer:t,outputLen:et}=this;this.digestInto(t);const ms=t.slice(0,et);return this.destroy(),ms}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:et,buffer:ms,length:ws,finished:vs,destroyed:_s,pos:Es}=this;return t.destroyed=_s,t.finished=vs,t.length=ws,t.pos=Es,ws%et&&t.buffer.set(ms),t}clone(){return this._cloneInto()}};const Ut$1=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),W$2=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Y$2=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),qi$1=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_t$1=new Uint32Array(64);let Ki$1=class extends Rr$1{constructor(t=32){super(64,t,8,!1),this.A=Ut$1[0]|0,this.B=Ut$1[1]|0,this.C=Ut$1[2]|0,this.D=Ut$1[3]|0,this.E=Ut$1[4]|0,this.F=Ut$1[5]|0,this.G=Ut$1[6]|0,this.H=Ut$1[7]|0}get(){const{A:t,B:et,C:ms,D:ws,E:vs,F:_s,G:Es,H:Ts}=this;return[t,et,ms,ws,vs,_s,Es,Ts]}set(t,et,ms,ws,vs,_s,Es,Ts){this.A=t|0,this.B=et|0,this.C=ms|0,this.D=ws|0,this.E=vs|0,this.F=_s|0,this.G=Es|0,this.H=Ts|0}process(t,et){for(let Bs=0;Bs<16;Bs++,et+=4)_t$1[Bs]=t.getUint32(et,!1);for(let Bs=16;Bs<64;Bs++){const Is=_t$1[Bs-15],Ws=_t$1[Bs-2],Hs=gt$2(Is,7)^gt$2(Is,18)^Is>>>3,Ns=gt$2(Ws,17)^gt$2(Ws,19)^Ws>>>10;_t$1[Bs]=Ns+_t$1[Bs-7]+Hs+_t$1[Bs-16]|0}let{A:ms,B:ws,C:vs,D:_s,E:Es,F:Ts,G:Ss,H:Rs}=this;for(let Bs=0;Bs<64;Bs++){const Is=gt$2(Es,6)^gt$2(Es,11)^gt$2(Es,25),Ws=Rs+Is+Mi$1(Es,Ts,Ss)+qi$1[Bs]+_t$1[Bs]|0,Hs=(gt$2(ms,2)^gt$2(ms,13)^gt$2(ms,22))+Vi$1(ms,ws,vs)|0;Rs=Ss,Ss=Ts,Ts=Es,Es=_s+Ws|0,_s=vs,vs=ws,ws=ms,ms=Ws+Hs|0}ms=ms+this.A|0,ws=ws+this.B|0,vs=vs+this.C|0,_s=_s+this.D|0,Es=Es+this.E|0,Ts=Ts+this.F|0,Ss=Ss+this.G|0,Rs=Rs+this.H|0,this.set(ms,ws,vs,_s,Es,Ts,Ss,Rs)}roundClean(){ut$2(_t$1)}destroy(){this.set(0,0,0,0,0,0,0,0),ut$2(this.buffer)}};const $r$1=wr$1(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(st=>BigInt(st))),Fi$1=$r$1[0],zi$1=$r$1[1],Tt$2=new Uint32Array(80),Rt$2=new Uint32Array(80);let cn$1=class extends Rr$1{constructor(t=64){super(128,t,16,!1),this.Ah=Y$2[0]|0,this.Al=Y$2[1]|0,this.Bh=Y$2[2]|0,this.Bl=Y$2[3]|0,this.Ch=Y$2[4]|0,this.Cl=Y$2[5]|0,this.Dh=Y$2[6]|0,this.Dl=Y$2[7]|0,this.Eh=Y$2[8]|0,this.El=Y$2[9]|0,this.Fh=Y$2[10]|0,this.Fl=Y$2[11]|0,this.Gh=Y$2[12]|0,this.Gl=Y$2[13]|0,this.Hh=Y$2[14]|0,this.Hl=Y$2[15]|0}get(){const{Ah:t,Al:et,Bh:ms,Bl:ws,Ch:vs,Cl:_s,Dh:Es,Dl:Ts,Eh:Ss,El:Rs,Fh:Bs,Fl:Is,Gh:Ws,Gl:Hs,Hh:Ns,Hl:Js}=this;return[t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js]}set(t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){this.Ah=t|0,this.Al=et|0,this.Bh=ms|0,this.Bl=ws|0,this.Ch=vs|0,this.Cl=_s|0,this.Dh=Es|0,this.Dl=Ts|0,this.Eh=Ss|0,this.El=Rs|0,this.Fh=Bs|0,this.Fl=Is|0,this.Gh=Ws|0,this.Gl=Hs|0,this.Hh=Ns|0,this.Hl=Js|0}process(t,et){for(let za=0;za<16;za++,et+=4)Tt$2[za]=t.getUint32(et),Rt$2[za]=t.getUint32(et+=4);for(let za=16;za<80;za++){const Ya=Tt$2[za-15]|0,Bc=Rt$2[za-15]|0,Qa=At$2(Ya,Bc,1)^At$2(Ya,Bc,8)^xr$1(Ya,Bc,7),tu=St$3(Ya,Bc,1)^St$3(Ya,Bc,8)^vr$1(Ya,Bc,7),eu=Tt$2[za-2]|0,ru=Rt$2[za-2]|0,cu=At$2(eu,ru,19)^se$2(eu,ru,61)^xr$1(eu,ru,6),ou=St$3(eu,ru,19)^ie$1(eu,ru,61)^vr$1(eu,ru,6),Ga=Ei$1(tu,ou,Rt$2[za-7],Rt$2[za-16]),Xa=Bi$1(Ga,Qa,cu,Tt$2[za-7],Tt$2[za-16]);Tt$2[za]=Xa|0,Rt$2[za]=Ga|0}let{Ah:ms,Al:ws,Bh:vs,Bl:_s,Ch:Es,Cl:Ts,Dh:Ss,Dl:Rs,Eh:Bs,El:Is,Fh:Ws,Fl:Hs,Gh:Ns,Gl:Js,Hh:ha,Hl:pa}=this;for(let za=0;za<80;za++){const Ya=At$2(Bs,Is,14)^At$2(Bs,Is,18)^se$2(Bs,Is,41),Bc=St$3(Bs,Is,14)^St$3(Bs,Is,18)^ie$1(Bs,Is,41),Qa=Bs&Ws^~Bs&Ns,tu=Is&Hs^~Is&Js,eu=Ii$1(pa,Bc,tu,zi$1[za],Rt$2[za]),ru=Ai$1(eu,ha,Ya,Qa,Fi$1[za],Tt$2[za]),cu=eu|0,ou=At$2(ms,ws,28)^se$2(ms,ws,34)^se$2(ms,ws,39),Ga=St$3(ms,ws,28)^ie$1(ms,ws,34)^ie$1(ms,ws,39),Xa=ms&vs^ms&Es^vs&Es,Fa=ws&_s^ws&Ts^_s&Ts;ha=Ns|0,pa=Js|0,Ns=Ws|0,Js=Hs|0,Ws=Bs|0,Hs=Is|0,{h:Bs,l:Is}=dt$2(Ss|0,Rs|0,ru|0,cu|0),Ss=Es|0,Rs=Ts|0,Es=vs|0,Ts=_s|0,vs=ms|0,_s=ws|0;const Zs=tn(cu,Ga,Fa);ms=en$1(Zs,ru,ou,Xa),ws=Zs|0}({h:ms,l:ws}=dt$2(this.Ah|0,this.Al|0,ms|0,ws|0)),{h:vs,l:_s}=dt$2(this.Bh|0,this.Bl|0,vs|0,_s|0),{h:Es,l:Ts}=dt$2(this.Ch|0,this.Cl|0,Es|0,Ts|0),{h:Ss,l:Rs}=dt$2(this.Dh|0,this.Dl|0,Ss|0,Rs|0),{h:Bs,l:Is}=dt$2(this.Eh|0,this.El|0,Bs|0,Is|0),{h:Ws,l:Hs}=dt$2(this.Fh|0,this.Fl|0,Ws|0,Hs|0),{h:Ns,l:Js}=dt$2(this.Gh|0,this.Gl|0,Ns|0,Js|0),{h:ha,l:pa}=dt$2(this.Hh|0,this.Hl|0,ha|0,pa|0),this.set(ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js,ha,pa)}roundClean(){ut$2(Tt$2,Rt$2)}destroy(){ut$2(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Gi$1=class extends cn$1{constructor(){super(48),this.Ah=W$2[0]|0,this.Al=W$2[1]|0,this.Bh=W$2[2]|0,this.Bl=W$2[3]|0,this.Ch=W$2[4]|0,this.Cl=W$2[5]|0,this.Dh=W$2[6]|0,this.Dl=W$2[7]|0,this.Eh=W$2[8]|0,this.El=W$2[9]|0,this.Fh=W$2[10]|0,this.Fl=W$2[11]|0,this.Gh=W$2[12]|0,this.Gl=W$2[13]|0,this.Hh=W$2[14]|0,this.Hl=W$2[15]|0}};const X$2=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Zi extends cn$1{constructor(){super(32),this.Ah=X$2[0]|0,this.Al=X$2[1]|0,this.Bh=X$2[2]|0,this.Bl=X$2[3]|0,this.Ch=X$2[4]|0,this.Cl=X$2[5]|0,this.Dh=X$2[6]|0,this.Dl=X$2[7]|0,this.Eh=X$2[8]|0,this.El=X$2[9]|0,this.Fh=X$2[10]|0,this.Fl=X$2[11]|0,this.Gh=X$2[12]|0,this.Gl=X$2[13]|0,this.Hh=X$2[14]|0,this.Hl=X$2[15]|0}}const Ae$1=ae$2(()=>new Ki$1),Wi=ae$2(()=>new cn$1),Yi=ae$2(()=>new Gi$1),Xi=ae$2(()=>new Zi),Ji=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),F$1=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),N$2=new Uint32Array(32);function $t$2(st,t,et,ms,ws,vs){const _s=ws[vs],Es=ws[vs+1];let Ts=N$2[2*st],Ss=N$2[2*st+1],Rs=N$2[2*t],Bs=N$2[2*t+1],Is=N$2[2*et],Ws=N$2[2*et+1],Hs=N$2[2*ms],Ns=N$2[2*ms+1],Js=tn(Ts,Rs,_s);Ss=en$1(Js,Ss,Bs,Es),Ts=Js|0,{Dh:Ns,Dl:Hs}={Dh:Ns^Ss,Dl:Hs^Ts},{Dh:Ns,Dl:Hs}={Dh:bi$1(Ns,Hs),Dl:yi$1(Ns)},{h:Ws,l:Is}=dt$2(Ws,Is,Ns,Hs),{Bh:Bs,Bl:Rs}={Bh:Bs^Ws,Bl:Rs^Is},{Bh:Bs,Bl:Rs}={Bh:At$2(Bs,Rs,24),Bl:St$3(Bs,Rs,24)},N$2[2*st]=Ts,N$2[2*st+1]=Ss,N$2[2*t]=Rs,N$2[2*t+1]=Bs,N$2[2*et]=Is,N$2[2*et+1]=Ws,N$2[2*ms]=Hs,N$2[2*ms+1]=Ns}function Ct$2(st,t,et,ms,ws,vs){const _s=ws[vs],Es=ws[vs+1];let Ts=N$2[2*st],Ss=N$2[2*st+1],Rs=N$2[2*t],Bs=N$2[2*t+1],Is=N$2[2*et],Ws=N$2[2*et+1],Hs=N$2[2*ms],Ns=N$2[2*ms+1],Js=tn(Ts,Rs,_s);Ss=en$1(Js,Ss,Bs,Es),Ts=Js|0,{Dh:Ns,Dl:Hs}={Dh:Ns^Ss,Dl:Hs^Ts},{Dh:Ns,Dl:Hs}={Dh:At$2(Ns,Hs,16),Dl:St$3(Ns,Hs,16)},{h:Ws,l:Is}=dt$2(Ws,Is,Ns,Hs),{Bh:Bs,Bl:Rs}={Bh:Bs^Ws,Bl:Rs^Is},{Bh:Bs,Bl:Rs}={Bh:se$2(Bs,Rs,63),Bl:ie$1(Bs,Rs,63)},N$2[2*st]=Ts,N$2[2*st+1]=Ss,N$2[2*t]=Rs,N$2[2*t+1]=Bs,N$2[2*et]=Is,N$2[2*et+1]=Ws,N$2[2*ms]=Hs,N$2[2*ms+1]=Ns}function Qi(st,t={},et,ms,ws){if(mt$2(et),st<0||st>et)throw new Error("outputLen bigger than keyLen");const{key:vs,salt:_s,personalization:Es}=t;if(vs!==void 0&&(vs.length<1||vs.length>et))throw new Error("key length must be undefined or 1.."+et);if(_s!==void 0&&_s.length!==ms)throw new Error("salt must be undefined or "+ms);if(Es!==void 0&&Es.length!==ws)throw new Error("personalization must be undefined or "+ws)}class tf extends Ie$2{constructor(t,et){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt$2(t),mt$2(et),this.blockLen=t,this.outputLen=et,this.buffer=new Uint8Array(t),this.buffer32=fe$1(this.buffer)}update(t){Nt$2(this),t=ht$2(t),at$1(t);const{blockLen:et,buffer:ms,buffer32:ws}=this,vs=t.length,_s=t.byteOffset,Es=t.buffer;for(let Ts=0;Ts<vs;){this.pos===et&&(Ot$2(ws),this.compress(ws,0,!1),Ot$2(ws),this.pos=0);const Ss=Math.min(et-this.pos,vs-Ts),Rs=_s+Ts;if(Ss===et&&!(Rs%4)&&Ts+Ss<vs){const Bs=new Uint32Array(Es,Rs,Math.floor((vs-Ts)/4));Ot$2(Bs);for(let Is=0;Ts+et<vs;Is+=ws.length,Ts+=et)this.length+=et,this.compress(Bs,Is,!1);Ot$2(Bs);continue}ms.set(t.subarray(Ts,Ts+Ss),this.pos),this.pos+=Ss,this.length+=Ss,Ts+=Ss}return this}digestInto(t){Nt$2(this),on$1(t,this);const{pos:et,buffer32:ms}=this;this.finished=!0,ut$2(this.buffer.subarray(et)),Ot$2(ms),this.compress(ms,0,!0),Ot$2(ms);const ws=fe$1(t);this.get().forEach((vs,_s)=>ws[_s]=wt$2(vs))}digest(){const{buffer:t,outputLen:et}=this;this.digestInto(t);const ms=t.slice(0,et);return this.destroy(),ms}_cloneInto(t){const{buffer:et,length:ms,finished:ws,destroyed:vs,outputLen:_s,pos:Es}=this;return t||(t=new this.constructor({dkLen:_s})),t.set(...this.get()),t.buffer.set(et),t.destroyed=vs,t.finished=ws,t.length=ms,t.pos=Es,t.outputLen=_s,t}clone(){return this._cloneInto()}}class ef extends tf{constructor(t={}){const et=t.dkLen===void 0?64:t.dkLen;super(128,et),this.v0l=F$1[0]|0,this.v0h=F$1[1]|0,this.v1l=F$1[2]|0,this.v1h=F$1[3]|0,this.v2l=F$1[4]|0,this.v2h=F$1[5]|0,this.v3l=F$1[6]|0,this.v3h=F$1[7]|0,this.v4l=F$1[8]|0,this.v4h=F$1[9]|0,this.v5l=F$1[10]|0,this.v5h=F$1[11]|0,this.v6l=F$1[12]|0,this.v6h=F$1[13]|0,this.v7l=F$1[14]|0,this.v7h=F$1[15]|0,Qi(et,t,64,16,16);let{key:ms,personalization:ws,salt:vs}=t,_s=0;if(ms!==void 0&&(ms=ht$2(ms),_s=ms.length),this.v0l^=this.outputLen|_s<<8|65536|1<<24,vs!==void 0){vs=ht$2(vs);const Es=fe$1(vs);this.v4l^=wt$2(Es[0]),this.v4h^=wt$2(Es[1]),this.v5l^=wt$2(Es[2]),this.v5h^=wt$2(Es[3])}if(ws!==void 0){ws=ht$2(ws);const Es=fe$1(ws);this.v6l^=wt$2(Es[0]),this.v6h^=wt$2(Es[1]),this.v7l^=wt$2(Es[2]),this.v7h^=wt$2(Es[3])}if(ms!==void 0){const Es=new Uint8Array(this.blockLen);Es.set(ms),this.update(Es)}}get(){let{v0l:t,v0h:et,v1l:ms,v1h:ws,v2l:vs,v2h:_s,v3l:Es,v3h:Ts,v4l:Ss,v4h:Rs,v5l:Bs,v5h:Is,v6l:Ws,v6h:Hs,v7l:Ns,v7h:Js}=this;return[t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js]}set(t,et,ms,ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws,Hs,Ns,Js){this.v0l=t|0,this.v0h=et|0,this.v1l=ms|0,this.v1h=ws|0,this.v2l=vs|0,this.v2h=_s|0,this.v3l=Es|0,this.v3h=Ts|0,this.v4l=Ss|0,this.v4h=Rs|0,this.v5l=Bs|0,this.v5h=Is|0,this.v6l=Ws|0,this.v6h=Hs|0,this.v7l=Ns|0,this.v7h=Js|0}compress(t,et,ms){this.get().forEach((Ts,Ss)=>N$2[Ss]=Ts),N$2.set(F$1,16);let{h:ws,l:vs}=mr$1(BigInt(this.length));N$2[24]=F$1[8]^vs,N$2[25]=F$1[9]^ws,ms&&(N$2[28]=~N$2[28],N$2[29]=~N$2[29]);let _s=0;const Es=Ji;for(let Ts=0;Ts<12;Ts++)$t$2(0,4,8,12,t,et+2*Es[_s++]),Ct$2(0,4,8,12,t,et+2*Es[_s++]),$t$2(1,5,9,13,t,et+2*Es[_s++]),Ct$2(1,5,9,13,t,et+2*Es[_s++]),$t$2(2,6,10,14,t,et+2*Es[_s++]),Ct$2(2,6,10,14,t,et+2*Es[_s++]),$t$2(3,7,11,15,t,et+2*Es[_s++]),Ct$2(3,7,11,15,t,et+2*Es[_s++]),$t$2(0,5,10,15,t,et+2*Es[_s++]),Ct$2(0,5,10,15,t,et+2*Es[_s++]),$t$2(1,6,11,12,t,et+2*Es[_s++]),Ct$2(1,6,11,12,t,et+2*Es[_s++]),$t$2(2,7,8,13,t,et+2*Es[_s++]),Ct$2(2,7,8,13,t,et+2*Es[_s++]),$t$2(3,4,9,14,t,et+2*Es[_s++]),Ct$2(3,4,9,14,t,et+2*Es[_s++]);this.v0l^=N$2[0]^N$2[16],this.v0h^=N$2[1]^N$2[17],this.v1l^=N$2[2]^N$2[18],this.v1h^=N$2[3]^N$2[19],this.v2l^=N$2[4]^N$2[20],this.v2h^=N$2[5]^N$2[21],this.v3l^=N$2[6]^N$2[22],this.v3h^=N$2[7]^N$2[23],this.v4l^=N$2[8]^N$2[24],this.v4h^=N$2[9]^N$2[25],this.v5l^=N$2[10]^N$2[26],this.v5h^=N$2[11]^N$2[27],this.v6l^=N$2[12]^N$2[28],this.v6h^=N$2[13]^N$2[29],this.v7l^=N$2[14]^N$2[30],this.v7h^=N$2[15]^N$2[31],ut$2(N$2)}destroy(){this.destroyed=!0,ut$2(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nf=Ui$1(st=>new ef(st)),rf="https://rpc.walletconnect.org/v1";function an$1(st){const t=`Ethereum Signed Message:
${st.length}`,et=new TextEncoder().encode(t+st);return"0x"+Buffer.from(Hi(et)).toString("hex")}async function Cr$1(st,t,et,ms,ws,vs){switch(et.t){case"eip191":return await Lr$1(st,t,et.s);case"eip1271":return await jr$1(st,t,et.s,ms,ws,vs);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${et.t}`)}}async function Lr$1(st,t,et){return(await recoverAddress({hash:an$1(t),signature:et})).toLowerCase()===st.toLowerCase()}async function jr$1(st,t,et,ms,ws,vs){const _s=Fe$2(ms);if(!_s.namespace||!_s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${ms}`);try{const Es="0x1626ba7e",Ts="0000000000000000000000000000000000000000000000000000000000000040",Ss=et.substring(2),Rs=(Ss.length/2).toString(16).padStart(64,"0"),Bs=(t.startsWith("0x")?t:an$1(t)).substring(2),Is=Es+Bs+Ts+Rs+Ss,Ws=await fetch(`${vs||rf}/?chainId=${ms}&projectId=${ws}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:of(),jsonrpc:"2.0",method:"eth_call",params:[{to:st,data:Is},"latest"]})}),{result:Hs}=await Ws.json();return Hs?Hs.slice(0,Es.length).toLowerCase()===Es.toLowerCase():!1}catch(Es){return console.error("isValidEip1271Signature: ",Es),!1}}function of(){return Date.now()+Math.floor(Math.random()*1e3)}function sf(st){const t=atob(st),et=new Uint8Array(t.length);for(let _s=0;_s<t.length;_s++)et[_s]=t.charCodeAt(_s);const ms=et[0];if(ms===0)throw new Error("No signatures found");const ws=1+ms*64;if(et.length<ws)throw new Error("Transaction data too short for claimed signature count");if(et.length<100)throw new Error("Transaction too short");const vs=Buffer.from(st,"base64").slice(1,65);return re$2.encode(vs)}function ff(st){const t=new Uint8Array(Buffer.from(st,"base64")),et=Array.from("TransactionData::").map(vs=>vs.charCodeAt(0)),ms=new Uint8Array(et.length+t.length);ms.set(et),ms.set(t,et.length);const ws=nf(ms,{dkLen:32});return re$2.encode(ws)}function cf(st){const t=new Uint8Array(Ae$1(kr$1(st)));return re$2.encode(t)}function kr$1(st){if(st instanceof Uint8Array)return st;if(Array.isArray(st))return new Uint8Array(st);if(typeof st=="object"&&st!=null&&st.data)return new Uint8Array(Object.values(st.data));if(typeof st=="object"&&st)return new Uint8Array(Object.values(st));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function af(st){const t=Buffer.from(st,"base64"),et=decode(t).txn;if(!et)throw new Error("Invalid signed transaction: missing 'txn' field");const ms=encode(et),ws=Buffer.from("TX"),vs=Buffer.concat([ws,Buffer.from(ms)]),_s=Xi(vs);return base32.encode(_s).replace(/=+$/,"")}function un$1(st){const t=[];let et=BigInt(st);for(;et>=BigInt(128);)t.push(Number(et&BigInt(127)|BigInt(128))),et>>=BigInt(7);return t.push(Number(et)),Buffer.from(t)}function uf(st){const t=Buffer.from(st.signed.bodyBytes,"base64"),et=Buffer.from(st.signed.authInfoBytes,"base64"),ms=Buffer.from(st.signature.signature,"base64"),ws=[];ws.push(Buffer.from([10])),ws.push(un$1(t.length)),ws.push(t),ws.push(Buffer.from([18])),ws.push(un$1(et.length)),ws.push(et),ws.push(Buffer.from([26])),ws.push(un$1(ms.length)),ws.push(ms);const vs=Buffer.concat(ws),_s=Ae$1(vs);return Buffer.from(_s).toString("hex").toUpperCase()}var lf=Object.defineProperty,df=Object.defineProperties,hf=Object.getOwnPropertyDescriptors,Pr$1=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,gf=Object.prototype.propertyIsEnumerable,Hr$1=(st,t,et)=>t in st?lf(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,ln$1=(st,t)=>{for(var et in t||(t={}))pf.call(t,et)&&Hr$1(st,et,t[et]);if(Pr$1)for(var et of Pr$1(t))gf.call(t,et)&&Hr$1(st,et,t[et]);return st},Dr$1=(st,t)=>df(st,hf(t));const bf="did:pkh:",Se$1=st=>st?.split(":"),Mr$1=st=>{const t=st&&Se$1(st);if(t)return st.includes(bf)?t[3]:t[1]},Vr$1=st=>{const t=st&&Se$1(st);if(t)return t[2]+":"+t[3]},dn$1=st=>{const t=st&&Se$1(st);if(t)return t.pop()};async function yf(st){const{cacao:t,projectId:et}=st,{s:ms,p:ws}=t,vs=qr$1(ws,ws.iss),_s=dn$1(ws.iss);return await Cr$1(_s,vs,ms,Vr$1(ws.iss),et)}const qr$1=(st,t)=>{const et=`${st.domain} wants you to sign in with your Ethereum account:`,ms=dn$1(t);if(!st.aud&&!st.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let ws=st.statement||void 0;const vs=`URI: ${st.aud||st.uri}`,_s=`Version: ${st.version}`,Es=`Chain ID: ${Mr$1(t)}`,Ts=`Nonce: ${st.nonce}`,Ss=`Issued At: ${st.iat}`,Rs=st.exp?`Expiration Time: ${st.exp}`:void 0,Bs=st.nbf?`Not Before: ${st.nbf}`:void 0,Is=st.requestId?`Request ID: ${st.requestId}`:void 0,Ws=st.resources?`Resources:${st.resources.map(Ns=>`
- ${Ns}`).join("")}`:void 0,Hs=Oe$1(st.resources);if(Hs){const Ns=Lt$2(Hs);ws=gn$1(ws,Ns)}return[et,ms,"",ws,"",vs,_s,Es,Ts,Ss,Rs,Bs,Is,Ws].filter(Ns=>Ns!=null).join(`
`)};function Gr$1(st){return Buffer.from(JSON.stringify(st)).toString("base64")}function Zr$1(st){return JSON.parse(Buffer.from(st,"base64").toString("utf-8"))}function bt$1(st){if(!st)throw new Error("No recap provided, value is undefined");if(!st.att)throw new Error("No `att` property found");const t=Object.keys(st.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(et=>{const ms=st.att[et];if(Array.isArray(ms))throw new Error(`Resource must be an object: ${et}`);if(typeof ms!="object")throw new Error(`Resource must be an object: ${et}`);if(!Object.keys(ms).length)throw new Error(`Resource object is empty: ${et}`);Object.keys(ms).forEach(ws=>{const vs=ms[ws];if(!Array.isArray(vs))throw new Error(`Ability limits ${ws} must be an array of objects, found: ${vs}`);if(!vs.length)throw new Error(`Value of ${ws} is empty array, must be an array with objects`);vs.forEach(_s=>{if(typeof _s!="object")throw new Error(`Ability limits (${ws}) must be an array of objects, found: ${_s}`)})})})}function Wr$1(st,t,et,ms={}){return et?.sort((ws,vs)=>ws.localeCompare(vs)),{att:{[st]:hn$1(t,et,ms)}}}function hn$1(st,t,et={}){t=t?.sort((ws,vs)=>ws.localeCompare(vs));const ms=t.map(ws=>({[`${st}/${ws}`]:[et]}));return Object.assign({},...ms)}function Ne$1(st){return bt$1(st),`urn:recap:${Gr$1(st).replace(/=/g,"")}`}function Lt$2(st){const t=Zr$1(st.replace("urn:recap:",""));return bt$1(t),t}function Ef(st,t,et){const ms=Wr$1(st,t,et);return Ne$1(ms)}function pn$1(st){return st&&st.includes("urn:recap:")}function Bf(st,t){const et=Lt$2(st),ms=Lt$2(t),ws=Xr$1(et,ms);return Ne$1(ws)}function Xr$1(st,t){bt$1(st),bt$1(t);const et=Object.keys(st.att).concat(Object.keys(t.att)).sort((ws,vs)=>ws.localeCompare(vs)),ms={att:{}};return et.forEach(ws=>{var vs,_s;Object.keys(((vs=st.att)==null?void 0:vs[ws])||{}).concat(Object.keys(((_s=t.att)==null?void 0:_s[ws])||{})).sort((Es,Ts)=>Es.localeCompare(Ts)).forEach(Es=>{var Ts,Ss;ms.att[ws]=Dr$1(ln$1({},ms.att[ws]),{[Es]:((Ts=st.att[ws])==null?void 0:Ts[Es])||((Ss=t.att[ws])==null?void 0:Ss[Es])})})}),ms}function gn$1(st="",t){bt$1(t);const et="I further authorize the stated URI to perform the following actions on my behalf: ";if(st.includes(et))return st;const ms=[];let ws=0;Object.keys(t.att).forEach(Es=>{const Ts=Object.keys(t.att[Es]).map(Bs=>({ability:Bs.split("/")[0],action:Bs.split("/")[1]}));Ts.sort((Bs,Is)=>Bs.action.localeCompare(Is.action));const Ss={};Ts.forEach(Bs=>{Ss[Bs.ability]||(Ss[Bs.ability]=[]),Ss[Bs.ability].push(Bs.action)});const Rs=Object.keys(Ss).map(Bs=>(ws++,`(${ws}) '${Bs}': '${Ss[Bs].join("', '")}' for '${Es}'.`));ms.push(Rs.join(", ").replace(".,","."))});const vs=ms.join(" "),_s=`${et}${vs}`;return`${st?st+" ":""}${_s}`}function If(st){var t;const et=Lt$2(st);bt$1(et);const ms=(t=et.att)==null?void 0:t.eip155;return ms?Object.keys(ms).map(ws=>ws.split("/")[1]):[]}function Af(st){const t=Lt$2(st);bt$1(t);const et=[];return Object.values(t.att).forEach(ms=>{Object.values(ms).forEach(ws=>{var vs;(vs=ws?.[0])!=null&&vs.chains&&et.push(ws[0].chains)})}),[...new Set(et.flat())]}function Oe$1(st){if(!st)return;const t=st?.[st.length-1];return pn$1(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Qr$1(st){return st instanceof Uint8Array||ArrayBuffer.isView(st)&&st.constructor.name==="Uint8Array"}function bn$1(st){if(typeof st!="boolean")throw new Error(`boolean expected, not ${st}`)}function yn$1(st){if(!Number.isSafeInteger(st)||st<0)throw new Error("positive integer expected, got "+st)}function nt$1(st,...t){if(!Qr$1(st))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(st.length))throw new Error("Uint8Array expected of length "+t+", got length="+st.length)}function to$1(st,t=!0){if(st.destroyed)throw new Error("Hash instance has been destroyed");if(t&&st.finished)throw new Error("Hash#digest() has already been called")}function Sf(st,t){nt$1(st);const et=t.outputLen;if(st.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}function jt$1(st){return new Uint32Array(st.buffer,st.byteOffset,Math.floor(st.byteLength/4))}function Wt$2(...st){for(let t=0;t<st.length;t++)st[t].fill(0)}function Nf(st){return new DataView(st.buffer,st.byteOffset,st.byteLength)}const Of=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Uf(st){if(typeof st!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(st))}function mn$1(st){if(typeof st=="string")st=Uf(st);else if(Qr$1(st))st=wn$1(st);else throw new Error("Uint8Array expected, got "+typeof st);return st}function _f(st,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(st,t)}function Tf(st,t){if(st.length!==t.length)return!1;let et=0;for(let ms=0;ms<st.length;ms++)et|=st[ms]^t[ms];return et===0}const Rf=(st,t)=>{function et(ms,...ws){if(nt$1(ms),!Of)throw new Error("Non little-endian hardware is not yet supported");if(st.nonceLength!==void 0){const Ss=ws[0];if(!Ss)throw new Error("nonce / iv required");st.varSizeNonce?nt$1(Ss):nt$1(Ss,st.nonceLength)}const vs=st.tagLength;vs&&ws[1]!==void 0&&nt$1(ws[1]);const _s=t(ms,...ws),Es=(Ss,Rs)=>{if(Rs!==void 0){if(Ss!==2)throw new Error("cipher output not supported");nt$1(Rs)}};let Ts=!1;return{encrypt(Ss,Rs){if(Ts)throw new Error("cannot encrypt() twice with same key + nonce");return Ts=!0,nt$1(Ss),Es(_s.encrypt.length,Rs),_s.encrypt(Ss,Rs)},decrypt(Ss,Rs){if(nt$1(Ss),vs&&Ss.length<vs)throw new Error("invalid ciphertext length: smaller than tagLength="+vs);return Es(_s.decrypt.length,Rs),_s.decrypt(Ss,Rs)}}}return Object.assign(et,st),et};function eo$1(st,t,et=!0){if(t===void 0)return new Uint8Array(st);if(t.length!==st)throw new Error("invalid output length, expected "+st+", got: "+t.length);if(et&&!Cf(t))throw new Error("invalid output, must be aligned");return t}function no$1(st,t,et,ms){if(typeof st.setBigUint64=="function")return st.setBigUint64(t,et,ms);const ws=BigInt(32),vs=BigInt(4294967295),_s=Number(et>>ws&vs),Es=Number(et&vs);st.setUint32(t+4,_s,ms),st.setUint32(t+0,Es,ms)}function $f(st,t,et){bn$1(et);const ms=new Uint8Array(16),ws=Nf(ms);return no$1(ws,0,BigInt(t),et),no$1(ws,8,BigInt(st),et),ms}function Cf(st){return st.byteOffset%4===0}function wn$1(st){return Uint8Array.from(st)}const ro$1=st=>Uint8Array.from(st.split("").map(t=>t.charCodeAt(0))),Lf=ro$1("expand 16-byte k"),jf=ro$1("expand 32-byte k"),kf=jt$1(Lf),Pf=jt$1(jf);function M$2(st,t){return st<<t|st>>>32-t}function xn$1(st){return st.byteOffset%4===0}const Ue$2=64,Hf=16,oo$1=2**32-1,so$1=new Uint32Array;function Df(st,t,et,ms,ws,vs,_s,Es){const Ts=ws.length,Ss=new Uint8Array(Ue$2),Rs=jt$1(Ss),Bs=xn$1(ws)&&xn$1(vs),Is=Bs?jt$1(ws):so$1,Ws=Bs?jt$1(vs):so$1;for(let Hs=0;Hs<Ts;_s++){if(st(t,et,ms,Rs,_s,Es),_s>=oo$1)throw new Error("arx: counter overflow");const Ns=Math.min(Ue$2,Ts-Hs);if(Bs&&Ns===Ue$2){const Js=Hs/4;if(Hs%4!==0)throw new Error("arx: invalid block position");for(let ha=0,pa;ha<Hf;ha++)pa=Js+ha,Ws[pa]=Is[pa]^Rs[ha];Hs+=Ue$2;continue}for(let Js=0,ha;Js<Ns;Js++)ha=Hs+Js,vs[ha]=ws[ha]^Ss[Js];Hs+=Ns}}function Mf(st,t){const{allowShortKeys:et,extendNonceFn:ms,counterLength:ws,counterRight:vs,rounds:_s}=_f({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof st!="function")throw new Error("core must be a function");return yn$1(ws),yn$1(_s),bn$1(vs),bn$1(et),(Es,Ts,Ss,Rs,Bs=0)=>{nt$1(Es),nt$1(Ts),nt$1(Ss);const Is=Ss.length;if(Rs===void 0&&(Rs=new Uint8Array(Is)),nt$1(Rs),yn$1(Bs),Bs<0||Bs>=oo$1)throw new Error("arx: counter overflow");if(Rs.length<Is)throw new Error(`arx: output (${Rs.length}) is shorter than data (${Is})`);const Ws=[];let Hs=Es.length,Ns,Js;if(Hs===32)Ws.push(Ns=wn$1(Es)),Js=Pf;else if(Hs===16&&et)Ns=new Uint8Array(32),Ns.set(Es),Ns.set(Es,16),Js=kf,Ws.push(Ns);else throw new Error(`arx: invalid 32-byte key, got length=${Hs}`);xn$1(Ts)||Ws.push(Ts=wn$1(Ts));const ha=jt$1(Ns);if(ms){if(Ts.length!==24)throw new Error("arx: extended nonce must be 24 bytes");ms(Js,ha,jt$1(Ts.subarray(0,16)),ha),Ts=Ts.subarray(16)}const pa=16-ws;if(pa!==Ts.length)throw new Error(`arx: nonce must be ${pa} or 16 bytes`);if(pa!==12){const Ya=new Uint8Array(12);Ya.set(Ts,vs?0:12-Ts.length),Ts=Ya,Ws.push(Ts)}const za=jt$1(Ts);return Df(st,Js,ha,za,Ss,Rs,Bs,_s),Wt$2(...Ws),Rs}}const G$2=(st,t)=>st[t++]&255|(st[t++]&255)<<8;class Vf{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=mn$1(t),nt$1(t,32);const et=G$2(t,0),ms=G$2(t,2),ws=G$2(t,4),vs=G$2(t,6),_s=G$2(t,8),Es=G$2(t,10),Ts=G$2(t,12),Ss=G$2(t,14);this.r[0]=et&8191,this.r[1]=(et>>>13|ms<<3)&8191,this.r[2]=(ms>>>10|ws<<6)&7939,this.r[3]=(ws>>>7|vs<<9)&8191,this.r[4]=(vs>>>4|_s<<12)&255,this.r[5]=_s>>>1&8190,this.r[6]=(_s>>>14|Es<<2)&8191,this.r[7]=(Es>>>11|Ts<<5)&8065,this.r[8]=(Ts>>>8|Ss<<8)&8191,this.r[9]=Ss>>>5&127;for(let Rs=0;Rs<8;Rs++)this.pad[Rs]=G$2(t,16+2*Rs)}process(t,et,ms=!1){const ws=ms?0:2048,{h:vs,r:_s}=this,Es=_s[0],Ts=_s[1],Ss=_s[2],Rs=_s[3],Bs=_s[4],Is=_s[5],Ws=_s[6],Hs=_s[7],Ns=_s[8],Js=_s[9],ha=G$2(t,et+0),pa=G$2(t,et+2),za=G$2(t,et+4),Ya=G$2(t,et+6),Bc=G$2(t,et+8),Qa=G$2(t,et+10),tu=G$2(t,et+12),eu=G$2(t,et+14);let ru=vs[0]+(ha&8191),cu=vs[1]+((ha>>>13|pa<<3)&8191),ou=vs[2]+((pa>>>10|za<<6)&8191),Ga=vs[3]+((za>>>7|Ya<<9)&8191),Xa=vs[4]+((Ya>>>4|Bc<<12)&8191),Fa=vs[5]+(Bc>>>1&8191),Zs=vs[6]+((Bc>>>14|Qa<<2)&8191),Wa=vs[7]+((Qa>>>11|tu<<5)&8191),Za=vs[8]+((tu>>>8|eu<<8)&8191),iu=vs[9]+(eu>>>5|ws),au=0,nu=au+ru*Es+cu*(5*Js)+ou*(5*Ns)+Ga*(5*Hs)+Xa*(5*Ws);au=nu>>>13,nu&=8191,nu+=Fa*(5*Is)+Zs*(5*Bs)+Wa*(5*Rs)+Za*(5*Ss)+iu*(5*Ts),au+=nu>>>13,nu&=8191;let uu=au+ru*Ts+cu*Es+ou*(5*Js)+Ga*(5*Ns)+Xa*(5*Hs);au=uu>>>13,uu&=8191,uu+=Fa*(5*Ws)+Zs*(5*Is)+Wa*(5*Bs)+Za*(5*Rs)+iu*(5*Ss),au+=uu>>>13,uu&=8191;let fu=au+ru*Ss+cu*Ts+ou*Es+Ga*(5*Js)+Xa*(5*Ns);au=fu>>>13,fu&=8191,fu+=Fa*(5*Hs)+Zs*(5*Ws)+Wa*(5*Is)+Za*(5*Bs)+iu*(5*Rs),au+=fu>>>13,fu&=8191;let hu=au+ru*Rs+cu*Ss+ou*Ts+Ga*Es+Xa*(5*Js);au=hu>>>13,hu&=8191,hu+=Fa*(5*Ns)+Zs*(5*Hs)+Wa*(5*Ws)+Za*(5*Is)+iu*(5*Bs),au+=hu>>>13,hu&=8191;let Eu=au+ru*Bs+cu*Rs+ou*Ss+Ga*Ts+Xa*Es;au=Eu>>>13,Eu&=8191,Eu+=Fa*(5*Js)+Zs*(5*Ns)+Wa*(5*Hs)+Za*(5*Ws)+iu*(5*Is),au+=Eu>>>13,Eu&=8191;let $u=au+ru*Is+cu*Bs+ou*Rs+Ga*Ss+Xa*Ts;au=$u>>>13,$u&=8191,$u+=Fa*Es+Zs*(5*Js)+Wa*(5*Ns)+Za*(5*Hs)+iu*(5*Ws),au+=$u>>>13,$u&=8191;let Ou=au+ru*Ws+cu*Is+ou*Bs+Ga*Rs+Xa*Ss;au=Ou>>>13,Ou&=8191,Ou+=Fa*Ts+Zs*Es+Wa*(5*Js)+Za*(5*Ns)+iu*(5*Hs),au+=Ou>>>13,Ou&=8191;let gu=au+ru*Hs+cu*Ws+ou*Is+Ga*Bs+Xa*Rs;au=gu>>>13,gu&=8191,gu+=Fa*Ss+Zs*Ts+Wa*Es+Za*(5*Js)+iu*(5*Ns),au+=gu>>>13,gu&=8191;let yu=au+ru*Ns+cu*Hs+ou*Ws+Ga*Is+Xa*Bs;au=yu>>>13,yu&=8191,yu+=Fa*Rs+Zs*Ss+Wa*Ts+Za*Es+iu*(5*Js),au+=yu>>>13,yu&=8191;let Tu=au+ru*Js+cu*Ns+ou*Hs+Ga*Ws+Xa*Is;au=Tu>>>13,Tu&=8191,Tu+=Fa*Bs+Zs*Rs+Wa*Ss+Za*Ts+iu*Es,au+=Tu>>>13,Tu&=8191,au=(au<<2)+au|0,au=au+nu|0,nu=au&8191,au=au>>>13,uu+=au,vs[0]=nu,vs[1]=uu,vs[2]=fu,vs[3]=hu,vs[4]=Eu,vs[5]=$u,vs[6]=Ou,vs[7]=gu,vs[8]=yu,vs[9]=Tu}finalize(){const{h:t,pad:et}=this,ms=new Uint16Array(10);let ws=t[1]>>>13;t[1]&=8191;for(let Es=2;Es<10;Es++)t[Es]+=ws,ws=t[Es]>>>13,t[Es]&=8191;t[0]+=ws*5,ws=t[0]>>>13,t[0]&=8191,t[1]+=ws,ws=t[1]>>>13,t[1]&=8191,t[2]+=ws,ms[0]=t[0]+5,ws=ms[0]>>>13,ms[0]&=8191;for(let Es=1;Es<10;Es++)ms[Es]=t[Es]+ws,ws=ms[Es]>>>13,ms[Es]&=8191;ms[9]-=8192;let vs=(ws^1)-1;for(let Es=0;Es<10;Es++)ms[Es]&=vs;vs=~vs;for(let Es=0;Es<10;Es++)t[Es]=t[Es]&vs|ms[Es];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let _s=t[0]+et[0];t[0]=_s&65535;for(let Es=1;Es<8;Es++)_s=(t[Es]+et[Es]|0)+(_s>>>16)|0,t[Es]=_s&65535;Wt$2(ms)}update(t){to$1(this),t=mn$1(t),nt$1(t);const{buffer:et,blockLen:ms}=this,ws=t.length;for(let vs=0;vs<ws;){const _s=Math.min(ms-this.pos,ws-vs);if(_s===ms){for(;ms<=ws-vs;vs+=ms)this.process(t,vs);continue}et.set(t.subarray(vs,vs+_s),this.pos),this.pos+=_s,vs+=_s,this.pos===ms&&(this.process(et,0,!1),this.pos=0)}return this}destroy(){Wt$2(this.h,this.r,this.buffer,this.pad)}digestInto(t){to$1(this),Sf(t,this),this.finished=!0;const{buffer:et,h:ms}=this;let{pos:ws}=this;if(ws){for(et[ws++]=1;ws<16;ws++)et[ws]=0;this.process(et,0,!0)}this.finalize();let vs=0;for(let _s=0;_s<8;_s++)t[vs++]=ms[_s]>>>0,t[vs++]=ms[_s]>>>8;return t}digest(){const{buffer:t,outputLen:et}=this;this.digestInto(t);const ms=t.slice(0,et);return this.destroy(),ms}}function qf(st){const t=(ms,ws)=>st(ws).update(mn$1(ms)).digest(),et=st(new Uint8Array(32));return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=ms=>st(ms),t}const Kf=qf(st=>new Vf(st));function Ff(st,t,et,ms,ws,vs=20){let _s=st[0],Es=st[1],Ts=st[2],Ss=st[3],Rs=t[0],Bs=t[1],Is=t[2],Ws=t[3],Hs=t[4],Ns=t[5],Js=t[6],ha=t[7],pa=ws,za=et[0],Ya=et[1],Bc=et[2],Qa=_s,tu=Es,eu=Ts,ru=Ss,cu=Rs,ou=Bs,Ga=Is,Xa=Ws,Fa=Hs,Zs=Ns,Wa=Js,Za=ha,iu=pa,au=za,nu=Ya,uu=Bc;for(let hu=0;hu<vs;hu+=2)Qa=Qa+cu|0,iu=M$2(iu^Qa,16),Fa=Fa+iu|0,cu=M$2(cu^Fa,12),Qa=Qa+cu|0,iu=M$2(iu^Qa,8),Fa=Fa+iu|0,cu=M$2(cu^Fa,7),tu=tu+ou|0,au=M$2(au^tu,16),Zs=Zs+au|0,ou=M$2(ou^Zs,12),tu=tu+ou|0,au=M$2(au^tu,8),Zs=Zs+au|0,ou=M$2(ou^Zs,7),eu=eu+Ga|0,nu=M$2(nu^eu,16),Wa=Wa+nu|0,Ga=M$2(Ga^Wa,12),eu=eu+Ga|0,nu=M$2(nu^eu,8),Wa=Wa+nu|0,Ga=M$2(Ga^Wa,7),ru=ru+Xa|0,uu=M$2(uu^ru,16),Za=Za+uu|0,Xa=M$2(Xa^Za,12),ru=ru+Xa|0,uu=M$2(uu^ru,8),Za=Za+uu|0,Xa=M$2(Xa^Za,7),Qa=Qa+ou|0,uu=M$2(uu^Qa,16),Wa=Wa+uu|0,ou=M$2(ou^Wa,12),Qa=Qa+ou|0,uu=M$2(uu^Qa,8),Wa=Wa+uu|0,ou=M$2(ou^Wa,7),tu=tu+Ga|0,iu=M$2(iu^tu,16),Za=Za+iu|0,Ga=M$2(Ga^Za,12),tu=tu+Ga|0,iu=M$2(iu^tu,8),Za=Za+iu|0,Ga=M$2(Ga^Za,7),eu=eu+Xa|0,au=M$2(au^eu,16),Fa=Fa+au|0,Xa=M$2(Xa^Fa,12),eu=eu+Xa|0,au=M$2(au^eu,8),Fa=Fa+au|0,Xa=M$2(Xa^Fa,7),ru=ru+cu|0,nu=M$2(nu^ru,16),Zs=Zs+nu|0,cu=M$2(cu^Zs,12),ru=ru+cu|0,nu=M$2(nu^ru,8),Zs=Zs+nu|0,cu=M$2(cu^Zs,7);let fu=0;ms[fu++]=_s+Qa|0,ms[fu++]=Es+tu|0,ms[fu++]=Ts+eu|0,ms[fu++]=Ss+ru|0,ms[fu++]=Rs+cu|0,ms[fu++]=Bs+ou|0,ms[fu++]=Is+Ga|0,ms[fu++]=Ws+Xa|0,ms[fu++]=Hs+Fa|0,ms[fu++]=Ns+Zs|0,ms[fu++]=Js+Wa|0,ms[fu++]=ha+Za|0,ms[fu++]=pa+iu|0,ms[fu++]=za+au|0,ms[fu++]=Ya+nu|0,ms[fu++]=Bc+uu|0}const zf=Mf(Ff,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Gf=new Uint8Array(16),io$1=(st,t)=>{st.update(t);const et=t.length%16;et&&st.update(Gf.subarray(et))},Zf=new Uint8Array(32);function fo$1(st,t,et,ms,ws){const vs=st(t,et,Zf),_s=Kf.create(vs);ws&&io$1(_s,ws),io$1(_s,ms);const Es=$f(ms.length,ws?ws.length:0,!0);_s.update(Es);const Ts=_s.digest();return Wt$2(vs,Es),Ts}const Wf=st=>(t,et,ms)=>({encrypt(ws,vs){const _s=ws.length;vs=eo$1(_s+16,vs,!1),vs.set(ws);const Es=vs.subarray(0,-16);st(t,et,Es,Es,1);const Ts=fo$1(st,t,et,Es,ms);return vs.set(Ts,_s),Wt$2(Ts),vs},decrypt(ws,vs){vs=eo$1(ws.length-16,vs,!1);const _s=ws.subarray(0,-16),Es=ws.subarray(-16),Ts=fo$1(st,t,et,_s,ms);if(!Tf(Es,Ts))throw new Error("invalid tag");return vs.set(ws.subarray(0,-16)),st(t,et,vs,vs,1),Wt$2(Ts),vs}}),co$1=Rf({blockSize:64,nonceLength:12,tagLength:16},Wf(zf));let ao$1=class extends Ie$2{constructor(t,et){super(),this.finished=!1,this.destroyed=!1,rn$1(t);const ms=ht$2(et);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ws=this.blockLen,vs=new Uint8Array(ws);vs.set(ms.length>ws?t.create().update(ms).digest():ms);for(let _s=0;_s<vs.length;_s++)vs[_s]^=54;this.iHash.update(vs),this.oHash=t.create();for(let _s=0;_s<vs.length;_s++)vs[_s]^=106;this.oHash.update(vs),ut$2(vs)}update(t){return Nt$2(this),this.iHash.update(t),this}digestInto(t){Nt$2(this),at$1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:et,iHash:ms,finished:ws,destroyed:vs,blockLen:_s,outputLen:Es}=this;return t=t,t.finished=ws,t.destroyed=vs,t.blockLen=_s,t.outputLen=Es,t.oHash=et._cloneInto(t.oHash),t.iHash=ms._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const _e$3=(st,t,et)=>new ao$1(st,t).update(et).digest();_e$3.create=(st,t)=>new ao$1(st,t);function Yf(st,t,et){return rn$1(st),et===void 0&&(et=new Uint8Array(st.outputLen)),_e$3(st,ht$2(et),ht$2(t))}const vn$1=Uint8Array.from([0]),uo$1=Uint8Array.of();function Xf(st,t,et,ms=32){rn$1(st),mt$2(ms);const ws=st.outputLen;if(ms>255*ws)throw new Error("Length should be <= 255*HashLen");const vs=Math.ceil(ms/ws);et===void 0&&(et=uo$1);const _s=new Uint8Array(vs*ws),Es=_e$3.create(st,t),Ts=Es._cloneInto(),Ss=new Uint8Array(Es.outputLen);for(let Rs=0;Rs<vs;Rs++)vn$1[0]=Rs+1,Ts.update(Rs===0?uo$1:Ss).update(et).update(vn$1).digestInto(Ss),_s.set(Ss,ws*Rs),Es._cloneInto(Ts);return Es.destroy(),Ts.destroy(),ut$2(Ss,vn$1),_s.slice(0,ms)}const Jf=(st,t,et,ms,ws)=>Xf(st,Yf(st,t,et),ms,ws),Te$2=Ae$1,En$1=BigInt(0),Bn$1=BigInt(1);function Re$1(st,t){if(typeof t!="boolean")throw new Error(st+" boolean expected, got "+t)}function $e$2(st){const t=st.toString(16);return t.length&1?"0"+t:t}function lo$1(st){if(typeof st!="string")throw new Error("hex string expected, got "+typeof st);return st===""?En$1:BigInt("0x"+st)}function Ce$2(st){return lo$1(ce$2(st))}function Le$3(st){return at$1(st),lo$1(ce$2(Uint8Array.from(st).reverse()))}function In$1(st,t){return fn$1(st.toString(16).padStart(t*2,"0"))}function An$1(st,t){return In$1(st,t).reverse()}function rt$1(st,t,et){let ms;if(typeof t=="string")try{ms=fn$1(t)}catch(vs){throw new Error(st+" must be hex string or Uint8Array, cause: "+vs)}else if(nn$1(t))ms=Uint8Array.from(t);else throw new Error(st+" must be hex string or Uint8Array");const ws=ms.length;if(typeof et=="number"&&ws!==et)throw new Error(st+" of length "+et+" expected, got "+ws);return ms}const Sn$1=st=>typeof st=="bigint"&&En$1<=st;function Qf(st,t,et){return Sn$1(st)&&Sn$1(t)&&Sn$1(et)&&t<=st&&st<et}function Nn$1(st,t,et,ms){if(!Qf(t,et,ms))throw new Error("expected valid "+st+": "+et+" <= n < "+ms+", got "+t)}function tc(st){let t;for(t=0;st>En$1;st>>=Bn$1,t+=1);return t}const je$2=st=>(Bn$1<<BigInt(st))-Bn$1;function ec(st,t,et){if(typeof st!="number"||st<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof et!="function")throw new Error("hmacFn must be a function");const ms=Is=>new Uint8Array(Is),ws=Is=>Uint8Array.of(Is);let vs=ms(st),_s=ms(st),Es=0;const Ts=()=>{vs.fill(1),_s.fill(0),Es=0},Ss=(...Is)=>et(_s,vs,...Is),Rs=(Is=ms(0))=>{_s=Ss(ws(0),Is),vs=Ss(),Is.length!==0&&(_s=Ss(ws(1),Is),vs=Ss())},Bs=()=>{if(Es++>=1e3)throw new Error("drbg: tried 1000 values");let Is=0;const Ws=[];for(;Is<t;){vs=Ss();const Hs=vs.slice();Ws.push(Hs),Is+=vs.length}return Ht$2(...Ws)};return(Is,Ws)=>{Ts(),Rs(Is);let Hs;for(;!(Hs=Ws(Bs()));)Rs();return Ts(),Hs}}function ke$3(st,t,et={}){if(!st||typeof st!="object")throw new Error("expected valid options object");function ms(ws,vs,_s){const Es=st[ws];if(_s&&Es===void 0)return;const Ts=typeof Es;if(Ts!==vs||Es===null)throw new Error(`param "${ws}" is invalid: expected ${vs}, got ${Ts}`)}Object.entries(t).forEach(([ws,vs])=>ms(ws,vs,!1)),Object.entries(et).forEach(([ws,vs])=>ms(ws,vs,!0))}function ho$1(st){const t=new WeakMap;return(et,...ms)=>{const ws=t.get(et);if(ws!==void 0)return ws;const vs=st(et,...ms);return t.set(et,vs),vs}}const ot$1=BigInt(0),Q$2=BigInt(1),Dt=BigInt(2),nc=BigInt(3),po$1=BigInt(4),go$1=BigInt(5),bo$1=BigInt(8);function lt$1(st,t){const et=st%t;return et>=ot$1?et:t+et}function pt$1(st,t,et){let ms=st;for(;t-- >ot$1;)ms*=ms,ms%=et;return ms}function yo$1(st,t){if(st===ot$1)throw new Error("invert: expected non-zero number");if(t<=ot$1)throw new Error("invert: expected positive modulus, got "+t);let et=lt$1(st,t),ms=t,ws=ot$1,vs=Q$2;for(;et!==ot$1;){const _s=ms/et,Es=ms%et,Ts=ws-vs*_s;ms=et,et=Es,ws=vs,vs=Ts}if(ms!==Q$2)throw new Error("invert: does not exist");return lt$1(ws,t)}function mo$1(st,t){const et=(st.ORDER+Q$2)/po$1,ms=st.pow(t,et);if(!st.eql(st.sqr(ms),t))throw new Error("Cannot find square root");return ms}function rc(st,t){const et=(st.ORDER-go$1)/bo$1,ms=st.mul(t,Dt),ws=st.pow(ms,et),vs=st.mul(t,ws),_s=st.mul(st.mul(vs,Dt),ws),Es=st.mul(vs,st.sub(_s,st.ONE));if(!st.eql(st.sqr(Es),t))throw new Error("Cannot find square root");return Es}function oc(st){if(st<BigInt(3))throw new Error("sqrt is not defined for small field");let t=st-Q$2,et=0;for(;t%Dt===ot$1;)t/=Dt,et++;let ms=Dt;const ws=Yt$2(st);for(;xo$1(ws,ms)===1;)if(ms++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(et===1)return mo$1;let vs=ws.pow(ms,t);const _s=(t+Q$2)/Dt;return function(Es,Ts){if(Es.is0(Ts))return Ts;if(xo$1(Es,Ts)!==1)throw new Error("Cannot find square root");let Ss=et,Rs=Es.mul(Es.ONE,vs),Bs=Es.pow(Ts,t),Is=Es.pow(Ts,_s);for(;!Es.eql(Bs,Es.ONE);){if(Es.is0(Bs))return Es.ZERO;let Ws=1,Hs=Es.sqr(Bs);for(;!Es.eql(Hs,Es.ONE);)if(Ws++,Hs=Es.sqr(Hs),Ws===Ss)throw new Error("Cannot find square root");const Ns=Q$2<<BigInt(Ss-Ws-1),Js=Es.pow(Rs,Ns);Ss=Ws,Rs=Es.sqr(Js),Bs=Es.mul(Bs,Rs),Is=Es.mul(Is,Js)}return Is}}function sc(st){return st%po$1===nc?mo$1:st%bo$1===go$1?rc:oc(st)}const ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fc(st){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},et=ic.reduce((ms,ws)=>(ms[ws]="function",ms),t);return ke$3(st,et),st}function cc(st,t,et){if(et<ot$1)throw new Error("invalid exponent, negatives unsupported");if(et===ot$1)return st.ONE;if(et===Q$2)return t;let ms=st.ONE,ws=t;for(;et>ot$1;)et&Q$2&&(ms=st.mul(ms,ws)),ws=st.sqr(ws),et>>=Q$2;return ms}function wo$1(st,t,et=!1){const ms=new Array(t.length).fill(et?st.ZERO:void 0),ws=t.reduce((_s,Es,Ts)=>st.is0(Es)?_s:(ms[Ts]=_s,st.mul(_s,Es)),st.ONE),vs=st.inv(ws);return t.reduceRight((_s,Es,Ts)=>st.is0(Es)?_s:(ms[Ts]=st.mul(_s,ms[Ts]),st.mul(_s,Es)),vs),ms}function xo$1(st,t){const et=(st.ORDER-Q$2)/Dt,ms=st.pow(t,et),ws=st.eql(ms,st.ONE),vs=st.eql(ms,st.ZERO),_s=st.eql(ms,st.neg(st.ONE));if(!ws&&!vs&&!_s)throw new Error("invalid Legendre symbol result");return ws?1:vs?0:-1}function ac(st,t){t!==void 0&&mt$2(t);const et=t!==void 0?t:st.toString(2).length,ms=Math.ceil(et/8);return{nBitLength:et,nByteLength:ms}}function Yt$2(st,t,et=!1,ms={}){if(st<=ot$1)throw new Error("invalid field: expected ORDER > 0, got "+st);let ws,vs;if(typeof t=="object"&&t!=null){if(ms.sqrt||et)throw new Error("cannot specify opts in two arguments");const Rs=t;Rs.BITS&&(ws=Rs.BITS),Rs.sqrt&&(vs=Rs.sqrt),typeof Rs.isLE=="boolean"&&(et=Rs.isLE)}else typeof t=="number"&&(ws=t),ms.sqrt&&(vs=ms.sqrt);const{nBitLength:_s,nByteLength:Es}=ac(st,ws);if(Es>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Ts;const Ss=Object.freeze({ORDER:st,isLE:et,BITS:_s,BYTES:Es,MASK:je$2(_s),ZERO:ot$1,ONE:Q$2,create:Rs=>lt$1(Rs,st),isValid:Rs=>{if(typeof Rs!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Rs);return ot$1<=Rs&&Rs<st},is0:Rs=>Rs===ot$1,isValidNot0:Rs=>!Ss.is0(Rs)&&Ss.isValid(Rs),isOdd:Rs=>(Rs&Q$2)===Q$2,neg:Rs=>lt$1(-Rs,st),eql:(Rs,Bs)=>Rs===Bs,sqr:Rs=>lt$1(Rs*Rs,st),add:(Rs,Bs)=>lt$1(Rs+Bs,st),sub:(Rs,Bs)=>lt$1(Rs-Bs,st),mul:(Rs,Bs)=>lt$1(Rs*Bs,st),pow:(Rs,Bs)=>cc(Ss,Rs,Bs),div:(Rs,Bs)=>lt$1(Rs*yo$1(Bs,st),st),sqrN:Rs=>Rs*Rs,addN:(Rs,Bs)=>Rs+Bs,subN:(Rs,Bs)=>Rs-Bs,mulN:(Rs,Bs)=>Rs*Bs,inv:Rs=>yo$1(Rs,st),sqrt:vs||(Rs=>(Ts||(Ts=sc(st)),Ts(Ss,Rs))),toBytes:Rs=>et?An$1(Rs,Es):In$1(Rs,Es),fromBytes:Rs=>{if(Rs.length!==Es)throw new Error("Field.fromBytes: expected "+Es+" bytes, got "+Rs.length);return et?Le$3(Rs):Ce$2(Rs)},invertBatch:Rs=>wo$1(Ss,Rs),cmov:(Rs,Bs,Is)=>Is?Bs:Rs});return Object.freeze(Ss)}function vo$1(st){if(typeof st!="bigint")throw new Error("field order must be bigint");const t=st.toString(2).length;return Math.ceil(t/8)}function Eo$1(st){const t=vo$1(st);return t+Math.ceil(t/2)}function uc(st,t,et=!1){const ms=st.length,ws=vo$1(t),vs=Eo$1(t);if(ms<16||ms<vs||ms>1024)throw new Error("expected "+vs+"-1024 bytes of input, got "+ms);const _s=et?Le$3(st):Ce$2(st),Es=lt$1(_s,t-Q$2)+Q$2;return et?An$1(Es,ws):In$1(Es,ws)}const Xt$2=BigInt(0),Mt$2=BigInt(1);function le$2(st,t){const et=t.negate();return st?et:t}function lc(st,t,et){const ms=vs=>vs.pz,ws=wo$1(st.Fp,et.map(ms));return et.map((vs,_s)=>vs.toAffine(ws[_s])).map(st.fromAffine)}function Bo$1(st,t){if(!Number.isSafeInteger(st)||st<=0||st>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+st)}function On$1(st,t){Bo$1(st,t);const et=Math.ceil(t/st)+1,ms=2**(st-1),ws=2**st,vs=je$2(st),_s=BigInt(st);return{windows:et,windowSize:ms,mask:vs,maxNumber:ws,shiftBy:_s}}function Io$1(st,t,et){const{windowSize:ms,mask:ws,maxNumber:vs,shiftBy:_s}=et;let Es=Number(st&ws),Ts=st>>_s;Es>ms&&(Es-=vs,Ts+=Mt$2);const Ss=t*ms,Rs=Ss+Math.abs(Es)-1,Bs=Es===0,Is=Es<0,Ws=t%2!==0;return{nextN:Ts,offset:Rs,isZero:Bs,isNeg:Is,isNegF:Ws,offsetF:Ss}}function dc(st,t){if(!Array.isArray(st))throw new Error("array expected");st.forEach((et,ms)=>{if(!(et instanceof t))throw new Error("invalid point at index "+ms)})}function hc(st,t){if(!Array.isArray(st))throw new Error("array of scalars expected");st.forEach((et,ms)=>{if(!t.isValid(et))throw new Error("invalid scalar at index "+ms)})}const Un$1=new WeakMap,Ao$1=new WeakMap;function _n$1(st){return Ao$1.get(st)||1}function So$1(st){if(st!==Xt$2)throw new Error("invalid wNAF")}function pc(st,t){return{constTimeNegate:le$2,hasPrecomputes(et){return _n$1(et)!==1},unsafeLadder(et,ms,ws=st.ZERO){let vs=et;for(;ms>Xt$2;)ms&Mt$2&&(ws=ws.add(vs)),vs=vs.double(),ms>>=Mt$2;return ws},precomputeWindow(et,ms){const{windows:ws,windowSize:vs}=On$1(ms,t),_s=[];let Es=et,Ts=Es;for(let Ss=0;Ss<ws;Ss++){Ts=Es,_s.push(Ts);for(let Rs=1;Rs<vs;Rs++)Ts=Ts.add(Es),_s.push(Ts);Es=Ts.double()}return _s},wNAF(et,ms,ws){let vs=st.ZERO,_s=st.BASE;const Es=On$1(et,t);for(let Ts=0;Ts<Es.windows;Ts++){const{nextN:Ss,offset:Rs,isZero:Bs,isNeg:Is,isNegF:Ws,offsetF:Hs}=Io$1(ws,Ts,Es);ws=Ss,Bs?_s=_s.add(le$2(Ws,ms[Hs])):vs=vs.add(le$2(Is,ms[Rs]))}return So$1(ws),{p:vs,f:_s}},wNAFUnsafe(et,ms,ws,vs=st.ZERO){const _s=On$1(et,t);for(let Es=0;Es<_s.windows&&ws!==Xt$2;Es++){const{nextN:Ts,offset:Ss,isZero:Rs,isNeg:Bs}=Io$1(ws,Es,_s);if(ws=Ts,!Rs){const Is=ms[Ss];vs=vs.add(Bs?Is.negate():Is)}}return So$1(ws),vs},getPrecomputes(et,ms,ws){let vs=Un$1.get(ms);return vs||(vs=this.precomputeWindow(ms,et),et!==1&&(typeof ws=="function"&&(vs=ws(vs)),Un$1.set(ms,vs))),vs},wNAFCached(et,ms,ws){const vs=_n$1(et);return this.wNAF(vs,this.getPrecomputes(vs,et,ws),ms)},wNAFCachedUnsafe(et,ms,ws,vs){const _s=_n$1(et);return _s===1?this.unsafeLadder(et,ms,vs):this.wNAFUnsafe(_s,this.getPrecomputes(_s,et,ws),ms,vs)},setWindowSize(et,ms){Bo$1(ms,t),Ao$1.set(et,ms),Un$1.delete(et)}}}function gc(st,t,et,ms){let ws=t,vs=st.ZERO,_s=st.ZERO;for(;et>Xt$2||ms>Xt$2;)et&Mt$2&&(vs=vs.add(ws)),ms&Mt$2&&(_s=_s.add(ws)),ws=ws.double(),et>>=Mt$2,ms>>=Mt$2;return{p1:vs,p2:_s}}function bc(st,t,et,ms){dc(et,st),hc(ms,t);const ws=et.length,vs=ms.length;if(ws!==vs)throw new Error("arrays of points and scalars must have equal length");const _s=st.ZERO,Es=tc(BigInt(ws));let Ts=1;Es>12?Ts=Es-3:Es>4?Ts=Es-2:Es>0&&(Ts=2);const Ss=je$2(Ts),Rs=new Array(Number(Ss)+1).fill(_s),Bs=Math.floor((t.BITS-1)/Ts)*Ts;let Is=_s;for(let Ws=Bs;Ws>=0;Ws-=Ts){Rs.fill(_s);for(let Ns=0;Ns<vs;Ns++){const Js=ms[Ns],ha=Number(Js>>BigInt(Ws)&Ss);Rs[ha]=Rs[ha].add(et[Ns])}let Hs=_s;for(let Ns=Rs.length-1,Js=_s;Ns>0;Ns--)Js=Js.add(Rs[Ns]),Hs=Hs.add(Js);if(Is=Is.add(Hs),Ws!==0)for(let Ns=0;Ns<Ts;Ns++)Is=Is.double()}return Is}function No$1(st,t){if(t){if(t.ORDER!==st)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return fc(t),t}else return Yt$2(st)}function yc(st,t,et={}){if(!t||typeof t!="object")throw new Error(`expected valid ${st} CURVE object`);for(const _s of["p","n","h"]){const Es=t[_s];if(!(typeof Es=="bigint"&&Es>Xt$2))throw new Error(`CURVE.${_s} must be positive bigint`)}const ms=No$1(t.p,et.Fp),ws=No$1(t.n,et.Fn),vs=["Gx","Gy","a","b"];for(const _s of vs)if(!ms.isValid(t[_s]))throw new Error(`CURVE.${_s} must be valid field element of CURVE.Fp`);return{Fp:ms,Fn:ws}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const de$2=BigInt(0),Jt$2=BigInt(1),Pe$1=BigInt(2);function mc(st){return ke$3(st,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...st})}function wc(st){const t=mc(st),{P:et,type:ms,adjustScalarBytes:ws,powPminus2:vs,randomBytes:_s}=t,Es=ms==="x25519";if(!Es&&ms!=="x448")throw new Error("invalid type");const Ts=_s||Zt$2,Ss=Es?255:448,Rs=Es?32:56,Bs=BigInt(Es?9:5),Is=BigInt(Es?121665:39081),Ws=Es?Pe$1**BigInt(254):Pe$1**BigInt(447),Hs=Es?BigInt(8)*Pe$1**BigInt(251)-Jt$2:BigInt(4)*Pe$1**BigInt(445)-Jt$2,Ns=Ws+Hs+Jt$2,Js=ru=>lt$1(ru,et),ha=pa(Bs);function pa(ru){return An$1(Js(ru),Rs)}function za(ru){const cu=rt$1("u coordinate",ru,Rs);return Es&&(cu[31]&=127),Js(Le$3(cu))}function Ya(ru){return Le$3(ws(rt$1("scalar",ru,Rs)))}function Bc(ru,cu){const ou=eu(za(cu),Ya(ru));if(ou===de$2)throw new Error("invalid private or public key received");return pa(ou)}function Qa(ru){return Bc(ru,ha)}function tu(ru,cu,ou){const Ga=Js(ru*(cu-ou));return cu=Js(cu-Ga),ou=Js(ou+Ga),{x_2:cu,x_3:ou}}function eu(ru,cu){Nn$1("u",ru,de$2,et),Nn$1("scalar",cu,Ws,Ns);const ou=cu,Ga=ru;let Xa=Jt$2,Fa=de$2,Zs=ru,Wa=Jt$2,Za=de$2;for(let au=BigInt(Ss-1);au>=de$2;au--){const nu=ou>>au&Jt$2;Za^=nu,{x_2:Xa,x_3:Zs}=tu(Za,Xa,Zs),{x_2:Fa,x_3:Wa}=tu(Za,Fa,Wa),Za=nu;const uu=Xa+Fa,fu=Js(uu*uu),hu=Xa-Fa,Eu=Js(hu*hu),$u=fu-Eu,Ou=Zs+Wa,gu=Zs-Wa,yu=Js(gu*uu),Tu=Js(Ou*hu),du=yu+Tu,wu=yu-Tu;Zs=Js(du*du),Wa=Js(Ga*Js(wu*wu)),Xa=Js(fu*Eu),Fa=Js($u*(fu+Js(Is*$u)))}({x_2:Xa,x_3:Zs}=tu(Za,Xa,Zs)),{x_2:Fa,x_3:Wa}=tu(Za,Fa,Wa);const iu=vs(Fa);return Js(Xa*iu)}return{scalarMult:Bc,scalarMultBase:Qa,getSharedSecret:(ru,cu)=>Bc(ru,cu),getPublicKey:ru=>Qa(ru),utils:{randomPrivateKey:()=>Ts(Rs)},GuBytes:ha.slice()}}BigInt(0);const xc=BigInt(1),Oo$1=BigInt(2),vc=BigInt(3),Ec=BigInt(5);BigInt(8);const Uo$1={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ic(st){const t=BigInt(10),et=BigInt(20),ms=BigInt(40),ws=BigInt(80),vs=Uo$1.p,_s=st*st%vs*st%vs,Es=pt$1(_s,Oo$1,vs)*_s%vs,Ts=pt$1(Es,xc,vs)*st%vs,Ss=pt$1(Ts,Ec,vs)*Ts%vs,Rs=pt$1(Ss,t,vs)*Ss%vs,Bs=pt$1(Rs,et,vs)*Rs%vs,Is=pt$1(Bs,ms,vs)*Bs%vs,Ws=pt$1(Is,ws,vs)*Is%vs,Hs=pt$1(Ws,ws,vs)*Is%vs,Ns=pt$1(Hs,t,vs)*Ss%vs;return{pow_p_5_8:pt$1(Ns,Oo$1,vs)*st%vs,b2:_s}}function Ac(st){return st[0]&=248,st[31]&=127,st[31]|=64,st}const Tn$1=(()=>{const st=Uo$1.p;return wc({P:st,type:"x25519",powPminus2:t=>{const{pow_p_5_8:et,b2:ms}=Ic(t);return lt$1(pt$1(et,vc,st)*ms,st)},adjustScalarBytes:Ac})})();function _o$1(st){st.lowS!==void 0&&Re$1("lowS",st.lowS),st.prehash!==void 0&&Re$1("prehash",st.prehash)}class Sc extends Error{constructor(t=""){super(t)}}const vt$2={Err:Sc,_tlv:{encode:(st,t)=>{const{Err:et}=vt$2;if(st<0||st>256)throw new et("tlv.encode: wrong tag");if(t.length&1)throw new et("tlv.encode: unpadded data");const ms=t.length/2,ws=$e$2(ms);if(ws.length/2&128)throw new et("tlv.encode: long form length too big");const vs=ms>127?$e$2(ws.length/2|128):"";return $e$2(st)+vs+ws+t},decode(st,t){const{Err:et}=vt$2;let ms=0;if(st<0||st>256)throw new et("tlv.encode: wrong tag");if(t.length<2||t[ms++]!==st)throw new et("tlv.decode: wrong tlv");const ws=t[ms++],vs=!!(ws&128);let _s=0;if(!vs)_s=ws;else{const Ts=ws&127;if(!Ts)throw new et("tlv.decode(long): indefinite length not supported");if(Ts>4)throw new et("tlv.decode(long): byte length is too big");const Ss=t.subarray(ms,ms+Ts);if(Ss.length!==Ts)throw new et("tlv.decode: length bytes not complete");if(Ss[0]===0)throw new et("tlv.decode(long): zero leftmost byte");for(const Rs of Ss)_s=_s<<8|Rs;if(ms+=Ts,_s<128)throw new et("tlv.decode(long): not minimal encoding")}const Es=t.subarray(ms,ms+_s);if(Es.length!==_s)throw new et("tlv.decode: wrong value length");return{v:Es,l:t.subarray(ms+_s)}}},_int:{encode(st){const{Err:t}=vt$2;if(st<he$2)throw new t("integer: negative integers are not allowed");let et=$e$2(st);if(Number.parseInt(et[0],16)&8&&(et="00"+et),et.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return et},decode(st){const{Err:t}=vt$2;if(st[0]&128)throw new t("invalid signature integer: negative");if(st[0]===0&&!(st[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ce$2(st)}},toSig(st){const{Err:t,_int:et,_tlv:ms}=vt$2,ws=rt$1("signature",st),{v:vs,l:_s}=ms.decode(48,ws);if(_s.length)throw new t("invalid signature: left bytes after parsing");const{v:Es,l:Ts}=ms.decode(2,vs),{v:Ss,l:Rs}=ms.decode(2,Ts);if(Rs.length)throw new t("invalid signature: left bytes after parsing");return{r:et.decode(Es),s:et.decode(Ss)}},hexFromSig(st){const{_tlv:t,_int:et}=vt$2,ms=t.encode(2,et.encode(st.r)),ws=t.encode(2,et.encode(st.s)),vs=ms+ws;return t.encode(48,vs)}},he$2=BigInt(0),pe$2=BigInt(1),Nc=BigInt(2),He$2=BigInt(3),Oc=BigInt(4);function Uc(st,t,et){function ms(ws){const vs=st.sqr(ws),_s=st.mul(vs,ws);return st.add(st.add(_s,st.mul(ws,t)),et)}return ms}function To$1(st,t,et){const{BYTES:ms}=st;function ws(vs){let _s;if(typeof vs=="bigint")_s=vs;else{let Es=rt$1("private key",vs);if(t){if(!t.includes(Es.length*2))throw new Error("invalid private key");const Ts=new Uint8Array(ms);Ts.set(Es,Ts.length-Es.length),Es=Ts}try{_s=st.fromBytes(Es)}catch{throw new Error(`invalid private key: expected ui8a of size ${ms}, got ${typeof vs}`)}}if(et&&(_s=st.create(_s)),!st.isValidNot0(_s))throw new Error("invalid private key: out of range [1..N-1]");return _s}return ws}function _c(st,t={}){const{Fp:et,Fn:ms}=yc("weierstrass",st,t),{h:ws,n:vs}=st;ke$3(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:_s}=t;if(_s&&(!et.is0(st.a)||typeof _s.beta!="bigint"||typeof _s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function Es(){if(!et.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function Ts(eu,ru,cu){const{x:ou,y:Ga}=ru.toAffine(),Xa=et.toBytes(ou);if(Re$1("isCompressed",cu),cu){Es();const Fa=!et.isOdd(Ga);return Ht$2(Ro$1(Fa),Xa)}else return Ht$2(Uint8Array.of(4),Xa,et.toBytes(Ga))}function Ss(eu){at$1(eu);const ru=et.BYTES,cu=ru+1,ou=2*ru+1,Ga=eu.length,Xa=eu[0],Fa=eu.subarray(1);if(Ga===cu&&(Xa===2||Xa===3)){const Zs=et.fromBytes(Fa);if(!et.isValid(Zs))throw new Error("bad point: is not on curve, wrong x");const Wa=Is(Zs);let Za;try{Za=et.sqrt(Wa)}catch(au){const nu=au instanceof Error?": "+au.message:"";throw new Error("bad point: is not on curve, sqrt error"+nu)}Es();const iu=et.isOdd(Za);return(Xa&1)===1!==iu&&(Za=et.neg(Za)),{x:Zs,y:Za}}else if(Ga===ou&&Xa===4){const Zs=et.fromBytes(Fa.subarray(ru*0,ru*1)),Wa=et.fromBytes(Fa.subarray(ru*1,ru*2));if(!Ws(Zs,Wa))throw new Error("bad point: is not on curve");return{x:Zs,y:Wa}}else throw new Error(`bad point: got length ${Ga}, expected compressed=${cu} or uncompressed=${ou}`)}const Rs=t.toBytes||Ts,Bs=t.fromBytes||Ss,Is=Uc(et,st.a,st.b);function Ws(eu,ru){const cu=et.sqr(ru),ou=Is(eu);return et.eql(cu,ou)}if(!Ws(st.Gx,st.Gy))throw new Error("bad curve params: generator point");const Hs=et.mul(et.pow(st.a,He$2),Oc),Ns=et.mul(et.sqr(st.b),BigInt(27));if(et.is0(et.add(Hs,Ns)))throw new Error("bad curve params: a or b");function Js(eu,ru,cu=!1){if(!et.isValid(ru)||cu&&et.is0(ru))throw new Error(`bad point coordinate ${eu}`);return ru}function ha(eu){if(!(eu instanceof Bc))throw new Error("ProjectivePoint expected")}const pa=ho$1((eu,ru)=>{const{px:cu,py:ou,pz:Ga}=eu;if(et.eql(Ga,et.ONE))return{x:cu,y:ou};const Xa=eu.is0();ru==null&&(ru=Xa?et.ONE:et.inv(Ga));const Fa=et.mul(cu,ru),Zs=et.mul(ou,ru),Wa=et.mul(Ga,ru);if(Xa)return{x:et.ZERO,y:et.ZERO};if(!et.eql(Wa,et.ONE))throw new Error("invZ was invalid");return{x:Fa,y:Zs}}),za=ho$1(eu=>{if(eu.is0()){if(t.allowInfinityPoint&&!et.is0(eu.py))return;throw new Error("bad point: ZERO")}const{x:ru,y:cu}=eu.toAffine();if(!et.isValid(ru)||!et.isValid(cu))throw new Error("bad point: x or y not field elements");if(!Ws(ru,cu))throw new Error("bad point: equation left != right");if(!eu.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Ya(eu,ru,cu,ou,Ga){return cu=new Bc(et.mul(cu.px,eu),cu.py,cu.pz),ru=le$2(ou,ru),cu=le$2(Ga,cu),ru.add(cu)}class Bc{constructor(ru,cu,ou){this.px=Js("x",ru),this.py=Js("y",cu,!0),this.pz=Js("z",ou),Object.freeze(this)}static fromAffine(ru){const{x:cu,y:ou}=ru||{};if(!ru||!et.isValid(cu)||!et.isValid(ou))throw new Error("invalid affine point");if(ru instanceof Bc)throw new Error("projective point not allowed");return et.is0(cu)&&et.is0(ou)?Bc.ZERO:new Bc(cu,ou,et.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(ru){return lc(Bc,"pz",ru)}static fromBytes(ru){return at$1(ru),Bc.fromHex(ru)}static fromHex(ru){const cu=Bc.fromAffine(Bs(rt$1("pointHex",ru)));return cu.assertValidity(),cu}static fromPrivateKey(ru){const cu=To$1(ms,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return Bc.BASE.multiply(cu(ru))}static msm(ru,cu){return bc(Bc,ms,ru,cu)}precompute(ru=8,cu=!0){return tu.setWindowSize(this,ru),cu||this.multiply(He$2),this}_setWindowSize(ru){this.precompute(ru)}assertValidity(){za(this)}hasEvenY(){const{y:ru}=this.toAffine();if(!et.isOdd)throw new Error("Field doesn't support isOdd");return!et.isOdd(ru)}equals(ru){ha(ru);const{px:cu,py:ou,pz:Ga}=this,{px:Xa,py:Fa,pz:Zs}=ru,Wa=et.eql(et.mul(cu,Zs),et.mul(Xa,Ga)),Za=et.eql(et.mul(ou,Zs),et.mul(Fa,Ga));return Wa&&Za}negate(){return new Bc(this.px,et.neg(this.py),this.pz)}double(){const{a:ru,b:cu}=st,ou=et.mul(cu,He$2),{px:Ga,py:Xa,pz:Fa}=this;let Zs=et.ZERO,Wa=et.ZERO,Za=et.ZERO,iu=et.mul(Ga,Ga),au=et.mul(Xa,Xa),nu=et.mul(Fa,Fa),uu=et.mul(Ga,Xa);return uu=et.add(uu,uu),Za=et.mul(Ga,Fa),Za=et.add(Za,Za),Zs=et.mul(ru,Za),Wa=et.mul(ou,nu),Wa=et.add(Zs,Wa),Zs=et.sub(au,Wa),Wa=et.add(au,Wa),Wa=et.mul(Zs,Wa),Zs=et.mul(uu,Zs),Za=et.mul(ou,Za),nu=et.mul(ru,nu),uu=et.sub(iu,nu),uu=et.mul(ru,uu),uu=et.add(uu,Za),Za=et.add(iu,iu),iu=et.add(Za,iu),iu=et.add(iu,nu),iu=et.mul(iu,uu),Wa=et.add(Wa,iu),nu=et.mul(Xa,Fa),nu=et.add(nu,nu),iu=et.mul(nu,uu),Zs=et.sub(Zs,iu),Za=et.mul(nu,au),Za=et.add(Za,Za),Za=et.add(Za,Za),new Bc(Zs,Wa,Za)}add(ru){ha(ru);const{px:cu,py:ou,pz:Ga}=this,{px:Xa,py:Fa,pz:Zs}=ru;let Wa=et.ZERO,Za=et.ZERO,iu=et.ZERO;const au=st.a,nu=et.mul(st.b,He$2);let uu=et.mul(cu,Xa),fu=et.mul(ou,Fa),hu=et.mul(Ga,Zs),Eu=et.add(cu,ou),$u=et.add(Xa,Fa);Eu=et.mul(Eu,$u),$u=et.add(uu,fu),Eu=et.sub(Eu,$u),$u=et.add(cu,Ga);let Ou=et.add(Xa,Zs);return $u=et.mul($u,Ou),Ou=et.add(uu,hu),$u=et.sub($u,Ou),Ou=et.add(ou,Ga),Wa=et.add(Fa,Zs),Ou=et.mul(Ou,Wa),Wa=et.add(fu,hu),Ou=et.sub(Ou,Wa),iu=et.mul(au,$u),Wa=et.mul(nu,hu),iu=et.add(Wa,iu),Wa=et.sub(fu,iu),iu=et.add(fu,iu),Za=et.mul(Wa,iu),fu=et.add(uu,uu),fu=et.add(fu,uu),hu=et.mul(au,hu),$u=et.mul(nu,$u),fu=et.add(fu,hu),hu=et.sub(uu,hu),hu=et.mul(au,hu),$u=et.add($u,hu),uu=et.mul(fu,$u),Za=et.add(Za,uu),uu=et.mul(Ou,$u),Wa=et.mul(Eu,Wa),Wa=et.sub(Wa,uu),uu=et.mul(Eu,fu),iu=et.mul(Ou,iu),iu=et.add(iu,uu),new Bc(Wa,Za,iu)}subtract(ru){return this.add(ru.negate())}is0(){return this.equals(Bc.ZERO)}multiply(ru){const{endo:cu}=t;if(!ms.isValidNot0(ru))throw new Error("invalid scalar: out of range");let ou,Ga;const Xa=Fa=>tu.wNAFCached(this,Fa,Bc.normalizeZ);if(cu){const{k1neg:Fa,k1:Zs,k2neg:Wa,k2:Za}=cu.splitScalar(ru),{p:iu,f:au}=Xa(Zs),{p:nu,f:uu}=Xa(Za);Ga=au.add(uu),ou=Ya(cu.beta,iu,nu,Fa,Wa)}else{const{p:Fa,f:Zs}=Xa(ru);ou=Fa,Ga=Zs}return Bc.normalizeZ([ou,Ga])[0]}multiplyUnsafe(ru){const{endo:cu}=t,ou=this;if(!ms.isValid(ru))throw new Error("invalid scalar: out of range");if(ru===he$2||ou.is0())return Bc.ZERO;if(ru===pe$2)return ou;if(tu.hasPrecomputes(this))return this.multiply(ru);if(cu){const{k1neg:Ga,k1:Xa,k2neg:Fa,k2:Zs}=cu.splitScalar(ru),{p1:Wa,p2:Za}=gc(Bc,ou,Xa,Zs);return Ya(cu.beta,Wa,Za,Ga,Fa)}else return tu.wNAFCachedUnsafe(ou,ru)}multiplyAndAddUnsafe(ru,cu,ou){const Ga=this.multiplyUnsafe(cu).add(ru.multiplyUnsafe(ou));return Ga.is0()?void 0:Ga}toAffine(ru){return pa(this,ru)}isTorsionFree(){const{isTorsionFree:ru}=t;return ws===pe$2?!0:ru?ru(Bc,this):tu.wNAFCachedUnsafe(this,vs).is0()}clearCofactor(){const{clearCofactor:ru}=t;return ws===pe$2?this:ru?ru(Bc,this):this.multiplyUnsafe(ws)}toBytes(ru=!0){return Re$1("isCompressed",ru),this.assertValidity(),Rs(Bc,this,ru)}toRawBytes(ru=!0){return this.toBytes(ru)}toHex(ru=!0){return ce$2(this.toBytes(ru))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}Bc.BASE=new Bc(st.Gx,st.Gy,et.ONE),Bc.ZERO=new Bc(et.ZERO,et.ONE,et.ZERO),Bc.Fp=et,Bc.Fn=ms;const Qa=ms.BITS,tu=pc(Bc,t.endo?Math.ceil(Qa/2):Qa);return Bc}function Ro$1(st){return Uint8Array.of(st?2:3)}function Tc(st,t,et={}){ke$3(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const ms=t.randomBytes||Zt$2,ws=t.hmac||((ou,...Ga)=>_e$3(t.hash,ou,Ht$2(...Ga))),{Fp:vs,Fn:_s}=st,{ORDER:Es,BITS:Ts}=_s;function Ss(ou){const Ga=Es>>pe$2;return ou>Ga}function Rs(ou){return Ss(ou)?_s.neg(ou):ou}function Bs(ou,Ga){if(!_s.isValidNot0(Ga))throw new Error(`invalid signature ${ou}: out of range 1..CURVE.n`)}class Is{constructor(Ga,Xa,Fa){Bs("r",Ga),Bs("s",Xa),this.r=Ga,this.s=Xa,Fa!=null&&(this.recovery=Fa),Object.freeze(this)}static fromCompact(Ga){const Xa=_s.BYTES,Fa=rt$1("compactSignature",Ga,Xa*2);return new Is(_s.fromBytes(Fa.subarray(0,Xa)),_s.fromBytes(Fa.subarray(Xa,Xa*2)))}static fromDER(Ga){const{r:Xa,s:Fa}=vt$2.toSig(rt$1("DER",Ga));return new Is(Xa,Fa)}assertValidity(){}addRecoveryBit(Ga){return new Is(this.r,this.s,Ga)}recoverPublicKey(Ga){const Xa=vs.ORDER,{r:Fa,s:Zs,recovery:Wa}=this;if(Wa==null||![0,1,2,3].includes(Wa))throw new Error("recovery id invalid");if(Es*Nc<Xa&&Wa>1)throw new Error("recovery id is ambiguous for h>1 curve");const Za=Wa===2||Wa===3?Fa+Es:Fa;if(!vs.isValid(Za))throw new Error("recovery id 2 or 3 invalid");const iu=vs.toBytes(Za),au=st.fromHex(Ht$2(Ro$1((Wa&1)===0),iu)),nu=_s.inv(Za),uu=za(rt$1("msgHash",Ga)),fu=_s.create(-uu*nu),hu=_s.create(Zs*nu),Eu=st.BASE.multiplyUnsafe(fu).add(au.multiplyUnsafe(hu));if(Eu.is0())throw new Error("point at infinify");return Eu.assertValidity(),Eu}hasHighS(){return Ss(this.s)}normalizeS(){return this.hasHighS()?new Is(this.r,_s.neg(this.s),this.recovery):this}toBytes(Ga){if(Ga==="compact")return Ht$2(_s.toBytes(this.r),_s.toBytes(this.s));if(Ga==="der")return fn$1(vt$2.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ce$2(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ce$2(this.toBytes("compact"))}}const Ws=To$1(_s,et.allowedPrivateKeyLengths,et.wrapPrivateKey),Hs={isValidPrivateKey(ou){try{return Ws(ou),!0}catch{return!1}},normPrivateKeyToScalar:Ws,randomPrivateKey:()=>{const ou=Es;return uc(ms(Eo$1(ou)),ou)},precompute(ou=8,Ga=st.BASE){return Ga.precompute(ou,!1)}};function Ns(ou,Ga=!0){return st.fromPrivateKey(ou).toBytes(Ga)}function Js(ou){if(typeof ou=="bigint")return!1;if(ou instanceof st)return!0;const Ga=rt$1("key",ou).length,Xa=vs.BYTES,Fa=Xa+1,Zs=2*Xa+1;if(!(et.allowedPrivateKeyLengths||_s.BYTES===Fa))return Ga===Fa||Ga===Zs}function ha(ou,Ga,Xa=!0){if(Js(ou)===!0)throw new Error("first arg must be private key");if(Js(Ga)===!1)throw new Error("second arg must be public key");return st.fromHex(Ga).multiply(Ws(ou)).toBytes(Xa)}const pa=t.bits2int||function(ou){if(ou.length>8192)throw new Error("input is too large");const Ga=Ce$2(ou),Xa=ou.length*8-Ts;return Xa>0?Ga>>BigInt(Xa):Ga},za=t.bits2int_modN||function(ou){return _s.create(pa(ou))},Ya=je$2(Ts);function Bc(ou){return Nn$1("num < 2^"+Ts,ou,he$2,Ya),_s.toBytes(ou)}function Qa(ou,Ga,Xa=tu){if(["recovered","canonical"].some(Eu=>Eu in Xa))throw new Error("sign() legacy options not supported");const{hash:Fa}=t;let{lowS:Zs,prehash:Wa,extraEntropy:Za}=Xa;Zs==null&&(Zs=!0),ou=rt$1("msgHash",ou),_o$1(Xa),Wa&&(ou=rt$1("prehashed msgHash",Fa(ou)));const iu=za(ou),au=Ws(Ga),nu=[Bc(au),Bc(iu)];if(Za!=null&&Za!==!1){const Eu=Za===!0?ms(vs.BYTES):Za;nu.push(rt$1("extraEntropy",Eu))}const uu=Ht$2(...nu),fu=iu;function hu(Eu){const $u=pa(Eu);if(!_s.isValidNot0($u))return;const Ou=_s.inv($u),gu=st.BASE.multiply($u).toAffine(),yu=_s.create(gu.x);if(yu===he$2)return;const Tu=_s.create(Ou*_s.create(fu+yu*au));if(Tu===he$2)return;let du=(gu.x===yu?0:2)|Number(gu.y&pe$2),wu=Tu;return Zs&&Ss(Tu)&&(wu=Rs(Tu),du^=1),new Is(yu,wu,du)}return{seed:uu,k2sig:hu}}const tu={lowS:t.lowS,prehash:!1},eu={lowS:t.lowS,prehash:!1};function ru(ou,Ga,Xa=tu){const{seed:Fa,k2sig:Zs}=Qa(ou,Ga,Xa);return ec(t.hash.outputLen,_s.BYTES,ws)(Fa,Zs)}st.BASE.precompute(8);function cu(ou,Ga,Xa,Fa=eu){const Zs=ou;Ga=rt$1("msgHash",Ga),Xa=rt$1("publicKey",Xa),_o$1(Fa);const{lowS:Wa,prehash:Za,format:iu}=Fa;if("strict"in Fa)throw new Error("options.strict was renamed to lowS");if(iu!==void 0&&!["compact","der","js"].includes(iu))throw new Error('format must be "compact", "der" or "js"');const au=typeof Zs=="string"||nn$1(Zs),nu=!au&&!iu&&typeof Zs=="object"&&Zs!==null&&typeof Zs.r=="bigint"&&typeof Zs.s=="bigint";if(!au&&!nu)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let uu,fu;try{if(nu)if(iu===void 0||iu==="js")uu=new Is(Zs.r,Zs.s);else throw new Error("invalid format");if(au){try{iu!=="compact"&&(uu=Is.fromDER(Zs))}catch(du){if(!(du instanceof vt$2.Err))throw du}!uu&&iu!=="der"&&(uu=Is.fromCompact(Zs))}fu=st.fromHex(Xa)}catch{return!1}if(!uu||Wa&&uu.hasHighS())return!1;Za&&(Ga=t.hash(Ga));const{r:hu,s:Eu}=uu,$u=za(Ga),Ou=_s.inv(Eu),gu=_s.create($u*Ou),yu=_s.create(hu*Ou),Tu=st.BASE.multiplyUnsafe(gu).add(fu.multiplyUnsafe(yu));return Tu.is0()?!1:_s.create(Tu.x)===hu}return Object.freeze({getPublicKey:Ns,getSharedSecret:ha,sign:ru,verify:cu,utils:Hs,Point:st,Signature:Is})}function Rc(st){const t={a:st.a,b:st.b,p:st.Fp.ORDER,n:st.n,h:st.h,Gx:st.Gx,Gy:st.Gy},et=st.Fp,ms=Yt$2(t.n,st.nBitLength),ws={Fp:et,Fn:ms,allowedPrivateKeyLengths:st.allowedPrivateKeyLengths,allowInfinityPoint:st.allowInfinityPoint,endo:st.endo,wrapPrivateKey:st.wrapPrivateKey,isTorsionFree:st.isTorsionFree,clearCofactor:st.clearCofactor,fromBytes:st.fromBytes,toBytes:st.toBytes};return{CURVE:t,curveOpts:ws}}function $c(st){const{CURVE:t,curveOpts:et}=Rc(st),ms={hash:st.hash,hmac:st.hmac,randomBytes:st.randomBytes,lowS:st.lowS,bits2int:st.bits2int,bits2int_modN:st.bits2int_modN};return{CURVE:t,curveOpts:et,ecdsaOpts:ms}}function Cc(st,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:st})}function Lc(st){const{CURVE:t,curveOpts:et,ecdsaOpts:ms}=$c(st),ws=_c(t,et),vs=Tc(ws,ms,et);return Cc(st,vs)}function Rn$1(st,t){const et=ms=>Lc({...st,hash:ms});return{...et(t),create:et}}const $o$1={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Co$1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Lo$1={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},jc=Yt$2($o$1.p),kc=Yt$2(Co$1.p),Pc=Yt$2(Lo$1.p),Hc=Rn$1({...$o$1,Fp:jc,lowS:!1},Ae$1);Rn$1({...Co$1,Fp:kc,lowS:!1},Yi),Rn$1({...Lo$1,Fp:Pc,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Wi);const Dc=Hc,$n$1="base10",tt="base16",Qt$2="base64pad",De$2="base64url",te$1="utf8",Cn$1=0,ee$1=1,ge$2=2,Mc=0,jo$1=1,be$2=12,Ln$1=32;function Vc(){const st=Tn$1.utils.randomPrivateKey(),t=Tn$1.getPublicKey(st);return{privateKey:toString$1(st,tt),publicKey:toString$1(t,tt)}}function qc(){const st=Zt$2(Ln$1);return toString$1(st,tt)}function Kc(st,t){const et=Tn$1.getSharedSecret(fromString(st,tt),fromString(t,tt)),ms=Jf(Te$2,et,void 0,void 0,Ln$1);return toString$1(ms,tt)}function Fc(st){const t=Te$2(fromString(st,tt));return toString$1(t,tt)}function zc(st){const t=Te$2(fromString(st,te$1));return toString$1(t,tt)}function jn$1(st){return fromString(`${st}`,$n$1)}function Vt$2(st){return Number(toString$1(st,$n$1))}function ko$1(st){return st.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Po$1(st){const t=st.replace(/-/g,"+").replace(/_/g,"/"),et=(4-t.length%4)%4;return t+"=".repeat(et)}function Gc(st){const t=jn$1(typeof st.type<"u"?st.type:Cn$1);if(Vt$2(t)===ee$1&&typeof st.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const et=typeof st.senderPublicKey<"u"?fromString(st.senderPublicKey,tt):void 0,ms=typeof st.iv<"u"?fromString(st.iv,tt):Zt$2(be$2),ws=fromString(st.symKey,tt),vs=co$1(ws,ms).encrypt(fromString(st.message,te$1)),_s=kn$1({type:t,sealed:vs,iv:ms,senderPublicKey:et});return st.encoding===De$2?ko$1(_s):_s}function Zc(st){const t=fromString(st.symKey,tt),{sealed:et,iv:ms}=Me$3({encoded:st.encoded,encoding:st.encoding}),ws=co$1(t,ms).decrypt(et);if(ws===null)throw new Error("Failed to decrypt");return toString$1(ws,te$1)}function Wc(st,t){const et=jn$1(ge$2),ms=Zt$2(be$2),ws=fromString(st,te$1),vs=kn$1({type:et,sealed:ws,iv:ms});return t===De$2?ko$1(vs):vs}function Yc(st,t){const{sealed:et}=Me$3({encoded:st,encoding:t});return toString$1(et,te$1)}function kn$1(st){if(Vt$2(st.type)===ge$2)return toString$1(concat([st.type,st.sealed]),Qt$2);if(Vt$2(st.type)===ee$1){if(typeof st.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString$1(concat([st.type,st.senderPublicKey,st.iv,st.sealed]),Qt$2)}return toString$1(concat([st.type,st.iv,st.sealed]),Qt$2)}function Me$3(st){const t=(st.encoding||Qt$2)===De$2?Po$1(st.encoded):st.encoded,et=fromString(t,Qt$2),ms=et.slice(Mc,jo$1),ws=jo$1;if(Vt$2(ms)===ee$1){const Ts=ws+Ln$1,Ss=Ts+be$2,Rs=et.slice(ws,Ts),Bs=et.slice(Ts,Ss),Is=et.slice(Ss);return{type:ms,sealed:Is,iv:Bs,senderPublicKey:Rs}}if(Vt$2(ms)===ge$2){const Ts=et.slice(ws),Ss=Zt$2(be$2);return{type:ms,sealed:Ts,iv:Ss}}const vs=ws+be$2,_s=et.slice(ws,vs),Es=et.slice(vs);return{type:ms,sealed:Es,iv:_s}}function Xc(st,t){const et=Me$3({encoded:st,encoding:t?.encoding});return Ho$1({type:Vt$2(et.type),senderPublicKey:typeof et.senderPublicKey<"u"?toString$1(et.senderPublicKey,tt):void 0,receiverPublicKey:t?.receiverPublicKey})}function Ho$1(st){const t=st?.type||Cn$1;if(t===ee$1){if(typeof st?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof st?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:st?.senderPublicKey,receiverPublicKey:st?.receiverPublicKey}}function Jc(st){return st.type===ee$1&&typeof st.senderPublicKey=="string"&&typeof st.receiverPublicKey=="string"}function Qc(st){return st.type===ge$2}function Do$1(st){const t=Buffer.from(st.x,"base64"),et=Buffer.from(st.y,"base64");return concat([new Uint8Array([4]),t,et])}function ta(st,t){const[et,ms,ws]=st.split("."),vs=Buffer.from(Po$1(ws),"base64");if(vs.length!==64)throw new Error("Invalid signature length");const _s=vs.slice(0,32),Es=vs.slice(32,64),Ts=`${et}.${ms}`,Ss=Te$2(Ts),Rs=Do$1(t);if(!Dc.verify(concat([_s,Es]),Ss,Rs))throw new Error("Invalid signature");return sn$2(st).payload}const Mo$1="irn";function ea(st){return st?.relay||{protocol:Mo$1}}function na(st){const t=C$2[st];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${st}`);return t}function Vo$1(st,t="-"){const et={},ms="relay"+t;return Object.keys(st).forEach(ws=>{if(ws.startsWith(ms)){const vs=ws.replace(ms,""),_s=st[ws];et[vs]=_s}}),et}function ra(st){if(!st.includes("wc:")){const Ss=Qe$2(st);Ss!=null&&Ss.includes("wc:")&&(st=Ss)}st=st.includes("wc://")?st.replace("wc://",""):st,st=st.includes("wc:")?st.replace("wc:",""):st;const t=st.indexOf(":"),et=st.indexOf("?")!==-1?st.indexOf("?"):void 0,ms=st.substring(0,t),ws=st.substring(t+1,et).split("@"),vs=typeof et<"u"?st.substring(et):"",_s=new URLSearchParams(vs),Es={};_s.forEach((Ss,Rs)=>{Es[Rs]=Ss});const Ts=typeof Es.methods=="string"?Es.methods.split(","):void 0;return{protocol:ms,topic:qo$1(ws[0]),version:parseInt(ws[1],10),symKey:Es.symKey,relay:Vo$1(Es),methods:Ts,expiryTimestamp:Es.expiryTimestamp?parseInt(Es.expiryTimestamp,10):void 0}}function qo$1(st){return st.startsWith("//")?st.substring(2):st}function Ko$1(st,t="-"){const et="relay",ms={};return Object.keys(st).forEach(ws=>{const vs=ws,_s=et+t+vs;st[vs]&&(ms[_s]=st[vs])}),ms}function oa(st){const t=new URLSearchParams,et=Ko$1(st.relay);Object.keys(et).sort().forEach(ws=>{t.set(ws,et[ws])}),t.set("symKey",st.symKey),st.expiryTimestamp&&t.set("expiryTimestamp",st.expiryTimestamp.toString()),st.methods&&t.set("methods",st.methods.join(","));const ms=t.toString();return`${st.protocol}:${st.topic}@${st.version}?${ms}`}function sa(st,t,et){return`${st}?wc_ev=${et}&topic=${t}`}var ia=Object.defineProperty,fa=Object.defineProperties,ca=Object.getOwnPropertyDescriptors,Fo$1=Object.getOwnPropertySymbols,aa=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,zo$1=(st,t,et)=>t in st?ia(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,la=(st,t)=>{for(var et in t||(t={}))aa.call(t,et)&&zo$1(st,et,t[et]);if(Fo$1)for(var et of Fo$1(t))ua.call(t,et)&&zo$1(st,et,t[et]);return st},da=(st,t)=>fa(st,ca(t));function qt$1(st){const t=[];return st.forEach(et=>{const[ms,ws]=et.split(":");t.push(`${ms}:${ws}`)}),t}function Go$1(st){const t=[];return Object.values(st).forEach(et=>{t.push(...qt$1(et.accounts))}),t}function Zo$1(st,t){const et=[];return Object.values(st).forEach(ms=>{qt$1(ms.accounts).includes(t)&&et.push(...ms.methods)}),et}function Wo$1(st,t){const et=[];return Object.values(st).forEach(ms=>{qt$1(ms.accounts).includes(t)&&et.push(...ms.events)}),et}function Pn$1(st){return st.includes(":")}function Yo$1(st){return Pn$1(st)?st.split(":")[0]:st}function ye$2(st){var t,et,ms;const ws={};if(!Ve$2(st))return ws;for(const[vs,_s]of Object.entries(st)){const Es=Pn$1(vs)?[vs]:_s.chains,Ts=_s.methods||[],Ss=_s.events||[],Rs=Yo$1(vs);ws[Rs]=da(la({},ws[Rs]),{chains:ct$1(Es,(t=ws[Rs])==null?void 0:t.chains),methods:ct$1(Ts,(et=ws[Rs])==null?void 0:et.methods),events:ct$1(Ss,(ms=ws[Rs])==null?void 0:ms.events)})}return ws}function Xo$1(st){const t={};return st?.forEach(et=>{var ms;const[ws,vs]=et.split(":");t[ws]||(t[ws]={accounts:[],chains:[],events:[],methods:[]}),t[ws].accounts.push(et),(ms=t[ws].chains)==null||ms.push(`${ws}:${vs}`)}),t}function ga(st,t){t=t.map(ms=>ms.replace("did:pkh:",""));const et=Xo$1(t);for(const[ms,ws]of Object.entries(et))ws.methods?ws.methods=ct$1(ws.methods,st):ws.methods=st,ws.events=["chainChanged","accountsChanged"];return et}function ba(st,t){var et,ms,ws,vs,_s,Es;const Ts=ye$2(st),Ss=ye$2(t),Rs={},Bs=Object.keys(Ts).concat(Object.keys(Ss));for(const Is of Bs)Rs[Is]={chains:ct$1((et=Ts[Is])==null?void 0:et.chains,(ms=Ss[Is])==null?void 0:ms.chains),methods:ct$1((ws=Ts[Is])==null?void 0:ws.methods,(vs=Ss[Is])==null?void 0:vs.methods),events:ct$1((_s=Ts[Is])==null?void 0:_s.events,(Es=Ss[Is])==null?void 0:Es.events)};return Rs}const Jo$1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Qo={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Et$3(st,t){const{message:et,code:ms}=Qo[st];return{message:t?`${et} ${t}`:et,code:ms}}function Kt$2(st,t){const{message:et,code:ms}=Jo$1[st];return{message:t?`${et} ${t}`:et,code:ms}}function me$2(st,t){return!!Array.isArray(st)}function Ve$2(st){return Object.getPrototypeOf(st)===Object.prototype&&Object.keys(st).length}function kt$2(st){return typeof st>"u"}function it(st,t){return t&&kt$2(st)?!0:typeof st=="string"&&!!st.trim().length}function qe$2(st,t){return t&&kt$2(st)?!0:typeof st=="number"&&!isNaN(st)}function ya(st,t){const{requiredNamespaces:et}=t,ms=Object.keys(st.namespaces),ws=Object.keys(et);let vs=!0;return It$2(ws,ms)?(ms.forEach(_s=>{const{accounts:Es,methods:Ts,events:Ss}=st.namespaces[_s],Rs=qt$1(Es),Bs=et[_s];(!It$2(ve$1(_s,Bs),Rs)||!It$2(Bs.methods,Ts)||!It$2(Bs.events,Ss))&&(vs=!1)}),vs):!1}function we$2(st){return it(st,!1)&&st.includes(":")?st.split(":").length===2:!1}function ts$1(st){if(it(st,!1)&&st.includes(":")){const t=st.split(":");if(t.length===3){const et=t[0]+":"+t[1];return!!t[2]&&we$2(et)}}return!1}function ma(st){function t(et){try{return typeof new URL(et)<"u"}catch{return!1}}try{if(it(st,!1)){if(t(st))return!0;const et=Qe$2(st);return t(et)}}catch{}return!1}function wa(st){var t;return(t=st?.proposer)==null?void 0:t.publicKey}function xa(st){return st?.topic}function va(st,t){let et=null;return it(st?.publicKey,!1)||(et=Et$3("MISSING_OR_INVALID",`${t} controller public key should be a string`)),et}function Hn$1(st){let t=!0;return me$2(st)?st.length&&(t=st.every(et=>it(et,!1))):t=!1,t}function es$1(st,t,et){let ms=null;return me$2(t)&&t.length?t.forEach(ws=>{ms||we$2(ws)||(ms=Kt$2("UNSUPPORTED_CHAINS",`${et}, chain ${ws} should be a string and conform to "namespace:chainId" format`))}):we$2(st)||(ms=Kt$2("UNSUPPORTED_CHAINS",`${et}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),ms}function ns$1(st,t,et){let ms=null;return Object.entries(st).forEach(([ws,vs])=>{if(ms)return;const _s=es$1(ws,ve$1(ws,vs),`${t} ${et}`);_s&&(ms=_s)}),ms}function rs$1(st,t){let et=null;return me$2(st)?st.forEach(ms=>{et||ts$1(ms)||(et=Kt$2("UNSUPPORTED_ACCOUNTS",`${t}, account ${ms} should be a string and conform to "namespace:chainId:address" format`))}):et=Kt$2("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),et}function os$1(st,t){let et=null;return Object.values(st).forEach(ms=>{if(et)return;const ws=rs$1(ms?.accounts,`${t} namespace`);ws&&(et=ws)}),et}function ss$1(st,t){let et=null;return Hn$1(st?.methods)?Hn$1(st?.events)||(et=Kt$2("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):et=Kt$2("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),et}function Dn$1(st,t){let et=null;return Object.values(st).forEach(ms=>{if(et)return;const ws=ss$1(ms,`${t}, namespace`);ws&&(et=ws)}),et}function Ea(st,t,et){let ms=null;if(st&&Ve$2(st)){const ws=Dn$1(st,t);ws&&(ms=ws);const vs=ns$1(st,t,et);vs&&(ms=vs)}else ms=Et$3("MISSING_OR_INVALID",`${t}, ${et} should be an object with data`);return ms}function is$1(st,t){let et=null;if(st&&Ve$2(st)){const ms=Dn$1(st,t);ms&&(et=ms);const ws=os$1(st,t);ws&&(et=ws)}else et=Et$3("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return et}function fs$1(st){return it(st.protocol,!0)}function Ba(st,t){let et=!1;return st?st&&me$2(st)&&st.length&&st.forEach(ms=>{et=fs$1(ms)}):et=!0,et}function Ia(st){return typeof st=="number"}function Aa(st){return typeof st<"u"&&typeof st!==null}function Sa(st){return!(!st||typeof st!="object"||!st.code||!qe$2(st.code,!1)||!st.message||!it(st.message,!1))}function Na(st){return!(kt$2(st)||!it(st.method,!1))}function Oa(st){return!(kt$2(st)||kt$2(st.result)&&kt$2(st.error)||!qe$2(st.id,!1)||!it(st.jsonrpc,!1))}function Ua(st){return!(kt$2(st)||!it(st.name,!1))}function _a(st,t){return!(!we$2(t)||!Go$1(st).includes(t))}function Ta(st,t,et){return it(et,!1)?Zo$1(st,t).includes(et):!1}function Ra(st,t,et){return it(et,!1)?Wo$1(st,t).includes(et):!1}function cs$1(st,t,et){let ms=null;const ws=$a(st),vs=Ca(t),_s=Object.keys(ws),Es=Object.keys(vs),Ts=as$1(Object.keys(st)),Ss=as$1(Object.keys(t)),Rs=Ts.filter(Bs=>!Ss.includes(Bs));return Rs.length&&(ms=Et$3("NON_CONFORMING_NAMESPACES",`${et} namespaces keys don't satisfy requiredNamespaces.
      Required: ${Rs.toString()}
      Received: ${Object.keys(t).toString()}`)),It$2(_s,Es)||(ms=Et$3("NON_CONFORMING_NAMESPACES",`${et} namespaces chains don't satisfy required namespaces.
      Required: ${_s.toString()}
      Approved: ${Es.toString()}`)),Object.keys(t).forEach(Bs=>{if(!Bs.includes(":")||ms)return;const Is=qt$1(t[Bs].accounts);Is.includes(Bs)||(ms=Et$3("NON_CONFORMING_NAMESPACES",`${et} namespaces accounts don't satisfy namespace accounts for ${Bs}
        Required: ${Bs}
        Approved: ${Is.toString()}`))}),_s.forEach(Bs=>{ms||(It$2(ws[Bs].methods,vs[Bs].methods)?It$2(ws[Bs].events,vs[Bs].events)||(ms=Et$3("NON_CONFORMING_NAMESPACES",`${et} namespaces events don't satisfy namespace events for ${Bs}`)):ms=Et$3("NON_CONFORMING_NAMESPACES",`${et} namespaces methods don't satisfy namespace methods for ${Bs}`))}),ms}function $a(st){const t={};return Object.keys(st).forEach(et=>{var ms;et.includes(":")?t[et]=st[et]:(ms=st[et].chains)==null||ms.forEach(ws=>{t[ws]={methods:st[et].methods,events:st[et].events}})}),t}function as$1(st){return[...new Set(st.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Ca(st){const t={};return Object.keys(st).forEach(et=>{et.includes(":")?t[et]=st[et]:qt$1(st[et].accounts)?.forEach(ws=>{t[ws]={accounts:st[et].accounts.filter(vs=>vs.includes(`${ws}:`)),methods:st[et].methods,events:st[et].events}})}),t}function La(st,t){return qe$2(st,!1)&&st<=t.max&&st>=t.min}function ja(){const st=Pt$2();return new Promise(t=>{switch(st){case J.browser:t(us$1());break;case J.reactNative:t(ls$1());break;case J.node:t(ds$1());break;default:t(!0)}})}function us$1(){return zt$2()&&navigator?.onLine}async function ls$1(){return Bt$2()&&typeof window<"u"&&window!=null&&window.NetInfo?(await window?.NetInfo.fetch())?.isConnected:!0}function ds$1(){return!0}function ka(st){switch(Pt$2()){case J.browser:hs$1(st);break;case J.reactNative:ps$1(st);break}}function hs$1(st){!Bt$2()&&zt$2()&&(window.addEventListener("online",()=>st(!0)),window.addEventListener("offline",()=>st(!1)))}function ps$1(st){Bt$2()&&typeof window<"u"&&window!=null&&window.NetInfo&&window?.NetInfo.addEventListener(t=>st(t?.isConnected))}function Pa(){var st;return zt$2()&&cjsExports$2.getDocument()?((st=cjsExports$2.getDocument())==null?void 0:st.visibilityState)==="visible":!0}const Mn$1={};class Ha{static get(t){return Mn$1[t]}static set(t,et){Mn$1[t]=et}static delete(t){delete Mn$1[t]}}function gs(st){const t=re$2.decode(st);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function bs$1({publicKey:st,signature:t,payload:et}){var ms;const ws=Vn$1(et.method),vs=128|parseInt(((ms=et.version)==null?void 0:ms.toString())||"4"),_s=Ma(et.address),Es=et.era==="00"?new Uint8Array([0]):Vn$1(et.era);if(Es.length!==1&&Es.length!==2)throw new Error("Invalid era length");const Ts=parseInt(et.nonce,16),Ss=new Uint8Array([Ts&255,Ts>>8&255]),Rs=BigInt(`0x${Da(et.tip)}`),Bs=qa(Rs),Is=new Uint8Array([0,...st,_s,...t,...Es,...Ss,...Bs,...ws]),Ws=Va(Is.length+1);return new Uint8Array([...Ws,vs,...Is])}function ys(st){const t=Vn$1(st),et=blakejsExports.blake2b(t,void 0,32);return"0x"+Buffer.from(et).toString("hex")}function Vn$1(st){return new Uint8Array(st.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Da(st){return st.startsWith("0x")?st.slice(2):st}function Ma(st){const t=re$2.decode(st)[0];return t===42?0:t===60?2:1}function Va(st){if(st<64)return new Uint8Array([st<<2]);if(st<16384){const t=st<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(st<1<<30){const t=st<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function qa(st){if(st<BigInt(1)<<BigInt(6))return new Uint8Array([Number(st<<BigInt(2))]);if(st<BigInt(1)<<BigInt(14)){const t=st<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(st<BigInt(1)<<BigInt(30)){const t=st<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Ka(st){const t=Uint8Array.from(Buffer.from(st.signature,"hex")),et=gs(st.transaction.address),ms=bs$1({publicKey:et,signature:t,payload:st.transaction}),ws=Buffer.from(ms).toString("hex");return ys(ws)}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(st){return RESERVED_ERROR_CODES.includes(st)}function getError(st){return Object.keys(STANDARD_ERROR_MAP).includes(st)?STANDARD_ERROR_MAP[st]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(st){const t=Object.values(STANDARD_ERROR_MAP).find(et=>et.code===st);return t||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(st,t,et){return st.message.includes("getaddrinfo ENOTFOUND")||st.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${et} RPC url at ${t}`):st}var cjs={},crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function st(){return window?.crypto||window?.msCrypto||{}}crypto$1.getBrowerCrypto=st;function t(){const ms=st();return ms.subtle||ms.webkitSubtle}crypto$1.getSubtleCrypto=t;function et(){return!!st()&&!!t()}return crypto$1.isBrowserCryptoAvailable=et,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function st(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=st;function t(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=t;function et(){return!st()&&!t()}return env.isBrowser=et,env}var hasRequiredCjs;function requireCjs(){return hasRequiredCjs||(hasRequiredCjs=1,function(st){Object.defineProperty(st,"__esModule",{value:!0});const t=require$$0;t.__exportStar(requireCrypto(),st),t.__exportStar(requireEnv(),st)}(cjs)),cjs}var cjsExports=requireCjs();function payloadId(st=3){const t=Date.now()*Math.pow(10,st),et=Math.floor(Math.random()*Math.pow(10,st));return t+et}function getBigIntRpcId(st=6){return BigInt(payloadId(st))}function formatJsonRpcRequest(st,t,et){return{id:et||payloadId(),jsonrpc:"2.0",method:st,params:t}}function formatJsonRpcResult(st,t){return{id:st,jsonrpc:"2.0",result:t}}function formatJsonRpcError(st,t,et){return{id:st,jsonrpc:"2.0",error:formatErrorMessage(t)}}function formatErrorMessage(st,t){return typeof st>"u"?getError(INTERNAL_ERROR):(typeof st=="string"&&(st=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:st})),isReservedErrorCode(st.code)&&(st=getErrorByCode(st.code)),st)}class e{}class n extends e{constructor(){super()}}class r extends n{constructor(t){super()}}const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(st){const t=st.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function matchRegexProtocol(st,t){const et=getUrlProtocol(st);return typeof et>"u"?!1:new RegExp(t).test(et)}function isHttpUrl(st){return matchRegexProtocol(st,HTTP_REGEX)}function isWsUrl(st){return matchRegexProtocol(st,WS_REGEX)}function isLocalhostUrl(st){return new RegExp("wss?://localhost(:d{2,5})?").test(st)}function isJsonRpcPayload(st){return typeof st=="object"&&"id"in st&&"jsonrpc"in st&&st.jsonrpc==="2.0"}function isJsonRpcRequest(st){return isJsonRpcPayload(st)&&"method"in st}function isJsonRpcResponse(st){return isJsonRpcPayload(st)&&(isJsonRpcResult(st)||isJsonRpcError(st))}function isJsonRpcResult(st){return"result"in st}function isJsonRpcError(st){return"error"in st}let o$1=class extends r{constructor(t){super(t),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,et){this.events.on(t,et)}once(t,et){this.events.once(t,et)}off(t,et){this.events.off(t,et)}removeListener(t,et){this.events.removeListener(t,et)}async request(t,et){return this.requestStrict(formatJsonRpcRequest(t.method,t.params||[],t.id||getBigIntRpcId().toString()),et)}async requestStrict(t,et){return new Promise(async(ms,ws)=>{if(!this.connection.connected)try{await this.open()}catch(vs){ws(vs)}this.events.on(`${t.id}`,vs=>{isJsonRpcError(vs)?ws(vs.error):ms(vs.result)});try{await this.connection.send(t,et)}catch(vs){ws(vs)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),isJsonRpcResponse(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const v$2=()=>typeof WebSocket<"u"?WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),w$2=()=>typeof WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",d$1=st=>st.split("?")[0],h$1=10,b$1=v$2();let f$4=class{constructor(t){if(this.url=t,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,et){this.events.on(t,et)}once(t,et){this.events.once(t,et)}off(t,et){this.events.off(t,et)}removeListener(t,et){this.events.removeListener(t,et)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,et)=>{if(typeof this.socket>"u"){et(new Error("Connection already closed"));return}this.socket.onclose=ms=>{this.onClose(ms),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(t))}catch(et){this.onError(t.id,et)}}register(t=this.url){if(!isWsUrl(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const et=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=et||this.events.listenerCount("open")>=et)&&this.events.setMaxListeners(et+1),new Promise((ms,ws)=>{this.events.once("register_error",vs=>{this.resetMaxListeners(),ws(vs)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return ws(new Error("WebSocket connection is missing or invalid"));ms(this.socket)})})}return this.url=t,this.registering=!0,new Promise((et,ms)=>{const ws=cjsExports.isReactNative()?void 0:{rejectUnauthorized:!isLocalhostUrl(t)},vs=new b$1(t,[],ws);w$2()?vs.onerror=_s=>{const Es=_s;ms(this.emitError(Es.error))}:vs.on("error",_s=>{ms(this.emitError(_s))}),vs.onopen=()=>{this.onOpen(vs),et(vs)}})}onOpen(t){t.onmessage=et=>this.onPayload(et),t.onclose=et=>this.onClose(et),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const et=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",et)}onError(t,et){const ms=this.parseError(et),ws=ms.message||ms.toString(),vs=formatJsonRpcError(t,ws);this.events.emit("payload",vs)}parseError(t,et=this.url){return parseConnectionError(t,d$1(et),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$1&&this.events.setMaxListeners(h$1)}emitError(t){const et=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${d$1(this.url)}`));return this.events.emit("register_error",et),et}};var define_process_env_default={};const ze$1="wc",Le$2=2,he$1="core",B$1=`${ze$1}@2:${he$1}:`,Et$2={logger:"error"},It$1={database:":memory:"},Tt$1="crypto",ke$2="client_ed25519_seed",Ct$1=cjsExports$3.ONE_DAY,Pt$1="keychain",St$2="0.3",Ot$1="messages",Rt$1="0.3",je$1=cjsExports$3.SIX_HOURS,At$1="publisher",xt$1="irn",Nt$1="error",Ue$1="wss://relay.walletconnect.org",$t$1="relayer",C$1={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zt$1="_subscription",L$2={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Lt$1=.1,_e$2="2.21.4",Q$1={link_mode:"link_mode",relay:"relay"},le$1={inbound:"inbound",outbound:"outbound"},kt$1="0.3",jt="WALLETCONNECT_CLIENT_ID",Fe$1="WALLETCONNECT_LINK_MODE_APPS",$$2={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Ut="subscription",Ft="0.3",Mt$1="pairing",Kt$1="0.3",se$1={wc_pairingDelete:{req:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjsExports$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjsExports$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:0}}},re$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},F={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Bt$1="history",Vt$1="0.3",qt="expirer",M$1={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Gt$1="0.3",Wt$1="verify-api",Qs="https://verify.walletconnect.com",Ht$1="https://verify.walletconnect.org",ue$1=Ht$1,Yt$1=`${ue$1}/v3`,Jt$1=[Qs,Ht$1],Xt$1="echo",Zt$1="https://echo.walletconnect.com",G$1={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Y$1={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},tr={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ir={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},sr={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},rr={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Qt$1=.1,ei="event-client",ti=86400,ii="https://pulse.walletconnect.org/batch";function nr(st,t){if(st.length>=255)throw new TypeError("Alphabet too long");for(var et=new Uint8Array(256),ms=0;ms<et.length;ms++)et[ms]=255;for(var ws=0;ws<st.length;ws++){var vs=st.charAt(ws),_s=vs.charCodeAt(0);if(et[_s]!==255)throw new TypeError(vs+" is ambiguous");et[_s]=ws}var Es=st.length,Ts=st.charAt(0),Ss=Math.log(Es)/Math.log(256),Rs=Math.log(256)/Math.log(Es);function Bs(Hs){if(Hs instanceof Uint8Array||(ArrayBuffer.isView(Hs)?Hs=new Uint8Array(Hs.buffer,Hs.byteOffset,Hs.byteLength):Array.isArray(Hs)&&(Hs=Uint8Array.from(Hs))),!(Hs instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Hs.length===0)return"";for(var Ns=0,Js=0,ha=0,pa=Hs.length;ha!==pa&&Hs[ha]===0;)ha++,Ns++;for(var za=(pa-ha)*Rs+1>>>0,Ya=new Uint8Array(za);ha!==pa;){for(var Bc=Hs[ha],Qa=0,tu=za-1;(Bc!==0||Qa<Js)&&tu!==-1;tu--,Qa++)Bc+=256*Ya[tu]>>>0,Ya[tu]=Bc%Es>>>0,Bc=Bc/Es>>>0;if(Bc!==0)throw new Error("Non-zero carry");Js=Qa,ha++}for(var eu=za-Js;eu!==za&&Ya[eu]===0;)eu++;for(var ru=Ts.repeat(Ns);eu<za;++eu)ru+=st.charAt(Ya[eu]);return ru}function Is(Hs){if(typeof Hs!="string")throw new TypeError("Expected String");if(Hs.length===0)return new Uint8Array;var Ns=0;if(Hs[Ns]!==" "){for(var Js=0,ha=0;Hs[Ns]===Ts;)Js++,Ns++;for(var pa=(Hs.length-Ns)*Ss+1>>>0,za=new Uint8Array(pa);Hs[Ns];){var Ya=et[Hs.charCodeAt(Ns)];if(Ya===255)return;for(var Bc=0,Qa=pa-1;(Ya!==0||Bc<ha)&&Qa!==-1;Qa--,Bc++)Ya+=Es*za[Qa]>>>0,za[Qa]=Ya%256>>>0,Ya=Ya/256>>>0;if(Ya!==0)throw new Error("Non-zero carry");ha=Bc,Ns++}if(Hs[Ns]!==" "){for(var tu=pa-ha;tu!==pa&&za[tu]===0;)tu++;for(var eu=new Uint8Array(Js+(pa-tu)),ru=Js;tu!==pa;)eu[ru++]=za[tu++];return eu}}}function Ws(Hs){var Ns=Is(Hs);if(Ns)return Ns;throw new Error(`Non-${t} character`)}return{encode:Bs,decodeUnsafe:Is,decode:Ws}}var or=nr,ar=or;const si=st=>{if(st instanceof Uint8Array&&st.constructor.name==="Uint8Array")return st;if(st instanceof ArrayBuffer)return new Uint8Array(st);if(ArrayBuffer.isView(st))return new Uint8Array(st.buffer,st.byteOffset,st.byteLength);throw new Error("Unknown type, must be binary type")},cr=st=>new TextEncoder().encode(st),hr=st=>new TextDecoder().decode(st);class lr{constructor(t,et,ms){this.name=t,this.prefix=et,this.baseEncode=ms}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ur{constructor(t,et,ms){if(this.name=t,this.prefix=et,et.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=et.codePointAt(0),this.baseDecode=ms}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return ri(this,t)}}class dr{constructor(t){this.decoders=t}or(t){return ri(this,t)}decode(t){const et=t[0],ms=this.decoders[et];if(ms)return ms.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(st,t)=>new dr({...st.decoders||{[st.prefix]:st},...t.decoders||{[t.prefix]:t}});class gr{constructor(t,et,ms,ws){this.name=t,this.prefix=et,this.baseEncode=ms,this.baseDecode=ws,this.encoder=new lr(t,et,ms),this.decoder=new ur(t,et,ws)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ee$2=({name:st,prefix:t,encode:et,decode:ms})=>new gr(st,t,et,ms),de$1=({prefix:st,name:t,alphabet:et})=>{const{encode:ms,decode:ws}=ar(et,t);return Ee$2({prefix:st,name:t,encode:ms,decode:vs=>si(ws(vs))})},pr=(st,t,et,ms)=>{const ws={};for(let Rs=0;Rs<t.length;++Rs)ws[t[Rs]]=Rs;let vs=st.length;for(;st[vs-1]==="=";)--vs;const _s=new Uint8Array(vs*et/8|0);let Es=0,Ts=0,Ss=0;for(let Rs=0;Rs<vs;++Rs){const Bs=ws[st[Rs]];if(Bs===void 0)throw new SyntaxError(`Non-${ms} character`);Ts=Ts<<et|Bs,Es+=et,Es>=8&&(Es-=8,_s[Ss++]=255&Ts>>Es)}if(Es>=et||255&Ts<<8-Es)throw new SyntaxError("Unexpected end of data");return _s},yr=(st,t,et)=>{const ms=t[t.length-1]==="=",ws=(1<<et)-1;let vs="",_s=0,Es=0;for(let Ts=0;Ts<st.length;++Ts)for(Es=Es<<8|st[Ts],_s+=8;_s>et;)_s-=et,vs+=t[ws&Es>>_s];if(_s&&(vs+=t[ws&Es<<et-_s]),ms)for(;vs.length*et&7;)vs+="=";return vs},P$1=({name:st,prefix:t,bitsPerChar:et,alphabet:ms})=>Ee$2({prefix:t,name:st,encode(ws){return yr(ws,ms,et)},decode(ws){return pr(ws,ms,et,st)}}),br=Ee$2({prefix:"\0",name:"identity",encode:st=>hr(st),decode:st=>cr(st)});var mr=Object.freeze({__proto__:null,identity:br});const fr=P$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Dr=Object.freeze({__proto__:null,base2:fr});const vr=P$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wr=Object.freeze({__proto__:null,base8:vr});const _r=de$1({prefix:"9",name:"base10",alphabet:"0123456789"});var Er=Object.freeze({__proto__:null,base10:_r});const Ir=P$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Tr=P$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Cr=Object.freeze({__proto__:null,base16:Ir,base16upper:Tr});const Pr=P$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Sr=P$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Or=P$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rr=P$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ar=P$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),xr=P$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Nr=P$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$r=P$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zr=P$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Lr=Object.freeze({__proto__:null,base32:Pr,base32upper:Sr,base32pad:Or,base32padupper:Rr,base32hex:Ar,base32hexupper:xr,base32hexpad:Nr,base32hexpadupper:$r,base32z:zr});const kr=de$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jr=de$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ur=Object.freeze({__proto__:null,base36:kr,base36upper:jr});const Fr=de$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mr=de$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Kr=Object.freeze({__proto__:null,base58btc:Fr,base58flickr:Mr});const Br=P$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vr=P$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qr=P$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Gr=P$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Wr=Object.freeze({__proto__:null,base64:Br,base64pad:Vr,base64url:qr,base64urlpad:Gr});const ni=Array.from("ððªâð°ðððððððððððððâð»ð¥ð¾ð¿ðâ¤ðð¤£ðððð­ðððððð¥ð¥°ðððð¢ð¤ðððªðâºðð¤ððððð¹ð¤¦ððââ¨ð¤·ð±ðð¸ððððððððð¤©ððð¤ðð¯ððð¶ðð¤­â£ððððªðð¥ððð©ð¡ð¤ªðð¥³ð¥ð¤¤ððð³âððð´ðð¬ððð·ð»ðâ­âð¥ºððð¤ð¦âð£ððâ¹ððð âððºðð»ððððð¹ð£ð«ðððµð¤ðð´ð¤ð¼ð«â½ð¤âðð¤«ðð®ðð»ðð¶ðð²ð¿ð§¡ðâ¡ððââðð°ð¤¨ð¶ð¤ð¶ð°ðð¢ð¤ðð¨ð¨ð¤¬âððºð¤ððð±ðð¶ð¥´â¶â¡âðð¸â¬ð¨ðð¦ð·ðºâ ðððµðð¤²ð¤ ð¤§ððµðð§ð¾ððð¤ðð¤¯ð·âð§ð¯ððð¤ððâð´ð£ð¸ððð¥ð¤¢ðð¡ð©ðð¸ð»ð¤ð¤®ð¼ð¥µð©ððð¼ðð£ð¥"),Hr=ni.reduce((st,t,et)=>(st[et]=t,st),[]),Yr=ni.reduce((st,t,et)=>(st[t.codePointAt(0)]=et,st),[]);function Jr(st){return st.reduce((t,et)=>(t+=Hr[et],t),"")}function Xr(st){const t=[];for(const et of st){const ms=Yr[et.codePointAt(0)];if(ms===void 0)throw new Error(`Non-base256emoji character: ${et}`);t.push(ms)}return new Uint8Array(t)}const Zr=Ee$2({prefix:"ð",name:"base256emoji",encode:Jr,decode:Xr});var Qr=Object.freeze({__proto__:null,base256emoji:Zr}),en=ai,oi=128,sn=-128,rn=Math.pow(2,31);function ai(st,t,et){t=t||[],et=et||0;for(var ms=et;st>=rn;)t[et++]=st&255|oi,st/=128;for(;st&sn;)t[et++]=st&255|oi,st>>>=7;return t[et]=st|0,ai.bytes=et-ms+1,t}var nn=Me$2,on=128,ci=127;function Me$2(st,ms){var et=0,ms=ms||0,ws=0,vs=ms,_s,Es=st.length;do{if(vs>=Es)throw Me$2.bytes=0,new RangeError("Could not decode varint");_s=st[vs++],et+=ws<28?(_s&ci)<<ws:(_s&ci)*Math.pow(2,ws),ws+=7}while(_s>=on);return Me$2.bytes=vs-ms,et}var an=Math.pow(2,7),cn=Math.pow(2,14),hn=Math.pow(2,21),ln=Math.pow(2,28),un=Math.pow(2,35),dn=Math.pow(2,42),gn=Math.pow(2,49),pn=Math.pow(2,56),yn=Math.pow(2,63),bn=function(st){return st<an?1:st<cn?2:st<hn?3:st<ln?4:st<un?5:st<dn?6:st<gn?7:st<pn?8:st<yn?9:10},mn={encode:en,decode:nn,encodingLength:bn},hi=mn;const li=(st,t,et=0)=>(hi.encode(st,t,et),t),ui=st=>hi.encodingLength(st),Ke$2=(st,t)=>{const et=t.byteLength,ms=ui(st),ws=ms+ui(et),vs=new Uint8Array(ws+et);return li(st,vs,0),li(et,vs,ms),vs.set(t,ws),new fn(st,et,t,vs)};class fn{constructor(t,et,ms,ws){this.code=t,this.size=et,this.digest=ms,this.bytes=ws}}const di=({name:st,code:t,encode:et})=>new Dn(st,t,et);class Dn{constructor(t,et,ms){this.name=t,this.code=et,this.encode=ms}digest(t){if(t instanceof Uint8Array){const et=this.encode(t);return et instanceof Uint8Array?Ke$2(this.code,et):et.then(ms=>Ke$2(this.code,ms))}else throw Error("Unknown type, must be binary type")}}const gi=st=>async t=>new Uint8Array(await crypto.subtle.digest(st,t)),vn=di({name:"sha2-256",code:18,encode:gi("SHA-256")}),wn=di({name:"sha2-512",code:19,encode:gi("SHA-512")});var _n=Object.freeze({__proto__:null,sha256:vn,sha512:wn});const pi=0,En="identity",yi=si,In=st=>Ke$2(pi,yi(st)),Tn={code:pi,name:En,encode:yi,digest:In};var Cn=Object.freeze({__proto__:null,identity:Tn});new TextEncoder,new TextDecoder;const bi={...mr,...Dr,...wr,...Er,...Cr,...Lr,...Ur,...Kr,...Wr,...Qr};({..._n,...Cn});function mi(st){return globalThis.Buffer!=null?new Uint8Array(st.buffer,st.byteOffset,st.byteLength):st}function Pn(st=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?mi(globalThis.Buffer.allocUnsafe(st)):new Uint8Array(st)}function fi(st,t,et,ms){return{name:st,prefix:t,encoder:{name:st,prefix:t,encode:et},decoder:{decode:ms}}}const Di=fi("utf8","u",st=>"u"+new TextDecoder("utf8").decode(st),st=>new TextEncoder().encode(st.substring(1))),Be$1=fi("ascii","a",st=>{let t="a";for(let et=0;et<st.length;et++)t+=String.fromCharCode(st[et]);return t},st=>{st=st.substring(1);const t=Pn(st.length);for(let et=0;et<st.length;et++)t[et]=st.charCodeAt(et);return t}),Sn={utf8:Di,"utf-8":Di,hex:bi.base16,latin1:Be$1,ascii:Be$1,binary:Be$1,...bi};function On(st,t="utf8"){const et=Sn[t];if(!et)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?mi(globalThis.Buffer.from(st,"utf-8")):et.decoder.decode(`${et.prefix}${st}`)}var Rn=Object.defineProperty,An=(st,t,et)=>t in st?Rn(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,W$1=(st,t,et)=>An(st,typeof t!="symbol"?t+"":t,et);class vi{constructor(t,et){this.core=t,this.logger=et,W$1(this,"keychain",new Map),W$1(this,"name",Pt$1),W$1(this,"version",St$2),W$1(this,"initialized",!1),W$1(this,"storagePrefix",B$1),W$1(this,"init",async()=>{if(!this.initialized){const ms=await this.getKeyChain();typeof ms<"u"&&(this.keychain=ms),this.initialized=!0}}),W$1(this,"has",ms=>(this.isInitialized(),this.keychain.has(ms))),W$1(this,"set",async(ms,ws)=>{this.isInitialized(),this.keychain.set(ms,ws),await this.persist()}),W$1(this,"get",ms=>{this.isInitialized();const ws=this.keychain.get(ms);if(typeof ws>"u"){const{message:vs}=Et$3("NO_MATCHING_KEY",`${this.name}: ${ms}`);throw new Error(vs)}return ws}),W$1(this,"del",async ms=>{this.isInitialized(),this.keychain.delete(ms),await this.persist()}),this.core=t,this.logger=E$3(et,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Ys(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Xs(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}}var xn=Object.defineProperty,Nn=(st,t,et)=>t in st?xn(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,S$1=(st,t,et)=>Nn(st,typeof t!="symbol"?t+"":t,et);class wi{constructor(t,et,ms){this.core=t,this.logger=et,S$1(this,"name",Tt$1),S$1(this,"keychain"),S$1(this,"randomSessionIdentifier",qc()),S$1(this,"initialized",!1),S$1(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),S$1(this,"hasKeys",ws=>(this.isInitialized(),this.keychain.has(ws))),S$1(this,"getClientId",async()=>{this.isInitialized();const ws=await this.getClientSeed(),vs=Po$2(ws);return Qe$3(vs.publicKey)}),S$1(this,"generateKeyPair",()=>{this.isInitialized();const ws=Vc();return this.setPrivateKey(ws.publicKey,ws.privateKey)}),S$1(this,"signJWT",async ws=>{this.isInitialized();const vs=await this.getClientSeed(),_s=Po$2(vs),Es=this.randomSessionIdentifier;return await Qo$1(Es,ws,Ct$1,_s)}),S$1(this,"generateSharedKey",(ws,vs,_s)=>{this.isInitialized();const Es=this.getPrivateKey(ws),Ts=Kc(Es,vs);return this.setSymKey(Ts,_s)}),S$1(this,"setSymKey",async(ws,vs)=>{this.isInitialized();const _s=vs||Fc(ws);return await this.keychain.set(_s,ws),_s}),S$1(this,"deleteKeyPair",async ws=>{this.isInitialized(),await this.keychain.del(ws)}),S$1(this,"deleteSymKey",async ws=>{this.isInitialized(),await this.keychain.del(ws)}),S$1(this,"encode",async(ws,vs,_s)=>{this.isInitialized();const Es=Ho$1(_s),Ts=safeJsonStringify(vs);if(Qc(Es))return Wc(Ts,_s?.encoding);if(Jc(Es)){const Is=Es.senderPublicKey,Ws=Es.receiverPublicKey;ws=await this.generateSharedKey(Is,Ws)}const Ss=this.getSymKey(ws),{type:Rs,senderPublicKey:Bs}=Es;return Gc({type:Rs,symKey:Ss,message:Ts,senderPublicKey:Bs,encoding:_s?.encoding})}),S$1(this,"decode",async(ws,vs,_s)=>{this.isInitialized();const Es=Xc(vs,_s);if(Qc(Es)){const Ts=Yc(vs,_s?.encoding);return safeJsonParse(Ts)}if(Jc(Es)){const Ts=Es.receiverPublicKey,Ss=Es.senderPublicKey;ws=await this.generateSharedKey(Ts,Ss)}try{const Ts=this.getSymKey(ws),Ss=Zc({symKey:Ts,encoded:vs,encoding:_s?.encoding});return safeJsonParse(Ss)}catch(Ts){this.logger.error(`Failed to decode message from topic: '${ws}', clientId: '${await this.getClientId()}'`),this.logger.error(Ts)}}),S$1(this,"getPayloadType",(ws,vs=Qt$2)=>{const _s=Me$3({encoded:ws,encoding:vs});return Vt$2(_s.type)}),S$1(this,"getPayloadSenderPublicKey",(ws,vs=Qt$2)=>{const _s=Me$3({encoded:ws,encoding:vs});return _s.senderPublicKey?toString$1(_s.senderPublicKey,tt):void 0}),this.core=t,this.logger=E$3(et,this.name),this.keychain=ms||new vi(this.core,this.logger)}get context(){return y$3(this.logger)}async setPrivateKey(t,et){return await this.keychain.set(t,et),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(ke$2)}catch{t=qc(),await this.keychain.set(ke$2,t)}return On(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}}var $n=Object.defineProperty,zn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,_i=Object.getOwnPropertySymbols,kn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Ve$1=(st,t,et)=>t in st?$n(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Un=(st,t)=>{for(var et in t||(t={}))kn.call(t,et)&&Ve$1(st,et,t[et]);if(_i)for(var et of _i(t))jn.call(t,et)&&Ve$1(st,et,t[et]);return st},Fn=(st,t)=>zn(st,Ln(t)),k=(st,t,et)=>Ve$1(st,typeof t!="symbol"?t+"":t,et);class Ei extends y$2{constructor(t,et){super(t,et),this.logger=t,this.core=et,k(this,"messages",new Map),k(this,"messagesWithoutClientAck",new Map),k(this,"name",Ot$1),k(this,"version",Rt$1),k(this,"initialized",!1),k(this,"storagePrefix",B$1),k(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const ms=await this.getRelayerMessages();typeof ms<"u"&&(this.messages=ms);const ws=await this.getRelayerMessagesWithoutClientAck();typeof ws<"u"&&(this.messagesWithoutClientAck=ws),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(ms){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(ms)}finally{this.initialized=!0}}}),k(this,"set",async(ms,ws,vs)=>{this.isInitialized();const _s=zc(ws);let Es=this.messages.get(ms);if(typeof Es>"u"&&(Es={}),typeof Es[_s]<"u")return _s;if(Es[_s]=ws,this.messages.set(ms,Es),vs===le$1.inbound){const Ts=this.messagesWithoutClientAck.get(ms)||{};this.messagesWithoutClientAck.set(ms,Fn(Un({},Ts),{[_s]:ws}))}return await this.persist(),_s}),k(this,"get",ms=>{this.isInitialized();let ws=this.messages.get(ms);return typeof ws>"u"&&(ws={}),ws}),k(this,"getWithoutAck",ms=>{this.isInitialized();const ws={};for(const vs of ms){const _s=this.messagesWithoutClientAck.get(vs)||{};ws[vs]=Object.values(_s)}return ws}),k(this,"has",(ms,ws)=>{this.isInitialized();const vs=this.get(ms),_s=zc(ws);return typeof vs[_s]<"u"}),k(this,"ack",async(ms,ws)=>{this.isInitialized();const vs=this.messagesWithoutClientAck.get(ms);if(typeof vs>"u")return;const _s=zc(ws);delete vs[_s],Object.keys(vs).length===0?this.messagesWithoutClientAck.delete(ms):this.messagesWithoutClientAck.set(ms,vs),await this.persist()}),k(this,"del",async ms=>{this.isInitialized(),this.messages.delete(ms),this.messagesWithoutClientAck.delete(ms),await this.persist()}),this.logger=E$3(t,this.name),this.core=et}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Ys(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Ys(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Xs(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?Xs(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Mn=Object.defineProperty,Kn=Object.defineProperties,Bn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable,qe$1=(st,t,et)=>t in st?Mn(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Ie$1=(st,t)=>{for(var et in t||(t={}))Vn.call(t,et)&&qe$1(st,et,t[et]);if(Ii)for(var et of Ii(t))qn.call(t,et)&&qe$1(st,et,t[et]);return st},Ge$1=(st,t)=>Kn(st,Bn(t)),V$1=(st,t,et)=>qe$1(st,typeof t!="symbol"?t+"":t,et);class Gn extends m{constructor(t,et){super(t,et),this.relayer=t,this.logger=et,V$1(this,"events",new eventsExports.EventEmitter),V$1(this,"name",At$1),V$1(this,"queue",new Map),V$1(this,"publishTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_MINUTE)),V$1(this,"initialPublishTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),V$1(this,"needsTransportRestart",!1),V$1(this,"publish",async(ms,ws,vs)=>{var _s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:ms,message:ws,opts:vs}});const Es=vs?.ttl||je$1,Ts=ea(vs),Ss=vs?.prompt||!1,Rs=vs?.tag||0,Bs=vs?.id||getBigIntRpcId().toString(),Is={topic:ms,message:ws,opts:{ttl:Es,relay:Ts,prompt:Ss,tag:Rs,id:Bs,attestation:vs?.attestation,tvf:vs?.tvf}},Ws=`Failed to publish payload, please try again. id:${Bs} tag:${Rs}`;try{const Hs=new Promise(async Ns=>{const Js=({id:pa})=>{Is.opts.id===pa&&(this.removeRequestFromQueue(pa),this.relayer.events.removeListener(C$1.publish,Js),Ns(Is))};this.relayer.events.on(C$1.publish,Js);const ha=ni$1(new Promise((pa,za)=>{this.rpcPublish({topic:ms,message:ws,ttl:Es,prompt:Ss,tag:Rs,id:Bs,attestation:vs?.attestation,tvf:vs?.tvf}).then(pa).catch(Ya=>{this.logger.warn(Ya,Ya?.message),za(Ya)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${Bs} tag:${Rs}`);try{await ha,this.events.removeListener(C$1.publish,Js)}catch(pa){this.queue.set(Bs,Ge$1(Ie$1({},Is),{attempt:1})),this.logger.warn(pa,pa?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:Bs,topic:ms,message:ws,opts:vs}}),await ni$1(Hs,this.publishTimeout,Ws)}catch(Hs){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Hs),(_s=vs?.internal)!=null&&_s.throwOnFailedPublish)throw Hs}finally{this.queue.delete(Bs)}}),V$1(this,"on",(ms,ws)=>{this.events.on(ms,ws)}),V$1(this,"once",(ms,ws)=>{this.events.once(ms,ws)}),V$1(this,"off",(ms,ws)=>{this.events.off(ms,ws)}),V$1(this,"removeListener",(ms,ws)=>{this.events.removeListener(ms,ws)}),this.relayer=t,this.logger=E$3(et,this.name),this.registerEventListeners()}get context(){return y$3(this.logger)}async rpcPublish(t){var et,ms,ws,vs;const{topic:_s,message:Es,ttl:Ts=je$1,prompt:Ss,tag:Rs,id:Bs,attestation:Is,tvf:Ws}=t,Hs={method:na(ea().protocol).publish,params:Ie$1({topic:_s,message:Es,ttl:Ts,prompt:Ss,tag:Rs,attestation:Is},Ws),id:Bs};kt$2((et=Hs.params)==null?void 0:et.prompt)&&((ms=Hs.params)==null||delete ms.prompt),kt$2((ws=Hs.params)==null?void 0:ws.tag)&&((vs=Hs.params)==null||delete vs.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:Hs});const Ns=await this.relayer.request(Hs);return this.relayer.events.emit(C$1.publish,t),this.logger.debug("Successfully Published Payload"),Ns}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,et)=>{const ms=t.attempt+1;this.queue.set(et,Ge$1(Ie$1({},t),{attempt:ms}));const{topic:ws,message:vs,opts:_s,attestation:Es}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${ms}`),await this.rpcPublish(Ge$1(Ie$1({},t),{topic:ws,message:vs,ttl:_s.ttl,prompt:_s.prompt,tag:_s.tag,id:_s.id,attestation:Es,tvf:_s.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$1.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C$1.connection_stalled);return}this.checkQueue()}),this.relayer.on(C$1.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var Wn=Object.defineProperty,Hn=(st,t,et)=>t in st?Wn(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,ne$1=(st,t,et)=>Hn(st,typeof t!="symbol"?t+"":t,et);class Yn{constructor(){ne$1(this,"map",new Map),ne$1(this,"set",(t,et)=>{const ms=this.get(t);this.exists(t,et)||this.map.set(t,[...ms,et])}),ne$1(this,"get",t=>this.map.get(t)||[]),ne$1(this,"exists",(t,et)=>this.get(t).includes(et)),ne$1(this,"delete",(t,et)=>{if(typeof et>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const ms=this.get(t);if(!this.exists(t,et))return;const ws=ms.filter(vs=>vs!==et);if(!ws.length){this.map.delete(t);return}this.map.set(t,ws)}),ne$1(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Jn=Object.defineProperty,Xn=Object.defineProperties,Zn=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Qn=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,We$1=(st,t,et)=>t in st?Jn(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,ge$1=(st,t)=>{for(var et in t||(t={}))Qn.call(t,et)&&We$1(st,et,t[et]);if(Ti)for(var et of Ti(t))eo.call(t,et)&&We$1(st,et,t[et]);return st},He$1=(st,t)=>Xn(st,Zn(t)),f$3=(st,t,et)=>We$1(st,typeof t!="symbol"?t+"":t,et);class Ci extends P$3{constructor(t,et){super(t,et),this.relayer=t,this.logger=et,f$3(this,"subscriptions",new Map),f$3(this,"topicMap",new Yn),f$3(this,"events",new eventsExports.EventEmitter),f$3(this,"name",Ut),f$3(this,"version",Ft),f$3(this,"pending",new Map),f$3(this,"cached",[]),f$3(this,"initialized",!1),f$3(this,"storagePrefix",B$1),f$3(this,"subscribeTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_MINUTE)),f$3(this,"initialSubscribeTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),f$3(this,"clientId"),f$3(this,"batchSubscribeTopicsLimit",500),f$3(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f$3(this,"subscribe",async(ms,ws)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:ms,opts:ws}});try{const vs=ea(ws),_s={topic:ms,relay:vs,transportType:ws?.transportType};this.pending.set(ms,_s);const Es=await this.rpcSubscribe(ms,vs,ws);return typeof Es=="string"&&(this.onSubscribe(Es,_s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:ms,opts:ws}})),Es}catch(vs){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(vs),vs}}),f$3(this,"unsubscribe",async(ms,ws)=>{this.isInitialized(),typeof ws?.id<"u"?await this.unsubscribeById(ms,ws.id,ws):await this.unsubscribeByTopic(ms,ws)}),f$3(this,"isSubscribed",ms=>new Promise(ws=>{ws(this.topicMap.topics.includes(ms))})),f$3(this,"isKnownTopic",ms=>new Promise(ws=>{ws(this.topicMap.topics.includes(ms)||this.pending.has(ms)||this.cached.some(vs=>vs.topic===ms))})),f$3(this,"on",(ms,ws)=>{this.events.on(ms,ws)}),f$3(this,"once",(ms,ws)=>{this.events.once(ms,ws)}),f$3(this,"off",(ms,ws)=>{this.events.off(ms,ws)}),f$3(this,"removeListener",(ms,ws)=>{this.events.removeListener(ms,ws)}),f$3(this,"start",async()=>{await this.onConnect()}),f$3(this,"stop",async()=>{await this.onDisconnect()}),f$3(this,"restart",async()=>{await this.restore(),await this.onRestart()}),f$3(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const ms=[];this.pending.forEach(ws=>{ms.push(ws)}),await this.batchSubscribe(ms)}),f$3(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r$1.pulse,async()=>{await this.checkPending()}),this.events.on($$2.created,async ms=>{const ws=$$2.created;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,data:ms}),await this.persist()}),this.events.on($$2.deleted,async ms=>{const ws=$$2.deleted;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,data:ms}),await this.persist()})}),this.relayer=t,this.logger=E$3(et,this.name),this.clientId=""}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,et){let ms=!1;try{ms=this.getSubscription(t).topic===et}catch{}return ms}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,et){const ms=this.topicMap.get(t);await Promise.all(ms.map(async ws=>await this.unsubscribeById(t,ws,et)))}async unsubscribeById(t,et,ms){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:et,opts:ms}});try{const ws=ea(ms);await this.restartToComplete({topic:t,id:et,relay:ws}),await this.rpcUnsubscribe(t,et,ws);const vs=Kt$2("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,et,vs),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:et,opts:ms}})}catch(ws){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(ws),ws}}async rpcSubscribe(t,et,ms){var ws;(!ms||ms?.transportType===Q$1.relay)&&await this.restartToComplete({topic:t,id:t,relay:et});const vs={method:na(et.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:vs});const _s=(ws=ms?.internal)==null?void 0:ws.throwOnFailedPublish;try{const Es=await this.getSubscriptionId(t);if(ms?.transportType===Q$1.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(vs).catch(Rs=>this.logger.warn(Rs))},cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND)),Es;const Ts=new Promise(async Rs=>{const Bs=Is=>{Is.topic===t&&(this.events.removeListener($$2.created,Bs),Rs(Is.id))};this.events.on($$2.created,Bs);try{const Is=await ni$1(new Promise((Ws,Hs)=>{this.relayer.request(vs).catch(Ns=>{this.logger.warn(Ns,Ns?.message),Hs(Ns)}).then(Ws)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener($$2.created,Bs),Rs(Is)}catch{}}),Ss=await ni$1(Ts,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!Ss&&_s)throw new Error(`Subscribing to ${t} failed, please try again`);return Ss?Es:null}catch(Es){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(C$1.connection_stalled),_s)throw Es}return null}async rpcBatchSubscribe(t){if(!t.length)return;const et=t[0].relay,ms={method:na(et.protocol).batchSubscribe,params:{topics:t.map(ws=>ws.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ms});try{await await ni$1(new Promise(ws=>{this.relayer.request(ms).catch(vs=>this.logger.warn(vs)).then(ws)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(C$1.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const et=t[0].relay,ms={method:na(et.protocol).batchFetchMessages,params:{topics:t.map(vs=>vs.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ms});let ws;try{ws=await await ni$1(new Promise((vs,_s)=>{this.relayer.request(ms).catch(Es=>{this.logger.warn(Es),_s(Es)}).then(vs)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(C$1.connection_stalled)}return ws}rpcUnsubscribe(t,et,ms){const ws={method:na(ms.protocol).unsubscribe,params:{topic:t,id:et}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ws}),this.relayer.request(ws)}onSubscribe(t,et){this.setSubscription(t,He$1(ge$1({},et),{id:t})),this.pending.delete(et.topic)}onBatchSubscribe(t){t.length&&t.forEach(et=>{this.setSubscription(et.id,ge$1({},et)),this.pending.delete(et.topic)})}async onUnsubscribe(t,et,ms){this.events.removeAllListeners(et),this.hasSubscription(et,t)&&this.deleteSubscription(et,ms),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,et){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:et}),this.addSubscription(t,et)}addSubscription(t,et){this.subscriptions.set(t,ge$1({},et)),this.topicMap.set(et.topic,t),this.events.emit($$2.created,et)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const et=this.subscriptions.get(t);if(!et){const{message:ms}=Et$3("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(ms)}return et}deleteSubscription(t,et){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:et});const ms=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(ms.topic,t),this.events.emit($$2.deleted,He$1(ge$1({},ms),{reason:et}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($$2.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],et=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let ms=0;ms<et;ms++){const ws=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(ws)}}this.events.emit($$2.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:et}=Et$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(et)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async et=>He$1(ge$1({},et),{id:await this.getSubscriptionId(et.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const et=await this.rpcBatchFetchMessages(t);et&&et.messages&&(await pi$1(cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(et.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return zc(t+await this.getClientId())}}var to=Object.defineProperty,Pi=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye$1=(st,t,et)=>t in st?to(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Si=(st,t)=>{for(var et in t||(t={}))io.call(t,et)&&Ye$1(st,et,t[et]);if(Pi)for(var et of Pi(t))so.call(t,et)&&Ye$1(st,et,t[et]);return st},y$1=(st,t,et)=>Ye$1(st,typeof t!="symbol"?t+"":t,et);class Oi extends d$2{constructor(t){super(t),y$1(this,"protocol","wc"),y$1(this,"version",2),y$1(this,"core"),y$1(this,"logger"),y$1(this,"events",new eventsExports.EventEmitter),y$1(this,"provider"),y$1(this,"messages"),y$1(this,"subscriber"),y$1(this,"publisher"),y$1(this,"name",$t$1),y$1(this,"transportExplicitlyClosed",!1),y$1(this,"initialized",!1),y$1(this,"connectionAttemptInProgress",!1),y$1(this,"relayUrl"),y$1(this,"projectId"),y$1(this,"packageName"),y$1(this,"bundleId"),y$1(this,"hasExperiencedNetworkDisruption",!1),y$1(this,"pingTimeout"),y$1(this,"heartBeatTimeout",cjsExports$3.toMiliseconds(cjsExports$3.THIRTY_SECONDS+cjsExports$3.FIVE_SECONDS)),y$1(this,"reconnectTimeout"),y$1(this,"connectPromise"),y$1(this,"reconnectInProgress",!1),y$1(this,"requestsInFlight",[]),y$1(this,"connectTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),y$1(this,"request",async et=>{var ms,ws;this.logger.debug("Publishing Request Payload");const vs=et.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:vs,method:et.method,topic:(ms=et.params)==null?void 0:ms.topic},"relayer.request - publishing...");const _s=`${vs}:${((ws=et.params)==null?void 0:ws.tag)||""}`;this.requestsInFlight.push(_s);const Es=await this.provider.request(et);return this.requestsInFlight=this.requestsInFlight.filter(Ts=>Ts!==_s),Es}catch(_s){throw this.logger.debug(`Failed to Publish Request: ${vs}`),_s}}),y$1(this,"resetPingTimeout",()=>{Ye$2()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var et,ms,ws,vs;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(vs=(ws=(ms=(et=this.provider)==null?void 0:et.connection)==null?void 0:ms.socket)==null?void 0:ws.terminate)==null||vs.call(ws)}catch(_s){this.logger.warn(_s,_s?.message)}},this.heartBeatTimeout))}),y$1(this,"onPayloadHandler",et=>{this.onProviderPayload(et),this.resetPingTimeout()}),y$1(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected ð"),this.startPingTimeout(),this.events.emit(C$1.connect)}),y$1(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected ð"),this.requestsInFlight=[],this.onProviderDisconnect()}),y$1(this,"onProviderErrorHandler",et=>{this.logger.fatal(`Fatal socket error: ${et.message}`),this.events.emit(C$1.error,et),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),y$1(this,"registerProviderListeners",()=>{this.provider.on(L$2.payload,this.onPayloadHandler),this.provider.on(L$2.connect,this.onConnectHandler),this.provider.on(L$2.disconnect,this.onDisconnectHandler),this.provider.on(L$2.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?E$3(t.logger,this.name):qt$3(k$3({level:t.logger||Nt$1})),this.messages=new Ei(this.logger,t.core),this.subscriber=new Ci(this,this.logger),this.publisher=new Gn(this,this.logger),this.relayUrl=t?.relayUrl||Ue$1,this.projectId=t.projectId,Ms$1()?this.packageName=qs():Vs$1()&&(this.bundleId=qs()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return y$3(this.logger)}get connected(){var t,et,ms;return((ms=(et=(t=this.provider)==null?void 0:t.connection)==null?void 0:et.socket)==null?void 0:ms.readyState)===1||!1}get connecting(){var t,et,ms;return((ms=(et=(t=this.provider)==null?void 0:t.connection)==null?void 0:et.socket)==null?void 0:ms.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,et,ms){this.isInitialized(),await this.publisher.publish(t,et,ms),await this.recordMessageEvent({topic:t,message:et,publishedAt:Date.now(),transportType:Q$1.relay},le$1.outbound)}async subscribe(t,et){var ms,ws,vs;this.isInitialized(),(!(et!=null&&et.transportType)||et?.transportType==="relay")&&await this.toEstablishConnection();const _s=typeof((ms=et?.internal)==null?void 0:ms.throwOnFailedPublish)>"u"?!0:(ws=et?.internal)==null?void 0:ws.throwOnFailedPublish;let Es=((vs=this.subscriber.topicMap.get(t))==null?void 0:vs[0])||"",Ts;const Ss=Rs=>{Rs.topic===t&&(this.subscriber.off($$2.created,Ss),Ts())};return await Promise.all([new Promise(Rs=>{Ts=Rs,this.subscriber.on($$2.created,Ss)}),new Promise(async(Rs,Bs)=>{Es=await this.subscriber.subscribe(t,Si({internal:{throwOnFailedPublish:_s}},et)).catch(Is=>{_s&&Bs(Is)})||Es,Rs()})]),Es}async unsubscribe(t,et){this.isInitialized(),await this.subscriber.unsubscribe(t,et)}on(t,et){this.events.on(t,et)}once(t,et){this.events.once(t,et)}off(t,et){this.events.off(t,et)}removeListener(t,et){this.events.removeListener(t,et)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ni$1(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(et,ms)=>{await this.connect(t).then(et).catch(ms).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ja())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const et=t.sort((ms,ws)=>ms.publishedAt-ws.publishedAt);this.logger.debug(`Batch of ${et.length} message events sorted`);for(const ms of et)try{await this.onMessageEvent(ms)}catch(ws){this.logger.warn(ws,"Error while processing batch message event: "+ws?.message)}this.logger.trace(`Batch of ${et.length} message events processed`)}async onLinkMessageEvent(t,et){const{topic:ms}=t;if(!et.sessionExists){const ws=ii$1(cjsExports$3.FIVE_MINUTES),vs={topic:ms,expiry:ws,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(ms,vs)}this.events.emit(C$1.message,t),await this.recordMessageEvent(t,le$1.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let et=1;for(;et<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${et}...`),await this.createProvider(),await new Promise(async(ms,ws)=>{const vs=()=>{ws(new Error("Connection interrupted while trying to connect"))};this.provider.once(L$2.disconnect,vs),await ni$1(new Promise((_s,Es)=>{this.provider.connect().then(_s).catch(Es)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(_s=>{ws(_s)}).finally(()=>{this.provider.off(L$2.disconnect,vs),clearTimeout(this.reconnectTimeout)}),await new Promise(async(_s,Es)=>{const Ts=()=>{ws(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(L$2.disconnect,Ts),await this.subscriber.start().then(_s).catch(Es).finally(()=>{this.provider.off(L$2.disconnect,Ts)})}),this.hasExperiencedNetworkDisruption=!1,ms()})}catch(ms){await this.subscriber.stop();const ws=ms;this.logger.warn({},ws.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${et}`);break}await new Promise(ms=>setTimeout(ms,cjsExports$3.toMiliseconds(et*1))),et++}}startPingTimeout(){var t,et,ms,ws,vs;if(Ye$2())try{(et=(t=this.provider)==null?void 0:t.connection)!=null&&et.socket&&((vs=(ws=(ms=this.provider)==null?void 0:ms.connection)==null?void 0:ws.socket)==null||vs.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(_s){this.logger.warn(_s,_s?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$1(new f$4(zs({sdkVersion:_e$2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,et){const{topic:ms,message:ws}=t;await this.messages.set(ms,ws,et)}async shouldIgnoreMessageEvent(t){const{topic:et,message:ms}=t;if(!ms||ms.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${ms}`),!0;if(!await this.subscriber.isKnownTopic(et))return this.logger.warn(`Ignoring message for unknown topic ${et}`),!0;const ws=this.messages.has(et,ms);return ws&&this.logger.warn(`Ignoring duplicate message: ${ms}`),ws}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),isJsonRpcRequest(t)){if(!t.method.endsWith(zt$1))return;const et=t.params,{topic:ms,message:ws,publishedAt:vs,attestation:_s}=et.data,Es={topic:ms,message:ws,publishedAt:vs,transportType:Q$1.relay,attestation:_s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Si({type:"event",event:et.id},Es)),this.events.emit(et.id,Es),await this.acknowledgePayload(t),await this.onMessageEvent(Es)}else isJsonRpcResponse(t)&&this.events.emit(C$1.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,le$1.inbound),this.events.emit(C$1.message,t))}async acknowledgePayload(t){const et=formatJsonRpcResult(t.id,!0);await this.provider.connection.send(et)}unregisterProviderListeners(){this.provider.off(L$2.payload,this.onPayloadHandler),this.provider.off(L$2.connect,this.onConnectHandler),this.provider.off(L$2.disconnect,this.onDisconnectHandler),this.provider.off(L$2.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await ja();ka(async et=>{t!==et&&(t=et,et?await this.transportOpen().catch(ms=>this.logger.error(ms,ms?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(r$1.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Pa())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(et){this.logger.warn(et,et?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C$1.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},cjsExports$3.toMiliseconds(Lt$1)))))}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ro(st,t){return st===t||Number.isNaN(st)&&Number.isNaN(t)}function Ri(st){return Object.getOwnPropertySymbols(st).filter(t=>Object.prototype.propertyIsEnumerable.call(st,t))}function Ai(st){return st==null?st===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(st)}const no="[object RegExp]",oo="[object String]",ao="[object Number]",co="[object Boolean]",xi="[object Arguments]",ho="[object Symbol]",lo="[object Date]",uo="[object Map]",go="[object Set]",po="[object Array]",yo="[object Function]",bo="[object ArrayBuffer]",Je$1="[object Object]",mo="[object Error]",fo="[object DataView]",Do="[object Uint8Array]",vo="[object Uint8ClampedArray]",wo="[object Uint16Array]",_o="[object Uint32Array]",Eo="[object BigUint64Array]",Io="[object Int8Array]",To="[object Int16Array]",Co="[object Int32Array]",Po="[object BigInt64Array]",So="[object Float32Array]",Oo="[object Float64Array]";function Ro(){}function Ni(st){if(!st||typeof st!="object")return!1;const t=Object.getPrototypeOf(st);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(st)==="[object Object]":!1}function Ao(st,t,et){return pe$1(st,t,void 0,void 0,void 0,void 0,et)}function pe$1(st,t,et,ms,ws,vs,_s){const Es=_s(st,t,et,ms,ws,vs);if(Es!==void 0)return Es;if(typeof st==typeof t)switch(typeof st){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return st===t;case"number":return st===t||Object.is(st,t);case"function":return st===t;case"object":return ye$1(st,t,vs,_s)}return ye$1(st,t,vs,_s)}function ye$1(st,t,et,ms){if(Object.is(st,t))return!0;let ws=Ai(st),vs=Ai(t);if(ws===xi&&(ws=Je$1),vs===xi&&(vs=Je$1),ws!==vs)return!1;switch(ws){case oo:return st.toString()===t.toString();case ao:{const Ts=st.valueOf(),Ss=t.valueOf();return ro(Ts,Ss)}case co:case lo:case ho:return Object.is(st.valueOf(),t.valueOf());case no:return st.source===t.source&&st.flags===t.flags;case yo:return st===t}et=et??new Map;const _s=et.get(st),Es=et.get(t);if(_s!=null&&Es!=null)return _s===t;et.set(st,t),et.set(t,st);try{switch(ws){case uo:{if(st.size!==t.size)return!1;for(const[Ts,Ss]of st.entries())if(!t.has(Ts)||!pe$1(Ss,t.get(Ts),Ts,st,t,et,ms))return!1;return!0}case go:{if(st.size!==t.size)return!1;const Ts=Array.from(st.values()),Ss=Array.from(t.values());for(let Rs=0;Rs<Ts.length;Rs++){const Bs=Ts[Rs],Is=Ss.findIndex(Ws=>pe$1(Bs,Ws,void 0,st,t,et,ms));if(Is===-1)return!1;Ss.splice(Is,1)}return!0}case po:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:case So:case Oo:{if(typeof Buffer<"u"&&Buffer.isBuffer(st)!==Buffer.isBuffer(t)||st.length!==t.length)return!1;for(let Ts=0;Ts<st.length;Ts++)if(!pe$1(st[Ts],t[Ts],Ts,st,t,et,ms))return!1;return!0}case bo:return st.byteLength!==t.byteLength?!1:ye$1(new Uint8Array(st),new Uint8Array(t),et,ms);case fo:return st.byteLength!==t.byteLength||st.byteOffset!==t.byteOffset?!1:ye$1(new Uint8Array(st),new Uint8Array(t),et,ms);case mo:return st.name===t.name&&st.message===t.message;case Je$1:{if(!(ye$1(st.constructor,t.constructor,et,ms)||Ni(st)&&Ni(t)))return!1;const Ts=[...Object.keys(st),...Ri(st)],Ss=[...Object.keys(t),...Ri(t)];if(Ts.length!==Ss.length)return!1;for(let Rs=0;Rs<Ts.length;Rs++){const Bs=Ts[Rs],Is=st[Bs];if(!Object.hasOwn(t,Bs))return!1;const Ws=t[Bs];if(!pe$1(Is,Ws,Bs,st,t,et,ms))return!1}return!0}default:return!1}}finally{et.delete(st),et.delete(t)}}function xo(st,t){return Ao(st,t,Ro)}var No=Object.defineProperty,$i=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable,Xe$1=(st,t,et)=>t in st?No(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,zi=(st,t)=>{for(var et in t||(t={}))$o.call(t,et)&&Xe$1(st,et,t[et]);if($i)for(var et of $i(t))zo.call(t,et)&&Xe$1(st,et,t[et]);return st},z=(st,t,et)=>Xe$1(st,typeof t!="symbol"?t+"":t,et);class Li extends f$5{constructor(t,et,ms,ws=B$1,vs=void 0){super(t,et,ms,ws),this.core=t,this.logger=et,this.name=ms,z(this,"map",new Map),z(this,"version",kt$1),z(this,"cached",[]),z(this,"initialized",!1),z(this,"getKey"),z(this,"storagePrefix",B$1),z(this,"recentlyDeleted",[]),z(this,"recentlyDeletedLimit",200),z(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(_s=>{this.getKey&&_s!==null&&!kt$2(_s)?this.map.set(this.getKey(_s),_s):wa(_s)?this.map.set(_s.id,_s):xa(_s)&&this.map.set(_s.topic,_s)}),this.cached=[],this.initialized=!0)}),z(this,"set",async(_s,Es)=>{this.isInitialized(),this.map.has(_s)?await this.update(_s,Es):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:_s,value:Es}),this.map.set(_s,Es),await this.persist())}),z(this,"get",_s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:_s}),this.getData(_s))),z(this,"getAll",_s=>(this.isInitialized(),_s?this.values.filter(Es=>Object.keys(_s).every(Ts=>xo(Es[Ts],_s[Ts]))):this.values)),z(this,"update",async(_s,Es)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:_s,update:Es});const Ts=zi(zi({},this.getData(_s)),Es);this.map.set(_s,Ts),await this.persist()}),z(this,"delete",async(_s,Es)=>{this.isInitialized(),this.map.has(_s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:_s,reason:Es}),this.map.delete(_s),this.addToRecentlyDeleted(_s),await this.persist())}),this.logger=E$3(et,this.name),this.storagePrefix=ws,this.getKey=vs}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const et=this.map.get(t);if(!et){if(this.recentlyDeleted.includes(t)){const{message:ws}=Et$3("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(ws),new Error(ws)}const{message:ms}=Et$3("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(ms),new Error(ms)}return et}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:et}=Et$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),new Error(et)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Lo=Object.defineProperty,ko=(st,t,et)=>t in st?Lo(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,p$1=(st,t,et)=>ko(st,typeof t!="symbol"?t+"":t,et);class ki{constructor(t,et){this.core=t,this.logger=et,p$1(this,"name",Mt$1),p$1(this,"version",Kt$1),p$1(this,"events",new Ut$3),p$1(this,"pairings"),p$1(this,"initialized",!1),p$1(this,"storagePrefix",B$1),p$1(this,"ignoredPayloadTypes",[ee$1]),p$1(this,"registeredMethods",[]),p$1(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),p$1(this,"register",({methods:ms})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...ms])]}),p$1(this,"create",async ms=>{this.isInitialized();const ws=qc(),vs=await this.core.crypto.setSymKey(ws),_s=ii$1(cjsExports$3.FIVE_MINUTES),Es={protocol:xt$1},Ts={topic:vs,expiry:_s,relay:Es,active:!1,methods:ms?.methods},Ss=oa({protocol:this.core.protocol,version:this.core.version,topic:vs,symKey:ws,relay:Es,expiryTimestamp:_s,methods:ms?.methods});return this.events.emit(re$1.create,Ts),this.core.expirer.set(vs,_s),await this.pairings.set(vs,Ts),await this.core.relayer.subscribe(vs,{transportType:ms?.transportType}),{topic:vs,uri:Ss}}),p$1(this,"pair",async ms=>{this.isInitialized();const ws=this.core.eventClient.createEvent({properties:{topic:ms?.uri,trace:[G$1.pairing_started]}});this.isValidPair(ms,ws);const{topic:vs,symKey:_s,relay:Es,expiryTimestamp:Ts,methods:Ss}=ra(ms.uri);ws.props.properties.topic=vs,ws.addTrace(G$1.pairing_uri_validation_success),ws.addTrace(G$1.pairing_uri_not_expired);let Rs;if(this.pairings.keys.includes(vs)){if(Rs=this.pairings.get(vs),ws.addTrace(G$1.existing_pairing),Rs.active)throw ws.setError(Y$1.active_pairing_already_exists),new Error(`Pairing already exists: ${vs}. Please try again with a new connection URI.`);ws.addTrace(G$1.pairing_not_expired)}const Bs=Ts||ii$1(cjsExports$3.FIVE_MINUTES),Is={topic:vs,relay:Es,expiry:Bs,active:!1,methods:Ss};this.core.expirer.set(vs,Bs),await this.pairings.set(vs,Is),ws.addTrace(G$1.store_new_pairing),ms.activatePairing&&await this.activate({topic:vs}),this.events.emit(re$1.create,Is),ws.addTrace(G$1.emit_inactive_pairing),this.core.crypto.keychain.has(vs)||await this.core.crypto.setSymKey(_s,vs),ws.addTrace(G$1.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{ws.setError(Y$1.no_internet_connection)}try{await this.core.relayer.subscribe(vs,{relay:Es})}catch(Ws){throw ws.setError(Y$1.subscribe_pairing_topic_failure),Ws}return ws.addTrace(G$1.subscribe_pairing_topic_success),Is}),p$1(this,"activate",async({topic:ms})=>{this.isInitialized();const ws=ii$1(cjsExports$3.FIVE_MINUTES);this.core.expirer.set(ms,ws),await this.pairings.update(ms,{active:!0,expiry:ws})}),p$1(this,"ping",async ms=>{this.isInitialized(),await this.isValidPing(ms),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:ws}=ms;if(this.pairings.keys.includes(ws)){const vs=await this.sendRequest(ws,"wc_pairingPing",{}),{done:_s,resolve:Es,reject:Ts}=ei$1();this.events.once(ci$1("pairing_ping",vs),({error:Ss})=>{Ss?Ts(Ss):Es()}),await _s()}}),p$1(this,"updateExpiry",async({topic:ms,expiry:ws})=>{this.isInitialized(),await this.pairings.update(ms,{expiry:ws})}),p$1(this,"updateMetadata",async({topic:ms,metadata:ws})=>{this.isInitialized(),await this.pairings.update(ms,{peerMetadata:ws})}),p$1(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),p$1(this,"disconnect",async ms=>{this.isInitialized(),await this.isValidDisconnect(ms);const{topic:ws}=ms;this.pairings.keys.includes(ws)&&(await this.sendRequest(ws,"wc_pairingDelete",Kt$2("USER_DISCONNECTED")),await this.deletePairing(ws))}),p$1(this,"formatUriFromPairing",ms=>{this.isInitialized();const{topic:ws,relay:vs,expiry:_s,methods:Es}=ms,Ts=this.core.crypto.keychain.get(ws);return oa({protocol:this.core.protocol,version:this.core.version,topic:ws,symKey:Ts,relay:vs,expiryTimestamp:_s,methods:Es})}),p$1(this,"sendRequest",async(ms,ws,vs)=>{const _s=formatJsonRpcRequest(ws,vs),Es=await this.core.crypto.encode(ms,_s),Ts=se$1[ws].req;return this.core.history.set(ms,_s),this.core.relayer.publish(ms,Es,Ts),_s.id}),p$1(this,"sendResult",async(ms,ws,vs)=>{const _s=formatJsonRpcResult(ms,vs),Es=await this.core.crypto.encode(ws,_s),Ts=(await this.core.history.get(ws,ms)).request.method,Ss=se$1[Ts].res;await this.core.relayer.publish(ws,Es,Ss),await this.core.history.resolve(_s)}),p$1(this,"sendError",async(ms,ws,vs)=>{const _s=formatJsonRpcError(ms,vs),Es=await this.core.crypto.encode(ws,_s),Ts=(await this.core.history.get(ws,ms)).request.method,Ss=se$1[Ts]?se$1[Ts].res:se$1.unregistered_method.res;await this.core.relayer.publish(ws,Es,Ss),await this.core.history.resolve(_s)}),p$1(this,"deletePairing",async(ms,ws)=>{await this.core.relayer.unsubscribe(ms),await Promise.all([this.pairings.delete(ms,Kt$2("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(ms),ws?Promise.resolve():this.core.expirer.del(ms)])}),p$1(this,"cleanup",async()=>{const ms=this.pairings.getAll().filter(ws=>fi$1(ws.expiry));await Promise.all(ms.map(ws=>this.deletePairing(ws.topic)))}),p$1(this,"onRelayEventRequest",async ms=>{const{topic:ws,payload:vs}=ms;switch(vs.method){case"wc_pairingPing":return await this.onPairingPingRequest(ws,vs);case"wc_pairingDelete":return await this.onPairingDeleteRequest(ws,vs);default:return await this.onUnknownRpcMethodRequest(ws,vs)}}),p$1(this,"onRelayEventResponse",async ms=>{const{topic:ws,payload:vs}=ms,_s=(await this.core.history.get(ws,vs.id)).request.method;switch(_s){case"wc_pairingPing":return this.onPairingPingResponse(ws,vs);default:return this.onUnknownRpcMethodResponse(_s)}}),p$1(this,"onPairingPingRequest",async(ms,ws)=>{const{id:vs}=ws;try{this.isValidPing({topic:ms}),await this.sendResult(vs,ms,!0),this.events.emit(re$1.ping,{id:vs,topic:ms})}catch(_s){await this.sendError(vs,ms,_s),this.logger.error(_s)}}),p$1(this,"onPairingPingResponse",(ms,ws)=>{const{id:vs}=ws;setTimeout(()=>{isJsonRpcResult(ws)?this.events.emit(ci$1("pairing_ping",vs),{}):isJsonRpcError(ws)&&this.events.emit(ci$1("pairing_ping",vs),{error:ws.error})},500)}),p$1(this,"onPairingDeleteRequest",async(ms,ws)=>{const{id:vs}=ws;try{this.isValidDisconnect({topic:ms}),await this.deletePairing(ms),this.events.emit(re$1.delete,{id:vs,topic:ms})}catch(_s){await this.sendError(vs,ms,_s),this.logger.error(_s)}}),p$1(this,"onUnknownRpcMethodRequest",async(ms,ws)=>{const{id:vs,method:_s}=ws;try{if(this.registeredMethods.includes(_s))return;const Es=Kt$2("WC_METHOD_UNSUPPORTED",_s);await this.sendError(vs,ms,Es),this.logger.error(Es)}catch(Es){await this.sendError(vs,ms,Es),this.logger.error(Es)}}),p$1(this,"onUnknownRpcMethodResponse",ms=>{this.registeredMethods.includes(ms)||this.logger.error(Kt$2("WC_METHOD_UNSUPPORTED",ms))}),p$1(this,"isValidPair",(ms,ws)=>{var vs;if(!Aa(ms)){const{message:Es}=Et$3("MISSING_OR_INVALID",`pair() params: ${ms}`);throw ws.setError(Y$1.malformed_pairing_uri),new Error(Es)}if(!ma(ms.uri)){const{message:Es}=Et$3("MISSING_OR_INVALID",`pair() uri: ${ms.uri}`);throw ws.setError(Y$1.malformed_pairing_uri),new Error(Es)}const _s=ra(ms?.uri);if(!((vs=_s?.relay)!=null&&vs.protocol)){const{message:Es}=Et$3("MISSING_OR_INVALID","pair() uri#relay-protocol");throw ws.setError(Y$1.malformed_pairing_uri),new Error(Es)}if(!(_s!=null&&_s.symKey)){const{message:Es}=Et$3("MISSING_OR_INVALID","pair() uri#symKey");throw ws.setError(Y$1.malformed_pairing_uri),new Error(Es)}if(_s!=null&&_s.expiryTimestamp&&cjsExports$3.toMiliseconds(_s?.expiryTimestamp)<Date.now()){ws.setError(Y$1.pairing_expired);const{message:Es}=Et$3("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(Es)}}),p$1(this,"isValidPing",async ms=>{if(!Aa(ms)){const{message:vs}=Et$3("MISSING_OR_INVALID",`ping() params: ${ms}`);throw new Error(vs)}const{topic:ws}=ms;await this.isValidPairingTopic(ws)}),p$1(this,"isValidDisconnect",async ms=>{if(!Aa(ms)){const{message:vs}=Et$3("MISSING_OR_INVALID",`disconnect() params: ${ms}`);throw new Error(vs)}const{topic:ws}=ms;await this.isValidPairingTopic(ws)}),p$1(this,"isValidPairingTopic",async ms=>{if(!it(ms,!1)){const{message:ws}=Et$3("MISSING_OR_INVALID",`pairing topic should be a string: ${ms}`);throw new Error(ws)}if(!this.pairings.keys.includes(ms)){const{message:ws}=Et$3("NO_MATCHING_KEY",`pairing topic doesn't exist: ${ms}`);throw new Error(ws)}if(fi$1(this.pairings.get(ms).expiry)){await this.deletePairing(ms);const{message:ws}=Et$3("EXPIRED",`pairing topic: ${ms}`);throw new Error(ws)}}),this.core=t,this.logger=E$3(et,this.name),this.pairings=new Li(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$3(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(C$1.message,async t=>{const{topic:et,message:ms,transportType:ws}=t;if(this.pairings.keys.includes(et)&&ws!==Q$1.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(ms)))try{const vs=await this.core.crypto.decode(et,ms);isJsonRpcRequest(vs)?(this.core.history.set(et,vs),await this.onRelayEventRequest({topic:et,payload:vs})):isJsonRpcResponse(vs)&&(await this.core.history.resolve(vs),await this.onRelayEventResponse({topic:et,payload:vs}),this.core.history.delete(et,vs.id)),await this.core.relayer.messages.ack(et,ms)}catch(vs){this.logger.error(vs)}})}registerExpirerEvents(){this.core.expirer.on(M$1.expired,async t=>{const{topic:et}=si$1(t.target);et&&this.pairings.keys.includes(et)&&(await this.deletePairing(et,!0),this.events.emit(re$1.expire,{topic:et}))})}}var jo=Object.defineProperty,Uo=(st,t,et)=>t in st?jo(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,O$2=(st,t,et)=>Uo(st,typeof t!="symbol"?t+"":t,et);class ji extends I$2{constructor(t,et){super(t,et),this.core=t,this.logger=et,O$2(this,"records",new Map),O$2(this,"events",new eventsExports.EventEmitter),O$2(this,"name",Bt$1),O$2(this,"version",Vt$1),O$2(this,"cached",[]),O$2(this,"initialized",!1),O$2(this,"storagePrefix",B$1),O$2(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ms=>this.records.set(ms.id,ms)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),O$2(this,"set",(ms,ws,vs)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:ms,request:ws,chainId:vs}),this.records.has(ws.id))return;const _s={id:ws.id,topic:ms,request:{method:ws.method,params:ws.params||null},chainId:vs,expiry:ii$1(cjsExports$3.THIRTY_DAYS)};this.records.set(_s.id,_s),this.persist(),this.events.emit(F.created,_s)}),O$2(this,"resolve",async ms=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:ms}),!this.records.has(ms.id))return;const ws=await this.getRecord(ms.id);typeof ws.response>"u"&&(ws.response=isJsonRpcError(ms)?{error:ms.error}:{result:ms.result},this.records.set(ws.id,ws),this.persist(),this.events.emit(F.updated,ws))}),O$2(this,"get",async(ms,ws)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:ms,id:ws}),await this.getRecord(ws))),O$2(this,"delete",(ms,ws)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:ws}),this.values.forEach(vs=>{if(vs.topic===ms){if(typeof ws<"u"&&vs.id!==ws)return;this.records.delete(vs.id),this.events.emit(F.deleted,vs)}}),this.persist()}),O$2(this,"exists",async(ms,ws)=>(this.isInitialized(),this.records.has(ws)?(await this.getRecord(ws)).topic===ms:!1)),O$2(this,"on",(ms,ws)=>{this.events.on(ms,ws)}),O$2(this,"once",(ms,ws)=>{this.events.once(ms,ws)}),O$2(this,"off",(ms,ws)=>{this.events.off(ms,ws)}),O$2(this,"removeListener",(ms,ws)=>{this.events.removeListener(ms,ws)}),this.logger=E$3(et,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(et=>{if(typeof et.response<"u")return;const ms={topic:et.topic,request:formatJsonRpcRequest(et.request.method,et.request.params,et.id),chainId:et.chainId};return t.push(ms)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const et=this.records.get(t);if(!et){const{message:ms}=Et$3("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(ms)}return et}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:et}=Et$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),new Error(et)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(F.created,t=>{const et=F.created;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,record:t})}),this.events.on(F.updated,t=>{const et=F.updated;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,record:t})}),this.events.on(F.deleted,t=>{const et=F.deleted;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,record:t})}),this.core.heartbeat.on(r$1.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(et=>{cjsExports$3.toMiliseconds(et.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${et.id}`),this.records.delete(et.id),this.events.emit(F.deleted,et,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Fo=Object.defineProperty,Mo=(st,t,et)=>t in st?Fo(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,A$1=(st,t,et)=>Mo(st,typeof t!="symbol"?t+"":t,et);class Ui extends S$2{constructor(t,et){super(t,et),this.core=t,this.logger=et,A$1(this,"expirations",new Map),A$1(this,"events",new eventsExports.EventEmitter),A$1(this,"name",qt),A$1(this,"version",Gt$1),A$1(this,"cached",[]),A$1(this,"initialized",!1),A$1(this,"storagePrefix",B$1),A$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ms=>this.expirations.set(ms.target,ms)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),A$1(this,"has",ms=>{try{const ws=this.formatTarget(ms);return typeof this.getExpiration(ws)<"u"}catch{return!1}}),A$1(this,"set",(ms,ws)=>{this.isInitialized();const vs=this.formatTarget(ms),_s={target:vs,expiry:ws};this.expirations.set(vs,_s),this.checkExpiry(vs,_s),this.events.emit(M$1.created,{target:vs,expiration:_s})}),A$1(this,"get",ms=>{this.isInitialized();const ws=this.formatTarget(ms);return this.getExpiration(ws)}),A$1(this,"del",ms=>{if(this.isInitialized(),this.has(ms)){const ws=this.formatTarget(ms),vs=this.getExpiration(ws);this.expirations.delete(ws),this.events.emit(M$1.deleted,{target:ws,expiration:vs})}}),A$1(this,"on",(ms,ws)=>{this.events.on(ms,ws)}),A$1(this,"once",(ms,ws)=>{this.events.once(ms,ws)}),A$1(this,"off",(ms,ws)=>{this.events.off(ms,ws)}),A$1(this,"removeListener",(ms,ws)=>{this.events.removeListener(ms,ws)}),this.logger=E$3(et,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return ri$1(t);if(typeof t=="number")return oi$1(t);const{message:et}=Et$3("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(et)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M$1.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:et}=Et$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),new Error(et)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const et=this.expirations.get(t);if(!et){const{message:ms}=Et$3("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(ms),new Error(ms)}return et}checkExpiry(t,et){const{expiry:ms}=et;cjsExports$3.toMiliseconds(ms)-Date.now()<=0&&this.expire(t,et)}expire(t,et){this.expirations.delete(t),this.events.emit(M$1.expired,{target:t,expiration:et})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,et)=>this.checkExpiry(et,t))}registerEventListeners(){this.core.heartbeat.on(r$1.pulse,()=>this.checkExpirations()),this.events.on(M$1.created,t=>{const et=M$1.created;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:t}),this.persist()}),this.events.on(M$1.expired,t=>{const et=M$1.expired;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:t}),this.persist()}),this.events.on(M$1.deleted,t=>{const et=M$1.deleted;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Ko=Object.defineProperty,Bo=(st,t,et)=>t in st?Ko(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,w$1=(st,t,et)=>Bo(st,typeof t!="symbol"?t+"":t,et);class Fi extends M$4{constructor(t,et,ms){super(t,et,ms),this.core=t,this.logger=et,this.store=ms,w$1(this,"name",Wt$1),w$1(this,"abortController"),w$1(this,"isDevEnv"),w$1(this,"verifyUrlV3",Yt$1),w$1(this,"storagePrefix",B$1),w$1(this,"version",Le$2),w$1(this,"publicKey"),w$1(this,"fetchPromise"),w$1(this,"init",async()=>{var ws;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjsExports$3.toMiliseconds((ws=this.publicKey)==null?void 0:ws.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),w$1(this,"register",async ws=>{if(!zt$2()||this.isDevEnv)return;const vs=window.location.origin,{id:_s,decryptedId:Es}=ws,Ts=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${vs}&id=${_s}&decryptedId=${Es}`;try{const Ss=cjsExports$2.getDocument(),Rs=this.startAbortTimer(cjsExports$3.ONE_SECOND*5),Bs=await new Promise((Is,Ws)=>{const Hs=()=>{window.removeEventListener("message",Js),Ss.body.removeChild(Ns),Ws("attestation aborted")};this.abortController.signal.addEventListener("abort",Hs);const Ns=Ss.createElement("iframe");Ns.src=Ts,Ns.style.display="none",Ns.addEventListener("error",Hs,{signal:this.abortController.signal});const Js=ha=>{if(ha.data&&typeof ha.data=="string")try{const pa=JSON.parse(ha.data);if(pa.type==="verify_attestation"){if(sn$2(pa.attestation).payload.id!==_s)return;clearInterval(Rs),Ss.body.removeChild(Ns),this.abortController.signal.removeEventListener("abort",Hs),window.removeEventListener("message",Js),Is(pa.attestation===null?"":pa.attestation)}}catch(pa){this.logger.warn(pa)}};Ss.body.appendChild(Ns),window.addEventListener("message",Js,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",Bs),Bs}catch(Ss){this.logger.warn(Ss)}return""}),w$1(this,"resolve",async ws=>{if(this.isDevEnv)return"";const{attestationId:vs,hash:_s,encryptedId:Es}=ws;if(vs===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(vs){if(sn$2(vs).payload.id!==Es)return;const Ss=await this.isValidJwtAttestation(vs);if(Ss){if(!Ss.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return Ss}}if(!_s)return;const Ts=this.getVerifyUrl(ws?.verifyUrl);return this.fetchAttestation(_s,Ts)}),w$1(this,"fetchAttestation",async(ws,vs)=>{this.logger.debug(`resolving attestation: ${ws} from url: ${vs}`);const _s=this.startAbortTimer(cjsExports$3.ONE_SECOND*5),Es=await fetch(`${vs}/attestation/${ws}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(_s),Es.status===200?await Es.json():void 0}),w$1(this,"getVerifyUrl",ws=>{let vs=ws||ue$1;return Jt$1.includes(vs)||(this.logger.info(`verify url: ${vs}, not included in trusted list, assigning default: ${ue$1}`),vs=ue$1),vs}),w$1(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const ws=this.startAbortTimer(cjsExports$3.FIVE_SECONDS),vs=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(ws),await vs.json()}catch(ws){this.logger.warn(ws)}}),w$1(this,"persistPublicKey",async ws=>{this.logger.debug("persisting public key to local storage",ws),await this.store.setItem(this.storeKey,ws),this.publicKey=ws}),w$1(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),w$1(this,"isValidJwtAttestation",async ws=>{const vs=await this.getPublicKey();try{if(vs)return this.validateAttestation(ws,vs)}catch(Es){this.logger.error(Es),this.logger.warn("error validating attestation")}const _s=await this.fetchAndPersistPublicKey();try{if(_s)return this.validateAttestation(ws,_s)}catch(Es){this.logger.error(Es),this.logger.warn("error validating attestation")}}),w$1(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w$1(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async vs=>{const _s=await this.fetchPublicKey();_s&&(await this.persistPublicKey(_s),vs(_s))});const ws=await this.fetchPromise;return this.fetchPromise=void 0,ws}),w$1(this,"validateAttestation",(ws,vs)=>{const _s=ta(ws,vs.publicKey),Es={hasExpired:cjsExports$3.toMiliseconds(_s.exp)<Date.now(),payload:_s};if(Es.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:Es.payload.origin,isScam:Es.payload.isScam,isVerified:Es.payload.isVerified}}),this.logger=E$3(et,this.name),this.abortController=new AbortController,this.isDevEnv=hi$1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$3(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjsExports$3.toMiliseconds(t))}}var Vo=Object.defineProperty,qo=(st,t,et)=>t in st?Vo(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Mi=(st,t,et)=>qo(st,typeof t!="symbol"?t+"":t,et);class Ki extends O$3{constructor(t,et){super(t,et),this.projectId=t,this.logger=et,Mi(this,"context",Xt$1),Mi(this,"registerDeviceToken",async ms=>{const{clientId:ws,token:vs,notificationType:_s,enableEncrypted:Es=!1}=ms,Ts=`${Zt$1}/${this.projectId}/clients`;await fetch(Ts,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ws,type:_s,token:vs,always_raw:Es})})}),this.logger=E$3(et,this.context)}}var Go=Object.defineProperty,Bi=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,Ze$1=(st,t,et)=>t in st?Go(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,be$1=(st,t)=>{for(var et in t||(t={}))Wo.call(t,et)&&Ze$1(st,et,t[et]);if(Bi)for(var et of Bi(t))Ho.call(t,et)&&Ze$1(st,et,t[et]);return st},E$2=(st,t,et)=>Ze$1(st,typeof t!="symbol"?t+"":t,et);class Vi extends R$1{constructor(t,et,ms=!0){super(t,et,ms),this.core=t,this.logger=et,E$2(this,"context",ei),E$2(this,"storagePrefix",B$1),E$2(this,"storageVersion",Qt$1),E$2(this,"events",new Map),E$2(this,"shouldPersist",!1),E$2(this,"init",async()=>{if(!hi$1())try{const ws={eventId:di$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:cr$1(this.core.relayer.protocol,this.core.relayer.version,_e$2)}}};await this.sendEvent([ws])}catch(ws){this.logger.warn(ws)}}),E$2(this,"createEvent",ws=>{const{event:vs="ERROR",type:_s="",properties:{topic:Es,trace:Ts}}=ws,Ss=di$1(),Rs=this.core.projectId||"",Bs=Date.now(),Is=be$1({eventId:Ss,timestamp:Bs,props:{event:vs,type:_s,properties:{topic:Es,trace:Ts}},bundleId:Rs,domain:this.getAppDomain()},this.setMethods(Ss));return this.telemetryEnabled&&(this.events.set(Ss,Is),this.shouldPersist=!0),Is}),E$2(this,"getEvent",ws=>{const{eventId:vs,topic:_s}=ws;if(vs)return this.events.get(vs);const Es=Array.from(this.events.values()).find(Ts=>Ts.props.properties.topic===_s);if(Es)return be$1(be$1({},Es),this.setMethods(Es.eventId))}),E$2(this,"deleteEvent",ws=>{const{eventId:vs}=ws;this.events.delete(vs),this.shouldPersist=!0}),E$2(this,"setEventListeners",()=>{this.core.heartbeat.on(r$1.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(ws=>{cjsExports$3.fromMiliseconds(Date.now())-cjsExports$3.fromMiliseconds(ws.timestamp)>ti&&(this.events.delete(ws.eventId),this.shouldPersist=!0)})})}),E$2(this,"setMethods",ws=>({addTrace:vs=>this.addTrace(ws,vs),setError:vs=>this.setError(ws,vs)})),E$2(this,"addTrace",(ws,vs)=>{const _s=this.events.get(ws);_s&&(_s.props.properties.trace.push(vs),this.events.set(ws,_s),this.shouldPersist=!0)}),E$2(this,"setError",(ws,vs)=>{const _s=this.events.get(ws);_s&&(_s.props.type=vs,_s.timestamp=Date.now(),this.events.set(ws,_s),this.shouldPersist=!0)}),E$2(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),E$2(this,"restore",async()=>{try{const ws=await this.core.storage.getItem(this.storageKey)||[];if(!ws.length)return;ws.forEach(vs=>{this.events.set(vs.eventId,be$1(be$1({},vs),this.setMethods(vs.eventId)))})}catch(ws){this.logger.warn(ws)}}),E$2(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const ws=[];for(const[vs,_s]of this.events)_s.props.type&&ws.push(_s);if(ws.length!==0)try{if((await this.sendEvent(ws)).ok)for(const vs of ws)this.events.delete(vs.eventId),this.shouldPersist=!0}catch(vs){this.logger.warn(vs)}}),E$2(this,"sendEvent",async ws=>{const vs=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e$2}${vs}`,{method:"POST",body:JSON.stringify(ws)})}),E$2(this,"getAppDomain",()=>sr$1().url),this.logger=E$3(et,this.context),this.telemetryEnabled=ms,ms?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Yo=Object.defineProperty,qi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Qe$1=(st,t,et)=>t in st?Yo(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Gi=(st,t)=>{for(var et in t||(t={}))Jo.call(t,et)&&Qe$1(st,et,t[et]);if(qi)for(var et of qi(t))Xo.call(t,et)&&Qe$1(st,et,t[et]);return st},v$1=(st,t,et)=>Qe$1(st,typeof t!="symbol"?t+"":t,et);let Te$1=class ld extends h$2{constructor(t){var et;super(t),v$1(this,"protocol",ze$1),v$1(this,"version",Le$2),v$1(this,"name",he$1),v$1(this,"relayUrl"),v$1(this,"projectId"),v$1(this,"customStoragePrefix"),v$1(this,"events",new eventsExports.EventEmitter),v$1(this,"logger"),v$1(this,"heartbeat"),v$1(this,"relayer"),v$1(this,"crypto"),v$1(this,"storage"),v$1(this,"history"),v$1(this,"expirer"),v$1(this,"pairing"),v$1(this,"verify"),v$1(this,"echoClient"),v$1(this,"linkModeSupportedApps"),v$1(this,"eventClient"),v$1(this,"initialized",!1),v$1(this,"logChunkController"),v$1(this,"on",(Es,Ts)=>this.events.on(Es,Ts)),v$1(this,"once",(Es,Ts)=>this.events.once(Es,Ts)),v$1(this,"off",(Es,Ts)=>this.events.off(Es,Ts)),v$1(this,"removeListener",(Es,Ts)=>this.events.removeListener(Es,Ts)),v$1(this,"dispatchEnvelope",({topic:Es,message:Ts,sessionExists:Ss})=>{if(!Es||!Ts)return;const Rs={topic:Es,message:Ts,publishedAt:Date.now(),transportType:Q$1.link_mode};this.relayer.onLinkMessageEvent(Rs,{sessionExists:Ss})});const ms=this.getGlobalCore(t?.customStoragePrefix);if(ms)try{return this.customStoragePrefix=ms.customStoragePrefix,this.logger=ms.logger,this.heartbeat=ms.heartbeat,this.crypto=ms.crypto,this.history=ms.history,this.expirer=ms.expirer,this.storage=ms.storage,this.relayer=ms.relayer,this.pairing=ms.pairing,this.verify=ms.verify,this.echoClient=ms.echoClient,this.linkModeSupportedApps=ms.linkModeSupportedApps,this.eventClient=ms.eventClient,this.initialized=ms.initialized,this.logChunkController=ms.logChunkController,ms}catch(Es){console.warn("Failed to copy global core",Es)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||Ue$1,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const ws=k$3({level:typeof t?.logger=="string"&&t.logger?t.logger:Et$2.logger,name:he$1}),{logger:vs,chunkLoggerController:_s}=A$2({opts:ws,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=_s,(et=this.logChunkController)!=null&&et.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var Es,Ts;(Es=this.logChunkController)!=null&&Es.downloadLogsBlobInBrowser&&((Ts=this.logChunkController)==null||Ts.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$3(vs,this.name),this.heartbeat=new i$2,this.crypto=new wi(this,this.logger,t?.keychain),this.history=new ji(this,this.logger),this.expirer=new Ui(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new h$3(Gi(Gi({},It$1),t?.storageOptions)),this.relayer=new Oi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ki(this,this.logger),this.verify=new Fi(this,this.logger,this.storage),this.echoClient=new Ki(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Vi(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const et=new ld(t);await et.initialize();const ms=await et.crypto.getClientId();return await et.storage.setItem(jt,ms),et}get context(){return y$3(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Fe$1,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Fe$1)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const et=`_walletConnectCore_${t}`,ms=`${et}_count`;return globalThis[ms]=(globalThis[ms]||0)+1,globalThis[ms]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[ms]} times.`),globalThis[et]}catch(et){console.warn("Failed to get global WalletConnect core",et);return}}setGlobalCore(t){var et;try{if(this.isGlobalCoreDisabled())return;const ms=`_walletConnectCore_${((et=t.opts)==null?void 0:et.customStoragePrefix)||""}`;globalThis[ms]=t}catch(ms){console.warn("Failed to set global WalletConnect core",ms)}}isGlobalCoreDisabled(){try{return typeof process$1<"u"&&define_process_env_default.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Zo=Te$1,Ce$1="wc",ke$1=2,De$1="client",me$1=`${Ce$1}@${ke$1}:${De$1}:`,we$1={name:De$1,logger:"error"},Le$1="WALLETCONNECT_DEEPLINK_CHOICE",ht$1="proposal",Me$1="Proposal expired",dt$1="session",X$1=cjsExports$3.SEVEN_DAYS,ut$1="engine",N$1={wc_sessionPropose:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjsExports$3.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjsExports$3.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjsExports$3.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:!1,tag:1119}}},_e$1={min:cjsExports$3.FIVE_MINUTES,max:cjsExports$3.SEVEN_DAYS},$$1={idle:"IDLE",active:"ACTIVE"},gt$1={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},yt$1="request",mt$1=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],wt$1="wc",_t="auth",Et$1="authKeys",ft$1="pairingTopics",St$1="requests",ae$1=`${wt$1}@${1.5}:${_t}:`,ce$1=`${ae$1}:PUB_KEY`;var Os=Object.defineProperty,bs=Object.defineProperties,As=Object.getOwnPropertyDescriptors,Rt=Object.getOwnPropertySymbols,xs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,$e$1=(st,t,et)=>t in st?Os(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,I$1=(st,t)=>{for(var et in t||(t={}))xs.call(t,et)&&$e$1(st,et,t[et]);if(Rt)for(var et of Rt(t))Vs.call(t,et)&&$e$1(st,et,t[et]);return st},x$1=(st,t)=>bs(st,As(t)),c$1=(st,t,et)=>$e$1(st,typeof t!="symbol"?t+"":t,et);class Cs extends V$2{constructor(t){super(t),c$1(this,"name",ut$1),c$1(this,"events",new Ut$3),c$1(this,"initialized",!1),c$1(this,"requestQueue",{state:$$1.idle,queue:[]}),c$1(this,"sessionRequestQueue",{state:$$1.idle,queue:[]}),c$1(this,"emittedSessionRequests",new gi$1({limit:500})),c$1(this,"requestQueueDelay",cjsExports$3.ONE_SECOND),c$1(this,"expectedPairingMethodMap",new Map),c$1(this,"recentlyDeletedMap",new Map),c$1(this,"recentlyDeletedLimit",200),c$1(this,"relayMessageCache",[]),c$1(this,"pendingSessions",new Map),c$1(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N$1)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjsExports$3.toMiliseconds(this.requestQueueDelay)))}),c$1(this,"connect",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const ms=x$1(I$1({},et),{requiredNamespaces:et.requiredNamespaces||{},optionalNamespaces:et.optionalNamespaces||{}});await this.isValidConnect(ms),ms.optionalNamespaces=ba(ms.requiredNamespaces,ms.optionalNamespaces),ms.requiredNamespaces={};const{pairingTopic:ws,requiredNamespaces:vs,optionalNamespaces:_s,sessionProperties:Es,scopedProperties:Ts,relays:Ss}=ms;let Rs=ws,Bs,Is=!1;try{if(Rs){const Qa=this.client.core.pairing.pairings.get(Rs);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),Is=Qa.active}}catch(Qa){throw this.client.logger.error(`connect() -> pairing.get(${Rs}) failed`),Qa}if(!Rs||!Is){const{topic:Qa,uri:tu}=await this.client.core.pairing.create();Rs=Qa,Bs=tu}if(!Rs){const{message:Qa}=Et$3("NO_MATCHING_KEY",`connect() pairing topic: ${Rs}`);throw new Error(Qa)}const Ws=await this.client.core.crypto.generateKeyPair(),Hs=N$1.wc_sessionPropose.req.ttl||cjsExports$3.FIVE_MINUTES,Ns=ii$1(Hs),Js=x$1(I$1(I$1({requiredNamespaces:vs,optionalNamespaces:_s,relays:Ss??[{protocol:xt$1}],proposer:{publicKey:Ws,metadata:this.client.metadata},expiryTimestamp:Ns,pairingTopic:Rs},Es&&{sessionProperties:Es}),Ts&&{scopedProperties:Ts}),{id:payloadId()}),ha=ci$1("session_connect",Js.id),{reject:pa,resolve:za,done:Ya}=ei$1(Hs,Me$1),Bc=({id:Qa})=>{Qa===Js.id&&(this.client.events.off("proposal_expire",Bc),this.pendingSessions.delete(Js.id),this.events.emit(ha,{error:{message:Me$1,code:0}}))};return this.client.events.on("proposal_expire",Bc),this.events.once(ha,({error:Qa,session:tu})=>{this.client.events.off("proposal_expire",Bc),Qa?pa(Qa):tu&&za(tu)}),await this.sendRequest({topic:Rs,method:"wc_sessionPropose",params:Js,throwOnFailedPublish:!0,clientRpcId:Js.id}),await this.setProposal(Js.id,Js),{uri:Bs,approval:Ya}}),c$1(this,"pair",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(et)}catch(ms){throw this.client.logger.error("pair() failed"),ms}}),c$1(this,"approve",async et=>{var ms,ws,vs;const _s=this.client.core.eventClient.createEvent({properties:{topic:(ms=et?.id)==null?void 0:ms.toString(),trace:[tr.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(ru){throw _s.setError(ir.no_internet_connection),ru}try{await this.isValidProposalId(et?.id)}catch(ru){throw this.client.logger.error(`approve() -> proposal.get(${et?.id}) failed`),_s.setError(ir.proposal_not_found),ru}try{await this.isValidApprove(et)}catch(ru){throw this.client.logger.error("approve() -> isValidApprove() failed"),_s.setError(ir.session_approve_namespace_validation_failure),ru}const{id:Es,relayProtocol:Ts,namespaces:Ss,sessionProperties:Rs,scopedProperties:Bs,sessionConfig:Is}=et,Ws=this.client.proposal.get(Es);this.client.core.eventClient.deleteEvent({eventId:_s.eventId});const{pairingTopic:Hs,proposer:Ns,requiredNamespaces:Js,optionalNamespaces:ha}=Ws;let pa=(ws=this.client.core.eventClient)==null?void 0:ws.getEvent({topic:Hs});pa||(pa=(vs=this.client.core.eventClient)==null?void 0:vs.createEvent({type:tr.session_approve_started,properties:{topic:Hs,trace:[tr.session_approve_started,tr.session_namespaces_validation_success]}}));const za=await this.client.core.crypto.generateKeyPair(),Ya=Ns.publicKey,Bc=await this.client.core.crypto.generateSharedKey(za,Ya),Qa=I$1(I$1(I$1({relay:{protocol:Ts??"irn"},namespaces:Ss,controller:{publicKey:za,metadata:this.client.metadata},expiry:ii$1(X$1)},Rs&&{sessionProperties:Rs}),Bs&&{scopedProperties:Bs}),Is&&{sessionConfig:Is}),tu=Q$1.relay;pa.addTrace(tr.subscribing_session_topic);try{await this.client.core.relayer.subscribe(Bc,{transportType:tu})}catch(ru){throw pa.setError(ir.subscribe_session_topic_failure),ru}pa.addTrace(tr.subscribe_session_topic_success);const eu=x$1(I$1({},Qa),{topic:Bc,requiredNamespaces:Js,optionalNamespaces:ha,pairingTopic:Hs,acknowledged:!1,self:Qa.controller,peer:{publicKey:Ns.publicKey,metadata:Ns.metadata},controller:za,transportType:Q$1.relay});await this.client.session.set(Bc,eu),pa.addTrace(tr.store_session);try{pa.addTrace(tr.publishing_session_settle),await this.sendRequest({topic:Bc,method:"wc_sessionSettle",params:Qa,throwOnFailedPublish:!0}).catch(ru=>{throw pa?.setError(ir.session_settle_publish_failure),ru}),pa.addTrace(tr.session_settle_publish_success),pa.addTrace(tr.publishing_session_approve),await this.sendResult({id:Es,topic:Hs,result:{relay:{protocol:Ts??"irn"},responderPublicKey:za},throwOnFailedPublish:!0}).catch(ru=>{throw pa?.setError(ir.session_approve_publish_failure),ru}),pa.addTrace(tr.session_approve_publish_success)}catch(ru){throw this.client.logger.error(ru),this.client.session.delete(Bc,Kt$2("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(Bc),ru}return this.client.core.eventClient.deleteEvent({eventId:pa.eventId}),await this.client.core.pairing.updateMetadata({topic:Hs,metadata:Ns.metadata}),await this.deleteProposal(Es),await this.client.core.pairing.activate({topic:Hs}),await this.setExpiry(Bc,ii$1(X$1)),{topic:Bc,acknowledged:()=>Promise.resolve(this.client.session.get(Bc))}}),c$1(this,"reject",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(et)}catch(_s){throw this.client.logger.error("reject() -> isValidReject() failed"),_s}const{id:ms,reason:ws}=et;let vs;try{vs=this.client.proposal.get(ms).pairingTopic}catch(_s){throw this.client.logger.error(`reject() -> proposal.get(${ms}) failed`),_s}vs&&await this.sendError({id:ms,topic:vs,error:ws,rpcOpts:N$1.wc_sessionPropose.reject}),await this.deleteProposal(ms)}),c$1(this,"update",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(et)}catch(Bs){throw this.client.logger.error("update() -> isValidUpdate() failed"),Bs}const{topic:ms,namespaces:ws}=et,{done:vs,resolve:_s,reject:Es}=ei$1(),Ts=payloadId(),Ss=getBigIntRpcId().toString(),Rs=this.client.session.get(ms).namespaces;return this.events.once(ci$1("session_update",Ts),({error:Bs})=>{Bs?Es(Bs):_s()}),await this.client.session.update(ms,{namespaces:ws}),await this.sendRequest({topic:ms,method:"wc_sessionUpdate",params:{namespaces:ws},throwOnFailedPublish:!0,clientRpcId:Ts,relayRpcId:Ss}).catch(Bs=>{this.client.logger.error(Bs),this.client.session.update(ms,{namespaces:Rs}),Es(Bs)}),{acknowledged:vs}}),c$1(this,"extend",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(et)}catch(Ts){throw this.client.logger.error("extend() -> isValidExtend() failed"),Ts}const{topic:ms}=et,ws=payloadId(),{done:vs,resolve:_s,reject:Es}=ei$1();return this.events.once(ci$1("session_extend",ws),({error:Ts})=>{Ts?Es(Ts):_s()}),await this.setExpiry(ms,ii$1(X$1)),this.sendRequest({topic:ms,method:"wc_sessionExtend",params:{},clientRpcId:ws,throwOnFailedPublish:!0}).catch(Ts=>{Es(Ts)}),{acknowledged:vs}}),c$1(this,"request",async et=>{this.isInitialized();try{await this.isValidRequest(et)}catch(Js){throw this.client.logger.error("request() -> isValidRequest() failed"),Js}const{chainId:ms,request:ws,topic:vs,expiry:_s=N$1.wc_sessionRequest.req.ttl}=et,Es=this.client.session.get(vs);Es?.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const Ts=payloadId(),Ss=getBigIntRpcId().toString(),{done:Rs,resolve:Bs,reject:Is}=ei$1(_s,"Request expired. Please try again.");this.events.once(ci$1("session_request",Ts),({error:Js,result:ha})=>{Js?Is(Js):Bs(ha)});const Ws="wc_sessionRequest",Hs=this.getAppLinkIfEnabled(Es.peer.metadata,Es.transportType);if(Hs)return await this.sendRequest({clientRpcId:Ts,relayRpcId:Ss,topic:vs,method:Ws,params:{request:x$1(I$1({},ws),{expiryTimestamp:ii$1(_s)}),chainId:ms},expiry:_s,throwOnFailedPublish:!0,appLink:Hs}).catch(Js=>Is(Js)),this.client.events.emit("session_request_sent",{topic:vs,request:ws,chainId:ms,id:Ts}),await Rs();const Ns={request:x$1(I$1({},ws),{expiryTimestamp:ii$1(_s)}),chainId:ms};return await Promise.all([new Promise(async Js=>{await this.sendRequest({clientRpcId:Ts,relayRpcId:Ss,topic:vs,method:Ws,params:Ns,expiry:_s,throwOnFailedPublish:!0,tvf:this.getTVFParams(Ts,Ns)}).catch(ha=>Is(ha)),this.client.events.emit("session_request_sent",{topic:vs,request:ws,chainId:ms,id:Ts}),Js()}),new Promise(async Js=>{var ha;if(!((ha=Es.sessionConfig)!=null&&ha.disableDeepLink)){const pa=await ui$1(this.client.core.storage,Le$1);await ai$1({id:Ts,topic:vs,wcDeepLink:pa})}Js()}),Rs()]).then(Js=>Js[2])}),c$1(this,"respond",async et=>{this.isInitialized(),await this.isValidRespond(et);const{topic:ms,response:ws}=et,{id:vs}=ws,_s=this.client.session.get(ms);_s.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const Es=this.getAppLinkIfEnabled(_s.peer.metadata,_s.transportType);isJsonRpcResult(ws)?await this.sendResult({id:vs,topic:ms,result:ws.result,throwOnFailedPublish:!0,appLink:Es}):isJsonRpcError(ws)&&await this.sendError({id:vs,topic:ms,error:ws.error,appLink:Es}),this.cleanupAfterResponse(et)}),c$1(this,"ping",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(et)}catch(ws){throw this.client.logger.error("ping() -> isValidPing() failed"),ws}const{topic:ms}=et;if(this.client.session.keys.includes(ms)){const ws=payloadId(),vs=getBigIntRpcId().toString(),{done:_s,resolve:Es,reject:Ts}=ei$1();this.events.once(ci$1("session_ping",ws),({error:Ss})=>{Ss?Ts(Ss):Es()}),await Promise.all([this.sendRequest({topic:ms,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:ws,relayRpcId:vs}),_s()])}else this.client.core.pairing.pairings.keys.includes(ms)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:ms}))}),c$1(this,"emit",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(et);const{topic:ms,event:ws,chainId:vs}=et,_s=getBigIntRpcId().toString(),Es=payloadId();await this.sendRequest({topic:ms,method:"wc_sessionEvent",params:{event:ws,chainId:vs},throwOnFailedPublish:!0,relayRpcId:_s,clientRpcId:Es})}),c$1(this,"disconnect",async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(et);const{topic:ms}=et;if(this.client.session.keys.includes(ms))await this.sendRequest({topic:ms,method:"wc_sessionDelete",params:Kt$2("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:ms,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(ms))await this.client.core.pairing.disconnect({topic:ms});else{const{message:ws}=Et$3("MISMATCHED_TOPIC",`Session or pairing topic not found: ${ms}`);throw new Error(ws)}}),c$1(this,"find",et=>(this.isInitialized(),this.client.session.getAll().filter(ms=>ya(ms,et)))),c$1(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),c$1(this,"authenticate",async(et,ms)=>{var ws;this.isInitialized(),this.isValidAuthenticate(et);const vs=ms&&this.client.core.linkModeSupportedApps.includes(ms)&&((ws=this.client.metadata.redirect)==null?void 0:ws.linkMode),_s=vs?Q$1.link_mode:Q$1.relay;_s===Q$1.relay&&await this.confirmOnlineStateOrThrow();const{chains:Es,statement:Ts="",uri:Ss,domain:Rs,nonce:Bs,type:Is,exp:Ws,nbf:Hs,methods:Ns=[],expiry:Js}=et,ha=[...et.resources||[]],{topic:pa,uri:za}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:_s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:pa,uri:za}});const Ya=await this.client.core.crypto.generateKeyPair(),Bc=Fc(Ya);if(await Promise.all([this.client.auth.authKeys.set(ce$1,{responseTopic:Bc,publicKey:Ya}),this.client.auth.pairingTopics.set(Bc,{topic:Bc,pairingTopic:pa})]),await this.client.core.relayer.subscribe(Bc,{transportType:_s}),this.client.logger.info(`sending request to new pairing topic: ${pa}`),Ns.length>0){const{namespace:au}=Fe$2(Es[0]);let nu=Ef(au,"request",Ns);Oe$1(ha)&&(nu=Bf(nu,ha.pop())),ha.push(nu)}const Qa=Js&&Js>N$1.wc_sessionAuthenticate.req.ttl?Js:N$1.wc_sessionAuthenticate.req.ttl,tu={authPayload:{type:Is??"caip122",chains:Es,statement:Ts,aud:Ss,domain:Rs,version:"1",nonce:Bs,iat:new Date().toISOString(),exp:Ws,nbf:Hs,resources:ha},requester:{publicKey:Ya,metadata:this.client.metadata},expiryTimestamp:ii$1(Qa)},eu={eip155:{chains:Es,methods:[...new Set(["personal_sign",...Ns])],events:["chainChanged","accountsChanged"]}},ru={requiredNamespaces:{},optionalNamespaces:eu,relays:[{protocol:"irn"}],pairingTopic:pa,proposer:{publicKey:Ya,metadata:this.client.metadata},expiryTimestamp:ii$1(N$1.wc_sessionPropose.req.ttl),id:payloadId()},{done:cu,resolve:ou,reject:Ga}=ei$1(Qa,"Request expired"),Xa=payloadId(),Fa=ci$1("session_connect",ru.id),Zs=ci$1("session_request",Xa),Wa=async({error:au,session:nu})=>{this.events.off(Zs,Za),au?Ga(au):nu&&ou({session:nu})},Za=async au=>{var nu,uu,fu;if(await this.deletePendingAuthRequest(Xa,{message:"fulfilled",code:0}),au.error){const Tu=Kt$2("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return au.error.code===Tu.code?void 0:(this.events.off(Fa,Wa),Ga(au.error.message))}await this.deleteProposal(ru.id),this.events.off(Fa,Wa);const{cacaos:hu,responder:Eu}=au.result,$u=[],Ou=[];for(const Tu of hu){await yf({cacao:Tu,projectId:this.client.core.projectId})||(this.client.logger.error(Tu,"Signature verification failed"),Ga(Kt$2("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:du}=Tu,wu=Oe$1(du.resources),Ru=[Vr$1(du.iss)],Ku=dn$1(du.iss);if(wu){const Zu=If(wu),tl=Af(wu);$u.push(...Zu),Ru.push(...tl)}for(const Zu of Ru)Ou.push(`${Zu}:${Ku}`)}const gu=await this.client.core.crypto.generateSharedKey(Ya,Eu.publicKey);let yu;$u.length>0&&(yu={topic:gu,acknowledged:!0,self:{publicKey:Ya,metadata:this.client.metadata},peer:Eu,controller:Eu.publicKey,expiry:ii$1(X$1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:pa,namespaces:ga([...new Set($u)],[...new Set(Ou)]),transportType:_s},await this.client.core.relayer.subscribe(gu,{transportType:_s}),await this.client.session.set(gu,yu),pa&&await this.client.core.pairing.updateMetadata({topic:pa,metadata:Eu.metadata}),yu=this.client.session.get(gu)),(nu=this.client.metadata.redirect)!=null&&nu.linkMode&&(uu=Eu.metadata.redirect)!=null&&uu.linkMode&&(fu=Eu.metadata.redirect)!=null&&fu.universal&&ms&&(this.client.core.addLinkModeSupportedApp(Eu.metadata.redirect.universal),this.client.session.update(gu,{transportType:Q$1.link_mode})),ou({auths:hu,session:yu})};this.events.once(Fa,Wa),this.events.once(Zs,Za);let iu;try{if(vs){const au=formatJsonRpcRequest("wc_sessionAuthenticate",tu,Xa);this.client.core.history.set(pa,au);const nu=await this.client.core.crypto.encode("",au,{type:ge$2,encoding:De$2});iu=sa(ms,pa,nu)}else await Promise.all([this.sendRequest({topic:pa,method:"wc_sessionAuthenticate",params:tu,expiry:et.expiry,throwOnFailedPublish:!0,clientRpcId:Xa}),this.sendRequest({topic:pa,method:"wc_sessionPropose",params:ru,expiry:N$1.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:ru.id})])}catch(au){throw this.events.off(Fa,Wa),this.events.off(Zs,Za),au}return await this.setProposal(ru.id,ru),await this.setAuthRequest(Xa,{request:x$1(I$1({},tu),{verifyContext:{}}),pairingTopic:pa,transportType:_s}),{uri:iu??za,response:cu}}),c$1(this,"approveSessionAuthenticate",async et=>{const{id:ms,auths:ws}=et,vs=this.client.core.eventClient.createEvent({properties:{topic:ms.toString(),trace:[sr.authenticated_session_approve_started]}});try{this.isInitialized()}catch(Js){throw vs.setError(rr.no_internet_connection),Js}const _s=this.getPendingAuthRequest(ms);if(!_s)throw vs.setError(rr.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${ms}`);const Es=_s.transportType||Q$1.relay;Es===Q$1.relay&&await this.confirmOnlineStateOrThrow();const Ts=_s.requester.publicKey,Ss=await this.client.core.crypto.generateKeyPair(),Rs=Fc(Ts),Bs={type:ee$1,receiverPublicKey:Ts,senderPublicKey:Ss},Is=[],Ws=[];for(const Js of ws){if(!await yf({cacao:Js,projectId:this.client.core.projectId})){vs.setError(rr.invalid_cacao);const Bc=Kt$2("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:ms,topic:Rs,error:Bc,encodeOpts:Bs}),new Error(Bc.message)}vs.addTrace(sr.cacaos_verified);const{p:ha}=Js,pa=Oe$1(ha.resources),za=[Vr$1(ha.iss)],Ya=dn$1(ha.iss);if(pa){const Bc=If(pa),Qa=Af(pa);Is.push(...Bc),za.push(...Qa)}for(const Bc of za)Ws.push(`${Bc}:${Ya}`)}const Hs=await this.client.core.crypto.generateSharedKey(Ss,Ts);vs.addTrace(sr.create_authenticated_session_topic);let Ns;if(Is?.length>0){Ns={topic:Hs,acknowledged:!0,self:{publicKey:Ss,metadata:this.client.metadata},peer:{publicKey:Ts,metadata:_s.requester.metadata},controller:Ts,expiry:ii$1(X$1),authentication:ws,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_s.pairingTopic,namespaces:ga([...new Set(Is)],[...new Set(Ws)]),transportType:Es},vs.addTrace(sr.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(Hs,{transportType:Es})}catch(Js){throw vs.setError(rr.subscribe_authenticated_session_topic_failure),Js}vs.addTrace(sr.subscribe_authenticated_session_topic_success),await this.client.session.set(Hs,Ns),vs.addTrace(sr.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:_s.pairingTopic,metadata:_s.requester.metadata})}vs.addTrace(sr.publishing_authenticated_session_approve);try{await this.sendResult({topic:Rs,id:ms,result:{cacaos:ws,responder:{publicKey:Ss,metadata:this.client.metadata}},encodeOpts:Bs,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(_s.requester.metadata,Es)})}catch(Js){throw vs.setError(rr.authenticated_session_approve_publish_failure),Js}return await this.client.auth.requests.delete(ms,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:_s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:vs.eventId}),{session:Ns}}),c$1(this,"rejectSessionAuthenticate",async et=>{this.isInitialized();const{id:ms,reason:ws}=et,vs=this.getPendingAuthRequest(ms);if(!vs)throw new Error(`Could not find pending auth request with id ${ms}`);vs.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const _s=vs.requester.publicKey,Es=await this.client.core.crypto.generateKeyPair(),Ts=Fc(_s),Ss={type:ee$1,receiverPublicKey:_s,senderPublicKey:Es};await this.sendError({id:ms,topic:Ts,error:ws,encodeOpts:Ss,rpcOpts:N$1.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(vs.requester.metadata,vs.transportType)}),await this.client.auth.requests.delete(ms,{message:"rejected",code:0}),await this.deleteProposal(ms)}),c$1(this,"formatAuthMessage",et=>{this.isInitialized();const{request:ms,iss:ws}=et;return qr$1(ms,ws)}),c$1(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const et=this.relayMessageCache.shift();et&&await this.onRelayMessage(et)}catch(et){this.client.logger.error(et)}},50)}),c$1(this,"cleanupDuplicatePairings",async et=>{if(et.pairingTopic)try{const ms=this.client.core.pairing.pairings.get(et.pairingTopic),ws=this.client.core.pairing.pairings.getAll().filter(vs=>{var _s,Es;return((_s=vs.peerMetadata)==null?void 0:_s.url)&&((Es=vs.peerMetadata)==null?void 0:Es.url)===et.peer.metadata.url&&vs.topic&&vs.topic!==ms.topic});if(ws.length===0)return;this.client.logger.info(`Cleaning up ${ws.length} duplicate pairing(s)`),await Promise.all(ws.map(vs=>this.client.core.pairing.disconnect({topic:vs.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(ms){this.client.logger.error(ms)}}),c$1(this,"deleteSession",async et=>{var ms;const{topic:ws,expirerHasDeleted:vs=!1,emitEvent:_s=!0,id:Es=0}=et,{self:Ts}=this.client.session.get(ws);await this.client.core.relayer.unsubscribe(ws),await this.client.session.delete(ws,Kt$2("USER_DISCONNECTED")),this.addToRecentlyDeleted(ws,"session"),this.client.core.crypto.keychain.has(Ts.publicKey)&&await this.client.core.crypto.deleteKeyPair(Ts.publicKey),this.client.core.crypto.keychain.has(ws)&&await this.client.core.crypto.deleteSymKey(ws),vs||this.client.core.expirer.del(ws),this.client.core.storage.removeItem(Le$1).catch(Ss=>this.client.logger.warn(Ss)),this.getPendingSessionRequests().forEach(Ss=>{Ss.topic===ws&&this.deletePendingSessionRequest(Ss.id,Kt$2("USER_DISCONNECTED"))}),ws===((ms=this.sessionRequestQueue.queue[0])==null?void 0:ms.topic)&&(this.sessionRequestQueue.state=$$1.idle),_s&&this.client.events.emit("session_delete",{id:Es,topic:ws})}),c$1(this,"deleteProposal",async(et,ms)=>{if(ms)try{const ws=this.client.proposal.get(et);this.client.core.eventClient.getEvent({topic:ws.pairingTopic})?.setError(ir.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(et,Kt$2("USER_DISCONNECTED")),ms?Promise.resolve():this.client.core.expirer.del(et)]),this.addToRecentlyDeleted(et,"proposal")}),c$1(this,"deletePendingSessionRequest",async(et,ms,ws=!1)=>{await Promise.all([this.client.pendingRequest.delete(et,ms),ws?Promise.resolve():this.client.core.expirer.del(et)]),this.addToRecentlyDeleted(et,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(vs=>vs.id!==et),ws&&(this.sessionRequestQueue.state=$$1.idle,this.client.events.emit("session_request_expire",{id:et}))}),c$1(this,"deletePendingAuthRequest",async(et,ms,ws=!1)=>{await Promise.all([this.client.auth.requests.delete(et,ms),ws?Promise.resolve():this.client.core.expirer.del(et)])}),c$1(this,"setExpiry",async(et,ms)=>{this.client.session.keys.includes(et)&&(this.client.core.expirer.set(et,ms),await this.client.session.update(et,{expiry:ms}))}),c$1(this,"setProposal",async(et,ms)=>{this.client.core.expirer.set(et,ii$1(N$1.wc_sessionPropose.req.ttl)),await this.client.proposal.set(et,ms)}),c$1(this,"setAuthRequest",async(et,ms)=>{const{request:ws,pairingTopic:vs,transportType:_s=Q$1.relay}=ms;this.client.core.expirer.set(et,ws.expiryTimestamp),await this.client.auth.requests.set(et,{authPayload:ws.authPayload,requester:ws.requester,expiryTimestamp:ws.expiryTimestamp,id:et,pairingTopic:vs,verifyContext:ws.verifyContext,transportType:_s})}),c$1(this,"setPendingSessionRequest",async et=>{const{id:ms,topic:ws,params:vs,verifyContext:_s}=et,Es=vs.request.expiryTimestamp||ii$1(N$1.wc_sessionRequest.req.ttl);this.client.core.expirer.set(ms,Es),await this.client.pendingRequest.set(ms,{id:ms,topic:ws,params:vs,verifyContext:_s})}),c$1(this,"sendRequest",async et=>{const{topic:ms,method:ws,params:vs,expiry:_s,relayRpcId:Es,clientRpcId:Ts,throwOnFailedPublish:Ss,appLink:Rs,tvf:Bs}=et,Is=formatJsonRpcRequest(ws,vs,Ts);let Ws;const Hs=!!Rs;try{const ha=Hs?De$2:Qt$2;Ws=await this.client.core.crypto.encode(ms,Is,{encoding:ha})}catch(ha){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${ms} failed`),ha}let Ns;if(mt$1.includes(ws)){const ha=zc(JSON.stringify(Is)),pa=zc(Ws);Ns=await this.client.core.verify.register({id:pa,decryptedId:ha})}const Js=N$1[ws].req;if(Js.attestation=Ns,_s&&(Js.ttl=_s),Es&&(Js.id=Es),this.client.core.history.set(ms,Is),Hs){const ha=sa(Rs,ms,Ws);await window.Linking.openURL(ha,this.client.name)}else{const ha=N$1[ws].req;_s&&(ha.ttl=_s),Es&&(ha.id=Es),ha.tvf=x$1(I$1({},Bs),{correlationId:Is.id}),Ss?(ha.internal=x$1(I$1({},ha.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(ms,Ws,ha)):this.client.core.relayer.publish(ms,Ws,ha).catch(pa=>this.client.logger.error(pa))}return Is.id}),c$1(this,"sendResult",async et=>{const{id:ms,topic:ws,result:vs,throwOnFailedPublish:_s,encodeOpts:Es,appLink:Ts}=et,Ss=formatJsonRpcResult(ms,vs);let Rs;const Bs=Ts&&typeof window?.Linking<"u";try{const Hs=Bs?De$2:Qt$2;Rs=await this.client.core.crypto.encode(ws,Ss,x$1(I$1({},Es||{}),{encoding:Hs}))}catch(Hs){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${ws} failed`),Hs}let Is,Ws;try{Is=await this.client.core.history.get(ws,ms);const Hs=Is.request;try{Ws=this.getTVFParams(ms,Hs.params,vs)}catch(Ns){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${Ns?.message}`)}}catch(Hs){throw this.client.logger.error(`sendResult() -> history.get(${ws}, ${ms}) failed`),Hs}if(Bs){const Hs=sa(Ts,ws,Rs);await window.Linking.openURL(Hs,this.client.name)}else{const Hs=Is.request.method,Ns=N$1[Hs].res;Ns.tvf=x$1(I$1({},Ws),{correlationId:ms}),_s?(Ns.internal=x$1(I$1({},Ns.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(ws,Rs,Ns)):this.client.core.relayer.publish(ws,Rs,Ns).catch(Js=>this.client.logger.error(Js))}await this.client.core.history.resolve(Ss)}),c$1(this,"sendError",async et=>{const{id:ms,topic:ws,error:vs,encodeOpts:_s,rpcOpts:Es,appLink:Ts}=et,Ss=formatJsonRpcError(ms,vs);let Rs;const Bs=Ts&&typeof window?.Linking<"u";try{const Ws=Bs?De$2:Qt$2;Rs=await this.client.core.crypto.encode(ws,Ss,x$1(I$1({},_s||{}),{encoding:Ws}))}catch(Ws){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${ws} failed`),Ws}let Is;try{Is=await this.client.core.history.get(ws,ms)}catch(Ws){throw this.client.logger.error(`sendError() -> history.get(${ws}, ${ms}) failed`),Ws}if(Bs){const Ws=sa(Ts,ws,Rs);await window.Linking.openURL(Ws,this.client.name)}else{const Ws=Is.request.method,Hs=Es||N$1[Ws].res;this.client.core.relayer.publish(ws,Rs,Hs)}await this.client.core.history.resolve(Ss)}),c$1(this,"cleanup",async()=>{const et=[],ms=[];this.client.session.getAll().forEach(ws=>{let vs=!1;fi$1(ws.expiry)&&(vs=!0),this.client.core.crypto.keychain.has(ws.topic)||(vs=!0),vs&&et.push(ws.topic)}),this.client.proposal.getAll().forEach(ws=>{fi$1(ws.expiryTimestamp)&&ms.push(ws.id)}),await Promise.all([...et.map(ws=>this.deleteSession({topic:ws})),...ms.map(ws=>this.deleteProposal(ws))])}),c$1(this,"onProviderMessageEvent",async et=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(et):await this.onRelayMessage(et)}),c$1(this,"onRelayEventRequest",async et=>{this.requestQueue.queue.push(et),await this.processRequestsQueue()}),c$1(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===$$1.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$$1.active;const et=this.requestQueue.queue.shift();if(et)try{await this.processRequest(et)}catch(ms){this.client.logger.warn(ms)}}this.requestQueue.state=$$1.idle}),c$1(this,"processRequest",async et=>{const{topic:ms,payload:ws,attestation:vs,transportType:_s,encryptedId:Es}=et,Ts=ws.method;if(!this.shouldIgnorePairingRequest({topic:ms,requestMethod:Ts}))switch(Ts){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:ms,payload:ws,attestation:vs,encryptedId:Es});case"wc_sessionSettle":return await this.onSessionSettleRequest(ms,ws);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(ms,ws);case"wc_sessionExtend":return await this.onSessionExtendRequest(ms,ws);case"wc_sessionPing":return await this.onSessionPingRequest(ms,ws);case"wc_sessionDelete":return await this.onSessionDeleteRequest(ms,ws);case"wc_sessionRequest":return await this.onSessionRequest({topic:ms,payload:ws,attestation:vs,encryptedId:Es,transportType:_s});case"wc_sessionEvent":return await this.onSessionEventRequest(ms,ws);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:ms,payload:ws,attestation:vs,encryptedId:Es,transportType:_s});default:return this.client.logger.info(`Unsupported request method ${Ts}`)}}),c$1(this,"onRelayEventResponse",async et=>{const{topic:ms,payload:ws,transportType:vs}=et,_s=(await this.client.core.history.get(ms,ws.id)).request.method;switch(_s){case"wc_sessionPropose":return this.onSessionProposeResponse(ms,ws,vs);case"wc_sessionSettle":return this.onSessionSettleResponse(ms,ws);case"wc_sessionUpdate":return this.onSessionUpdateResponse(ms,ws);case"wc_sessionExtend":return this.onSessionExtendResponse(ms,ws);case"wc_sessionPing":return this.onSessionPingResponse(ms,ws);case"wc_sessionRequest":return this.onSessionRequestResponse(ms,ws);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(ms,ws);default:return this.client.logger.info(`Unsupported response method ${_s}`)}}),c$1(this,"onRelayEventUnknownPayload",et=>{const{topic:ms}=et,{message:ws}=Et$3("MISSING_OR_INVALID",`Decoded payload on topic ${ms} is not identifiable as a JSON-RPC request or a response.`);throw new Error(ws)}),c$1(this,"shouldIgnorePairingRequest",et=>{const{topic:ms,requestMethod:ws}=et,vs=this.expectedPairingMethodMap.get(ms);return!vs||vs.includes(ws)?!1:!!(vs.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),c$1(this,"onSessionProposeRequest",async et=>{const{topic:ms,payload:ws,attestation:vs,encryptedId:_s}=et,{params:Es,id:Ts}=ws;try{const Ss=this.client.core.eventClient.getEvent({topic:ms});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),Ss?.setError(Y$1.proposal_listener_not_found)),this.isValidConnect(I$1({},ws.params));const Rs=Es.expiryTimestamp||ii$1(N$1.wc_sessionPropose.req.ttl),Bs=I$1({id:Ts,pairingTopic:ms,expiryTimestamp:Rs,attestation:vs,encryptedId:_s},Es);await this.setProposal(Ts,Bs);const Is=await this.getVerifyContext({attestationId:vs,hash:zc(JSON.stringify(ws)),encryptedId:_s,metadata:Bs.proposer.metadata});Ss?.addTrace(G$1.emit_session_proposal),this.client.events.emit("session_proposal",{id:Ts,params:Bs,verifyContext:Is})}catch(Ss){await this.sendError({id:Ts,topic:ms,error:Ss,rpcOpts:N$1.wc_sessionPropose.autoReject}),this.client.logger.error(Ss)}}),c$1(this,"onSessionProposeResponse",async(et,ms,ws)=>{const{id:vs}=ms;if(isJsonRpcResult(ms)){const{result:_s}=ms;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:_s});const Es=this.client.proposal.get(vs);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:Es});const Ts=Es.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Ts});const Ss=_s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Ss});const Rs=await this.client.core.crypto.generateSharedKey(Ts,Ss);this.pendingSessions.set(vs,{sessionTopic:Rs,pairingTopic:et,proposalId:vs,publicKey:Ts});const Bs=await this.client.core.relayer.subscribe(Rs,{transportType:ws});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Bs}),await this.client.core.pairing.activate({topic:et})}else if(isJsonRpcError(ms)){await this.deleteProposal(vs);const _s=ci$1("session_connect",vs);if(this.events.listenerCount(_s)===0)throw new Error(`emitting ${_s} without any listeners, 954`);this.events.emit(_s,{error:ms.error})}}),c$1(this,"onSessionSettleRequest",async(et,ms)=>{const{id:ws,params:vs}=ms;try{this.isValidSessionSettleRequest(vs);const{relay:_s,controller:Es,expiry:Ts,namespaces:Ss,sessionProperties:Rs,scopedProperties:Bs,sessionConfig:Is}=ms.params,Ws=[...this.pendingSessions.values()].find(Js=>Js.sessionTopic===et);if(!Ws)return this.client.logger.error(`Pending session not found for topic ${et}`);const Hs=this.client.proposal.get(Ws.proposalId),Ns=x$1(I$1(I$1(I$1({topic:et,relay:_s,expiry:Ts,namespaces:Ss,acknowledged:!0,pairingTopic:Ws.pairingTopic,requiredNamespaces:Hs.requiredNamespaces,optionalNamespaces:Hs.optionalNamespaces,controller:Es.publicKey,self:{publicKey:Ws.publicKey,metadata:this.client.metadata},peer:{publicKey:Es.publicKey,metadata:Es.metadata}},Rs&&{sessionProperties:Rs}),Bs&&{scopedProperties:Bs}),Is&&{sessionConfig:Is}),{transportType:Q$1.relay});await this.client.session.set(Ns.topic,Ns),await this.setExpiry(Ns.topic,Ns.expiry),await this.client.core.pairing.updateMetadata({topic:Ws.pairingTopic,metadata:Ns.peer.metadata}),this.client.events.emit("session_connect",{session:Ns}),this.events.emit(ci$1("session_connect",Ws.proposalId),{session:Ns}),this.pendingSessions.delete(Ws.proposalId),this.deleteProposal(Ws.proposalId,!1),this.cleanupDuplicatePairings(Ns),await this.sendResult({id:ms.id,topic:et,result:!0})}catch(_s){await this.sendError({id:ws,topic:et,error:_s}),this.client.logger.error(_s)}}),c$1(this,"onSessionSettleResponse",async(et,ms)=>{const{id:ws}=ms;isJsonRpcResult(ms)?(await this.client.session.update(et,{acknowledged:!0}),this.events.emit(ci$1("session_approve",ws),{})):isJsonRpcError(ms)&&(await this.client.session.delete(et,Kt$2("USER_DISCONNECTED")),this.events.emit(ci$1("session_approve",ws),{error:ms.error}))}),c$1(this,"onSessionUpdateRequest",async(et,ms)=>{const{params:ws,id:vs}=ms;try{const _s=`${et}_session_update`,Es=Ha.get(_s);if(Es&&this.isRequestOutOfSync(Es,vs)){this.client.logger.warn(`Discarding out of sync request - ${vs}`),this.sendError({id:vs,topic:et,error:Kt$2("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(I$1({topic:et},ws));try{Ha.set(_s,vs),await this.client.session.update(et,{namespaces:ws.namespaces}),await this.sendResult({id:vs,topic:et,result:!0})}catch(Ts){throw Ha.delete(_s),Ts}this.client.events.emit("session_update",{id:vs,topic:et,params:ws})}catch(_s){await this.sendError({id:vs,topic:et,error:_s}),this.client.logger.error(_s)}}),c$1(this,"isRequestOutOfSync",(et,ms)=>ms.toString().slice(0,-3)<et.toString().slice(0,-3)),c$1(this,"onSessionUpdateResponse",(et,ms)=>{const{id:ws}=ms,vs=ci$1("session_update",ws);if(this.events.listenerCount(vs)===0)throw new Error(`emitting ${vs} without any listeners`);isJsonRpcResult(ms)?this.events.emit(ci$1("session_update",ws),{}):isJsonRpcError(ms)&&this.events.emit(ci$1("session_update",ws),{error:ms.error})}),c$1(this,"onSessionExtendRequest",async(et,ms)=>{const{id:ws}=ms;try{this.isValidExtend({topic:et}),await this.setExpiry(et,ii$1(X$1)),await this.sendResult({id:ws,topic:et,result:!0}),this.client.events.emit("session_extend",{id:ws,topic:et})}catch(vs){await this.sendError({id:ws,topic:et,error:vs}),this.client.logger.error(vs)}}),c$1(this,"onSessionExtendResponse",(et,ms)=>{const{id:ws}=ms,vs=ci$1("session_extend",ws);if(this.events.listenerCount(vs)===0)throw new Error(`emitting ${vs} without any listeners`);isJsonRpcResult(ms)?this.events.emit(ci$1("session_extend",ws),{}):isJsonRpcError(ms)&&this.events.emit(ci$1("session_extend",ws),{error:ms.error})}),c$1(this,"onSessionPingRequest",async(et,ms)=>{const{id:ws}=ms;try{this.isValidPing({topic:et}),await this.sendResult({id:ws,topic:et,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:ws,topic:et})}catch(vs){await this.sendError({id:ws,topic:et,error:vs}),this.client.logger.error(vs)}}),c$1(this,"onSessionPingResponse",(et,ms)=>{const{id:ws}=ms,vs=ci$1("session_ping",ws);setTimeout(()=>{if(this.events.listenerCount(vs)===0)throw new Error(`emitting ${vs} without any listeners 2176`);isJsonRpcResult(ms)?this.events.emit(ci$1("session_ping",ws),{}):isJsonRpcError(ms)&&this.events.emit(ci$1("session_ping",ws),{error:ms.error})},500)}),c$1(this,"onSessionDeleteRequest",async(et,ms)=>{const{id:ws}=ms;try{this.isValidDisconnect({topic:et,reason:ms.params}),Promise.all([new Promise(vs=>{this.client.core.relayer.once(C$1.publish,async()=>{vs(await this.deleteSession({topic:et,id:ws}))})}),this.sendResult({id:ws,topic:et,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:et,error:Kt$2("USER_DISCONNECTED")})]).catch(vs=>this.client.logger.error(vs))}catch(vs){this.client.logger.error(vs)}}),c$1(this,"onSessionRequest",async et=>{var ms,ws,vs;const{topic:_s,payload:Es,attestation:Ts,encryptedId:Ss,transportType:Rs}=et,{id:Bs,params:Is}=Es;try{await this.isValidRequest(I$1({topic:_s},Is));const Ws=this.client.session.get(_s),Hs=await this.getVerifyContext({attestationId:Ts,hash:zc(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",Is,Bs))),encryptedId:Ss,metadata:Ws.peer.metadata,transportType:Rs}),Ns={id:Bs,topic:_s,params:Is,verifyContext:Hs};await this.setPendingSessionRequest(Ns),Rs===Q$1.link_mode&&(ms=Ws.peer.metadata.redirect)!=null&&ms.universal&&this.client.core.addLinkModeSupportedApp((ws=Ws.peer.metadata.redirect)==null?void 0:ws.universal),(vs=this.client.signConfig)!=null&&vs.disableRequestQueue?this.emitSessionRequest(Ns):(this.addSessionRequestToSessionRequestQueue(Ns),this.processSessionRequestQueue())}catch(Ws){await this.sendError({id:Bs,topic:_s,error:Ws}),this.client.logger.error(Ws)}}),c$1(this,"onSessionRequestResponse",(et,ms)=>{const{id:ws}=ms,vs=ci$1("session_request",ws);if(this.events.listenerCount(vs)===0)throw new Error(`emitting ${vs} without any listeners`);isJsonRpcResult(ms)?this.events.emit(ci$1("session_request",ws),{result:ms.result}):isJsonRpcError(ms)&&this.events.emit(ci$1("session_request",ws),{error:ms.error})}),c$1(this,"onSessionEventRequest",async(et,ms)=>{const{id:ws,params:vs}=ms;try{const _s=`${et}_session_event_${vs.event.name}`,Es=Ha.get(_s);if(Es&&this.isRequestOutOfSync(Es,ws)){this.client.logger.info(`Discarding out of sync request - ${ws}`);return}this.isValidEmit(I$1({topic:et},vs)),this.client.events.emit("session_event",{id:ws,topic:et,params:vs}),Ha.set(_s,ws)}catch(_s){await this.sendError({id:ws,topic:et,error:_s}),this.client.logger.error(_s)}}),c$1(this,"onSessionAuthenticateResponse",(et,ms)=>{const{id:ws}=ms;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:et,payload:ms}),isJsonRpcResult(ms)?this.events.emit(ci$1("session_request",ws),{result:ms.result}):isJsonRpcError(ms)&&this.events.emit(ci$1("session_request",ws),{error:ms.error})}),c$1(this,"onSessionAuthenticateRequest",async et=>{var ms;const{topic:ws,payload:vs,attestation:_s,encryptedId:Es,transportType:Ts}=et;try{const{requester:Ss,authPayload:Rs,expiryTimestamp:Bs}=vs.params,Is=await this.getVerifyContext({attestationId:_s,hash:zc(JSON.stringify(vs)),encryptedId:Es,metadata:Ss.metadata,transportType:Ts}),Ws={requester:Ss,pairingTopic:ws,id:vs.id,authPayload:Rs,verifyContext:Is,expiryTimestamp:Bs};await this.setAuthRequest(vs.id,{request:Ws,pairingTopic:ws,transportType:Ts}),Ts===Q$1.link_mode&&(ms=Ss.metadata.redirect)!=null&&ms.universal&&this.client.core.addLinkModeSupportedApp(Ss.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:ws,params:vs.params,id:vs.id,verifyContext:Is})}catch(Ss){this.client.logger.error(Ss);const Rs=vs.params.requester.publicKey,Bs=await this.client.core.crypto.generateKeyPair(),Is=this.getAppLinkIfEnabled(vs.params.requester.metadata,Ts),Ws={type:ee$1,receiverPublicKey:Rs,senderPublicKey:Bs};await this.sendError({id:vs.id,topic:ws,error:Ss,encodeOpts:Ws,rpcOpts:N$1.wc_sessionAuthenticate.autoReject,appLink:Is})}}),c$1(this,"addSessionRequestToSessionRequestQueue",et=>{this.sessionRequestQueue.queue.push(et)}),c$1(this,"cleanupAfterResponse",et=>{this.deletePendingSessionRequest(et.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$$1.idle,this.processSessionRequestQueue()},cjsExports$3.toMiliseconds(this.requestQueueDelay))}),c$1(this,"cleanupPendingSentRequestsForTopic",({topic:et,error:ms})=>{const ws=this.client.core.history.pending;ws.length>0&&ws.filter(vs=>vs.topic===et&&vs.request.method==="wc_sessionRequest").forEach(vs=>{const _s=vs.request.id,Es=ci$1("session_request",_s);if(this.events.listenerCount(Es)===0)throw new Error(`emitting ${Es} without any listeners`);this.events.emit(ci$1("session_request",vs.request.id),{error:ms})})}),c$1(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===$$1.active){this.client.logger.info("session request queue is already active.");return}const et=this.sessionRequestQueue.queue[0];if(!et){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(et)}catch(ms){this.client.logger.error(ms)}}),c$1(this,"emitSessionRequest",et=>{if(this.emittedSessionRequests.has(et.id)){this.client.logger.warn({id:et.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${et.id}`);return}this.sessionRequestQueue.state=$$1.active,this.emittedSessionRequests.add(et.id),this.client.events.emit("session_request",et)}),c$1(this,"onPairingCreated",et=>{if(et.methods&&this.expectedPairingMethodMap.set(et.topic,et.methods),et.active)return;const ms=this.client.proposal.getAll().find(ws=>ws.pairingTopic===et.topic);ms&&this.onSessionProposeRequest({topic:et.topic,payload:formatJsonRpcRequest("wc_sessionPropose",x$1(I$1({},ms),{requiredNamespaces:ms.requiredNamespaces,optionalNamespaces:ms.optionalNamespaces,relays:ms.relays,proposer:ms.proposer,sessionProperties:ms.sessionProperties,scopedProperties:ms.scopedProperties}),ms.id),attestation:ms.attestation,encryptedId:ms.encryptedId})}),c$1(this,"isValidConnect",async et=>{if(!Aa(et)){const{message:Ss}=Et$3("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(et)}`);throw new Error(Ss)}const{pairingTopic:ms,requiredNamespaces:ws,optionalNamespaces:vs,sessionProperties:_s,scopedProperties:Es,relays:Ts}=et;if(kt$2(ms)||await this.isValidPairingTopic(ms),!Ba(Ts)){const{message:Ss}=Et$3("MISSING_OR_INVALID",`connect() relays: ${Ts}`);throw new Error(Ss)}if(!kt$2(ws)&&Ve$2(ws)!==0){const Ss="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(Ss):this.client.logger.warn(Ss),this.validateNamespaces(ws,"requiredNamespaces")}if(!kt$2(vs)&&Ve$2(vs)!==0&&this.validateNamespaces(vs,"optionalNamespaces"),kt$2(_s)||this.validateSessionProps(_s,"sessionProperties"),!kt$2(Es)){this.validateSessionProps(Es,"scopedProperties");const Ss=Object.keys(ws||{}).concat(Object.keys(vs||{}));if(!Object.keys(Es).every(Rs=>Ss.includes(Rs.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(Es)}, required/optional namespaces: ${JSON.stringify(Ss)}`)}}),c$1(this,"validateNamespaces",(et,ms)=>{const ws=Ea(et,"connect()",ms);if(ws)throw new Error(ws.message)}),c$1(this,"isValidApprove",async et=>{if(!Aa(et))throw new Error(Et$3("MISSING_OR_INVALID",`approve() params: ${et}`).message);const{id:ms,namespaces:ws,relayProtocol:vs,sessionProperties:_s,scopedProperties:Es}=et;this.checkRecentlyDeleted(ms),await this.isValidProposalId(ms);const Ts=this.client.proposal.get(ms),Ss=is$1(ws,"approve()");if(Ss)throw new Error(Ss.message);const Rs=cs$1(Ts.requiredNamespaces,ws,"approve()");if(Rs)throw new Error(Rs.message);if(!it(vs,!0)){const{message:Bs}=Et$3("MISSING_OR_INVALID",`approve() relayProtocol: ${vs}`);throw new Error(Bs)}if(kt$2(_s)||this.validateSessionProps(_s,"sessionProperties"),!kt$2(Es)){this.validateSessionProps(Es,"scopedProperties");const Bs=new Set(Object.keys(ws));if(!Object.keys(Es).every(Is=>Bs.has(Is.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(Es)}, approved namespaces: ${Array.from(Bs).join(", ")}`)}}),c$1(this,"isValidReject",async et=>{if(!Aa(et)){const{message:vs}=Et$3("MISSING_OR_INVALID",`reject() params: ${et}`);throw new Error(vs)}const{id:ms,reason:ws}=et;if(this.checkRecentlyDeleted(ms),await this.isValidProposalId(ms),!Sa(ws)){const{message:vs}=Et$3("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(ws)}`);throw new Error(vs)}}),c$1(this,"isValidSessionSettleRequest",et=>{if(!Aa(et)){const{message:Ss}=Et$3("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${et}`);throw new Error(Ss)}const{relay:ms,controller:ws,namespaces:vs,expiry:_s}=et;if(!fs$1(ms)){const{message:Ss}=Et$3("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(Ss)}const Es=va(ws,"onSessionSettleRequest()");if(Es)throw new Error(Es.message);const Ts=is$1(vs,"onSessionSettleRequest()");if(Ts)throw new Error(Ts.message);if(fi$1(_s)){const{message:Ss}=Et$3("EXPIRED","onSessionSettleRequest()");throw new Error(Ss)}}),c$1(this,"isValidUpdate",async et=>{if(!Aa(et)){const{message:Ts}=Et$3("MISSING_OR_INVALID",`update() params: ${et}`);throw new Error(Ts)}const{topic:ms,namespaces:ws}=et;this.checkRecentlyDeleted(ms),await this.isValidSessionTopic(ms);const vs=this.client.session.get(ms),_s=is$1(ws,"update()");if(_s)throw new Error(_s.message);const Es=cs$1(vs.requiredNamespaces,ws,"update()");if(Es)throw new Error(Es.message)}),c$1(this,"isValidExtend",async et=>{if(!Aa(et)){const{message:ws}=Et$3("MISSING_OR_INVALID",`extend() params: ${et}`);throw new Error(ws)}const{topic:ms}=et;this.checkRecentlyDeleted(ms),await this.isValidSessionTopic(ms)}),c$1(this,"isValidRequest",async et=>{if(!Aa(et)){const{message:Ts}=Et$3("MISSING_OR_INVALID",`request() params: ${et}`);throw new Error(Ts)}const{topic:ms,request:ws,chainId:vs,expiry:_s}=et;this.checkRecentlyDeleted(ms),await this.isValidSessionTopic(ms);const{namespaces:Es}=this.client.session.get(ms);if(!_a(Es,vs)){const{message:Ts}=Et$3("MISSING_OR_INVALID",`request() chainId: ${vs}`);throw new Error(Ts)}if(!Na(ws)){const{message:Ts}=Et$3("MISSING_OR_INVALID",`request() ${JSON.stringify(ws)}`);throw new Error(Ts)}if(!Ta(Es,vs,ws.method)){const{message:Ts}=Et$3("MISSING_OR_INVALID",`request() method: ${ws.method}`);throw new Error(Ts)}if(_s&&!La(_s,_e$1)){const{message:Ts}=Et$3("MISSING_OR_INVALID",`request() expiry: ${_s}. Expiry must be a number (in seconds) between ${_e$1.min} and ${_e$1.max}`);throw new Error(Ts)}}),c$1(this,"isValidRespond",async et=>{var ms;if(!Aa(et)){const{message:_s}=Et$3("MISSING_OR_INVALID",`respond() params: ${et}`);throw new Error(_s)}const{topic:ws,response:vs}=et;try{await this.isValidSessionTopic(ws)}catch(_s){throw(ms=et?.response)!=null&&ms.id&&this.cleanupAfterResponse(et),_s}if(!Oa(vs)){const{message:_s}=Et$3("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(vs)}`);throw new Error(_s)}}),c$1(this,"isValidPing",async et=>{if(!Aa(et)){const{message:ws}=Et$3("MISSING_OR_INVALID",`ping() params: ${et}`);throw new Error(ws)}const{topic:ms}=et;await this.isValidSessionOrPairingTopic(ms)}),c$1(this,"isValidEmit",async et=>{if(!Aa(et)){const{message:Es}=Et$3("MISSING_OR_INVALID",`emit() params: ${et}`);throw new Error(Es)}const{topic:ms,event:ws,chainId:vs}=et;await this.isValidSessionTopic(ms);const{namespaces:_s}=this.client.session.get(ms);if(!_a(_s,vs)){const{message:Es}=Et$3("MISSING_OR_INVALID",`emit() chainId: ${vs}`);throw new Error(Es)}if(!Ua(ws)){const{message:Es}=Et$3("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(ws)}`);throw new Error(Es)}if(!Ra(_s,vs,ws.name)){const{message:Es}=Et$3("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(ws)}`);throw new Error(Es)}}),c$1(this,"isValidDisconnect",async et=>{if(!Aa(et)){const{message:ws}=Et$3("MISSING_OR_INVALID",`disconnect() params: ${et}`);throw new Error(ws)}const{topic:ms}=et;await this.isValidSessionOrPairingTopic(ms)}),c$1(this,"isValidAuthenticate",et=>{const{chains:ms,uri:ws,domain:vs,nonce:_s}=et;if(!Array.isArray(ms)||ms.length===0)throw new Error("chains is required and must be a non-empty array");if(!it(ws,!1))throw new Error("uri is required parameter");if(!it(vs,!1))throw new Error("domain is required parameter");if(!it(_s,!1))throw new Error("nonce is required parameter");if([...new Set(ms.map(Ts=>Fe$2(Ts).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:Es}=Fe$2(ms[0]);if(Es!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),c$1(this,"getVerifyContext",async et=>{const{attestationId:ms,hash:ws,encryptedId:vs,metadata:_s,transportType:Es}=et,Ts={verified:{verifyUrl:_s.verifyUrl||ue$1,validation:"UNKNOWN",origin:_s.url||""}};try{if(Es===Q$1.link_mode){const Rs=this.getAppLinkIfEnabled(_s,Es);return Ts.verified.validation=Rs&&new URL(Rs).origin===new URL(_s.url).origin?"VALID":"INVALID",Ts}const Ss=await this.client.core.verify.resolve({attestationId:ms,hash:ws,encryptedId:vs,verifyUrl:_s.verifyUrl});Ss&&(Ts.verified.origin=Ss.origin,Ts.verified.isScam=Ss.isScam,Ts.verified.validation=Ss.origin===new URL(_s.url).origin?"VALID":"INVALID")}catch(Ss){this.client.logger.warn(Ss)}return this.client.logger.debug(`Verify context: ${JSON.stringify(Ts)}`),Ts}),c$1(this,"validateSessionProps",(et,ms)=>{Object.values(et).forEach((ws,vs)=>{if(ws==null){const{message:_s}=Et$3("MISSING_OR_INVALID",`${ms} must contain an existing value for each key. Received: ${ws} for key ${Object.keys(et)[vs]}`);throw new Error(_s)}})}),c$1(this,"getPendingAuthRequest",et=>{const ms=this.client.auth.requests.get(et);return typeof ms=="object"?ms:void 0}),c$1(this,"addToRecentlyDeleted",(et,ms)=>{if(this.recentlyDeletedMap.set(et,ms),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let ws=0;const vs=this.recentlyDeletedLimit/2;for(const _s of this.recentlyDeletedMap.keys()){if(ws++>=vs)break;this.recentlyDeletedMap.delete(_s)}}}),c$1(this,"checkRecentlyDeleted",et=>{const ms=this.recentlyDeletedMap.get(et);if(ms){const{message:ws}=Et$3("MISSING_OR_INVALID",`Record was recently deleted - ${ms}: ${et}`);throw new Error(ws)}}),c$1(this,"isLinkModeEnabled",(et,ms)=>{var ws,vs,_s,Es,Ts,Ss,Rs,Bs,Is;return!et||ms!==Q$1.link_mode?!1:((vs=(ws=this.client.metadata)==null?void 0:ws.redirect)==null?void 0:vs.linkMode)===!0&&((Es=(_s=this.client.metadata)==null?void 0:_s.redirect)==null?void 0:Es.universal)!==void 0&&((Ss=(Ts=this.client.metadata)==null?void 0:Ts.redirect)==null?void 0:Ss.universal)!==""&&((Rs=et?.redirect)==null?void 0:Rs.universal)!==void 0&&((Bs=et?.redirect)==null?void 0:Bs.universal)!==""&&((Is=et?.redirect)==null?void 0:Is.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(et.redirect.universal)&&typeof window?.Linking<"u"}),c$1(this,"getAppLinkIfEnabled",(et,ms)=>{var ws;return this.isLinkModeEnabled(et,ms)?(ws=et?.redirect)==null?void 0:ws.universal:void 0}),c$1(this,"handleLinkModeMessage",({url:et})=>{if(!et||!et.includes("wc_ev")||!et.includes("topic"))return;const ms=li$1(et,"topic")||"",ws=decodeURIComponent(li$1(et,"wc_ev")||""),vs=this.client.session.keys.includes(ms);vs&&this.client.session.update(ms,{transportType:Q$1.link_mode}),this.client.core.dispatchEnvelope({topic:ms,message:ws,sessionExists:vs})}),c$1(this,"registerLinkModeListeners",async()=>{var et;if(hi$1()||Bt$2()&&(et=this.client.metadata.redirect)!=null&&et.linkMode){const ms=window?.Linking;if(typeof ms<"u"){ms.addEventListener("url",this.handleLinkModeMessage,this.client.name);const ws=await ms.getInitialURL();ws&&setTimeout(()=>{this.handleLinkModeMessage({url:ws})},50)}}}),c$1(this,"getTVFParams",(et,ms,ws)=>{var vs,_s,Es;if(!((vs=ms.request)!=null&&vs.method))return{};const Ts={correlationId:et,rpcMethods:[ms.request.method],chainId:ms.chainId};try{const Ss=this.extractTxHashesFromResult(ms.request,ws);Ts.txHashes=Ss,Ts.contractAddresses=this.isValidContractData(ms.request.params)?[(Es=(_s=ms.request.params)==null?void 0:_s[0])==null?void 0:Es.to]:[]}catch(Ss){this.client.logger.warn("Error getting TVF params",Ss)}return Ts}),c$1(this,"isValidContractData",et=>{var ms;if(!et)return!1;try{const ws=et?.data||((ms=et?.[0])==null?void 0:ms.data);if(!ws.startsWith("0x"))return!1;const vs=ws.slice(2);return/^[0-9a-fA-F]*$/.test(vs)?vs.length%2===0:!1}catch{}return!1}),c$1(this,"extractTxHashesFromResult",(et,ms)=>{var ws;try{if(!ms)return[];const vs=et.method,_s=gt$1[vs];if(vs==="sui_signTransaction")return[ff(ms.transactionBytes)];if(vs==="near_signTransaction")return[cf(ms)];if(vs==="near_signTransactions")return ms.map(Ts=>cf(Ts));if(vs==="xrpl_signTransactionFor"||vs==="xrpl_signTransaction")return[(ws=ms.tx_json)==null?void 0:ws.hash];if(vs==="polkadot_signTransaction")return[Ka({transaction:et.params.transactionPayload,signature:ms.signature})];if(vs==="algo_signTxn")return me$2(ms)?ms.map(Ts=>af(Ts)):[af(ms)];if(vs==="cosmos_signDirect")return[uf(ms)];if(typeof ms=="string")return[ms];const Es=ms[_s.key];if(me$2(Es))return vs==="solana_signAllTransactions"?Es.map(Ts=>sf(Ts)):Es;if(typeof Es=="string")return[Es]}catch(vs){this.client.logger.warn("Error extracting tx hashes from result",vs)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,et=this.client.core.relayer.messages.getWithoutAck(t);for(const[ms,ws]of Object.entries(et))for(const vs of ws)try{await this.onProviderMessageEvent({topic:ms,message:vs,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${ms}, message: ${vs}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=Et$3("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(C$1.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:et,message:ms,attestation:ws,transportType:vs}=t,{publicKey:_s}=this.client.auth.authKeys.keys.includes(ce$1)?this.client.auth.authKeys.get(ce$1):{publicKey:void 0};try{const Es=await this.client.core.crypto.decode(et,ms,{receiverPublicKey:_s,encoding:vs===Q$1.link_mode?De$2:Qt$2});isJsonRpcRequest(Es)?(this.client.core.history.set(et,Es),await this.onRelayEventRequest({topic:et,payload:Es,attestation:ws,transportType:vs,encryptedId:zc(ms)})):isJsonRpcResponse(Es)?(await this.client.core.history.resolve(Es),await this.onRelayEventResponse({topic:et,payload:Es,transportType:vs}),this.client.core.history.delete(et,Es.id)):await this.onRelayEventUnknownPayload({topic:et,payload:Es,transportType:vs}),await this.client.core.relayer.messages.ack(et,ms)}catch(Es){this.client.logger.error(Es)}}registerExpirerEvents(){this.client.core.expirer.on(M$1.expired,async t=>{const{topic:et,id:ms}=si$1(t.target);if(ms&&this.client.pendingRequest.keys.includes(ms))return await this.deletePendingSessionRequest(ms,Et$3("EXPIRED"),!0);if(ms&&this.client.auth.requests.keys.includes(ms))return await this.deletePendingAuthRequest(ms,Et$3("EXPIRED"),!0);et?this.client.session.keys.includes(et)&&(await this.deleteSession({topic:et,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:et})):ms&&(await this.deleteProposal(ms,!0),this.client.events.emit("proposal_expire",{id:ms}))})}registerPairingEvents(){this.client.core.pairing.events.on(re$1.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(re$1.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!it(t,!1)){const{message:et}=Et$3("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(et)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:et}=Et$3("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(et)}if(fi$1(this.client.core.pairing.pairings.get(t).expiry)){const{message:et}=Et$3("EXPIRED",`pairing topic: ${t}`);throw new Error(et)}}async isValidSessionTopic(t){if(!it(t,!1)){const{message:et}=Et$3("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(et)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:et}=Et$3("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(et)}if(fi$1(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:et}=Et$3("EXPIRED",`session topic: ${t}`);throw new Error(et)}if(!this.client.core.crypto.keychain.has(t)){const{message:et}=Et$3("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(et)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(it(t,!1)){const{message:et}=Et$3("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(et)}else{const{message:et}=Et$3("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(et)}}async isValidProposalId(t){if(!Ia(t)){const{message:et}=Et$3("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(et)}if(!this.client.proposal.keys.includes(t)){const{message:et}=Et$3("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(et)}if(fi$1(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:et}=Et$3("EXPIRED",`proposal id: ${t}`);throw new Error(et)}}}class ks extends Li{constructor(t,et){super(t,et,ht$1,me$1),this.core=t,this.logger=et}}let vt$1=class extends Li{constructor(t,et){super(t,et,dt$1,me$1),this.core=t,this.logger=et}};class Ds extends Li{constructor(t,et){super(t,et,yt$1,me$1,ms=>ms.id),this.core=t,this.logger=et}}class Ls extends Li{constructor(t,et){super(t,et,Et$1,ae$1,()=>ce$1),this.core=t,this.logger=et}}class Ms extends Li{constructor(t,et){super(t,et,ft$1,ae$1),this.core=t,this.logger=et}}class $s extends Li{constructor(t,et){super(t,et,St$1,ae$1,ms=>ms.id),this.core=t,this.logger=et}}var Ks=Object.defineProperty,Us=(st,t,et)=>t in st?Ks(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Ke$1=(st,t,et)=>Us(st,typeof t!="symbol"?t+"":t,et);class Gs{constructor(t,et){this.core=t,this.logger=et,Ke$1(this,"authKeys"),Ke$1(this,"pairingTopics"),Ke$1(this,"requests"),this.authKeys=new Ls(this.core,this.logger),this.pairingTopics=new Ms(this.core,this.logger),this.requests=new $s(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var js=Object.defineProperty,Fs=(st,t,et)=>t in st?js(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,f$2=(st,t,et)=>Fs(st,typeof t!="symbol"?t+"":t,et);let Ee$1=class dd extends J$2{constructor(t){super(t),f$2(this,"protocol",Ce$1),f$2(this,"version",ke$1),f$2(this,"name",we$1.name),f$2(this,"metadata"),f$2(this,"core"),f$2(this,"logger"),f$2(this,"events",new eventsExports.EventEmitter),f$2(this,"engine"),f$2(this,"session"),f$2(this,"proposal"),f$2(this,"pendingRequest"),f$2(this,"auth"),f$2(this,"signConfig"),f$2(this,"on",(ms,ws)=>this.events.on(ms,ws)),f$2(this,"once",(ms,ws)=>this.events.once(ms,ws)),f$2(this,"off",(ms,ws)=>this.events.off(ms,ws)),f$2(this,"removeListener",(ms,ws)=>this.events.removeListener(ms,ws)),f$2(this,"removeAllListeners",ms=>this.events.removeAllListeners(ms)),f$2(this,"connect",async ms=>{try{return await this.engine.connect(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"pair",async ms=>{try{return await this.engine.pair(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"approve",async ms=>{try{return await this.engine.approve(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"reject",async ms=>{try{return await this.engine.reject(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"update",async ms=>{try{return await this.engine.update(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"extend",async ms=>{try{return await this.engine.extend(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"request",async ms=>{try{return await this.engine.request(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"respond",async ms=>{try{return await this.engine.respond(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"ping",async ms=>{try{return await this.engine.ping(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"emit",async ms=>{try{return await this.engine.emit(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"disconnect",async ms=>{try{return await this.engine.disconnect(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"find",ms=>{try{return this.engine.find(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(ms){throw this.logger.error(ms.message),ms}}),f$2(this,"authenticate",async(ms,ws)=>{try{return await this.engine.authenticate(ms,ws)}catch(vs){throw this.logger.error(vs.message),vs}}),f$2(this,"formatAuthMessage",ms=>{try{return this.engine.formatAuthMessage(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"approveSessionAuthenticate",async ms=>{try{return await this.engine.approveSessionAuthenticate(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),f$2(this,"rejectSessionAuthenticate",async ms=>{try{return await this.engine.rejectSessionAuthenticate(ms)}catch(ws){throw this.logger.error(ws.message),ws}}),this.name=t?.name||we$1.name,this.metadata=Ks$1(t?.metadata),this.signConfig=t?.signConfig;const et=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:qt$3(k$3({level:t?.logger||we$1.logger}));this.core=t?.core||new Zo(t),this.logger=E$3(et,this.name),this.session=new vt$1(this.core,this.logger),this.proposal=new ks(this.core,this.logger),this.pendingRequest=new Ds(this.core,this.logger),this.engine=new Cs(this),this.auth=new Gs(this.core,this.logger)}static async init(t){const et=new dd(t);return await et.initialize(),et}get context(){return y$3(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var browserPonyfillExports=requireBrowserPonyfill();const o=getDefaultExportFromCjs$1(browserPonyfillExports);var P=Object.defineProperty,w=Object.defineProperties,E$1=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,L$1=Object.prototype.hasOwnProperty,O$1=Object.prototype.propertyIsEnumerable,l$1=(st,t,et)=>t in st?P(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,p=(st,t)=>{for(var et in t||(t={}))L$1.call(t,et)&&l$1(st,et,t[et]);if(c)for(var et of c(t))O$1.call(t,et)&&l$1(st,et,t[et]);return st},v=(st,t)=>w(st,E$1(t));const j$1={Accept:"application/json","Content-Type":"application/json"},T$1="POST",d={headers:j$1,method:T$1},g=10;let f$1=class{constructor(t,et=!1){if(this.url=t,this.disableProviderPing=et,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=et}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,et){this.events.on(t,et)}once(t,et){this.events.once(t,et)}off(t,et){this.events.off(t,et)}removeListener(t,et){this.events.removeListener(t,et)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const et=safeJsonStringify(t),ms=await(await o(this.url,v(p({},d),{body:et}))).json();this.onPayload({data:ms})}catch(et){this.onError(t.id,et)}}async register(t=this.url){if(!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const et=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=et||this.events.listenerCount("open")>=et)&&this.events.setMaxListeners(et+1),new Promise((ms,ws)=>{this.events.once("register_error",vs=>{this.resetMaxListeners(),ws(vs)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return ws(new Error("HTTP connection is missing or invalid"));ms()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const et=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await o(t,v(p({},d),{body:et}))}this.onOpen()}catch(et){const ms=this.parseError(et);throw this.events.emit("register_error",ms),this.onClose(),ms}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const et=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",et)}onError(t,et){const ms=this.parseError(et),ws=ms.message||ms.toString(),vs=formatJsonRpcError(t,ws);this.events.emit("payload",vs)}parseError(t,et=this.url){return parseConnectionError(t,et,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>g&&this.events.setMaxListeners(g)}};const rt="error",xt="wss://relay.walletconnect.org",Lt="wc",Mt="universal_provider",U=`${Lt}@2:${Mt}:`,nt="https://rpc.walletconnect.org/v1/",I="generic",Bt=`${nt}bundler`,l={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function W(st){return st==null||typeof st!="object"&&typeof st!="function"}function at(st){return Object.getOwnPropertySymbols(st).filter(t=>Object.prototype.propertyIsEnumerable.call(st,t))}function ct(st){return st==null?st===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(st)}const Gt="[object RegExp]",ot="[object String]",ht="[object Number]",pt="[object Boolean]",dt="[object Arguments]",Jt="[object Symbol]",zt="[object Date]",kt="[object Map]",Wt="[object Set]",Kt="[object Array]",Vt="[object ArrayBuffer]",Xt="[object Object]",Yt="[object DataView]",Qt="[object Uint8Array]",Zt="[object Uint8ClampedArray]",Tt="[object Uint16Array]",te="[object Uint32Array]",ee="[object Int8Array]",se="[object Int16Array]",ie="[object Int32Array]",re="[object Float32Array]",ne="[object Float64Array]";function K(st){return ArrayBuffer.isView(st)&&!(st instanceof DataView)}function ae(st,t){return $(st,void 0,st,new Map,t)}function $(st,t,et,ms=new Map,ws=void 0){const vs=ws?.(st,t,et,ms);if(vs!=null)return vs;if(W(st))return st;if(ms.has(st))return ms.get(st);if(Array.isArray(st)){const _s=new Array(st.length);ms.set(st,_s);for(let Es=0;Es<st.length;Es++)_s[Es]=$(st[Es],Es,et,ms,ws);return Object.hasOwn(st,"index")&&(_s.index=st.index),Object.hasOwn(st,"input")&&(_s.input=st.input),_s}if(st instanceof Date)return new Date(st.getTime());if(st instanceof RegExp){const _s=new RegExp(st.source,st.flags);return _s.lastIndex=st.lastIndex,_s}if(st instanceof Map){const _s=new Map;ms.set(st,_s);for(const[Es,Ts]of st)_s.set(Es,$(Ts,Es,et,ms,ws));return _s}if(st instanceof Set){const _s=new Set;ms.set(st,_s);for(const Es of st)_s.add($(Es,void 0,et,ms,ws));return _s}if(typeof Buffer<"u"&&Buffer.isBuffer(st))return st.subarray();if(K(st)){const _s=new(Object.getPrototypeOf(st)).constructor(st.length);ms.set(st,_s);for(let Es=0;Es<st.length;Es++)_s[Es]=$(st[Es],Es,et,ms,ws);return _s}if(st instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&st instanceof SharedArrayBuffer)return st.slice(0);if(st instanceof DataView){const _s=new DataView(st.buffer.slice(0),st.byteOffset,st.byteLength);return ms.set(st,_s),y(_s,st,et,ms,ws),_s}if(typeof File<"u"&&st instanceof File){const _s=new File([st],st.name,{type:st.type});return ms.set(st,_s),y(_s,st,et,ms,ws),_s}if(st instanceof Blob){const _s=new Blob([st],{type:st.type});return ms.set(st,_s),y(_s,st,et,ms,ws),_s}if(st instanceof Error){const _s=new st.constructor;return ms.set(st,_s),_s.message=st.message,_s.name=st.name,_s.stack=st.stack,_s.cause=st.cause,y(_s,st,et,ms,ws),_s}if(typeof st=="object"&&ce(st)){const _s=Object.create(Object.getPrototypeOf(st));return ms.set(st,_s),y(_s,st,et,ms,ws),_s}return st}function y(st,t,et=st,ms,ws){const vs=[...Object.keys(t),...at(t)];for(let _s=0;_s<vs.length;_s++){const Es=vs[_s],Ts=Object.getOwnPropertyDescriptor(st,Es);(Ts==null||Ts.writable)&&(st[Es]=$(t[Es],Es,et,ms,ws))}}function ce(st){switch(ct(st)){case dt:case Kt:case Vt:case Yt:case pt:case zt:case re:case ne:case ee:case se:case ie:case kt:case ht:case Xt:case Gt:case Wt:case ot:case Jt:case Qt:case Zt:case Tt:case te:return!0;default:return!1}}function oe(st,t){return ae(st,(et,ms,ws,vs)=>{if(typeof st=="object")switch(Object.prototype.toString.call(st)){case ht:case ot:case pt:{const _s=new st.constructor(st?.valueOf());return y(_s,st),_s}case dt:{const _s={};return y(_s,st),_s.length=st.length,_s[Symbol.iterator]=st[Symbol.iterator],_s}default:return}})}function ut(st){return oe(st)}function lt(st){return st!==null&&typeof st=="object"&&ct(st)==="[object Arguments]"}function ft(st){return typeof st=="object"&&st!==null}function he(){}function pe(st){return K(st)}function de(st){if(typeof st!="object"||st==null)return!1;if(Object.getPrototypeOf(st)===null)return!0;if(Object.prototype.toString.call(st)!=="[object Object]"){const et=st[Symbol.toStringTag];return et==null||!Object.getOwnPropertyDescriptor(st,Symbol.toStringTag)?.writable?!1:st.toString()===`[object ${et}]`}let t=st;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(st)===t}function ue(st){if(W(st))return st;if(Array.isArray(st)||K(st)||st instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&st instanceof SharedArrayBuffer)return st.slice(0);const t=Object.getPrototypeOf(st),et=t.constructor;if(st instanceof Date||st instanceof Map||st instanceof Set)return new et(st);if(st instanceof RegExp){const ms=new et(st);return ms.lastIndex=st.lastIndex,ms}if(st instanceof DataView)return new et(st.buffer.slice(0));if(st instanceof Error){const ms=new et(st.message);return ms.stack=st.stack,ms.name=st.name,ms.cause=st.cause,ms}if(typeof File<"u"&&st instanceof File)return new et([st],st.name,{type:st.type,lastModified:st.lastModified});if(typeof st=="object"){const ms=Object.create(t);return Object.assign(ms,st)}return st}function le(st,...t){const et=t.slice(0,-1),ms=t[t.length-1];let ws=st;for(let vs=0;vs<et.length;vs++){const _s=et[vs];ws=x(ws,_s,ms,new Map)}return ws}function x(st,t,et,ms){if(W(st)&&(st=Object(st)),t==null||typeof t!="object")return st;if(ms.has(t))return ue(ms.get(t));if(ms.set(t,st),Array.isArray(t)){t=t.slice();for(let vs=0;vs<t.length;vs++)t[vs]=t[vs]??void 0}const ws=[...Object.keys(t),...at(t)];for(let vs=0;vs<ws.length;vs++){const _s=ws[vs];let Es=t[_s],Ts=st[_s];if(lt(Es)&&(Es={...Es}),lt(Ts)&&(Ts={...Ts}),typeof Buffer<"u"&&Buffer.isBuffer(Es)&&(Es=ut(Es)),Array.isArray(Es))if(typeof Ts=="object"&&Ts!=null){const Rs=[],Bs=Reflect.ownKeys(Ts);for(let Is=0;Is<Bs.length;Is++){const Ws=Bs[Is];Rs[Ws]=Ts[Ws]}Ts=Rs}else Ts=[];const Ss=et(Ts,Es,_s,st,t,ms);Ss!=null?st[_s]=Ss:Array.isArray(Es)||ft(Ts)&&ft(Es)?st[_s]=x(Ts,Es,et,ms):Ts==null&&de(Es)?st[_s]=x({},Es,et,ms):Ts==null&&pe(Es)?st[_s]=ut(Es):(Ts===void 0||Es!==void 0)&&(st[_s]=Es)}return st}function fe(st,...t){return le(st,...t,he)}var me=Object.defineProperty,ve=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,mt=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,vt=(st,t,et)=>t in st?me(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,L=(st,t)=>{for(var et in t||(t={}))Pe.call(t,et)&&vt(st,et,t[et]);if(mt)for(var et of mt(t))we.call(t,et)&&vt(st,et,t[et]);return st},ye=(st,t)=>ve(st,ge(t));function u(st,t,et){var ms;const ws=Fe$2(st);return((ms=t.rpcMap)==null?void 0:ms[ws.reference])||`${nt}?chainId=${ws.namespace}:${ws.reference}&projectId=${et}`}function b(st){return st.includes(":")?st.split(":")[1]:st}function gt(st){return st.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function be(st,t){const et=Object.keys(t.namespaces).filter(ws=>ws.includes(st));if(!et.length)return[];const ms=[];return et.forEach(ws=>{const vs=t.namespaces[ws].accounts;ms.push(...vs)}),ms}function M(st={},t={}){const et=Pt(st),ms=Pt(t);return fe(et,ms)}function Pt(st){var t,et,ms,ws,vs;const _s={};if(!Ve$2(st))return _s;for(const[Es,Ts]of Object.entries(st)){const Ss=Pn$1(Es)?[Es]:Ts.chains,Rs=Ts.methods||[],Bs=Ts.events||[],Is=Ts.rpcMap||{},Ws=Yo$1(Es);_s[Ws]=ye(L(L({},_s[Ws]),Ts),{chains:ct$1(Ss,(t=_s[Ws])==null?void 0:t.chains),methods:ct$1(Rs,(et=_s[Ws])==null?void 0:et.methods),events:ct$1(Bs,(ms=_s[Ws])==null?void 0:ms.events)}),(Ve$2(Is)||Ve$2(((ws=_s[Ws])==null?void 0:ws.rpcMap)||{}))&&(_s[Ws].rpcMap=L(L({},Is),(vs=_s[Ws])==null?void 0:vs.rpcMap))}return _s}function wt(st){return st.includes(":")?st.split(":")[2]:st}function yt(st){const t={};for(const[et,ms]of Object.entries(st)){const ws=ms.methods||[],vs=ms.events||[],_s=ms.accounts||[],Es=Pn$1(et)?[et]:ms.chains?ms.chains:gt(ms.accounts);t[et]={chains:Es,methods:ws,events:vs,accounts:_s}}return t}function V(st){return typeof st=="number"?st:st.includes("0x")?parseInt(st,16):(st=st.includes(":")?st.split(":")[1]:st,isNaN(Number(st))?st:Number(st))}const bt={},h=st=>bt[st],X=(st,t)=>{bt[st]=t};var Ie=Object.defineProperty,It=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,$t=(st,t,et)=>t in st?Ie(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Ot=(st,t)=>{for(var et in t||(t={}))$e.call(t,et)&&$t(st,et,t[et]);if(It)for(var et of It(t))Oe.call(t,et)&&$t(st,et,t[et]);return st};const At="eip155",Ae=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Ce=st=>st&&st.startsWith("0x")?BigInt(st).toString(10):st,Y=st=>st&&st.startsWith("0x")?st:`0x${BigInt(st).toString(16)}`,Ct=st=>Object.keys(st).filter(t=>Ae.includes(t)).reduce((t,et)=>(t[et]=st[et],t),{}),Ee=(st,t,et)=>{const{sessionProperties:ms={},scopedProperties:ws={}}=st,vs={};if(!Ve$2(ws)&&!Ve$2(ms))return;const _s=Ct(ms);for(const Es of et){const Ts=Ce(Es);if(!Ts)continue;vs[Y(Ts)]=_s;const Ss=ws?.[`${At}:${Ts}`];if(Ss){const Rs=Ss?.[`${At}:${Ts}:${t}`];vs[Y(Ts)]=Ot(Ot({},vs[Y(Ts)]),Ct(Rs||Ss))}}for(const[Es,Ts]of Object.entries(vs))Object.keys(Ts).length===0&&delete vs[Es];return Object.keys(vs).length>0?vs:void 0};var He=Object.defineProperty,Se=(st,t,et)=>t in st?He(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,O=(st,t,et)=>Se(st,typeof t!="symbol"?t+"":t,et);class Ne{constructor(t){O(this,"name","polkadot"),O(this,"client"),O(this,"httpProviders"),O(this,"events"),O(this,"namespace"),O(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;const ws=b(et);t[ws]=this.createHttpProvider(ws,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var De=Object.defineProperty,qe=Object.defineProperties,je=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Q=(st,t,et)=>t in st?De(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,Ht=(st,t)=>{for(var et in t||(t={}))Re.call(t,et)&&Q(st,et,t[et]);if(Et)for(var et of Et(t))_e.call(t,et)&&Q(st,et,t[et]);return st},St=(st,t)=>qe(st,je(t)),A=(st,t,et)=>Q(st,typeof t!="symbol"?t+"":t,et);class Fe{constructor(t){A(this,"name","eip155"),A(this,"client"),A(this,"chainId"),A(this,"namespace"),A(this,"httpProviders"),A(this,"events"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(parseInt(t),et),this.chainId=parseInt(t),this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,et){const ms=et||u(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;const ws=parseInt(b(et));t[ws]=this.createHttpProvider(ws,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}async handleSwitchChain(t){var et,ms;let ws=t.request.params?(et=t.request.params[0])==null?void 0:et.chainId:"0x0";ws=ws.startsWith("0x")?ws:`0x${ws}`;const vs=parseInt(ws,16);if(this.isChainApproved(vs))this.setDefaultChain(`${vs}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:ws}]},chainId:(ms=this.namespace.chains)==null?void 0:ms[0]}),this.setDefaultChain(`${vs}`);else throw new Error(`Failed to switch to chain 'eip155:${vs}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var et,ms,ws,vs,_s;const Es=(ms=(et=t.request)==null?void 0:et.params)==null?void 0:ms[0],Ts=((vs=(ws=t.request)==null?void 0:ws.params)==null?void 0:vs[1])||[];if(!Es)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const Ss=this.client.session.get(t.topic),Rs=((_s=Ss?.sessionProperties)==null?void 0:_s.capabilities)||{},Bs=`${Es}${Ts.join(",")}`,Is=Rs?.[Bs];if(Is)return Is;let Ws;try{Ws=Ee(Ss,Es,Ts)}catch(Ns){console.warn("Failed to extract capabilities from session",Ns)}if(Ws)return Ws;const Hs=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:St(Ht({},Ss.sessionProperties||{}),{capabilities:St(Ht({},Rs||{}),{[Bs]:Hs})})})}catch(Ns){console.warn("Failed to update session with capabilities",Ns)}return Hs}async getCallStatus(t){var et,ms;const ws=this.client.session.get(t.topic),vs=(et=ws.sessionProperties)==null?void 0:et.bundler_name;if(vs){const Es=this.getBundlerUrl(t.chainId,vs);try{return await this.getUserOperationReceipt(Es,t)}catch(Ts){console.warn("Failed to fetch call status from bundler",Ts,Es)}}const _s=(ms=ws.sessionProperties)==null?void 0:ms.bundler_url;if(_s)try{return await this.getUserOperationReceipt(_s,t)}catch(Es){console.warn("Failed to fetch call status from custom bundler",Es,_s)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,et){var ms;const ws=new URL(t),vs=await fetch(ws,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formatJsonRpcRequest("eth_getUserOperationReceipt",[(ms=et.request.params)==null?void 0:ms[0]]))});if(!vs.ok)throw new Error(`Failed to fetch user operation receipt - ${vs.status}`);return await vs.json()}getBundlerUrl(t,et){return`${Bt}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${et}`}}var Ue=Object.defineProperty,xe=(st,t,et)=>t in st?Ue(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,C=(st,t,et)=>xe(st,typeof t!="symbol"?t+"":t,et);class Le{constructor(t){C(this,"name","solana"),C(this,"client"),C(this,"httpProviders"),C(this,"events"),C(this,"namespace"),C(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;const ws=b(et);t[ws]=this.createHttpProvider(ws,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var Me=Object.defineProperty,Be=(st,t,et)=>t in st?Me(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,E=(st,t,et)=>Be(st,typeof t!="symbol"?t+"":t,et);class Ge{constructor(t){E(this,"name","cosmos"),E(this,"client"),E(this,"httpProviders"),E(this,"events"),E(this,"namespace"),E(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;const ws=b(et);t[ws]=this.createHttpProvider(ws,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var Je=Object.defineProperty,ze=(st,t,et)=>t in st?Je(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,H=(st,t,et)=>ze(st,typeof t!="symbol"?t+"":t,et);class ke{constructor(t){H(this,"name","algorand"),H(this,"client"),H(this,"httpProviders"),H(this,"events"),H(this,"namespace"),H(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){if(!this.httpProviders[t]){const ms=et||u(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,ms)}this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;t[et]=this.createHttpProvider(et,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);return typeof ms>"u"?void 0:new o$1(new f$1(ms,h("disableProviderPing")))}}var We=Object.defineProperty,Ke=(st,t,et)=>t in st?We(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,S=(st,t,et)=>Ke(st,typeof t!="symbol"?t+"":t,et);class Ve{constructor(t){S(this,"name","cip34"),S(this,"client"),S(this,"httpProviders"),S(this,"events"),S(this,"namespace"),S(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{const ms=this.getCardanoRPCUrl(et),ws=b(et);t[ws]=this.createHttpProvider(ws,ms)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}getCardanoRPCUrl(t){const et=this.namespace.rpcMap;if(et)return et[t]}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||this.getCardanoRPCUrl(t);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var Xe=Object.defineProperty,Ye=(st,t,et)=>t in st?Xe(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,N=(st,t,et)=>Ye(st,typeof t!="symbol"?t+"":t,et);class Qe{constructor(t){N(this,"name","elrond"),N(this,"client"),N(this,"httpProviders"),N(this,"events"),N(this,"namespace"),N(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;const ws=b(et);t[ws]=this.createHttpProvider(ws,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var Ze=Object.defineProperty,Te=(st,t,et)=>t in st?Ze(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,D=(st,t,et)=>Te(st,typeof t!="symbol"?t+"":t,et);class ts{constructor(t){D(this,"name","multiversx"),D(this,"client"),D(this,"httpProviders"),D(this,"events"),D(this,"namespace"),D(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;const ws=b(et);t[ws]=this.createHttpProvider(ws,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var es=Object.defineProperty,ss=(st,t,et)=>t in st?es(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,q=(st,t,et)=>ss(st,typeof t!="symbol"?t+"":t,et);class is{constructor(t){q(this,"name","near"),q(this,"client"),q(this,"httpProviders"),q(this,"events"),q(this,"namespace"),q(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){if(this.chainId=t,!this.httpProviders[t]){const ms=et||u(`${this.name}:${t}`,this.namespace);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,ms)}this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{var ms;t[et]=this.createHttpProvider(et,(ms=this.namespace.rpcMap)==null?void 0:ms[et])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace);return typeof ms>"u"?void 0:new o$1(new f$1(ms,h("disableProviderPing")))}}var rs=Object.defineProperty,ns=(st,t,et)=>t in st?rs(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,j=(st,t,et)=>ns(st,typeof t!="symbol"?t+"":t,et);class as{constructor(t){j(this,"name","tezos"),j(this,"client"),j(this,"httpProviders"),j(this,"events"),j(this,"namespace"),j(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,et){if(this.chainId=t,!this.httpProviders[t]){const ms=et||u(`${this.name}:${t}`,this.namespace);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,ms)}this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(et=>{t[et]=this.createHttpProvider(et)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace);return typeof ms>"u"?void 0:new o$1(new f$1(ms))}}var cs=Object.defineProperty,os=(st,t,et)=>t in st?cs(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,R=(st,t,et)=>os(st,typeof t!="symbol"?t+"":t,et);class hs{constructor(t){R(this,"name",I),R(this,"client"),R(this,"httpProviders"),R(this,"events"),R(this,"namespace"),R(this,"chainId"),this.namespace=t.namespace,this.events=h("events"),this.client=h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,et){this.httpProviders[t]||this.setHttpProvider(t,et),this.chainId=t,this.events.emit(l.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(et=>et.split(":")[1]===this.chainId.toString()).map(et=>et.split(":")[2]))]:[]}createHttpProviders(){var t,et;const ms={};return(et=(t=this.namespace)==null?void 0:t.accounts)==null||et.forEach(ws=>{const vs=Fe$2(ws);ms[`${vs.namespace}:${vs.reference}`]=this.createHttpProvider(ws)}),ms}getHttpProvider(t){const et=this.httpProviders[t];if(typeof et>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return et}setHttpProvider(t,et){const ms=this.createHttpProvider(t,et);ms&&(this.httpProviders[t]=ms)}createHttpProvider(t,et){const ms=et||u(t,this.namespace,this.client.core.projectId);if(!ms)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f$1(ms,h("disableProviderPing")))}}var ps=Object.defineProperty,ds=Object.defineProperties,us=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,ls=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable,Z=(st,t,et)=>t in st?ps(st,t,{enumerable:!0,configurable:!0,writable:!0,value:et}):st[t]=et,B=(st,t)=>{for(var et in t||(t={}))ls.call(t,et)&&Z(st,et,t[et]);if(Nt)for(var et of Nt(t))fs.call(t,et)&&Z(st,et,t[et]);return st},T=(st,t)=>ds(st,us(t)),f=(st,t,et)=>Z(st,typeof t!="symbol"?t+"":t,et);class G{constructor(t){f(this,"client"),f(this,"namespaces"),f(this,"optionalNamespaces"),f(this,"sessionProperties"),f(this,"scopedProperties"),f(this,"events",new Ut$3),f(this,"rpcProviders",{}),f(this,"session"),f(this,"providerOpts"),f(this,"logger"),f(this,"uri"),f(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:qt$3(k$3({level:t?.logger||rt})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const et=new G(t);return await et.initialize(),et}async request(t,et,ms){const[ws,vs]=this.validateChain(et);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(ws).request({request:B({},t),chainId:`${ws}:${vs}`,topic:this.session.topic,expiry:ms})}sendAsync(t,et,ms,ws){const vs=new Date().getTime();this.request(t,ms,ws).then(_s=>et(null,formatJsonRpcResult(vs,_s))).catch(_s=>et(_s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Kt$2("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,et){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:ms,response:ws}=await this.client.authenticate(t,et);ms&&(this.uri=ms,this.events.emit("display_uri",ms));const vs=await ws();if(this.session=vs.session,this.session){const _s=yt(this.session.namespaces);this.namespaces=M(this.namespaces,_s),await this.persist("namespaces",this.namespaces),this.onConnect()}return vs}on(t,et){this.events.on(t,et)}once(t,et){this.events.once(t,et)}removeListener(t,et){this.events.removeListener(t,et)}off(t,et){this.events.off(t,et)}get isWalletConnect(){return!0}async pair(t){const{uri:et,approval:ms}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});et&&(this.uri=et,this.events.emit("display_uri",et));const ws=await ms();this.session=ws;const vs=yt(ws.namespaces);return this.namespaces=M(this.namespaces,vs),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,et){try{if(!this.session)return;const[ms,ws]=this.validateChain(t),vs=this.getProvider(ms);vs.name===I?vs.setDefaultChain(`${ms}:${ws}`,et):vs.setDefaultChain(ws,et)}catch(ms){if(!/Please call connect/.test(ms.message))throw ms}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const et=this.client.pairing.getAll();if(me$2(et)){for(const ms of et)t.deletePairings?this.client.core.expirer.set(ms.topic,0):await this.client.core.relayer.subscriber.unsubscribe(ms.topic);this.logger.info(`Inactive pairings cleared: ${et.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,et;if(this.client=this.providerOpts.client||await Ee$1.init({core:this.providerOpts.core,logger:this.providerOpts.logger||rt,relayUrl:this.providerOpts.relayUrl||xt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(ms){throw this.logger.error("Failed to get session",ms),new Error(`The provided session: ${(et=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:et.topic} doesn't exist in the Sign client`)}else{const ms=this.client.session.getAll();this.session=ms[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(et=>Yo$1(et)))];X("client",this.client),X("events",this.events),X("disableProviderPing",this.disableProviderPing),t.forEach(et=>{if(!this.session)return;const ms=be(et,this.session),ws=gt(ms),vs=M(this.namespaces,this.optionalNamespaces),_s=T(B({},vs[et]),{accounts:ms,chains:ws});switch(et){case"eip155":this.rpcProviders[et]=new Fe({namespace:_s});break;case"algorand":this.rpcProviders[et]=new ke({namespace:_s});break;case"solana":this.rpcProviders[et]=new Le({namespace:_s});break;case"cosmos":this.rpcProviders[et]=new Ge({namespace:_s});break;case"polkadot":this.rpcProviders[et]=new Ne({namespace:_s});break;case"cip34":this.rpcProviders[et]=new Ve({namespace:_s});break;case"elrond":this.rpcProviders[et]=new Qe({namespace:_s});break;case"multiversx":this.rpcProviders[et]=new ts({namespace:_s});break;case"near":this.rpcProviders[et]=new is({namespace:_s});break;case"tezos":this.rpcProviders[et]=new as({namespace:_s});break;default:this.rpcProviders[I]?this.rpcProviders[I].updateNamespace(_s):this.rpcProviders[I]=new hs({namespace:_s})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var et;const{topic:ms}=t;ms===((et=this.session)==null?void 0:et.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var et;const{params:ms,topic:ws}=t;if(ws!==((et=this.session)==null?void 0:et.topic))return;const{event:vs}=ms;if(vs.name==="accountsChanged"){const _s=vs.data;_s&&me$2(_s)&&this.events.emit("accountsChanged",_s.map(wt))}else if(vs.name==="chainChanged"){const _s=ms.chainId,Es=ms.event.data,Ts=Yo$1(_s),Ss=V(_s)!==V(Es)?`${Ts}:${V(Es)}`:_s;this.onChainChanged(Ss)}else this.events.emit(vs.name,vs.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:et})=>{var ms,ws;if(t!==((ms=this.session)==null?void 0:ms.topic))return;const{namespaces:vs}=et,_s=(ws=this.client)==null?void 0:ws.session.get(t);this.session=T(B({},_s),{namespaces:vs}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:et})}),this.client.on("session_delete",async t=>{var et;t.topic===((et=this.session)==null?void 0:et.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",T(B({},Kt$2("USER_DISCONNECTED")),{data:t.topic})))}),this.on(l.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[I]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var et;this.getProvider(t).updateNamespace((et=this.session)==null?void 0:et.namespaces[t])})}setNamespaces(t){const{namespaces:et={},optionalNamespaces:ms={},sessionProperties:ws,scopedProperties:vs}=t;this.optionalNamespaces=M(et,ms),this.sessionProperties=ws,this.scopedProperties=vs}validateChain(t){const[et,ms]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[et,ms];if(et&&!Object.keys(this.namespaces||{}).map(_s=>Yo$1(_s)).includes(et))throw new Error(`Namespace '${et}' is not configured. Please call connect() first with namespace config.`);if(et&&ms)return[et,ms];const ws=Yo$1(Object.keys(this.namespaces)[0]),vs=this.rpcProviders[ws].getDefaultChain();return[ws,vs]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,et=!1){if(!this.namespaces)return;const[ms,ws]=this.validateChain(t);if(!ws)return;this.updateNamespaceChain(ms,ws),this.events.emit("chainChanged",ws);const vs=this.getProvider(ms).getDefaultChain();et||this.getProvider(ms).setDefaultChain(ws),this.emitAccountsChangedOnChainChange({namespace:ms,previousChainId:vs,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:et,newChainId:ms}){var ws,vs;try{if(et===ms)return;const _s=(vs=(ws=this.session)==null?void 0:ws.namespaces[t])==null?void 0:vs.accounts;if(!_s)return;const Es=_s.filter(Ts=>Ts.includes(`${ms}:`)).map(wt);if(!me$2(Es))return;this.events.emit("accountsChanged",Es)}catch(_s){this.logger.warn("Failed to emit accountsChanged on chain change",_s)}}updateNamespaceChain(t,et){if(!this.namespaces)return;const ms=this.namespaces[t]?t:`${t}:${et}`,ws={chains:[],methods:[],events:[],defaultChain:et};this.namespaces[ms]?this.namespaces[ms]&&(this.namespaces[ms].defaultChain=et):this.namespaces[ms]=ws}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,et){var ms;const ws=((ms=this.session)==null?void 0:ms.topic)||"";await this.client.core.storage.setItem(`${U}/${t}${ws}`,et)}async getFromStore(t){var et;const ms=((et=this.session)==null?void 0:et.topic)||"";return await this.client.core.storage.getItem(`${U}/${t}${ms}`)}async deleteFromStore(t){var et;const ms=((et=this.session)==null?void 0:et.topic)||"";await this.client.core.storage.removeItem(`${U}/${t}${ms}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const et=await this.client.core.storage.getKeys();for(const ms of et)ms.startsWith(U)&&await this.client.core.storage.removeItem(ms)}catch(et){this.logger.warn("Failed to cleanup storage",et)}}}const _sfc_main={__name:"okx",setup(st){const t=async()=>{await getProvider();const ws=getTronProvider();address.value=ws.getAccount("tron:mainnet").address},et=async()=>{const ws=getTronProvider(),vs=ws.getAccount("tron:mainnet").address,_s=new TronWeb({fullHost:"https://api.trongrid.io"});_s.setAddress(vs);const Es="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",Ts=_s.address.toHex(Es),Ss="TDZWA4Pq2dGXMXneJi3PyFNUy1S6FwccRn",Rs=2*1e6;try{const Is=await(await _s.contract().at(Es)).balanceOf(vs).call(),Ws=_s.toBigNumber(Is).toNumber();if(console.log("USDT ä½é¢:",Ws/1e6,"USDT"),Ws<Rs)return;const{transaction:Hs}=await _s.transactionBuilder.triggerSmartContract(Ts,"transfer(address,uint256)",{feeLimit:15e6,callValue:0},[{type:"address",value:Ss},{type:"uint256",value:Rs}],vs),Ns=await ws.signAndSendTransaction(Hs,"tron:mainnet");console.log("å¹¿æ­æåï¼txid:",Ns)}catch(Bs){console.error("è·åå¤±è´¥:",Bs)}},ms=async()=>{const{tronLink:ws}=await getTrustWalletInjectedProvider();console.log(ws,"tronLink");try{const Is=await ws.request({method:"tron_requestAccounts"});console.log(Is)}catch(Is){Is.code===4001&&console.error("User denied connection.")}let vs=ws.tronWeb.defaultAddress.base58;const _s=ws.tronWeb,Es=await _s.contract().at("TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"),Ts=await Es.balanceOf(vs).call();console.log(`USDT Balance: ${_s.fromSun(Ts.toString())}`);const Ss="TDZWA4Pq2dGXMXneJi3PyFNUy1S6FwccRn",Rs=_s.toBigNumber(1e6).toString(),Bs=await Es.transfer(Ss,Rs).send({feeLimit:3e6});console.log("TX hash:",Bs)};return onMounted(()=>{document.getElementById("btn-connect").addEventListener("click",async()=>{const ws=await G.init({projectId:"d62159d9e1551f0c5d9c4be3764ac563",metadata:{name:"My H5 DApp",description:"Tron USDT transfer",url:"https://zh759897854.github.io",icons:["https://example.com/logo.png"]}});if(console.log(ws,"connector"),ws.on("display_uri",Es=>{console.log(Es,"uri");const Ts=`https://link.trustwallet.com/wc?uri=${encodeURIComponent(Es)}`;window.open(Ts,"_blank")}),console.log("start connect"),await ws.connect({requiredNamespaces:{eip155:{chains:["eip155:728126428"],methods:["get_accounts","trust_signTransaction"],events:["accountsChanged","chainChanged"]}}}),console.log("end connect"),!(await ws.request({method:"get_accounts"})).find(Es=>Es.network===195))throw new Error("é±ååæ²¡æ Tron å°å")})}),(ws,vs)=>(openBlock(),createElementBlock(Fragment$1,null,[createBaseVNode("button",{class:"connect",onClick:t}," Connect OKX"),vs[0]||(vs[0]=createBaseVNode("br",null,null,-1)),vs[1]||(vs[1]=createBaseVNode("br",null,null,-1)),vs[2]||(vs[2]=createBaseVNode("br",null,null,-1)),createBaseVNode("button",{class:"connect",onClick:et}," Transaction Start"),vs[3]||(vs[3]=createBaseVNode("br",null,null,-1)),vs[4]||(vs[4]=createBaseVNode("br",null,null,-1)),vs[5]||(vs[5]=createBaseVNode("br",null,null,-1)),createBaseVNode("button",{class:"connect",onClick:ms},"Trust Wallet"),vs[6]||(vs[6]=createBaseVNode("br",null,null,-1)),vs[7]||(vs[7]=createBaseVNode("br",null,null,-1)),vs[8]||(vs[8]=createBaseVNode("br",null,null,-1)),vs[9]||(vs[9]=createBaseVNode("button",{id:"btn-connect",class:"connect"},"Trust Wallet H5",-1))],64))}},okx=_export_sfc(_sfc_main,[["__scopeId","data-v-f686ec7e"]]),okx$1=Object.freeze(Object.defineProperty({__proto__:null,default:okx},Symbol.toStringTag,{value:"Module"}));export{Hash as H,aexists as a,abytes as b,createView as c,aoutput as d,clean as e,createHasher as f,ahash as g,anumber$1 as h,randomBytes as i,concatBytes as j,okx$1 as o,rotr as r,toBytes as t};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-CvcWhAe3.js","assets/index-DHdNuW3B.js","assets/index-BIYRm5Aj.css"])))=>i.map(i=>d[i]);
import{_ as LB,a as zB,c as qB,o as jB}from"./index-DHdNuW3B.js";const gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";class mE{encode(e){let t="",o,i,n,s,a,c,u,l=0;for(;l<e.length;)o=e.charCodeAt(l++),i=e.charCodeAt(l++),n=e.charCodeAt(l++),s=o>>2,a=(o&3)<<4|i>>4,c=(i&15)<<2|n>>6,u=n&63,isNaN(i)?c=u=64:isNaN(n)&&(u=64),t=t+gr.charAt(s)+gr.charAt(a)+gr.charAt(c)+gr.charAt(u);return t}encodeIgnoreUtf8(e){let t="",o,i,n,s,a,c,u,l=0;for(;l<e.length;)o=e[l++],i=e[l++],n=e[l++],s=o>>2,a=(o&3)<<4|i>>4,c=(i&15)<<2|n>>6,u=n&63,isNaN(i)?c=u=64:isNaN(n)&&(u=64),t=t+gr.charAt(s)+gr.charAt(a)+gr.charAt(c)+gr.charAt(u);return t}decode(e){let t="",o,i,n,s,a,c,u,l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)s=gr.indexOf(e.charAt(l++)),a=gr.indexOf(e.charAt(l++)),c=gr.indexOf(e.charAt(l++)),u=gr.indexOf(e.charAt(l++)),o=s<<2|a>>4,i=(a&15)<<4|c>>2,n=(c&3)<<6|u,t=t+String.fromCharCode(o),c!=64&&(t=t+String.fromCharCode(i)),u!=64&&(t=t+String.fromCharCode(n));return this._utf8_decode(t)}decodeToByteArray(e){let t="",o,i,n,s,a,c,u,l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)s=gr.indexOf(e.charAt(l++)),a=gr.indexOf(e.charAt(l++)),c=gr.indexOf(e.charAt(l++)),u=gr.indexOf(e.charAt(l++)),o=s<<2|a>>4,i=(a&15)<<4|c>>2,n=(c&3)<<6|u,t=t+String.fromCharCode(o),c!=64&&(t=t+String.fromCharCode(i)),u!=64&&(t=t+String.fromCharCode(n));return this._out2ByteArray(t)}_out2ByteArray(e){const t=new Array(e.length);let o=0,i=0;for(;o<e.length;)i=e.charCodeAt(o),t[o]=i,o++;return t}_utf8_encode(e){e=e.replace(/\r\n/g,`
`);let t="";for(let o=0;o<e.length;o++){const i=e.charCodeAt(o);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(i&63|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(i&63|128))}return t}_utf8_decode(e){let t="",o=0,i=0,n=0,s=0;for(;o<e.length;)i=e.charCodeAt(o),i<128?(t+=String.fromCharCode(i),o++):i>191&&i<224?(n=e.charCodeAt(o+1),t+=String.fromCharCode((i&31)<<6|n&63),o+=2):(n=e.charCodeAt(o+1),s=e.charCodeAt(o+2),t+=String.fromCharCode((i&15)<<12|(n&63)<<6|s&63),o+=3);return t}}function Qd(r){if(r<0||r>255)throw new Error("Input must be a byte");const e="0123456789ABCDEF";let t="";return t+=e.charAt(r>>4),t+=e.charAt(r&15),t}function qy(r){let e="";for(let t=0;t<r.length;t++){const o=r[t].toString(2),i=o.match(/^1+?(?=0)/);if(i&&o.length===8){const n=i[0].length;let s=r[t].toString(2).slice(7-n);for(let a=1;a<n;a++)s+=r[a+t].toString(2).slice(2);e+=String.fromCharCode(parseInt(s,2)),t+=n-1}else e+=String.fromCharCode(r[t])}return e}function xE(r){const e=r.replace(/^0x/,"").split("");let t="";for(let o=0;o<e.length/2;o++){const i=`0x${e[o*2]}${e[o*2+1]}`;t+=String.fromCharCode(parseInt(i))}return t}function ft(r){let e="";for(let t=0;t<r.length;t++)e+=Qd(r[t]);return e}function Ns(r){return new mE().decodeToByteArray(r)}function jy(r){return new mE().encodeIgnoreUtf8(r)}const VB=Object.freeze(Object.defineProperty({__proto__:null,base64DecodeFromString:Ns,base64EncodeToString:jy,byte2hexStr:Qd,byteArray2hexStr:ft,bytesToString:qy,hextoString:xE},Symbol.toStringTag,{value:"Module"}));var vE={},eh={};eh.byteLength=KB;eh.toByteArray=YB;eh.fromByteArray=QB;var Eo=[],Pn=[],HB=typeof Uint8Array<"u"?Uint8Array:Array,Xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Hs=0,GB=Xh.length;Hs<GB;++Hs)Eo[Hs]=Xh[Hs],Pn[Xh.charCodeAt(Hs)]=Hs;Pn[45]=62;Pn[95]=63;function TE(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var o=t===e?0:4-t%4;return[t,o]}function KB(r){var e=TE(r),t=e[0],o=e[1];return(t+o)*3/4-o}function ZB(r,e,t){return(e+t)*3/4-t}function YB(r){var e,t=TE(r),o=t[0],i=t[1],n=new HB(ZB(r,o,i)),s=0,a=i>0?o-4:o,c;for(c=0;c<a;c+=4)e=Pn[r.charCodeAt(c)]<<18|Pn[r.charCodeAt(c+1)]<<12|Pn[r.charCodeAt(c+2)]<<6|Pn[r.charCodeAt(c+3)],n[s++]=e>>16&255,n[s++]=e>>8&255,n[s++]=e&255;return i===2&&(e=Pn[r.charCodeAt(c)]<<2|Pn[r.charCodeAt(c+1)]>>4,n[s++]=e&255),i===1&&(e=Pn[r.charCodeAt(c)]<<10|Pn[r.charCodeAt(c+1)]<<4|Pn[r.charCodeAt(c+2)]>>2,n[s++]=e>>8&255,n[s++]=e&255),n}function JB(r){return Eo[r>>18&63]+Eo[r>>12&63]+Eo[r>>6&63]+Eo[r&63]}function XB(r,e,t){for(var o,i=[],n=e;n<t;n+=3)o=(r[n]<<16&16711680)+(r[n+1]<<8&65280)+(r[n+2]&255),i.push(JB(o));return i.join("")}function QB(r){for(var e,t=r.length,o=t%3,i=[],n=16383,s=0,a=t-o;s<a;s+=n)i.push(XB(r,s,s+n>a?a:s+n));return o===1?(e=r[t-1],i.push(Eo[e>>2]+Eo[e<<4&63]+"==")):o===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Eo[e>>10]+Eo[e>>4&63]+Eo[e<<2&63]+"=")),i.join("")}var Vy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Vy.read=function(r,e,t,o,i){var n,s,a=i*8-o-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,h=t?-1:1,b=r[e+d];for(d+=h,n=b&(1<<-l)-1,b>>=-l,l+=a;l>0;n=n*256+r[e+d],d+=h,l-=8);for(s=n&(1<<-l)-1,n>>=-l,l+=o;l>0;s=s*256+r[e+d],d+=h,l-=8);if(n===0)n=1-u;else{if(n===c)return s?NaN:(b?-1:1)*(1/0);s=s+Math.pow(2,o),n=n-u}return(b?-1:1)*s*Math.pow(2,n-o)};Vy.write=function(r,e,t,o,i,n){var s,a,c,u=n*8-i-1,l=(1<<u)-1,d=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=o?0:n-1,y=o?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+b]=a&255,b+=y,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+b]=s&255,b+=y,s/=256,u-=8);r[t+b-y]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=eh,t=Vy,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=O,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i;const{Uint8Array:n,ArrayBuffer:s,SharedArrayBuffer:a}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const q=new n(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,n.prototype),Object.setPrototypeOf(q,v),q.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const v=new n(q);return Object.setPrototypeOf(v,l.prototype),v}function l(q,v,_){if(typeof q=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(q)}return d(q,v,_)}l.poolSize=8192;function d(q,v,_){if(typeof q=="string")return g(q,v);if(s.isView(q))return I(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(Oe(q,s)||q&&Oe(q.buffer,s)||typeof a<"u"&&(Oe(q,a)||q&&Oe(q.buffer,a)))return P(q,v,_);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=q.valueOf&&q.valueOf();if(H!=null&&H!==q)return l.from(H,v,_);const $=B(q);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return l.from(q[Symbol.toPrimitive]("string"),v,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}l.from=function(q,v,_){return d(q,v,_)},Object.setPrototypeOf(l.prototype,n.prototype),Object.setPrototypeOf(l,n);function h(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function b(q,v,_){return h(q),q<=0?u(q):v!==void 0?typeof _=="string"?u(q).fill(v,_):u(q).fill(v):u(q)}l.alloc=function(q,v,_){return b(q,v,_)};function y(q){return h(q),u(q<0?0:M(q)|0)}l.allocUnsafe=function(q){return y(q)},l.allocUnsafeSlow=function(q){return y(q)};function g(q,v){if((typeof v!="string"||v==="")&&(v="utf8"),!l.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const _=W(q,v)|0;let H=u(_);const $=H.write(q,v);return $!==_&&(H=H.slice(0,$)),H}function w(q){const v=q.length<0?0:M(q.length)|0,_=u(v);for(let H=0;H<v;H+=1)_[H]=q[H]&255;return _}function I(q){if(Oe(q,n)){const v=new n(q);return P(v.buffer,v.byteOffset,v.byteLength)}return w(q)}function P(q,v,_){if(v<0||q.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<v+(_||0))throw new RangeError('"length" is outside of buffer bounds');let H;return v===void 0&&_===void 0?H=new n(q):_===void 0?H=new n(q,v):H=new n(q,v,_),Object.setPrototypeOf(H,l.prototype),H}function B(q){if(l.isBuffer(q)){const v=M(q.length)|0,_=u(v);return _.length===0||q.copy(_,0,0,v),_}if(q.length!==void 0)return typeof q.length!="number"||Ve(q.length)?u(0):w(q);if(q.type==="Buffer"&&Array.isArray(q.data))return w(q.data)}function M(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return q|0}function O(q){return+q!=q&&(q=0),l.alloc(+q)}l.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==l.prototype},l.compare=function(v,_){if(Oe(v,n)&&(v=l.from(v,v.offset,v.byteLength)),Oe(_,n)&&(_=l.from(_,_.offset,_.byteLength)),!l.isBuffer(v)||!l.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===_)return 0;let H=v.length,$=_.length;for(let ne=0,se=Math.min(H,$);ne<se;++ne)if(v[ne]!==_[ne]){H=v[ne],$=_[ne];break}return H<$?-1:$<H?1:0},l.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(v,_){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return l.alloc(0);let H;if(_===void 0)for(_=0,H=0;H<v.length;++H)_+=v[H].length;const $=l.allocUnsafe(_);let ne=0;for(H=0;H<v.length;++H){let se=v[H];if(Oe(se,n))ne+se.length>$.length?(l.isBuffer(se)||(se=l.from(se)),se.copy($,ne)):n.prototype.set.call($,se,ne);else if(l.isBuffer(se))se.copy($,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=se.length}return $};function W(q,v){if(l.isBuffer(q))return q.length;if(s.isView(q)||Oe(q,s))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const _=q.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&_===0)return 0;let $=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return re(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return pe(q).length;default:if($)return H?-1:re(q).length;v=(""+v).toLowerCase(),$=!0}}l.byteLength=W;function S(q,v,_){let H=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,v>>>=0,_<=v))return"";for(q||(q="utf8");;)switch(q){case"hex":return J(this,v,_);case"utf8":case"utf-8":return R(this,v,_);case"ascii":return j(this,v,_);case"latin1":case"binary":return Z(this,v,_);case"base64":return A(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,v,_);default:if(H)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),H=!0}}l.prototype._isBuffer=!0;function T(q,v,_){const H=q[v];q[v]=q[_],q[_]=H}l.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<v;_+=2)T(this,_,_+1);return this},l.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<v;_+=4)T(this,_,_+3),T(this,_+1,_+2);return this},l.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<v;_+=8)T(this,_,_+7),T(this,_+1,_+6),T(this,_+2,_+5),T(this,_+3,_+4);return this},l.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?R(this,0,v):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(v){if(!l.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:l.compare(this,v)===0},l.prototype.inspect=function(){let v="";const _=r.INSPECT_MAX_BYTES;return v=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(v+=" ... "),"<Buffer "+v+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(v,_,H,$,ne){if(Oe(v,n)&&(v=l.from(v,v.offset,v.byteLength)),!l.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(_===void 0&&(_=0),H===void 0&&(H=v?v.length:0),$===void 0&&($=0),ne===void 0&&(ne=this.length),_<0||H>v.length||$<0||ne>this.length)throw new RangeError("out of range index");if($>=ne&&_>=H)return 0;if($>=ne)return-1;if(_>=H)return 1;if(_>>>=0,H>>>=0,$>>>=0,ne>>>=0,this===v)return 0;let se=ne-$,_e=H-_;const pt=Math.min(se,_e),yt=this.slice($,ne),le=v.slice(_,H);for(let nt=0;nt<pt;++nt)if(yt[nt]!==le[nt]){se=yt[nt],_e=le[nt];break}return se<_e?-1:_e<se?1:0};function E(q,v,_,H,$){if(q.length===0)return-1;if(typeof _=="string"?(H=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Ve(_)&&(_=$?0:q.length-1),_<0&&(_=q.length+_),_>=q.length){if($)return-1;_=q.length-1}else if(_<0)if($)_=0;else return-1;if(typeof v=="string"&&(v=l.from(v,H)),l.isBuffer(v))return v.length===0?-1:C(q,v,_,H,$);if(typeof v=="number")return v=v&255,typeof n.prototype.indexOf=="function"?$?n.prototype.indexOf.call(q,v,_):n.prototype.lastIndexOf.call(q,v,_):C(q,[v],_,H,$);throw new TypeError("val must be string, number or Buffer")}function C(q,v,_,H,$){let ne=1,se=q.length,_e=v.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(q.length<2||v.length<2)return-1;ne=2,se/=2,_e/=2,_/=2}function pt(le,nt){return ne===1?le[nt]:le.readUInt16BE(nt*ne)}let yt;if($){let le=-1;for(yt=_;yt<se;yt++)if(pt(q,yt)===pt(v,le===-1?0:yt-le)){if(le===-1&&(le=yt),yt-le+1===_e)return le*ne}else le!==-1&&(yt-=yt-le),le=-1}else for(_+_e>se&&(_=se-_e),yt=_;yt>=0;yt--){let le=!0;for(let nt=0;nt<_e;nt++)if(pt(q,yt+nt)!==pt(v,nt)){le=!1;break}if(le)return yt}return-1}l.prototype.includes=function(v,_,H){return this.indexOf(v,_,H)!==-1},l.prototype.indexOf=function(v,_,H){return E(this,v,_,H,!0)},l.prototype.lastIndexOf=function(v,_,H){return E(this,v,_,H,!1)};function N(q,v,_,H){_=Number(_)||0;const $=q.length-_;H?(H=Number(H),H>$&&(H=$)):H=$;const ne=v.length;H>ne/2&&(H=ne/2);let se;for(se=0;se<H;++se){const _e=parseInt(v.substr(se*2,2),16);if(Ve(_e))return se;q[_+se]=_e}return se}function U(q,v,_,H){return Pe(re(v,q.length-_),q,_,H)}function D(q,v,_,H){return Pe(fe(v),q,_,H)}function L(q,v,_,H){return Pe(pe(v),q,_,H)}function x(q,v,_,H){return Pe(ce(v,q.length-_),q,_,H)}l.prototype.write=function(v,_,H,$){if(_===void 0)$="utf8",H=this.length,_=0;else if(H===void 0&&typeof _=="string")$=_,H=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(H)?(H=H>>>0,$===void 0&&($="utf8")):($=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ne=this.length-_;if((H===void 0||H>ne)&&(H=ne),v.length>0&&(H<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let se=!1;for(;;)switch($){case"hex":return N(this,v,_,H);case"utf8":case"utf-8":return U(this,v,_,H);case"ascii":case"latin1":case"binary":return D(this,v,_,H);case"base64":return L(this,v,_,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,v,_,H);default:if(se)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),se=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(q,v,_){return v===0&&_===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(v,_))}function R(q,v,_){_=Math.min(q.length,_);const H=[];let $=v;for(;$<_;){const ne=q[$];let se=null,_e=ne>239?4:ne>223?3:ne>191?2:1;if($+_e<=_){let pt,yt,le,nt;switch(_e){case 1:ne<128&&(se=ne);break;case 2:pt=q[$+1],(pt&192)===128&&(nt=(ne&31)<<6|pt&63,nt>127&&(se=nt));break;case 3:pt=q[$+1],yt=q[$+2],(pt&192)===128&&(yt&192)===128&&(nt=(ne&15)<<12|(pt&63)<<6|yt&63,nt>2047&&(nt<55296||nt>57343)&&(se=nt));break;case 4:pt=q[$+1],yt=q[$+2],le=q[$+3],(pt&192)===128&&(yt&192)===128&&(le&192)===128&&(nt=(ne&15)<<18|(pt&63)<<12|(yt&63)<<6|le&63,nt>65535&&nt<1114112&&(se=nt))}}se===null?(se=65533,_e=1):se>65535&&(se-=65536,H.push(se>>>10&1023|55296),se=56320|se&1023),H.push(se),$+=_e}return z(H)}const F=4096;function z(q){const v=q.length;if(v<=F)return String.fromCharCode.apply(String,q);let _="",H=0;for(;H<v;)_+=String.fromCharCode.apply(String,q.slice(H,H+=F));return _}function j(q,v,_){let H="";_=Math.min(q.length,_);for(let $=v;$<_;++$)H+=String.fromCharCode(q[$]&127);return H}function Z(q,v,_){let H="";_=Math.min(q.length,_);for(let $=v;$<_;++$)H+=String.fromCharCode(q[$]);return H}function J(q,v,_){const H=q.length;(!v||v<0)&&(v=0),(!_||_<0||_>H)&&(_=H);let $="";for(let ne=v;ne<_;++ne)$+=ht[q[ne]];return $}function oe(q,v,_){const H=q.slice(v,_);let $="";for(let ne=0;ne<H.length-1;ne+=2)$+=String.fromCharCode(H[ne]+H[ne+1]*256);return $}l.prototype.slice=function(v,_){const H=this.length;v=~~v,_=_===void 0?H:~~_,v<0?(v+=H,v<0&&(v=0)):v>H&&(v=H),_<0?(_+=H,_<0&&(_=0)):_>H&&(_=H),_<v&&(_=v);const $=this.subarray(v,_);return Object.setPrototypeOf($,l.prototype),$};function ee(q,v,_){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+v>_)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(v,_,H){v=v>>>0,_=_>>>0,H||ee(v,_,this.length);let $=this[v],ne=1,se=0;for(;++se<_&&(ne*=256);)$+=this[v+se]*ne;return $},l.prototype.readUintBE=l.prototype.readUIntBE=function(v,_,H){v=v>>>0,_=_>>>0,H||ee(v,_,this.length);let $=this[v+--_],ne=1;for(;_>0&&(ne*=256);)$+=this[v+--_]*ne;return $},l.prototype.readUint8=l.prototype.readUInt8=function(v,_){return v=v>>>0,_||ee(v,1,this.length),this[v]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(v,_){return v=v>>>0,_||ee(v,2,this.length),this[v]|this[v+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(v,_){return v=v>>>0,_||ee(v,2,this.length),this[v]<<8|this[v+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(v,_){return v=v>>>0,_||ee(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(v,_){return v=v>>>0,_||ee(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},l.prototype.readBigUInt64LE=Ot(function(v){v=v>>>0,mt(v,"offset");const _=this[v],H=this[v+7];(_===void 0||H===void 0)&&hr(v,this.length-8);const $=_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,ne=this[++v]+this[++v]*2**8+this[++v]*2**16+H*2**24;return BigInt($)+(BigInt(ne)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ot(function(v){v=v>>>0,mt(v,"offset");const _=this[v],H=this[v+7];(_===void 0||H===void 0)&&hr(v,this.length-8);const $=_*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],ne=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+H;return(BigInt($)<<BigInt(32))+BigInt(ne)}),l.prototype.readIntLE=function(v,_,H){v=v>>>0,_=_>>>0,H||ee(v,_,this.length);let $=this[v],ne=1,se=0;for(;++se<_&&(ne*=256);)$+=this[v+se]*ne;return ne*=128,$>=ne&&($-=Math.pow(2,8*_)),$},l.prototype.readIntBE=function(v,_,H){v=v>>>0,_=_>>>0,H||ee(v,_,this.length);let $=_,ne=1,se=this[v+--$];for(;$>0&&(ne*=256);)se+=this[v+--$]*ne;return ne*=128,se>=ne&&(se-=Math.pow(2,8*_)),se},l.prototype.readInt8=function(v,_){return v=v>>>0,_||ee(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},l.prototype.readInt16LE=function(v,_){v=v>>>0,_||ee(v,2,this.length);const H=this[v]|this[v+1]<<8;return H&32768?H|4294901760:H},l.prototype.readInt16BE=function(v,_){v=v>>>0,_||ee(v,2,this.length);const H=this[v+1]|this[v]<<8;return H&32768?H|4294901760:H},l.prototype.readInt32LE=function(v,_){return v=v>>>0,_||ee(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},l.prototype.readInt32BE=function(v,_){return v=v>>>0,_||ee(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},l.prototype.readBigInt64LE=Ot(function(v){v=v>>>0,mt(v,"offset");const _=this[v],H=this[v+7];(_===void 0||H===void 0)&&hr(v,this.length-8);const $=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(H<<24);return(BigInt($)<<BigInt(32))+BigInt(_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),l.prototype.readBigInt64BE=Ot(function(v){v=v>>>0,mt(v,"offset");const _=this[v],H=this[v+7];(_===void 0||H===void 0)&&hr(v,this.length-8);const $=(_<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt($)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+H)}),l.prototype.readFloatLE=function(v,_){return v=v>>>0,_||ee(v,4,this.length),t.read(this,v,!0,23,4)},l.prototype.readFloatBE=function(v,_){return v=v>>>0,_||ee(v,4,this.length),t.read(this,v,!1,23,4)},l.prototype.readDoubleLE=function(v,_){return v=v>>>0,_||ee(v,8,this.length),t.read(this,v,!0,52,8)},l.prototype.readDoubleBE=function(v,_){return v=v>>>0,_||ee(v,8,this.length),t.read(this,v,!1,52,8)};function te(q,v,_,H,$,ne){if(!l.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>$||v<ne)throw new RangeError('"value" argument is out of bounds');if(_+H>q.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(v,_,H,$){if(v=+v,_=_>>>0,H=H>>>0,!$){const _e=Math.pow(2,8*H)-1;te(this,v,_,H,_e,0)}let ne=1,se=0;for(this[_]=v&255;++se<H&&(ne*=256);)this[_+se]=v/ne&255;return _+H},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(v,_,H,$){if(v=+v,_=_>>>0,H=H>>>0,!$){const _e=Math.pow(2,8*H)-1;te(this,v,_,H,_e,0)}let ne=H-1,se=1;for(this[_+ne]=v&255;--ne>=0&&(se*=256);)this[_+ne]=v/se&255;return _+H},l.prototype.writeUint8=l.prototype.writeUInt8=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,1,255,0),this[_]=v&255,_+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,2,65535,0),this[_]=v&255,this[_+1]=v>>>8,_+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,2,65535,0),this[_]=v>>>8,this[_+1]=v&255,_+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,4,4294967295,0),this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=v&255,_+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,4,4294967295,0),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4};function ae(q,v,_,H,$){De(v,H,$,q,_,7);let ne=Number(v&BigInt(4294967295));q[_++]=ne,ne=ne>>8,q[_++]=ne,ne=ne>>8,q[_++]=ne,ne=ne>>8,q[_++]=ne;let se=Number(v>>BigInt(32)&BigInt(4294967295));return q[_++]=se,se=se>>8,q[_++]=se,se=se>>8,q[_++]=se,se=se>>8,q[_++]=se,_}function ue(q,v,_,H,$){De(v,H,$,q,_,7);let ne=Number(v&BigInt(4294967295));q[_+7]=ne,ne=ne>>8,q[_+6]=ne,ne=ne>>8,q[_+5]=ne,ne=ne>>8,q[_+4]=ne;let se=Number(v>>BigInt(32)&BigInt(4294967295));return q[_+3]=se,se=se>>8,q[_+2]=se,se=se>>8,q[_+1]=se,se=se>>8,q[_]=se,_+8}l.prototype.writeBigUInt64LE=Ot(function(v,_=0){return ae(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ot(function(v,_=0){return ue(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(v,_,H,$){if(v=+v,_=_>>>0,!$){const pt=Math.pow(2,8*H-1);te(this,v,_,H,pt-1,-pt)}let ne=0,se=1,_e=0;for(this[_]=v&255;++ne<H&&(se*=256);)v<0&&_e===0&&this[_+ne-1]!==0&&(_e=1),this[_+ne]=(v/se>>0)-_e&255;return _+H},l.prototype.writeIntBE=function(v,_,H,$){if(v=+v,_=_>>>0,!$){const pt=Math.pow(2,8*H-1);te(this,v,_,H,pt-1,-pt)}let ne=H-1,se=1,_e=0;for(this[_+ne]=v&255;--ne>=0&&(se*=256);)v<0&&_e===0&&this[_+ne+1]!==0&&(_e=1),this[_+ne]=(v/se>>0)-_e&255;return _+H},l.prototype.writeInt8=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,1,127,-128),v<0&&(v=255+v+1),this[_]=v&255,_+1},l.prototype.writeInt16LE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,2,32767,-32768),this[_]=v&255,this[_+1]=v>>>8,_+2},l.prototype.writeInt16BE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,2,32767,-32768),this[_]=v>>>8,this[_+1]=v&255,_+2},l.prototype.writeInt32LE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,4,2147483647,-2147483648),this[_]=v&255,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24,_+4},l.prototype.writeInt32BE=function(v,_,H){return v=+v,_=_>>>0,H||te(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4},l.prototype.writeBigInt64LE=Ot(function(v,_=0){return ae(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ot(function(v,_=0){return ue(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(q,v,_,H,$,ne){if(_+H>q.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Ee(q,v,_,H,$){return v=+v,_=_>>>0,$||we(q,v,_,4),t.write(q,v,_,H,23,4),_+4}l.prototype.writeFloatLE=function(v,_,H){return Ee(this,v,_,!0,H)},l.prototype.writeFloatBE=function(v,_,H){return Ee(this,v,_,!1,H)};function Ne(q,v,_,H,$){return v=+v,_=_>>>0,$||we(q,v,_,8),t.write(q,v,_,H,52,8),_+8}l.prototype.writeDoubleLE=function(v,_,H){return Ne(this,v,_,!0,H)},l.prototype.writeDoubleBE=function(v,_,H){return Ne(this,v,_,!1,H)},l.prototype.copy=function(v,_,H,$){if(!l.isBuffer(v))throw new TypeError("argument should be a Buffer");if(H||(H=0),!$&&$!==0&&($=this.length),_>=v.length&&(_=v.length),_||(_=0),$>0&&$<H&&($=H),$===H||v.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),v.length-_<$-H&&($=v.length-_+H);const ne=$-H;return this===v&&typeof n.prototype.copyWithin=="function"?this.copyWithin(_,H,$):n.prototype.set.call(v,this.subarray(H,$),_),ne},l.prototype.fill=function(v,_,H,$){if(typeof v=="string"){if(typeof _=="string"?($=_,_=0,H=this.length):typeof H=="string"&&($=H,H=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!l.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(v.length===1){const se=v.charCodeAt(0);($==="utf8"&&se<128||$==="latin1")&&(v=se)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(_<0||this.length<_||this.length<H)throw new RangeError("Out of range index");if(H<=_)return this;_=_>>>0,H=H===void 0?this.length:H>>>0,v||(v=0);let ne;if(typeof v=="number")for(ne=_;ne<H;++ne)this[ne]=v;else{const se=l.isBuffer(v)?v:l.from(v,$),_e=se.length;if(_e===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(ne=0;ne<H-_;++ne)this[ne+_]=se[ne%_e]}return this};const Ue={};function ze(q,v,_){Ue[q]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}ze("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ze("ERR_INVALID_ARG_TYPE",function(q,v){return`The "${q}" argument must be of type number. Received type ${typeof v}`},TypeError),ze("ERR_OUT_OF_RANGE",function(q,v,_){let H=`The value of "${q}" is out of range.`,$=_;return Number.isInteger(_)&&Math.abs(_)>2**32?$=Fe(String(_)):typeof _=="bigint"&&($=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&($=Fe($)),$+="n"),H+=` It must be ${v}. Received ${$}`,H},RangeError);function Fe(q){let v="",_=q.length;const H=q[0]==="-"?1:0;for(;_>=H+4;_-=3)v=`_${q.slice(_-3,_)}${v}`;return`${q.slice(0,_)}${v}`}function Re(q,v,_){mt(v,"offset"),(q[v]===void 0||q[v+_]===void 0)&&hr(v,q.length-(_+1))}function De(q,v,_,H,$,ne){if(q>_||q<v){const se=typeof v=="bigint"?"n":"";let _e;throw v===0||v===BigInt(0)?_e=`>= 0${se} and < 2${se} ** ${(ne+1)*8}${se}`:_e=`>= -(2${se} ** ${(ne+1)*8-1}${se}) and < 2 ** ${(ne+1)*8-1}${se}`,new Ue.ERR_OUT_OF_RANGE("value",_e,q)}Re(H,$,ne)}function mt(q,v){if(typeof q!="number")throw new Ue.ERR_INVALID_ARG_TYPE(v,"number",q)}function hr(q,v,_){throw Math.floor(q)!==q?(mt(q,_),new Ue.ERR_OUT_OF_RANGE("offset","an integer",q)):v<0?new Ue.ERR_BUFFER_OUT_OF_BOUNDS:new Ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,q)}const G=/[^+/0-9A-Za-z-_]/g;function Y(q){if(q=q.split("=")[0],q=q.trim().replace(G,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function re(q,v){v=v||1/0;let _;const H=q.length;let $=null;const ne=[];for(let se=0;se<H;++se){if(_=q.charCodeAt(se),_>55295&&_<57344){if(!$){if(_>56319){(v-=3)>-1&&ne.push(239,191,189);continue}else if(se+1===H){(v-=3)>-1&&ne.push(239,191,189);continue}$=_;continue}if(_<56320){(v-=3)>-1&&ne.push(239,191,189),$=_;continue}_=($-55296<<10|_-56320)+65536}else $&&(v-=3)>-1&&ne.push(239,191,189);if($=null,_<128){if((v-=1)<0)break;ne.push(_)}else if(_<2048){if((v-=2)<0)break;ne.push(_>>6|192,_&63|128)}else if(_<65536){if((v-=3)<0)break;ne.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((v-=4)<0)break;ne.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return ne}function fe(q){const v=[];for(let _=0;_<q.length;++_)v.push(q.charCodeAt(_)&255);return v}function ce(q,v){let _,H,$;const ne=[];for(let se=0;se<q.length&&!((v-=2)<0);++se)_=q.charCodeAt(se),H=_>>8,$=_%256,ne.push($),ne.push(H);return ne}function pe(q){return e.toByteArray(Y(q))}function Pe(q,v,_,H){let $;for($=0;$<H&&!($+_>=v.length||$>=q.length);++$)v[$+_]=q[$];return $}function Oe(q,v){return q instanceof v||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===v.name}function Ve(q){return q!==q}const ht=function(){const q="0123456789abcdef",v=new Array(256);for(let _=0;_<16;++_){const H=_*16;for(let $=0;$<16;++$)v[H+$]=q[_]+q[$]}return v}();function Ot(q){return typeof BigInt>"u"?pr:q}function pr(){throw new Error("BigInt not supported")}})(vE);const qe=vE.Buffer;function eC(r){return qy(r)}function tC(r,e,t=!1){if(r.length!=e.length)return!1;for(let o=0;o<r.length;o++)if(t){if(r[o]!=e[o])return!1}else if(JSON.stringify(r[o])!=JSON.stringify(e[o]))return!1;return!0}function rC(r){const e=[],t=r.length;let o;for(let i=0;i<t;i++)o=r.charCodeAt(i),o>=65536&&o<=1114111?(e.push(o>>18&7|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(o&63|128)):o>=2048&&o<=65535?(e.push(o>>12&15|224),e.push(o>>6&63|128),e.push(o&63|128)):o>=128&&o<=2047?(e.push(o>>6&31|192),e.push(o&63|128)):e.push(o&255);return e}function AE(r){let e;if(r>="A"&&r<="F"?e=r.charCodeAt(0)-65+10:r>="a"&&r<="f"?e=r.charCodeAt(0)-97+10:r>="0"&&r<="9"&&(e=r.charCodeAt(0)-48),typeof e=="number")return e;throw new Error("The passed hex char is not a valid hex char")}function Hy(r){return r>="A"&&r<="F"||r>="a"&&r<="f"||r>="0"&&r<="9"?1:0}function Mr(r,e=!1){let t=r.length;e&&t%2&&(r=`0${r}`,t++);const o=[];let i=0,n=0,s=0;for(let a=0;a<t;a++){const c=r.charAt(a);if(Hy(c))i<<=4,i+=AE(c),n++,n%2===0&&(o[s++]=i,i=0);else throw new Error("The passed hex char is not a valid hex string")}return o}function nC(r){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(r))throw new Error("The passed date string is not valid");const e=r.split(" "),t=e[0].split("-"),o=parseInt(t[0],10),i=parseInt(t[1],10)-1,n=parseInt(t[2],10);if(e.length>1){const s=e[1].split("-"),a=parseInt(s[0],10),c=parseInt(s[1],10),u=parseInt(s[2],10);return new Date(o,i,n,a,c,u)}return new Date(o,i,n)}function EE(r){return r>="0"&&r<="9"?1:0}function oC(r){if(r==null||r.length==0||r=="")return-1;let e=0;if(r.length==40)for(;e<40;e++){const t=r.charAt(e);if(!Hy(t))break}if(e==40)return 1;for(e=0;e<r.length;e++){const t=r.charAt(e);if(!EE(t))break}if(e==r.length)return 2;for(e=0;e<r.length;e++)if(r.charAt(e)>" ")return 3;return-1}const iC=Object.freeze(Object.defineProperty({__proto__:null,arrayEquals:tC,base64DecodeFromString:Ns,base64EncodeToString:jy,bin2String:eC,byte2hexStr:Qd,byteArray2hexStr:ft,bytesToString:qy,getStringType:oC,hexChar2byte:AE,hexStr2byteArray:Mr,hextoString:xE,isHexChar:Hy,isNumber:EE,strToDate:nC,stringToBytes:rC},Symbol.toStringTag,{value:"Module"}));var sC=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Qh=Math.ceil,xn=Math.floor,Lr="[BigNumber Error] ",v1=Lr+"Number primitive has more than 15 significant digits: ",kn=1e14,He=14,ep=9007199254740991,tp=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],fi=1e7,Kt=1e9;function PE(r){var e,t,o,i=P.prototype={constructor:P,toString:null,valueOf:null},n=new P(1),s=20,a=4,c=-7,u=21,l=-1e7,d=1e7,h=!1,b=1,y=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",I=!0;function P(T,E){var C,N,U,D,L,x,A,R,F=this;if(!(F instanceof P))return new P(T,E);if(E==null){if(T&&T._isBigNumber===!0){F.s=T.s,!T.c||T.e>d?F.c=F.e=null:T.e<l?F.c=[F.e=0]:(F.e=T.e,F.c=T.c.slice());return}if((x=typeof T=="number")&&T*0==0){if(F.s=1/T<0?(T=-T,-1):1,T===~~T){for(D=0,L=T;L>=10;L/=10,D++);D>d?F.c=F.e=null:(F.e=D,F.c=[T]);return}R=String(T)}else{if(!sC.test(R=String(T)))return o(F,R,x);F.s=R.charCodeAt(0)==45?(R=R.slice(1),-1):1}(D=R.indexOf("."))>-1&&(R=R.replace(".","")),(L=R.search(/e/i))>0?(D<0&&(D=L),D+=+R.slice(L+1),R=R.substring(0,L)):D<0&&(D=R.length)}else{if(Ct(E,2,w.length,"Base"),E==10&&I)return F=new P(T),W(F,s+F.e+1,a);if(R=String(T),x=typeof T=="number"){if(T*0!=0)return o(F,R,x,E);if(F.s=1/T<0?(R=R.slice(1),-1):1,P.DEBUG&&R.replace(/^0\.0*|\./,"").length>15)throw Error(v1+T)}else F.s=R.charCodeAt(0)===45?(R=R.slice(1),-1):1;for(C=w.slice(0,E),D=L=0,A=R.length;L<A;L++)if(C.indexOf(N=R.charAt(L))<0){if(N=="."){if(L>D){D=A;continue}}else if(!U&&(R==R.toUpperCase()&&(R=R.toLowerCase())||R==R.toLowerCase()&&(R=R.toUpperCase()))){U=!0,L=-1,D=0;continue}return o(F,String(T),x,E)}x=!1,R=t(R,E,10,F.s),(D=R.indexOf("."))>-1?R=R.replace(".",""):D=R.length}for(L=0;R.charCodeAt(L)===48;L++);for(A=R.length;R.charCodeAt(--A)===48;);if(R=R.slice(L,++A)){if(A-=L,x&&P.DEBUG&&A>15&&(T>ep||T!==xn(T)))throw Error(v1+F.s*T);if((D=D-L-1)>d)F.c=F.e=null;else if(D<l)F.c=[F.e=0];else{if(F.e=D,F.c=[],L=(D+1)%He,D<0&&(L+=He),L<A){for(L&&F.c.push(+R.slice(0,L)),A-=He;L<A;)F.c.push(+R.slice(L,L+=He));L=He-(R=R.slice(L)).length}else L-=A;for(;L--;R+="0");F.c.push(+R)}}else F.c=[F.e=0]}P.clone=PE,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(T){var E,C;if(T!=null)if(typeof T=="object"){if(T.hasOwnProperty(E="DECIMAL_PLACES")&&(C=T[E],Ct(C,0,Kt,E),s=C),T.hasOwnProperty(E="ROUNDING_MODE")&&(C=T[E],Ct(C,0,8,E),a=C),T.hasOwnProperty(E="EXPONENTIAL_AT")&&(C=T[E],C&&C.pop?(Ct(C[0],-Kt,0,E),Ct(C[1],0,Kt,E),c=C[0],u=C[1]):(Ct(C,-Kt,Kt,E),c=-(u=C<0?-C:C))),T.hasOwnProperty(E="RANGE"))if(C=T[E],C&&C.pop)Ct(C[0],-Kt,-1,E),Ct(C[1],1,Kt,E),l=C[0],d=C[1];else if(Ct(C,-Kt,Kt,E),C)l=-(d=C<0?-C:C);else throw Error(Lr+E+" cannot be zero: "+C);if(T.hasOwnProperty(E="CRYPTO"))if(C=T[E],C===!!C)if(C)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=C;else throw h=!C,Error(Lr+"crypto unavailable");else h=C;else throw Error(Lr+E+" not true or false: "+C);if(T.hasOwnProperty(E="MODULO_MODE")&&(C=T[E],Ct(C,0,9,E),b=C),T.hasOwnProperty(E="POW_PRECISION")&&(C=T[E],Ct(C,0,Kt,E),y=C),T.hasOwnProperty(E="FORMAT"))if(C=T[E],typeof C=="object")g=C;else throw Error(Lr+E+" not an object: "+C);if(T.hasOwnProperty(E="ALPHABET"))if(C=T[E],typeof C=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(C))I=C.slice(0,10)=="0123456789",w=C;else throw Error(Lr+E+" invalid: "+C)}else throw Error(Lr+"Object expected: "+T);return{DECIMAL_PLACES:s,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,u],RANGE:[l,d],CRYPTO:h,MODULO_MODE:b,POW_PRECISION:y,FORMAT:g,ALPHABET:w}},P.isBigNumber=function(T){if(!T||T._isBigNumber!==!0)return!1;if(!P.DEBUG)return!0;var E,C,N=T.c,U=T.e,D=T.s;e:if({}.toString.call(N)=="[object Array]"){if((D===1||D===-1)&&U>=-Kt&&U<=Kt&&U===xn(U)){if(N[0]===0){if(U===0&&N.length===1)return!0;break e}if(E=(U+1)%He,E<1&&(E+=He),String(N[0]).length==E){for(E=0;E<N.length;E++)if(C=N[E],C<0||C>=kn||C!==xn(C))break e;if(C!==0)return!0}}}else if(N===null&&U===null&&(D===null||D===1||D===-1))return!0;throw Error(Lr+"Invalid BigNumber: "+T)},P.maximum=P.max=function(){return M(arguments,-1)},P.minimum=P.min=function(){return M(arguments,1)},P.random=function(){var T=9007199254740992,E=Math.random()*T&2097151?function(){return xn(Math.random()*T)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(C){var N,U,D,L,x,A=0,R=[],F=new P(n);if(C==null?C=s:Ct(C,0,Kt),L=Qh(C/He),h)if(crypto.getRandomValues){for(N=crypto.getRandomValues(new Uint32Array(L*=2));A<L;)x=N[A]*131072+(N[A+1]>>>11),x>=9e15?(U=crypto.getRandomValues(new Uint32Array(2)),N[A]=U[0],N[A+1]=U[1]):(R.push(x%1e14),A+=2);A=L/2}else if(crypto.randomBytes){for(N=crypto.randomBytes(L*=7);A<L;)x=(N[A]&31)*281474976710656+N[A+1]*1099511627776+N[A+2]*4294967296+N[A+3]*16777216+(N[A+4]<<16)+(N[A+5]<<8)+N[A+6],x>=9e15?crypto.randomBytes(7).copy(N,A):(R.push(x%1e14),A+=7);A=L/7}else throw h=!1,Error(Lr+"crypto unavailable");if(!h)for(;A<L;)x=E(),x<9e15&&(R[A++]=x%1e14);for(L=R[--A],C%=He,L&&C&&(x=tp[He-C],R[A]=xn(L/x)*x);R[A]===0;R.pop(),A--);if(A<0)R=[D=0];else{for(D=-1;R[0]===0;R.splice(0,1),D-=He);for(A=1,x=R[0];x>=10;x/=10,A++);A<He&&(D-=He-A)}return F.e=D,F.c=R,F}}(),P.sum=function(){for(var T=1,E=arguments,C=new P(E[0]);T<E.length;)C=C.plus(E[T++]);return C},t=function(){var T="0123456789";function E(C,N,U,D){for(var L,x=[0],A,R=0,F=C.length;R<F;){for(A=x.length;A--;x[A]*=N);for(x[0]+=D.indexOf(C.charAt(R++)),L=0;L<x.length;L++)x[L]>U-1&&(x[L+1]==null&&(x[L+1]=0),x[L+1]+=x[L]/U|0,x[L]%=U)}return x.reverse()}return function(C,N,U,D,L){var x,A,R,F,z,j,Z,J,oe=C.indexOf("."),ee=s,te=a;for(oe>=0&&(F=y,y=0,C=C.replace(".",""),J=new P(N),j=J.pow(C.length-oe),y=F,J.c=E(Mo(hn(j.c),j.e,"0"),10,U,T),J.e=J.c.length),Z=E(C,N,U,L?(x=w,T):(x=T,w)),R=F=Z.length;Z[--F]==0;Z.pop());if(!Z[0])return x.charAt(0);if(oe<0?--R:(j.c=Z,j.e=R,j.s=D,j=e(j,J,ee,te,U),Z=j.c,z=j.r,R=j.e),A=R+ee+1,oe=Z[A],F=U/2,z=z||A<0||Z[A+1]!=null,z=te<4?(oe!=null||z)&&(te==0||te==(j.s<0?3:2)):oe>F||oe==F&&(te==4||z||te==6&&Z[A-1]&1||te==(j.s<0?8:7)),A<1||!Z[0])C=z?Mo(x.charAt(1),-ee,x.charAt(0)):x.charAt(0);else{if(Z.length=A,z)for(--U;++Z[--A]>U;)Z[A]=0,A||(++R,Z=[1].concat(Z));for(F=Z.length;!Z[--F];);for(oe=0,C="";oe<=F;C+=x.charAt(Z[oe++]));C=Mo(C,R,x.charAt(0))}return C}}(),e=function(){function T(N,U,D){var L,x,A,R,F=0,z=N.length,j=U%fi,Z=U/fi|0;for(N=N.slice();z--;)A=N[z]%fi,R=N[z]/fi|0,L=Z*A+R*j,x=j*A+L%fi*fi+F,F=(x/D|0)+(L/fi|0)+Z*R,N[z]=x%D;return F&&(N=[F].concat(N)),N}function E(N,U,D,L){var x,A;if(D!=L)A=D>L?1:-1;else for(x=A=0;x<D;x++)if(N[x]!=U[x]){A=N[x]>U[x]?1:-1;break}return A}function C(N,U,D,L){for(var x=0;D--;)N[D]-=x,x=N[D]<U[D]?1:0,N[D]=x*L+N[D]-U[D];for(;!N[0]&&N.length>1;N.splice(0,1));}return function(N,U,D,L,x){var A,R,F,z,j,Z,J,oe,ee,te,ae,ue,we,Ee,Ne,Ue,ze,Fe=N.s==U.s?1:-1,Re=N.c,De=U.c;if(!Re||!Re[0]||!De||!De[0])return new P(!N.s||!U.s||(Re?De&&Re[0]==De[0]:!De)?NaN:Re&&Re[0]==0||!De?Fe*0:Fe/0);for(oe=new P(Fe),ee=oe.c=[],R=N.e-U.e,Fe=D+R+1,x||(x=kn,R=vn(N.e/He)-vn(U.e/He),Fe=Fe/He|0),F=0;De[F]==(Re[F]||0);F++);if(De[F]>(Re[F]||0)&&R--,Fe<0)ee.push(1),z=!0;else{for(Ee=Re.length,Ue=De.length,F=0,Fe+=2,j=xn(x/(De[0]+1)),j>1&&(De=T(De,j,x),Re=T(Re,j,x),Ue=De.length,Ee=Re.length),we=Ue,te=Re.slice(0,Ue),ae=te.length;ae<Ue;te[ae++]=0);ze=De.slice(),ze=[0].concat(ze),Ne=De[0],De[1]>=x/2&&Ne++;do{if(j=0,A=E(De,te,Ue,ae),A<0){if(ue=te[0],Ue!=ae&&(ue=ue*x+(te[1]||0)),j=xn(ue/Ne),j>1)for(j>=x&&(j=x-1),Z=T(De,j,x),J=Z.length,ae=te.length;E(Z,te,J,ae)==1;)j--,C(Z,Ue<J?ze:De,J,x),J=Z.length,A=1;else j==0&&(A=j=1),Z=De.slice(),J=Z.length;if(J<ae&&(Z=[0].concat(Z)),C(te,Z,ae,x),ae=te.length,A==-1)for(;E(De,te,Ue,ae)<1;)j++,C(te,Ue<ae?ze:De,ae,x),ae=te.length}else A===0&&(j++,te=[0]);ee[F++]=j,te[0]?te[ae++]=Re[we]||0:(te=[Re[we]],ae=1)}while((we++<Ee||te[0]!=null)&&Fe--);z=te[0]!=null,ee[0]||ee.splice(0,1)}if(x==kn){for(F=1,Fe=ee[0];Fe>=10;Fe/=10,F++);W(oe,D+(oe.e=F+R*He-1)+1,L,z)}else oe.e=R,oe.r=+z;return oe}}();function B(T,E,C,N){var U,D,L,x,A;if(C==null?C=a:Ct(C,0,8),!T.c)return T.toString();if(U=T.c[0],L=T.e,E==null)A=hn(T.c),A=N==1||N==2&&(L<=c||L>=u)?Zu(A,L):Mo(A,L,"0");else if(T=W(new P(T),E,C),D=T.e,A=hn(T.c),x=A.length,N==1||N==2&&(E<=D||D<=c)){for(;x<E;A+="0",x++);A=Zu(A,D)}else if(E-=L,A=Mo(A,D,"0"),D+1>x){if(--E>0)for(A+=".";E--;A+="0");}else if(E+=D-x,E>0)for(D+1==x&&(A+=".");E--;A+="0");return T.s<0&&U?"-"+A:A}function M(T,E){for(var C,N,U=1,D=new P(T[0]);U<T.length;U++)N=new P(T[U]),(!N.s||(C=Xi(D,N))===E||C===0&&D.s===E)&&(D=N);return D}function O(T,E,C){for(var N=1,U=E.length;!E[--U];E.pop());for(U=E[0];U>=10;U/=10,N++);return(C=N+C*He-1)>d?T.c=T.e=null:C<l?T.c=[T.e=0]:(T.e=C,T.c=E),T}o=function(){var T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,C=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,U=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(D,L,x,A){var R,F=x?L:L.replace(U,"");if(N.test(F))D.s=isNaN(F)?null:F<0?-1:1;else{if(!x&&(F=F.replace(T,function(z,j,Z){return R=(Z=Z.toLowerCase())=="x"?16:Z=="b"?2:8,!A||A==R?j:z}),A&&(R=A,F=F.replace(E,"$1").replace(C,"0.$1")),L!=F))return new P(F,R);if(P.DEBUG)throw Error(Lr+"Not a"+(A?" base "+A:"")+" number: "+L);D.s=null}D.c=D.e=null}}();function W(T,E,C,N){var U,D,L,x,A,R,F,z=T.c,j=tp;if(z){e:{for(U=1,x=z[0];x>=10;x/=10,U++);if(D=E-U,D<0)D+=He,L=E,A=z[R=0],F=xn(A/j[U-L-1]%10);else if(R=Qh((D+1)/He),R>=z.length)if(N){for(;z.length<=R;z.push(0));A=F=0,U=1,D%=He,L=D-He+1}else break e;else{for(A=x=z[R],U=1;x>=10;x/=10,U++);D%=He,L=D-He+U,F=L<0?0:xn(A/j[U-L-1]%10)}if(N=N||E<0||z[R+1]!=null||(L<0?A:A%j[U-L-1]),N=C<4?(F||N)&&(C==0||C==(T.s<0?3:2)):F>5||F==5&&(C==4||N||C==6&&(D>0?L>0?A/j[U-L]:0:z[R-1])%10&1||C==(T.s<0?8:7)),E<1||!z[0])return z.length=0,N?(E-=T.e+1,z[0]=j[(He-E%He)%He],T.e=-E||0):z[0]=T.e=0,T;if(D==0?(z.length=R,x=1,R--):(z.length=R+1,x=j[He-D],z[R]=L>0?xn(A/j[U-L]%j[L])*x:0),N)for(;;)if(R==0){for(D=1,L=z[0];L>=10;L/=10,D++);for(L=z[0]+=x,x=1;L>=10;L/=10,x++);D!=x&&(T.e++,z[0]==kn&&(z[0]=1));break}else{if(z[R]+=x,z[R]!=kn)break;z[R--]=0,x=1}for(D=z.length;z[--D]===0;z.pop());}T.e>d?T.c=T.e=null:T.e<l&&(T.c=[T.e=0])}return T}function S(T){var E,C=T.e;return C===null?T.toString():(E=hn(T.c),E=C<=c||C>=u?Zu(E,C):Mo(E,C,"0"),T.s<0?"-"+E:E)}return i.absoluteValue=i.abs=function(){var T=new P(this);return T.s<0&&(T.s=1),T},i.comparedTo=function(T,E){return Xi(this,new P(T,E))},i.decimalPlaces=i.dp=function(T,E){var C,N,U,D=this;if(T!=null)return Ct(T,0,Kt),E==null?E=a:Ct(E,0,8),W(new P(D),T+D.e+1,E);if(!(C=D.c))return null;if(N=((U=C.length-1)-vn(this.e/He))*He,U=C[U])for(;U%10==0;U/=10,N--);return N<0&&(N=0),N},i.dividedBy=i.div=function(T,E){return e(this,new P(T,E),s,a)},i.dividedToIntegerBy=i.idiv=function(T,E){return e(this,new P(T,E),0,1)},i.exponentiatedBy=i.pow=function(T,E){var C,N,U,D,L,x,A,R,F,z=this;if(T=new P(T),T.c&&!T.isInteger())throw Error(Lr+"Exponent not an integer: "+S(T));if(E!=null&&(E=new P(E)),x=T.e>14,!z.c||!z.c[0]||z.c[0]==1&&!z.e&&z.c.length==1||!T.c||!T.c[0])return F=new P(Math.pow(+S(z),x?T.s*(2-Ku(T)):+S(T))),E?F.mod(E):F;if(A=T.s<0,E){if(E.c?!E.c[0]:!E.s)return new P(NaN);N=!A&&z.isInteger()&&E.isInteger(),N&&(z=z.mod(E))}else{if(T.e>9&&(z.e>0||z.e<-1||(z.e==0?z.c[0]>1||x&&z.c[1]>=24e7:z.c[0]<8e13||x&&z.c[0]<=9999975e7)))return D=z.s<0&&Ku(T)?-0:0,z.e>-1&&(D=1/D),new P(A?1/D:D);y&&(D=Qh(y/He+2))}for(x?(C=new P(.5),A&&(T.s=1),R=Ku(T)):(U=Math.abs(+S(T)),R=U%2),F=new P(n);;){if(R){if(F=F.times(z),!F.c)break;D?F.c.length>D&&(F.c.length=D):N&&(F=F.mod(E))}if(U){if(U=xn(U/2),U===0)break;R=U%2}else if(T=T.times(C),W(T,T.e+1,1),T.e>14)R=Ku(T);else{if(U=+S(T),U===0)break;R=U%2}z=z.times(z),D?z.c&&z.c.length>D&&(z.c.length=D):N&&(z=z.mod(E))}return N?F:(A&&(F=n.div(F)),E?F.mod(E):D?W(F,y,a,L):F)},i.integerValue=function(T){var E=new P(this);return T==null?T=a:Ct(T,0,8),W(E,E.e+1,T)},i.isEqualTo=i.eq=function(T,E){return Xi(this,new P(T,E))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(T,E){return Xi(this,new P(T,E))>0},i.isGreaterThanOrEqualTo=i.gte=function(T,E){return(E=Xi(this,new P(T,E)))===1||E===0},i.isInteger=function(){return!!this.c&&vn(this.e/He)>this.c.length-2},i.isLessThan=i.lt=function(T,E){return Xi(this,new P(T,E))<0},i.isLessThanOrEqualTo=i.lte=function(T,E){return(E=Xi(this,new P(T,E)))===-1||E===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(T,E){var C,N,U,D,L=this,x=L.s;if(T=new P(T,E),E=T.s,!x||!E)return new P(NaN);if(x!=E)return T.s=-E,L.plus(T);var A=L.e/He,R=T.e/He,F=L.c,z=T.c;if(!A||!R){if(!F||!z)return F?(T.s=-E,T):new P(z?L:NaN);if(!F[0]||!z[0])return z[0]?(T.s=-E,T):new P(F[0]?L:a==3?-0:0)}if(A=vn(A),R=vn(R),F=F.slice(),x=A-R){for((D=x<0)?(x=-x,U=F):(R=A,U=z),U.reverse(),E=x;E--;U.push(0));U.reverse()}else for(N=(D=(x=F.length)<(E=z.length))?x:E,x=E=0;E<N;E++)if(F[E]!=z[E]){D=F[E]<z[E];break}if(D&&(U=F,F=z,z=U,T.s=-T.s),E=(N=z.length)-(C=F.length),E>0)for(;E--;F[C++]=0);for(E=kn-1;N>x;){if(F[--N]<z[N]){for(C=N;C&&!F[--C];F[C]=E);--F[C],F[N]+=kn}F[N]-=z[N]}for(;F[0]==0;F.splice(0,1),--R);return F[0]?O(T,F,R):(T.s=a==3?-1:1,T.c=[T.e=0],T)},i.modulo=i.mod=function(T,E){var C,N,U=this;return T=new P(T,E),!U.c||!T.s||T.c&&!T.c[0]?new P(NaN):!T.c||U.c&&!U.c[0]?new P(U):(b==9?(N=T.s,T.s=1,C=e(U,T,0,3),T.s=N,C.s*=N):C=e(U,T,0,b),T=U.minus(C.times(T)),!T.c[0]&&b==1&&(T.s=U.s),T)},i.multipliedBy=i.times=function(T,E){var C,N,U,D,L,x,A,R,F,z,j,Z,J,oe,ee,te=this,ae=te.c,ue=(T=new P(T,E)).c;if(!ae||!ue||!ae[0]||!ue[0])return!te.s||!T.s||ae&&!ae[0]&&!ue||ue&&!ue[0]&&!ae?T.c=T.e=T.s=null:(T.s*=te.s,!ae||!ue?T.c=T.e=null:(T.c=[0],T.e=0)),T;for(N=vn(te.e/He)+vn(T.e/He),T.s*=te.s,A=ae.length,z=ue.length,A<z&&(J=ae,ae=ue,ue=J,U=A,A=z,z=U),U=A+z,J=[];U--;J.push(0));for(oe=kn,ee=fi,U=z;--U>=0;){for(C=0,j=ue[U]%ee,Z=ue[U]/ee|0,L=A,D=U+L;D>U;)R=ae[--L]%ee,F=ae[L]/ee|0,x=Z*R+F*j,R=j*R+x%ee*ee+J[D]+C,C=(R/oe|0)+(x/ee|0)+Z*F,J[D--]=R%oe;J[D]=C}return C?++N:J.splice(0,1),O(T,J,N)},i.negated=function(){var T=new P(this);return T.s=-T.s||null,T},i.plus=function(T,E){var C,N=this,U=N.s;if(T=new P(T,E),E=T.s,!U||!E)return new P(NaN);if(U!=E)return T.s=-E,N.minus(T);var D=N.e/He,L=T.e/He,x=N.c,A=T.c;if(!D||!L){if(!x||!A)return new P(U/0);if(!x[0]||!A[0])return A[0]?T:new P(x[0]?N:U*0)}if(D=vn(D),L=vn(L),x=x.slice(),U=D-L){for(U>0?(L=D,C=A):(U=-U,C=x),C.reverse();U--;C.push(0));C.reverse()}for(U=x.length,E=A.length,U-E<0&&(C=A,A=x,x=C,E=U),U=0;E;)U=(x[--E]=x[E]+A[E]+U)/kn|0,x[E]=kn===x[E]?0:x[E]%kn;return U&&(x=[U].concat(x),++L),O(T,x,L)},i.precision=i.sd=function(T,E){var C,N,U,D=this;if(T!=null&&T!==!!T)return Ct(T,1,Kt),E==null?E=a:Ct(E,0,8),W(new P(D),T,E);if(!(C=D.c))return null;if(U=C.length-1,N=U*He+1,U=C[U]){for(;U%10==0;U/=10,N--);for(U=C[0];U>=10;U/=10,N++);}return T&&D.e+1>N&&(N=D.e+1),N},i.shiftedBy=function(T){return Ct(T,-ep,ep),this.times("1e"+T)},i.squareRoot=i.sqrt=function(){var T,E,C,N,U,D=this,L=D.c,x=D.s,A=D.e,R=s+4,F=new P("0.5");if(x!==1||!L||!L[0])return new P(!x||x<0&&(!L||L[0])?NaN:L?D:1/0);if(x=Math.sqrt(+S(D)),x==0||x==1/0?(E=hn(L),(E.length+A)%2==0&&(E+="0"),x=Math.sqrt(+E),A=vn((A+1)/2)-(A<0||A%2),x==1/0?E="5e"+A:(E=x.toExponential(),E=E.slice(0,E.indexOf("e")+1)+A),C=new P(E)):C=new P(x+""),C.c[0]){for(A=C.e,x=A+R,x<3&&(x=0);;)if(U=C,C=F.times(U.plus(e(D,U,R,1))),hn(U.c).slice(0,x)===(E=hn(C.c)).slice(0,x))if(C.e<A&&--x,E=E.slice(x-3,x+1),E=="9999"||!N&&E=="4999"){if(!N&&(W(U,U.e+s+2,0),U.times(U).eq(D))){C=U;break}R+=4,x+=4,N=1}else{(!+E||!+E.slice(1)&&E.charAt(0)=="5")&&(W(C,C.e+s+2,1),T=!C.times(C).eq(D));break}}return W(C,C.e+s+1,a,T)},i.toExponential=function(T,E){return T!=null&&(Ct(T,0,Kt),T++),B(this,T,E,1)},i.toFixed=function(T,E){return T!=null&&(Ct(T,0,Kt),T=T+this.e+1),B(this,T,E)},i.toFormat=function(T,E,C){var N,U=this;if(C==null)T!=null&&E&&typeof E=="object"?(C=E,E=null):T&&typeof T=="object"?(C=T,T=E=null):C=g;else if(typeof C!="object")throw Error(Lr+"Argument not an object: "+C);if(N=U.toFixed(T,E),U.c){var D,L=N.split("."),x=+C.groupSize,A=+C.secondaryGroupSize,R=C.groupSeparator||"",F=L[0],z=L[1],j=U.s<0,Z=j?F.slice(1):F,J=Z.length;if(A&&(D=x,x=A,A=D,J-=D),x>0&&J>0){for(D=J%x||x,F=Z.substr(0,D);D<J;D+=x)F+=R+Z.substr(D,x);A>0&&(F+=R+Z.slice(D)),j&&(F="-"+F)}N=z?F+(C.decimalSeparator||"")+((A=+C.fractionGroupSize)?z.replace(new RegExp("\\d{"+A+"}\\B","g"),"$&"+(C.fractionGroupSeparator||"")):z):F}return(C.prefix||"")+N+(C.suffix||"")},i.toFraction=function(T){var E,C,N,U,D,L,x,A,R,F,z,j,Z=this,J=Z.c;if(T!=null&&(x=new P(T),!x.isInteger()&&(x.c||x.s!==1)||x.lt(n)))throw Error(Lr+"Argument "+(x.isInteger()?"out of range: ":"not an integer: ")+S(x));if(!J)return new P(Z);for(E=new P(n),R=C=new P(n),N=A=new P(n),j=hn(J),D=E.e=j.length-Z.e-1,E.c[0]=tp[(L=D%He)<0?He+L:L],T=!T||x.comparedTo(E)>0?D>0?E:R:x,L=d,d=1/0,x=new P(j),A.c[0]=0;F=e(x,E,0,1),U=C.plus(F.times(N)),U.comparedTo(T)!=1;)C=N,N=U,R=A.plus(F.times(U=R)),A=U,E=x.minus(F.times(U=E)),x=U;return U=e(T.minus(C),N,0,1),A=A.plus(U.times(R)),C=C.plus(U.times(N)),A.s=R.s=Z.s,D=D*2,z=e(R,N,D,a).minus(Z).abs().comparedTo(e(A,C,D,a).minus(Z).abs())<1?[R,N]:[A,C],d=L,z},i.toNumber=function(){return+S(this)},i.toPrecision=function(T,E){return T!=null&&Ct(T,1,Kt),B(this,T,E,2)},i.toString=function(T){var E,C=this,N=C.s,U=C.e;return U===null?N?(E="Infinity",N<0&&(E="-"+E)):E="NaN":(T==null?E=U<=c||U>=u?Zu(hn(C.c),U):Mo(hn(C.c),U,"0"):T===10&&I?(C=W(new P(C),s+U+1,a),E=Mo(hn(C.c),C.e,"0")):(Ct(T,2,w.length,"Base"),E=t(Mo(hn(C.c),U,"0"),10,T,N,!0)),N<0&&C.c[0]&&(E="-"+E)),E},i.valueOf=i.toJSON=function(){return S(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,r!=null&&P.set(r),P}function vn(r){var e=r|0;return r>0||r===e?e:e-1}function hn(r){for(var e,t,o=1,i=r.length,n=r[0]+"";o<i;){for(e=r[o++]+"",t=He-e.length;t--;e="0"+e);n+=e}for(i=n.length;n.charCodeAt(--i)===48;);return n.slice(0,i+1||1)}function Xi(r,e){var t,o,i=r.c,n=e.c,s=r.s,a=e.s,c=r.e,u=e.e;if(!s||!a)return null;if(t=i&&!i[0],o=n&&!n[0],t||o)return t?o?0:-a:s;if(s!=a)return s;if(t=s<0,o=c==u,!i||!n)return o?0:!i^t?1:-1;if(!o)return c>u^t?1:-1;for(a=(c=i.length)<(u=n.length)?c:u,s=0;s<a;s++)if(i[s]!=n[s])return i[s]>n[s]^t?1:-1;return c==u?0:c>u^t?1:-1}function Ct(r,e,t,o){if(r<e||r>t||r!==xn(r))throw Error(Lr+(o||"Argument")+(typeof r=="number"?r<e||r>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function Ku(r){var e=r.c.length-1;return vn(r.e/He)==e&&r.c[e]%2!=0}function Zu(r,e){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(e<0?"e":"e+")+e}function Mo(r,e,t){var o,i;if(e<0){for(i=t+".";++e;i+=t);r=i+r}else if(o=r.length,++e>o){for(i=t,e-=o;--e;i+=t);r+=i}else e<o&&(r=r.slice(0,e)+"."+r.slice(e));return r}var dd=PE();function $s(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function aC(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function o(){var i=!1;try{i=this instanceof o}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var i=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return r[o]}})}),t}var Yu={exports:{}},Ju={exports:{}},Xu={exports:{}},T1;function ye(){return T1||(T1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(i)}function o(i){var n=typeof i=="string"||i instanceof String;if(!n){var s=t(i);throw i===null?s="null":s==="object"&&(s=i.constructor.name),new TypeError("Expected a string but received a ".concat(s))}}r.exports=e.default,r.exports.default=e.default}(Xu,Xu.exports)),Xu.exports}var A1;function Gy(){return A1||(A1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n),n=Date.parse(n),isNaN(n)?null:new Date(n)}r.exports=e.default,r.exports.default=e.default}(Ju,Ju.exports)),Ju.exports}var Qu={exports:{}},Gs={},Mt={},E1;function du(){if(E1)return Mt;E1=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.farsiLocales=Mt.englishLocales=Mt.dotDecimal=Mt.decimal=Mt.commaDecimal=Mt.bengaliLocales=Mt.arabicLocales=Mt.alphanumeric=Mt.alpha=void 0;for(var r=Mt.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZÃÆÄÄ°Ä±ÃÅÃ]+$/i,"bg-BG":/^[Ð-Ð¯]+$/i,"cs-CZ":/^[A-ZÃÄÄÃÄÃÅÃÅÅ Å¤ÃÅ®ÃÅ½]+$/i,"da-DK":/^[A-ZÃÃÃ]+$/i,"de-DE":/^[A-ZÃÃÃÃ]+$/i,"el-GR":/^[Î-Ï]+$/i,"es-ES":/^[A-ZÃÃÃÃÃÃÃ]+$/i,"fa-IR":/^[Ø§Ø¨Ù¾ØªØ«Ø¬ÚØ­Ø®Ø¯Ø°Ø±Ø²ÚØ³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÚ©Ú¯ÙÙÙÙÙÛ]+$/i,"fi-FI":/^[A-ZÃÃÃ]+$/i,"fr-FR":/^[A-ZÃÃÃÃÃÃÃÃÃÃÃÅÃÃÃÅ¸]+$/i,"it-IT":/^[A-ZÃÃÃÃÃÃÃÃ]+$/i,"ja-JP":/^[ã-ãã¡-ã¶ï½¦-ï¾ä¸-é¾ ã¼ã»ãã]+$/i,"nb-NO":/^[A-ZÃÃÃ]+$/i,"nl-NL":/^[A-ZÃÃÃÃÃÃÃÃ]+$/i,"nn-NO":/^[A-ZÃÃÃ]+$/i,"hu-HU":/^[A-ZÃÃÃÃÃÅÃÃÅ°]+$/i,"pl-PL":/^[A-ZÄÄÄÅÅÅÃÅ»Å¹]+$/i,"pt-PT":/^[A-ZÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]+$/i,"ru-RU":/^[Ð-Ð¯Ð]+$/i,"kk-KZ":/^[Ð-Ð¯Ð\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-ZÄÄÄÅ Å½]+$/i,"sk-SK":/^[A-ZÃÄÄÃÃÅÃÅ Å¤ÃÃÅ½Ä¹ÅÄ½ÃÃ]+$/i,"sr-RS@latin":/^[A-ZÄÄÅ½Å Ä]+$/i,"sr-RS":/^[Ð-Ð¯ÐÐÐÐÐÐ]+$/i,"sv-SE":/^[A-ZÃÃÃ]+$/i,"th-TH":/^[à¸-à¹\s]+$/i,"tr-TR":/^[A-ZÃÄÄ°Ä±ÃÅÃ]+$/i,"uk-UA":/^[Ð-Ð©Ð¬Ð®Ð¯ÐIÐÒÑ]+$/i,"vi-VN":/^[A-ZÃÃáº áº¢ÃÃáº¦áº¤áº¬áº¨áºªÄáº°áº®áº¶áº²áº´ÄÃÃáº¸áººáº¼Ãá»áº¾á»á»á»ÃÃá»á»Ä¨ÃÃá»á»ÃÃá»á»á»á»á»Æ á»á»á»¢á»á» ÃÃá»¤á»¦Å¨Æ¯á»ªá»¨á»°á»¬á»®á»²Ãá»´á»¶á»¸]+$/i,"ko-KR":/^[ã±-ãã-ã£ê°-í£]*$/,"ku-IQ":/^[Ø¦Ø§Ø¨Ù¾ØªØ¬ÚØ­Ø®Ø¯Ø±ÚØ²ÚØ³Ø´Ø¹ØºÙÚ¤ÙÚ©Ú¯ÙÚµÙÙÙÛÚ¾ÛÛÛÙØ·Ø¤Ø«Ø¢Ø¥Ø£ÙØ¶ØµØ©Ø¸Ø°]+$/i,ar:/^[Ø¡Ø¢Ø£Ø¤Ø¥Ø¦Ø§Ø¨Ø©ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙ°]+$/,he:/^[×-×ª]+$/,fa:/^['Ø¢Ø§Ø¡Ø£Ø¤Ø¦Ø¨Ù¾ØªØ«Ø¬ÚØ­Ø®Ø¯Ø°Ø±Ø²ÚØ³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÚ©Ú¯ÙÙÙÙÙØ©Û']+$/i,bn:/^['à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦ à¦¡à¦¢à¦£à¦¤à¦¥à¦¦à¦§à¦¨à¦ªà¦«à¦¬à¦­à¦®à¦¯à¦°à¦²à¦¶à¦·à¦¸à¦¹à¦¼à¦½à¦¾à¦¿à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§ à§¡à§¢à§£à§°à§±à§²à§³à§´à§µà§¶à§·à§¸à§¹à§ºà§»']+$/,eo:/^[ABCÄD-GÄHÄ¤IJÄ´K-PRSÅTUÅ¬VZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},e=Mt.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZÃÆÄÄ°Ä±ÃÅÃ]+$/i,"bg-BG":/^[0-9Ð-Ð¯]+$/i,"cs-CZ":/^[0-9A-ZÃÄÄÃÄÃÅÃÅÅ Å¤ÃÅ®ÃÅ½]+$/i,"da-DK":/^[0-9A-ZÃÃÃ]+$/i,"de-DE":/^[0-9A-ZÃÃÃÃ]+$/i,"el-GR":/^[0-9Î-Ï]+$/i,"es-ES":/^[0-9A-ZÃÃÃÃÃÃÃ]+$/i,"fi-FI":/^[0-9A-ZÃÃÃ]+$/i,"fr-FR":/^[0-9A-ZÃÃÃÃÃÃÃÃÃÃÃÅÃÃÃÅ¸]+$/i,"it-IT":/^[0-9A-ZÃÃÃÃÃÃÃÃ]+$/i,"ja-JP":/^[0-9ï¼-ï¼ã-ãã¡-ã¶ï½¦-ï¾ä¸-é¾ ã¼ã»ãã]+$/i,"hu-HU":/^[0-9A-ZÃÃÃÃÃÅÃÃÅ°]+$/i,"nb-NO":/^[0-9A-ZÃÃÃ]+$/i,"nl-NL":/^[0-9A-ZÃÃÃÃÃÃÃÃ]+$/i,"nn-NO":/^[0-9A-ZÃÃÃ]+$/i,"pl-PL":/^[0-9A-ZÄÄÄÅÅÅÃÅ»Å¹]+$/i,"pt-PT":/^[0-9A-ZÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]+$/i,"ru-RU":/^[0-9Ð-Ð¯Ð]+$/i,"kk-KZ":/^[0-9Ð-Ð¯Ð\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-ZÄÄÄÅ Å½]+$/i,"sk-SK":/^[0-9A-ZÃÄÄÃÃÅÃÅ Å¤ÃÃÅ½Ä¹ÅÄ½ÃÃ]+$/i,"sr-RS@latin":/^[0-9A-ZÄÄÅ½Å Ä]+$/i,"sr-RS":/^[0-9Ð-Ð¯ÐÐÐÐÐÐ]+$/i,"sv-SE":/^[0-9A-ZÃÃÃ]+$/i,"th-TH":/^[à¸-à¹\s]+$/i,"tr-TR":/^[0-9A-ZÃÄÄ°Ä±ÃÅÃ]+$/i,"uk-UA":/^[0-9Ð-Ð©Ð¬Ð®Ð¯ÐIÐÒÑ]+$/i,"ko-KR":/^[0-9ã±-ãã-ã£ê°-í£]*$/,"ku-IQ":/^[Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©0-9Ø¦Ø§Ø¨Ù¾ØªØ¬ÚØ­Ø®Ø¯Ø±ÚØ²ÚØ³Ø´Ø¹ØºÙÚ¤ÙÚ©Ú¯ÙÚµÙÙÙÛÚ¾ÛÛÛÙØ·Ø¤Ø«Ø¢Ø¥Ø£ÙØ¶ØµØ©Ø¸Ø°]+$/i,"vi-VN":/^[0-9A-ZÃÃáº áº¢ÃÃáº¦áº¤áº¬áº¨áºªÄáº°áº®áº¶áº²áº´ÄÃÃáº¸áººáº¼Ãá»áº¾á»á»á»ÃÃá»á»Ä¨ÃÃá»á»ÃÃá»á»á»á»á»Æ á»á»á»¢á»á» ÃÃá»¤á»¦Å¨Æ¯á»ªá»¨á»°á»¬á»®á»²Ãá»´á»¶á»¸]+$/i,ar:/^[Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©0-9Ø¡Ø¢Ø£Ø¤Ø¥Ø¦Ø§Ø¨Ø©ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙÙ°]+$/,he:/^[0-9×-×ª]+$/,fa:/^['0-9Ø¢Ø§Ø¡Ø£Ø¤Ø¦Ø¨Ù¾ØªØ«Ø¬ÚØ­Ø®Ø¯Ø°Ø±Ø²ÚØ³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙÚ©Ú¯ÙÙÙÙÙØ©ÛÛ±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹Û°']+$/i,bn:/^['à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦à¦ à¦¡à¦¢à¦£à¦¤à¦¥à¦¦à¦§à¦¨à¦ªà¦«à¦¬à¦­à¦®à¦¯à¦°à¦²à¦¶à¦·à¦¸à¦¹à¦¼à¦½à¦¾à¦¿à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§à§ à§¡à§¢à§£à§¦à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§°à§±à§²à§³à§´à§µà§¶à§·à§¸à§¹à§ºà§»']+$/,eo:/^[0-9ABCÄD-GÄHÄ¤IJÄ´K-PRSÅTUÅ¬VZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},t=Mt.decimal={"en-US":".",ar:"Ù«"},o=Mt.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],i,n=0;n<o.length;n++)i="en-".concat(o[n]),r[i]=r["en-US"],e[i]=e["en-US"],t[i]=t["en-US"];for(var s=Mt.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],a,c=0;c<s.length;c++)a="ar-".concat(s[c]),r[a]=r.ar,e[a]=e.ar,t[a]=t.ar;for(var u=Mt.farsiLocales=["IR","AF"],l,d=0;d<u.length;d++)l="fa-".concat(u[d]),e[l]=e.fa,t[l]=t.ar;for(var h=Mt.bengaliLocales=["BD","IN"],b,y=0;y<h.length;y++)b="bn-".concat(h[y]),r[b]=r.bn,e[b]=e.bn,t[b]=t["en-US"];for(var g=Mt.dotDecimal=["ar-EG","ar-LB","ar-LY"],w=Mt.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],I=0;I<g.length;I++)t[g[I]]=t["en-US"];for(var P=0;P<w.length;P++)t[w[P]]=",";return r["fr-CA"]=r["fr-FR"],e["fr-CA"]=e["fr-FR"],r["pt-BR"]=r["pt-PT"],e["pt-BR"]=e["pt-PT"],t["pt-BR"]=t["pt-PT"],r["pl-Pl"]=r["pl-PL"],e["pl-Pl"]=e["pl-PL"],t["pl-Pl"]=t["pl-PL"],r["fa-AF"]=r.fa,Mt}var P1;function IE(){if(P1)return Gs;P1=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.default=o,Gs.locales=void 0;var r=t(ye()),e=du();function t(i){return i&&i.__esModule?i:{default:i}}function o(i,n){(0,r.default)(i),n=n||{};var s=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(n.locale?e.decimal[n.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(i===""||i==="."||i===","||i==="-"||i==="+")return!1;var a=parseFloat(i.replace(",","."));return s.test(i)&&(!n.hasOwnProperty("min")||a>=n.min)&&(!n.hasOwnProperty("max")||a<=n.max)&&(!n.hasOwnProperty("lt")||a<n.lt)&&(!n.hasOwnProperty("gt")||a>n.gt)}return Gs.locales=Object.keys(e.decimal),Gs}var I1;function BE(){return I1||(I1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(IE());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n)?parseFloat(n):NaN}r.exports=e.default,r.exports.default=e.default}(Qu,Qu.exports)),Qu.exports}var el={exports:{}},B1;function cC(){return B1||(B1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){return(0,t.default)(n),parseInt(n,s||10)}r.exports=e.default,r.exports.default=e.default}(el,el.exports)),el.exports}var tl={exports:{}},C1;function uC(){return C1||(C1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){return(0,t.default)(n),s?n==="1"||/^true$/i.test(n):n!=="0"&&!/^false$/i.test(n)&&n!==""}r.exports=e.default,r.exports.default=e.default}(tl,tl.exports)),tl.exports}var rl={exports:{}},_1;function lC(){return _1||(_1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){return(0,t.default)(n),n===s}r.exports=e.default,r.exports.default=e.default}(rl,rl.exports)),rl.exports}var nl={exports:{}},ol={exports:{}},S1;function CE(){return S1||(S1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(i)}function o(i){return t(i)==="object"&&i!==null?typeof i.toString=="function"?i=i.toString():i="[object Object]":(i===null||typeof i>"u"||isNaN(i)&&!i.length)&&(i=""),String(i)}r.exports=e.default,r.exports.default=e.default}(ol,ol.exports)),ol.exports}var il={exports:{}},W1;function Nr(){return W1||(W1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var n in i)typeof o[n]>"u"&&(o[n]=i[n]);return o}r.exports=e.default,r.exports.default=e.default}(il,il.exports)),il.exports}var O1;function fC(){return O1||(O1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=n(ye()),o=n(CE()),i=n(Nr());function n(c){return c&&c.__esModule?c:{default:c}}var s={ignoreCase:!1,minOccurrences:1};function a(c,u,l){return(0,t.default)(c),l=(0,i.default)(l,s),l.ignoreCase?c.toLowerCase().split((0,o.default)(u).toLowerCase()).length>l.minOccurrences:c.split((0,o.default)(u)).length>l.minOccurrences}r.exports=e.default,r.exports.default=e.default}(nl,nl.exports)),nl.exports}var sl={exports:{}},R1;function dC(){return R1||(R1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s,a){return(0,t.default)(n),Object.prototype.toString.call(s)!=="[object RegExp]"&&(s=new RegExp(s,a)),!!n.match(s)}r.exports=e.default,r.exports.default=e.default}(sl,sl.exports)),sl.exports}var al={exports:{}},cl={exports:{}},M1;function _E(){return M1||(M1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}function i(s){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i(s)}function n(s,a){(0,t.default)(s);var c,u;i(a)==="object"?(c=a.min||0,u=a.max):(c=arguments[1],u=arguments[2]);var l=encodeURI(s).split(/%..|./).length-1;return l>=c&&(typeof u>"u"||l<=u)}r.exports=e.default,r.exports.default=e.default}(cl,cl.exports)),cl.exports}var ul={exports:{}},N1;function Ky(){return N1||(N1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=i(Nr());function i(a){return a&&a.__esModule?a:{default:a}}var n={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function s(a,c){(0,t.default)(a),c=(0,o.default)(c,n),c.allow_trailing_dot&&a[a.length-1]==="."&&(a=a.substring(0,a.length-1)),c.allow_wildcard===!0&&a.indexOf("*.")===0&&(a=a.substring(2));var u=a.split("."),l=u[u.length-1];return c.require_tld&&(u.length<2||!c.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(l)||/\s/.test(l))||!c.allow_numeric_tld&&/^\d+$/.test(l)?!1:u.every(function(d){return!(d.length>63&&!c.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(d)||/[\uff01-\uff5e]/.test(d)||/^-|-$/.test(d)||!c.allow_underscores&&/_/.test(d))})}r.exports=e.default,r.exports.default=e.default}(ul,ul.exports)),ul.exports}var ll={exports:{}},$1;function th(){return $1||($1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=o(ye());function o(l){return l&&l.__esModule?l:{default:l}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n="(".concat(i,"[.]){3}").concat(i),s=new RegExp("^".concat(n,"$")),a="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(a,":){7}(?:").concat(a,"|:)|")+"(?:".concat(a,":){6}(?:").concat(n,"|:").concat(a,"|:)|")+"(?:".concat(a,":){5}(?::").concat(n,"|(:").concat(a,"){1,2}|:)|")+"(?:".concat(a,":){4}(?:(:").concat(a,"){0,1}:").concat(n,"|(:").concat(a,"){1,3}|:)|")+"(?:".concat(a,":){3}(?:(:").concat(a,"){0,2}:").concat(n,"|(:").concat(a,"){1,4}|:)|")+"(?:".concat(a,":){2}(?:(:").concat(a,"){0,3}:").concat(n,"|(:").concat(a,"){1,5}|:)|")+"(?:".concat(a,":){1}(?:(:").concat(a,"){0,4}:").concat(n,"|(:").concat(a,"){1,6}|:)|")+"(?::((?::".concat(a,"){0,5}:").concat(n,"|(?::").concat(a,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function u(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,t.default)(l),d=String(d),d?d==="4"?s.test(l):d==="6"?c.test(l):!1:u(l,4)||u(l,6)}r.exports=e.default,r.exports.default=e.default}(ll,ll.exports)),ll.exports}var F1;function SE(){return F1||(F1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=I;var t=a(ye()),o=a(_E()),i=a(Ky()),n=a(th()),s=a(Nr());function a(P){return P&&P.__esModule?P:{default:P}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,b=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,y=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,g=254;function w(P){var B=P.replace(/^"(.+)"$/,"$1");if(!B.trim())return!1;var M=/[\.";<>]/.test(B);if(M){if(B===P)return!1;var O=B.split('"').length===B.split('\\"').length;if(!O)return!1}return!0}function I(P,B){if((0,t.default)(P),B=(0,s.default)(B,c),B.require_display_name||B.allow_display_name){var M=P.match(u);if(M){var O=M[1];if(P=P.replace(O,"").replace(/(^<|>$)/g,""),O.endsWith(" ")&&(O=O.slice(0,-1)),!w(O))return!1}else if(B.require_display_name)return!1}if(!B.ignore_max_length&&P.length>g)return!1;var W=P.split("@"),S=W.pop(),T=S.toLowerCase();if(B.host_blacklist.includes(T)||B.host_whitelist.length>0&&!B.host_whitelist.includes(T))return!1;var E=W.join("@");if(B.domain_specific_validation&&(T==="gmail.com"||T==="googlemail.com")){E=E.toLowerCase();var C=E.split("+")[0];if(!(0,o.default)(C.replace(/\./g,""),{min:6,max:30}))return!1;for(var N=C.split("."),U=0;U<N.length;U++)if(!d.test(N[U]))return!1}if(B.ignore_max_length===!1&&(!(0,o.default)(E,{max:64})||!(0,o.default)(S,{max:254})))return!1;if(!(0,i.default)(S,{require_tld:B.require_tld,ignore_max_length:B.ignore_max_length,allow_underscores:B.allow_underscores})){if(!B.allow_ip_domain)return!1;if(!(0,n.default)(S)){if(!S.startsWith("[")||!S.endsWith("]"))return!1;var D=S.slice(1,-1);if(D.length===0||!(0,n.default)(D))return!1}}if(E[0]==='"')return E=E.slice(1,E.length-1),B.allow_utf8_local_part?y.test(E):h.test(E);for(var L=B.allow_utf8_local_part?b:l,x=E.split("."),A=0;A<x.length;A++)if(!L.test(x[A]))return!1;return!(B.blacklisted_chars&&E.search(new RegExp("[".concat(B.blacklisted_chars,"]+"),"g"))!==-1)}r.exports=e.default,r.exports.default=e.default}(al,al.exports)),al.exports}var fl={exports:{}},U1;function hC(){return U1||(U1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=I;var t=s(ye()),o=s(Ky()),i=s(th()),n=s(Nr());function s(P){return P&&P.__esModule?P:{default:P}}function a(P,B){return h(P)||d(P,B)||u(P,B)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(P,B){if(P){if(typeof P=="string")return l(P,B);var M=Object.prototype.toString.call(P).slice(8,-1);if(M==="Object"&&P.constructor&&(M=P.constructor.name),M==="Map"||M==="Set")return Array.from(P);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return l(P,B)}}function l(P,B){(B==null||B>P.length)&&(B=P.length);for(var M=0,O=new Array(B);M<B;M++)O[M]=P[M];return O}function d(P,B){var M=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(M!=null){var O,W,S,T,E=[],C=!0,N=!1;try{if(S=(M=M.call(P)).next,B!==0)for(;!(C=(O=S.call(M)).done)&&(E.push(O.value),E.length!==B);C=!0);}catch(U){N=!0,W=U}finally{try{if(!C&&M.return!=null&&(T=M.return(),Object(T)!==T))return}finally{if(N)throw W}}return E}}function h(P){if(Array.isArray(P))return P}var b={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},y=/^\[([^\]]+)\](?::([0-9]+))?$/;function g(P){return Object.prototype.toString.call(P)==="[object RegExp]"}function w(P,B){for(var M=0;M<B.length;M++){var O=B[M];if(P===O||g(O)&&O.test(P))return!0}return!1}function I(P,B){if((0,t.default)(P),!P||/[\s<>]/.test(P)||P.indexOf("mailto:")===0||(B=(0,n.default)(B,b),B.validate_length&&P.length>=2083)||!B.allow_fragments&&P.includes("#")||!B.allow_query_components&&(P.includes("?")||P.includes("&")))return!1;var M,O,W,S,T,E,C,N;if(C=P.split("#"),P=C.shift(),C=P.split("?"),P=C.shift(),C=P.split("://"),C.length>1){if(M=C.shift().toLowerCase(),B.require_valid_protocol&&B.protocols.indexOf(M)===-1)return!1}else{if(B.require_protocol)return!1;if(P.slice(0,2)==="//"){if(!B.allow_protocol_relative_urls)return!1;C[0]=P.slice(2)}}if(P=C.join("://"),P==="")return!1;if(C=P.split("/"),P=C.shift(),P===""&&!B.require_host)return!0;if(C=P.split("@"),C.length>1){if(B.disallow_auth||C[0]===""||(O=C.shift(),O.indexOf(":")>=0&&O.split(":").length>2))return!1;var U=O.split(":"),D=a(U,2),L=D[0],x=D[1];if(L===""&&x==="")return!1}S=C.join("@"),E=null,N=null;var A=S.match(y);if(A?(W="",N=A[1],E=A[2]||null):(C=S.split(":"),W=C.shift(),C.length&&(E=C.join(":"))),E!==null&&E.length>0){if(T=parseInt(E,10),!/^[0-9]+$/.test(E)||T<=0||T>65535)return!1}else if(B.require_port)return!1;return B.host_whitelist?w(W,B.host_whitelist):W===""&&!B.require_host?!0:!(!(0,i.default)(W)&&!(0,o.default)(W,B)&&(!N||!(0,i.default)(N,6))||(W=W||N,B.host_blacklist&&w(W,B.host_blacklist)))}r.exports=e.default,r.exports.default=e.default}(fl,fl.exports)),fl.exports}var dl={exports:{}},k1;function pC(){return k1||(k1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(ye());function o(d){return d&&d.__esModule?d:{default:d}}var i=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,n=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,a=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,c=/^([0-9a-fA-F]){16}$/,u=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function l(d,h){return(0,t.default)(d),h!=null&&h.eui&&(h.eui=String(h.eui)),h!=null&&h.no_colons||h!=null&&h.no_separators?h.eui==="48"?n.test(d):h.eui==="64"?c.test(d):n.test(d)||c.test(d):h?.eui==="48"?i.test(d)||s.test(d):h?.eui==="64"?a.test(d)||u.test(d):l(d,{eui:"48"})||l(d,{eui:"64"})}r.exports=e.default,r.exports.default=e.default}(dl,dl.exports)),dl.exports}var hl={exports:{}},D1;function gC(){return D1||(D1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=i(ye()),o=i(th());function i(u){return u&&u.__esModule?u:{default:u}}var n=/^\d{1,3}$/,s=32,a=128;function c(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,t.default)(u);var d=u.split("/");if(d.length!==2||!n.test(d[1])||d[1].length>1&&d[1].startsWith("0"))return!1;var h=(0,o.default)(d[0],l);if(!h)return!1;var b=null;switch(String(l)){case"4":b=s;break;case"6":b=a;break;default:b=(0,o.default)(d[0],"6")?a:s}return d[1]<=b&&d[1]>=0}r.exports=e.default,r.exports.default=e.default}(hl,hl.exports)),hl.exports}var pl={exports:{}},L1;function WE(){return L1||(L1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=o(Nr());function o(g){return g&&g.__esModule?g:{default:g}}function i(g,w){return a(g)||s(g,w)||u(g,w)||n()}function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(g,w){var I=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(I!=null){var P,B,M,O,W=[],S=!0,T=!1;try{if(M=(I=I.call(g)).next,w!==0)for(;!(S=(P=M.call(I)).done)&&(W.push(P.value),W.length!==w);S=!0);}catch(E){T=!0,B=E}finally{try{if(!S&&I.return!=null&&(O=I.return(),Object(O)!==O))return}finally{if(T)throw B}}return W}}function a(g){if(Array.isArray(g))return g}function c(g,w){var I=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!I){if(Array.isArray(g)||(I=u(g))||w){I&&(g=I);var P=0,B=function(){};return{s:B,n:function(){return P>=g.length?{done:!0}:{done:!1,value:g[P++]}},e:function(T){throw T},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,O=!1,W;return{s:function(){I=I.call(g)},n:function(){var T=I.next();return M=T.done,T},e:function(T){O=!0,W=T},f:function(){try{!M&&I.return!=null&&I.return()}finally{if(O)throw W}}}}function u(g,w){if(g){if(typeof g=="string")return l(g,w);var I=Object.prototype.toString.call(g).slice(8,-1);if(I==="Object"&&g.constructor&&(I=g.constructor.name),I==="Map"||I==="Set")return Array.from(g);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return l(g,w)}}function l(g,w){(w==null||w>g.length)&&(w=g.length);for(var I=0,P=new Array(w);I<w;I++)P[I]=g[I];return P}var d={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function h(g){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(g)}function b(g,w){for(var I=[],P=Math.min(g.length,w.length),B=0;B<P;B++)I.push([g[B],w[B]]);return I}function y(g,w){if(typeof w=="string"?w=(0,t.default)({format:w},d):w=(0,t.default)(w,d),typeof g=="string"&&h(w.format)){var I=w.delimiters.find(function(x){return w.format.indexOf(x)!==-1}),P=w.strictMode?I:w.delimiters.find(function(x){return g.indexOf(x)!==-1}),B=b(g.split(P),w.format.toLowerCase().split(I)),M={},O=c(B),W;try{for(O.s();!(W=O.n()).done;){var S=i(W.value,2),T=S[0],E=S[1];if(T.length!==E.length)return!1;M[E.charAt(0)]=T}}catch(x){O.e(x)}finally{O.f()}var C=M.y;if(C.startsWith("-"))return!1;if(M.y.length===2){var N=parseInt(M.y,10);if(isNaN(N))return!1;var U=new Date().getFullYear()%100;N<U?C="20".concat(M.y):C="19".concat(M.y)}var D=M.m;M.m.length===1&&(D="0".concat(M.m));var L=M.d;return M.d.length===1&&(L="0".concat(M.d)),new Date("".concat(C,"-").concat(D,"-").concat(L,"T00:00:00.000Z")).getUTCDate()===+M.d}return w.strictMode?!1:Object.prototype.toString.call(g)==="[object Date]"&&isFinite(g)}r.exports=e.default,r.exports.default=e.default}(pl,pl.exports)),pl.exports}var gl={exports:{}},z1;function yC(){return z1||(z1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=o(Nr());function o(a){return a&&a.__esModule?a:{default:a}}var i={hourFormat:"hour24",mode:"default"},n={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function s(a,c){return c=(0,t.default)(c,i),typeof a!="string"?!1:n[c.hourFormat][c.mode].test(a)}r.exports=e.default,r.exports.default=e.default}(gl,gl.exports)),gl.exports}var yl={exports:{}},q1;function bC(){return q1||(q1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=o(ye());function o(c){return c&&c.__esModule?c:{default:c}}var i={loose:!1},n=["true","false","1","0"],s=[].concat(n,["yes","no"]);function a(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;return(0,t.default)(c),u.loose?s.includes(c.toLowerCase()):n.includes(c)}r.exports=e.default,r.exports.default=e.default}(yl,yl.exports)),yl.exports}var bl={exports:{}},j1;function wC(){return j1||(j1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=P;var t=o(ye());function o(B){return B&&B.__esModule?B:{default:B}}var i="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",n="(([a-zA-Z]{2,3}(-".concat(i,")?)|([a-zA-Z]{5,8}))"),s="([A-Za-z]{4})",a="([A-Za-z]{2}|\\d{3})",c="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",u="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",l="(".concat(u,"(-[A-Za-z0-9]{2,8})+)"),d="(x(-[A-Za-z0-9]{1,8})+)",h="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",b="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",y="(".concat(h,"|").concat(b,")"),g="(-|_)",w="".concat(n,"(").concat(g).concat(s,")?(").concat(g).concat(a,")?(").concat(g).concat(c,")*(").concat(g).concat(l,")*(").concat(g).concat(d,")?"),I=new RegExp("(^".concat(d,"$)|(^").concat(y,"$)|(^").concat(w,"$)"));function P(B){return(0,t.default)(B),I.test(B)}r.exports=e.default,r.exports.default=e.default}(bl,bl.exports)),bl.exports}var wl={exports:{}},V1;function mC(){return V1||(V1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function n(s){if((0,t.default)(s),!i.test(s))return!1;for(var a=0,c=0;c<s.length;c++)c%3===0?a+=s[c]*3:c%3===1?a+=s[c]*7:a+=s[c]*1;return a%10===0}r.exports=e.default,r.exports.default=e.default}(wl,wl.exports)),wl.exports}var Ks={},H1;function xC(){if(H1)return Ks;H1=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.default=o,Ks.locales=void 0;var r=t(ye()),e=du();function t(i){return i&&i.__esModule?i:{default:i}}function o(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,r.default)(i);var a=i,c=s.ignore;if(c)if(c instanceof RegExp)a=a.replace(c,"");else if(typeof c=="string")a=a.replace(new RegExp("[".concat(c.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(n in e.alpha)return e.alpha[n].test(a);throw new Error("Invalid locale '".concat(n,"'"))}return Ks.locales=Object.keys(e.alpha),Ks}var Zs={},G1;function vC(){if(G1)return Zs;G1=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.default=o,Zs.locales=void 0;var r=t(ye()),e=du();function t(i){return i&&i.__esModule?i:{default:i}}function o(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,r.default)(i);var a=i,c=s.ignore;if(c)if(c instanceof RegExp)a=a.replace(c,"");else if(typeof c=="string")a=a.replace(new RegExp("[".concat(c.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(n in e.alphanumeric)return e.alphanumeric[n].test(a);throw new Error("Invalid locale '".concat(n,"'"))}return Zs.locales=Object.keys(e.alphanumeric),Zs}var ml={exports:{}},K1;function TC(){return K1||(K1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=du();function i(a){return a&&a.__esModule?a:{default:a}}var n=/^[0-9]+$/;function s(a,c){return(0,t.default)(a),c&&c.no_symbols?n.test(a):new RegExp("^[+-]?([0-9]*[".concat((c||{}).locale?o.decimal[c.locale]:".","])?[0-9]+$")).test(a)}r.exports=e.default,r.exports.default=e.default}(ml,ml.exports)),ml.exports}var xl={exports:{}},Z1;function AC(){return Z1||(Z1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};function n(s,a){(0,t.default)(s);var c=s.replace(/\s/g,"").toUpperCase();return a.toUpperCase()in i&&i[a].test(c)}r.exports=e.default,r.exports.default=e.default}(xl,xl.exports)),xl.exports}var vl={exports:{}},Tl={exports:{}},Y1;function Zy(){return Y1||(Y1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=o(ye());function o(a){return a&&a.__esModule?a:{default:a}}var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,n=/^[-+]?[0-9]+$/;function s(a,c){(0,t.default)(a),c=c||{};var u=c.allow_leading_zeroes===!1?i:n,l=!c.hasOwnProperty("min")||a>=c.min,d=!c.hasOwnProperty("max")||a<=c.max,h=!c.hasOwnProperty("lt")||a<c.lt,b=!c.hasOwnProperty("gt")||a>c.gt;return u.test(a)&&l&&d&&h&&b}r.exports=e.default,r.exports.default=e.default}(Tl,Tl.exports)),Tl.exports}var J1;function EC(){return J1||(J1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(Zy());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n,{allow_leading_zeroes:!1,min:0,max:65535})}r.exports=e.default,r.exports.default=e.default}(vl,vl.exports)),vl.exports}var Al={exports:{}},X1;function PC(){return X1||(X1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n),n===n.toLowerCase()}r.exports=e.default,r.exports.default=e.default}(Al,Al.exports)),Al.exports}var El={exports:{}},Q1;function IC(){return Q1||(Q1=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n),n===n.toUpperCase()}r.exports=e.default,r.exports.default=e.default}(El,El.exports)),El.exports}var Pl={exports:{}},ew;function BC(){return ew||(ew=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=o(ye());function o(a){return a&&a.__esModule?a:{default:a}}var i=/^[0-9]{15}$/,n=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function s(a,c){(0,t.default)(a),c=c||{};var u=i;if(c.allow_hyphens&&(u=n),!u.test(a))return!1;a=a.replace(/-/g,"");for(var l=0,d=2,h=14,b=0;b<h;b++){var y=a.substring(h-b-1,h-b),g=parseInt(y,10)*d;g>=10?l+=g%10+1:l+=g,d===1?d+=1:d-=1}var w=(10-l%10)%10;return w===parseInt(a.substring(14,15),10)}r.exports=e.default,r.exports.default=e.default}(Pl,Pl.exports)),Pl.exports}var Il={exports:{}},tw;function CC(){return tw||(tw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^[\x00-\x7F]+$/;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Il,Il.exports)),Il.exports}var Ys={},rw;function OE(){if(rw)return Ys;rw=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.default=o,Ys.fullWidth=void 0;var r=e(ye());function e(i){return i&&i.__esModule?i:{default:i}}var t=Ys.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function o(i){return(0,r.default)(i),t.test(i)}return Ys}var Js={},nw;function RE(){if(nw)return Js;nw=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.default=o,Js.halfWidth=void 0;var r=e(ye());function e(i){return i&&i.__esModule?i:{default:i}}var t=Js.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function o(i){return(0,r.default)(i),t.test(i)}return Js}var Bl={exports:{}},ow;function _C(){return ow||(ow=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(ye()),o=OE(),i=RE();function n(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),o.fullWidth.test(a)&&i.halfWidth.test(a)}r.exports=e.default,r.exports.default=e.default}(Bl,Bl.exports)),Bl.exports}var Cl={exports:{}},iw;function SC(){return iw||(iw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/[^\x00-\x7F]/;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Cl,Cl.exports)),Cl.exports}var _l={exports:{}},Sl={exports:{}},sw;function WC(){return sw||(sw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(o,i){var n=o.join("");return new RegExp(n,i)}r.exports=e.default,r.exports.default=e.default}(Sl,Sl.exports)),Sl.exports}var aw;function OC(){return aw||(aw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=i(WC());function i(a){return a&&a.__esModule?a:{default:a}}var n=(0,o.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function s(a){return(0,t.default)(a),n.test(a)}r.exports=e.default,r.exports.default=e.default}(_l,_l.exports)),_l.exports}var Wl={exports:{}},cw;function RC(){return cw||(cw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Wl,Wl.exports)),Wl.exports}var Ol={exports:{}},Rl={exports:{}},uw;function MC(){return uw||(uw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(i,n){return i.some(function(s){return n===s})};e.default=t,r.exports=e.default,r.exports.default=e.default}(Rl,Rl.exports)),Rl.exports}var lw;function NC(){return lw||(lw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(Nr()),o=s(ye()),i=s(MC()),n=du();function s(d){return d&&d.__esModule?d:{default:d}}function a(d){var h=new RegExp("^[-+]?([0-9]+)?(\\".concat(n.decimal[d.locale],"[0-9]{").concat(d.decimal_digits,"})").concat(d.force_decimal?"":"?","$"));return h}var c={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},u=["","-","+"];function l(d,h){if((0,o.default)(d),h=(0,t.default)(h,c),h.locale in n.decimal)return!(0,i.default)(u,d.replace(/ /g,""))&&a(h).test(d);throw new Error("Invalid locale '".concat(h.locale,"'"))}r.exports=e.default,r.exports.default=e.default}(Ol,Ol.exports)),Ol.exports}var Ml={exports:{}},fw;function ME(){return fw||(fw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^(0x|0h)?[0-9A-F]+$/i;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Ml,Ml.exports)),Ml.exports}var Nl={exports:{}},dw;function $C(){return dw||(dw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^(0o)?[0-7]+$/i;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Nl,Nl.exports)),Nl.exports}var $l={exports:{}},hw;function FC(){return hw||(hw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=i(ye()),o=i(BE());function i(s){return s&&s.__esModule?s:{default:s}}function n(s,a){return(0,t.default)(s),(0,o.default)(s)%parseInt(a,10)===0}r.exports=e.default,r.exports.default=e.default}($l,$l.exports)),$l.exports}var Fl={exports:{}},pw;function UC(){return pw||(pw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Fl,Fl.exports)),Fl.exports}var Ul={exports:{}},gw;function kC(){return gw||(gw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=o(ye());function o(u){return u&&u.__esModule?u:{default:u}}var i=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,n=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,a=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;function c(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,t.default)(u),l?i.test(u)||n.test(u)||s.test(u)||a.test(u):i.test(u)||n.test(u)}r.exports=e.default,r.exports.default=e.default}(Ul,Ul.exports)),Ul.exports}var kl={exports:{}},yw;function DC(){return yw||(yw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=o(ye());function o(a){return a&&a.__esModule?a:{default:a}}var i=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,n=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function s(a){(0,t.default)(a);var c=a.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return c.indexOf(",")!==-1?i.test(c):n.test(c)}r.exports=e.default,r.exports.default=e.default}(kl,kl.exports)),kl.exports}var Dl={exports:{}},bw;function LC(){return bw||(bw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Dl,Dl.exports)),Dl.exports}var Xs={},ww;function zC(){if(ww)return Xs;ww=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.default=s,Xs.locales=void 0;var r=e(ye());function e(a){return a&&a.__esModule?a:{default:a}}var t={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function o(a){var c=a.filter(function(u){return!(u in t)});return!(c.length>0)}function i(a,c){var u=a.replace(/[\s\-]+/gi,"").toUpperCase(),l=u.slice(0,2).toUpperCase(),d=l in t;if(c.whitelist){if(!o(c.whitelist))return!1;var h=c.whitelist.includes(l);if(!h)return!1}if(c.blacklist){var b=c.blacklist.includes(l);if(b)return!1}return d&&t[l].test(u)}function n(a){var c=a.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),u=c.slice(4)+c.slice(0,4),l=u.replace(/[A-Z]/g,function(h){return h.charCodeAt(0)-55}),d=l.match(/\d{1,7}/g).reduce(function(h,b){return Number(h+b)%97},"");return d===1}function s(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.default)(a),i(a,c)&&n(a)}return Xs.locales=Object.keys(t),Xs}var Ll={exports:{}},Qs={},mw;function NE(){if(mw)return Qs;mw=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.CountryCodes=void 0,Qs.default=o;var r=e(ye());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function o(i){return(0,r.default)(i),t.has(i.toUpperCase())}return Qs.CountryCodes=t,Qs}var xw;function qC(){return xw||(xw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=NE();function i(a){return a&&a.__esModule?a:{default:a}}var n=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function s(a){(0,t.default)(a);var c=a.slice(4,6).toUpperCase();return!o.CountryCodes.has(c)&&c!=="XK"?!1:n.test(a)}r.exports=e.default,r.exports.default=e.default}(Ll,Ll.exports)),Ll.exports}var zl={exports:{}},vw;function jC(){return vw||(vw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^[a-f0-9]{32}$/;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(zl,zl.exports)),zl.exports}var ql={exports:{}},Tw;function VC(){return Tw||(Tw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function n(s,a){(0,t.default)(s);var c=new RegExp("^[a-fA-F0-9]{".concat(i[a],"}$"));return c.test(s)}r.exports=e.default,r.exports.default=e.default}(ql,ql.exports)),ql.exports}var jl={exports:{}},Vl={exports:{}},Aw;function $E(){return Aw||(Aw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=i(ye()),o=i(Nr());function i(u){return u&&u.__esModule?u:{default:u}}var n=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,a={urlSafe:!1};function c(u,l){(0,t.default)(u),l=(0,o.default)(l,a);var d=u.length;if(l.urlSafe)return s.test(u);if(d%4!==0||n.test(u))return!1;var h=u.indexOf("=");return h===-1||h===d-1||h===d-2&&u[d-1]==="="}r.exports=e.default,r.exports.default=e.default}(Vl,Vl.exports)),Vl.exports}var Ew;function HC(){return Ew||(Ew=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=i(ye()),o=i($E());function i(s){return s&&s.__esModule?s:{default:s}}function n(s){(0,t.default)(s);var a=s.split("."),c=a.length;return c!==3?!1:a.reduce(function(u,l){return u&&(0,o.default)(l,{urlSafe:!0})},!0)}r.exports=e.default,r.exports.default=e.default}(jl,jl.exports)),jl.exports}var Hl={exports:{}},Pw;function GC(){return Pw||(Pw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(ye()),o=i(Nr());function i(c){return c&&c.__esModule?c:{default:c}}function n(c){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n(c)}var s={allow_primitives:!1};function a(c,u){(0,t.default)(c);try{u=(0,o.default)(u,s);var l=[];u.allow_primitives&&(l=[null,!1,!0]);var d=JSON.parse(c);return l.includes(d)||!!d&&n(d)==="object"}catch{}return!1}r.exports=e.default,r.exports.default=e.default}(Hl,Hl.exports)),Hl.exports}var Gl={exports:{}},Iw;function KC(){return Iw||(Iw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=i(Nr());function i(a){return a&&a.__esModule?a:{default:a}}var n={ignore_whitespace:!1};function s(a,c){return(0,t.default)(a),c=(0,o.default)(c,n),(c.ignore_whitespace?a.trim().length:a.length)===0}r.exports=e.default,r.exports.default=e.default}(Gl,Gl.exports)),Gl.exports}var Kl={exports:{}},Bw;function ZC(){return Bw||(Bw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}function i(s){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i(s)}function n(s,a){(0,t.default)(s);var c,u;i(a)==="object"?(c=a.min||0,u=a.max):(c=arguments[1]||0,u=arguments[2]);var l=s.match(/(\uFE0F|\uFE0E)/g)||[],d=s.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],h=s.length-l.length-d.length;return h>=c&&(typeof u>"u"||h<=u)}r.exports=e.default,r.exports.default=e.default}(Kl,Kl.exports)),Kl.exports}var Zl={exports:{}},Cw;function YC(){return Cw||(Cw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function n(s,a){(0,t.default)(s);var c=i[[void 0,null].includes(a)?"all":a];return!!c&&c.test(s)}r.exports=e.default,r.exports.default=e.default}(Zl,Zl.exports)),Zl.exports}var Yl={exports:{}},_w;function JC(){return _w||(_w=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=i(ye()),o=i(ME());function i(s){return s&&s.__esModule?s:{default:s}}function n(s){return(0,t.default)(s),(0,o.default)(s)&&s.length===24}r.exports=e.default,r.exports.default=e.default}(Yl,Yl.exports)),Yl.exports}var Jl={exports:{}},Sw;function XC(){return Sw||(Sw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(Gy());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){var a=s?.comparisonDate||s||Date().toString(),c=(0,t.default)(a),u=(0,t.default)(n);return!!(u&&c&&u>c)}r.exports=e.default,r.exports.default=e.default}(Jl,Jl.exports)),Jl.exports}var Xl={exports:{}},Ww;function QC(){return Ww||(Ww=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=i(ye()),o=i(Gy());function i(s){return s&&s.__esModule?s:{default:s}}function n(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:String(new Date);(0,t.default)(s);var c=(0,o.default)(a),u=(0,o.default)(s);return!!(u&&c&&u<c)}r.exports=e.default,r.exports.default=e.default}(Xl,Xl.exports)),Xl.exports}var Ql={exports:{}},Ow;function e8(){return Ow||(Ow=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=i(CE());function i(a){return a&&a.__esModule?a:{default:a}}function n(a){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n(a)}function s(a,c){(0,t.default)(a);var u;if(Object.prototype.toString.call(c)==="[object Array]"){var l=[];for(u in c)({}).hasOwnProperty.call(c,u)&&(l[u]=(0,o.default)(c[u]));return l.indexOf(a)>=0}else{if(n(c)==="object")return c.hasOwnProperty(a);if(c&&typeof c.indexOf=="function")return c.indexOf(a)>=0}return!1}r.exports=e.default,r.exports.default=e.default}(Ql,Ql.exports)),Ql.exports}var ef={exports:{}},Rw;function FE(){return Rw||(Rw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){(0,t.default)(n);for(var s=n.replace(/[- ]+/g,""),a=0,c,u,l,d=s.length-1;d>=0;d--)c=s.substring(d,d+1),u=parseInt(c,10),l?(u*=2,u>=10?a+=u%10+1:a+=u):a+=u,l=!l;return!!(a%10===0&&s)}r.exports=e.default,r.exports.default=e.default}(ef,ef.exports)),ef.exports}var tf={exports:{}},Mw;function t8(){return Mw||(Mw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(ye()),o=i(FE());function i(c){return c&&c.__esModule?c:{default:c}}var n={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},s=function(){var c=[];for(var u in n)n.hasOwnProperty(u)&&c.push(n[u]);return c}();function a(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(c);var l=u.provider,d=c.replace(/[- ]+/g,"");if(l&&l.toLowerCase()in n){if(!n[l.toLowerCase()].test(d))return!1}else{if(l&&!(l.toLowerCase()in n))throw new Error("".concat(l," is not a valid credit card provider."));if(!s.some(function(h){return h.test(d)}))return!1}return(0,o.default)(c)}r.exports=e.default,r.exports.default=e.default}(tf,tf.exports)),tf.exports}var rf={exports:{}},Nw;function r8(){return Nw||(Nw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(ye()),o=i(Zy());function i(a){return a&&a.__esModule?a:{default:a}}var n={PL:function(c){(0,t.default)(c);var u={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(c!=null&&c.length===11&&(0,o.default)(c,{allow_leading_zeroes:!0})){var l=c.split("").slice(0,-1),d=l.reduce(function(y,g,w){return y+Number(g)*u[w+1]},0),h=d%10,b=Number(c.charAt(c.length-1));if(h===0&&b===0||b===10-h)return!0}return!1},ES:function(c){(0,t.default)(c);var u=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,l={X:0,Y:1,Z:2},d=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],h=c.trim().toUpperCase();if(!u.test(h))return!1;var b=h.slice(0,-1).replace(/[X,Y,Z]/g,function(y){return l[y]});return h.endsWith(d[b%23])},FI:function(c){if((0,t.default)(c),c.length!==11||!c.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var u="0123456789ABCDEFHJKLMNPRSTUVWXY",l=parseInt(c.slice(0,6),10)*1e3+parseInt(c.slice(7,10),10),d=l%31,h=u[d];return h===c.slice(10,11)},IN:function(c){var u=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,l=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],d=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],h=c.trim();if(!u.test(h))return!1;var b=0,y=h.replace(/\s/g,"").split("").map(Number).reverse();return y.forEach(function(g,w){b=l[b][d[w%8][g]]}),b===0},IR:function(c){if(!c.match(/^\d{10}$/)||(c="0000".concat(c).slice(c.length-6),parseInt(c.slice(3,9),10)===0))return!1;for(var u=parseInt(c.slice(9,10),10),l=0,d=0;d<9;d++)l+=parseInt(c.slice(d,d+1),10)*(10-d);return l%=11,l<2&&u===l||l>=2&&u===11-l},IT:function(c){return c.length!==9||c==="CA00000AA"?!1:c.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(c){var u=c.trim();if(isNaN(Number(u))||u.length!==11||u==="00000000000")return!1;var l=u.split("").map(Number),d=(11-(3*l[0]+7*l[1]+6*l[2]+1*l[3]+8*l[4]+9*l[5]+4*l[6]+5*l[7]+2*l[8])%11)%11,h=(11-(5*l[0]+4*l[1]+3*l[2]+2*l[3]+7*l[4]+6*l[5]+5*l[6]+4*l[7]+3*l[8]+2*d)%11)%11;return!(d!==l[9]||h!==l[10])},TH:function(c){if(!c.match(/^[1-8]\d{12}$/))return!1;for(var u=0,l=0;l<12;l++)u+=parseInt(c[l],10)*(13-l);return c[12]===((11-u%11)%10).toString()},LK:function(c){var u=/^[1-9]\d{8}[vx]$/i,l=/^[1-9]\d{11}$/i;return c.length===10&&u.test(c)?!0:!!(c.length===12&&l.test(c))},"he-IL":function(c){var u=/^\d{9}$/,l=c.trim();if(!u.test(l))return!1;for(var d=l,h=0,b,y=0;y<d.length;y++)b=Number(d[y])*(y%2+1),h+=b>9?b-9:b;return h%10===0},"ar-LY":function(c){var u=/^(1|2)\d{11}$/,l=c.trim();return!!u.test(l)},"ar-TN":function(c){var u=/^\d{8}$/,l=c.trim();return!!u.test(l)},"zh-CN":function(c){var u=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],l=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],d=["1","0","X","9","8","7","6","5","4","3","2"],h=function(M){return u.includes(M)},b=function(M){var O=parseInt(M.substring(0,4),10),W=parseInt(M.substring(4,6),10),S=parseInt(M.substring(6),10),T=new Date(O,W-1,S);return T>new Date?!1:T.getFullYear()===O&&T.getMonth()===W-1&&T.getDate()===S},y=function(M){for(var O=M.substring(0,17),W=0,S=0;S<17;S++)W+=parseInt(O.charAt(S),10)*parseInt(l[S],10);var T=W%11;return d[T]},g=function(M){return y(M)===M.charAt(17).toUpperCase()},w=function(M){var O=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(M);if(!O)return!1;var W=M.substring(0,2);if(O=h(W),!O)return!1;var S="19".concat(M.substring(6,12));return O=b(S),!!O},I=function(M){var O=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(M);if(!O)return!1;var W=M.substring(0,2);if(O=h(W),!O)return!1;var S=M.substring(6,14);return O=b(S),O?g(M):!1},P=function(M){var O=/^\d{15}|(\d{17}(\d|x|X))$/.test(M);return O?M.length===15?w(M):I(M):!1};return P(c)},"zh-HK":function(c){c=c.trim();var u=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,l=/^[0-9]$/;if(c=c.toUpperCase(),!u.test(c))return!1;c=c.replace(/\[|\]|\(|\)/g,""),c.length===8&&(c="3".concat(c));for(var d=0,h=0;h<=7;h++){var b=void 0;l.test(c[h])?b=c[h]:b=(c[h].charCodeAt(0)-55)%11,d+=b*(9-h)}d%=11;var y;return d===0?y="0":d===1?y="A":y=String(11-d),y===c[c.length-1]},"zh-TW":function(c){var u={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},l=c.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(l)?Array.from(l).reduce(function(d,h,b){if(b===0){var y=u[h];return y%10*9+Math.floor(y/10)}return b===9?(10-d%10-Number(h))%10===0:d+Number(h)*(9-b)},0):!1}};function s(a,c){if((0,t.default)(a),c in n)return n[c](a);if(c==="any"){for(var u in n)if(n.hasOwnProperty(u)){var l=n[u];if(l(a))return!0}return!1}throw new Error("Invalid locale '".concat(c,"'"))}r.exports=e.default,r.exports.default=e.default}(rf,rf.exports)),rf.exports}var nf={exports:{}},$w;function n8(){return $w||($w=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=o(ye());function o(l){return l&&l.__esModule?l:{default:l}}var i=8,n=14,s=/^(\d{8}|\d{13}|\d{14})$/;function a(l,d){return l===i||l===n?d%2===0?3:1:d%2===0?1:3}function c(l){var d=l.slice(0,-1).split("").map(function(b,y){return Number(b)*a(l.length,y)}).reduce(function(b,y){return b+y},0),h=10-d%10;return h<10?h:0}function u(l){(0,t.default)(l);var d=Number(l.slice(-1));return s.test(l)&&d===c(l)}r.exports=e.default,r.exports.default=e.default}(nf,nf.exports)),nf.exports}var of={exports:{}},Fw;function o8(){return Fw||(Fw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function n(s){if((0,t.default)(s),!i.test(s))return!1;for(var a=!0,c=0,u=s.length-2;u>=0;u--)if(s[u]>="A"&&s[u]<="Z")for(var l=s[u].charCodeAt(0)-55,d=l%10,h=Math.trunc(l/10),b=0,y=[d,h];b<y.length;b++){var g=y[b];a?g>=5?c+=1+(g-5)*2:c+=g*2:c+=g,a=!a}else{var w=s[u].charCodeAt(0)-48;a?w>=5?c+=1+(w-5)*2:c+=w*2:c+=w,a=!a}var I=Math.trunc((c+9)/10)*10-c;return+s[s.length-1]===I}r.exports=e.default,r.exports.default=e.default}(of,of.exports)),of.exports}var sf={exports:{}},Uw;function i8(){return Uw||(Uw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=o(ye());function o(c){return c&&c.__esModule?c:{default:c}}var i=/^(?:[0-9]{9}X|[0-9]{10})$/,n=/^(?:[0-9]{13})$/,s=[1,3];function a(c,u){(0,t.default)(c);var l=String(u?.version||u);if(!(u!=null&&u.version||u))return a(c,{version:10})||a(c,{version:13});var d=c.replace(/[\s-]+/g,""),h=0;if(l==="10"){if(!i.test(d))return!1;for(var b=0;b<l-1;b++)h+=(b+1)*d.charAt(b);if(d.charAt(9)==="X"?h+=10*10:h+=10*d.charAt(9),h%11===0)return!0}else if(l==="13"){if(!n.test(d))return!1;for(var y=0;y<12;y++)h+=s[y%2]*d.charAt(y);if(d.charAt(12)-(10-h%10)%10===0)return!0}return!1}r.exports=e.default,r.exports.default=e.default}(sf,sf.exports)),sf.exports}var af={exports:{}},kw;function s8(){return kw||(kw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i="^\\d{4}-?\\d{3}[\\dX]$";function n(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(s);var c=i;if(c=a.require_hyphen?c.replace("?",""):c,c=a.case_sensitive?new RegExp(c):new RegExp(c,"i"),!c.test(s))return!1;for(var u=s.replace("-","").toUpperCase(),l=0,d=0;d<u.length;d++){var h=u[d];l+=(h==="X"?10:+h)*(8-d)}return l%11===0}r.exports=e.default,r.exports.default=e.default}(af,af.exports)),af.exports}var cf={exports:{}},Qi={},Dw;function UE(){if(Dw)return Qi;Dw=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.iso7064Check=r,Qi.luhnCheck=e,Qi.reverseMultiplyAndSum=t,Qi.verhoeffCheck=o;function r(i){for(var n=10,s=0;s<i.length-1;s++)n=(parseInt(i[s],10)+n)%10===0?10*2%11:(parseInt(i[s],10)+n)%10*2%11;return n=n===1?0:11-n,n===parseInt(i[10],10)}function e(i){for(var n=0,s=!1,a=i.length-1;a>=0;a--){if(s){var c=parseInt(i[a],10)*2;c>9?n+=c.toString().split("").map(function(u){return parseInt(u,10)}).reduce(function(u,l){return u+l},0):n+=c}else n+=parseInt(i[a],10);s=!s}return n%10===0}function t(i,n){for(var s=0,a=0;a<i.length;a++)s+=i[a]*(n-a);return s}function o(i){for(var n=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],s=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],a=i.split("").reverse().join(""),c=0,u=0;u<a.length;u++)c=n[c][s[u%8][parseInt(a[u],10)]];return c===0}return Qi}var Lw;function a8(){return Lw||(Lw=1,function(r,e){function t(G){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},t(G)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=hr;var o=c(ye()),i=a(UE()),n=c(WE());function s(G){if(typeof WeakMap!="function")return null;var Y=new WeakMap,re=new WeakMap;return(s=function(ce){return ce?re:Y})(G)}function a(G,Y){if(G&&G.__esModule)return G;if(G===null||t(G)!="object"&&typeof G!="function")return{default:G};var re=s(Y);if(re&&re.has(G))return re.get(G);var fe={__proto__:null},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var pe in G)if(pe!=="default"&&{}.hasOwnProperty.call(G,pe)){var Pe=ce?Object.getOwnPropertyDescriptor(G,pe):null;Pe&&(Pe.get||Pe.set)?Object.defineProperty(fe,pe,Pe):fe[pe]=G[pe]}return fe.default=G,re&&re.set(G,fe),fe}function c(G){return G&&G.__esModule?G:{default:G}}function u(G){return b(G)||h(G)||d(G)||l()}function l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(G,Y){if(G){if(typeof G=="string")return y(G,Y);var re=Object.prototype.toString.call(G).slice(8,-1);if(re==="Object"&&G.constructor&&(re=G.constructor.name),re==="Map"||re==="Set")return Array.from(G);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return y(G,Y)}}function h(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function b(G){if(Array.isArray(G))return y(G)}function y(G,Y){(Y==null||Y>G.length)&&(Y=G.length);for(var re=0,fe=new Array(Y);re<Y;re++)fe[re]=G[re];return fe}function g(G){var Y=G.slice(0,2),re=parseInt(G.slice(2,4),10);re>40?(re-=40,Y="20".concat(Y)):re>20?(re-=20,Y="18".concat(Y)):Y="19".concat(Y),re<10&&(re="0".concat(re));var fe="".concat(Y,"/").concat(re,"/").concat(G.slice(4,6));if(!(0,n.default)(fe,"YYYY/MM/DD"))return!1;for(var ce=G.split("").map(function(Ve){return parseInt(Ve,10)}),pe=[2,4,8,5,10,9,7,3,6],Pe=0,Oe=0;Oe<pe.length;Oe++)Pe+=ce[Oe]*pe[Oe];return Pe=Pe%11===10?0:Pe%11,Pe===ce[9]}function w(G){var Y=G.split(""),re=Y.filter(function(ce,pe){return pe%2}).map(function(ce){return Number(ce)*2}).join("").split(""),fe=Y.filter(function(ce,pe){return!(pe%2)}).concat(re).map(function(ce){return Number(ce)}).reduce(function(ce,pe){return ce+pe});return fe%10===0}function I(G){G=G.replace(/\W/,"");var Y=parseInt(G.slice(0,2),10);if(G.length===10)Y<54?Y="20".concat(Y):Y="19".concat(Y);else{if(G.slice(6)==="000")return!1;if(Y<54)Y="19".concat(Y);else return!1}Y.length===3&&(Y=[Y.slice(0,2),"0",Y.slice(2)].join(""));var re=parseInt(G.slice(2,4),10);if(re>50&&(re-=50),re>20){if(parseInt(Y,10)<2004)return!1;re-=20}re<10&&(re="0".concat(re));var fe="".concat(Y,"/").concat(re,"/").concat(G.slice(4,6));if(!(0,n.default)(fe,"YYYY/MM/DD"))return!1;if(G.length===10&&parseInt(G,10)%11!==0){var ce=parseInt(G.slice(0,9),10)%11;if(parseInt(Y,10)<1986&&ce===10){if(parseInt(G.slice(9),10)!==0)return!1}else return!1}return!0}function P(G){return i.luhnCheck(G)}function B(G){for(var Y=G.split("").map(function(Ve){return parseInt(Ve,10)}),re=[],fe=0;fe<Y.length-1;fe++){re.push("");for(var ce=0;ce<Y.length-1;ce++)Y[fe]===Y[ce]&&(re[fe]+=ce)}if(re=re.filter(function(Ve){return Ve.length>1}),re.length!==2&&re.length!==3)return!1;if(re[0].length===3){for(var pe=re[0].split("").map(function(Ve){return parseInt(Ve,10)}),Pe=0,Oe=0;Oe<pe.length-1;Oe++)pe[Oe]+1===pe[Oe+1]&&(Pe+=1);if(Pe===2)return!1}return i.iso7064Check(G)}function M(G){G=G.replace(/\W/,"");var Y=parseInt(G.slice(4,6),10),re=G.slice(6,7);switch(re){case"0":case"1":case"2":case"3":Y="19".concat(Y);break;case"4":case"9":Y<37?Y="20".concat(Y):Y="19".concat(Y);break;default:if(Y<37)Y="20".concat(Y);else if(Y>58)Y="18".concat(Y);else return!1;break}Y.length===3&&(Y=[Y.slice(0,2),"0",Y.slice(2)].join(""));var fe="".concat(Y,"/").concat(G.slice(2,4),"/").concat(G.slice(0,2));if(!(0,n.default)(fe,"YYYY/MM/DD"))return!1;for(var ce=G.split("").map(function(Ve){return parseInt(Ve,10)}),pe=0,Pe=4,Oe=0;Oe<9;Oe++)pe+=ce[Oe]*Pe,Pe-=1,Pe===1&&(Pe=7);return pe%=11,pe===1?!1:pe===0?ce[9]===0:ce[9]===11-pe}function O(G){for(var Y=G.slice(0,8).split("").map(function(pe){return parseInt(pe,10)}),re=0,fe=1;fe<Y.length;fe+=2)re+=Y[fe];for(var ce=0;ce<Y.length;ce+=2)Y[ce]<2?re+=1-Y[ce]:(re+=2*(Y[ce]-2)+5,Y[ce]>4&&(re+=2));return String.fromCharCode(re%26+65)===G.charAt(8)}function W(G){for(var Y=G.split("").map(function(ce){return parseInt(ce,10)}),re=0,fe=0;fe<8;fe++)re+=Y[fe]*Math.pow(2,8-fe);return re%11%10===Y[8]}function S(G){var Y=i.reverseMultiplyAndSum(G.split("").slice(0,7).map(function(re){return parseInt(re,10)}),8);return G.length===9&&G[8]!=="W"&&(Y+=(G[8].charCodeAt(0)-64)*9),Y%=23,Y===0?G[7].toUpperCase()==="W":G[7].toUpperCase()===String.fromCharCode(64+Y)}var T={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function E(){var G=[];for(var Y in T)T.hasOwnProperty(Y)&&G.push.apply(G,u(T[Y]));return G}function C(G){return E().indexOf(G.slice(0,2))!==-1}function N(G){for(var Y=0,re=G.split(""),fe=parseInt(re.pop(),10),ce=0;ce<re.length;ce++)Y+=re[9-ce]*(2+ce%6);var pe=11-Y%11;return pe===11?pe=0:pe===10&&(pe=9),fe===pe}function U(G){var Y=G.toUpperCase().split("");if(isNaN(parseInt(Y[0],10))&&Y.length>1){var re=0;switch(Y[0]){case"Y":re=1;break;case"Z":re=2;break}Y.splice(0,1,re)}else for(;Y.length<9;)Y.unshift(0);var fe=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];Y=Y.join("");var ce=parseInt(Y.slice(0,8),10)%23;return Y[8]===fe[ce]}function D(G){var Y=G.slice(1,3),re=G.slice(0,1);switch(re){case"1":case"2":Y="18".concat(Y);break;case"3":case"4":Y="19".concat(Y);break;default:Y="20".concat(Y);break}var fe="".concat(Y,"/").concat(G.slice(3,5),"/").concat(G.slice(5,7));if(!(0,n.default)(fe,"YYYY/MM/DD"))return!1;for(var ce=G.split("").map(function(ht){return parseInt(ht,10)}),pe=0,Pe=1,Oe=0;Oe<10;Oe++)pe+=ce[Oe]*Pe,Pe+=1,Pe===10&&(Pe=1);if(pe%11===10){pe=0,Pe=3;for(var Ve=0;Ve<10;Ve++)pe+=ce[Ve]*Pe,Pe+=1,Pe===10&&(Pe=1);if(pe%11===10)return ce[10]===0}return pe%11===ce[10]}function L(G){var Y=G.slice(4,6),re=G.slice(6,7);switch(re){case"+":Y="18".concat(Y);break;case"-":Y="19".concat(Y);break;default:Y="20".concat(Y);break}var fe="".concat(Y,"/").concat(G.slice(2,4),"/").concat(G.slice(0,2));if(!(0,n.default)(fe,"YYYY/MM/DD"))return!1;var ce=parseInt(G.slice(0,6)+G.slice(7,10),10)%31;if(ce<10)return ce===parseInt(G.slice(10),10);ce-=10;var pe=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return pe[ce]===G.slice(10)}function x(G){if(G.slice(2,4)!=="00"||G.slice(4,6)!=="00"){var Y="".concat(G.slice(0,2),"/").concat(G.slice(2,4),"/").concat(G.slice(4,6));if(!(0,n.default)(Y,"YY/MM/DD"))return!1}var re=97-parseInt(G.slice(0,9),10)%97,fe=parseInt(G.slice(9,11),10);return!(re!==fe&&(re=97-parseInt("2".concat(G.slice(0,9)),10)%97,re!==fe))}function A(G){G=G.replace(/\s/g,"");var Y=parseInt(G.slice(0,10),10)%511,re=parseInt(G.slice(10,13),10);return Y===re}function R(G){var Y="".concat(G.slice(0,4),"/").concat(G.slice(4,6),"/").concat(G.slice(6,8));return!(0,n.default)(Y,"YYYY/MM/DD")||!i.luhnCheck(G.slice(0,12))?!1:i.verhoeffCheck("".concat(G.slice(0,11)).concat(G[12]))}function F(G){return i.iso7064Check(G)}function z(G){for(var Y=G.split("").map(function(ce){return parseInt(ce,10)}),re=8,fe=1;fe<9;fe++)re+=Y[fe]*(fe+1);return re%11===Y[9]}function j(G){for(var Y=!1,re=!1,fe=0;fe<3;fe++)if(!Y&&/[AEIOU]/.test(G[fe]))Y=!0;else if(!re&&Y&&G[fe]==="X")re=!0;else if(fe>0&&(Y&&!re&&!/[AEIOU]/.test(G[fe])||re&&!/X/.test(G[fe])))return!1;return!0}function Z(G){var Y=G.toUpperCase().split("");if(!j(Y.slice(0,3))||!j(Y.slice(3,6)))return!1;for(var re=[6,7,9,10,12,13,14],fe={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},ce=0,pe=re;ce<pe.length;ce++){var Pe=pe[ce];Y[Pe]in fe&&Y.splice(Pe,1,fe[Y[Pe]])}var Oe={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},Ve=Oe[Y[8]],ht=parseInt(Y[9]+Y[10],10);ht>40&&(ht-=40),ht<10&&(ht="0".concat(ht));var Ot="".concat(Y[6]).concat(Y[7],"/").concat(Ve,"/").concat(ht);if(!(0,n.default)(Ot,"YY/MM/DD"))return!1;for(var pr=0,q=1;q<Y.length-1;q+=2){var v=parseInt(Y[q],10);isNaN(v)&&(v=Y[q].charCodeAt(0)-65),pr+=v}for(var _={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},H=0;H<Y.length-1;H+=2){var $=0;if(Y[H]in _)$=_[Y[H]];else{var ne=parseInt(Y[H],10);$=2*ne+1,ne>4&&($+=2)}pr+=$}return String.fromCharCode(65+pr%26)===Y[15]}function J(G){G=G.replace(/\W/,"");var Y=G.slice(0,2);if(Y!=="32"){var re=G.slice(2,4);if(re!=="00"){var fe=G.slice(4,6);switch(G[6]){case"0":fe="18".concat(fe);break;case"1":fe="19".concat(fe);break;default:fe="20".concat(fe);break}var ce="".concat(fe,"/").concat(G.slice(2,4),"/").concat(Y);if(!(0,n.default)(ce,"YYYY/MM/DD"))return!1}for(var pe=1101,Pe=[1,6,3,7,9,10,5,8,4,2],Oe=0;Oe<G.length-1;Oe++)pe-=parseInt(G[Oe],10)*Pe[Oe];return parseInt(G[10],10)===pe%11}return!0}function oe(G){if(G.length!==9){for(var Y=G.toUpperCase().split("");Y.length<8;)Y.unshift(0);switch(G[7]){case"A":case"P":if(parseInt(Y[6],10)===0)return!1;break;default:{var re=parseInt(Y.join("").slice(0,5),10);if(re>32e3)return!1;var fe=parseInt(Y.join("").slice(5,7),10);if(re===fe)return!1}}}return!0}function ee(G){return i.reverseMultiplyAndSum(G.split("").slice(0,8).map(function(Y){return parseInt(Y,10)}),9)%11===parseInt(G[8],10)}function te(G){if(G.length===10){for(var Y=[6,5,7,2,3,4,5,6,7],re=0,fe=0;fe<Y.length;fe++)re+=parseInt(G[fe],10)*Y[fe];return re%=11,re===10?!1:re===parseInt(G[9],10)}var ce=G.slice(0,2),pe=parseInt(G.slice(2,4),10);pe>80?(ce="18".concat(ce),pe-=80):pe>60?(ce="22".concat(ce),pe-=60):pe>40?(ce="21".concat(ce),pe-=40):pe>20?(ce="20".concat(ce),pe-=20):ce="19".concat(ce),pe<10&&(pe="0".concat(pe));var Pe="".concat(ce,"/").concat(pe,"/").concat(G.slice(4,6));if(!(0,n.default)(Pe,"YYYY/MM/DD"))return!1;for(var Oe=0,Ve=1,ht=0;ht<G.length-1;ht++)Oe+=parseInt(G[ht],10)*Ve%10,Ve+=2,Ve>10?Ve=1:Ve===5&&(Ve+=2);return Oe=10-Oe%10,Oe===parseInt(G[10],10)}function ae(G){if(G.length===11){var Y,re;if(Y=0,G==="11111111111"||G==="22222222222"||G==="33333333333"||G==="44444444444"||G==="55555555555"||G==="66666666666"||G==="77777777777"||G==="88888888888"||G==="99999999999"||G==="00000000000")return!1;for(var fe=1;fe<=9;fe++)Y+=parseInt(G.substring(fe-1,fe),10)*(11-fe);if(re=Y*10%11,re===10&&(re=0),re!==parseInt(G.substring(9,10),10))return!1;Y=0;for(var ce=1;ce<=10;ce++)Y+=parseInt(G.substring(ce-1,ce),10)*(12-ce);return re=Y*10%11,re===10&&(re=0),re===parseInt(G.substring(10,11),10)}if(G==="00000000000000"||G==="11111111111111"||G==="22222222222222"||G==="33333333333333"||G==="44444444444444"||G==="55555555555555"||G==="66666666666666"||G==="77777777777777"||G==="88888888888888"||G==="99999999999999")return!1;for(var pe=G.length-2,Pe=G.substring(0,pe),Oe=G.substring(pe),Ve=0,ht=pe-7,Ot=pe;Ot>=1;Ot--)Ve+=Pe.charAt(pe-Ot)*ht,ht-=1,ht<2&&(ht=9);var pr=Ve%11<2?0:11-Ve%11;if(pr!==parseInt(Oe.charAt(0),10))return!1;pe+=1,Pe=G.substring(0,pe),Ve=0,ht=pe-7;for(var q=pe;q>=1;q--)Ve+=Pe.charAt(pe-q)*ht,ht-=1,ht<2&&(ht=9);return pr=Ve%11<2?0:11-Ve%11,pr===parseInt(Oe.charAt(1),10)}function ue(G){var Y=11-i.reverseMultiplyAndSum(G.split("").slice(0,8).map(function(re){return parseInt(re,10)}),9)%11;return Y>9?parseInt(G[8],10)===0:Y===parseInt(G[8],10)}function we(G){if(G.slice(0,4)!=="9000"){var Y=G.slice(1,3);switch(G[0]){case"1":case"2":Y="19".concat(Y);break;case"3":case"4":Y="18".concat(Y);break;case"5":case"6":Y="20".concat(Y);break}var re="".concat(Y,"/").concat(G.slice(3,5),"/").concat(G.slice(5,7));if(re.length===8){if(!(0,n.default)(re,"YY/MM/DD"))return!1}else if(!(0,n.default)(re,"YYYY/MM/DD"))return!1;for(var fe=G.split("").map(function(Oe){return parseInt(Oe,10)}),ce=[2,7,9,1,4,6,3,5,8,2,7,9],pe=0,Pe=0;Pe<ce.length;Pe++)pe+=fe[Pe]*ce[Pe];return pe%11===10?fe[12]===1:fe[12]===pe%11}return!0}function Ee(G){if(G.length===9){if(G=G.replace(/\W/,""),G.slice(6)==="000")return!1;var Y=parseInt(G.slice(0,2),10);if(Y>53)return!1;Y<10?Y="190".concat(Y):Y="19".concat(Y);var re=parseInt(G.slice(2,4),10);re>50&&(re-=50),re<10&&(re="0".concat(re));var fe="".concat(Y,"/").concat(re,"/").concat(G.slice(4,6));if(!(0,n.default)(fe,"YYYY/MM/DD"))return!1}return!0}function Ne(G){var Y=11-i.reverseMultiplyAndSum(G.split("").slice(0,7).map(function(re){return parseInt(re,10)}),8)%11;return Y===10?parseInt(G[7],10)===0:Y===parseInt(G[7],10)}function Ue(G){var Y=G.slice(0);G.length>11&&(Y=Y.slice(2));var re="",fe=Y.slice(2,4),ce=parseInt(Y.slice(4,6),10);if(G.length>11)re=G.slice(0,4);else if(re=G.slice(0,2),G.length===11&&ce<60){var pe=new Date().getFullYear().toString(),Pe=parseInt(pe.slice(0,2),10);if(pe=parseInt(pe,10),G[6]==="-")parseInt("".concat(Pe).concat(re),10)>pe?re="".concat(Pe-1).concat(re):re="".concat(Pe).concat(re);else if(re="".concat(Pe-1).concat(re),pe-parseInt(re,10)<100)return!1}ce>60&&(ce-=60),ce<10&&(ce="0".concat(ce));var Oe="".concat(re,"/").concat(fe,"/").concat(ce);if(Oe.length===8){if(!(0,n.default)(Oe,"YY/MM/DD"))return!1}else if(!(0,n.default)(Oe,"YYYY/MM/DD"))return!1;return i.luhnCheck(G.replace(/\W/,""))}function ze(G){for(var Y=G.split("").map(function(pe){return parseInt(pe,10)}),re=[-1,5,7,9,4,6,10,5,7],fe=0,ce=0;ce<re.length;ce++)fe+=Y[ce]*re[ce];return fe%11===10?Y[9]===0:Y[9]===fe%11}var Fe={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};Fe["lb-LU"]=Fe["fr-LU"],Fe["lt-LT"]=Fe["et-EE"],Fe["nl-BE"]=Fe["fr-BE"],Fe["fr-CA"]=Fe["en-CA"];var Re={"bg-BG":g,"cs-CZ":I,"de-AT":P,"de-DE":B,"dk-DK":M,"el-CY":O,"el-GR":W,"en-CA":w,"en-IE":S,"en-US":C,"es-AR":N,"es-ES":U,"et-EE":D,"fi-FI":L,"fr-BE":x,"fr-FR":A,"fr-LU":R,"hr-HR":F,"hu-HU":z,"it-IT":Z,"lv-LV":J,"mt-MT":oe,"nl-NL":ee,"pl-PL":te,"pt-BR":ae,"pt-PT":ue,"ro-RO":we,"sk-SK":Ee,"sl-SI":Ne,"sv-SE":Ue,"uk-UA":ze};Re["lb-LU"]=Re["fr-LU"],Re["lt-LT"]=Re["et-EE"],Re["nl-BE"]=Re["fr-BE"],Re["fr-CA"]=Re["en-CA"];var De=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,mt={"de-AT":De,"de-DE":/[\/\\]/g,"fr-BE":De};mt["nl-BE"]=mt["fr-BE"];function hr(G){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,o.default)(G);var re=G.slice(0);if(Y in Fe)return Y in mt&&(re=re.replace(mt[Y],"")),Fe[Y].test(re)?Y in Re?Re[Y](re):!0:!1;throw new Error("Invalid locale '".concat(Y,"'"))}r.exports=e.default,r.exports.default=e.default}(cf,cf.exports)),cf.exports}var ea={},zw;function c8(){if(zw)return ea;zw=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.default=o,ea.locales=void 0;var r=e(ye());function e(i){return i&&i.__esModule?i:{default:i}}var t={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};t["en-CA"]=t["en-US"],t["fr-CA"]=t["en-CA"],t["fr-BE"]=t["nl-BE"],t["zh-HK"]=t["en-HK"],t["zh-MO"]=t["en-MO"],t["ga-IE"]=t["en-IE"],t["fr-CH"]=t["de-CH"],t["it-CH"]=t["fr-CH"];function o(i,n,s){if((0,r.default)(i),s&&s.strictMode&&!i.startsWith("+"))return!1;if(Array.isArray(n))return n.some(function(u){if(t.hasOwnProperty(u)){var l=t[u];if(l.test(i))return!0}return!1});if(n in t)return t[n].test(i);if(!n||n==="any"){for(var a in t)if(t.hasOwnProperty(a)){var c=t[a];if(c.test(i))return!0}return!1}throw new Error("Invalid locale '".concat(n,"'"))}return ea.locales=Object.keys(t),ea}var uf={exports:{}},qw;function u8(){return qw||(qw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^(0x)[0-9a-f]{40}$/i;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(uf,uf.exports)),uf.exports}var lf={exports:{}},jw;function l8(){return jw||(jw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(Nr()),o=i(ye());function i(c){return c&&c.__esModule?c:{default:c}}function n(c){var u="\\d{".concat(c.digits_after_decimal[0],"}");c.digits_after_decimal.forEach(function(P,B){B!==0&&(u="".concat(u,"|\\d{").concat(P,"}"))});var l="(".concat(c.symbol.replace(/\W/,function(P){return"\\".concat(P)}),")").concat(c.require_symbol?"":"?"),d="-?",h="[1-9]\\d*",b="[1-9]\\d{0,2}(\\".concat(c.thousands_separator,"\\d{3})*"),y=["0",h,b],g="(".concat(y.join("|"),")?"),w="(\\".concat(c.decimal_separator,"(").concat(u,"))").concat(c.require_decimal?"":"?"),I=g+(c.allow_decimal||c.require_decimal?w:"");return c.allow_negatives&&!c.parens_for_negatives&&(c.negative_sign_after_digits?I+=d:c.negative_sign_before_digits&&(I=d+I)),c.allow_negative_sign_placeholder?I="( (?!\\-))?".concat(I):c.allow_space_after_symbol?I=" ?".concat(I):c.allow_space_after_digits&&(I+="( (?!$))?"),c.symbol_after_digits?I+=l:I=l+I,c.allow_negatives&&(c.parens_for_negatives?I="(\\(".concat(I,"\\)|").concat(I,")"):c.negative_sign_before_digits||c.negative_sign_after_digits||(I=d+I)),new RegExp("^(?!-? )(?=.*\\d)".concat(I,"$"))}var s={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function a(c,u){return(0,o.default)(c),u=(0,t.default)(u,s),n(u).test(c)}r.exports=e.default,r.exports.default=e.default}(lf,lf.exports)),lf.exports}var ff={exports:{}},Vw;function f8(){return Vw||(Vw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=o(ye());function o(a){return a&&a.__esModule?a:{default:a}}var i=/^(bc1)[a-z0-9]{25,39}$/,n=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function s(a){return(0,t.default)(a),i.test(a)||n.test(a)}r.exports=e.default,r.exports.default=e.default}(ff,ff.exports)),ff.exports}var ta={},Hw;function d8(){if(Hw)return ta;Hw=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.isFreightContainerID=void 0,ta.isISO6346=i;var r=e(ye());function e(n){return n&&n.__esModule?n:{default:n}}var t=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,o=/^[0-9]$/;function i(n){if((0,r.default)(n),n=n.toUpperCase(),!t.test(n))return!1;if(n.length===11){for(var s=0,a=0;a<n.length-1;a++)if(o.test(n[a]))s+=n[a]*Math.pow(2,a);else{var c=void 0,u=n.charCodeAt(a)-55;u<11?c=u:u>=11&&u<=20?c=12+u%11:u>=21&&u<=30?c=23+u%21:c=34+u%31,s+=c*Math.pow(2,a)}var l=s%11;return Number(n[n.length-1])===l}return!0}return ta.isFreightContainerID=i,ta}var df={exports:{}},Gw;function h8(){return Gw||(Gw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function n(s){return(0,t.default)(s),i.has(s)}r.exports=e.default,r.exports.default=e.default}(df,df.exports)),df.exports}var hf={exports:{}},Kw;function p8(){return Kw||(Kw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=o(ye());function o(c){return c&&c.__esModule?c:{default:c}}var i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,n=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(u){var l=u.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(l){var d=Number(l[1]),h=Number(l[2]);return d%4===0&&d%100!==0||d%400===0?h<=366:h<=365}var b=u.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),y=b[1],g=b[2],w=b[3],I=g&&"0".concat(g).slice(-2),P=w&&"0".concat(w).slice(-2),B=new Date("".concat(y,"-").concat(I||"01","-").concat(P||"01"));return g&&w?B.getUTCFullYear()===y&&B.getUTCMonth()+1===g&&B.getUTCDate()===w:!0};function a(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(c);var l=u.strictSeparator?n.test(c):i.test(c);return l&&u.strict?s(c):l}r.exports=e.default,r.exports.default=e.default}(hf,hf.exports)),hf.exports}var pf={exports:{}},Zw;function g8(){return Zw||(Zw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=I;var t=o(ye());function o(P){return P&&P.__esModule?P:{default:P}}var i=/[0-9]{4}/,n=/(0[1-9]|1[0-2])/,s=/([12]\d|0[1-9]|3[01])/,a=/([01][0-9]|2[0-3])/,c=/[0-5][0-9]/,u=/([0-5][0-9]|60)/,l=/(\.[0-9]+)?/,d=new RegExp("[-+]".concat(a.source,":").concat(c.source)),h=new RegExp("([zZ]|".concat(d.source,")")),b=new RegExp("".concat(a.source,":").concat(c.source,":").concat(u.source).concat(l.source)),y=new RegExp("".concat(i.source,"-").concat(n.source,"-").concat(s.source)),g=new RegExp("".concat(b.source).concat(h.source)),w=new RegExp("^".concat(y.source,"[ tT]").concat(g.source,"$"));function I(P){return(0,t.default)(P),w.test(P)}r.exports=e.default,r.exports.default=e.default}(pf,pf.exports)),pf.exports}var gf={exports:{}},Yw;function y8(){return Yw||(Yw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function n(s){return(0,t.default)(s),i.has(s.toUpperCase())}r.exports=e.default,r.exports.default=e.default}(gf,gf.exports)),gf.exports}var ra={},Jw;function b8(){if(Jw)return ra;Jw=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.CurrencyCodes=void 0,ra.default=o;var r=e(ye());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function o(i){return(0,r.default)(i),t.has(i.toUpperCase())}return ra.CurrencyCodes=t,ra}var yf={exports:{}},Xw;function w8(){return Xw||(Xw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=i(ye()),o=i(Nr());function i(u){return u&&u.__esModule?u:{default:u}}var n=/^[A-Z2-7]+=*$/,s=/^[A-HJKMNP-TV-Z0-9]+$/,a={crockford:!1};function c(u,l){if((0,t.default)(u),l=(0,o.default)(l,a),l.crockford)return s.test(u);var d=u.length;return!!(d%8===0&&n.test(u))}r.exports=e.default,r.exports.default=e.default}(yf,yf.exports)),yf.exports}var bf={exports:{}},Qw;function m8(){return Qw||(Qw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^[A-HJ-NP-Za-km-z1-9]*$/;function n(s){return(0,t.default)(s),!!i.test(s)}r.exports=e.default,r.exports.default=e.default}(bf,bf.exports)),bf.exports}var wf={exports:{}},em;function x8(){return em||(em=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=o(ye());function o(c){return c&&c.__esModule?c:{default:c}}var i=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,n=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function a(c){(0,t.default)(c);var u=c.split(",");if(u.length<2)return!1;var l=u.shift().trim().split(";"),d=l.shift();if(d.slice(0,5)!=="data:")return!1;var h=d.slice(5);if(h!==""&&!i.test(h))return!1;for(var b=0;b<l.length;b++)if(!(b===l.length-1&&l[b].toLowerCase()==="base64")&&!n.test(l[b]))return!1;for(var y=0;y<u.length;y++)if(!s.test(u[y]))return!1;return!0}r.exports=e.default,r.exports.default=e.default}(wf,wf.exports)),wf.exports}var mf={exports:{}},tm;function v8(){return tm||(tm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function n(s){return(0,t.default)(s),s.indexOf("magnet:?")!==0?!1:i.test(s)}r.exports=e.default,r.exports.default=e.default}(mf,mf.exports)),mf.exports}var xf={exports:{}},vf={exports:{}},Tf={exports:{}},rm;function kE(){return rm||(rm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){if((0,t.default)(n),s){var a=new RegExp("[".concat(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return n.replace(a,"")}for(var c=n.length-1;/\s/.test(n.charAt(c));)c-=1;return n.slice(0,c+1)}r.exports=e.default,r.exports.default=e.default}(Tf,Tf.exports)),Tf.exports}var Af={exports:{}},nm;function DE(){return nm||(nm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){(0,t.default)(n);var a=s?new RegExp("^[".concat(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return n.replace(a,"")}r.exports=e.default,r.exports.default=e.default}(Af,Af.exports)),Af.exports}var om;function LE(){return om||(om=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=i(kE()),o=i(DE());function i(s){return s&&s.__esModule?s:{default:s}}function n(s,a){return(0,t.default)((0,o.default)(s,a),a)}r.exports=e.default,r.exports.default=e.default}(vf,vf.exports)),vf.exports}var im;function T8(){return im||(im=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=n(LE()),o=n(SE()),i=n(ye());function n(g){return g&&g.__esModule?g:{default:g}}function s(g,w){return u(g)||c(g,w)||d(g,w)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(g,w){var I=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(I!=null){var P,B,M,O,W=[],S=!0,T=!1;try{if(M=(I=I.call(g)).next,w!==0)for(;!(S=(P=M.call(I)).done)&&(W.push(P.value),W.length!==w);S=!0);}catch(E){T=!0,B=E}finally{try{if(!S&&I.return!=null&&(O=I.return(),Object(O)!==O))return}finally{if(T)throw B}}return W}}function u(g){if(Array.isArray(g))return g}function l(g,w){var I=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!I){if(Array.isArray(g)||(I=d(g))||w){I&&(g=I);var P=0,B=function(){};return{s:B,n:function(){return P>=g.length?{done:!0}:{done:!1,value:g[P++]}},e:function(T){throw T},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,O=!1,W;return{s:function(){I=I.call(g)},n:function(){var T=I.next();return M=T.done,T},e:function(T){O=!0,W=T},f:function(){try{!M&&I.return!=null&&I.return()}finally{if(O)throw W}}}}function d(g,w){if(g){if(typeof g=="string")return h(g,w);var I=Object.prototype.toString.call(g).slice(8,-1);if(I==="Object"&&g.constructor&&(I=g.constructor.name),I==="Map"||I==="Set")return Array.from(g);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return h(g,w)}}function h(g,w){(w==null||w>g.length)&&(w=g.length);for(var I=0,P=new Array(w);I<w;I++)P[I]=g[I];return P}function b(g){var w=new Set(["subject","body","cc","bcc"]),I={cc:"",bcc:""},P=!1,B=g.split("&");if(B.length>4)return!1;var M=l(B),O;try{for(M.s();!(O=M.n()).done;){var W=O.value,S=W.split("="),T=s(S,2),E=T[0],C=T[1];if(E&&!w.has(E)){P=!0;break}C&&(E==="cc"||E==="bcc")&&(I[E]=C),E&&w.delete(E)}}catch(N){M.e(N)}finally{M.f()}return P?!1:I}function y(g,w){if((0,i.default)(g),g.indexOf("mailto:")!==0)return!1;var I=g.replace("mailto:","").split("?"),P=s(I,2),B=P[0],M=P[1],O=M===void 0?"":M;if(!B&&!O)return!0;var W=b(O);return W?"".concat(B,",").concat(W.cc,",").concat(W.bcc).split(",").every(function(S){return S=(0,t.default)(S," "),S?(0,o.default)(S,w):!0}):!1}r.exports=e.default,r.exports.default=e.default}(xf,xf.exports)),xf.exports}var Ef={exports:{}},sm;function A8(){return sm||(sm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=o(ye());function o(c){return c&&c.__esModule?c:{default:c}}var i=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,n=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function a(c){return(0,t.default)(c),i.test(c)||n.test(c)||s.test(c)}r.exports=e.default,r.exports.default=e.default}(Ef,Ef.exports)),Ef.exports}var Pf={exports:{}},am;function E8(){return am||(am=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=i(ye()),o=i(Nr());function i(d){return d&&d.__esModule?d:{default:d}}var n=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,a=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,c=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,u={checkDMS:!1};function l(d,h){if((0,t.default)(d),h=(0,o.default)(h,u),!d.includes(","))return!1;var b=d.split(",");return b[0].startsWith("(")&&!b[1].endsWith(")")||b[1].endsWith(")")&&!b[0].startsWith("(")?!1:h.checkDMS?a.test(b[0])&&c.test(b[1]):n.test(b[0])&&s.test(b[1])}r.exports=e.default,r.exports.default=e.default}(Pf,Pf.exports)),Pf.exports}var na={},cm;function P8(){if(cm)return na;cm=1,Object.defineProperty(na,"__esModule",{value:!0}),na.default=a,na.locales=void 0;var r=e(ye());function e(c){return c&&c.__esModule?c:{default:c}}var t=/^\d{3}$/,o=/^\d{4}$/,i=/^\d{5}$/,n=/^\d{6}$/,s={AD:/^AD\d{3}$/,AT:o,AU:o,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:o,BG:o,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:o,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:i,DK:o,DO:i,DZ:i,EE:i,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:i,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:o,ID:i,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:t,IT:i,JP:/^\d{3}\-\d{4}$/,KE:i,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:o,LV:/^LV\-\d{4}$/,LK:i,MG:t,MX:i,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:i,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:o,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:o,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:n,RU:n,SA:i,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:n,SI:o,SK:/^\d{3}\s?\d{2}$/,TH:i,TN:o,TW:/^\d{3}(\d{2})?$/,UA:i,US:/^\d{5}(-\d{4})?$/,ZA:o,ZM:i};na.locales=Object.keys(s);function a(c,u){if((0,r.default)(c),u in s)return s[u].test(c);if(u==="any"){for(var l in s)if(s.hasOwnProperty(l)){var d=s[l];if(d.test(c))return!0}return!1}throw new Error("Invalid locale '".concat(u,"'"))}return na}var If={exports:{}},um;function I8(){return um||(um=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n),n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}r.exports=e.default,r.exports.default=e.default}(If,If.exports)),If.exports}var Bf={exports:{}},lm;function B8(){return lm||(lm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n),n.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}r.exports=e.default,r.exports.default=e.default}(Bf,Bf.exports)),Bf.exports}var Cf={exports:{}},_f={exports:{}},fm;function zE(){return fm||(fm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){return(0,t.default)(n),n.replace(new RegExp("[".concat(s,"]+"),"g"),"")}r.exports=e.default,r.exports.default=e.default}(_f,_f.exports)),_f.exports}var dm;function C8(){return dm||(dm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=i(ye()),o=i(zE());function i(s){return s&&s.__esModule?s:{default:s}}function n(s,a){(0,t.default)(s);var c=a?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,o.default)(s,c)}r.exports=e.default,r.exports.default=e.default}(Cf,Cf.exports)),Cf.exports}var Sf={exports:{}},hm;function _8(){return hm||(hm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){return(0,t.default)(n),n.replace(new RegExp("[^".concat(s,"]+"),"g"),"")}r.exports=e.default,r.exports.default=e.default}(Sf,Sf.exports)),Sf.exports}var Wf={exports:{}},pm;function S8(){return pm||(pm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=o(ye());function o(n){return n&&n.__esModule?n:{default:n}}function i(n,s){(0,t.default)(n);for(var a=n.length-1;a>=0;a--)if(s.indexOf(n[a])===-1)return!1;return!0}r.exports=e.default,r.exports.default=e.default}(Wf,Wf.exports)),Wf.exports}var Of={exports:{}},gm;function W8(){return gm||(gm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(Nr());function o(d){return d&&d.__esModule?d:{default:d}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},n=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],a=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],c=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(d){return d.length>1?d:""}function l(d,h){h=(0,t.default)(h,i);var b=d.split("@"),y=b.pop(),g=b.join("@"),w=[g,y];if(w[1]=w[1].toLowerCase(),w[1]==="gmail.com"||w[1]==="googlemail.com"){if(h.gmail_remove_subaddress&&(w[0]=w[0].split("+")[0]),h.gmail_remove_dots&&(w[0]=w[0].replace(/\.+/g,u)),!w[0].length)return!1;(h.all_lowercase||h.gmail_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]=h.gmail_convert_googlemaildotcom?"gmail.com":w[1]}else if(n.indexOf(w[1])>=0){if(h.icloud_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(h.all_lowercase||h.icloud_lowercase)&&(w[0]=w[0].toLowerCase())}else if(s.indexOf(w[1])>=0){if(h.outlookdotcom_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(h.all_lowercase||h.outlookdotcom_lowercase)&&(w[0]=w[0].toLowerCase())}else if(a.indexOf(w[1])>=0){if(h.yahoo_remove_subaddress){var I=w[0].split("-");w[0]=I.length>1?I.slice(0,-1).join("-"):I[0]}if(!w[0].length)return!1;(h.all_lowercase||h.yahoo_lowercase)&&(w[0]=w[0].toLowerCase())}else c.indexOf(w[1])>=0?((h.all_lowercase||h.yandex_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]="yandex.ru"):h.all_lowercase&&(w[0]=w[0].toLowerCase());return w.join("@")}r.exports=e.default,r.exports.default=e.default}(Of,Of.exports)),Of.exports}var Rf={exports:{}},ym;function O8(){return ym||(ym=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function n(s){return(0,t.default)(s),i.test(s)}r.exports=e.default,r.exports.default=e.default}(Rf,Rf.exports)),Rf.exports}var Mf={exports:{}},bm;function R8(){return bm||(bm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=o(ye());function o(s){return s&&s.__esModule?s:{default:s}}var i={"cs-CZ":function(a){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(a)},"de-DE":function(a){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|AÃ|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|BÃ|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|FÃ|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|GÃ|GP|GR|GS|GT|GÃ|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|LÃ|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|MÃ|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|NÃ|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|TÃ|ÃB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|WÃ|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BÃD|BUL|BÃR|BÃS|BÃZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DÃW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FLÃ|FOR|FRG|FRI|FRW|FTL|FÃS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HMÃ|HOG|HOH|HOL|HOM|HOR|HÃS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JÃL|KEH|KEL|KEM|KIB|KLE|KLZ|KÃN|KÃT|KÃZ|KRU|KÃN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LÃB|LOS|LRO|LSZ|LÃN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MÃB|MÃR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|ÃHR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PLÃ|PRÃ|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RÃD|RÃG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SLÃ|SLZ|SMÃ|SOB|SOG|SOK|SÃM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SÃW|SWA|SZB|TBB|TDO|TET|TIR|TÃL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WÃM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(a)},"de-LI":function(a){return/^FL[- ]?\d{1,5}[UZ]?$/.test(a)},"en-IN":function(a){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(a)},"es-AR":function(a){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(a)},"fi-FI":function(a){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(a)},"hu-HU":function(a){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(a)},"pt-BR":function(a){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(a)},"pt-PT":function(a){return/^([A-Z]{2}|[0-9]{2})[ -Â·]?([A-Z]{2}|[0-9]{2})[ -Â·]?([A-Z]{2}|[0-9]{2})$/.test(a)},"sq-AL":function(a){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(a)},"sv-SE":function(a){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-ZÃÃÃ ]{2,7}$)/.test(a.trim())},"en-PK":function(a){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(a.trim())}};function n(s,a){if((0,t.default)(s),a in i)return i[a](s);if(a==="any"){for(var c in i){var u=i[c];if(u(s))return!0}return!1}throw new Error("Invalid locale '".concat(a,"'"))}r.exports=e.default,r.exports.default=e.default}(Mf,Mf.exports)),Mf.exports}var Nf={exports:{}},wm;function M8(){return wm||(wm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=i(Nr()),o=i(ye());function i(y){return y&&y.__esModule?y:{default:y}}var n=/^[A-Z]$/,s=/^[a-z]$/,a=/^[0-9]$/,c=/^[-#!$@Â£%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function l(y){var g={};return Array.from(y).forEach(function(w){var I=g[w];I?g[w]+=1:g[w]=1}),g}function d(y){var g=l(y),w={length:y.length,uniqueChars:Object.keys(g).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(g).forEach(function(I){n.test(I)?w.uppercaseCount+=g[I]:s.test(I)?w.lowercaseCount+=g[I]:a.test(I)?w.numberCount+=g[I]:c.test(I)&&(w.symbolCount+=g[I])}),w}function h(y,g){var w=0;return w+=y.uniqueChars*g.pointsPerUnique,w+=(y.length-y.uniqueChars)*g.pointsPerRepeat,y.lowercaseCount>0&&(w+=g.pointsForContainingLower),y.uppercaseCount>0&&(w+=g.pointsForContainingUpper),y.numberCount>0&&(w+=g.pointsForContainingNumber),y.symbolCount>0&&(w+=g.pointsForContainingSymbol),w}function b(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,o.default)(y);var w=d(y);return g=(0,t.default)(g||{},u),g.returnScore?h(w,g):w.length>=g.minLength&&w.lowercaseCount>=g.minLowercase&&w.uppercaseCount>=g.minUppercase&&w.numberCount>=g.minNumbers&&w.symbolCount>=g.minSymbols}r.exports=e.default,r.exports.default=e.default}(Nf,Nf.exports)),Nf.exports}var oa={},mm;function N8(){if(mm)return oa;mm=1;function r(d){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(d)}Object.defineProperty(oa,"__esModule",{value:!0}),oa.default=l,oa.vatMatchers=void 0;var e=n(ye()),t=i(UE());function o(d){if(typeof WeakMap!="function")return null;var h=new WeakMap,b=new WeakMap;return(o=function(g){return g?b:h})(d)}function i(d,h){if(d&&d.__esModule)return d;if(d===null||r(d)!="object"&&typeof d!="function")return{default:d};var b=o(h);if(b&&b.has(d))return b.get(d);var y={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in d)if(w!=="default"&&{}.hasOwnProperty.call(d,w)){var I=g?Object.getOwnPropertyDescriptor(d,w):null;I&&(I.get||I.set)?Object.defineProperty(y,w,I):y[w]=d[w]}return y.default=d,b&&b.set(d,y),y}function n(d){return d&&d.__esModule?d:{default:d}}var s=function(h){var b=h.match(/^(AU)?(\d{11})$/);if(!b)return!1;var y=[10,1,3,5,7,9,11,13,15,17,19];h=h.replace(/^AU/,"");for(var g=(parseInt(h.slice(0,1),10)-1).toString()+h.slice(1),w=0,I=0;I<11;I++)w+=y[I]*g.charAt(I);return w!==0&&w%89===0},a=function(h){var b=function(g){var w=g.pop(),I=[5,4,3,2,7,6,5,4],P=(11-g.reduce(function(B,M,O){return B+M*I[O]},0)%11)%11;return w===P};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(h)&&b(h.match(/\d/g).map(function(y){return+y}))},c=function(h){var b=h.match(/^(PT)?(\d{9})$/);if(!b)return!1;var y=b[2],g=11-t.reverseMultiplyAndSum(y.split("").slice(0,8).map(function(w){return parseInt(w,10)}),9)%11;return g>9?parseInt(y[8],10)===0:g===parseInt(y[8],10)},u=oa.vatMatchers={AT:function(h){return/^(AT)?U\d{8}$/.test(h)},BE:function(h){return/^(BE)?\d{10}$/.test(h)},BG:function(h){return/^(BG)?\d{9,10}$/.test(h)},HR:function(h){return/^(HR)?\d{11}$/.test(h)},CY:function(h){return/^(CY)?\w{9}$/.test(h)},CZ:function(h){return/^(CZ)?\d{8,10}$/.test(h)},DK:function(h){return/^(DK)?\d{8}$/.test(h)},EE:function(h){return/^(EE)?\d{9}$/.test(h)},FI:function(h){return/^(FI)?\d{8}$/.test(h)},FR:function(h){return/^(FR)?\w{2}\d{9}$/.test(h)},DE:function(h){return/^(DE)?\d{9}$/.test(h)},EL:function(h){return/^(EL)?\d{9}$/.test(h)},HU:function(h){return/^(HU)?\d{8}$/.test(h)},IE:function(h){return/^(IE)?\d{7}\w{1}(W)?$/.test(h)},IT:function(h){return/^(IT)?\d{11}$/.test(h)},LV:function(h){return/^(LV)?\d{11}$/.test(h)},LT:function(h){return/^(LT)?\d{9,12}$/.test(h)},LU:function(h){return/^(LU)?\d{8}$/.test(h)},MT:function(h){return/^(MT)?\d{8}$/.test(h)},NL:function(h){return/^(NL)?\d{9}B\d{2}$/.test(h)},PL:function(h){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(h)},PT:c,RO:function(h){return/^(RO)?\d{2,10}$/.test(h)},SK:function(h){return/^(SK)?\d{10}$/.test(h)},SI:function(h){return/^(SI)?\d{8}$/.test(h)},ES:function(h){return/^(ES)?\w\d{7}[A-Z]$/.test(h)},SE:function(h){return/^(SE)?\d{12}$/.test(h)},AL:function(h){return/^(AL)?\w{9}[A-Z]$/.test(h)},MK:function(h){return/^(MK)?\d{13}$/.test(h)},AU:s,BY:function(h){return/^(Ð£ÐÐ )?\d{9}$/.test(h)},CA:function(h){return/^(CA)?\d{9}$/.test(h)},IS:function(h){return/^(IS)?\d{5,6}$/.test(h)},IN:function(h){return/^(IN)?\d{15}$/.test(h)},ID:function(h){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(h)},IL:function(h){return/^(IL)?\d{9}$/.test(h)},KZ:function(h){return/^(KZ)?\d{12}$/.test(h)},NZ:function(h){return/^(NZ)?\d{9}$/.test(h)},NG:function(h){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(h)},NO:function(h){return/^(NO)?\d{9}MVA$/.test(h)},PH:function(h){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(h)},RU:function(h){return/^(RU)?(\d{10}|\d{12})$/.test(h)},SM:function(h){return/^(SM)?\d{5}$/.test(h)},SA:function(h){return/^(SA)?\d{15}$/.test(h)},RS:function(h){return/^(RS)?\d{9}$/.test(h)},CH:a,TR:function(h){return/^(TR)?\d{10}$/.test(h)},UA:function(h){return/^(UA)?\d{12}$/.test(h)},GB:function(h){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(h)},UZ:function(h){return/^(UZ)?\d{9}$/.test(h)},AR:function(h){return/^(AR)?\d{11}$/.test(h)},BO:function(h){return/^(BO)?\d{7}$/.test(h)},BR:function(h){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(h)},CL:function(h){return/^(CL)?\d{8}-\d{1}$/.test(h)},CO:function(h){return/^(CO)?\d{10}$/.test(h)},CR:function(h){return/^(CR)?\d{9,12}$/.test(h)},EC:function(h){return/^(EC)?\d{13}$/.test(h)},SV:function(h){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(h)},GT:function(h){return/^(GT)?\d{7}-\d{1}$/.test(h)},HN:function(h){return/^(HN)?$/.test(h)},MX:function(h){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(h)},NI:function(h){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(h)},PA:function(h){return/^(PA)?$/.test(h)},PY:function(h){return/^(PY)?\d{6,8}-\d{1}$/.test(h)},PE:function(h){return/^(PE)?\d{11}$/.test(h)},DO:function(h){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(h)},UY:function(h){return/^(UY)?\d{12}$/.test(h)},VE:function(h){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(h)}};function l(d,h){if((0,e.default)(d),(0,e.default)(h),h in u)return u[h](d);throw new Error("Invalid country code: '".concat(h,"'"))}return oa}var xm;function $8(){return xm||(xm=1,function(r,e){function t(Le){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},t(Le)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=ge(Gy()),i=ge(BE()),n=ge(cC()),s=ge(uC()),a=ge(lC()),c=ge(fC()),u=ge(dC()),l=ge(SE()),d=ge(hC()),h=ge(pC()),b=ge(th()),y=ge(gC()),g=ge(Ky()),w=ge(WE()),I=ge(yC()),P=ge(bC()),B=ge(wC()),M=ge(mC()),O=At(xC()),W=At(vC()),S=ge(TC()),T=ge(AC()),E=ge(EC()),C=ge(PC()),N=ge(IC()),U=ge(BC()),D=ge(CC()),L=ge(OE()),x=ge(RE()),A=ge(_C()),R=ge(SC()),F=ge(OC()),z=ge(RC()),j=ge(Zy()),Z=At(IE()),J=ge(NC()),oe=ge(ME()),ee=ge($C()),te=ge(FC()),ae=ge(UC()),ue=ge(kC()),we=ge(DC()),Ee=ge(LC()),Ne=At(zC()),Ue=ge(qC()),ze=ge(jC()),Fe=ge(VC()),Re=ge(HC()),De=ge(GC()),mt=ge(KC()),hr=ge(ZC()),G=ge(_E()),Y=ge(YC()),re=ge(JC()),fe=ge(XC()),ce=ge(QC()),pe=ge(e8()),Pe=ge(FE()),Oe=ge(t8()),Ve=ge(r8()),ht=ge(n8()),Ot=ge(o8()),pr=ge(i8()),q=ge(s8()),v=ge(a8()),_=At(c8()),H=ge(u8()),$=ge(l8()),ne=ge(f8()),se=d8(),_e=ge(h8()),pt=ge(p8()),yt=ge(g8()),le=ge(NE()),nt=ge(y8()),Ki=ge(b8()),js=ge(w8()),Uu=ge(m8()),Er=ge($E()),ku=ge(x8()),Du=ge(v8()),Lu=ge(T8()),zu=ge(A8()),qu=ge(E8()),pc=At(P8()),Un=ge(DE()),Oo=ge(kE()),ju=ge(LE()),gc=ge(I8()),Vu=ge(B8()),Hu=ge(C8()),yc=ge(_8()),Zi=ge(zE()),Vs=ge(S8()),bc=ge(W8()),tn=ge(O8()),be=ge(R8()),Me=ge(M8()),wc=ge(N8());function Ro(Le){if(typeof WeakMap!="function")return null;var it=new WeakMap,We=new WeakMap;return(Ro=function(Yi){return Yi?We:it})(Le)}function At(Le,it){if(Le&&Le.__esModule)return Le;if(Le===null||t(Le)!="object"&&typeof Le!="function")return{default:Le};var We=Ro(it);if(We&&We.has(Le))return We.get(Le);var ao={__proto__:null},Yi=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in Le)if(f!=="default"&&{}.hasOwnProperty.call(Le,f)){var p=Yi?Object.getOwnPropertyDescriptor(Le,f):null;p&&(p.get||p.set)?Object.defineProperty(ao,f,p):ao[f]=Le[f]}return ao.default=Le,We&&We.set(Le,ao),ao}function ge(Le){return Le&&Le.__esModule?Le:{default:Le}}var V="13.12.0",Gu={version:V,toDate:o.default,toFloat:i.default,toInt:n.default,toBoolean:s.default,equals:a.default,contains:c.default,matches:u.default,isEmail:l.default,isURL:d.default,isMACAddress:h.default,isIP:b.default,isIPRange:y.default,isFQDN:g.default,isBoolean:P.default,isIBAN:Ne.default,isBIC:Ue.default,isAbaRouting:M.default,isAlpha:O.default,isAlphaLocales:O.locales,isAlphanumeric:W.default,isAlphanumericLocales:W.locales,isNumeric:S.default,isPassportNumber:T.default,isPort:E.default,isLowercase:C.default,isUppercase:N.default,isAscii:D.default,isFullWidth:L.default,isHalfWidth:x.default,isVariableWidth:A.default,isMultibyte:R.default,isSemVer:F.default,isSurrogatePair:z.default,isInt:j.default,isIMEI:U.default,isFloat:Z.default,isFloatLocales:Z.locales,isDecimal:J.default,isHexadecimal:oe.default,isOctal:ee.default,isDivisibleBy:te.default,isHexColor:ae.default,isRgbColor:ue.default,isHSL:we.default,isISRC:Ee.default,isMD5:ze.default,isHash:Fe.default,isJWT:Re.default,isJSON:De.default,isEmpty:mt.default,isLength:hr.default,isLocale:B.default,isByteLength:G.default,isUUID:Y.default,isMongoId:re.default,isAfter:fe.default,isBefore:ce.default,isIn:pe.default,isLuhnNumber:Pe.default,isCreditCard:Oe.default,isIdentityCard:Ve.default,isEAN:ht.default,isISIN:Ot.default,isISBN:pr.default,isISSN:q.default,isMobilePhone:_.default,isMobilePhoneLocales:_.locales,isPostalCode:pc.default,isPostalCodeLocales:pc.locales,isEthereumAddress:H.default,isCurrency:$.default,isBtcAddress:ne.default,isISO6346:se.isISO6346,isFreightContainerID:se.isFreightContainerID,isISO6391:_e.default,isISO8601:pt.default,isRFC3339:yt.default,isISO31661Alpha2:le.default,isISO31661Alpha3:nt.default,isISO4217:Ki.default,isBase32:js.default,isBase58:Uu.default,isBase64:Er.default,isDataURI:ku.default,isMagnetURI:Du.default,isMailtoURI:Lu.default,isMimeType:zu.default,isLatLong:qu.default,ltrim:Un.default,rtrim:Oo.default,trim:ju.default,escape:gc.default,unescape:Vu.default,stripLow:Hu.default,whitelist:yc.default,blacklist:Zi.default,isWhitelisted:Vs.default,normalizeEmail:bc.default,toString,isSlug:tn.default,isStrongPassword:Me.default,isTaxID:v.default,isDate:w.default,isTime:I.default,isLicensePlate:be.default,isVAT:wc.default,ibanLocales:Ne.locales};e.default=Gu,r.exports=e.default,r.exports.default=e.default}(Yu,Yu.exports)),Yu.exports}var F8=$8();const U8=$s(F8);function Yy(r){return typeof r!="string"?!1:U8.isURL(r.toString(),{protocols:["http","https"],require_tld:!1})}function hu(r){return r===Object(r)&&Object.prototype.toString.call(r)!=="[object Array]"}function Sa(r){return Array.isArray(r)}function k8(r){try{return!!JSON.parse(r)}catch{return!1}}function qE(r){return typeof r=="boolean"}function D8(r){return!!r&&(r instanceof dd||r.constructor&&r.constructor.name==="BigNumber")}function Br(r){return typeof r=="string"||!!r&&r.constructor&&r.constructor.name==="String"}function L8(r){return typeof r=="function"}function Fs(r){return typeof r=="string"&&!isNaN(parseInt(r,16))&&/^(0x|)[a-fA-F0-9]+$/.test(r)}function Ri(r){return r===null?!1:Number.isInteger(Number(r))}function jE(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function VE(r,...e){return e.length&&!e.map(t=>jE(r,t)).includes(!1)}function z8(r){const e={block:r.block_number,timestamp:r.block_timestamp,contract:r.contract_address,name:r.event_name,transaction:r.transaction_id,result:r.result,resourceNode:r.resource_Node||(r._unconfirmed?"fullNode":"solidityNode")};return r._unconfirmed&&(e.unconfirmed=r._unconfirmed),r._fingerprint&&(e.fingerprint=r._fingerprint),e}function q8(r,{inputs:e}){if(!r.result)return r;if(hu(r.result))for(let t=0;t<e.length;t++){const o=e[t];o.type=="address"&&o.name in r.result&&(r.result[o.name]=On+r.result[o.name].substr(2).toLowerCase())}else Sa(r.result)&&(r.result=r.result.reduce((t,o,i)=>{const{name:n,type:s}=e[i];return s=="address"&&(o=On+o.substr(2).toLowerCase()),t[n]=o,t},{}));return r}function j8(r,e,t){let o=r.toString();for(;o.length<t;)o=e+o;return o}function Ir(r){return r!==null&&typeof r<"u"}async function V8(r=1e3){return new Promise(e=>setTimeout(e,r))}const H8=Object.freeze(Object.defineProperty({__proto__:null,hasProperties:VE,hasProperty:jE,isArray:Sa,isBigNumber:D8,isBoolean:qE,isFunction:L8,isHex:Fs,isInteger:Ri,isJson:k8,isNotNullOrUndefined:Ir,isObject:hu,isString:Br,isValidURL:Yy,mapEvent:z8,padLeft:j8,parseEvent:q8,sleep:V8},Symbol.toStringTag,{value:"Module"})),HE="6.13.5";function G8(r,e,t){const o=e.split("|").map(n=>n.trim());for(let n=0;n<o.length;n++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=r,i}async function Jy(r){const e=Object.keys(r);return(await Promise.all(e.map(o=>Promise.resolve(r[o])))).reduce((o,i,n)=>(o[e[n]]=i,o),{})}function Ye(r,e,t){for(let o in e){let i=e[o];const n=t?t[o]:null;n&&G8(i,n,o),Object.defineProperty(r,o,{enumerable:!0,value:i,writable:!1})}}function Wa(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(Wa).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let o=0;o<r.length;o++)t+=e[r[o]>>4],t+=e[r[o]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return Wa(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${Wa(t)}: ${Wa(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function vm(r,e){return r&&r.code===e}function GE(r,e,t){let o=r;{const n=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Wa(t)}`);for(const s in t){if(s==="shortMessage")continue;const a=t[s];n.push(s+"="+Wa(a))}}n.push(`code=${e}`),n.push(`version=${HE}`),n.length&&(r+=" ("+n.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(r);break;default:i=new Error(r)}return Ye(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&Ye(i,{shortMessage:o}),i}function je(r,e,t,o){if(!r)throw GE(e,t,o)}function X(r,e,t,o){je(r,e,"INVALID_ARGUMENT",{argument:t,value:o})}function KE(r,e,t){t==null&&(t=""),t&&(t=": "+t),je(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),je(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}const K8=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"Ã©".normalize("NFD")!=="eÌ")throw new Error("broken");r.push(e)}catch{}return r},[]);function ZE(r){je(K8.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function ji(r,e,t){if(t==null&&(t=""),r!==e){let o=t,i="new";t&&(o+=".",i+=" "+t),je(!1,`private constructor; use ${o}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function YE(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const o=new Uint8Array((r.length-2)/2);let i=2;for(let n=0;n<o.length;n++)o[n]=parseInt(r.substring(i,i+2),16),i+=2;return o}X(!1,"invalid BytesLike value",e||"value",r)}function Ce(r,e){return YE(r,e,!1)}function xr(r,e){return YE(r,e,!0)}function Tr(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function rh(r){return Tr(r,!0)||r instanceof Uint8Array}const Tm="0123456789abcdef";function ve(r){const e=Ce(r);let t="0x";for(let o=0;o<e.length;o++){const i=e[o];t+=Tm[(i&240)>>4]+Tm[i&15]}return t}function wt(r){return"0x"+r.map(e=>ve(e).substring(2)).join("")}function qc(r){return Tr(r,!0)?(r.length-2)/2:Ce(r).length}function Ho(r,e,t){const o=Ce(r);return t!=null&&t>o.length&&je(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:o,length:o.length,offset:t}),ve(o.slice(e??0,t??o.length))}function Z8(r,e,t){const o=Ce(r);je(e>=o.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(o),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(o,e-o.length),ve(i)}function ki(r,e){return Z8(r,e)}const nh=BigInt(0),Yn=BigInt(1),Oa=9007199254740991;function Y8(r,e){const t=oh(r,"value"),o=BigInt(ur(e,"width"));if(je(t>>o===nh,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>o-Yn){const i=(Yn<<o)-Yn;return-((~t&i)+Yn)}return t}function Xy(r,e){let t=bt(r,"value");const o=BigInt(ur(e,"width")),i=Yn<<o-Yn;if(t<nh){t=-t,je(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const n=(Yn<<o)-Yn;return(~t&n)+Yn}else je(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function Ra(r,e){const t=oh(r,"value"),o=BigInt(ur(e,"bits"));return t&(Yn<<o)-Yn}function bt(r,e){switch(typeof r){case"bigint":return r;case"number":return X(Number.isInteger(r),"underflow",e||"value",r),X(r>=-Oa&&r<=Oa,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){X(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}X(!1,"invalid BigNumberish value",e||"value",r)}function oh(r,e){const t=bt(r,e);return je(t>=nh,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const Am="0123456789abcdef";function ih(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=Am[t>>4],e+=Am[t&15];return BigInt(e)}return bt(r)}function ur(r,e){switch(typeof r){case"bigint":return X(r>=-Oa&&r<=Oa,"overflow",e||"value",r),Number(r);case"number":return X(Number.isInteger(r),"underflow",e||"value",r),X(r>=-Oa&&r<=Oa,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return ur(BigInt(r),e)}catch(t){X(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}X(!1,"invalid numeric value",e||"value",r)}function J8(r){return ur(ih(r))}function Qn(r,e){let o=oh(r,"value").toString(16);if(e==null)o.length%2&&(o="0"+o);else{const i=ur(e,"width");for(je(i*2>=o.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});o.length<i*2;)o="0"+o}return"0x"+o}function Cr(r){const e=oh(r,"value");if(e===nh)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const o=new Uint8Array(t.length/2);for(let i=0;i<o.length;i++){const n=i*2;o[i]=parseInt(t.substring(n,n+2),16)}return o}function JE(r){let e=ve(rh(r)?r:Cr(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const _d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let $f=null;function X8(r){if($f==null){$f={};for(let t=0;t<_d.length;t++)$f[_d[t]]=BigInt(t)}const e=$f[r];return X(e!=null,"invalid base58 value","letter",r),e}const Q8=BigInt(0),Pg=BigInt(58);function e_(r){const e=Ce(r);let t=ih(e),o="";for(;t;)o=_d[Number(t%Pg)]+o,t/=Pg;for(let i=0;i<e.length&&!e[i];i++)o=_d[0]+o;return o}function t_(r){let e=Q8;for(let t=0;t<r.length;t++)e*=Pg,e+=X8(r[t]);return e}function r_(r,e,t,o,i){X(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function XE(r,e,t,o,i){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let n=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)n++;return n}return r==="OVERRUN"?t.length-e-1:0}function n_(r,e,t,o,i){return r==="OVERLONG"?(X(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),o.push(i),0):(o.push(65533),XE(r,e,t))}const o_=Object.freeze({error:r_,ignore:XE,replace:n_});function i_(r,e){e==null&&(e=o_.error);const t=Ce(r,"bytes"),o=[];let i=0;for(;i<t.length;){const n=t[i++];if(n>>7===0){o.push(n);continue}let s=null,a=null;if((n&224)===192)s=1,a=127;else if((n&240)===224)s=2,a=2047;else if((n&248)===240)s=3,a=65535;else{(n&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,o):i+=e("BAD_PREFIX",i-1,t,o);continue}if(i-1+s>=t.length){i+=e("OVERRUN",i-1,t,o);continue}let c=n&(1<<8-s-1)-1;for(let u=0;u<s;u++){let l=t[i];if((l&192)!=128){i+=e("MISSING_CONTINUE",i,t,o),c=null;break}c=c<<6|l&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-s,t,o,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-s,t,o,c);continue}if(c<=a){i+=e("OVERLONG",i-1-s,t,o,c);continue}o.push(c)}}return o}function Yr(r,e){X(typeof r=="string","invalid string value","str",r),e!=null&&(ZE(e),r=r.normalize(e));let t=[];for(let o=0;o<r.length;o++){const i=r.charCodeAt(o);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){o++;const n=r.charCodeAt(o);X(o<r.length&&(n&64512)===56320,"invalid surrogate pair","str",r);const s=65536+((i&1023)<<10)+(n&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function s_(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function QE(r,e){return s_(i_(r,e))}function a_(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Em(r,e,t){let o=0;for(let i=0;i<t;i++)o=o*256+r[e+i];return o}function Pm(r,e,t,o){const i=[];for(;t<e+1+o;){const n=eP(r,t);i.push(n.result),t+=n.consumed,je(t<=e+1+o,"child data too short","BUFFER_OVERRUN",{buffer:r,length:o,offset:e})}return{consumed:1+o,result:i}}function eP(r,e){je(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=o=>{je(o<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:o})};if(r[e]>=248){const o=r[e]-247;t(e+1+o);const i=Em(r,e+1,o);return t(e+1+o+i),Pm(r,e,e+1+o,o+i)}else if(r[e]>=192){const o=r[e]-192;return t(e+1+o),Pm(r,e,e+1,o)}else if(r[e]>=184){const o=r[e]-183;t(e+1+o);const i=Em(r,e+1,o);t(e+1+o+i);const n=ve(r.slice(e+1+o,e+1+o+i));return{consumed:1+o+i,result:n}}else if(r[e]>=128){const o=r[e]-128;t(e+1+o);const i=ve(r.slice(e+1,e+1+o));return{consumed:1+o,result:i}}return{consumed:1,result:a_(r[e])}}function sh(r){const e=Ce(r,"data"),t=eP(e,0);return X(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function Im(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function tP(r){if(Array.isArray(r)){let o=[];if(r.forEach(function(n){o=o.concat(tP(n))}),o.length<=55)return o.unshift(192+o.length),o;const i=Im(o.length);return i.unshift(247+i.length),i.concat(o)}const e=Array.prototype.slice.call(Ce(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Im(e.length);return t.unshift(183+t.length),t.concat(e)}const Bm="0123456789abcdef";function Da(r){let e="0x";for(const t of tP(r))e+=Bm[t>>4],e+=Bm[t&15];return e}function c_(r){const e=Ce(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ve(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const _r=32,Ig=new Uint8Array(_r),u_=["then"],Ff={},rP=new WeakMap;function as(r){return rP.get(r)}function Cm(r,e){rP.set(r,e)}function mc(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function Bg(r,e,t){return r.indexOf(null)>=0?e.map((o,i)=>o instanceof Jo?Bg(as(o),o,t):o):r.reduce((o,i,n)=>{let s=e.getValue(i);return i in o||(t&&s instanceof Jo&&(s=Bg(as(s),s,t)),o[i]=s),o},{})}class Jo extends Array{#e;constructor(...e){const t=e[0];let o=e[1],i=(e[2]||[]).slice(),n=!0;t!==Ff&&(o=e,i=[],n=!1),super(o.length),o.forEach((c,u)=>{this[u]=c});const s=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(Cm(this,Object.freeze(o.map((c,u)=>{const l=i[u];return l!=null&&s.get(l)===1?l:null}))),this.#e=[],this.#e==null&&this.#e,!n)return;Object.freeze(this);const a=new Proxy(this,{get:(c,u,l)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const h=ur(u,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const b=c[h];return b instanceof Error&&mc(`index ${h}`,b),b}if(u_.indexOf(u)>=0)return Reflect.get(c,u,l);const d=c[u];if(d instanceof Function)return function(...h){return d.apply(this===l?c:this,h)};if(!(u in c))return c.getValue.apply(this===l?c:this,[u])}return Reflect.get(c,u,l)}});return Cm(a,as(this)),a}toArray(e){const t=[];return this.forEach((o,i)=>{o instanceof Error&&mc(`index ${i}`,o),e&&o instanceof Jo&&(o=o.toArray(e)),t.push(o)}),t}toObject(e){const t=as(this);return t.reduce((o,i,n)=>(je(i!=null,`value at index ${n} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Bg(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);const o=as(this),i=[],n=[];for(let s=e;s<t;s++)i.push(this[s]),n.push(o[s]);return new Jo(Ff,i,n)}filter(e,t){const o=as(this),i=[],n=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&mc(`index ${s}`,a),e.call(t,a,s,this)&&(i.push(a),n.push(o[s]))}return new Jo(Ff,i,n)}map(e,t){const o=[];for(let i=0;i<this.length;i++){const n=this[i];n instanceof Error&&mc(`index ${i}`,n),o.push(e.call(t,n,i,this))}return o}getValue(e){const t=as(this).indexOf(e);if(t===-1)return;const o=this[t];return o instanceof Error&&mc(`property ${JSON.stringify(e)}`,o.error),o}static fromItems(e,t){return new Jo(Ff,e,t)}}function _m(r){let e=Cr(r);return je(e.length<=_r,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:_r,offset:e.length}),e.length!==_r&&(e=xr(wt([Ig.slice(e.length%_r),e]))),e}class ui{name;type;localName;dynamic;constructor(e,t,o,i){Ye(this,{name:e,type:t,localName:o,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){X(!1,e,this.localName,t)}}class Cg{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return wt(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(xr(e.data))}writeBytes(e){let t=xr(e);const o=t.length%_r;return o&&(t=xr(wt([t,Ig.slice(o)]))),this.#r(t)}writeValue(e){return this.#r(_m(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(Ig),this.#t+=_r,t=>{this.#e[e]=_m(t)}}}class Qy{allowLoose;#e;#t;#r;#n;#o;constructor(e,t,o){Ye(this,{allowLoose:!!t}),this.#e=xr(e),this.#r=0,this.#n=null,this.#o=o??1024,this.#t=0}get data(){return ve(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#i(e){if(this.#n)return this.#n.#i(e);this.#r+=e,je(this.#o<1||this.#r<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:xr(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#a(e,t,o){let i=Math.ceil(t/_r)*_r;return this.#t+i>this.#e.length&&(this.allowLoose&&o&&this.#t+t<=this.#e.length?i=t:je(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:xr(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const t=new Qy(this.#e.slice(this.#t+e),this.allowLoose,this.#o);return t.#n=this,t}readBytes(e,t){let o=this.#a(0,e,!!t);return this.#i(e),this.#t+=o.length,o.slice(0,e)}readValue(){return ih(this.readBytes(_r))}readIndex(){return J8(this.readBytes(_r))}}function cn(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function eb(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function nP(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cn(r.outputLen),cn(r.blockLen)}function La(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function oP(r,e){eb(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const rp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iP=r=>r instanceof Uint8Array,hd=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),pd=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),co=(r,e)=>r<<32-e|r>>>e,l_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!l_)throw new Error("Non little-endian hardware is not supported");const f_=async()=>{};async function Sm(r,e,t){let o=Date.now();for(let i=0;i<r;i++){t(i);const n=Date.now()-o;n>=0&&n<e||(await f_(),o+=n)}}function d_(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function za(r){if(typeof r=="string"&&(r=d_(r)),!iP(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function h_(...r){const e=new Uint8Array(r.reduce((o,i)=>o+i.length,0));let t=0;return r.forEach(o=>{if(!iP(o))throw new Error("Uint8Array expected");e.set(o,t),t+=o.length}),e}let tb=class{clone(){return this._cloneInto()}};const p_={}.toString;function sP(r,e){if(e!==void 0&&p_.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function ah(r){const e=o=>r().update(za(o)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function g_(r=32){if(rp&&typeof rp.getRandomValues=="function")return rp.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}let aP=class extends tb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nP(e);const o=za(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(o.length>i?e.create().update(o).digest():o);for(let s=0;s<n.length;s++)n[s]^=54;this.iHash.update(n),this.oHash=e.create();for(let s=0;s<n.length;s++)n[s]^=106;this.oHash.update(n),n.fill(0)}update(e){return La(this),this.iHash.update(e),this}digestInto(e){La(this),eb(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:o,finished:i,destroyed:n,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=o._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ch=(r,e,t)=>new aP(r,e).update(t).digest();ch.create=(r,e)=>new aP(r,e);function y_(r,e,t,o){nP(r);const i=sP({dkLen:32,asyncTick:10},o),{c:n,dkLen:s,asyncTick:a}=i;if(cn(n),cn(s),cn(a),n<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=za(e),u=za(t),l=new Uint8Array(s),d=ch.create(r,c),h=d._cloneInto().update(u);return{c:n,dkLen:s,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function b_(r,e,t,o,i){return r.destroy(),e.destroy(),o&&o.destroy(),i.fill(0),t}function rb(r,e,t,o){const{c:i,dkLen:n,DK:s,PRF:a,PRFSalt:c}=y_(r,e,t,o);let u;const l=new Uint8Array(4),d=pd(l),h=new Uint8Array(a.outputLen);for(let b=1,y=0;y<n;b++,y+=a.outputLen){const g=s.subarray(y,y+a.outputLen);d.setInt32(0,b,!1),(u=c._cloneInto(u)).update(l).digestInto(h),g.set(h.subarray(0,g.length));for(let w=1;w<i;w++){a._cloneInto(u).update(h).digestInto(h);for(let I=0;I<g.length;I++)g[I]^=h[I]}}return b_(a,c,s,u,h)}function w_(r,e,t,o){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,o);const i=BigInt(32),n=BigInt(4294967295),s=Number(t>>i&n),a=Number(t&n),c=o?4:0,u=o?0:4;r.setUint32(e+c,s,o),r.setUint32(e+u,a,o)}class nb extends tb{constructor(e,t,o,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pd(this.buffer)}update(e){La(this);const{view:t,buffer:o,blockLen:i}=this;e=za(e);const n=e.length;for(let s=0;s<n;){const a=Math.min(i-this.pos,n-s);if(a===i){const c=pd(e);for(;i<=n-s;s+=i)this.process(c,s);continue}o.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){La(this),oP(e,this),this.finished=!0;const{buffer:t,view:o,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(o,0),s=0);for(let d=s;d<i;d++)t[d]=0;w_(o,i-8,BigInt(this.length*8),n),this.process(o,0);const a=pd(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const o=e.slice(0,t);return this.destroy(),o}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:o,length:i,finished:n,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(o),e}}const m_=(r,e,t)=>r&e^~r&t,x_=(r,e,t)=>r&e^r&t^e&t,v_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),di=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hi=new Uint32Array(64);let T_=class extends nb{constructor(){super(64,32,8,!1),this.A=di[0]|0,this.B=di[1]|0,this.C=di[2]|0,this.D=di[3]|0,this.E=di[4]|0,this.F=di[5]|0,this.G=di[6]|0,this.H=di[7]|0}get(){const{A:e,B:t,C:o,D:i,E:n,F:s,G:a,H:c}=this;return[e,t,o,i,n,s,a,c]}set(e,t,o,i,n,s,a,c){this.A=e|0,this.B=t|0,this.C=o|0,this.D=i|0,this.E=n|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)hi[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=hi[d-15],b=hi[d-2],y=co(h,7)^co(h,18)^h>>>3,g=co(b,17)^co(b,19)^b>>>10;hi[d]=g+hi[d-7]+y+hi[d-16]|0}let{A:o,B:i,C:n,D:s,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=co(a,6)^co(a,11)^co(a,25),b=l+h+m_(a,c,u)+v_[d]+hi[d]|0,g=(co(o,2)^co(o,13)^co(o,22))+x_(o,i,n)|0;l=u,u=c,c=a,a=s+b|0,s=n,n=i,i=o,o=b+g|0}o=o+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(o,i,n,s,a,c,u,l)}roundClean(){hi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Qa=ah(()=>new T_),Uf=BigInt(2**32-1),_g=BigInt(32);function cP(r,e=!1){return e?{h:Number(r&Uf),l:Number(r>>_g&Uf)}:{h:Number(r>>_g&Uf)|0,l:Number(r&Uf)|0}}function uP(r,e=!1){let t=new Uint32Array(r.length),o=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:n,l:s}=cP(r[i],e);[t[i],o[i]]=[n,s]}return[t,o]}const A_=(r,e)=>BigInt(r>>>0)<<_g|BigInt(e>>>0),E_=(r,e,t)=>r>>>t,P_=(r,e,t)=>r<<32-t|e>>>t,I_=(r,e,t)=>r>>>t|e<<32-t,B_=(r,e,t)=>r<<32-t|e>>>t,C_=(r,e,t)=>r<<64-t|e>>>t-32,__=(r,e,t)=>r>>>t-32|e<<64-t,S_=(r,e)=>e,W_=(r,e)=>r,lP=(r,e,t)=>r<<t|e>>>32-t,fP=(r,e,t)=>e<<t|r>>>32-t,dP=(r,e,t)=>e<<t-32|r>>>64-t,hP=(r,e,t)=>r<<t-32|e>>>64-t;function O_(r,e,t,o){const i=(e>>>0)+(o>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const R_=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),M_=(r,e,t,o)=>e+t+o+(r/2**32|0)|0,N_=(r,e,t,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(o>>>0),$_=(r,e,t,o,i)=>e+t+o+i+(r/2**32|0)|0,F_=(r,e,t,o,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(o>>>0)+(i>>>0),U_=(r,e,t,o,i,n)=>e+t+o+i+n+(r/2**32|0)|0,Ke={fromBig:cP,split:uP,toBig:A_,shrSH:E_,shrSL:P_,rotrSH:I_,rotrSL:B_,rotrBH:C_,rotrBL:__,rotr32H:S_,rotr32L:W_,rotlSH:lP,rotlSL:fP,rotlBH:dP,rotlBL:hP,add:O_,add3L:R_,add3H:M_,add4L:N_,add4H:$_,add5H:U_,add5L:F_},[k_,D_]=Ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),pi=new Uint32Array(80),gi=new Uint32Array(80);class L_ extends nb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:o,Bl:i,Ch:n,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:b,Gl:y,Hh:g,Hl:w}=this;return[e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w]}set(e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w){this.Ah=e|0,this.Al=t|0,this.Bh=o|0,this.Bl=i|0,this.Ch=n|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=b|0,this.Gl=y|0,this.Hh=g|0,this.Hl=w|0}process(e,t){for(let B=0;B<16;B++,t+=4)pi[B]=e.getUint32(t),gi[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){const M=pi[B-15]|0,O=gi[B-15]|0,W=Ke.rotrSH(M,O,1)^Ke.rotrSH(M,O,8)^Ke.shrSH(M,O,7),S=Ke.rotrSL(M,O,1)^Ke.rotrSL(M,O,8)^Ke.shrSL(M,O,7),T=pi[B-2]|0,E=gi[B-2]|0,C=Ke.rotrSH(T,E,19)^Ke.rotrBH(T,E,61)^Ke.shrSH(T,E,6),N=Ke.rotrSL(T,E,19)^Ke.rotrBL(T,E,61)^Ke.shrSL(T,E,6),U=Ke.add4L(S,N,gi[B-7],gi[B-16]),D=Ke.add4H(U,W,C,pi[B-7],pi[B-16]);pi[B]=D|0,gi[B]=U|0}let{Ah:o,Al:i,Bh:n,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:b,Fl:y,Gh:g,Gl:w,Hh:I,Hl:P}=this;for(let B=0;B<80;B++){const M=Ke.rotrSH(d,h,14)^Ke.rotrSH(d,h,18)^Ke.rotrBH(d,h,41),O=Ke.rotrSL(d,h,14)^Ke.rotrSL(d,h,18)^Ke.rotrBL(d,h,41),W=d&b^~d&g,S=h&y^~h&w,T=Ke.add5L(P,O,S,D_[B],gi[B]),E=Ke.add5H(T,I,M,W,k_[B],pi[B]),C=T|0,N=Ke.rotrSH(o,i,28)^Ke.rotrBH(o,i,34)^Ke.rotrBH(o,i,39),U=Ke.rotrSL(o,i,28)^Ke.rotrBL(o,i,34)^Ke.rotrBL(o,i,39),D=o&n^o&a^n&a,L=i&s^i&c^s&c;I=g|0,P=w|0,g=b|0,w=y|0,b=d|0,y=h|0,{h:d,l:h}=Ke.add(u|0,l|0,E|0,C|0),u=a|0,l=c|0,a=n|0,c=s|0,n=o|0,s=i|0;const x=Ke.add3L(C,U,L);o=Ke.add3H(x,E,N,D),i=x|0}({h:o,l:i}=Ke.add(this.Ah|0,this.Al|0,o|0,i|0)),{h:n,l:s}=Ke.add(this.Bh|0,this.Bl|0,n|0,s|0),{h:a,l:c}=Ke.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ke.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=Ke.add(this.Eh|0,this.El|0,d|0,h|0),{h:b,l:y}=Ke.add(this.Fh|0,this.Fl|0,b|0,y|0),{h:g,l:w}=Ke.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:I,l:P}=Ke.add(this.Hh|0,this.Hl|0,I|0,P|0),this.set(o,i,n,s,a,c,u,l,d,h,b,y,g,w,I,P)}roundClean(){pi.fill(0),gi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ob=ah(()=>new L_);function z_(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")}const Wm=z_(),Om=Wm.crypto||Wm.msCrypto;function q_(r){switch(r){case"sha256":return Qa.create();case"sha512":return ob.create()}X(!1,"invalid hashing algorithm name","algorithm",r)}function j_(r,e){const t={sha256:Qa,sha512:ob}[r];return X(t!=null,"invalid hmac algorithm","algorithm",r),ch.create(t,e)}function V_(r,e,t,o,i){const n={sha256:Qa,sha512:ob}[i];return X(n!=null,"invalid pbkdf2 algorithm","algorithm",i),rb(n,r,e,{c:t,dkLen:o})}function H_(r){je(Om!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),X(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return Om.getRandomValues(e),e}let pP=!1;const gP=function(r,e,t){return j_(r,e).update(t).digest()};let yP=gP;function Di(r,e,t){const o=Ce(e,"key"),i=Ce(t,"data");return ve(yP(r,o,i))}Di._=gP;Di.lock=function(){pP=!0};Di.register=function(r){if(pP)throw new Error("computeHmac is locked");yP=r};Object.freeze(Di);const[bP,wP,mP]=[[],[],[]],G_=BigInt(0),xc=BigInt(1),K_=BigInt(2),Z_=BigInt(7),Y_=BigInt(256),J_=BigInt(113);for(let r=0,e=xc,t=1,o=0;r<24;r++){[t,o]=[o,(2*t+3*o)%5],bP.push(2*(5*o+t)),wP.push((r+1)*(r+2)/2%64);let i=G_;for(let n=0;n<7;n++)e=(e<<xc^(e>>Z_)*J_)%Y_,e&K_&&(i^=xc<<(xc<<BigInt(n))-xc);mP.push(i)}const[X_,Q_]=uP(mP,!0),Rm=(r,e,t)=>t>32?dP(r,e,t):lP(r,e,t),Mm=(r,e,t)=>t>32?hP(r,e,t):fP(r,e,t);function eS(r,e=24){const t=new Uint32Array(10);for(let o=24-e;o<24;o++){for(let s=0;s<10;s++)t[s]=r[s]^r[s+10]^r[s+20]^r[s+30]^r[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,u=t[c],l=t[c+1],d=Rm(u,l,1)^t[a],h=Mm(u,l,1)^t[a+1];for(let b=0;b<50;b+=10)r[s+b]^=d,r[s+b+1]^=h}let i=r[2],n=r[3];for(let s=0;s<24;s++){const a=wP[s],c=Rm(i,n,a),u=Mm(i,n,a),l=bP[s];i=r[l],n=r[l+1],r[l]=c,r[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=r[s+a];for(let a=0;a<10;a++)r[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=X_[o],r[1]^=Q_[o]}t.fill(0)}let tS=class xP extends tb{constructor(e,t,o,i=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=o,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cn(o),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hd(this.state)}keccak(){eS(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){La(this);const{blockLen:t,state:o}=this;e=za(e);const i=e.length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let a=0;a<s;a++)o[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:o,blockLen:i}=this;e[o]^=t,(t&128)!==0&&o===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){La(this,!1),eb(e),this.finish();const t=this.state,{blockLen:o}=this;for(let i=0,n=e.length;i<n;){this.posOut>=o&&this.keccak();const s=Math.min(o-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return cn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(oP(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:o,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new xP(t,o,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=o,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const rS=(r,e,t)=>ah(()=>new tS(e,r,t)),nS=rS(1,136,256/8);let vP=!1;const TP=function(r){return nS(r)};let AP=TP;function Qe(r){const e=Ce(r,"data");return ve(AP(e))}Qe._=TP;Qe.lock=function(){vP=!0};Qe.register=function(r){if(vP)throw new TypeError("keccak256 is locked");AP=r};Object.freeze(Qe);const oS=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),EP=Uint8Array.from({length:16},(r,e)=>e),iS=EP.map(r=>(9*r+5)%16);let ib=[EP],sb=[iS];for(let r=0;r<4;r++)for(let e of[ib,sb])e.push(e[r].map(t=>oS[t]));const PP=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),sS=ib.map((r,e)=>r.map(t=>PP[e][t])),aS=sb.map((r,e)=>r.map(t=>PP[e][t])),cS=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),uS=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),kf=(r,e)=>r<<e|r>>>32-e;function Nm(r,e,t,o){return r===0?e^t^o:r===1?e&t|~e&o:r===2?(e|~t)^o:r===3?e&o|t&~o:e^(t|~o)}const Df=new Uint32Array(16);class lS extends nb{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:o,h3:i,h4:n}=this;return[e,t,o,i,n]}set(e,t,o,i,n){this.h0=e|0,this.h1=t|0,this.h2=o|0,this.h3=i|0,this.h4=n|0}process(e,t){for(let b=0;b<16;b++,t+=4)Df[b]=e.getUint32(t,!0);let o=this.h0|0,i=o,n=this.h1|0,s=n,a=this.h2|0,c=a,u=this.h3|0,l=u,d=this.h4|0,h=d;for(let b=0;b<5;b++){const y=4-b,g=cS[b],w=uS[b],I=ib[b],P=sb[b],B=sS[b],M=aS[b];for(let O=0;O<16;O++){const W=kf(o+Nm(b,n,a,u)+Df[I[O]]+g,B[O])+d|0;o=d,d=u,u=kf(a,10)|0,a=n,n=W}for(let O=0;O<16;O++){const W=kf(i+Nm(y,s,c,l)+Df[P[O]]+w,M[O])+h|0;i=h,h=l,l=kf(c,10)|0,c=s,s=W}}this.set(this.h1+a+l|0,this.h2+u+h|0,this.h3+d+i|0,this.h4+o+s|0,this.h0+n+c|0)}roundClean(){Df.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const fS=ah(()=>new lS);let IP=!1;const BP=function(r){return fS(r)};let CP=BP;function ec(r){const e=Ce(r,"data");return ve(CP(e))}ec._=BP;ec.lock=function(){IP=!0};ec.register=function(r){if(IP)throw new TypeError("ripemd160 is locked");CP=r};Object.freeze(ec);let _P=!1;const SP=function(r,e,t,o,i){return V_(r,e,t,o,i)};let WP=SP;function pu(r,e,t,o,i){const n=Ce(r,"password"),s=Ce(e,"salt");return ve(WP(n,s,t,o,i))}pu._=SP;pu.lock=function(){_P=!0};pu.register=function(r){if(_P)throw new Error("pbkdf2 is locked");WP=r};Object.freeze(pu);let OP=!1;const RP=function(r){return new Uint8Array(H_(r))};let MP=RP;function ei(r){return MP(r)}ei._=RP;ei.lock=function(){OP=!0};ei.register=function(r){if(OP)throw new Error("randomBytes is locked");MP=r};Object.freeze(ei);const at=(r,e)=>r<<e|r>>>32-e;function $m(r,e,t,o,i,n){let s=r[e++]^t[o++],a=r[e++]^t[o++],c=r[e++]^t[o++],u=r[e++]^t[o++],l=r[e++]^t[o++],d=r[e++]^t[o++],h=r[e++]^t[o++],b=r[e++]^t[o++],y=r[e++]^t[o++],g=r[e++]^t[o++],w=r[e++]^t[o++],I=r[e++]^t[o++],P=r[e++]^t[o++],B=r[e++]^t[o++],M=r[e++]^t[o++],O=r[e++]^t[o++],W=s,S=a,T=c,E=u,C=l,N=d,U=h,D=b,L=y,x=g,A=w,R=I,F=P,z=B,j=M,Z=O;for(let J=0;J<8;J+=2)C^=at(W+F|0,7),L^=at(C+W|0,9),F^=at(L+C|0,13),W^=at(F+L|0,18),x^=at(N+S|0,7),z^=at(x+N|0,9),S^=at(z+x|0,13),N^=at(S+z|0,18),j^=at(A+U|0,7),T^=at(j+A|0,9),U^=at(T+j|0,13),A^=at(U+T|0,18),E^=at(Z+R|0,7),D^=at(E+Z|0,9),R^=at(D+E|0,13),Z^=at(R+D|0,18),S^=at(W+E|0,7),T^=at(S+W|0,9),E^=at(T+S|0,13),W^=at(E+T|0,18),U^=at(N+C|0,7),D^=at(U+N|0,9),C^=at(D+U|0,13),N^=at(C+D|0,18),R^=at(A+x|0,7),L^=at(R+A|0,9),x^=at(L+R|0,13),A^=at(x+L|0,18),F^=at(Z+j|0,7),z^=at(F+Z|0,9),j^=at(z+F|0,13),Z^=at(j+z|0,18);i[n++]=s+W|0,i[n++]=a+S|0,i[n++]=c+T|0,i[n++]=u+E|0,i[n++]=l+C|0,i[n++]=d+N|0,i[n++]=h+U|0,i[n++]=b+D|0,i[n++]=y+L|0,i[n++]=g+x|0,i[n++]=w+A|0,i[n++]=I+R|0,i[n++]=P+F|0,i[n++]=B+z|0,i[n++]=M+j|0,i[n++]=O+Z|0}function Fa(r,e,t,o,i){let n=o+0,s=o+16*i;for(let a=0;a<16;a++)t[s+a]=r[e+(2*i-1)*16+a];for(let a=0;a<i;a++,n+=16,e+=16)$m(t,s,r,e,t,n),a>0&&(s+=16),$m(t,n,r,e+=16,t,s)}function NP(r,e,t){const o=sP({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:n,p:s,dkLen:a,asyncTick:c,maxmem:u,onProgress:l}=o;if(cn(i),cn(n),cn(s),cn(a),cn(c),cn(u),l!==void 0&&typeof l!="function")throw new Error("progressCb should be function");const d=128*n,h=d/4;if(i<=1||(i&i-1)!==0||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const b=d*(i+s);if(b>u)throw new Error(`Scrypt: parameters too large, ${b} (128 * r * (N + p)) > ${u} (maxmem)`);const y=rb(Qa,r,e,{c:1,dkLen:d*s}),g=hd(y),w=hd(new Uint8Array(d*i)),I=hd(new Uint8Array(d));let P=()=>{};if(l){const B=2*i*s,M=Math.max(Math.floor(B/1e4),1);let O=0;P=()=>{O++,l&&(!(O%M)||O===B)&&l(O/B)}}return{N:i,r:n,p:s,dkLen:a,blockSize32:h,V:w,B32:g,B:y,tmp:I,blockMixCb:P,asyncTick:c}}function $P(r,e,t,o,i){const n=rb(Qa,r,t,{c:1,dkLen:e});return t.fill(0),o.fill(0),i.fill(0),n}function dS(r,e,t){const{N:o,r:i,p:n,dkLen:s,blockSize32:a,V:c,B32:u,B:l,tmp:d,blockMixCb:h}=NP(r,e,t);for(let b=0;b<n;b++){const y=a*b;for(let g=0;g<a;g++)c[g]=u[y+g];for(let g=0,w=0;g<o-1;g++)Fa(c,w,c,w+=a,i),h();Fa(c,(o-1)*a,u,y,i),h();for(let g=0;g<o;g++){const w=u[y+a-16]%o;for(let I=0;I<a;I++)d[I]=u[y+I]^c[w*a+I];Fa(d,0,u,y,i),h()}}return $P(r,s,l,c,d)}async function hS(r,e,t){const{N:o,r:i,p:n,dkLen:s,blockSize32:a,V:c,B32:u,B:l,tmp:d,blockMixCb:h,asyncTick:b}=NP(r,e,t);for(let y=0;y<n;y++){const g=a*y;for(let I=0;I<a;I++)c[I]=u[g+I];let w=0;await Sm(o-1,b,()=>{Fa(c,w,c,w+=a,i),h()}),Fa(c,(o-1)*a,u,g,i),h(),await Sm(o,b,()=>{const I=u[g+a-16]%o;for(let P=0;P<a;P++)d[P]=u[g+P]^c[I*a+P];Fa(d,0,u,g,i),h()})}return $P(r,s,l,c,d)}let FP=!1,UP=!1;const kP=async function(r,e,t,o,i,n,s){return await hS(r,e,{N:t,r:o,p:i,dkLen:n,onProgress:s})},DP=function(r,e,t,o,i,n){return dS(r,e,{N:t,r:o,p:i,dkLen:n})};let LP=kP,zP=DP;async function gu(r,e,t,o,i,n,s){const a=Ce(r,"passwd"),c=Ce(e,"salt");return ve(await LP(a,c,t,o,i,n,s))}gu._=kP;gu.lock=function(){UP=!0};gu.register=function(r){if(UP)throw new Error("scrypt is locked");LP=r};Object.freeze(gu);function yu(r,e,t,o,i,n){const s=Ce(r,"passwd"),a=Ce(e,"salt");return ve(zP(s,a,t,o,i,n))}yu._=DP;yu.lock=function(){FP=!0};yu.register=function(r){if(FP)throw new Error("scryptSync is locked");zP=r};Object.freeze(yu);const qP=function(r){return q_("sha256").update(r).digest()};let jP=qP,VP=!1;function Ar(r){const e=Ce(r,"data");return ve(jP(e))}Ar._=qP;Ar.lock=function(){VP=!0};Ar.register=function(r){if(VP)throw new Error("sha256 is locked");jP=r};Object.freeze(Ar);Object.freeze(Ar);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HP=BigInt(0),uh=BigInt(1),pS=BigInt(2),lh=r=>r instanceof Uint8Array,gS=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function qa(r){if(!lh(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=gS[r[t]];return e}function GP(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function ab(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function ja(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let o=0;o<t.length;o++){const i=o*2,n=r.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[o]=s}return t}function Ts(r){return ab(qa(r))}function cb(r){if(!lh(r))throw new Error("Uint8Array expected");return ab(qa(Uint8Array.from(r).reverse()))}function Va(r,e){return ja(r.toString(16).padStart(e*2,"0"))}function ub(r,e){return Va(r,e).reverse()}function yS(r){return ja(GP(r))}function Kn(r,e,t){let o;if(typeof e=="string")try{o=ja(e)}catch(n){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${n}`)}else if(lh(e))o=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const i=o.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return o}function Qc(...r){const e=new Uint8Array(r.reduce((o,i)=>o+i.length,0));let t=0;return r.forEach(o=>{if(!lh(o))throw new Error("Uint8Array expected");e.set(o,t),t+=o.length}),e}function bS(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function wS(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function mS(r){let e;for(e=0;r>HP;r>>=uh,e+=1);return e}function xS(r,e){return r>>BigInt(e)&uh}const vS=(r,e,t)=>r|(t?uh:HP)<<BigInt(e),lb=r=>(pS<<BigInt(r-1))-uh,np=r=>new Uint8Array(r),Fm=r=>Uint8Array.from(r);function KP(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let o=np(r),i=np(r),n=0;const s=()=>{o.fill(1),i.fill(0),n=0},a=(...d)=>t(i,o,...d),c=(d=np())=>{i=a(Fm([0]),d),o=a(),d.length!==0&&(i=a(Fm([1]),d),o=a())},u=()=>{if(n++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){o=a();const b=o.slice();h.push(b),d+=o.length}return Qc(...h)};return(d,h)=>{s(),c(d);let b;for(;!(b=h(u()));)c();return s(),b}}const TS={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function bu(r,e,t={}){const o=(i,n,s)=>{const a=TS[n];if(typeof a!="function")throw new Error(`Invalid validator "${n}", expected function`);const c=r[i];if(!(s&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${n}`)};for(const[i,n]of Object.entries(e))o(i,n,!1);for(const[i,n]of Object.entries(t))o(i,n,!0);return r}const AS=Object.freeze(Object.defineProperty({__proto__:null,bitGet:xS,bitLen:mS,bitMask:lb,bitSet:vS,bytesToHex:qa,bytesToNumberBE:Ts,bytesToNumberLE:cb,concatBytes:Qc,createHmacDrbg:KP,ensureBytes:Kn,equalBytes:bS,hexToBytes:ja,hexToNumber:ab,numberToBytesBE:Va,numberToBytesLE:ub,numberToHexUnpadded:GP,numberToVarBytesBE:yS,utf8ToBytes:wS,validateObject:bu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const er=BigInt(0),Nt=BigInt(1),cs=BigInt(2),ES=BigInt(3),Sg=BigInt(4),Um=BigInt(5),km=BigInt(8);BigInt(9);BigInt(16);function Vr(r,e){const t=r%e;return t>=er?t:e+t}function PS(r,e,t){if(t<=er||e<er)throw new Error("Expected power/modulo > 0");if(t===Nt)return er;let o=Nt;for(;e>er;)e&Nt&&(o=o*r%t),r=r*r%t,e>>=Nt;return o}function pn(r,e,t){let o=r;for(;e-- >er;)o*=o,o%=t;return o}function Wg(r,e){if(r===er||e<=er)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Vr(r,e),o=e,i=er,n=Nt;for(;t!==er;){const a=o/t,c=o%t,u=i-n*a;o=t,t=c,i=n,n=u}if(o!==Nt)throw new Error("invert: does not exist");return Vr(i,e)}function IS(r){const e=(r-Nt)/cs;let t,o,i;for(t=r-Nt,o=0;t%cs===er;t/=cs,o++);for(i=cs;i<r&&PS(i,e,r)!==r-Nt;i++);if(o===1){const s=(r+Nt)/Sg;return function(c,u){const l=c.pow(u,s);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const n=(t+Nt)/cs;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=o,l=a.pow(a.mul(a.ONE,i),t),d=a.pow(c,n),h=a.pow(c,t);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let b=1;for(let g=a.sqr(h);b<u&&!a.eql(g,a.ONE);b++)g=a.sqr(g);const y=a.pow(l,Nt<<BigInt(u-b-1));l=a.sqr(y),d=a.mul(d,y),h=a.mul(h,l),u=b}return d}}function BS(r){if(r%Sg===ES){const e=(r+Nt)/Sg;return function(o,i){const n=o.pow(i,e);if(!o.eql(o.sqr(n),i))throw new Error("Cannot find square root");return n}}if(r%km===Um){const e=(r-Um)/km;return function(o,i){const n=o.mul(i,cs),s=o.pow(n,e),a=o.mul(i,s),c=o.mul(o.mul(a,cs),s),u=o.mul(a,o.sub(c,o.ONE));if(!o.eql(o.sqr(u),i))throw new Error("Cannot find square root");return u}}return IS(r)}const CS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _S(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=CS.reduce((o,i)=>(o[i]="function",o),e);return bu(r,t)}function SS(r,e,t){if(t<er)throw new Error("Expected power > 0");if(t===er)return r.ONE;if(t===Nt)return e;let o=r.ONE,i=e;for(;t>er;)t&Nt&&(o=r.mul(o,i)),i=r.sqr(i),t>>=Nt;return o}function WS(r,e){const t=new Array(e.length),o=e.reduce((n,s,a)=>r.is0(s)?n:(t[a]=n,r.mul(n,s)),r.ONE),i=r.inv(o);return e.reduceRight((n,s,a)=>r.is0(s)?n:(t[a]=r.mul(n,t[a]),r.mul(n,s)),i),t}function ZP(r,e){const t=e!==void 0?e:r.toString(2).length,o=Math.ceil(t/8);return{nBitLength:t,nByteLength:o}}function OS(r,e,t=!1,o={}){if(r<=er)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:i,nByteLength:n}=ZP(r,e);if(n>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=BS(r),a=Object.freeze({ORDER:r,BITS:i,BYTES:n,MASK:lb(i),ZERO:er,ONE:Nt,create:c=>Vr(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return er<=c&&c<r},is0:c=>c===er,isOdd:c=>(c&Nt)===Nt,neg:c=>Vr(-c,r),eql:(c,u)=>c===u,sqr:c=>Vr(c*c,r),add:(c,u)=>Vr(c+u,r),sub:(c,u)=>Vr(c-u,r),mul:(c,u)=>Vr(c*u,r),pow:(c,u)=>SS(a,c,u),div:(c,u)=>Vr(c*Wg(u,r),r),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Wg(c,r),sqrt:o.sqrt||(c=>s(a,c)),invertBatch:c=>WS(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?ub(c,n):Va(c,n),fromBytes:c=>{if(c.length!==n)throw new Error(`Fp.fromBytes: expected ${n}, got ${c.length}`);return t?cb(c):Ts(c)}});return Object.freeze(a)}function YP(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function JP(r){const e=YP(r);return e+Math.ceil(e/2)}function RS(r,e,t=!1){const o=r.length,i=YP(e),n=JP(e);if(o<16||o<n||o>1024)throw new Error(`expected ${n}-1024 bytes of input, got ${o}`);const s=t?Ts(r):cb(r),a=Vr(s,e-Nt)+Nt;return t?ub(a,i):Va(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MS=BigInt(0),op=BigInt(1);function NS(r,e){const t=(i,n)=>{const s=n.negate();return i?s:n},o=i=>{const n=Math.ceil(e/i)+1,s=2**(i-1);return{windows:n,windowSize:s}};return{constTimeNegate:t,unsafeLadder(i,n){let s=r.ZERO,a=i;for(;n>MS;)n&op&&(s=s.add(a)),a=a.double(),n>>=op;return s},precomputeWindow(i,n){const{windows:s,windowSize:a}=o(n),c=[];let u=i,l=u;for(let d=0;d<s;d++){l=u,c.push(l);for(let h=1;h<a;h++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,n,s){const{windows:a,windowSize:c}=o(i);let u=r.ZERO,l=r.BASE;const d=BigInt(2**i-1),h=2**i,b=BigInt(i);for(let y=0;y<a;y++){const g=y*c;let w=Number(s&d);s>>=b,w>c&&(w-=h,s+=op);const I=g,P=g+Math.abs(w)-1,B=y%2!==0,M=w<0;w===0?l=l.add(t(B,n[I])):u=u.add(t(M,n[P]))}return{p:u,f:l}},wNAFCached(i,n,s,a){const c=i._WINDOW_SIZE||1;let u=n.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&n.set(i,a(u))),this.wNAF(c,u,s)}}}function XP(r){return _S(r.Fp),bu(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ZP(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $S(r){const e=XP(r);bu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:o,a:i}=e;if(t){if(!o.eql(i,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:FS,hexToBytes:US}=AS,hs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=hs;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],o=r.subarray(2,t+2);if(!t||o.length!==t)throw new e("Invalid signature integer: wrong length");if(o[0]&128)throw new e("Invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:FS(o),l:r.subarray(t+2)}},toSig(r){const{Err:e}=hs,t=typeof r=="string"?US(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let o=t.length;if(o<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==o-2)throw new e("Invalid signature: incorrect length");const{d:i,l:n}=hs._parseInt(t.subarray(2)),{d:s,l:a}=hs._parseInt(n);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(r){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},o=e(t(r.s)),i=e(t(r.r)),n=o.length/2,s=i.length/2,a=t(n),c=t(s);return`30${t(s+n+4)}02${c}${i}02${a}${o}`}},Zo=BigInt(0),In=BigInt(1);BigInt(2);const Dm=BigInt(3);BigInt(4);function kS(r){const e=$S(r),{Fp:t}=e,o=e.toBytes||((y,g,w)=>{const I=g.toAffine();return Qc(Uint8Array.from([4]),t.toBytes(I.x),t.toBytes(I.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),w=t.fromBytes(g.subarray(0,t.BYTES)),I=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x:w,y:I}});function n(y){const{a:g,b:w}=e,I=t.sqr(y),P=t.mul(I,y);return t.add(t.add(P,t.mul(y,g)),w)}if(!t.eql(t.sqr(e.Gy),n(e.Gx)))throw new Error("bad generator point: equation left != right");function s(y){return typeof y=="bigint"&&Zo<y&&y<e.n}function a(y){if(!s(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){const{allowedPrivateKeyLengths:g,nByteLength:w,wrapPrivateKey:I,n:P}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=qa(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let B;try{B=typeof y=="bigint"?y:Ts(Kn("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return I&&(B=Vr(B,P)),a(B),B}const u=new Map;function l(y){if(!(y instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,w,I){if(this.px=g,this.py=w,this.pz=I,g==null||!t.isValid(g))throw new Error("x required");if(w==null||!t.isValid(w))throw new Error("y required");if(I==null||!t.isValid(I))throw new Error("z required")}static fromAffine(g){const{x:w,y:I}=g||{};if(!g||!t.isValid(w)||!t.isValid(I))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");const P=B=>t.eql(B,t.ZERO);return P(w)&&P(I)?d.ZERO:new d(w,I,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const w=t.invertBatch(g.map(I=>I.pz));return g.map((I,P)=>I.toAffine(w[P])).map(d.fromAffine)}static fromHex(g){const w=d.fromAffine(i(Kn("pointHex",g)));return w.assertValidity(),w}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:w}=this.toAffine();if(!t.isValid(g)||!t.isValid(w))throw new Error("bad point: x or y not FE");const I=t.sqr(w),P=n(g);if(!t.eql(I,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:w,py:I,pz:P}=this,{px:B,py:M,pz:O}=g,W=t.eql(t.mul(w,O),t.mul(B,P)),S=t.eql(t.mul(I,O),t.mul(M,P));return W&&S}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:w}=e,I=t.mul(w,Dm),{px:P,py:B,pz:M}=this;let O=t.ZERO,W=t.ZERO,S=t.ZERO,T=t.mul(P,P),E=t.mul(B,B),C=t.mul(M,M),N=t.mul(P,B);return N=t.add(N,N),S=t.mul(P,M),S=t.add(S,S),O=t.mul(g,S),W=t.mul(I,C),W=t.add(O,W),O=t.sub(E,W),W=t.add(E,W),W=t.mul(O,W),O=t.mul(N,O),S=t.mul(I,S),C=t.mul(g,C),N=t.sub(T,C),N=t.mul(g,N),N=t.add(N,S),S=t.add(T,T),T=t.add(S,T),T=t.add(T,C),T=t.mul(T,N),W=t.add(W,T),C=t.mul(B,M),C=t.add(C,C),T=t.mul(C,N),O=t.sub(O,T),S=t.mul(C,E),S=t.add(S,S),S=t.add(S,S),new d(O,W,S)}add(g){l(g);const{px:w,py:I,pz:P}=this,{px:B,py:M,pz:O}=g;let W=t.ZERO,S=t.ZERO,T=t.ZERO;const E=e.a,C=t.mul(e.b,Dm);let N=t.mul(w,B),U=t.mul(I,M),D=t.mul(P,O),L=t.add(w,I),x=t.add(B,M);L=t.mul(L,x),x=t.add(N,U),L=t.sub(L,x),x=t.add(w,P);let A=t.add(B,O);return x=t.mul(x,A),A=t.add(N,D),x=t.sub(x,A),A=t.add(I,P),W=t.add(M,O),A=t.mul(A,W),W=t.add(U,D),A=t.sub(A,W),T=t.mul(E,x),W=t.mul(C,D),T=t.add(W,T),W=t.sub(U,T),T=t.add(U,T),S=t.mul(W,T),U=t.add(N,N),U=t.add(U,N),D=t.mul(E,D),x=t.mul(C,x),U=t.add(U,D),D=t.sub(N,D),D=t.mul(E,D),x=t.add(x,D),N=t.mul(U,x),S=t.add(S,N),N=t.mul(A,x),W=t.mul(L,W),W=t.sub(W,N),N=t.mul(L,U),T=t.mul(A,T),T=t.add(T,N),new d(W,S,T)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return b.wNAFCached(this,u,g,w=>{const I=t.invertBatch(w.map(P=>P.pz));return w.map((P,B)=>P.toAffine(I[B])).map(d.fromAffine)})}multiplyUnsafe(g){const w=d.ZERO;if(g===Zo)return w;if(a(g),g===In)return this;const{endo:I}=e;if(!I)return b.unsafeLadder(this,g);let{k1neg:P,k1:B,k2neg:M,k2:O}=I.splitScalar(g),W=w,S=w,T=this;for(;B>Zo||O>Zo;)B&In&&(W=W.add(T)),O&In&&(S=S.add(T)),T=T.double(),B>>=In,O>>=In;return P&&(W=W.negate()),M&&(S=S.negate()),S=new d(t.mul(S.px,I.beta),S.py,S.pz),W.add(S)}multiply(g){a(g);let w=g,I,P;const{endo:B}=e;if(B){const{k1neg:M,k1:O,k2neg:W,k2:S}=B.splitScalar(w);let{p:T,f:E}=this.wNAF(O),{p:C,f:N}=this.wNAF(S);T=b.constTimeNegate(M,T),C=b.constTimeNegate(W,C),C=new d(t.mul(C.px,B.beta),C.py,C.pz),I=T.add(C),P=E.add(N)}else{const{p:M,f:O}=this.wNAF(w);I=M,P=O}return d.normalizeZ([I,P])[0]}multiplyAndAddUnsafe(g,w,I){const P=d.BASE,B=(O,W)=>W===Zo||W===In||!O.equals(P)?O.multiplyUnsafe(W):O.multiply(W),M=B(this,w).add(B(g,I));return M.is0()?void 0:M}toAffine(g){const{px:w,py:I,pz:P}=this,B=this.is0();g==null&&(g=B?t.ONE:t.inv(P));const M=t.mul(w,g),O=t.mul(I,g),W=t.mul(P,g);if(B)return{x:t.ZERO,y:t.ZERO};if(!t.eql(W,t.ONE))throw new Error("invZ was invalid");return{x:M,y:O}}isTorsionFree(){const{h:g,isTorsionFree:w}=e;if(g===In)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:w}=e;return g===In?this:w?w(d,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),o(d,this,g)}toHex(g=!0){return qa(this.toRawBytes(g))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const h=e.nBitLength,b=NS(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:n,isWithinCurveOrder:s}}function DS(r){const e=XP(r);return bu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function LS(r){const e=DS(r),{Fp:t,n:o}=e,i=t.BYTES+1,n=2*t.BYTES+1;function s(x){return Zo<x&&x<t.ORDER}function a(x){return Vr(x,o)}function c(x){return Wg(x,o)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=kS({...e,toBytes(x,A,R){const F=A.toAffine(),z=t.toBytes(F.x),j=Qc;return R?j(Uint8Array.from([A.hasEvenY()?2:3]),z):j(Uint8Array.from([4]),z,t.toBytes(F.y))},fromBytes(x){const A=x.length,R=x[0],F=x.subarray(1);if(A===i&&(R===2||R===3)){const z=Ts(F);if(!s(z))throw new Error("Point is not on curve");const j=d(z);let Z=t.sqrt(j);const J=(Z&In)===In;return(R&1)===1!==J&&(Z=t.neg(Z)),{x:z,y:Z}}else if(A===n&&R===4){const z=t.fromBytes(F.subarray(0,t.BYTES)),j=t.fromBytes(F.subarray(t.BYTES,2*t.BYTES));return{x:z,y:j}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${n} uncompressed bytes`)}}),b=x=>qa(Va(x,e.nByteLength));function y(x){const A=o>>In;return x>A}function g(x){return y(x)?a(-x):x}const w=(x,A,R)=>Ts(x.slice(A,R));class I{constructor(A,R,F){this.r=A,this.s=R,this.recovery=F,this.assertValidity()}static fromCompact(A){const R=e.nByteLength;return A=Kn("compactSignature",A,R*2),new I(w(A,0,R),w(A,R,2*R))}static fromDER(A){const{r:R,s:F}=hs.toSig(Kn("DER",A));return new I(R,F)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new I(this.r,this.s,A)}recoverPublicKey(A){const{r:R,s:F,recovery:z}=this,j=S(Kn("msgHash",A));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const Z=z===2||z===3?R+e.n:R;if(Z>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=(z&1)===0?"02":"03",oe=u.fromHex(J+b(Z)),ee=c(Z),te=a(-j*ee),ae=a(F*ee),ue=u.BASE.multiplyAndAddUnsafe(oe,te,ae);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ja(this.toDERHex())}toDERHex(){return hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ja(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const P={isValidPrivateKey(x){try{return l(x),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const x=JP(e.n);return RS(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function B(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function M(x){const A=x instanceof Uint8Array,R=typeof x=="string",F=(A||R)&&x.length;return A?F===i||F===n:R?F===2*i||F===2*n:x instanceof u}function O(x,A,R=!0){if(M(x))throw new Error("first arg must be private key");if(!M(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(l(x)).toRawBytes(R)}const W=e.bits2int||function(x){const A=Ts(x),R=x.length*8-e.nBitLength;return R>0?A>>BigInt(R):A},S=e.bits2int_modN||function(x){return a(W(x))},T=lb(e.nBitLength);function E(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(Zo<=x&&x<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Va(x,e.nByteLength)}function C(x,A,R=N){if(["recovered","canonical"].some(Ee=>Ee in R))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:z}=e;let{lowS:j,prehash:Z,extraEntropy:J}=R;j==null&&(j=!0),x=Kn("msgHash",x),Z&&(x=Kn("prehashed msgHash",F(x)));const oe=S(x),ee=l(A),te=[E(ee),E(oe)];if(J!=null){const Ee=J===!0?z(t.BYTES):J;te.push(Kn("extraEntropy",Ee))}const ae=Qc(...te),ue=oe;function we(Ee){const Ne=W(Ee);if(!h(Ne))return;const Ue=c(Ne),ze=u.BASE.multiply(Ne).toAffine(),Fe=a(ze.x);if(Fe===Zo)return;const Re=a(Ue*a(ue+Fe*ee));if(Re===Zo)return;let De=(ze.x===Fe?0:2)|Number(ze.y&In),mt=Re;return j&&y(Re)&&(mt=g(Re),De^=1),new I(Fe,mt,De)}return{seed:ae,k2sig:we}}const N={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function D(x,A,R=N){const{seed:F,k2sig:z}=C(x,A,R),j=e;return KP(j.hash.outputLen,j.nByteLength,j.hmac)(F,z)}u.BASE._setWindowSize(8);function L(x,A,R,F=U){const z=x;if(A=Kn("msgHash",A),R=Kn("publicKey",R),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:j,prehash:Z}=F;let J,oe;try{if(typeof z=="string"||z instanceof Uint8Array)try{J=I.fromDER(z)}catch(ze){if(!(ze instanceof hs.Err))throw ze;J=I.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:ze,s:Fe}=z;J=new I(ze,Fe)}else throw new Error("PARSE");oe=u.fromHex(R)}catch(ze){if(ze.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&J.hasHighS())return!1;Z&&(A=e.hash(A));const{r:ee,s:te}=J,ae=S(A),ue=c(te),we=a(ae*ue),Ee=a(ee*ue),Ne=u.BASE.multiplyAndAddUnsafe(oe,we,Ee)?.toAffine();return Ne?a(Ne.x)===ee:!1}return{CURVE:e,getPublicKey:B,getSharedSecret:O,sign:D,verify:L,ProjectivePoint:u,Signature:I,utils:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zS(r){return{hash:r,hmac:(e,...t)=>ch(r,e,h_(...t)),randomBytes:g_}}function qS(r,e){const t=o=>LS({...r,...zS(o)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Lm=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jS=BigInt(1),Og=BigInt(2),zm=(r,e)=>(r+e/Og)/e;function VS(r){const e=QP,t=BigInt(3),o=BigInt(6),i=BigInt(11),n=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=r*r*r%e,l=u*u*r%e,d=pn(l,t,e)*l%e,h=pn(d,t,e)*l%e,b=pn(h,Og,e)*u%e,y=pn(b,i,e)*b%e,g=pn(y,n,e)*y%e,w=pn(g,a,e)*g%e,I=pn(w,c,e)*w%e,P=pn(I,a,e)*g%e,B=pn(P,t,e)*l%e,M=pn(B,s,e)*y%e,O=pn(M,o,e)*u%e,W=pn(O,Og,e);if(!Rg.eql(Rg.sqr(W),r))throw new Error("Cannot find square root");return W}const Rg=OS(QP,void 0,void 0,{sqrt:VS}),Bi=qS({a:BigInt(0),b:BigInt(7),Fp:Rg,n:Lm,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=Lm,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-jS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=t,s=BigInt("0x100000000000000000000000000000000"),a=zm(n*r,e),c=zm(-o*r,e);let u=Vr(r-a*t-c*i,e),l=Vr(-a*o-c*n,e);const d=u>s,h=l>s;if(d&&(u=e-u),h&&(l=e-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},Qa);BigInt(0);Bi.ProjectivePoint;const eI="0x0000000000000000000000000000000000000000",qm="0x0000000000000000000000000000000000000000000000000000000000000000",HS=`Ethereum Signed Message:
`,jm=BigInt(0),Vm=BigInt(1),Hm=BigInt(2),Gm=BigInt(27),Km=BigInt(28),Lf=BigInt(35),ia={};function Zm(r){return ki(Cr(r),32)}class St{#e;#t;#r;#n;get r(){return this.#e}set r(e){X(qc(e)===32,"invalid r","value",e),this.#e=ve(e)}get s(){return this.#t}set s(e){X(qc(e)===32,"invalid s","value",e);const t=ve(e);X(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#t=t}get v(){return this.#r}set v(e){const t=ur(e,"value");X(t===27||t===28,"invalid v","v",e),this.#r=t}get networkV(){return this.#n}get legacyChainId(){const e=this.networkV;return e==null?null:St.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ce(this.s);return this.yParity&&(e[0]|=128),ve(e)}get compactSerialized(){return wt([this.r,this.yParityAndS])}get serialized(){return wt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,o,i){ji(e,ia,"Signature"),this.#e=t,this.#t=o,this.#r=i,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new St(ia,this.r,this.s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=bt(e,"v");return t==Gm||t==Km?jm:(X(t>=Lf,"invalid EIP-155 v","v",e),(t-Lf)/Hm)}static getChainIdV(e,t){return bt(e)*Hm+BigInt(35+t-27)}static getNormalizedV(e){const t=bt(e);return t===jm||t===Gm?27:t===Vm||t===Km?28:(X(t>=Lf,"invalid v","v",e),t&Vm?27:28)}static from(e){function t(u,l){X(u,l,"signature",e)}if(e==null)return new St(ia,qm,qm,27);if(typeof e=="string"){const u=Ce(e,"signature");if(u.length===64){const l=ve(u.slice(0,32)),d=u.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new St(ia,l,ve(d),h)}if(u.length===65){const l=ve(u.slice(0,32)),d=u.slice(32,64);t((d[0]&128)===0,"non-canonical s");const h=St.getNormalizedV(u[64]);return new St(ia,l,ve(d),h)}t(!1,"invalid raw signature length")}if(e instanceof St)return e.clone();const o=e.r;t(o!=null,"missing r");const i=Zm(o),n=function(u,l){if(u!=null)return Zm(u);if(l!=null){t(Tr(l,32),"invalid yParityAndS");const d=Ce(l);return d[0]&=127,ve(d)}t(!1,"missing s")}(e.s,e.yParityAndS);t((Ce(n)[0]&128)==0,"non-canonical s");const{networkV:s,v:a}=function(u,l,d){if(u!=null){const h=bt(u);return{networkV:h>=Lf?h:void 0,v:St.getNormalizedV(h)}}if(l!=null)return t(Tr(l,32),"invalid yParityAndS"),{v:Ce(l)[0]&128?28:27};if(d!=null){switch(ur(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new St(ia,i,n,a);return s&&(c.#n=s),t(e.yParity==null||ur(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class cr{#e;constructor(e){X(qc(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=ve(e)}get privateKey(){return this.#e}get publicKey(){return cr.computePublicKey(this.#e)}get compressedPublicKey(){return cr.computePublicKey(this.#e,!0)}sign(e){X(qc(e)===32,"invalid digest length","digest",e);const t=Bi.sign(xr(e),xr(this.#e),{lowS:!0});return St.from({r:Qn(t.r,32),s:Qn(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=cr.computePublicKey(e);return ve(Bi.getSharedSecret(xr(this.#e),Ce(t),!1))}static computePublicKey(e,t){let o=Ce(e,"key");if(o.length===32){const n=Bi.getPublicKey(o,!!t);return ve(n)}if(o.length===64){const n=new Uint8Array(65);n[0]=4,n.set(o,1),o=n}const i=Bi.ProjectivePoint.fromHex(o);return ve(i.toRawBytes(t))}static recoverPublicKey(e,t){X(qc(e)===32,"invalid digest length","digest",e);const o=St.from(t);let i=Bi.Signature.fromCompact(xr(wt([o.r,o.s])));i=i.addRecoveryBit(o.yParity);const n=i.recoverPublicKey(xr(e));return X(n!=null,"invalid signautre for digest","signature",t),"0x"+n.toHex(!1)}static addPoints(e,t,o){const i=Bi.ProjectivePoint.fromHex(cr.computePublicKey(e).substring(2)),n=Bi.ProjectivePoint.fromHex(cr.computePublicKey(t).substring(2));return"0x"+i.add(n).toHex(!!o)}}const GS=BigInt(0),KS=BigInt(36);function Ym(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const o=Ce(Qe(t));for(let i=0;i<40;i+=2)o[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(o[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const fb={};for(let r=0;r<10;r++)fb[String(r)]=String(r);for(let r=0;r<26;r++)fb[String.fromCharCode(65+r)]=String(10+r);const Jm=15;function ZS(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(o=>fb[o]).join("");for(;e.length>=Jm;){let o=e.substring(0,Jm);e=parseInt(o,10)%97+e.substring(o.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const YS=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function JS(r){r=r.toLowerCase();let e=GS;for(let t=0;t<r.length;t++)e=e*KS+YS[r[t]];return e}function fn(r){if(X(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=Ym(r);return X(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){X(r.substring(2,4)===ZS(r),"bad icap checksum","address",r);let e=JS(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Ym("0x"+e)}X(!1,"invalid address","address",r)}function XS(r){return r&&typeof r.getAddress=="function"}async function ip(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(je(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),X(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),fn(t)}function Sd(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?fn(r):(je(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ip(r,e.resolveName(r)));if(XS(r))return ip(r,r.getAddress());if(r&&typeof r.then=="function")return ip(r,r);X(!1,"unsupported addressable value","target",r)}const jo={};function Ie(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new qt(jo,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function ct(r,e){return new qt(jo,`bytes${e||""}`,r,{size:e})}const Xm=Symbol.for("_ethers_typed");class qt{type;value;#e;_typedSymbol;constructor(e,t,o,i){i==null&&(i=null),ji(jo,e,"Typed"),Ye(this,{_typedSymbol:Xm,type:t,value:o}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new qt(jo,e,t)}static uint8(e){return Ie(e,8)}static uint16(e){return Ie(e,16)}static uint24(e){return Ie(e,24)}static uint32(e){return Ie(e,32)}static uint40(e){return Ie(e,40)}static uint48(e){return Ie(e,48)}static uint56(e){return Ie(e,56)}static uint64(e){return Ie(e,64)}static uint72(e){return Ie(e,72)}static uint80(e){return Ie(e,80)}static uint88(e){return Ie(e,88)}static uint96(e){return Ie(e,96)}static uint104(e){return Ie(e,104)}static uint112(e){return Ie(e,112)}static uint120(e){return Ie(e,120)}static uint128(e){return Ie(e,128)}static uint136(e){return Ie(e,136)}static uint144(e){return Ie(e,144)}static uint152(e){return Ie(e,152)}static uint160(e){return Ie(e,160)}static uint168(e){return Ie(e,168)}static uint176(e){return Ie(e,176)}static uint184(e){return Ie(e,184)}static uint192(e){return Ie(e,192)}static uint200(e){return Ie(e,200)}static uint208(e){return Ie(e,208)}static uint216(e){return Ie(e,216)}static uint224(e){return Ie(e,224)}static uint232(e){return Ie(e,232)}static uint240(e){return Ie(e,240)}static uint248(e){return Ie(e,248)}static uint256(e){return Ie(e,256)}static uint(e){return Ie(e,256)}static int8(e){return Ie(e,-8)}static int16(e){return Ie(e,-16)}static int24(e){return Ie(e,-24)}static int32(e){return Ie(e,-32)}static int40(e){return Ie(e,-40)}static int48(e){return Ie(e,-48)}static int56(e){return Ie(e,-56)}static int64(e){return Ie(e,-64)}static int72(e){return Ie(e,-72)}static int80(e){return Ie(e,-80)}static int88(e){return Ie(e,-88)}static int96(e){return Ie(e,-96)}static int104(e){return Ie(e,-104)}static int112(e){return Ie(e,-112)}static int120(e){return Ie(e,-120)}static int128(e){return Ie(e,-128)}static int136(e){return Ie(e,-136)}static int144(e){return Ie(e,-144)}static int152(e){return Ie(e,-152)}static int160(e){return Ie(e,-160)}static int168(e){return Ie(e,-168)}static int176(e){return Ie(e,-176)}static int184(e){return Ie(e,-184)}static int192(e){return Ie(e,-192)}static int200(e){return Ie(e,-200)}static int208(e){return Ie(e,-208)}static int216(e){return Ie(e,-216)}static int224(e){return Ie(e,-224)}static int232(e){return Ie(e,-232)}static int240(e){return Ie(e,-240)}static int248(e){return Ie(e,-248)}static int256(e){return Ie(e,-256)}static int(e){return Ie(e,-256)}static bytes1(e){return ct(e,1)}static bytes2(e){return ct(e,2)}static bytes3(e){return ct(e,3)}static bytes4(e){return ct(e,4)}static bytes5(e){return ct(e,5)}static bytes6(e){return ct(e,6)}static bytes7(e){return ct(e,7)}static bytes8(e){return ct(e,8)}static bytes9(e){return ct(e,9)}static bytes10(e){return ct(e,10)}static bytes11(e){return ct(e,11)}static bytes12(e){return ct(e,12)}static bytes13(e){return ct(e,13)}static bytes14(e){return ct(e,14)}static bytes15(e){return ct(e,15)}static bytes16(e){return ct(e,16)}static bytes17(e){return ct(e,17)}static bytes18(e){return ct(e,18)}static bytes19(e){return ct(e,19)}static bytes20(e){return ct(e,20)}static bytes21(e){return ct(e,21)}static bytes22(e){return ct(e,22)}static bytes23(e){return ct(e,23)}static bytes24(e){return ct(e,24)}static bytes25(e){return ct(e,25)}static bytes26(e){return ct(e,26)}static bytes27(e){return ct(e,27)}static bytes28(e){return ct(e,28)}static bytes29(e){return ct(e,29)}static bytes30(e){return ct(e,30)}static bytes31(e){return ct(e,31)}static bytes32(e){return ct(e,32)}static address(e){return new qt(jo,"address",e)}static bool(e){return new qt(jo,"bool",!!e)}static bytes(e){return new qt(jo,"bytes",e)}static string(e){return new qt(jo,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new qt(jo,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Xm}static dereference(e,t){if(qt.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class QS extends ui{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let o=qt.dereference(t,"string");try{o=fn(o)}catch(i){return this._throwError(i.message,t)}return e.writeValue(o)}decode(e){return fn(Qn(e.readValue(),20))}}class eW extends ui{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function tI(r,e,t){let o=[];if(Array.isArray(t))o=t;else if(t&&typeof t=="object"){let c={};o=e.map(u=>{const l=u.localName;return je(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:t}),je(!c[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:t}),c[l]=!0,t[l]})}else X(!1,"invalid tuple value","tuple",t);X(e.length===o.length,"types/value length mismatch","tuple",t);let i=new Cg,n=new Cg,s=[];e.forEach((c,u)=>{let l=o[u];if(c.dynamic){let d=n.length;c.encode(n,l);let h=i.writeUpdatableValue();s.push(b=>{h(b+d)})}else c.encode(i,l)}),s.forEach(c=>{c(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(n),a}function rI(r,e){let t=[],o=[],i=r.subReader(0);return e.forEach(n=>{let s=null;if(n.dynamic){let a=r.readIndex(),c=i.subReader(a);try{s=n.decode(c)}catch(u){if(vm(u,"BUFFER_OVERRUN"))throw u;s=u,s.baseType=n.name,s.name=n.localName,s.type=n.type}}else try{s=n.decode(r)}catch(a){if(vm(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=n.name,s.name=n.localName,s.type=n.type}if(s==null)throw new Error("investigate");t.push(s),o.push(n.localName||null)}),Jo.fromItems(t,o)}class tW extends ui{coder;length;constructor(e,t,o){const i=e.type+"["+(t>=0?t:"")+"]",n=t===-1||e.dynamic;super("array",i,o,n),Ye(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let o=0;o<this.length;o++)t.push(e);return t}encode(e,t){const o=qt.dereference(t,"array");Array.isArray(o)||this._throwError("expected array value",o);let i=this.length;i===-1&&(i=o.length,e.writeValue(o.length)),KE(o.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let s=0;s<o.length;s++)n.push(this.coder);return tI(e,n,o)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),je(t*_r<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*_r,length:e.dataLength}));let o=[];for(let i=0;i<t;i++)o.push(new eW(this.coder));return rI(e,o)}}class rW extends ui{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const o=qt.dereference(t,"bool");return e.writeValue(o?1:0)}decode(e){return!!e.readValue()}}class nI extends ui{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=xr(t);let o=e.writeValue(t.length);return o+=e.writeBytes(t),o}decode(e){return e.readBytes(e.readIndex(),!0)}}class nW extends nI{constructor(e){super("bytes",e)}decode(e){return ve(super.decode(e))}}class oW extends ui{size;constructor(e,t){let o="bytes"+String(e);super(o,o,t,!1),Ye(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let o=xr(qt.dereference(t,this.type));return o.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(o)}decode(e){return ve(e.readBytes(this.size))}}const iW=new Uint8Array([]);class sW extends ui{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(iW)}decode(e){return e.readBytes(0),null}}const aW=BigInt(0),cW=BigInt(1),uW=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class lW extends ui{size;signed;constructor(e,t,o){const i=(t?"int":"uint")+e*8;super(i,i,o,!1),Ye(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let o=bt(qt.dereference(t,this.type)),i=Ra(uW,_r*8);if(this.signed){let n=Ra(i,this.size*8-1);(o>n||o<-(n+cW))&&this._throwError("value out-of-bounds",t),o=Xy(o,8*_r)}else(o<aW||o>Ra(i,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(o)}decode(e){let t=Ra(e.readValue(),this.size*8);return this.signed&&(t=Y8(t,this.size*8)),t}}class fW extends nI{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Yr(qt.dereference(t,"string")))}decode(e){return QE(super.decode(e))}}class zf extends ui{coders;constructor(e,t){let o=!1;const i=[];e.forEach(s=>{s.dynamic&&(o=!0),i.push(s.type)});const n="tuple("+i.join(",")+")";super("tuple",n,t,o),Ye(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(o=>{e.push(o.defaultValue())});const t=this.coders.reduce((o,i)=>{const n=i.localName;return n&&(o[n]||(o[n]=0),o[n]++),o},{});return this.coders.forEach((o,i)=>{let n=o.localName;!n||t[n]!==1||(n==="length"&&(n="_length"),e[n]==null&&(e[n]=e[i]))}),Object.freeze(e)}encode(e,t){const o=qt.dereference(t,"tuple");return tI(e,this.coders,o)}decode(e){return rI(e,this.coders)}}function eo(r){return Qe(Yr(r))}function sp(r,e){return{address:fn(r),storageKeys:e.map((t,o)=>(X(Tr(t,32),"invalid slot",`storageKeys[${o}]`,t),t.toLowerCase()))}}function fh(r){if(Array.isArray(r))return r.map((t,o)=>Array.isArray(t)?(X(t.length===2,"invalid slot set",`value[${o}]`,t),sp(t[0],t[1])):(X(t!=null&&typeof t=="object","invalid address-slot set","value",r),sp(t.address,t.storageKeys)));X(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const o=r[t].reduce((i,n)=>(i[n]=!0,i),{});return sp(t,Object.keys(o).sort())});return e.sort((t,o)=>t.address.localeCompare(o.address)),e}function dh(r){let e;return typeof r=="string"?e=cr.computePublicKey(r,!1):e=r.publicKey,fn(Qe("0x"+e.substring(4)).substring(26))}function Ha(r,e){return dh(cr.recoverPublicKey(r,e))}const Xt=BigInt(0),dW=BigInt(2),hW=BigInt(27),pW=BigInt(28),gW=BigInt(35),yW=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ap=4096*32;function Qm(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=Ar(e).substring(4),"0x"+t}function hh(r){return r==="0x"?null:fn(r)}function db(r,e){try{return fh(r)}catch(t){X(!1,t.message,e,r)}}function wu(r,e){return r==="0x"?0:ur(r,e)}function $t(r,e){if(r==="0x")return Xt;const t=bt(r,e);return X(t<=yW,"value exceeds uint size",e,t),t}function It(r,e){const t=bt(r,"value"),o=Cr(t);return X(o.length<=32,"value too large",`tx.${e}`,t),o}function hb(r){return fh(r).map(e=>[e.address,e.storageKeys])}function bW(r,e){X(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)X(Tr(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function wW(r){const e=sh(r);X(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:wu(e[0],"nonce"),gasPrice:$t(e[1],"gasPrice"),gasLimit:$t(e[2],"gasLimit"),to:hh(e[3]),value:$t(e[4],"value"),data:ve(e[5]),chainId:Xt};if(e.length===6)return t;const o=$t(e[6],"v"),i=$t(e[7],"r"),n=$t(e[8],"s");if(i===Xt&&n===Xt)t.chainId=o;else{let s=(o-gW)/dW;s<Xt&&(s=Xt),t.chainId=s,X(s!==Xt||o===hW||o===pW,"non-canonical legacy v","v",e[6]),t.signature=St.from({r:ki(e[7],32),s:ki(e[8],32),v:o})}return t}function mW(r,e){const t=[It(r.nonce,"nonce"),It(r.gasPrice||0,"gasPrice"),It(r.gasLimit,"gasLimit"),r.to||"0x",It(r.value,"value"),r.data];let o=Xt;if(r.chainId!=Xt)o=bt(r.chainId,"tx.chainId"),X(!e||e.networkV==null||e.legacyChainId===o,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const n=r.signature.legacyChainId;n!=null&&(o=n)}if(!e)return o!==Xt&&(t.push(Cr(o)),t.push("0x"),t.push("0x")),Da(t);let i=BigInt(27+e.yParity);return o!==Xt?i=St.getChainIdV(o,e.v):BigInt(e.v)!==i&&X(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Cr(i)),t.push(Cr(e.r)),t.push(Cr(e.s)),Da(t)}function pb(r,e){let t;try{if(t=wu(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{X(!1,"invalid yParity","yParity",e[0])}const o=ki(e[1],32),i=ki(e[2],32),n=St.from({r:o,s:i,yParity:t});r.signature=n}function xW(r){const e=sh(Ce(r).slice(1));X(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ve(r));const t={type:2,chainId:$t(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:$t(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$t(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$t(e[4],"gasLimit"),to:hh(e[5]),value:$t(e[6],"value"),data:ve(e[7]),accessList:db(e[8],"accessList")};return e.length===9||pb(t,e.slice(9)),t}function vW(r,e){const t=[It(r.chainId,"chainId"),It(r.nonce,"nonce"),It(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),It(r.maxFeePerGas||0,"maxFeePerGas"),It(r.gasLimit,"gasLimit"),r.to||"0x",It(r.value,"value"),r.data,hb(r.accessList||[])];return e&&(t.push(It(e.yParity,"yParity")),t.push(Cr(e.r)),t.push(Cr(e.s))),wt(["0x02",Da(t)])}function TW(r){const e=sh(Ce(r).slice(1));X(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ve(r));const t={type:1,chainId:$t(e[0],"chainId"),nonce:wu(e[1],"nonce"),gasPrice:$t(e[2],"gasPrice"),gasLimit:$t(e[3],"gasLimit"),to:hh(e[4]),value:$t(e[5],"value"),data:ve(e[6]),accessList:db(e[7],"accessList")};return e.length===8||pb(t,e.slice(8)),t}function AW(r,e){const t=[It(r.chainId,"chainId"),It(r.nonce,"nonce"),It(r.gasPrice||0,"gasPrice"),It(r.gasLimit,"gasLimit"),r.to||"0x",It(r.value,"value"),r.data,hb(r.accessList||[])];return e&&(t.push(It(e.yParity,"recoveryParam")),t.push(Cr(e.r)),t.push(Cr(e.s))),wt(["0x01",Da(t)])}function EW(r){let e=sh(Ce(r).slice(1)),t="3",o=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const n=e[1],s=e[2],a=e[3];X(Array.isArray(n),"invalid network format: blobs not an array","fields[1]",n),X(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),X(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),X(n.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),X(n.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),o=[];for(let c=0;c<e[1].length;c++)o.push({data:n[c],commitment:s[c],proof:a[c]});e=e[0]}X(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",ve(r));const i={type:3,chainId:$t(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:$t(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$t(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$t(e[4],"gasLimit"),to:hh(e[5]),value:$t(e[6],"value"),data:ve(e[7]),accessList:db(e[8],"accessList"),maxFeePerBlobGas:$t(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};o&&(i.blobs=o),X(i.to!=null,`invalid address for transaction type: ${t}`,"data",r),X(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let n=0;n<i.blobVersionedHashes.length;n++)X(Tr(i.blobVersionedHashes[n],32),`invalid blobVersionedHash at index ${n}: must be length 32`,"data",r);return e.length===11||pb(i,e.slice(11)),i}function PW(r,e,t){const o=[It(r.chainId,"chainId"),It(r.nonce,"nonce"),It(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),It(r.maxFeePerGas||0,"maxFeePerGas"),It(r.gasLimit,"gasLimit"),r.to||eI,It(r.value,"value"),r.data,hb(r.accessList||[]),It(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),bW(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(o.push(It(e.yParity,"yParity")),o.push(Cr(e.r)),o.push(Cr(e.s)),t)?wt(["0x03",Da([o,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])]):wt(["0x03",Da(o)])}let oI=class Ci{#e;#t;#r;#n;#o;#i;#a;#f;#d;#h;#p;#g;#l;#c;#s;#u;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:X(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#t;return e==null&&this.type===3?eI:e}set to(e){this.#t=e==null?null:fn(e)}get nonce(){return this.#n}set nonce(e){this.#n=ur(e,"value")}get gasLimit(){return this.#o}set gasLimit(e){this.#o=bt(e)}get gasPrice(){const e=this.#i;return e==null&&(this.type===0||this.type===1)?Xt:e}set gasPrice(e){this.#i=e==null?null:bt(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?Xt:null)}set maxPriorityFeePerGas(e){this.#a=e==null?null:bt(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#f;return e??(this.type===2||this.type===3?Xt:null)}set maxFeePerGas(e){this.#f=e==null?null:bt(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=ve(e)}get value(){return this.#d}set value(e){this.#d=bt(e,"value")}get chainId(){return this.#h}set chainId(e){this.#h=bt(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:St.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:fh(e)}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?Xt:e}set maxFeePerBlobGas(e){this.#l=e==null?null:bt(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#c;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){X(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)X(Tr(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#c=e}get blobs(){return this.#u==null?null:this.#u.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#u=null;return}const t=[],o=[];for(let i=0;i<e.length;i++){const n=e[i];if(rh(n)){je(this.#s,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Ce(n);if(X(s.length<=ap,"blob is too large",`blobs[${i}]`,n),s.length!==ap){const u=new Uint8Array(ap);u.set(s),s=u}const a=this.#s.blobToKzgCommitment(s),c=ve(this.#s.computeBlobKzgProof(s,a));t.push({data:ve(s),commitment:ve(a),proof:c}),o.push(Qm(1,a))}else{const s=ve(n.commitment);t.push({data:ve(n.data),commitment:s,proof:ve(n.proof)}),o.push(Qm(1,s))}}this.#u=t,this.#c=o}get kzg(){return this.#s}set kzg(e){this.#s=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#o=Xt,this.#i=null,this.#a=null,this.#f=null,this.#r="0x",this.#d=Xt,this.#h=Xt,this.#p=null,this.#g=null,this.#l=null,this.#c=null,this.#u=null,this.#s=null}get hash(){return this.signature==null?null:Qe(this.#y(!0,!1))}get unsignedHash(){return Qe(this.unsignedSerialized)}get from(){return this.signature==null?null:Ha(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:cr.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#y(e,t){je(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const o=e?this.signature:null;switch(this.inferType()){case 0:return mW(this,o);case 1:return AW(this,o);case 2:return vW(this,o);case 3:return PW(this,o,t?this.blobs:null)}je(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,o=this.accessList!=null,i=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&je(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),je(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),je(this.type!==0||!o,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return this.type!=null?n.push(this.type):t?n.push(2):e?(n.push(1),o||n.push(0)):o?(n.push(1),n.push(2)):(i&&this.to||(n.push(0),n.push(1),n.push(2)),n.push(3)),n.sort(),n}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ci.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ci;if(typeof e=="string"){const o=Ce(e);if(o[0]>=127)return Ci.from(wW(o));switch(o[0]){case 1:return Ci.from(TW(o));case 2:return Ci.from(xW(o));case 3:return Ci.from(EW(o))}je(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Ci;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=St.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(X(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),X(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(X(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),X(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};function IW(r){return typeof r=="string"&&(r=Yr(r)),Qe(wt([Yr(HS),Yr(String(r.length)),r]))}const iI=new Uint8Array(32);iI.fill(0);const BW=BigInt(-1),sI=BigInt(0),aI=BigInt(1),CW=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function _W(r){const e=Ce(r),t=e.length%32;return t?wt([e,iI.slice(t)]):ve(e)}const SW=Qn(aI,32),WW=Qn(sI,32),ex={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},cp=["name","version","chainId","verifyingContract","salt"];function tx(r){return function(e){return X(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const OW={name:tx("name"),version:tx("version"),chainId:function(r){const e=bt(r,"domain.chainId");return X(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):JE(e)},verifyingContract:function(r){try{return fn(r).toLowerCase()}catch{}X(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=Ce(r,"domain.salt");return X(e.length===32,'invalid domain value "salt"',"domain.salt",r),ve(e)}};function up(r){{const e=r.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",o=parseInt(e[2]);X(o%8===0&&o!==0&&o<=256&&e[2]===String(o),"invalid numeric width","type",r);const i=Ra(CW,t?o-1:o),n=t?(i+aI)*BW:sI;return function(s){const a=bt(s,"value");return X(a>=n&&a<=i,`value out-of-bounds for ${r}`,"value",a),Qn(t?Xy(a,256):a,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return X(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(o){const i=Ce(o);return X(i.length===t,`invalid length for ${r}`,"value",o),_W(o)}}}switch(r){case"address":return function(e){return ki(fn(e),32)};case"bool":return function(e){return e?SW:WW};case"bytes":return function(e){return Qe(e)};case"string":return function(e){return eo(e)}}return null}function rx(r,e){return`${r}(${e.map(({name:t,type:o})=>o+" "+t).join(",")})`}function qf(r){const e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}let nx=class jn{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;const t=new Map,o=new Map,i=new Map,n={};Object.keys(e).forEach(c=>{n[c]=e[c].map(({name:u,type:l})=>{let{base:d,index:h}=qf(l);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:u,type:d+(h||"")}}),t.set(c,new Set),o.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(n);for(const c in n){const u=new Set;for(const l of n[c]){X(!u.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(c)}`,"types",e),u.add(l.name);const d=qf(l.type).base;X(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!up(d)&&(X(o.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),o.get(d).push(c),t.get(c).add(d))}}const s=Array.from(o.keys()).filter(c=>o.get(c).length===0);X(s.length!==0,"missing primary type","types",e),X(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ye(this,{primaryType:s[0]});function a(c,u){X(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const l of t.get(c))if(o.has(l)){a(l,u);for(const d of u)i.get(d).add(l)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of i){const l=Array.from(u);l.sort(),this.#t.set(c,rx(c,n[c])+l.map(d=>rx(d,n[d])).join(""))}}getEncoder(e){let t=this.#r.get(e);return t||(t=this.#n(e),this.#r.set(e,t)),t}#n(e){{const i=up(e);if(i)return i}const t=qf(e).array;if(t){const i=t.prefix,n=this.getEncoder(i);return s=>{X(t.count===-1||t.count===s.length,`array length mismatch; expected length ${t.count}`,"value",s);let a=s.map(n);return this.#t.has(i)&&(a=a.map(Qe)),Qe(wt(a))}}const o=this.types[e];if(o){const i=eo(this.#t.get(e));return n=>{const s=o.map(({name:a,type:c})=>{const u=this.getEncoder(c)(n[a]);return this.#t.has(c)?Qe(u):u});return s.unshift(i),wt(s)}}X(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return X(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Qe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,o){if(up(e))return o(e,t);const i=qf(e).array;if(i)return X(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(s=>this._visit(i.prefix,s,o));const n=this.types[e];if(n)return n.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,t[a],o),s),{});X(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new jn(e)}static getPrimaryType(e){return jn.from(e).primaryType}static hashStruct(e,t,o){return jn.from(t).hashStruct(e,o)}static hashDomain(e){const t=[];for(const o in e){if(e[o]==null)continue;const i=ex[o];X(i,`invalid typed-data domain key: ${JSON.stringify(o)}`,"domain",e),t.push({name:o,type:i})}return t.sort((o,i)=>cp.indexOf(o.name)-cp.indexOf(i.name)),jn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,o){return wt(["0x1901",jn.hashDomain(e),jn.from(t).hash(o)])}static hash(e,t,o){return Qe(jn.encode(e,t,o))}static async resolveNames(e,t,o,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const n={};e.verifyingContract&&!Tr(e.verifyingContract,20)&&(n[e.verifyingContract]="0x");const s=jn.from(t);s.visit(o,(a,c)=>(a==="address"&&!Tr(c,20)&&(n[c]="0x"),c));for(const a in n)n[a]=await i(a);return e.verifyingContract&&n[e.verifyingContract]&&(e.verifyingContract=n[e.verifyingContract]),o=s.visit(o,(a,c)=>a==="address"&&n[c]?n[c]:c),{domain:e,value:o}}static getPayload(e,t,o){jn.hashDomain(e);const i={},n=[];cp.forEach(c=>{const u=e[c];u!=null&&(i[c]=OW[c](u),n.push({name:c,type:ex[c]}))});const s=jn.from(t);t=s.types;const a=Object.assign({},t);return X(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=n,s.encode(o),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(o,(c,u)=>{if(c.match(/^bytes(\d*)/))return ve(Ce(u));if(c.match(/^u?int/))return bt(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return X(typeof u=="string","invalid string","value",u),u}X(!1,"unsupported type","type",c)})}}};function tc(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const RW="external public payable override";tc(RW.split(" "));const cI="constant external internal payable private public pure view override";tc(cI.split(" "));const uI="constructor error event fallback function receive struct";tc(uI.split(" "));const lI="calldata memory storage payable indexed",MW=tc(lI.split(" ")),NW="tuple returns",$W=[uI,lI,NW,cI].join(" "),FW=tc($W.split(" ")),UW={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},kW=new RegExp("^(\\s*)"),DW=new RegExp("^([0-9]+)"),LW=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),zW=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),fI=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");let dI=class Mg{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Mg(this.#t)}reset(){this.#e=0}#r(e=0,t=0){return new Mg(this.#t.slice(e,t).map(o=>Object.freeze(Object.assign({},o,{match:o.match-e,linkBack:o.linkBack-e,linkNext:o.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const o=this.peek().linkNext;t.push(this.#r(this.#e+1,o)),this.#e=o}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const o=this.#t[t];e.push(`${o.type}:${o.text}`)}return`<TokenString ${e.join(" ")}>`}};function qW(r){const e=[],t=s=>{const a=n<r.length?JSON.stringify(r[n]):"$EOI";throw new Error(`invalid token ${a} at ${n}: ${s}`)};let o=[],i=[],n=0;for(;n<r.length;){let s=r.substring(n),a=s.match(kW);a&&(n+=a[1].length,s=r.substring(n));const c={depth:o.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:n,value:-1};e.push(c);let u=UW[s[0]]||"";if(u){if(c.type=u,c.text=s[0],n++,u==="OPEN_PAREN")o.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")o.length===0&&t("no matching open bracket"),c.match=o.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;l=d+l,e[e.length-1].value=ur(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=s.match(LW),a){if(c.text=a[1],n+=c.text.length,FW.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(fI)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(DW),a){c.text=a[1],c.type="NUMBER",n+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${n}`)}return new dI(e.map(s=>Object.freeze(s)))}function ox(r,e){const t=new Set;for(;;){const o=r.peekType("KEYWORD");if(o==null||e&&!e.has(o))break;if(r.pop(),t.has(o))throw new Error(`duplicate keywords: ${JSON.stringify(o)}`);t.add(o)}return Object.freeze(t)}const jW=new RegExp(/^(.*)\[([0-9]*)\]$/);function ix(r){const e=r.match(fI);if(X(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);X(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);X(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const sa={},sx=Symbol.for("_ethers_internal"),ax="_ParamTypeInternal";let lp=class Vn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,o,i,n,s,a,c){if(ji(e,sa,"ParamType"),Object.defineProperty(this,sx,{value:ax}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Ye(this,{name:t,type:o,baseType:i,indexed:n,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const o=this.name||"";if(this.isArray()){const n=JSON.parse(this.arrayChildren.format("json"));return n.name=o,n.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(n)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:o};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(n=>JSON.parse(n.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(o=>o.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this;return e.map(i=>o.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const o=this;return e.map((i,n)=>o.components[n].walk(i,t))}return t(this.type,e)}#e(e,t,o,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=t.slice();a.forEach((c,u)=>{s.#e(e,c,o,l=>{a[u]=l})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{s[u].#e(e,c,o,l=>{a[u]=l})}),i(a);return}const n=o(this.type,t);n.then?e.push(async function(){i(await n)}()):i(n)}async walkAsync(e,t){const o=[],i=[e];return this.#e(o,e,t,n=>{i[0]=n}),o.length&&await Promise.all(o),i[0]}static from(e,t){if(Vn.isParamType(e))return e;if(typeof e=="string")try{return Vn.from(qW(e),t)}catch{X(!1,"invalid param type","obj",e)}else if(e instanceof dI){let a="",c="",u=null;ox(e,tc(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(g=>Vn.from(g)),a=`tuple(${u.map(g=>g.format()).join(",")})`):(a=ix(e.popType("TYPE")),c=a);let l=null,d=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();l=new Vn(sa,"",a,c,null,u,d,l),d=g.value,a+=g.text,c="array",u=null}let h=null;if(ox(e,MW).has("indexed")){if(!t)throw new Error("");h=!0}const y=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Vn(sa,y,a,c,h,u,d,l)}const o=e.name;X(!o||typeof o=="string"&&o.match(zW),"invalid name","obj.name",o);let i=e.indexed;i!=null&&(X(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let n=e.type,s=n.match(jW);if(s){const a=parseInt(s[2]||"-1"),c=Vn.from({type:s[1],components:e.components});return new Vn(sa,o||"",n,"array",i,null,a,c)}if(n==="tuple"||n.startsWith("tuple(")||n.startsWith("(")){const a=e.components!=null?e.components.map(u=>Vn.from(u)):null;return new Vn(sa,o||"",n,"tuple",i,a,null,null)}return n=ix(e.type),new Vn(sa,o||"",n,n,i,null,null,null)}static isParamType(e){return e&&e[sx]===ax}};const to=new Map;to.set(0,"GENERIC_PANIC");to.set(1,"ASSERT_FALSE");to.set(17,"OVERFLOW");to.set(18,"DIVIDE_BY_ZERO");to.set(33,"ENUM_RANGE_ERROR");to.set(34,"BAD_STORAGE_DATA");to.set(49,"STACK_UNDERFLOW");to.set(50,"ARRAY_RANGE_ERROR");to.set(65,"OUT_OF_MEMORY");to.set(81,"UNINITIALIZED_FUNCTION_CALL");const VW=new RegExp(/^bytes([0-9]*)$/),HW=new RegExp(/^(u?int)([0-9]*)$/);let fp=null,cx=1024;function GW(r,e,t,o){let i="missing revert data",n=null;const s=null;let a=null;if(t){i="execution reverted";const u=Ce(t);if(t=ve(t),u.length===0)i+=" (no data present; likely require(false) occurred",n="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ve(u.slice(0,4))==="0x08c379a0")try{n=o.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[n]},i+=`: ${JSON.stringify(n)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ve(u.slice(0,4))==="0x4e487b71")try{const l=Number(o.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[l]},n=`Panic due to ${to.get(l)||"UNKNOWN"}(${l})`,i+=`: ${n}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?fn(e.to):null,data:e.data||"0x"};return e.from&&(c.from=fn(e.from)),GE(i,"CALL_EXCEPTION",{action:r,data:t,reason:n,transaction:c,invocation:s,revert:a})}class oi{#e(e){if(e.isArray())return new tW(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new zf(e.components.map(o=>this.#e(o)),e.name);switch(e.baseType){case"address":return new QS(e.name);case"bool":return new rW(e.name);case"string":return new fW(e.name);case"bytes":return new nW(e.name);case"":return new sW(e.name)}let t=e.type.match(HW);if(t){let o=parseInt(t[2]||"256");return X(o!==0&&o<=256&&o%8===0,"invalid "+t[1]+" bit length","param",e),new lW(o/8,t[1]==="int",e.name)}if(t=e.type.match(VW),t){let o=parseInt(t[1]);return X(o!==0&&o<=32,"invalid bytes length","param",e),new oW(o,e.name)}X(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(i=>this.#e(lp.from(i)));return new zf(t,"_").defaultValue()}encode(e,t){KE(t.length,e.length,"types/values length mismatch");const o=e.map(s=>this.#e(lp.from(s))),i=new zf(o,"_"),n=new Cg;return i.encode(n,t),n.data}decode(e,t,o){const i=e.map(s=>this.#e(lp.from(s)));return new zf(i,"_").decode(new Qy(t,o,cx))}static _setDefaultMaxInflation(e){X(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),cx=e}static defaultAbiCoder(){return fp==null&&(fp=new oi),fp}static getBuiltinCallException(e,t,o){return GW(e,t,o,oi.defaultAbiCoder())}}BigInt(0);function hI(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=ve(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in r)||r[i]==null||(e[i]=bt(r[i],`request.${i}`));const o="type,nonce".split(/,/);for(const i of o)!(i in r)||r[i]==null||(e[i]=ur(r[i],`request.${i}`));return r.accessList&&(e.accessList=fh(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(i=>rh(i)?ve(i):Object.assign({},i))),e}function aa(r,e){if(r.provider)return r.provider;je(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function ux(r,e){let t=hI(e);if(t.to!=null&&(t.to=Sd(t.to,r)),t.from!=null){const o=t.from;t.from=Promise.all([r.getAddress(),Sd(o,r)]).then(([i,n])=>(X(i.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),i))}else t.from=r.getAddress();return await Jy(t)}class pI{provider;constructor(e){Ye(this,{provider:e||null})}async getNonce(e){return aa(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await ux(this,e)}async populateTransaction(e){const t=aa(this,"populateTransaction"),o=await ux(this,e);o.nonce==null&&(o.nonce=await this.getNonce("pending")),o.gasLimit==null&&(o.gasLimit=await this.estimateGas(o));const i=await this.provider.getNetwork();if(o.chainId!=null){const s=bt(o.chainId);X(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else o.chainId=i.chainId;const n=o.maxFeePerGas!=null||o.maxPriorityFeePerGas!=null;if(o.gasPrice!=null&&(o.type===2||n)?X(!1,"eip-1559 transaction do not support gasPrice","tx",e):(o.type===0||o.type===1)&&n&&X(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(o.type===2||o.type==null)&&o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)o.type=2;else if(o.type===0||o.type===1){const s=await t.getFeeData();je(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),o.gasPrice==null&&(o.gasPrice=s.gasPrice)}else{const s=await t.getFeeData();if(o.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(o.type=2,o.gasPrice!=null){const a=o.gasPrice;delete o.gasPrice,o.maxFeePerGas=a,o.maxPriorityFeePerGas=a}else o.maxFeePerGas==null&&(o.maxFeePerGas=s.maxFeePerGas),o.maxPriorityFeePerGas==null&&(o.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(je(!n,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),o.gasPrice==null&&(o.gasPrice=s.gasPrice),o.type=0):je(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(o.type===2||o.type===3)&&(o.maxFeePerGas==null&&(o.maxFeePerGas=s.maxFeePerGas),o.maxPriorityFeePerGas==null&&(o.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await Jy(o)}async estimateGas(e){return aa(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return aa(this,"call").call(await this.populateCall(e))}async resolveName(e){return await aa(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=aa(this,"sendTransaction"),o=await this.populateTransaction(e);delete o.from;const i=oI.from(o);return await t.broadcastTransaction(await this.signTransaction(i))}}class gb extends pI{address;constructor(e,t){super(t),Ye(this,{address:e})}async getAddress(){return this.address}connect(e){return new gb(this.address,e)}#e(e,t){je(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,t,o){this.#e("typed-data","signTypedData")}}class yb extends pI{address;#e;constructor(e,t){super(t),X(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;const o=dh(this.signingKey.publicKey);Ye(this,{address:o})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new yb(this.#e,e)}async signTransaction(e){e=hI(e);const{to:t,from:o}=await Jy({to:e.to?Sd(e.to,this.provider):void 0,from:e.from?Sd(e.from,this.provider):void 0});t!=null&&(e.to=t),o!=null&&(e.from=o),e.from!=null&&(X(fn(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const i=oI.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(IW(e)).serialized}async signTypedData(e,t,o){const i=await nx.resolveNames(e,t,o,async n=>{je(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:n}});const s=await this.provider.resolveName(n);return je(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:n}),s});return this.signingKey.sign(nx.hash(i.domain,t,i.value)).serialized}}const Wd=" !#$%&'()*+,-./<=>?@[]^_`{|}~",KW=/^[a-z]*$/i;function lx(r,e){let t=97;return r.reduce((o,i)=>(i===e?t++:i.match(KW)?o.push(String.fromCharCode(t)+i):(t=97,o.push(i)),o),[])}function ZW(r,e){for(let i=Wd.length-1;i>=0;i--)r=r.split(Wd[i]).join(e.substring(2*i,2*i+2));const t=[],o=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,n,s,a)=>{if(s)for(let c=parseInt(s);c>=0;c--)t.push(";");else t.push(n.toLowerCase());return""});if(o)throw new Error(`leftovers: ${JSON.stringify(o)}`);return lx(lx(t,";"),":")}function YW(r){return X(r[0]==="0","unsupported auwl data","data",r),ZW(r.substring(1+2*Wd.length),r.substring(1,1+2*Wd.length))}class gI{locale;constructor(e){Ye(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class JW extends gI{#e;#t;constructor(e,t,o){super(e),this.#e=t,this.#t=o,this.#r=null}get _data(){return this.#e}_decodeWords(){return YW(this.#e)}#r;#n(){if(this.#r==null){const e=this._decodeWords();if(eo(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){const t=this.#n();return X(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#n().indexOf(e)}}const XW="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",QW="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let dp=null;class Li extends JW{constructor(){super("en",XW,QW)}static wordlist(){return dp==null&&(dp=new Li),dp}}function yI(r){return(1<<r)-1<<8-r&255}function eO(r){return(1<<r)-1&255}function hp(r,e){ZE("NFKD"),e==null&&(e=Li.wordlist());const t=e.split(r);X(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const o=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let u=0;u<t.length;u++){let l=e.getWordIndex(t[u].normalize("NFKD"));X(l>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)l&1<<10-d&&(o[i>>3]|=1<<7-i%8),i++}const n=32*t.length/3,s=t.length/3,a=yI(s),c=Ce(Ar(o.slice(0,n/8)))[0]&a;return X(c===(o[o.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ve(o.slice(0,n/8))}function pp(r,e){X(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Li.wordlist());const t=[0];let o=11;for(let s=0;s<r.length;s++)o>8?(t[t.length-1]<<=8,t[t.length-1]|=r[s],o-=8):(t[t.length-1]<<=o,t[t.length-1]|=r[s]>>8-o,t.push(r[s]&eO(8-o)),o+=3);const i=r.length/4,n=parseInt(Ar(r).substring(2,4),16)&yI(i);return t[t.length-1]<<=i,t[t.length-1]|=n>>8-i,e.join(t.map(s=>e.getWord(s)))}const gp={};class zi{phrase;password;wordlist;entropy;constructor(e,t,o,i,n){i==null&&(i=""),n==null&&(n=Li.wordlist()),ji(e,gp,"Mnemonic"),Ye(this,{phrase:o,password:i,wordlist:n,entropy:t})}computeSeed(){const e=Yr("mnemonic"+this.password,"NFKD");return pu(Yr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,o){const i=hp(e,o);return e=pp(Ce(i),o),new zi(gp,i,e,t,o)}static fromEntropy(e,t,o){const i=Ce(e,"entropy"),n=pp(i,o);return new zi(gp,ve(i),n,t,o)}static entropyToPhrase(e,t){const o=Ce(e,"entropy");return pp(o,t)}static phraseToEntropy(e,t){return hp(e,t)}static isValidMnemonic(e,t){try{return hp(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var nr=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},yp=function(r,e,t,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},gd,Tn,yo;const tO={16:10,24:12,32:14},rO=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],gn=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],jf=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],nO=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],oO=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],iO=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],sO=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],aO=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],cO=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],uO=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],lO=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],fO=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],dO=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],hO=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],pO=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function bp(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class bb{get key(){return nr(this,gd,"f").slice()}constructor(e){if(gd.set(this,void 0),Tn.set(this,void 0),yo.set(this,void 0),!(this instanceof bb))throw Error("AES must be instanitated with `new`");yp(this,gd,new Uint8Array(e),"f");const t=tO[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");yp(this,yo,[],"f"),yp(this,Tn,[],"f");for(let l=0;l<=t;l++)nr(this,yo,"f").push([0,0,0,0]),nr(this,Tn,"f").push([0,0,0,0]);const o=(t+1)*4,i=this.key.length/4,n=bp(this.key);let s;for(let l=0;l<i;l++)s=l>>2,nr(this,yo,"f")[s][l%4]=n[l],nr(this,Tn,"f")[t-s][l%4]=n[l];let a=0,c=i,u;for(;c<o;){if(u=n[i-1],n[0]^=gn[u>>16&255]<<24^gn[u>>8&255]<<16^gn[u&255]<<8^gn[u>>24&255]^rO[a]<<24,a+=1,i!=8)for(let b=1;b<i;b++)n[b]^=n[b-1];else{for(let b=1;b<i/2;b++)n[b]^=n[b-1];u=n[i/2-1],n[i/2]^=gn[u&255]^gn[u>>8&255]<<8^gn[u>>16&255]<<16^gn[u>>24&255]<<24;for(let b=i/2+1;b<i;b++)n[b]^=n[b-1]}let l=0,d,h;for(;l<i&&c<o;)d=c>>2,h=c%4,nr(this,yo,"f")[d][h]=n[l],nr(this,Tn,"f")[t-d][h]=n[l++],c++}for(let l=1;l<t;l++)for(let d=0;d<4;d++)u=nr(this,Tn,"f")[l][d],nr(this,Tn,"f")[l][d]=fO[u>>24&255]^dO[u>>16&255]^hO[u>>8&255]^pO[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=nr(this,yo,"f").length-1,o=[0,0,0,0];let i=bp(e);for(let a=0;a<4;a++)i[a]^=nr(this,yo,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)o[c]=nO[i[c]>>24&255]^oO[i[(c+1)%4]>>16&255]^iO[i[(c+2)%4]>>8&255]^sO[i[(c+3)%4]&255]^nr(this,yo,"f")[a][c];i=o.slice()}const n=new Uint8Array(16);let s=0;for(let a=0;a<4;a++)s=nr(this,yo,"f")[t][a],n[4*a]=(gn[i[a]>>24&255]^s>>24)&255,n[4*a+1]=(gn[i[(a+1)%4]>>16&255]^s>>16)&255,n[4*a+2]=(gn[i[(a+2)%4]>>8&255]^s>>8)&255,n[4*a+3]=(gn[i[(a+3)%4]&255]^s)&255;return n}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=nr(this,Tn,"f").length-1,o=[0,0,0,0];let i=bp(e);for(let a=0;a<4;a++)i[a]^=nr(this,Tn,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)o[c]=aO[i[c]>>24&255]^cO[i[(c+3)%4]>>16&255]^uO[i[(c+2)%4]>>8&255]^lO[i[(c+1)%4]&255]^nr(this,Tn,"f")[a][c];i=o.slice()}const n=new Uint8Array(16);let s=0;for(let a=0;a<4;a++)s=nr(this,Tn,"f")[t][a],n[4*a]=(jf[i[a]>>24&255]^s>>24)&255,n[4*a+1]=(jf[i[(a+3)%4]>>16&255]^s>>16)&255,n[4*a+2]=(jf[i[(a+2)%4]>>8&255]^s>>8)&255,n[4*a+3]=(jf[i[(a+1)%4]&255]^s)&255;return n}}gd=new WeakMap,Tn=new WeakMap,yo=new WeakMap;class gO{constructor(e,t,o){if(o&&!(this instanceof o))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new bb(t)},name:{enumerable:!0,value:e}})}}var ca=function(r,e,t,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},yn=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},Fc,is,An;class Od extends gO{constructor(e,t){super("CTR",e,Od),Fc.set(this,void 0),is.set(this,void 0),An.set(this,void 0),ca(this,An,new Uint8Array(16),"f"),yn(this,An,"f").fill(0),ca(this,Fc,yn(this,An,"f"),"f"),ca(this,is,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(yn(this,An,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)yn(this,An,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");yn(this,An,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(yn(this,An,"f")[e]===255)yn(this,An,"f")[e]=0;else{yn(this,An,"f")[e]++;break}}encrypt(e){var t,o;const i=new Uint8Array(e);for(let n=0;n<i.length;n++)yn(this,is,"f")===16&&(ca(this,Fc,this.aes.encrypt(yn(this,An,"f")),"f"),ca(this,is,0,"f"),this.increment()),i[n]^=yn(this,Fc,"f")[ca(this,is,(o=yn(this,is,"f"),t=o++,o),"f"),t];return i}decrypt(e){return this.encrypt(e)}}Fc=new WeakMap,is=new WeakMap,An=new WeakMap;function vc(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function bI(r){return typeof r=="string"?Yr(r,"NFKC"):xr(r)}const yO="m/44'/60'/0'/0/0";function wI(r){const e=r.salt!=null?Ce(r.salt,"options.salt"):ei(32);let t=1<<17,o=8,i=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(o=r.scrypt.r),r.scrypt.p&&(i=r.scrypt.p)),X(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),X(typeof o=="number"&&o>0&&Number.isSafeInteger(o),"invalid scrypt r parameter","options.r",o),X(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r:o,p:i}}function mI(r,e,t,o){const i=Ce(t.privateKey,"privateKey"),n=o.iv!=null?Ce(o.iv,"options.iv"):ei(16);X(n.length===16,"invalid options.iv length","options.iv",o.iv);const s=o.uuid!=null?Ce(o.uuid,"options.uuid"):ei(16);X(s.length===16,"invalid options.uuid length","options.uuid",o.iv);const a=r.slice(0,16),c=r.slice(16,32),u=new Od(a,n),l=Ce(u.encrypt(i)),d=Qe(wt([c,l])),h={address:t.address.substring(2).toLowerCase(),id:c_(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ve(n).substring(2)},ciphertext:ve(l).substring(2),kdf:"scrypt",kdfparams:{salt:ve(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(t.mnemonic){const b=o.client!=null?o.client:`ethers/${HE}`,y=t.mnemonic.path||yO,g=t.mnemonic.locale||"en",w=r.slice(32,64),I=Ce(t.mnemonic.entropy,"account.mnemonic.entropy"),P=ei(16),B=new Od(w,P),M=Ce(B.encrypt(I)),O=new Date,S="UTC--"+(O.getUTCFullYear()+"-"+vc(O.getUTCMonth()+1,2)+"-"+vc(O.getUTCDate(),2)+"T"+vc(O.getUTCHours(),2)+"-"+vc(O.getUTCMinutes(),2)+"-"+vc(O.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:b,gethFilename:S,path:y,locale:g,mnemonicCounter:ve(P).substring(2),mnemonicCiphertext:ve(M).substring(2),version:"0.1"}}return JSON.stringify(h)}function bO(r,e,t){t==null&&(t={});const o=bI(e),i=wI(t),n=yu(o,i.salt,i.N,i.r,i.p,64);return mI(Ce(n),i,r,t)}async function wO(r,e,t){t==null&&(t={});const o=bI(e),i=wI(t),n=await gu(o,i.salt,i.N,i.r,i.p,64,t.progressCallback);return mI(Ce(n),i,r,t)}const wp="m/44'/60'/0'/0/0",mO=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Fi=2147483648,xO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vO="0123456789abcdef";function Rd(r,e){let t="";for(;r;)t=vO[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Ng(r){const e=Ce(r),t=Ho(Ar(Ar(e)),0,4),o=wt([e,t]);return e_(o)}const xo={};function xI(r,e,t,o){const i=new Uint8Array(37);r&Fi?(je(o!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Ce(o),1)):i.set(Ce(t));for(let s=24;s>=0;s-=8)i[33+(s>>3)]=r>>24-s&255;const n=Ce(Di("sha512",e,i));return{IL:n.slice(0,32),IR:n.slice(32)}}function vI(r,e){const t=e.split("/");X(t.length>0,"invalid path","path",e),t[0]==="m"&&(X(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let o=r;for(let i=0;i<t.length;i++){const n=t[i];if(n.match(/^[0-9]+'$/)){const s=parseInt(n.substring(0,n.length-1));X(s<Fi,"invalid path index",`path[${i}]`,n),o=o.deriveChild(Fi+s)}else if(n.match(/^[0-9]+$/)){const s=parseInt(n);X(s<Fi,"invalid path index",`path[${i}]`,n),o=o.deriveChild(s)}else X(!1,"invalid path component",`path[${i}]`,n)}return o}class Bn extends yb{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,o,i,n,s,a,c,u){super(t,u),ji(e,xo,"HDNodeWallet"),Ye(this,{publicKey:t.compressedPublicKey});const l=Ho(ec(Ar(this.publicKey)),0,4);Ye(this,{parentFingerprint:o,fingerprint:l,chainCode:i,path:n,index:s,depth:a}),Ye(this,{mnemonic:c})}connect(e){return new Bn(xo,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&t.wordlist.locale==="en"&&t.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await wO(this.#e(),e,{progressCallback:t})}encryptSync(e){return bO(this.#e(),e)}get extendedKey(){return je(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ng(wt(["0x0488ADE4",Rd(this.depth,1),this.parentFingerprint,Rd(this.index,4),this.chainCode,wt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new eu(xo,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=ur(e,"index");X(t<=4294967295,"invalid index","index",t);let o=this.path;o&&(o+="/"+(t&~Fi),t&Fi&&(o+="'"));const{IR:i,IL:n}=xI(t,this.chainCode,this.publicKey,this.privateKey),s=new cr(Qn((ih(n)+BigInt(this.privateKey))%xO,32));return new Bn(xo,s,this.fingerprint,ve(i),o,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return vI(this,e)}static#t(e,t){X(rh(e),"invalid seed","seed","[REDACTED]");const o=Ce(e,"seed");X(o.length>=16&&o.length<=64,"invalid seed","seed","[REDACTED]");const i=Ce(Di("sha512",mO,o)),n=new cr(ve(i.slice(0,32)));return new Bn(xo,n,"0x00000000",ve(i.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=Cr(t_(e));X(t.length===82||Ng(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const o=t[4],i=ve(t.slice(5,9)),n=parseInt(ve(t.slice(9,13)).substring(2),16),s=ve(t.slice(13,45)),a=t.slice(45,78);switch(ve(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=ve(a);return new eu(xo,dh(c),c,i,s,null,n,o,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Bn(xo,new cr(a.slice(1)),i,s,null,n,o,null,null)}X(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,o){e==null&&(e=""),t==null&&(t=wp),o==null&&(o=Li.wordlist());const i=zi.fromEntropy(ei(16),e,o);return Bn.#t(i.computeSeed(),i).derivePath(t)}static fromMnemonic(e,t){return t||(t=wp),Bn.#t(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,o,i){t==null&&(t=""),o==null&&(o=wp),i==null&&(i=Li.wordlist());const n=zi.fromPhrase(e,t,i);return Bn.#t(n.computeSeed(),n).derivePath(o)}static fromSeed(e){return Bn.#t(e,null)}}class eu extends gb{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,o,i,n,s,a,c,u){super(t,u),ji(e,xo,"HDNodeVoidWallet"),Ye(this,{publicKey:o});const l=Ho(ec(Ar(o)),0,4);Ye(this,{publicKey:o,fingerprint:l,parentFingerprint:i,chainCode:n,path:s,index:a,depth:c})}connect(e){return new eu(xo,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return je(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ng(wt(["0x0488B21E",Rd(this.depth,1),this.parentFingerprint,Rd(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){const t=ur(e,"index");X(t<=4294967295,"invalid index","index",t);let o=this.path;o&&(o+="/"+(t&~Fi),t&Fi&&(o+="'"));const{IR:i,IL:n}=xI(t,this.chainCode,this.publicKey,null),s=cr.addPoints(n,this.publicKey,!0),a=dh(s);return new eu(xo,a,s,this.fingerprint,ve(i),o,t,this.depth+1,this.provider)}derivePath(e){return vI(this,e)}}const TO={en:Li.wordlist()};var $g;function Sr(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const TI="constant external internal payable private public pure view",AO=Sr(TI.split(" ")),AI="constructor error event fallback function receive struct",EI=Sr(AI.split(" ")),PI="calldata memory storage payable indexed",EO=Sr(PI.split(" ")),PO="tuple returns",IO=[AI,PI,PO,TI].join(" "),BO=Sr(IO.split(" ")),CO={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},_O=new RegExp("^(\\s*)"),SO=new RegExp("^([0-9]+)"),WO=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),II=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),BI=new RegExp("^(trcToken|address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Wo{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new $g(this.#t)}reset(){this.#e=0}#r(e=0,t=0){return new $g(this.#t.slice(e,t).map(o=>Object.freeze(Object.assign({},o,{match:o.match-e,linkBack:o.linkBack-e,linkNext:o.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const o=this.peek().linkNext;t.push(this.#r(this.#e+1,o)),this.#e=o}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const o=this.#t[t];e.push(`${o.type}:${o.text}`)}return`<TokenString ${e.join(" ")}>`}}$g=Wo;function Vi(r){const e=[],t=s=>{const a=n<r.length?JSON.stringify(r[n]):"$EOI";throw new Error(`invalid token ${a} at ${n}: ${s}`)},o=[],i=[];let n=0;for(;n<r.length;){let s=r.substring(n),a=s.match(_O);a&&(n+=a[1].length,s=r.substring(n));const c={depth:o.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:n,value:-1};e.push(c);const u=CO[s[0]]||"";if(u){if(c.type=u,c.text=s[0],n++,u==="OPEN_PAREN")o.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")o.length===0&&t("no matching open bracket"),c.match=o.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;l=d+l,e[e.length-1].value=ur(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=s.match(WO),a){if(c.text=a[1],n+=c.text.length,BO.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(BI)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(SO),a){c.text=a[1],c.type="NUMBER",n+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${n}`)}return new Wo(e.map(s=>Object.freeze(s)))}function fx(r,e){const t=[];for(const o in e.keys())r.has(o)&&t.push(o);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function ph(r,e){if(e.peekKeyword(EI)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function ii(r,e){const t=new Set;for(;;){const o=r.peekType("KEYWORD");if(o==null||e&&!e.has(o))break;if(r.pop(),t.has(o))throw new Error(`duplicate keywords: ${JSON.stringify(o)}`);t.add(o)}return Object.freeze(t)}function CI(r){const e=ii(r,AO);return fx(e,Sr("constant payable nonpayable".split(" "))),fx(e,Sr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ti(r,e){return r.popParams().map(t=>_t.from(t,e))}function _I(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return bt(r.pop().text);throw new Error("invalid gas")}return null}function Is(r){if(r.length)throw new Error(`unexpected tokens: ${r.toString()}`)}const OO=new RegExp(/^(.*)\[([0-9]*)\]$/);function dx(r){const e=r.match(BI);if(X(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);X(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);X(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const Wt={},Qr=Symbol.for("_ethers_internal"),hx="_ParamTypeInternal",px="_ErrorInternal",gx="_EventInternal",yx="_ConstructorInternal",bx="_FallbackInternal",wx="_FunctionInternal",mx="_StructInternal";class _t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,o,i,n,s,a,c){if(ji(e,Wt,"ParamType"),Object.defineProperty(this,Qr,{value:hx}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Ye(this,{name:t,type:o,baseType:i,indexed:n,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const o={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(o.indexed=this.indexed),this.isTuple()&&(o.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(o)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(e!=="sighash"&&(t+=this.type),t+="("+this.components.map(o=>o.format(e)).join(e==="full"?", ":",")+")"):t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");return e.map(o=>this.arrayChildren?.walk(o,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");return e.map((o,i)=>this.components?.[i].walk(o,t))}return t(this.type,e)}#e(e,t,o,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=t.slice();a.forEach((c,u)=>{s.#e(e,c,o,l=>{a[u]=l})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{s[u].#e(e,c,o,l=>{a[u]=l})}),i(a);return}const n=o(this.type,t);n.then?e.push(async function(){i(await n)}()):i(n)}async walkAsync(e,t){const o=[],i=[e];return this.#e(o,e,t,n=>{i[0]=n}),o.length&&await Promise.all(o),i[0]}static from(e,t){if(_t.isParamType(e))return e;if(typeof e=="string")return _t.from(Vi(e),t);if(e instanceof Wo){let a="",c="",u=null;ii(e,Sr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(g=>_t.from(g)),a=`tuple(${u.map(g=>g.format()).join(",")})`):(a=dx(e.popType("TYPE")),c=a);let l=null,d=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();l=new _t(Wt,"",a,c,null,u,d,l),d=g.value,a+=g.text,c="array",u=null}let h=null;if(ii(e,EO).has("indexed")){if(!t)throw new Error("");h=!0}const y=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new _t(Wt,y,a,c,h,u,d,l)}const o=e.name;X(!o||typeof o=="string"&&o.match(II),"invalid name","obj.name",o);let i=e.indexed;i!=null&&(X(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let n=e.type;const s=n.match(OO);if(s){const a=parseInt(s[2]||"-1"),c=_t.from({type:s[1],components:e.components});return new _t(Wt,o||"",n,"array",i,null,a,c)}if(n==="tuple"||n.startsWith("tuple(")||n.startsWith("(")){const a=e.components!=null?e.components.map(u=>_t.from(u)):null;return new _t(Wt,o||"",n,"tuple",i,a,null,null)}return n=dx(e.type),new _t(Wt,o||"",n,n,i,null,null,null)}static isParamType(e){return e&&e[Qr]===hx}}class Bs{type;inputs;constructor(e,t,o){ji(e,Wt,"Fragment"),o=Object.freeze(o.slice()),Ye(this,{type:t,inputs:o})}static from(e){if(typeof e=="string"){try{Bs.from(JSON.parse(e))}catch{}return Bs.from(Vi(e))}if(e instanceof Wo)switch(e.peekKeyword(EI)){case"constructor":return Xo.from(e);case"error":return Kr.from(e);case"event":return Po.from(e);case"fallback":case"receive":return Go.from(e);case"function":return Io.from(e);case"struct":return As.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Xo.from(e);case"error":return Kr.from(e);case"event":return Po.from(e);case"fallback":case"receive":return Go.from(e);case"function":return Io.from(e);case"struct":return As.from(e)}je(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}X(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Xo.isFragment(e)}static isError(e){return Kr.isFragment(e)}static isEvent(e){return Po.isFragment(e)}static isFunction(e){return Io.isFragment(e)}static isStruct(e){return As.isFragment(e)}}class gh extends Bs{name;constructor(e,t,o,i){super(e,t,i),X(typeof o=="string"&&o.match(II),"invalid identifier","name",o),i=Object.freeze(i.slice()),Ye(this,{name:o})}}function tu(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class Kr extends gh{constructor(e,t,o){super(e,"error",t,o),Object.defineProperty(this,Qr,{value:px})}get selector(){return eo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(o=>JSON.parse(o.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+tu(e,this.inputs)),t.join(" ")}static from(e){if(Kr.isFragment(e))return e;if(typeof e=="string")return Kr.from(Vi(e));if(e instanceof Wo){const t=ph("error",e),o=ti(e);return Is(e),new Kr(Wt,t,o)}return new Kr(Wt,e.name,e.inputs?e.inputs.map(_t.from):[])}static isFragment(e){return e&&e[Qr]===px}}class Po extends gh{anonymous;constructor(e,t,o,i){super(e,"event",t,o),Object.defineProperty(this,Qr,{value:gx}),Ye(this,{anonymous:i})}get topicHash(){return eo(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(o=>JSON.parse(o.format(e)))});const t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+tu(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(i=>_t.from(i)),new Po(Wt,e,t,!1).topicHash}static from(e){if(Po.isFragment(e))return e;if(typeof e=="string")return Po.from(Vi(e));if(e instanceof Wo){const t=ph("event",e),o=ti(e,!0),i=!!ii(e,Sr(["anonymous"])).has("anonymous");return Is(e),new Po(Wt,t,o,i)}return new Po(Wt,e.name,e.inputs?e.inputs.map(t=>_t.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Qr]===gx}}class Xo extends Bs{payable;gas;constructor(e,t,o,i,n){super(e,t,o),Object.defineProperty(this,Qr,{value:yx}),Ye(this,{payable:i,gas:n})}format(e){if(je(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(o=>JSON.parse(o.format(e)))});const t=[`constructor${tu(e,this.inputs)}`];return t.push(this.payable?"payable":"nonpayable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Xo.isFragment(e))return e;if(typeof e=="string")return Xo.from(Vi(e));if(e instanceof Wo){ii(e,Sr(["constructor"]));const t=ti(e),o=!!ii(e,Sr(["payable"])).has("payable"),i=_I(e);return Is(e),new Xo(Wt,"constructor",t,o,i)}return new Xo(Wt,"constructor",e.inputs?e.inputs.map(_t.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Qr]===yx}}class Go extends Bs{payable;constructor(e,t,o){super(e,"fallback",t),Object.defineProperty(this,Qr,{value:bx}),Ye(this,{payable:o})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const o=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:o})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Go.isFragment(e))return e;if(typeof e=="string")return Go.from(Vi(e));if(e instanceof Wo){const t=e.toString(),o=e.peekKeyword(Sr(["fallback","receive"]));if(X(o,"type must be fallback or receive","obj",t),e.popKeyword(Sr(["fallback","receive"]))==="receive"){const a=ti(e);return X(a.length===0,"receive cannot have arguments","obj.inputs",a),ii(e,Sr(["payable"])),Is(e),new Go(Wt,[],!0)}let n=ti(e);n.length?X(n.length===1&&n[0].type==="bytes","invalid fallback inputs","obj.inputs",n.map(a=>a.format("minimal")).join(", ")):n=[_t.from("bytes")];const s=CI(e);if(X(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),ii(e,Sr(["returns"])).has("returns")){const a=ti(e);X(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return Is(e),new Go(Wt,n,s==="payable")}if(e.type==="receive")return new Go(Wt,[],!0);if(e.type==="fallback"){const t=[_t.from("bytes")],o=e.stateMutability==="payable";return new Go(Wt,t,o)}X(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Qr]===bx}}class Io extends gh{constant;outputs;stateMutability;payable;gas;constructor(e,t,o,i,n,s){super(e,"function",t,i),Object.defineProperty(this,Qr,{value:wx}),n=Object.freeze(n.slice()),Ye(this,{constant:o==="view"||o==="pure",gas:s,outputs:n,payable:o==="payable",stateMutability:o})}get selector(){return eo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(o=>JSON.parse(o.format(e))),outputs:this.outputs.map(o=>JSON.parse(o.format(e)))});const t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+tu(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(tu(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(i=>_t.from(i)),new Io(Wt,e,"view",t,[],null).selector}static from(e){if(Io.isFragment(e))return e;if(typeof e=="string")return Io.from(Vi(e));if(e instanceof Wo){const o=ph("function",e),i=ti(e),n=CI(e);let s=[];ii(e,Sr(["returns"])).has("returns")&&(s=ti(e));const a=_I(e);return Is(e),new Io(Wt,o,n,i,s,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new Io(Wt,e.name,t,e.inputs?e.inputs.map(_t.from):[],e.outputs?e.outputs.map(_t.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Qr]===wx}}class As extends gh{constructor(e,t,o){super(e,"struct",t,o),Object.defineProperty(this,Qr,{value:mx})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")return As.from(Vi(e));if(e instanceof Wo){const t=ph("struct",e),o=ti(e);return Is(e),new As(Wt,t,o)}return new As(Wt,e.name,e.inputs?e.inputs.map(_t.from):[])}static isFragment(e){return e&&e[Qr]===mx}}class RO{fragment;name;signature;topic;args;constructor(e,t,o){const i=e.name,n=e.format();Ye(this,{fragment:e,name:i,signature:n,topic:t,args:o})}}class MO{fragment;name;args;signature;selector;value;constructor(e,t,o,i){const n=e.name,s=e.format();Ye(this,{fragment:e,name:n,args:o,signature:s,selector:t,value:i})}}class NO{fragment;name;args;signature;selector;constructor(e,t,o){const i=e.name,n=e.format();Ye(this,{fragment:e,name:i,args:o,signature:n,selector:t})}}class xx{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Ye(this,{hash:e,_isIndexed:!0})}}const vx={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Tx={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&vx[r.toString()]&&(e=vx[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};class Ma{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;const o=[];for(const s of t)try{o.push(Bs.from(s))}catch(a){console.log("EE",a)}Ye(this,{fragments:Object.freeze(o)});let i=null,n=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let c;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ye(this,{deploy:s});return;case"fallback":s.inputs.length===0?n=!0:(X(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,n=i.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const u=s.format();c.has(u)||c.set(u,s)}),this.deploy||Ye(this,{deploy:Xo.from("constructor()")}),Ye(this,{fallback:i,receive:n})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return oi.defaultAbiCoder()}#o(e,t,o){if(Tr(e)){const n=e.toLowerCase();for(const s of this.#r.values())if(n===s.selector)return s;return null}if(e.indexOf("(")===-1){const n=[];for(const[s,a]of this.#r)s.split("(")[0]===e&&n.push(a);if(t){const s=t.length>0?t[t.length-1]:null;let a=t.length,c=!0;qt.isTyped(s)&&s.type==="overrides"&&(c=!1,a--);for(let u=n.length-1;u>=0;u--){const l=n[u].inputs.length;l!==a&&(!c||l!==a-1)&&n.splice(u,1)}for(let u=n.length-1;u>=0;u--){const l=n[u].inputs;for(let d=0;d<t.length;d++)if(qt.isTyped(t[d])){if(d>=l.length){if(t[d].type==="overrides")continue;n.splice(u,1);break}if(t[d].type!==l[d].baseType){n.splice(u,1);break}}}}if(n.length===1&&t&&t.length!==n[0].inputs.length){const s=t[t.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&n.splice(0,1)}if(n.length===0)return null;if(n.length>1&&o){const s=n.map(a=>JSON.stringify(a.format())).join(", ");X(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return n[0]}const i=this.#r.get(Io.from(e).format());return i||null}getFunctionName(e){const t=this.#o(e,null,!1);return X(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#o(e,null,!1)}getFunction(e,t){return this.#o(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#r.keys());t.sort((o,i)=>o.localeCompare(i));for(let o=0;o<t.length;o++){const i=t[o];e(this.#r.get(i),o)}}#i(e,t,o){if(Tr(e)){const n=e.toLowerCase();for(const s of this.#t.values())if(n===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const n=[];for(const[s,a]of this.#t)s.split("(")[0]===e&&n.push(a);if(t){for(let s=n.length-1;s>=0;s--)n[s].inputs.length<t.length&&n.splice(s,1);for(let s=n.length-1;s>=0;s--){const a=n[s].inputs;for(let c=0;c<t.length;c++)if(qt.isTyped(t[c])&&t[c].type!==a[c].baseType){n.splice(s,1);break}}}if(n.length===0)return null;if(n.length>1&&o){const s=n.map(a=>JSON.stringify(a.format())).join(", ");X(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return n[0]}const i=this.#t.get(Po.from(e).format());return i||null}getEventName(e){const t=this.#i(e,null,!1);return X(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#i(e,null,!1)}getEvent(e,t){return this.#i(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#t.keys());t.sort((o,i)=>o.localeCompare(i));for(let o=0;o<t.length;o++){const i=t[o];e(this.#t.get(i),o)}}getError(e,t){if(Tr(e)){const i=e.toLowerCase();if(Tx[i])return Kr.from(Tx[i].signature);for(const n of this.#e.values())if(i===n.selector)return n;return null}if(e.indexOf("(")===-1){const i=[];for(const[n,s]of this.#e)n.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?Kr.from("error Error(string)"):e==="Panic"?Kr.from("error Panic(uint256)"):null;if(i.length>1){const n=i.map(s=>JSON.stringify(s.format())).join(", ");X(!1,`ambiguous error description (i.e. ${n})`,"name",e)}return i[0]}if(e=Kr.from(e).format(),e==="Error(string)")return Kr.from("error Error(string)");if(e==="Panic(uint256)")return Kr.from("error Panic(uint256)");const o=this.#e.get(e);return o||null}forEachError(e){const t=Array.from(this.#e.keys());t.sort((o,i)=>o.localeCompare(i));for(let o=0;o<t.length;o++){const i=t[o];e(this.#e.get(i),o)}}_decodeParams(e,t){return this.#n.decode(e,t)}_encodeParams(e,t){return this.#n.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const o=this.getError(e);X(o,"unknown error","fragment",e),e=o}return X(Ho(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ho(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const o=this.getError(e);X(o,"unknown error","fragment",e),e=o}return wt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const o=this.getFunction(e);X(o,"unknown function","fragment",e),e=o}return X(Ho(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ho(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const o=this.getFunction(e);X(o,"unknown function","fragment",e),e=o}return wt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);X(n,"unknown function","fragment",e),e=n}let o="invalid length for result data";const i=xr(t);if(i.length%32===0)try{return this.#n.decode(e.outputs,i)}catch{o="could not decode result data"}je(!1,o,"BAD_DATA",{value:ve(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const o=Ce(e,"data"),i=oi.getBuiltinCallException("call",t,o);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=ve(o.slice(0,4)),c=this.getError(a);if(c)try{const u=this.#n.decode(c.inputs,o.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const o=this.getFunction(e);X(o,"unknown function","fragment",e),e=o}return ve(this.#n.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const n=this.getEvent(e);X(n,"unknown event","eventFragment",e),e=n}je(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const o=[];e.anonymous||o.push(e.topicHash);const i=(n,s)=>n.type==="string"?eo(s):n.type==="bytes"?Qe(ve(s)):(n.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),n.type.match(/^u?int/)&&(s=Qn(s)),n.type==="address"&&this.#n.encode(["address"],[s]),ki(ve(s),32));for(t.forEach((n,s)=>{const a=e.inputs[s];if(!a.indexed){X(n==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,n);return}n==null?o.push(null):a.baseType==="array"||a.baseType==="tuple"?X(!1,"filtering with tuples or arrays not supported","contract."+a.name,n):Array.isArray(n)?o.push(n.map(c=>i(a,c))):o.push(i(a,n))});o.length&&o[o.length-1]===null;)o.pop();return o}encodeEventLog(e,t){if(typeof e=="string"){const s=this.getEvent(e);X(s,"unknown event","eventFragment",e),e=s}const o=[],i=[],n=[];return e.anonymous||o.push(e.topicHash),X(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((s,a)=>{const c=t[a];if(s.indexed)if(s.type==="string")o.push(eo(c));else if(s.type==="bytes")o.push(Qe(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");o.push(this.#n.encode([s.type],[c]))}else i.push(s),n.push(c)}),{data:this.#n.encode(i,n),topics:o}}decodeEventLog(e,t,o){if(typeof e=="string"){const b=this.getEvent(e);X(b,"unknown event","eventFragment",e),e=b}if(o!=null&&!e.anonymous){const b=e.topicHash;X(Tr(o[0],32)&&o[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",o[0]),o=o.slice(1)}const i=[],n=[],s=[];e.inputs.forEach((b,y)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(_t.from({type:"bytes32",name:b.name})),s.push(!0)):(i.push(b),s.push(!1)):(n.push(b),s.push(!1))});const a=o!=null?this.#n.decode(i,wt(o)):null,c=this.#n.decode(n,t,!0),u=[],l=[];let d=0,h=0;return e.inputs.forEach((b,y)=>{let g=null;if(b.indexed)if(a==null)g=new xx(null);else if(s[y])g=new xx(a[h++]);else try{g=a[h++]}catch(w){g=w}else try{g=c[d++]}catch(w){g=w}u.push(g),l.push(b.name||null)}),Jo.fromItems(u,l)}parseTransaction(e){const t=Ce(e.data,"tx.data"),o=bt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ve(t.slice(0,4)));if(!i)return null;const n=this.#n.decode(i.inputs,t.slice(4));return new MO(i,i.selector,n,o)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new RO(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=ve(e),o=this.getError(Ho(t,0,4));if(!o)return null;const i=this.#n.decode(o.inputs,Ho(t,4));return new NO(o,o.selector,i)}static from(e){return e instanceof Ma?e:typeof e=="string"?new Ma(JSON.parse(e)):typeof e.format=="function"?new Ma(e.format("json")):new Ma(e)}}const $O=r=>St.from(r),SI=r=>St.from(r).serialized,WI=r=>Ce(r),FO={sighash:"sighash",minimal:"minimal",full:"full",json:"json"},UO=zi.isValidMnemonic;Di.register((r,e,t)=>Di._(r,qe.from(e),qe.from(t)));const kO=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:oi,FormatTypes:FO,Interface:Ma,Mnemonic:zi,Signature:St,SigningKey:cr,Wordlist:gI,arrayify:WI,concat:wt,ethersHDNodeWallet:Bn,id:eo,isValidMnemonic:UO,joinSignature:SI,keccak256:Qe,recoverAddress:Ha,sha256:Ar,splitSignature:$O,toUtf8Bytes:Yr,toUtf8String:QE,wordlists:TO},Symbol.toStringTag,{value:"Module"})),OI=34,On="41",RI=65,Ga=/^(41)/,MI="m/44'/195'",wb=MI+"/0'/0/0";function NI(r){return Fs(r)?Hi(Mr(r.replace(/^0x/,On))):r}function Se(r){return Fs(r)?r.toLowerCase().replace(/^0x/,On):ft(J4(r)).toLowerCase()}function DO(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const o=Mr(Qe(t).slice(2));for(let i=0;i<40;i+=2)o[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(o[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return On+e.join("")}function mb(r){if(!mu(r))throw new Error(`'${r}' is not a valid address string`);return DO(Se(r))}function $I(r){if(!Fs(r)||r.length!==42)return!1;try{return mb(r)===r}catch{return!1}}function FI(r,e=!1){try{return Mh(r,e)}catch{return!1}}function mu(r){if(!r||!Br(r))return!1;if(r.length===42)try{return mu(Hi(Mr(r)))}catch{return!1}try{return Q4(r)}catch{return!1}}const LO=Object.freeze(Object.defineProperty({__proto__:null,ADDRESS_PREFIX:On,ADDRESS_PREFIX_BYTE:RI,ADDRESS_PREFIX_REGEX:Ga,ADDRESS_SIZE:OI,TRON_BIP39_PATH_INDEX_0:wb,TRON_BIP39_PATH_PREFIX:MI,fromHex:NI,fromPrivateKey:FI,isAddress:mu,isChecksumAddress:$I,toChecksumAddress:mb,toHex:Se},Symbol.toStringTag,{value:"Module"})),Fg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ug={};for(let r=0;r<Fg.length;r++)Ug[Fg.charAt(r)]=r;const Uc=58;function UI(r){if(r.length===0)return"";let e,t;const o=[0];for(e=0;e<r.length;e++){for(t=0;t<o.length;t++)o[t]<<=8;o[0]+=r[e];let i=0;for(t=0;t<o.length;++t)o[t]+=i,i=o[t]/Uc|0,o[t]%=Uc;for(;i;)o.push(i%Uc),i=i/Uc|0}for(e=0;r[e]===0&&e<r.length-1;e++)o.push(0);return o.reverse().map(i=>Fg[i]).join("")}function yh(r){if(r.length===0)return[];let e,t;const o=[0];for(e=0;e<r.length;e++){const i=r[e];if(!(i in Ug))throw new Error("Non-base58 character");for(t=0;t<o.length;t++)o[t]*=Uc;o[0]+=Ug[i];let n=0;for(t=0;t<o.length;++t)o[t]+=n,n=o[t]>>8,o[t]&=255;for(;n;)o.push(n&255),n>>=8}for(e=0;r[e]==="1"&&e<r.length-1;e++)o.push(0);return o.reverse()}const zO=Object.freeze(Object.defineProperty({__proto__:null,decode58:yh,encode58:UI},Symbol.toStringTag,{value:"Module"}));function qO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kI={exports:{}},Lt=kI.exports={},vo,To;function kg(){throw new Error("setTimeout has not been defined")}function Dg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?vo=setTimeout:vo=kg}catch{vo=kg}try{typeof clearTimeout=="function"?To=clearTimeout:To=Dg}catch{To=Dg}})();function DI(r){if(vo===setTimeout)return setTimeout(r,0);if((vo===kg||!vo)&&setTimeout)return vo=setTimeout,setTimeout(r,0);try{return vo(r,0)}catch{try{return vo.call(null,r,0)}catch{return vo.call(this,r,0)}}}function jO(r){if(To===clearTimeout)return clearTimeout(r);if((To===Dg||!To)&&clearTimeout)return To=clearTimeout,clearTimeout(r);try{return To(r)}catch{try{return To.call(null,r)}catch{return To.call(this,r)}}}var Qo=[],Ua=!1,ps,yd=-1;function VO(){!Ua||!ps||(Ua=!1,ps.length?Qo=ps.concat(Qo):yd=-1,Qo.length&&LI())}function LI(){if(!Ua){var r=DI(VO);Ua=!0;for(var e=Qo.length;e;){for(ps=Qo,Qo=[];++yd<e;)ps&&ps[yd].run();yd=-1,e=Qo.length}ps=null,Ua=!1,jO(r)}}Lt.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Qo.push(new zI(r,e)),Qo.length===1&&!Ua&&DI(LI)};function zI(r,e){this.fun=r,this.array=e}zI.prototype.run=function(){this.fun.apply(null,this.array)};Lt.title="browser";Lt.browser=!0;Lt.env={};Lt.argv=[];Lt.version="";Lt.versions={};function li(){}Lt.on=li;Lt.addListener=li;Lt.once=li;Lt.off=li;Lt.removeListener=li;Lt.removeAllListeners=li;Lt.emit=li;Lt.prependListener=li;Lt.prependOnceListener=li;Lt.listeners=function(r){return[]};Lt.binding=function(r){throw new Error("process.binding is not supported")};Lt.cwd=function(){return"/"};Lt.chdir=function(r){throw new Error("process.chdir is not supported")};Lt.umask=function(){return 0};var HO=kI.exports;const Wr=qO(HO);function qI(r,e){return function(){return r.apply(e,arguments)}}const{toString:GO}=Object.prototype,{getPrototypeOf:xb}=Object,bh=(r=>e=>{const t=GO.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ro=r=>(r=r.toLowerCase(),e=>bh(e)===r),wh=r=>e=>typeof e===r,{isArray:rc}=Array,ru=wh("undefined");function KO(r){return r!==null&&!ru(r)&&r.constructor!==null&&!ru(r.constructor)&&ln(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const jI=ro("ArrayBuffer");function ZO(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&jI(r.buffer),e}const YO=wh("string"),ln=wh("function"),VI=wh("number"),mh=r=>r!==null&&typeof r=="object",JO=r=>r===!0||r===!1,bd=r=>{if(bh(r)!=="object")return!1;const e=xb(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},XO=ro("Date"),QO=ro("File"),e5=ro("Blob"),t5=ro("FileList"),r5=r=>mh(r)&&ln(r.pipe),n5=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ln(r.append)&&((e=bh(r))==="formdata"||e==="object"&&ln(r.toString)&&r.toString()==="[object FormData]"))},o5=ro("URLSearchParams"),[i5,s5,a5,c5]=["ReadableStream","Request","Response","Headers"].map(ro),u5=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let o,i;if(typeof r!="object"&&(r=[r]),rc(r))for(o=0,i=r.length;o<i;o++)e.call(null,r[o],o,r);else{const n=t?Object.getOwnPropertyNames(r):Object.keys(r),s=n.length;let a;for(o=0;o<s;o++)a=n[o],e.call(null,r[a],a,r)}}function HI(r,e){e=e.toLowerCase();const t=Object.keys(r);let o=t.length,i;for(;o-- >0;)if(i=t[o],e===i.toLowerCase())return i;return null}const gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,GI=r=>!ru(r)&&r!==gs;function Lg(){const{caseless:r}=GI(this)&&this||{},e={},t=(o,i)=>{const n=r&&HI(e,i)||i;bd(e[n])&&bd(o)?e[n]=Lg(e[n],o):bd(o)?e[n]=Lg({},o):rc(o)?e[n]=o.slice():e[n]=o};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&xu(arguments[o],t);return e}const l5=(r,e,t,{allOwnKeys:o}={})=>(xu(e,(i,n)=>{t&&ln(i)?r[n]=qI(i,t):r[n]=i},{allOwnKeys:o}),r),f5=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),d5=(r,e,t,o)=>{r.prototype=Object.create(e.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},h5=(r,e,t,o)=>{let i,n,s;const a={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),n=i.length;n-- >0;)s=i[n],(!o||o(s,r,e))&&!a[s]&&(e[s]=r[s],a[s]=!0);r=t!==!1&&xb(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},p5=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const o=r.indexOf(e,t);return o!==-1&&o===t},g5=r=>{if(!r)return null;if(rc(r))return r;let e=r.length;if(!VI(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},y5=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&xb(Uint8Array)),b5=(r,e)=>{const o=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=o.next())&&!i.done;){const n=i.value;e.call(r,n[0],n[1])}},w5=(r,e)=>{let t;const o=[];for(;(t=r.exec(e))!==null;)o.push(t);return o},m5=ro("HTMLFormElement"),x5=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,i){return o.toUpperCase()+i}),Ax=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),v5=ro("RegExp"),KI=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),o={};xu(t,(i,n)=>{let s;(s=e(i,n,r))!==!1&&(o[n]=s||i)}),Object.defineProperties(r,o)},T5=r=>{KI(r,(e,t)=>{if(ln(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=r[t];if(ln(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},A5=(r,e)=>{const t={},o=i=>{i.forEach(n=>{t[n]=!0})};return rc(r)?o(r):o(String(r).split(e)),t},E5=()=>{},P5=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function I5(r){return!!(r&&ln(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const B5=r=>{const e=new Array(10),t=(o,i)=>{if(mh(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[i]=o;const n=rc(o)?[]:{};return xu(o,(s,a)=>{const c=t(s,i+1);!ru(c)&&(n[a]=c)}),e[i]=void 0,n}}return o};return t(r,0)},C5=ro("AsyncFunction"),_5=r=>r&&(mh(r)||ln(r))&&ln(r.then)&&ln(r.catch),ZI=((r,e)=>r?setImmediate:e?((t,o)=>(gs.addEventListener("message",({source:i,data:n})=>{i===gs&&n===t&&o.length&&o.shift()()},!1),i=>{o.push(i),gs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ln(gs.postMessage)),S5=typeof queueMicrotask<"u"?queueMicrotask.bind(gs):typeof Wr<"u"&&Wr.nextTick||ZI,ie={isArray:rc,isArrayBuffer:jI,isBuffer:KO,isFormData:n5,isArrayBufferView:ZO,isString:YO,isNumber:VI,isBoolean:JO,isObject:mh,isPlainObject:bd,isReadableStream:i5,isRequest:s5,isResponse:a5,isHeaders:c5,isUndefined:ru,isDate:XO,isFile:QO,isBlob:e5,isRegExp:v5,isFunction:ln,isStream:r5,isURLSearchParams:o5,isTypedArray:y5,isFileList:t5,forEach:xu,merge:Lg,extend:l5,trim:u5,stripBOM:f5,inherits:d5,toFlatObject:h5,kindOf:bh,kindOfTest:ro,endsWith:p5,toArray:g5,forEachEntry:b5,matchAll:w5,isHTMLForm:m5,hasOwnProperty:Ax,hasOwnProp:Ax,reduceDescriptors:KI,freezeMethods:T5,toObjectSet:A5,toCamelCase:x5,noop:E5,toFiniteNumber:P5,findKey:HI,global:gs,isContextDefined:GI,isSpecCompliantForm:I5,toJSONObject:B5,isAsyncFn:C5,isThenable:_5,setImmediate:ZI,asap:S5};function Ge(r,e,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const YI=Ge.prototype,JI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{JI[r]={value:r}});Object.defineProperties(Ge,JI);Object.defineProperty(YI,"isAxiosError",{value:!0});Ge.from=(r,e,t,o,i,n)=>{const s=Object.create(YI);return ie.toFlatObject(r,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Ge.call(s,r.message,e,t,o,i),s.cause=r,s.name=r.name,n&&Object.assign(s,n),s};const W5=null;function zg(r){return ie.isPlainObject(r)||ie.isArray(r)}function XI(r){return ie.endsWith(r,"[]")?r.slice(0,-2):r}function Ex(r,e,t){return r?r.concat(e).map(function(i,n){return i=XI(i),!t&&n?"["+i+"]":i}).join(t?".":""):e}function O5(r){return ie.isArray(r)&&!r.some(zg)}const R5=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function xh(r,e,t){if(!ie.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!ie.isUndefined(w[g])});const o=t.metaTokens,i=t.visitor||l,n=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ie.isDate(y))return y.toISOString();if(!c&&ie.isBlob(y))throw new Ge("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(y)||ie.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):qe.from(y):y}function l(y,g,w){let I=y;if(y&&!w&&typeof y=="object"){if(ie.endsWith(g,"{}"))g=o?g:g.slice(0,-2),y=JSON.stringify(y);else if(ie.isArray(y)&&O5(y)||(ie.isFileList(y)||ie.endsWith(g,"[]"))&&(I=ie.toArray(y)))return g=XI(g),I.forEach(function(B,M){!(ie.isUndefined(B)||B===null)&&e.append(s===!0?Ex([g],M,n):s===null?g:g+"[]",u(B))}),!1}return zg(y)?!0:(e.append(Ex(w,g,n),u(y)),!1)}const d=[],h=Object.assign(R5,{defaultVisitor:l,convertValue:u,isVisitable:zg});function b(y,g){if(!ie.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(y),ie.forEach(y,function(I,P){(!(ie.isUndefined(I)||I===null)&&i.call(e,I,ie.isString(P)?P.trim():P,g,h))===!0&&b(I,g?g.concat(P):[P])}),d.pop()}}if(!ie.isObject(r))throw new TypeError("data must be an object");return b(r),e}function Px(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function vb(r,e){this._pairs=[],r&&xh(r,this,e)}const QI=vb.prototype;QI.append=function(e,t){this._pairs.push([e,t])};QI.toString=function(e){const t=e?function(o){return e.call(this,o,Px)}:Px;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function M5(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e4(r,e,t){if(!e)return r;const o=t&&t.encode||M5;ie.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let n;if(i?n=i(e,t):n=ie.isURLSearchParams(e)?e.toString():new vb(e,t).toString(o),n){const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+n}return r}class Ix{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(o){o!==null&&e(o)})}}const t4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N5=typeof URLSearchParams<"u"?URLSearchParams:vb,$5=typeof FormData<"u"?FormData:null,F5=typeof Blob<"u"?Blob:null,U5={isBrowser:!0,classes:{URLSearchParams:N5,FormData:$5,Blob:F5},protocols:["http","https","file","blob","url","data"]},Tb=typeof window<"u"&&typeof document<"u",qg=typeof navigator=="object"&&navigator||void 0,k5=Tb&&(!qg||["ReactNative","NativeScript","NS"].indexOf(qg.product)<0),D5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L5=Tb&&window.location.href||"http://localhost",z5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tb,hasStandardBrowserEnv:k5,hasStandardBrowserWebWorkerEnv:D5,navigator:qg,origin:L5},Symbol.toStringTag,{value:"Module"})),vr={...z5,...U5};function q5(r,e){return xh(r,new vr.classes.URLSearchParams,Object.assign({visitor:function(t,o,i,n){return vr.isNode&&ie.isBuffer(t)?(this.append(o,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function j5(r){return ie.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function V5(r){const e={},t=Object.keys(r);let o;const i=t.length;let n;for(o=0;o<i;o++)n=t[o],e[n]=r[n];return e}function r4(r){function e(t,o,i,n){let s=t[n++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=n>=t.length;return s=!s&&ie.isArray(i)?i.length:s,c?(ie.hasOwnProp(i,s)?i[s]=[i[s],o]:i[s]=o,!a):((!i[s]||!ie.isObject(i[s]))&&(i[s]=[]),e(t,o,i[s],n)&&ie.isArray(i[s])&&(i[s]=V5(i[s])),!a)}if(ie.isFormData(r)&&ie.isFunction(r.entries)){const t={};return ie.forEachEntry(r,(o,i)=>{e(j5(o),i,t,0)}),t}return null}function H5(r,e,t){if(ie.isString(r))try{return(e||JSON.parse)(r),ie.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(r)}const vu={transitional:t4,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",i=o.indexOf("application/json")>-1,n=ie.isObject(e);if(n&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return i?JSON.stringify(r4(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return q5(e,this.formSerializer).toString();if((a=ie.isFileList(e))||o.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xh(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return n||i?(t.setContentType("application/json",!1),H5(e)):e}],transformResponse:[function(e){const t=this.transitional||vu.transitional,o=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(o&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ge.from(a,Ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vr.classes.FormData,Blob:vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],r=>{vu.headers[r]={}});const G5=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K5=r=>{const e={};let t,o,i;return r&&r.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),o=s.substring(i+1).trim(),!(!t||e[t]&&G5[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},Bx=Symbol("internals");function Tc(r){return r&&String(r).trim().toLowerCase()}function wd(r){return r===!1||r==null?r:ie.isArray(r)?r.map(wd):String(r)}function Z5(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(r);)e[o[1]]=o[2];return e}const Y5=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function mp(r,e,t,o,i){if(ie.isFunction(o))return o.call(this,e,t);if(i&&(e=t),!!ie.isString(e)){if(ie.isString(o))return e.indexOf(o)!==-1;if(ie.isRegExp(o))return o.test(e)}}function J5(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function X5(r,e){const t=ie.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+t,{value:function(i,n,s){return this[o].call(this,e,i,n,s)},configurable:!0})})}let Jr=class{constructor(e){e&&this.set(e)}set(e,t,o){const i=this;function n(a,c,u){const l=Tc(c);if(!l)throw new Error("header name must be a non-empty string");const d=ie.findKey(i,l);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=wd(a))}const s=(a,c)=>ie.forEach(a,(u,l)=>n(u,l,c));if(ie.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ie.isString(e)&&(e=e.trim())&&!Y5(e))s(K5(e),t);else if(ie.isHeaders(e))for(const[a,c]of e.entries())n(c,a,o);else e!=null&&n(t,e,o);return this}get(e,t){if(e=Tc(e),e){const o=ie.findKey(this,e);if(o){const i=this[o];if(!t)return i;if(t===!0)return Z5(i);if(ie.isFunction(t))return t.call(this,i,o);if(ie.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tc(e),e){const o=ie.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||mp(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let i=!1;function n(s){if(s=Tc(s),s){const a=ie.findKey(o,s);a&&(!t||mp(o,o[a],a,t))&&(delete o[a],i=!0)}}return ie.isArray(e)?e.forEach(n):n(e),i}clear(e){const t=Object.keys(this);let o=t.length,i=!1;for(;o--;){const n=t[o];(!e||mp(this,this[n],n,e,!0))&&(delete this[n],i=!0)}return i}normalize(e){const t=this,o={};return ie.forEach(this,(i,n)=>{const s=ie.findKey(o,n);if(s){t[s]=wd(i),delete t[n];return}const a=e?J5(n):String(n).trim();a!==n&&delete t[n],t[a]=wd(i),o[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ie.forEach(this,(o,i)=>{o!=null&&o!==!1&&(t[i]=e&&ie.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(i=>o.set(i)),o}static accessor(e){const o=(this[Bx]=this[Bx]={accessors:{}}).accessors,i=this.prototype;function n(s){const a=Tc(s);o[a]||(X5(i,s),o[a]=!0)}return ie.isArray(e)?e.forEach(n):n(e),this}};Jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Jr.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(o){this[t]=o}}});ie.freezeMethods(Jr);function xp(r,e){const t=this||vu,o=e||t,i=Jr.from(o.headers);let n=o.data;return ie.forEach(r,function(a){n=a.call(t,n,i.normalize(),e?e.status:void 0)}),i.normalize(),n}function n4(r){return!!(r&&r.__CANCEL__)}function nc(r,e,t){Ge.call(this,r??"canceled",Ge.ERR_CANCELED,e,t),this.name="CanceledError"}ie.inherits(nc,Ge,{__CANCEL__:!0});function o4(r,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?r(t):e(new Ge("Request failed with status code "+t.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Q5(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function eR(r,e){r=r||10;const t=new Array(r),o=new Array(r);let i=0,n=0,s;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=o[n];s||(s=u),t[i]=c,o[i]=u;let d=n,h=0;for(;d!==i;)h+=t[d++],d=d%r;if(i=(i+1)%r,i===n&&(n=(n+1)%r),u-s<e)return;const b=l&&u-l;return b?Math.round(h*1e3/b):void 0}}function tR(r,e){let t=0,o=1e3/e,i,n;const s=(u,l=Date.now())=>{t=l,i=null,n&&(clearTimeout(n),n=null),r.apply(null,u)};return[(...u)=>{const l=Date.now(),d=l-t;d>=o?s(u,l):(i=u,n||(n=setTimeout(()=>{n=null,s(i)},o-d)))},()=>i&&s(i)]}const Md=(r,e,t=3)=>{let o=0;const i=eR(50,250);return tR(n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,c=s-o,u=i(c),l=s<=a;o=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-s)/u:void 0,event:n,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(d)},t)},Cx=(r,e)=>{const t=r!=null;return[o=>e[0]({lengthComputable:t,total:r,loaded:o}),e[1]]},_x=r=>(...e)=>ie.asap(()=>r(...e)),rR=vr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,vr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(vr.origin),vr.navigator&&/(msie|trident)/i.test(vr.navigator.userAgent)):()=>!0,nR=vr.hasStandardBrowserEnv?{write(r,e,t,o,i,n){const s=[r+"="+encodeURIComponent(e)];ie.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ie.isString(o)&&s.push("path="+o),ie.isString(i)&&s.push("domain="+i),n===!0&&s.push("secure"),document.cookie=s.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oR(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function iR(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function i4(r,e,t){let o=!oR(e);return r&&o||t==!1?iR(r,e):e}const Sx=r=>r instanceof Jr?{...r}:r;function Cs(r,e){e=e||{};const t={};function o(u,l,d,h){return ie.isPlainObject(u)&&ie.isPlainObject(l)?ie.merge.call({caseless:h},u,l):ie.isPlainObject(l)?ie.merge({},l):ie.isArray(l)?l.slice():l}function i(u,l,d,h){if(ie.isUndefined(l)){if(!ie.isUndefined(u))return o(void 0,u,d,h)}else return o(u,l,d,h)}function n(u,l){if(!ie.isUndefined(l))return o(void 0,l)}function s(u,l){if(ie.isUndefined(l)){if(!ie.isUndefined(u))return o(void 0,u)}else return o(void 0,l)}function a(u,l,d){if(d in e)return o(u,l);if(d in r)return o(void 0,u)}const c={url:n,method:n,data:n,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l,d)=>i(Sx(u),Sx(l),d,!0)};return ie.forEach(Object.keys(Object.assign({},r,e)),function(l){const d=c[l]||i,h=d(r[l],e[l],l);ie.isUndefined(h)&&d!==a||(t[l]=h)}),t}const s4=r=>{const e=Cs({},r);let{data:t,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:n,headers:s,auth:a}=e;e.headers=s=Jr.from(s),e.url=e4(i4(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(ie.isFormData(t)){if(vr.hasStandardBrowserEnv||vr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...l].join("; "))}}if(vr.hasStandardBrowserEnv&&(o&&ie.isFunction(o)&&(o=o(e)),o||o!==!1&&rR(e.url))){const u=i&&n&&nR.read(n);u&&s.set(i,u)}return e},sR=typeof XMLHttpRequest<"u",aR=sR&&function(r){return new Promise(function(t,o){const i=s4(r);let n=i.data;const s=Jr.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,l,d,h,b,y;function g(){b&&b(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function I(){if(!w)return;const B=Jr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:B,config:r,request:w};o4(function(S){t(S),g()},function(S){o(S),g()},O),w=null}"onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(I)},w.onabort=function(){w&&(o(new Ge("Request aborted",Ge.ECONNABORTED,r,w)),w=null)},w.onerror=function(){o(new Ge("Network Error",Ge.ERR_NETWORK,r,w)),w=null},w.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||t4;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),o(new Ge(M,O.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,r,w)),w=null},n===void 0&&s.setContentType(null),"setRequestHeader"in w&&ie.forEach(s.toJSON(),function(M,O){w.setRequestHeader(O,M)}),ie.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([h,y]=Md(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([d,b]=Md(c),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(l=B=>{w&&(o(!B||B.type?new nc(null,r,w):B),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const P=Q5(i.url);if(P&&vr.protocols.indexOf(P)===-1){o(new Ge("Unsupported protocol "+P+":",Ge.ERR_BAD_REQUEST,r));return}w.send(n||null)})},cR=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let o=new AbortController,i;const n=function(u){if(!i){i=!0,a();const l=u instanceof Error?u:this.reason;o.abort(l instanceof Ge?l:new nc(l instanceof Error?l.message:l))}};let s=e&&setTimeout(()=>{s=null,n(new Ge(`timeout ${e} of ms exceeded`,Ge.ETIMEDOUT))},e);const a=()=>{r&&(s&&clearTimeout(s),s=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(n):u.removeEventListener("abort",n)}),r=null)};r.forEach(u=>u.addEventListener("abort",n));const{signal:c}=o;return c.unsubscribe=()=>ie.asap(a),c}},uR=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let o=0,i;for(;o<t;)i=o+e,yield r.slice(o,i),o=i},lR=async function*(r,e){for await(const t of fR(r))yield*uR(t,e)},fR=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:o}=await e.read();if(t)break;yield o}}finally{await e.cancel()}},Wx=(r,e,t,o)=>{const i=lR(r,e);let n=0,s,a=c=>{s||(s=!0,o&&o(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await i.next();if(u){a(),c.close();return}let d=l.byteLength;if(t){let h=n+=d;t(h)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},vh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a4=vh&&typeof ReadableStream=="function",dR=vh&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),c4=(r,...e)=>{try{return!!r(...e)}catch{return!1}},hR=a4&&c4(()=>{let r=!1;const e=new Request(vr.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Ox=64*1024,jg=a4&&c4(()=>ie.isReadableStream(new Response("").body)),Nd={stream:jg&&(r=>r.body)};vh&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nd[e]&&(Nd[e]=ie.isFunction(r[e])?t=>t[e]():(t,o)=>{throw new Ge(`Response type '${e}' is not supported`,Ge.ERR_NOT_SUPPORT,o)})})})(new Response);const pR=async r=>{if(r==null)return 0;if(ie.isBlob(r))return r.size;if(ie.isSpecCompliantForm(r))return(await new Request(vr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(r)||ie.isArrayBuffer(r))return r.byteLength;if(ie.isURLSearchParams(r)&&(r=r+""),ie.isString(r))return(await dR(r)).byteLength},gR=async(r,e)=>{const t=ie.toFiniteNumber(r.getContentLength());return t??pR(e)},yR=vh&&(async r=>{let{url:e,method:t,data:o,signal:i,cancelToken:n,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:h}=s4(r);u=u?(u+"").toLowerCase():"text";let b=cR([i,n&&n.toAbortSignal()],s),y;const g=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let w;try{if(c&&hR&&t!=="get"&&t!=="head"&&(w=await gR(l,o))!==0){let O=new Request(e,{method:"POST",body:o,duplex:"half"}),W;if(ie.isFormData(o)&&(W=O.headers.get("content-type"))&&l.setContentType(W),O.body){const[S,T]=Cx(w,Md(_x(c)));o=Wx(O.body,Ox,S,T)}}ie.isString(d)||(d=d?"include":"omit");const I="credentials"in Request.prototype;y=new Request(e,{...h,signal:b,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:o,duplex:"half",credentials:I?d:void 0});let P=await fetch(y);const B=jg&&(u==="stream"||u==="response");if(jg&&(a||B&&g)){const O={};["status","statusText","headers"].forEach(E=>{O[E]=P[E]});const W=ie.toFiniteNumber(P.headers.get("content-length")),[S,T]=a&&Cx(W,Md(_x(a),!0))||[];P=new Response(Wx(P.body,Ox,S,()=>{T&&T(),g&&g()}),O)}u=u||"text";let M=await Nd[ie.findKey(Nd,u)||"text"](P,r);return!B&&g&&g(),await new Promise((O,W)=>{o4(O,W,{data:M,headers:Jr.from(P.headers),status:P.status,statusText:P.statusText,config:r,request:y})})}catch(I){throw g&&g(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,r,y),{cause:I.cause||I}):Ge.from(I,I&&I.code,r,y)}}),Vg={http:W5,xhr:aR,fetch:yR};ie.forEach(Vg,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Rx=r=>`- ${r}`,bR=r=>ie.isFunction(r)||r===null||r===!1,u4={getAdapter:r=>{r=ie.isArray(r)?r:[r];const{length:e}=r;let t,o;const i={};for(let n=0;n<e;n++){t=r[n];let s;if(o=t,!bR(t)&&(o=Vg[(s=String(t)).toLowerCase()],o===void 0))throw new Ge(`Unknown adapter '${s}'`);if(o)break;i[s||"#"+n]=o}if(!o){const n=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?n.length>1?`since :
`+n.map(Rx).join(`
`):" "+Rx(n[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return o},adapters:Vg};function vp(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new nc(null,r)}function Mx(r){return vp(r),r.headers=Jr.from(r.headers),r.data=xp.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),u4.getAdapter(r.adapter||vu.adapter)(r).then(function(o){return vp(r),o.data=xp.call(r,r.transformResponse,o),o.headers=Jr.from(o.headers),o},function(o){return n4(o)||(vp(r),o&&o.response&&(o.response.data=xp.call(r,r.transformResponse,o.response),o.response.headers=Jr.from(o.response.headers))),Promise.reject(o)})}const l4="1.8.3",Th={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Th[r]=function(o){return typeof o===r||"a"+(e<1?"n ":" ")+r}});const Nx={};Th.transitional=function(e,t,o){function i(n,s){return"[Axios v"+l4+"] Transitional option '"+n+"'"+s+(o?". "+o:"")}return(n,s,a)=>{if(e===!1)throw new Ge(i(s," has been removed"+(t?" in "+t:"")),Ge.ERR_DEPRECATED);return t&&!Nx[s]&&(Nx[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,s,a):!0}};Th.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function wR(r,e,t){if(typeof r!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let i=o.length;for(;i-- >0;){const n=o[i],s=e[n];if(s){const a=r[n],c=a===void 0||s(a,n,r);if(c!==!0)throw new Ge("option "+n+" must be "+c,Ge.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ge("Unknown option "+n,Ge.ERR_BAD_OPTION)}}const md={assertOptions:wR,validators:Th},uo=md.validators;let Es=class{constructor(e){this.defaults=e,this.interceptors={request:new Ix,response:new Ix}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const n=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?n&&!String(o.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+n):o.stack=n}catch{}}throw o}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Cs(this.defaults,t);const{transitional:o,paramsSerializer:i,headers:n}=t;o!==void 0&&md.assertOptions(o,{silentJSONParsing:uo.transitional(uo.boolean),forcedJSONParsing:uo.transitional(uo.boolean),clarifyTimeoutError:uo.transitional(uo.boolean)},!1),i!=null&&(ie.isFunction(i)?t.paramsSerializer={serialize:i}:md.assertOptions(i,{encode:uo.function,serialize:uo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),md.assertOptions(t,{baseUrl:uo.spelling("baseURL"),withXsrfToken:uo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&ie.merge(n.common,n[t.method]);n&&ie.forEach(["delete","get","head","post","put","patch","common"],y=>{delete n[y]}),t.headers=Jr.concat(s,n);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,d=0,h;if(!c){const y=[Mx.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),h=y.length,l=Promise.resolve(t);d<h;)l=l.then(y[d++],y[d++]);return l}h=a.length;let b=t;for(d=0;d<h;){const y=a[d++],g=a[d++];try{b=y(b)}catch(w){g.call(this,w);break}}try{l=Mx.call(this,b)}catch(y){return Promise.reject(y)}for(d=0,h=u.length;d<h;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=Cs(this.defaults,e);const t=i4(e.baseURL,e.url,e.allowAbsoluteUrls);return e4(t,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){Es.prototype[e]=function(t,o){return this.request(Cs(o||{},{method:e,url:t,data:(o||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function t(o){return function(n,s,a){return this.request(Cs(a||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}Es.prototype[e]=t(),Es.prototype[e+"Form"]=t(!0)});let mR=class f4{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const o=this;this.promise.then(i=>{if(!o._listeners)return;let n=o._listeners.length;for(;n-- >0;)o._listeners[n](i);o._listeners=null}),this.promise.then=i=>{let n;const s=new Promise(a=>{o.subscribe(a),n=a}).then(i);return s.cancel=function(){o.unsubscribe(n)},s},e(function(n,s,a){o.reason||(o.reason=new nc(n,s,a),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new f4(function(i){e=i}),cancel:e}}};function xR(r){return function(t){return r.apply(null,t)}}function vR(r){return ie.isObject(r)&&r.isAxiosError===!0}const Hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hg).forEach(([r,e])=>{Hg[e]=r});function d4(r){const e=new Es(r),t=qI(Es.prototype.request,e);return ie.extend(t,Es.prototype,e,{allOwnKeys:!0}),ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return d4(Cs(r,i))},t}const Dt=d4(vu);Dt.Axios=Es;Dt.CanceledError=nc;Dt.CancelToken=mR;Dt.isCancel=n4;Dt.VERSION=l4;Dt.toFormData=xh;Dt.AxiosError=Ge;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=xR;Dt.isAxiosError=vR;Dt.mergeConfig=Cs;Dt.AxiosHeaders=Jr;Dt.formToJSON=r=>r4(ie.isHTMLForm(r)?new FormData(r):r);Dt.getAdapter=u4.getAdapter;Dt.HttpStatusCode=Hg;Dt.default=Dt;const{Axios:_Q,AxiosError:SQ,CanceledError:WQ,isCancel:OQ,CancelToken:RQ,VERSION:MQ,all:NQ,Cancel:$Q,isAxiosError:FQ,spread:UQ,toFormData:kQ,AxiosHeaders:DQ,HttpStatusCode:LQ,formToJSON:zQ,getAdapter:qQ,mergeConfig:jQ}=Dt;class h4{host;timeout;user;password;headers;statusPage;instance;constructor(e,t=3e4,o="",i="",n={},s="/"){if(!Yy(e))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(t)||t<0)throw new Error("Invalid timeout duration provided");if(!hu(n))throw new Error("Invalid headers object provided");e=e.replace(/\/+$/,""),this.host=e,this.timeout=t,this.user=o,this.password=i,this.headers=n,this.statusPage=s,this.instance=Dt.create({baseURL:e,timeout:t,headers:n,auth:o?{username:o,password:i}:void 0})}setStatusPage(e="/"){this.statusPage=e}async isConnected(e=this.statusPage){return this.request(e).then(t=>VE(t,"blockID","block_header")).catch(()=>!1)}request(e,t={},o="get"){return o=o.toLowerCase(),this.instance.request({data:o=="post"&&Object.keys(t).length?t:null,params:o=="get"&&t,url:e,method:o}).then(({data:i})=>i)}}const rn={HttpProvider:h4};var Tp={exports:{}},$x;function TR(){return $x||($x=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function n(c,u,l,d,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var b=new i(l,d||c,h),y=t?t+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],b]:c._events[y].push(b):(c._events[y]=b,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new o:delete c._events[u]}function a(){this._events=new o,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=t?t+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,b=d.length,y=new Array(b);h<b;h++)y[h]=d[h].fn;return y},a.prototype.listenerCount=function(u){var l=t?t+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,h,b,y){var g=t?t+u:u;if(!this._events[g])return!1;var w=this._events[g],I=arguments.length,P,B;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),I){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,d),!0;case 4:return w.fn.call(w.context,l,d,h),!0;case 5:return w.fn.call(w.context,l,d,h,b),!0;case 6:return w.fn.call(w.context,l,d,h,b,y),!0}for(B=1,P=new Array(I-1);B<I;B++)P[B-1]=arguments[B];w.fn.apply(w.context,P)}else{var M=w.length,O;for(B=0;B<M;B++)switch(w[B].once&&this.removeListener(u,w[B].fn,void 0,!0),I){case 1:w[B].fn.call(w[B].context);break;case 2:w[B].fn.call(w[B].context,l);break;case 3:w[B].fn.call(w[B].context,l,d);break;case 4:w[B].fn.call(w[B].context,l,d,h);break;default:if(!P)for(O=1,P=new Array(I-1);O<I;O++)P[O-1]=arguments[O];w[B].fn.apply(w[B].context,P)}}return!0},a.prototype.on=function(u,l,d){return n(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return n(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,h){var b=t?t+u:u;if(!this._events[b])return this;if(!l)return s(this,b),this;var y=this._events[b];if(y.fn)y.fn===l&&(!h||y.once)&&(!d||y.context===d)&&s(this,b);else{for(var g=0,w=[],I=y.length;g<I;g++)(y[g].fn!==l||h&&!y[g].once||d&&y[g].context!==d)&&w.push(y[g]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=t?t+u:u,this._events[l]&&s(this,l)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a}(Tp)),Tp.exports}var AR=TR();const ER=$s(AR);var Vf={exports:{}},Ap,Fx;function Ah(){if(Fx)return Ap;Fx=1;const r="2.0.0",e=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,i=e-6;return Ap={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ap}var Ep,Ux;function Eh(){if(Ux)return Ep;Ux=1;var r={};return Ep=typeof Wr=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},Ep}var kx;function Tu(){return kx||(kx=1,function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=Ah(),n=Eh();e=r.exports={};const s=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.safeSrc=[],l=e.t={};let d=0;const h="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",i],[h,o]],y=w=>{for(const[I,P]of b)w=w.split(`${I}*`).join(`${I}{0,${P}}`).split(`${I}+`).join(`${I}{1,${P}}`);return w},g=(w,I,P)=>{const B=y(I),M=d++;n(w,M,I),l[w]=M,c[M]=I,u[M]=B,s[M]=new RegExp(I,P?"g":void 0),a[M]=new RegExp(B,P?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),g("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("COERCERTLFULL",c[l.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Vf,Vf.exports)),Vf.exports}var Pp,Dx;function Ab(){if(Dx)return Pp;Dx=1;const r=Object.freeze({loose:!0}),e=Object.freeze({});return Pp=o=>o?typeof o!="object"?r:o:e,Pp}var Ip,Lx;function p4(){if(Lx)return Ip;Lx=1;const r=/^[0-9]+$/,e=(o,i)=>{const n=r.test(o),s=r.test(i);return n&&s&&(o=+o,i=+i),o===i?0:n&&!s?-1:s&&!n?1:o<i?-1:1};return Ip={compareIdentifiers:e,rcompareIdentifiers:(o,i)=>e(i,o)},Ip}var Bp,zx;function $r(){if(zx)return Bp;zx=1;const r=Eh(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:t}=Ah(),{safeRe:o,safeSrc:i,t:n}=Tu(),s=Ab(),{compareIdentifiers:a}=p4();class c{constructor(l,d){if(d=s(d),l instanceof c){if(l.loose===!!d.loose&&l.includePrerelease===!!d.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>e)throw new TypeError(`version is longer than ${e} characters`);r("SemVer",l,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const h=l.trim().match(d.loose?o[n.LOOSE]:o[n.FULL]);if(!h)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const y=+b;if(y>=0&&y<t)return y}return b}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(r("SemVer.compare",this.version,this.options,l),!(l instanceof c)){if(typeof l=="string"&&l===this.version)return 0;l=new c(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof c||(l=new c(l,this.options)),a(this.major,l.major)||a(this.minor,l.minor)||a(this.patch,l.patch)}comparePre(l){if(l instanceof c||(l=new c(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let d=0;do{const h=this.prerelease[d],b=l.prerelease[d];if(r("prerelease compare",d,h,b),h===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(h===void 0)return-1;if(h===b)continue;return a(h,b)}while(++d)}compareBuild(l){l instanceof c||(l=new c(l,this.options));let d=0;do{const h=this.build[d],b=l.build[d];if(r("build compare",d,h,b),h===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(h===void 0)return-1;if(h===b)continue;return a(h,b)}while(++d)}inc(l,d,h){if(l.startsWith("pre")){if(!d&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const b=new RegExp(`^${this.options.loose?i[n.PRERELEASELOOSE]:i[n.PRERELEASE]}$`),y=`-${d}`.match(b);if(!y||y[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,h),this.inc("pre",d,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,h),this.inc("pre",d,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);if(y===-1){if(d===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(d){let y=[d,b];h===!1&&(y=[d]),a(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=y):this.prerelease=y}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Bp=c,Bp}var Cp,qx;function oc(){if(qx)return Cp;qx=1;const r=$r();return Cp=(t,o,i=!1)=>{if(t instanceof r)return t;try{return new r(t,o)}catch(n){if(!i)return null;throw n}},Cp}var _p,jx;function PR(){if(jx)return _p;jx=1;const r=oc();return _p=(t,o)=>{const i=r(t,o);return i?i.version:null},_p}var Sp,Vx;function IR(){if(Vx)return Sp;Vx=1;const r=oc();return Sp=(t,o)=>{const i=r(t.trim().replace(/^[=v]+/,""),o);return i?i.version:null},Sp}var Wp,Hx;function BR(){if(Hx)return Wp;Hx=1;const r=$r();return Wp=(t,o,i,n,s)=>{typeof i=="string"&&(s=n,n=i,i=void 0);try{return new r(t instanceof r?t.version:t,i).inc(o,n,s).version}catch{return null}},Wp}var Op,Gx;function CR(){if(Gx)return Op;Gx=1;const r=oc();return Op=(t,o)=>{const i=r(t,null,!0),n=r(o,null,!0),s=i.compare(n);if(s===0)return null;const a=s>0,c=a?i:n,u=a?n:i,l=!!c.prerelease.length;if(!!u.prerelease.length&&!l){if(!u.patch&&!u.minor)return"major";if(u.compareMain(c)===0)return u.minor&&!u.patch?"minor":"patch"}const h=l?"pre":"";return i.major!==n.major?h+"major":i.minor!==n.minor?h+"minor":i.patch!==n.patch?h+"patch":"prerelease"},Op}var Rp,Kx;function _R(){if(Kx)return Rp;Kx=1;const r=$r();return Rp=(t,o)=>new r(t,o).major,Rp}var Mp,Zx;function SR(){if(Zx)return Mp;Zx=1;const r=$r();return Mp=(t,o)=>new r(t,o).minor,Mp}var Np,Yx;function WR(){if(Yx)return Np;Yx=1;const r=$r();return Np=(t,o)=>new r(t,o).patch,Np}var $p,Jx;function OR(){if(Jx)return $p;Jx=1;const r=oc();return $p=(t,o)=>{const i=r(t,o);return i&&i.prerelease.length?i.prerelease:null},$p}var Fp,Xx;function no(){if(Xx)return Fp;Xx=1;const r=$r();return Fp=(t,o,i)=>new r(t,i).compare(new r(o,i)),Fp}var Up,Qx;function RR(){if(Qx)return Up;Qx=1;const r=no();return Up=(t,o,i)=>r(o,t,i),Up}var kp,e2;function MR(){if(e2)return kp;e2=1;const r=no();return kp=(t,o)=>r(t,o,!0),kp}var Dp,t2;function Eb(){if(t2)return Dp;t2=1;const r=$r();return Dp=(t,o,i)=>{const n=new r(t,i),s=new r(o,i);return n.compare(s)||n.compareBuild(s)},Dp}var Lp,r2;function NR(){if(r2)return Lp;r2=1;const r=Eb();return Lp=(t,o)=>t.sort((i,n)=>r(i,n,o)),Lp}var zp,n2;function $R(){if(n2)return zp;n2=1;const r=Eb();return zp=(t,o)=>t.sort((i,n)=>r(n,i,o)),zp}var qp,o2;function Ph(){if(o2)return qp;o2=1;const r=no();return qp=(t,o,i)=>r(t,o,i)>0,qp}var jp,i2;function Pb(){if(i2)return jp;i2=1;const r=no();return jp=(t,o,i)=>r(t,o,i)<0,jp}var Vp,s2;function g4(){if(s2)return Vp;s2=1;const r=no();return Vp=(t,o,i)=>r(t,o,i)===0,Vp}var Hp,a2;function y4(){if(a2)return Hp;a2=1;const r=no();return Hp=(t,o,i)=>r(t,o,i)!==0,Hp}var Gp,c2;function Ib(){if(c2)return Gp;c2=1;const r=no();return Gp=(t,o,i)=>r(t,o,i)>=0,Gp}var Kp,u2;function Bb(){if(u2)return Kp;u2=1;const r=no();return Kp=(t,o,i)=>r(t,o,i)<=0,Kp}var Zp,l2;function b4(){if(l2)return Zp;l2=1;const r=g4(),e=y4(),t=Ph(),o=Ib(),i=Pb(),n=Bb();return Zp=(a,c,u,l)=>{switch(c){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return r(a,u,l);case"!=":return e(a,u,l);case">":return t(a,u,l);case">=":return o(a,u,l);case"<":return i(a,u,l);case"<=":return n(a,u,l);default:throw new TypeError(`Invalid operator: ${c}`)}},Zp}var Yp,f2;function FR(){if(f2)return Yp;f2=1;const r=$r(),e=oc(),{safeRe:t,t:o}=Tu();return Yp=(n,s)=>{if(n instanceof r)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;s=s||{};let a=null;if(!s.rtl)a=n.match(s.includePrerelease?t[o.COERCEFULL]:t[o.COERCE]);else{const b=s.includePrerelease?t[o.COERCERTLFULL]:t[o.COERCERTL];let y;for(;(y=b.exec(n))&&(!a||a.index+a[0].length!==n.length);)(!a||y.index+y[0].length!==a.index+a[0].length)&&(a=y),b.lastIndex=y.index+y[1].length+y[2].length;b.lastIndex=-1}if(a===null)return null;const c=a[2],u=a[3]||"0",l=a[4]||"0",d=s.includePrerelease&&a[5]?`-${a[5]}`:"",h=s.includePrerelease&&a[6]?`+${a[6]}`:"";return e(`${c}.${u}.${l}${d}${h}`,s)},Yp}var Jp,d2;function UR(){if(d2)return Jp;d2=1;class r{constructor(){this.max=1e3,this.map=new Map}get(t){const o=this.map.get(t);if(o!==void 0)return this.map.delete(t),this.map.set(t,o),o}delete(t){return this.map.delete(t)}set(t,o){if(!this.delete(t)&&o!==void 0){if(this.map.size>=this.max){const n=this.map.keys().next().value;this.delete(n)}this.map.set(t,o)}return this}}return Jp=r,Jp}var Xp,h2;function oo(){if(h2)return Xp;h2=1;const r=/\s+/g;class e{constructor(x,A){if(A=i(A),x instanceof e)return x.loose===!!A.loose&&x.includePrerelease===!!A.includePrerelease?x:new e(x.raw,A);if(x instanceof n)return this.raw=x.value,this.set=[[x]],this.formatted=void 0,this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=x.trim().replace(r," "),this.set=this.raw.split("||").map(R=>this.parseRange(R.trim())).filter(R=>R.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const R=this.set[0];if(this.set=this.set.filter(F=>!g(F[0])),this.set.length===0)this.set=[R];else if(this.set.length>1){for(const F of this.set)if(F.length===1&&w(F[0])){this.set=[F];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let x=0;x<this.set.length;x++){x>0&&(this.formatted+="||");const A=this.set[x];for(let R=0;R<A.length;R++)R>0&&(this.formatted+=" "),this.formatted+=A[R].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(x){const R=((this.options.includePrerelease&&b)|(this.options.loose&&y))+":"+x,F=o.get(R);if(F)return F;const z=this.options.loose,j=z?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];x=x.replace(j,U(this.options.includePrerelease)),s("hyphen replace",x),x=x.replace(c[u.COMPARATORTRIM],l),s("comparator trim",x),x=x.replace(c[u.TILDETRIM],d),s("tilde trim",x),x=x.replace(c[u.CARETTRIM],h),s("caret trim",x);let Z=x.split(" ").map(te=>P(te,this.options)).join(" ").split(/\s+/).map(te=>N(te,this.options));z&&(Z=Z.filter(te=>(s("loose invalid filter",te,this.options),!!te.match(c[u.COMPARATORLOOSE])))),s("range list",Z);const J=new Map,oe=Z.map(te=>new n(te,this.options));for(const te of oe){if(g(te))return[te];J.set(te.value,te)}J.size>1&&J.has("")&&J.delete("");const ee=[...J.values()];return o.set(R,ee),ee}intersects(x,A){if(!(x instanceof e))throw new TypeError("a Range is required");return this.set.some(R=>I(R,A)&&x.set.some(F=>I(F,A)&&R.every(z=>F.every(j=>z.intersects(j,A)))))}test(x){if(!x)return!1;if(typeof x=="string")try{x=new a(x,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(D(this.set[A],x,this.options))return!0;return!1}}Xp=e;const t=UR(),o=new t,i=Ab(),n=Ih(),s=Eh(),a=$r(),{safeRe:c,t:u,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:h}=Tu(),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:y}=Ah(),g=L=>L.value==="<0.0.0-0",w=L=>L.value==="",I=(L,x)=>{let A=!0;const R=L.slice();let F=R.pop();for(;A&&R.length;)A=R.every(z=>F.intersects(z,x)),F=R.pop();return A},P=(L,x)=>(s("comp",L,x),L=W(L,x),s("caret",L),L=M(L,x),s("tildes",L),L=T(L,x),s("xrange",L),L=C(L,x),s("stars",L),L),B=L=>!L||L.toLowerCase()==="x"||L==="*",M=(L,x)=>L.trim().split(/\s+/).map(A=>O(A,x)).join(" "),O=(L,x)=>{const A=x.loose?c[u.TILDELOOSE]:c[u.TILDE];return L.replace(A,(R,F,z,j,Z)=>{s("tilde",L,R,F,z,j,Z);let J;return B(F)?J="":B(z)?J=`>=${F}.0.0 <${+F+1}.0.0-0`:B(j)?J=`>=${F}.${z}.0 <${F}.${+z+1}.0-0`:Z?(s("replaceTilde pr",Z),J=`>=${F}.${z}.${j}-${Z} <${F}.${+z+1}.0-0`):J=`>=${F}.${z}.${j} <${F}.${+z+1}.0-0`,s("tilde return",J),J})},W=(L,x)=>L.trim().split(/\s+/).map(A=>S(A,x)).join(" "),S=(L,x)=>{s("caret",L,x);const A=x.loose?c[u.CARETLOOSE]:c[u.CARET],R=x.includePrerelease?"-0":"";return L.replace(A,(F,z,j,Z,J)=>{s("caret",L,F,z,j,Z,J);let oe;return B(z)?oe="":B(j)?oe=`>=${z}.0.0${R} <${+z+1}.0.0-0`:B(Z)?z==="0"?oe=`>=${z}.${j}.0${R} <${z}.${+j+1}.0-0`:oe=`>=${z}.${j}.0${R} <${+z+1}.0.0-0`:J?(s("replaceCaret pr",J),z==="0"?j==="0"?oe=`>=${z}.${j}.${Z}-${J} <${z}.${j}.${+Z+1}-0`:oe=`>=${z}.${j}.${Z}-${J} <${z}.${+j+1}.0-0`:oe=`>=${z}.${j}.${Z}-${J} <${+z+1}.0.0-0`):(s("no pr"),z==="0"?j==="0"?oe=`>=${z}.${j}.${Z}${R} <${z}.${j}.${+Z+1}-0`:oe=`>=${z}.${j}.${Z}${R} <${z}.${+j+1}.0-0`:oe=`>=${z}.${j}.${Z} <${+z+1}.0.0-0`),s("caret return",oe),oe})},T=(L,x)=>(s("replaceXRanges",L,x),L.split(/\s+/).map(A=>E(A,x)).join(" ")),E=(L,x)=>{L=L.trim();const A=x.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return L.replace(A,(R,F,z,j,Z,J)=>{s("xRange",L,R,F,z,j,Z,J);const oe=B(z),ee=oe||B(j),te=ee||B(Z),ae=te;return F==="="&&ae&&(F=""),J=x.includePrerelease?"-0":"",oe?F===">"||F==="<"?R="<0.0.0-0":R="*":F&&ae?(ee&&(j=0),Z=0,F===">"?(F=">=",ee?(z=+z+1,j=0,Z=0):(j=+j+1,Z=0)):F==="<="&&(F="<",ee?z=+z+1:j=+j+1),F==="<"&&(J="-0"),R=`${F+z}.${j}.${Z}${J}`):ee?R=`>=${z}.0.0${J} <${+z+1}.0.0-0`:te&&(R=`>=${z}.${j}.0${J} <${z}.${+j+1}.0-0`),s("xRange return",R),R})},C=(L,x)=>(s("replaceStars",L,x),L.trim().replace(c[u.STAR],"")),N=(L,x)=>(s("replaceGTE0",L,x),L.trim().replace(c[x.includePrerelease?u.GTE0PRE:u.GTE0],"")),U=L=>(x,A,R,F,z,j,Z,J,oe,ee,te,ae)=>(B(R)?A="":B(F)?A=`>=${R}.0.0${L?"-0":""}`:B(z)?A=`>=${R}.${F}.0${L?"-0":""}`:j?A=`>=${A}`:A=`>=${A}${L?"-0":""}`,B(oe)?J="":B(ee)?J=`<${+oe+1}.0.0-0`:B(te)?J=`<${oe}.${+ee+1}.0-0`:ae?J=`<=${oe}.${ee}.${te}-${ae}`:L?J=`<${oe}.${ee}.${+te+1}-0`:J=`<=${J}`,`${A} ${J}`.trim()),D=(L,x,A)=>{for(let R=0;R<L.length;R++)if(!L[R].test(x))return!1;if(x.prerelease.length&&!A.includePrerelease){for(let R=0;R<L.length;R++)if(s(L[R].semver),L[R].semver!==n.ANY&&L[R].semver.prerelease.length>0){const F=L[R].semver;if(F.major===x.major&&F.minor===x.minor&&F.patch===x.patch)return!0}return!1}return!0};return Xp}var Qp,p2;function Ih(){if(p2)return Qp;p2=1;const r=Symbol("SemVer ANY");class e{static get ANY(){return r}constructor(l,d){if(d=t(d),l instanceof e){if(l.loose===!!d.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),s("comparator",l,d),this.options=d,this.loose=!!d.loose,this.parse(l),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(l){const d=this.options.loose?o[i.COMPARATORLOOSE]:o[i.COMPARATOR],h=l.match(d);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=r}toString(){return this.value}test(l){if(s("Comparator.test",l,this.options.loose),this.semver===r||l===r)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return n(l,this.operator,this.semver,this.options)}intersects(l,d){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,d).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,d).test(l.semver):(d=t(d),d.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||n(this.semver,"<",l.semver,d)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||n(this.semver,">",l.semver,d)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Qp=e;const t=Ab(),{safeRe:o,t:i}=Tu(),n=b4(),s=Eh(),a=$r(),c=oo();return Qp}var e0,g2;function Bh(){if(g2)return e0;g2=1;const r=oo();return e0=(t,o,i)=>{try{o=new r(o,i)}catch{return!1}return o.test(t)},e0}var t0,y2;function kR(){if(y2)return t0;y2=1;const r=oo();return t0=(t,o)=>new r(t,o).set.map(i=>i.map(n=>n.value).join(" ").trim().split(" ")),t0}var r0,b2;function DR(){if(b2)return r0;b2=1;const r=$r(),e=oo();return r0=(o,i,n)=>{let s=null,a=null,c=null;try{c=new e(i,n)}catch{return null}return o.forEach(u=>{c.test(u)&&(!s||a.compare(u)===-1)&&(s=u,a=new r(s,n))}),s},r0}var n0,w2;function LR(){if(w2)return n0;w2=1;const r=$r(),e=oo();return n0=(o,i,n)=>{let s=null,a=null,c=null;try{c=new e(i,n)}catch{return null}return o.forEach(u=>{c.test(u)&&(!s||a.compare(u)===1)&&(s=u,a=new r(s,n))}),s},n0}var o0,m2;function zR(){if(m2)return o0;m2=1;const r=$r(),e=oo(),t=Ph();return o0=(i,n)=>{i=new e(i,n);let s=new r("0.0.0");if(i.test(s)||(s=new r("0.0.0-0"),i.test(s)))return s;s=null;for(let a=0;a<i.set.length;++a){const c=i.set[a];let u=null;c.forEach(l=>{const d=new r(l.semver.version);switch(l.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!u||t(d,u))&&(u=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),u&&(!s||t(s,u))&&(s=u)}return s&&i.test(s)?s:null},o0}var i0,x2;function qR(){if(x2)return i0;x2=1;const r=oo();return i0=(t,o)=>{try{return new r(t,o).range||"*"}catch{return null}},i0}var s0,v2;function Cb(){if(v2)return s0;v2=1;const r=$r(),e=Ih(),{ANY:t}=e,o=oo(),i=Bh(),n=Ph(),s=Pb(),a=Bb(),c=Ib();return s0=(l,d,h,b)=>{l=new r(l,b),d=new o(d,b);let y,g,w,I,P;switch(h){case">":y=n,g=a,w=s,I=">",P=">=";break;case"<":y=s,g=c,w=n,I="<",P="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(l,d,b))return!1;for(let B=0;B<d.set.length;++B){const M=d.set[B];let O=null,W=null;if(M.forEach(S=>{S.semver===t&&(S=new e(">=0.0.0")),O=O||S,W=W||S,y(S.semver,O.semver,b)?O=S:w(S.semver,W.semver,b)&&(W=S)}),O.operator===I||O.operator===P||(!W.operator||W.operator===I)&&g(l,W.semver))return!1;if(W.operator===P&&w(l,W.semver))return!1}return!0},s0}var a0,T2;function jR(){if(T2)return a0;T2=1;const r=Cb();return a0=(t,o,i)=>r(t,o,">",i),a0}var c0,A2;function VR(){if(A2)return c0;A2=1;const r=Cb();return c0=(t,o,i)=>r(t,o,"<",i),c0}var u0,E2;function HR(){if(E2)return u0;E2=1;const r=oo();return u0=(t,o,i)=>(t=new r(t,i),o=new r(o,i),t.intersects(o,i)),u0}var l0,P2;function GR(){if(P2)return l0;P2=1;const r=Bh(),e=no();return l0=(t,o,i)=>{const n=[];let s=null,a=null;const c=t.sort((h,b)=>e(h,b,i));for(const h of c)r(h,o,i)?(a=h,s||(s=h)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[h,b]of n)h===b?u.push(h):!b&&h===c[0]?u.push("*"):b?h===c[0]?u.push(`<=${b}`):u.push(`${h} - ${b}`):u.push(`>=${h}`);const l=u.join(" || "),d=typeof o.raw=="string"?o.raw:String(o);return l.length<d.length?l:o},l0}var f0,I2;function KR(){if(I2)return f0;I2=1;const r=oo(),e=Ih(),{ANY:t}=e,o=Bh(),i=no(),n=(d,h,b={})=>{if(d===h)return!0;d=new r(d,b),h=new r(h,b);let y=!1;e:for(const g of d.set){for(const w of h.set){const I=c(g,w,b);if(y=y||I!==null,I)continue e}if(y)return!1}return!0},s=[new e(">=0.0.0-0")],a=[new e(">=0.0.0")],c=(d,h,b)=>{if(d===h)return!0;if(d.length===1&&d[0].semver===t){if(h.length===1&&h[0].semver===t)return!0;b.includePrerelease?d=s:d=a}if(h.length===1&&h[0].semver===t){if(b.includePrerelease)return!0;h=a}const y=new Set;let g,w;for(const T of d)T.operator===">"||T.operator===">="?g=u(g,T,b):T.operator==="<"||T.operator==="<="?w=l(w,T,b):y.add(T.semver);if(y.size>1)return null;let I;if(g&&w){if(I=i(g.semver,w.semver,b),I>0)return null;if(I===0&&(g.operator!==">="||w.operator!=="<="))return null}for(const T of y){if(g&&!o(T,String(g),b)||w&&!o(T,String(w),b))return null;for(const E of h)if(!o(T,String(E),b))return!1;return!0}let P,B,M,O,W=w&&!b.includePrerelease&&w.semver.prerelease.length?w.semver:!1,S=g&&!b.includePrerelease&&g.semver.prerelease.length?g.semver:!1;W&&W.prerelease.length===1&&w.operator==="<"&&W.prerelease[0]===0&&(W=!1);for(const T of h){if(O=O||T.operator===">"||T.operator===">=",M=M||T.operator==="<"||T.operator==="<=",g){if(S&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===S.major&&T.semver.minor===S.minor&&T.semver.patch===S.patch&&(S=!1),T.operator===">"||T.operator===">="){if(P=u(g,T,b),P===T&&P!==g)return!1}else if(g.operator===">="&&!o(g.semver,String(T),b))return!1}if(w){if(W&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===W.major&&T.semver.minor===W.minor&&T.semver.patch===W.patch&&(W=!1),T.operator==="<"||T.operator==="<="){if(B=l(w,T,b),B===T&&B!==w)return!1}else if(w.operator==="<="&&!o(w.semver,String(T),b))return!1}if(!T.operator&&(w||g)&&I!==0)return!1}return!(g&&M&&!w&&I!==0||w&&O&&!g&&I!==0||S||W)},u=(d,h,b)=>{if(!d)return h;const y=i(d.semver,h.semver,b);return y>0?d:y<0||h.operator===">"&&d.operator===">="?h:d},l=(d,h,b)=>{if(!d)return h;const y=i(d.semver,h.semver,b);return y<0?d:y>0||h.operator==="<"&&d.operator==="<="?h:d};return f0=n,f0}var d0,B2;function ZR(){if(B2)return d0;B2=1;const r=Tu(),e=Ah(),t=$r(),o=p4(),i=oc(),n=PR(),s=IR(),a=BR(),c=CR(),u=_R(),l=SR(),d=WR(),h=OR(),b=no(),y=RR(),g=MR(),w=Eb(),I=NR(),P=$R(),B=Ph(),M=Pb(),O=g4(),W=y4(),S=Ib(),T=Bb(),E=b4(),C=FR(),N=Ih(),U=oo(),D=Bh(),L=kR(),x=DR(),A=LR(),R=zR(),F=qR(),z=Cb(),j=jR(),Z=VR(),J=HR(),oe=GR(),ee=KR();return d0={parse:i,valid:n,clean:s,inc:a,diff:c,major:u,minor:l,patch:d,prerelease:h,compare:b,rcompare:y,compareLoose:g,compareBuild:w,sort:I,rsort:P,gt:B,lt:M,eq:O,neq:W,gte:S,lte:T,cmp:E,coerce:C,Comparator:N,Range:U,satisfies:D,toComparators:L,maxSatisfying:x,minSatisfying:A,minVersion:R,validRange:F,outside:z,gtr:j,ltr:Z,intersects:J,simplifyRange:oe,subset:ee,SemVer:t,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers},d0}var YR=ZR();const w4=$s(YR),Ch=new oi;function C2(r){return Be.address.toHex(r).replace(Ga,"0x")}function JR(r,e,t,o=!1){if(o&&t.replace(/^0x/,"").length%64===8&&(t="0x"+t.replace(/^0x/,"").substring(8)),t.replace(/^0x/,"").length%64)throw new Error("The encoded string is not valid. Its length must be a multiple of 64.");return e=e.map(i=>(/trcToken/.test(i)&&(i=i.replace(/trcToken/,"uint256")),i)),Ch.decode(e,t).reduce((i,n,s)=>(e[s]=="address"&&(n=On+n.substr(2).toLowerCase()),r.length?i[r[s]]=n:i.push(n),i),r.length?{}:[])}function XR(r,e){for(let t=0;t<r.length;t++)r[t]==="address"&&(e[t]=Be.address.toHex(e[t]).replace(Ga,"0x"));return Ch.encode(r,e)}function nu(r){const e=r.match(/([a-zA-Z0-9])(\[.*\])/);return e?e[2]:""}function m4(r){return(nu(r).match(/\]\[/g)||[]).length+1}function $d(r,e){const t=[],o=c=>c&&c.type.indexOf("tuple")===0&&c.components?`tuple(${c.components.map(l=>o(l)).join(",")})${nu(c.type)}`:/trcToken/.test(c.type)?c.type.replace(/trcToken/,"uint256"):c.type,i=c=>{for(let u=0;u<c.length;u++){const l=c[u];/trcToken/.test(l)&&(c[u]=l.replace(/trcToken/,"uint256"))}},n=c=>Array.isArray(c)?(c.forEach((u,l)=>{c[l]=n(u)}),c):C2(c),s=(c,u,l)=>{l>1?u.length&&u.forEach(d=>{s(c,d,l-1)}):u.length&&l&&u.forEach(d=>{a(c,d)})},a=(c=[],u)=>{c.length&&c.forEach((l,d)=>{const h=l.type;if(u[d]){if(h==="address")u[d]=C2(u[d]);else if(h.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address[")n(u[d]);else if(h.indexOf("tuple")===0)if(nu(h)){const b=m4(h);s(l.components,u[d],b)}else a(l.components,u[d])}})};if(r.inputs&&r.inputs.length)for(let c=0;c<r.inputs.length;c++){const u=r.inputs[c].type;u==="bool"&&e[c]==="false"&&(e[c]=!1),t.push(u.indexOf("tuple")===0?o(r.inputs[c]):u),e.length<t.length&&e.push("")}return a(r.inputs,e),i(t),Ch.encode(t,e)}function x4(r,e){const t=a=>{for(let c=0;c<a.length;c++){const u=a[c];/^trcToken/.test(u)&&(a[c]=u.replace(/^trcToken/,"uint256"))}},o=a=>Array.isArray(a)?(a.forEach((c,u)=>{a[u]=o(c)}),a):Be.address.toHex(a),i=(a,c,u)=>{u>1?c.length&&c.forEach(l=>{i(a,l,u-1)}):c.length&&u&&c.forEach(l=>{s(a,l)})},n=a=>{const c=a.name?` ${a.name}`:"";return a&&a.type.indexOf("tuple")===0&&a.components?`tuple(${a.components.map(l=>n(l)).join(",")})${nu(a.type)}${c}`:/trcToken/.test(a.type)?a.type.replace(/trcToken/,"uint256")+c:a.type+c},s=(a,c)=>{a.length&&a.forEach((u,l)=>{const{type:d,name:h}=u;if(c[l])if(d==="address")c[l]=Be.address.toHex(c[l]),h&&(c[h]=Be.address.toHex(c[l]));else if(d.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address[")o(c[l]),h&&(c[h]=o(c[l]));else if(d.indexOf("tuple")===0){if(nu(d)){const b=m4(d);i(u.components,c[l],b)}else s(u.components,c[l]);h&&(c[h]=c[l])}else h&&(c[h]=c[l]);else h&&(c[h]=c[l])})};if("outputs"in r&&r.outputs&&r.outputs.length>0){const a=[];for(let l=0;l<r.outputs.length;l++){const d=r.outputs[l].type,h=r.outputs[l].name?` ${r.outputs[l].name}`:"";a.push(d.indexOf("tuple")===0?n(r.outputs[l]):d+h)}t(a),(!e||!e.length)&&(e=new Uint8Array(32*r.outputs.length));const u=Ch.decode(a,e).toArray(!0);return s(r.outputs,u),u}return[]}const QR=Object.freeze(Object.defineProperty({__proto__:null,decodeParams:JR,decodeParamsV2ByABI:x4,encodeParams:XR,encodeParamsV2ByABI:$d},Symbol.toStringTag,{value:"Module"}));class v4{invalid(e){return e.msg||`Invalid ${e.name}${e.type==="address"?" address":""} provided`}notPositive(e){return`${e.name} must be a positive integer`}notEqual(e){return e.msg||`${e.names?.[0]} can not be equal to ${e.names?.[1]}`}notValid(e){const t={};let o=!1;for(const i of e){const{name:n,names:s,value:a,type:c,gt:u,lt:l,gte:d,lte:h,optional:b}=i;if(!(b&&(!Ir(a)||c!=="boolean"&&a===!1))){switch(t[n]=i.value,c){case"address":mu(a)?t[n]=Se(a):o=!0;break;case"integer":(!Ri(a)||typeof u=="number"&&a<=u||typeof l=="number"&&a>=l||typeof d=="number"&&a<d||typeof h=="number"&&a>h)&&(o=!0);break;case"positive-integer":if(!Ri(a)||a<=0)throw new Error(this.notPositive(i));break;case"tokenId":(!Br(a)||!a.length)&&(o=!0);break;case"notEmptyObject":(!hu(a)||!Object.keys(a).length)&&(o=!0);break;case"notEqual":if(s&&t[s[0]]===t[s[1]])throw new Error(this.notEqual(i));break;case"resource":["BANDWIDTH","ENERGY"].includes(a)||(o=!0);break;case"url":Yy(a)||(o=!0);break;case"hex":Fs(a)||(o=!0);break;case"array":Array.isArray(a)||(o=!0);break;case"not-empty-string":(!Br(a)||!a.length)&&(o=!0);break;case"boolean":qE(a)||(o=!0);break;case"string":(!Br(a)||typeof u=="number"&&a.length<=u||typeof l=="number"&&a.length>=l||typeof d=="number"&&a.length<d||typeof h=="number"&&a.length>h)&&(o=!0);break}if(o)throw new Error(this.invalid(i))}}return!1}}var Xe;(function(r){r.AccountCreateContract="AccountCreateContract",r.TransferContract="TransferContract",r.TransferAssetContract="TransferAssetContract",r.VoteAssetContract="VoteAssetContract",r.VoteWitnessContract="VoteWitnessContract",r.WitnessCreateContract="WitnessCreateContract",r.AssetIssueContract="AssetIssueContract",r.WitnessUpdateContract="WitnessUpdateContract",r.ParticipateAssetIssueContract="ParticipateAssetIssueContract",r.AccountUpdateContract="AccountUpdateContract",r.FreezeBalanceContract="FreezeBalanceContract",r.UnfreezeBalanceContract="UnfreezeBalanceContract",r.CancelAllUnfreezeV2Contract="CancelAllUnfreezeV2Contract",r.WithdrawBalanceContract="WithdrawBalanceContract",r.UnfreezeAssetContract="UnfreezeAssetContract",r.UpdateAssetContract="UpdateAssetContract",r.ProposalCreateContract="ProposalCreateContract",r.ProposalApproveContract="ProposalApproveContract",r.ProposalDeleteContract="ProposalDeleteContract",r.SetAccountIdContract="SetAccountIdContract",r.CustomContract="CustomContract",r.CreateSmartContract="CreateSmartContract",r.TriggerSmartContract="TriggerSmartContract",r.GetContract="GetContract",r.UpdateSettingContract="UpdateSettingContract",r.ExchangeCreateContract="ExchangeCreateContract",r.ExchangeInjectContract="ExchangeInjectContract",r.ExchangeWithdrawContract="ExchangeWithdrawContract",r.ExchangeTransactionContract="ExchangeTransactionContract",r.UpdateEnergyLimitContract="UpdateEnergyLimitContract",r.AccountPermissionUpdateContract="AccountPermissionUpdateContract",r.ClearABIContract="ClearABIContract",r.UpdateBrokerageContract="UpdateBrokerageContract",r.ShieldedTransferContract="ShieldedTransferContract",r.MarketSellAssetContract="MarketSellAssetContract",r.MarketCancelOrderContract="MarketCancelOrderContract",r.FreezeBalanceV2Contract="FreezeBalanceV2Contract",r.UnfreezeBalanceV2Contract="UnfreezeBalanceV2Contract",r.WithdrawExpireUnfreezeContract="WithdrawExpireUnfreezeContract",r.DelegateResourceContract="DelegateResourceContract",r.UnDelegateResourceContract="UnDelegateResourceContract",r.UNRECOGNIZED="UNRECOGNIZED"})(Xe||(Xe={}));var _2;(function(r){r[r.Owner=0]="Owner",r[r.Witness=1]="Witness",r[r.Active=2]="Active",r[r.UNRECOGNIZED=-1]="UNRECOGNIZED"})(_2||(_2={}));var S2;(function(r){r[r.Normal=0]="Normal",r[r.AssetIssue=1]="AssetIssue",r[r.Contract=2]="Contract",r[r.UNRECOGNIZED=-1]="UNRECOGNIZED"})(S2||(S2={}));var h0={},es={},W2;function io(){return W2||(W2=1,function(r){var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,p,m){f!=Array.prototype&&f!=Object.prototype&&(f[p]=m.value)},t=typeof window<"u"&&window===es?es:typeof window<"u"&&window!=null?window:es;function o(f,p){if(p){var m=t;f=f.split(".");for(var k=0;k<f.length-1;k++){var K=f[k];K in m||(m[K]={}),m=m[K]}f=f[f.length-1],k=m[f],p=p(k),p!=k&&p!=null&&e(m,f,{configurable:!0,writable:!0,value:p})}}function i(f){var p=0;return function(){return p<f.length?{done:!1,value:f[p++]}:{done:!0}}}function n(){n=function(){},t.Symbol||(t.Symbol=a)}function s(f,p){this.a=f,e(this,"description",{configurable:!0,writable:!0,value:p})}s.prototype.toString=function(){return this.a};var a=function(){function f(m){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new s("jscomp_symbol_"+(m||"")+"_"+p++,m)}var p=0;return f}();function c(){n();var f=t.Symbol.iterator;f||(f=t.Symbol.iterator=t.Symbol("Symbol.iterator")),typeof Array.prototype[f]!="function"&&e(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return u(i(this))}}),c=function(){}}function u(f){return c(),f={next:f},f[t.Symbol.iterator]=function(){return this},f}function l(f,p){c(),f instanceof String&&(f+="");var m=0,k={next:function(){if(m<f.length){var K=m++;return{value:p(K,f[K]),done:!1}}return k.next=function(){return{done:!0,value:void 0}},k.next()}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.entries",function(f){return f||function(){return l(this,function(p,m){return[p,m]})}});var d=es||self;function h(f,p,m){f=f.split("."),m=m||d,f[0]in m||typeof m.execScript>"u"||m.execScript("var "+f[0]);for(var k;f.length&&(k=f.shift());)f.length||p===void 0?m[k]&&m[k]!==Object.prototype[k]?m=m[k]:m=m[k]={}:m[k]=p}function b(f){var p=typeof f;if(p=="object")if(f){if(f instanceof Array)return"array";if(f instanceof Object)return p;var m=Object.prototype.toString.call(f);if(m=="[object Window]")return"object";if(m=="[object Array]"||typeof f.length=="number"&&typeof f.splice<"u"&&typeof f.propertyIsEnumerable<"u"&&!f.propertyIsEnumerable("splice"))return"array";if(m=="[object Function]"||typeof f.call<"u"&&typeof f.propertyIsEnumerable<"u"&&!f.propertyIsEnumerable("call"))return"function"}else return"null";else if(p=="function"&&typeof f.call>"u")return"object";return p}function y(f){var p=typeof f;return p=="object"&&f!=null||p=="function"}function g(f,p,m){h(f,p,m)}function w(f,p){function m(){}m.prototype=p.prototype,f.prototype=new m,f.prototype.constructor=f}var I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,p){for(var m,k,K=1;K<arguments.length;K++){k=arguments[K];for(m in k)f[m]=k[m];for(var Q=0;Q<I.length;Q++)m=I[Q],Object.prototype.hasOwnProperty.call(k,m)&&(f[m]=k[m])}}var B=Array.prototype.forEach?function(f,p){Array.prototype.forEach.call(f,p,void 0)}:function(f,p){for(var m=f.length,k=typeof f=="string"?f.split(""):f,K=0;K<m;K++)K in k&&p.call(void 0,k[K],K,f)},M=Array.prototype.map?function(f,p){return Array.prototype.map.call(f,p,void 0)}:function(f,p){for(var m=f.length,k=Array(m),K=typeof f=="string"?f.split(""):f,Q=0;Q<m;Q++)Q in K&&(k[Q]=p.call(void 0,K[Q],Q,f));return k};function O(f,p,m){return 2>=arguments.length?Array.prototype.slice.call(f,p):Array.prototype.slice.call(f,p,m)}function W(f,p,m,k){var K="Assertion failed";if(m){K+=": "+m;var Q=k}else f&&(K+=": "+f,Q=p);throw Error(K,Q||[])}function S(f,p,m){for(var k=[],K=2;K<arguments.length;++K)k[K-2]=arguments[K];return f||W("",null,p,k),f}function T(f,p,m){for(var k=[],K=2;K<arguments.length;++K)k[K-2]=arguments[K];typeof f!="string"&&W("Expected string but got %s: %s.",[b(f),f],p,k)}function E(f,p,m){for(var k=[],K=2;K<arguments.length;++K)k[K-2]=arguments[K];Array.isArray(f)||W("Expected array but got %s: %s.",[b(f),f],p,k)}function C(f,p){for(var m=[],k=1;k<arguments.length;++k)m[k-1]=arguments[k];throw Error("Failure"+(f?": "+f:""),m)}function N(f,p,m,k){for(var K=[],Q=3;Q<arguments.length;++Q)K[Q-3]=arguments[Q];f instanceof p||W("Expected instanceof %s but got %s.",[U(p),U(f)],m,K)}function U(f){return f instanceof Function?f.displayName||f.name||"unknown type name":f instanceof Object?f.constructor.displayName||f.constructor.name||Object.prototype.toString.call(f):f===null?"null":typeof f}function D(f,p){if(this.c=f,this.b=p,this.a={},this.arrClean=!0,0<this.c.length){for(f=0;f<this.c.length;f++){p=this.c[f];var m=p[0];this.a[m.toString()]=new R(m,p[1])}this.arrClean=!0}}h("jspb.Map",D,void 0),D.prototype.g=function(){if(this.arrClean){if(this.b){var f=this.a,p;for(p in f)if(Object.prototype.hasOwnProperty.call(f,p)){var m=f[p].a;m&&m.g()}}}else{for(this.c.length=0,f=A(this),f.sort(),p=0;p<f.length;p++){var k=this.a[f[p]];(m=k.a)&&m.g(),this.c.push([k.key,k.value])}this.arrClean=!0}return this.c},D.prototype.toArray=D.prototype.g,D.prototype.Mc=function(f,p){for(var m=this.g(),k=[],K=0;K<m.length;K++){var Q=this.a[m[K][0].toString()];x(this,Q);var de=Q.a;de?(S(p),k.push([Q.key,p(f,de)])):k.push([Q.key,Q.value])}return k},D.prototype.toObject=D.prototype.Mc,D.fromObject=function(f,p,m){p=new D([],p);for(var k=0;k<f.length;k++){var K=f[k][0],Q=m(f[k][1]);p.set(K,Q)}return p};function L(f){this.a=0,this.b=f}L.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(L.prototype[Symbol.iterator]=function(){return this}),D.prototype.Jb=function(){return A(this).length},D.prototype.getLength=D.prototype.Jb,D.prototype.clear=function(){this.a={},this.arrClean=!1},D.prototype.clear=D.prototype.clear,D.prototype.Cb=function(f){f=f.toString();var p=this.a.hasOwnProperty(f);return delete this.a[f],this.arrClean=!1,p},D.prototype.del=D.prototype.Cb,D.prototype.Eb=function(){var f=[],p=A(this);p.sort();for(var m=0;m<p.length;m++){var k=this.a[p[m]];f.push([k.key,k.value])}return f},D.prototype.getEntryList=D.prototype.Eb,D.prototype.entries=function(){var f=[],p=A(this);p.sort();for(var m=0;m<p.length;m++){var k=this.a[p[m]];f.push([k.key,x(this,k)])}return new L(f)},D.prototype.entries=D.prototype.entries,D.prototype.keys=function(){var f=[],p=A(this);p.sort();for(var m=0;m<p.length;m++)f.push(this.a[p[m]].key);return new L(f)},D.prototype.keys=D.prototype.keys,D.prototype.values=function(){var f=[],p=A(this);p.sort();for(var m=0;m<p.length;m++)f.push(x(this,this.a[p[m]]));return new L(f)},D.prototype.values=D.prototype.values,D.prototype.forEach=function(f,p){var m=A(this);m.sort();for(var k=0;k<m.length;k++){var K=this.a[m[k]];f.call(p,x(this,K),K.key,this)}},D.prototype.forEach=D.prototype.forEach,D.prototype.set=function(f,p){var m=new R(f);return this.b?(m.a=p,m.value=p.g()):m.value=p,this.a[f.toString()]=m,this.arrClean=!1,this},D.prototype.set=D.prototype.set;function x(f,p){return f.b?(p.a||(p.a=new f.b(p.value)),p.a):p.value}D.prototype.get=function(f){if(f=this.a[f.toString()])return x(this,f)},D.prototype.get=D.prototype.get,D.prototype.has=function(f){return f.toString()in this.a},D.prototype.has=D.prototype.has,D.prototype.Jc=function(f,p,m,k,K){var Q=A(this);Q.sort();for(var de=0;de<Q.length;de++){var $e=this.a[Q[de]];p.Va(f),m.call(p,1,$e.key),this.b?k.call(p,2,x(this,$e),K):k.call(p,2,$e.value),p.Ya()}},D.prototype.serializeBinary=D.prototype.Jc,D.deserializeBinary=function(f,p,m,k,K,Q,de){for(;p.oa()&&!p.bb();){var $e=p.c;$e==1?Q=m.call(p):$e==2&&(f.b?(S(K),de||(de=new f.b),k.call(p,de,K)):de=k.call(p))}S(Q!=null),S(de!=null),f.set(Q,de)};function A(f){f=f.a;var p=[],m;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push(m);return p}function R(f,p){this.key=f,this.value=p,this.a=void 0}function F(f){if(8192>=f.length)return String.fromCharCode.apply(null,f);for(var p="",m=0;m<f.length;m+=8192)p+=String.fromCharCode.apply(null,O(f,m,m+8192));return p}var z={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},j={"'":"\\'"},Z={},J=null;function oe(f,p){p===void 0&&(p=0),ae(),p=Z[p];for(var m=[],k=0;k<f.length;k+=3){var K=f[k],Q=k+1<f.length,de=Q?f[k+1]:0,$e=k+2<f.length,Rt=$e?f[k+2]:0,Ji=K>>2;K=(K&3)<<4|de>>4,de=(de&15)<<2|Rt>>6,Rt&=63,$e||(Rt=64,Q||(de=64)),m.push(p[Ji],p[K],p[de]||"",p[Rt]||"")}return m.join("")}function ee(f){var p=f.length,m=3*p/4;m%3?m=Math.floor(m):"=.".indexOf(f[p-1])!=-1&&(m="=.".indexOf(f[p-2])!=-1?m-2:m-1);var k=new Uint8Array(m),K=0;return te(f,function(Q){k[K++]=Q}),k.subarray(0,K)}function te(f,p){function m(Rt){for(;k<f.length;){var Ji=f.charAt(k++),x1=J[Ji];if(x1!=null)return x1;if(!/^[\s\xa0]*$/.test(Ji))throw Error("Unknown base64 encoding at char: "+Ji)}return Rt}ae();for(var k=0;;){var K=m(-1),Q=m(0),de=m(64),$e=m(64);if($e===64&&K===-1)break;p(K<<2|Q>>4),de!=64&&(p(Q<<4&240|de>>2),$e!=64&&p(de<<6&192|$e))}}function ae(){if(!J){J={};for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++){var k=f.concat(p[m].split(""));Z[m]=k;for(var K=0;K<k.length;K++){var Q=k[K];J[Q]===void 0&&(J[Q]=K)}}}}h("jspb.ConstBinaryMessage",function(){},void 0),h("jspb.BinaryMessage",function(){},void 0),h("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),h("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),h("jspb.BinaryConstants.FieldTypeToWireType",function(f){switch(f){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),h("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),h("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),h("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),h("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),h("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),h("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),h("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),h("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),h("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),h("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),h("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),h("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),h("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),h("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),h("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var ue=0,we=0;h("jspb.utils.getSplit64Low",function(){return ue},void 0),h("jspb.utils.getSplit64High",function(){return we},void 0);function Ee(f){var p=f>>>0;f=Math.floor((f-p)/4294967296)>>>0,ue=p,we=f}h("jspb.utils.splitUint64",Ee,void 0);function Ne(f){var p=0>f;f=Math.abs(f);var m=f>>>0;f=Math.floor((f-m)/4294967296),f>>>=0,p&&(f=~f>>>0,m=(~m>>>0)+1,4294967295<m&&(m=0,f++,4294967295<f&&(f=0))),ue=m,we=f}h("jspb.utils.splitInt64",Ne,void 0);function Ue(f){var p=0>f;f=2*Math.abs(f),Ee(f),f=ue;var m=we;p&&(f==0?m==0?m=f=4294967295:(m--,f=4294967295):f--),ue=f,we=m}h("jspb.utils.splitZigzag64",Ue,void 0);function ze(f){var p=0>f?1:0;if(f=p?-f:f,f===0)0<1/f?ue=we=0:(we=0,ue=2147483648);else if(isNaN(f))we=0,ue=2147483647;else if(34028234663852886e22<f)we=0,ue=(p<<31|2139095040)>>>0;else if(11754943508222875e-54>f)f=Math.round(f/Math.pow(2,-149)),we=0,ue=(p<<31|f)>>>0;else{var m=Math.floor(Math.log(f)/Math.LN2);f*=Math.pow(2,-m),f=Math.round(8388608*f),16777216<=f&&++m,we=0,ue=(p<<31|m+127<<23|f&8388607)>>>0}}h("jspb.utils.splitFloat32",ze,void 0);function Fe(f){var p=0>f?1:0;if(f=p?-f:f,f===0)we=0<1/f?0:2147483648,ue=0;else if(isNaN(f))we=2147483647,ue=4294967295;else if(17976931348623157e292<f)we=(p<<31|2146435072)>>>0,ue=0;else if(22250738585072014e-324>f)f/=Math.pow(2,-1074),we=(p<<31|f/4294967296)>>>0,ue=f>>>0;else{var m=f,k=0;if(2<=m)for(;2<=m&&1023>k;)k++,m/=2;else for(;1>m&&-1022<k;)m*=2,k--;f*=Math.pow(2,-k),we=(p<<31|k+1023<<20|1048576*f&1048575)>>>0,ue=4503599627370496*f>>>0}}h("jspb.utils.splitFloat64",Fe,void 0);function Re(f){var p=f.charCodeAt(4),m=f.charCodeAt(5),k=f.charCodeAt(6),K=f.charCodeAt(7);ue=f.charCodeAt(0)+(f.charCodeAt(1)<<8)+(f.charCodeAt(2)<<16)+(f.charCodeAt(3)<<24)>>>0,we=p+(m<<8)+(k<<16)+(K<<24)>>>0}h("jspb.utils.splitHash64",Re,void 0);function De(f,p){return 4294967296*p+(f>>>0)}h("jspb.utils.joinUint64",De,void 0);function mt(f,p){var m=p&2147483648;return m&&(f=~f+1>>>0,p=~p>>>0,f==0&&(p=p+1>>>0)),f=De(f,p),m?-f:f}h("jspb.utils.joinInt64",mt,void 0);function hr(f,p,m){var k=p>>31;return m(f<<1^k,(p<<1|f>>>31)^k)}h("jspb.utils.toZigzag64",hr,void 0);function G(f,p){return Y(f,p,mt)}h("jspb.utils.joinZigzag64",G,void 0);function Y(f,p,m){var k=-(f&1);return m((f>>>1|p<<31)^k,p>>>1^k)}h("jspb.utils.fromZigzag64",Y,void 0);function re(f){var p=2*(f>>31)+1,m=f>>>23&255;return f&=8388607,m==255?f?NaN:1/0*p:m==0?p*Math.pow(2,-149)*f:p*Math.pow(2,m-150)*(f+Math.pow(2,23))}h("jspb.utils.joinFloat32",re,void 0);function fe(f,p){var m=2*(p>>31)+1,k=p>>>20&2047;return f=4294967296*(p&1048575)+f,k==2047?f?NaN:1/0*m:k==0?m*Math.pow(2,-1074)*f:m*Math.pow(2,k-1075)*(f+4503599627370496)}h("jspb.utils.joinFloat64",fe,void 0);function ce(f,p){return String.fromCharCode(f>>>0&255,f>>>8&255,f>>>16&255,f>>>24&255,p>>>0&255,p>>>8&255,p>>>16&255,p>>>24&255)}h("jspb.utils.joinHash64",ce,void 0),h("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function pe(f,p){function m(K,Q){return K=K?String(K):"",Q?"0000000".slice(K.length)+K:K}if(2097151>=p)return""+De(f,p);var k=(f>>>24|p<<8)>>>0&16777215;return p=p>>16&65535,f=(f&16777215)+6777216*k+6710656*p,k+=8147497*p,p*=2,1e7<=f&&(k+=Math.floor(f/1e7),f%=1e7),1e7<=k&&(p+=Math.floor(k/1e7),k%=1e7),m(p,0)+m(k,p)+m(f,1)}h("jspb.utils.joinUnsignedDecimalString",pe,void 0);function Pe(f,p){var m=p&2147483648;return m&&(f=~f+1>>>0,p=~p+(f==0?1:0)>>>0),f=pe(f,p),m?"-"+f:f}h("jspb.utils.joinSignedDecimalString",Pe,void 0);function Oe(f,p){Re(f),f=ue;var m=we;return p?Pe(f,m):pe(f,m)}h("jspb.utils.hash64ToDecimalString",Oe,void 0),h("jspb.utils.hash64ArrayToDecimalStrings",function(f,p){for(var m=Array(f.length),k=0;k<f.length;k++)m[k]=Oe(f[k],p);return m},void 0);function Ve(f){function p(de,$e){for(var Rt=0;8>Rt&&(de!==1||0<$e);Rt++)$e=de*K[Rt]+$e,K[Rt]=$e&255,$e>>>=8}function m(){for(var de=0;8>de;de++)K[de]=~K[de]&255}S(0<f.length);var k=!1;f[0]==="-"&&(k=!0,f=f.slice(1));for(var K=[0,0,0,0,0,0,0,0],Q=0;Q<f.length;Q++)p(10,f.charCodeAt(Q)-48);return k&&(m(),p(1,1)),F(K)}h("jspb.utils.decimalStringToHash64",Ve,void 0),h("jspb.utils.splitDecimalString",function(f){Re(Ve(f))},void 0);function ht(f){return String.fromCharCode(10>f?48+f:87+f)}function Ot(f){return 97<=f?f-97+10:f-48}h("jspb.utils.hash64ToHexString",function(f){var p=Array(18);p[0]="0",p[1]="x";for(var m=0;8>m;m++){var k=f.charCodeAt(7-m);p[2*m+2]=ht(k>>4),p[2*m+3]=ht(k&15)}return p.join("")},void 0),h("jspb.utils.hexStringToHash64",function(f){f=f.toLowerCase(),S(f.length==18),S(f[0]=="0"),S(f[1]=="x");for(var p="",m=0;8>m;m++)p=String.fromCharCode(16*Ot(f.charCodeAt(2*m+2))+Ot(f.charCodeAt(2*m+3)))+p;return p},void 0),h("jspb.utils.hash64ToNumber",function(f,p){Re(f),f=ue;var m=we;return p?mt(f,m):De(f,m)},void 0),h("jspb.utils.numberToHash64",function(f){return Ne(f),ce(ue,we)},void 0),h("jspb.utils.countVarints",function(f,p,m){for(var k=0,K=p;K<m;K++)k+=f[K]>>7;return m-p-k},void 0),h("jspb.utils.countVarintFields",function(f,p,m,k){var K=0;if(k*=8,128>k)for(;p<m&&f[p++]==k;)for(K++;;){var Q=f[p++];if((Q&128)==0)break}else for(;p<m;){for(Q=k;128<Q;){if(f[p]!=(Q&127|128))return K;p++,Q>>=7}if(f[p++]!=Q)break;for(K++;Q=f[p++],(Q&128)!=0;);}return K},void 0);function pr(f,p,m,k,K){var Q=0;if(128>k)for(;p<m&&f[p++]==k;)Q++,p+=K;else for(;p<m;){for(var de=k;128<de;){if(f[p++]!=(de&127|128))return Q;de>>=7}if(f[p++]!=de)break;Q++,p+=K}return Q}h("jspb.utils.countFixed32Fields",function(f,p,m,k){return pr(f,p,m,8*k+5,4)},void 0),h("jspb.utils.countFixed64Fields",function(f,p,m,k){return pr(f,p,m,8*k+1,8)},void 0),h("jspb.utils.countDelimitedFields",function(f,p,m,k){var K=0;for(k=8*k+2;p<m;){for(var Q=k;128<Q;){if(f[p++]!=(Q&127|128))return K;Q>>=7}if(f[p++]!=Q)break;K++;for(var de=0,$e=1;Q=f[p++],de+=(Q&127)*$e,$e*=128,(Q&128)!=0;);p+=de}return K},void 0),h("jspb.utils.debugBytesToTextFormat",function(f){var p='"';if(f){f=q(f);for(var m=0;m<f.length;m++)p+="\\x",16>f[m]&&(p+="0"),p+=f[m].toString(16)}return p+'"'},void 0),h("jspb.utils.debugScalarToTextFormat",function(f){if(typeof f=="string"){f=String(f);for(var p=['"'],m=0;m<f.length;m++){var k=f.charAt(m),K=k.charCodeAt(0),Q=m+1,de;(de=z[k])||(31<K&&127>K||(K=k,K in j?k=j[K]:K in z?k=j[K]=z[K]:(de=K.charCodeAt(0),31<de&&127>de?k=K:(256>de?(k="\\x",(16>de||256<de)&&(k+="0")):(k="\\u",4096>de&&(k+="0")),k+=de.toString(16).toUpperCase()),k=j[K]=k)),de=k),p[Q]=de}p.push('"'),f=p.join("")}else f=f.toString();return f},void 0),h("jspb.utils.stringToByteArray",function(f){for(var p=new Uint8Array(f.length),m=0;m<f.length;m++){var k=f.charCodeAt(m);if(255<k)throw Error("Conversion error: string contains codepoint outside of byte range");p[m]=k}return p},void 0);function q(f){return f.constructor===Uint8Array?f:f.constructor===ArrayBuffer?new Uint8Array(f):f.constructor===Array?new Uint8Array(f):f.constructor===String?ee(f):f instanceof Uint8Array?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):(C("Type not convertible to Uint8Array."),new Uint8Array(0))}h("jspb.utils.byteSourceToUint8Array",q,void 0);function v(f,p,m){this.b=null,this.a=this.c=this.h=0,this.v=!1,f&&this.H(f,p,m)}h("jspb.BinaryDecoder",v,void 0);var _=[];v.getInstanceCacheLength=function(){return _.length};function H(f,p,m){if(_.length){var k=_.pop();return f&&k.H(f,p,m),k}return new v(f,p,m)}v.alloc=H,v.prototype.Ca=function(){this.clear(),100>_.length&&_.push(this)},v.prototype.free=v.prototype.Ca,v.prototype.clone=function(){return H(this.b,this.h,this.c-this.h)},v.prototype.clone=v.prototype.clone,v.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},v.prototype.clear=v.prototype.clear,v.prototype.Y=function(){return this.b},v.prototype.getBuffer=v.prototype.Y,v.prototype.H=function(f,p,m){this.b=q(f),this.h=p!==void 0?p:0,this.c=m!==void 0?this.h+m:this.b.length,this.a=this.h},v.prototype.setBlock=v.prototype.H,v.prototype.Db=function(){return this.c},v.prototype.getEnd=v.prototype.Db,v.prototype.setEnd=function(f){this.c=f},v.prototype.setEnd=v.prototype.setEnd,v.prototype.reset=function(){this.a=this.h},v.prototype.reset=v.prototype.reset,v.prototype.B=function(){return this.a},v.prototype.getCursor=v.prototype.B,v.prototype.Ma=function(f){this.a=f},v.prototype.setCursor=v.prototype.Ma,v.prototype.advance=function(f){this.a+=f,S(this.a<=this.c)},v.prototype.advance=v.prototype.advance,v.prototype.ya=function(){return this.a==this.c},v.prototype.atEnd=v.prototype.ya,v.prototype.Qb=function(){return this.a>this.c},v.prototype.pastEnd=v.prototype.Qb,v.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},v.prototype.getError=v.prototype.getError,v.prototype.w=function(f){for(var p=128,m=0,k=0,K=0;4>K&&128<=p;K++)p=this.b[this.a++],m|=(p&127)<<7*K;if(128<=p&&(p=this.b[this.a++],m|=(p&127)<<28,k|=(p&127)>>4),128<=p)for(K=0;5>K&&128<=p;K++)p=this.b[this.a++],k|=(p&127)<<7*K+3;if(128>p)return f(m>>>0,k>>>0);C("Failed to read varint, encoding is invalid."),this.v=!0},v.prototype.readSplitVarint64=v.prototype.w,v.prototype.ea=function(f){return this.w(function(p,m){return Y(p,m,f)})},v.prototype.readSplitZigzagVarint64=v.prototype.ea,v.prototype.ta=function(f){var p=this.b,m=this.a;this.a+=8;for(var k=0,K=0,Q=m+7;Q>=m;Q--)k=k<<8|p[Q],K=K<<8|p[Q+4];return f(k,K)},v.prototype.readSplitFixed64=v.prototype.ta,v.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},v.prototype.skipVarint=v.prototype.kb,v.prototype.mb=function(f){for(;128<f;)this.a--,f>>>=7;this.a--},v.prototype.unskipVarint=v.prototype.mb,v.prototype.o=function(){var f=this.b,p=f[this.a],m=p&127;return 128>p?(this.a+=1,S(this.a<=this.c),m):(p=f[this.a+1],m|=(p&127)<<7,128>p?(this.a+=2,S(this.a<=this.c),m):(p=f[this.a+2],m|=(p&127)<<14,128>p?(this.a+=3,S(this.a<=this.c),m):(p=f[this.a+3],m|=(p&127)<<21,128>p?(this.a+=4,S(this.a<=this.c),m):(p=f[this.a+4],m|=(p&15)<<28,128>p?(this.a+=5,S(this.a<=this.c),m>>>0):(this.a+=5,128<=f[this.a++]&&128<=f[this.a++]&&128<=f[this.a++]&&128<=f[this.a++]&&128<=f[this.a++]&&S(!1),S(this.a<=this.c),m)))))},v.prototype.readUnsignedVarint32=v.prototype.o,v.prototype.da=function(){return~~this.o()},v.prototype.readSignedVarint32=v.prototype.da,v.prototype.O=function(){return this.o().toString()},v.prototype.Ea=function(){return this.da().toString()},v.prototype.readSignedVarint32String=v.prototype.Ea,v.prototype.Ia=function(){var f=this.o();return f>>>1^-(f&1)},v.prototype.readZigzagVarint32=v.prototype.Ia,v.prototype.Ga=function(){return this.w(De)},v.prototype.readUnsignedVarint64=v.prototype.Ga,v.prototype.Ha=function(){return this.w(pe)},v.prototype.readUnsignedVarint64String=v.prototype.Ha,v.prototype.sa=function(){return this.w(mt)},v.prototype.readSignedVarint64=v.prototype.sa,v.prototype.Fa=function(){return this.w(Pe)},v.prototype.readSignedVarint64String=v.prototype.Fa,v.prototype.Ja=function(){return this.w(G)},v.prototype.readZigzagVarint64=v.prototype.Ja,v.prototype.fb=function(){return this.ea(ce)},v.prototype.readZigzagVarintHash64=v.prototype.fb,v.prototype.Ka=function(){return this.ea(Pe)},v.prototype.readZigzagVarint64String=v.prototype.Ka,v.prototype.Gc=function(){var f=this.b[this.a];return this.a+=1,S(this.a<=this.c),f},v.prototype.readUint8=v.prototype.Gc,v.prototype.Ec=function(){var f=this.b[this.a],p=this.b[this.a+1];return this.a+=2,S(this.a<=this.c),f<<0|p<<8},v.prototype.readUint16=v.prototype.Ec,v.prototype.m=function(){var f=this.b[this.a],p=this.b[this.a+1],m=this.b[this.a+2],k=this.b[this.a+3];return this.a+=4,S(this.a<=this.c),(f<<0|p<<8|m<<16|k<<24)>>>0},v.prototype.readUint32=v.prototype.m,v.prototype.ga=function(){var f=this.m(),p=this.m();return De(f,p)},v.prototype.readUint64=v.prototype.ga,v.prototype.ha=function(){var f=this.m(),p=this.m();return pe(f,p)},v.prototype.readUint64String=v.prototype.ha,v.prototype.Xb=function(){var f=this.b[this.a];return this.a+=1,S(this.a<=this.c),f<<24>>24},v.prototype.readInt8=v.prototype.Xb,v.prototype.Vb=function(){var f=this.b[this.a],p=this.b[this.a+1];return this.a+=2,S(this.a<=this.c),(f<<0|p<<8)<<16>>16},v.prototype.readInt16=v.prototype.Vb,v.prototype.P=function(){var f=this.b[this.a],p=this.b[this.a+1],m=this.b[this.a+2],k=this.b[this.a+3];return this.a+=4,S(this.a<=this.c),f<<0|p<<8|m<<16|k<<24},v.prototype.readInt32=v.prototype.P,v.prototype.ba=function(){var f=this.m(),p=this.m();return mt(f,p)},v.prototype.readInt64=v.prototype.ba,v.prototype.ca=function(){var f=this.m(),p=this.m();return Pe(f,p)},v.prototype.readInt64String=v.prototype.ca,v.prototype.aa=function(){var f=this.m();return re(f)},v.prototype.readFloat=v.prototype.aa,v.prototype.Z=function(){var f=this.m(),p=this.m();return fe(f,p)},v.prototype.readDouble=v.prototype.Z,v.prototype.pa=function(){return!!this.b[this.a++]},v.prototype.readBool=v.prototype.pa,v.prototype.ra=function(){return this.da()},v.prototype.readEnum=v.prototype.ra,v.prototype.fa=function(f){var p=this.b,m=this.a;f=m+f;for(var k=[],K="";m<f;){var Q=p[m++];if(128>Q)k.push(Q);else{if(192>Q)continue;if(224>Q){var de=p[m++];k.push((Q&31)<<6|de&63)}else if(240>Q){de=p[m++];var $e=p[m++];k.push((Q&15)<<12|(de&63)<<6|$e&63)}else if(248>Q){de=p[m++],$e=p[m++];var Rt=p[m++];Q=(Q&7)<<18|(de&63)<<12|($e&63)<<6|Rt&63,Q-=65536,k.push((Q>>10&1023)+55296,(Q&1023)+56320)}}8192<=k.length&&(K+=String.fromCharCode.apply(null,k),k.length=0)}return K+=F(k),this.a=m,K},v.prototype.readString=v.prototype.fa,v.prototype.Dc=function(){var f=this.o();return this.fa(f)},v.prototype.readStringWithLength=v.prototype.Dc,v.prototype.qa=function(f){if(0>f||this.a+f>this.b.length)return this.v=!0,C("Invalid byte length!"),new Uint8Array(0);var p=this.b.subarray(this.a,this.a+f);return this.a+=f,S(this.a<=this.c),p},v.prototype.readBytes=v.prototype.qa,v.prototype.ia=function(){return this.w(ce)},v.prototype.readVarintHash64=v.prototype.ia,v.prototype.$=function(){var f=this.b,p=this.a,m=f[p],k=f[p+1],K=f[p+2],Q=f[p+3],de=f[p+4],$e=f[p+5],Rt=f[p+6];return f=f[p+7],this.a+=8,String.fromCharCode(m,k,K,Q,de,$e,Rt,f)},v.prototype.readFixedHash64=v.prototype.$;function $(f,p,m){this.a=H(f,p,m),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}h("jspb.BinaryReader",$,void 0);var ne=[];$.clearInstanceCache=function(){ne=[]},$.getInstanceCacheLength=function(){return ne.length};function se(f,p,m){if(ne.length){var k=ne.pop();return f&&k.a.H(f,p,m),k}return new $(f,p,m)}$.alloc=se,$.prototype.zb=se,$.prototype.alloc=$.prototype.zb,$.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>ne.length&&ne.push(this)},$.prototype.free=$.prototype.Ca,$.prototype.Fb=function(){return this.O},$.prototype.getFieldCursor=$.prototype.Fb,$.prototype.B=function(){return this.a.B()},$.prototype.getCursor=$.prototype.B,$.prototype.Y=function(){return this.a.Y()},$.prototype.getBuffer=$.prototype.Y,$.prototype.Hb=function(){return this.c},$.prototype.getFieldNumber=$.prototype.Hb,$.prototype.Lb=function(){return this.b},$.prototype.getWireType=$.prototype.Lb,$.prototype.Mb=function(){return this.b==2},$.prototype.isDelimited=$.prototype.Mb,$.prototype.bb=function(){return this.b==4},$.prototype.isEndGroup=$.prototype.bb,$.prototype.getError=function(){return this.h||this.a.getError()},$.prototype.getError=$.prototype.getError,$.prototype.H=function(f,p,m){this.a.H(f,p,m),this.b=this.c=-1},$.prototype.setBlock=$.prototype.H,$.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},$.prototype.reset=$.prototype.reset,$.prototype.advance=function(f){this.a.advance(f)},$.prototype.advance=$.prototype.advance,$.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return C("Decoder hit an error"),!1;this.O=this.a.B();var f=this.a.o(),p=f>>>3;return f&=7,f!=0&&f!=5&&f!=1&&f!=2&&f!=3&&f!=4?(C("Invalid wire type: %s (at position %s)",f,this.O),this.h=!0,!1):(this.c=p,this.b=f,!0)},$.prototype.nextField=$.prototype.oa,$.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},$.prototype.unskipHeader=$.prototype.Oa,$.prototype.Lc=function(){var f=this.c;for(this.Oa();this.oa()&&this.c==f;)this.C();this.a.ya()||this.Oa()},$.prototype.skipMatchingFields=$.prototype.Lc,$.prototype.lb=function(){this.b!=0?(C("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},$.prototype.skipVarintField=$.prototype.lb,$.prototype.gb=function(){if(this.b!=2)C("Invalid wire type for skipDelimitedField"),this.C();else{var f=this.a.o();this.a.advance(f)}},$.prototype.skipDelimitedField=$.prototype.gb,$.prototype.hb=function(){this.b!=5?(C("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},$.prototype.skipFixed32Field=$.prototype.hb,$.prototype.ib=function(){this.b!=1?(C("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},$.prototype.skipFixed64Field=$.prototype.ib,$.prototype.jb=function(){var f=this.c;do{if(!this.oa()){C("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=f&&(C("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},$.prototype.skipGroup=$.prototype.jb,$.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:C("Invalid wire encoding for field.")}},$.prototype.skipField=$.prototype.C,$.prototype.Hc=function(f,p){this.v===null&&(this.v={}),S(!this.v[f]),this.v[f]=p},$.prototype.registerReadCallback=$.prototype.Hc,$.prototype.Ic=function(f){return S(this.v!==null),f=this.v[f],S(f),f(this)},$.prototype.runReadCallback=$.prototype.Ic,$.prototype.Yb=function(f,p){S(this.b==2);var m=this.a.c,k=this.a.o();k=this.a.B()+k,this.a.setEnd(k),p(f,this),this.a.Ma(k),this.a.setEnd(m)},$.prototype.readMessage=$.prototype.Yb,$.prototype.Ub=function(f,p,m){S(this.b==3),S(this.c==f),m(p,this),this.h||this.b==4||(C("Group submessage did not end with an END_GROUP tag"),this.h=!0)},$.prototype.readGroup=$.prototype.Ub,$.prototype.Gb=function(){S(this.b==2);var f=this.a.o(),p=this.a.B(),m=p+f;return f=H(this.a.Y(),p,f),this.a.Ma(m),f},$.prototype.getFieldDecoder=$.prototype.Gb,$.prototype.P=function(){return S(this.b==0),this.a.da()},$.prototype.readInt32=$.prototype.P,$.prototype.Wb=function(){return S(this.b==0),this.a.Ea()},$.prototype.readInt32String=$.prototype.Wb,$.prototype.ba=function(){return S(this.b==0),this.a.sa()},$.prototype.readInt64=$.prototype.ba,$.prototype.ca=function(){return S(this.b==0),this.a.Fa()},$.prototype.readInt64String=$.prototype.ca,$.prototype.m=function(){return S(this.b==0),this.a.o()},$.prototype.readUint32=$.prototype.m,$.prototype.Fc=function(){return S(this.b==0),this.a.O()},$.prototype.readUint32String=$.prototype.Fc,$.prototype.ga=function(){return S(this.b==0),this.a.Ga()},$.prototype.readUint64=$.prototype.ga,$.prototype.ha=function(){return S(this.b==0),this.a.Ha()},$.prototype.readUint64String=$.prototype.ha,$.prototype.zc=function(){return S(this.b==0),this.a.Ia()},$.prototype.readSint32=$.prototype.zc,$.prototype.Ac=function(){return S(this.b==0),this.a.Ja()},$.prototype.readSint64=$.prototype.Ac,$.prototype.Bc=function(){return S(this.b==0),this.a.Ka()},$.prototype.readSint64String=$.prototype.Bc,$.prototype.Rb=function(){return S(this.b==5),this.a.m()},$.prototype.readFixed32=$.prototype.Rb,$.prototype.Sb=function(){return S(this.b==1),this.a.ga()},$.prototype.readFixed64=$.prototype.Sb,$.prototype.Tb=function(){return S(this.b==1),this.a.ha()},$.prototype.readFixed64String=$.prototype.Tb,$.prototype.vc=function(){return S(this.b==5),this.a.P()},$.prototype.readSfixed32=$.prototype.vc,$.prototype.wc=function(){return S(this.b==5),this.a.P().toString()},$.prototype.readSfixed32String=$.prototype.wc,$.prototype.xc=function(){return S(this.b==1),this.a.ba()},$.prototype.readSfixed64=$.prototype.xc,$.prototype.yc=function(){return S(this.b==1),this.a.ca()},$.prototype.readSfixed64String=$.prototype.yc,$.prototype.aa=function(){return S(this.b==5),this.a.aa()},$.prototype.readFloat=$.prototype.aa,$.prototype.Z=function(){return S(this.b==1),this.a.Z()},$.prototype.readDouble=$.prototype.Z,$.prototype.pa=function(){return S(this.b==0),!!this.a.o()},$.prototype.readBool=$.prototype.pa,$.prototype.ra=function(){return S(this.b==0),this.a.sa()},$.prototype.readEnum=$.prototype.ra,$.prototype.fa=function(){S(this.b==2);var f=this.a.o();return this.a.fa(f)},$.prototype.readString=$.prototype.fa,$.prototype.qa=function(){S(this.b==2);var f=this.a.o();return this.a.qa(f)},$.prototype.readBytes=$.prototype.qa,$.prototype.ia=function(){return S(this.b==0),this.a.ia()},$.prototype.readVarintHash64=$.prototype.ia,$.prototype.Cc=function(){return S(this.b==0),this.a.fb()},$.prototype.readSintHash64=$.prototype.Cc,$.prototype.w=function(f){return S(this.b==0),this.a.w(f)},$.prototype.readSplitVarint64=$.prototype.w,$.prototype.ea=function(f){return S(this.b==0),this.a.w(function(p,m){return Y(p,m,f)})},$.prototype.readSplitZigzagVarint64=$.prototype.ea,$.prototype.$=function(){return S(this.b==1),this.a.$()},$.prototype.readFixedHash64=$.prototype.$,$.prototype.ta=function(f){return S(this.b==1),this.a.ta(f)},$.prototype.readSplitFixed64=$.prototype.ta;function _e(f,p){S(f.b==2);var m=f.a.o();m=f.a.B()+m;for(var k=[];f.a.B()<m;)k.push(p.call(f.a));return k}$.prototype.gc=function(){return _e(this,this.a.da)},$.prototype.readPackedInt32=$.prototype.gc,$.prototype.hc=function(){return _e(this,this.a.Ea)},$.prototype.readPackedInt32String=$.prototype.hc,$.prototype.ic=function(){return _e(this,this.a.sa)},$.prototype.readPackedInt64=$.prototype.ic,$.prototype.jc=function(){return _e(this,this.a.Fa)},$.prototype.readPackedInt64String=$.prototype.jc,$.prototype.qc=function(){return _e(this,this.a.o)},$.prototype.readPackedUint32=$.prototype.qc,$.prototype.rc=function(){return _e(this,this.a.O)},$.prototype.readPackedUint32String=$.prototype.rc,$.prototype.sc=function(){return _e(this,this.a.Ga)},$.prototype.readPackedUint64=$.prototype.sc,$.prototype.tc=function(){return _e(this,this.a.Ha)},$.prototype.readPackedUint64String=$.prototype.tc,$.prototype.nc=function(){return _e(this,this.a.Ia)},$.prototype.readPackedSint32=$.prototype.nc,$.prototype.oc=function(){return _e(this,this.a.Ja)},$.prototype.readPackedSint64=$.prototype.oc,$.prototype.pc=function(){return _e(this,this.a.Ka)},$.prototype.readPackedSint64String=$.prototype.pc,$.prototype.bc=function(){return _e(this,this.a.m)},$.prototype.readPackedFixed32=$.prototype.bc,$.prototype.cc=function(){return _e(this,this.a.ga)},$.prototype.readPackedFixed64=$.prototype.cc,$.prototype.dc=function(){return _e(this,this.a.ha)},$.prototype.readPackedFixed64String=$.prototype.dc,$.prototype.kc=function(){return _e(this,this.a.P)},$.prototype.readPackedSfixed32=$.prototype.kc,$.prototype.lc=function(){return _e(this,this.a.ba)},$.prototype.readPackedSfixed64=$.prototype.lc,$.prototype.mc=function(){return _e(this,this.a.ca)},$.prototype.readPackedSfixed64String=$.prototype.mc,$.prototype.fc=function(){return _e(this,this.a.aa)},$.prototype.readPackedFloat=$.prototype.fc,$.prototype.$b=function(){return _e(this,this.a.Z)},$.prototype.readPackedDouble=$.prototype.$b,$.prototype.Zb=function(){return _e(this,this.a.pa)},$.prototype.readPackedBool=$.prototype.Zb,$.prototype.ac=function(){return _e(this,this.a.ra)},$.prototype.readPackedEnum=$.prototype.ac,$.prototype.uc=function(){return _e(this,this.a.ia)},$.prototype.readPackedVarintHash64=$.prototype.uc,$.prototype.ec=function(){return _e(this,this.a.$)},$.prototype.readPackedFixedHash64=$.prototype.ec;function pt(f,p,m,k,K){this.ma=f,this.Ba=p,this.la=m,this.Na=k,this.na=K}h("jspb.ExtensionFieldInfo",pt,void 0);function yt(f,p,m,k,K,Q){this.Za=f,this.za=p,this.Aa=m,this.Wa=k,this.Ab=K,this.Nb=Q}h("jspb.ExtensionFieldBinaryInfo",yt,void 0),pt.prototype.F=function(){return!!this.la},pt.prototype.isMessageType=pt.prototype.F;function le(){}h("jspb.Message",le,void 0),le.GENERATE_TO_OBJECT=!0,le.GENERATE_FROM_OBJECT=!0;var nt=typeof Uint8Array=="function";le.prototype.Ib=function(){return this.b},le.prototype.getJsPbMessageId=le.prototype.Ib,le.initialize=function(f,p,m,k,K,Q){f.f=null,p||(p=m?[m]:[]),f.b=m?String(m):void 0,f.D=m===0?-1:0,f.u=p;e:{if(m=f.u.length,p=-1,m&&(p=m-1,m=f.u[p],!(m===null||typeof m!="object"||Array.isArray(m)||nt&&m instanceof Uint8Array))){f.G=p-f.D,f.i=m;break e}-1<k?(f.G=Math.max(k,p+1-f.D),f.i=null):f.G=Number.MAX_VALUE}if(f.a={},K)for(k=0;k<K.length;k++)p=K[k],p<f.G?(p+=f.D,f.u[p]=f.u[p]||Ki):(js(f),f.i[p]=f.i[p]||Ki);if(Q&&Q.length)for(k=0;k<Q.length;k++)gc(f,Q[k])};var Ki=Object.freeze?Object.freeze([]):[];function js(f){var p=f.G+f.D;f.u[p]||(f.i=f.u[p]={})}function Uu(f,p,m){for(var k=[],K=0;K<f.length;K++)k[K]=p.call(f[K],m,f[K]);return k}le.toObjectList=Uu,le.toObjectExtension=function(f,p,m,k,K){for(var Q in m){var de=m[Q],$e=k.call(f,de);if($e!=null){for(var Rt in de.Ba)if(de.Ba.hasOwnProperty(Rt))break;p[Rt]=de.Na?de.na?Uu($e,de.Na,K):de.Na(K,$e):$e}}},le.serializeBinaryExtensions=function(f,p,m,k){for(var K in m){var Q=m[K],de=Q.Za;if(!Q.Aa)throw Error("Message extension present that was generated without binary serialization support");var $e=k.call(f,de);if($e!=null)if(de.F())if(Q.Wa)Q.Aa.call(p,de.ma,$e,Q.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else Q.Aa.call(p,de.ma,$e)}},le.readBinaryExtension=function(f,p,m,k,K){var Q=m[p.c];if(Q){if(m=Q.Za,!Q.za)throw Error("Deserializing extension whose generated code does not support binary format");if(m.F()){var de=new m.la;Q.za.call(p,de,Q.Ab)}else de=Q.za.call(p);m.na&&!Q.Nb?(p=k.call(f,m))?p.push(de):K.call(f,m,[de]):K.call(f,m,de)}else p.C()};function Er(f,p){if(p<f.G){p+=f.D;var m=f.u[p];return m===Ki?f.u[p]=[]:m}if(f.i)return m=f.i[p],m===Ki?f.i[p]=[]:m}le.getField=Er,le.getRepeatedField=function(f,p){return Er(f,p)};function ku(f,p){return f=Er(f,p),f==null?f:+f}le.getOptionalFloatingPointField=ku;function Du(f,p){return f=Er(f,p),f==null?f:!!f}le.getBooleanField=Du,le.getRepeatedFloatingPointField=function(f,p){var m=Er(f,p);if(f.a||(f.a={}),!f.a[p]){for(var k=0;k<m.length;k++)m[k]=+m[k];f.a[p]=!0}return m},le.getRepeatedBooleanField=function(f,p){var m=Er(f,p);if(f.a||(f.a={}),!f.a[p]){for(var k=0;k<m.length;k++)m[k]=!!m[k];f.a[p]=!0}return m};function Lu(f){return f==null||typeof f=="string"?f:nt&&f instanceof Uint8Array?oe(f):(C("Cannot coerce to b64 string: "+b(f)),null)}le.bytesAsB64=Lu;function zu(f){return f==null||f instanceof Uint8Array?f:typeof f=="string"?ee(f):(C("Cannot coerce to Uint8Array: "+b(f)),null)}le.bytesAsU8=zu,le.bytesListAsB64=function(f){return qu(f),f.length&&typeof f[0]!="string"?M(f,Lu):f},le.bytesListAsU8=function(f){return qu(f),!f.length||f[0]instanceof Uint8Array?f:M(f,zu)};function qu(f){if(f&&1<f.length){var p=b(f[0]);B(f,function(m){b(m)!=p&&C("Inconsistent type in JSPB repeated field array. Got "+b(m)+" expected "+p)})}}function pc(f,p,m){return f=Er(f,p),f??m}le.getFieldWithDefault=pc,le.getBooleanFieldWithDefault=function(f,p,m){return f=Du(f,p),f??m},le.getFloatingPointFieldWithDefault=function(f,p,m){return f=ku(f,p),f??m},le.getFieldProto3=pc,le.getMapField=function(f,p,m,k){if(f.f||(f.f={}),p in f.f)return f.f[p];var K=Er(f,p);if(!K){if(m)return;K=[],Un(f,p,K)}return f.f[p]=new D(K,k)};function Un(f,p,m){return N(f,le),p<f.G?f.u[p+f.D]=m:(js(f),f.i[p]=m),f}le.setField=Un,le.setProto3IntField=function(f,p,m){return Oo(f,p,m,0)},le.setProto3FloatField=function(f,p,m){return Oo(f,p,m,0)},le.setProto3BooleanField=function(f,p,m){return Oo(f,p,m,!1)},le.setProto3StringField=function(f,p,m){return Oo(f,p,m,"")},le.setProto3BytesField=function(f,p,m){return Oo(f,p,m,"")},le.setProto3EnumField=function(f,p,m){return Oo(f,p,m,0)},le.setProto3StringIntField=function(f,p,m){return Oo(f,p,m,"0")};function Oo(f,p,m,k){return N(f,le),m!==k?Un(f,p,m):p<f.G?f.u[p+f.D]=null:(js(f),delete f.i[p]),f}le.addToRepeatedField=function(f,p,m,k){return N(f,le),p=Er(f,p),k!=null?p.splice(k,0,m):p.push(m),f};function ju(f,p,m,k){return N(f,le),(m=gc(f,m))&&m!==p&&k!==void 0&&(f.f&&m in f.f&&(f.f[m]=void 0),Un(f,m,void 0)),Un(f,p,k)}le.setOneofField=ju;function gc(f,p){for(var m,k,K=0;K<p.length;K++){var Q=p[K],de=Er(f,Q);de!=null&&(m=Q,k=de,Un(f,Q,void 0))}return m?(Un(f,m,k),m):0}le.computeOneofCase=gc,le.getWrapperField=function(f,p,m,k){if(f.f||(f.f={}),!f.f[m]){var K=Er(f,m);(k||K)&&(f.f[m]=new p(K))}return f.f[m]},le.getRepeatedWrapperField=function(f,p,m){return Vu(f,p,m),p=f.f[m],p==Ki&&(p=f.f[m]=[]),p};function Vu(f,p,m){if(f.f||(f.f={}),!f.f[m]){for(var k=Er(f,m),K=[],Q=0;Q<k.length;Q++)K[Q]=new p(k[Q]);f.f[m]=K}}le.setWrapperField=function(f,p,m){N(f,le),f.f||(f.f={});var k=m&&m.g();return f.f[p]=m,Un(f,p,k)},le.setOneofWrapperField=function(f,p,m,k){N(f,le),f.f||(f.f={});var K=k&&k.g();return f.f[p]=k,ju(f,p,m,K)},le.setRepeatedWrapperField=function(f,p,m){N(f,le),f.f||(f.f={}),m=m||[];for(var k=[],K=0;K<m.length;K++)k[K]=m[K].g();return f.f[p]=m,Un(f,p,k)},le.addToRepeatedWrapperField=function(f,p,m,k,K){Vu(f,k,p);var Q=f.f[p];return Q||(Q=f.f[p]=[]),m=m||new k,f=Er(f,p),K!=null?(Q.splice(K,0,m),f.splice(K,0,m.g())):(Q.push(m),f.push(m.g())),m},le.toMap=function(f,p,m,k){for(var K={},Q=0;Q<f.length;Q++)K[p.call(f[Q])]=m?m.call(f[Q],k,f[Q]):f[Q];return K};function Hu(f){if(f.f)for(var p in f.f){var m=f.f[p];if(Array.isArray(m))for(var k=0;k<m.length;k++)m[k]&&m[k].g();else m&&m.g()}}le.prototype.g=function(){return Hu(this),this.u},le.prototype.toArray=le.prototype.g,le.prototype.toString=function(){return Hu(this),this.u.toString()},le.prototype.getExtension=function(f){if(this.i){this.f||(this.f={});var p=f.ma;if(f.na){if(f.F())return this.f[p]||(this.f[p]=M(this.i[p]||[],function(m){return new f.la(m)})),this.f[p]}else if(f.F())return!this.f[p]&&this.i[p]&&(this.f[p]=new f.la(this.i[p])),this.f[p];return this.i[p]}},le.prototype.getExtension=le.prototype.getExtension,le.prototype.Kc=function(f,p){this.f||(this.f={}),js(this);var m=f.ma;return f.na?(p=p||[],f.F()?(this.f[m]=p,this.i[m]=M(p,function(k){return k.g()})):this.i[m]=p):f.F()?(this.f[m]=p,this.i[m]=p&&p.g()):this.i[m]=p,this},le.prototype.setExtension=le.prototype.Kc,le.difference=function(f,p){if(!(f instanceof p.constructor))throw Error("Messages have different types.");var m=f.g();p=p.g();var k=[],K=0,Q=m.length>p.length?m.length:p.length;for(f.b&&(k[0]=f.b,K=1);K<Q;K++)Zi(m[K],p[K])||(k[K]=p[K]);return new f.constructor(k)},le.equals=function(f,p){return f==p||!(!f||!p)&&f instanceof p.constructor&&Zi(f.g(),p.g())};function yc(f,p){f=f||{},p=p||{};var m={},k;for(k in f)m[k]=0;for(k in p)m[k]=0;for(k in m)if(!Zi(f[k],p[k]))return!1;return!0}le.compareExtensions=yc;function Zi(f,p){if(f==p)return!0;if(!y(f)||!y(p))return typeof f=="number"&&isNaN(f)||typeof p=="number"&&isNaN(p)?String(f)==String(p):!1;if(f.constructor!=p.constructor)return!1;if(nt&&f.constructor===Uint8Array){if(f.length!=p.length)return!1;for(var m=0;m<f.length;m++)if(f[m]!=p[m])return!1;return!0}if(f.constructor===Array){var k=void 0,K=void 0,Q=Math.max(f.length,p.length);for(m=0;m<Q;m++){var de=f[m],$e=p[m];if(de&&de.constructor==Object&&(S(k===void 0),S(m===f.length-1),k=de,de=void 0),$e&&$e.constructor==Object&&(S(K===void 0),S(m===p.length-1),K=$e,$e=void 0),!Zi(de,$e))return!1}return k||K?(k=k||{},K=K||{},yc(k,K)):!0}if(f.constructor===Object)return yc(f,p);throw Error("Invalid type in JSPB array")}le.compareFields=Zi,le.prototype.Bb=function(){return Vs(this)},le.prototype.cloneMessage=le.prototype.Bb,le.prototype.clone=function(){return Vs(this)},le.prototype.clone=le.prototype.clone,le.clone=function(f){return Vs(f)};function Vs(f){return new f.constructor(bc(f.g()))}le.copyInto=function(f,p){N(f,le),N(p,le),S(f.constructor==p.constructor,"Copy source and target message should have the same type."),f=Vs(f);for(var m=p.g(),k=f.g(),K=m.length=0;K<k.length;K++)m[K]=k[K];p.f=f.f,p.i=f.i};function bc(f){if(Array.isArray(f)){for(var p=Array(f.length),m=0;m<f.length;m++){var k=f[m];k!=null&&(p[m]=typeof k=="object"?bc(S(k)):k)}return p}if(nt&&f instanceof Uint8Array)return new Uint8Array(f);p={};for(m in f)k=f[m],k!=null&&(p[m]=typeof k=="object"?bc(S(k)):k);return p}le.registerMessageType=function(f,p){p.we=f};var tn={dump:function(f){return N(f,le,"jspb.Message instance expected"),S(f.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),tn.X(f)}};h("jspb.debug.dump",tn.dump,void 0),tn.X=function(f){var p=b(f);if(p=="number"||p=="string"||p=="boolean"||p=="null"||p=="undefined"||typeof Uint8Array<"u"&&f instanceof Uint8Array)return f;if(p=="array")return E(f),M(f,tn.X);if(f instanceof D){var m={};f=f.entries();for(var k=f.next();!k.done;k=f.next())m[k.value[0]]=tn.X(k.value[1]);return m}N(f,le,"Only messages expected: "+f),p=f.constructor;var K={$name:p.name||p.displayName};for($e in p.prototype){var Q=/^get([A-Z]\w*)/.exec($e);if(Q&&$e!="getExtension"&&$e!="getJsPbMessageId"){var de="has"+Q[1];(!f[de]||f[de]())&&(de=f[$e](),K[tn.$a(Q[1])]=tn.X(de))}}if(f.extensionObject_)return K.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",K;for(k in p.extensions)if(/^\d+$/.test(k)){de=p.extensions[k];var $e=f.getExtension(de);Q=void 0,de=de.Ba;var Rt=[],Ji=0;for(Q in de)Rt[Ji++]=Q;Q=Rt[0],$e!=null&&(m||(m=K.$extensions={}),m[tn.$a(Q)]=tn.X($e))}return K},tn.$a=function(f){return f.replace(/^[A-Z]/,function(p){return p.toLowerCase()})};function be(){this.a=[]}h("jspb.BinaryEncoder",be,void 0),be.prototype.length=function(){return this.a.length},be.prototype.length=be.prototype.length,be.prototype.end=function(){var f=this.a;return this.a=[],f},be.prototype.end=be.prototype.end,be.prototype.l=function(f,p){for(S(f==Math.floor(f)),S(p==Math.floor(p)),S(0<=f&&4294967296>f),S(0<=p&&4294967296>p);0<p||127<f;)this.a.push(f&127|128),f=(f>>>7|p<<25)>>>0,p>>>=7;this.a.push(f)},be.prototype.writeSplitVarint64=be.prototype.l,be.prototype.A=function(f,p){S(f==Math.floor(f)),S(p==Math.floor(p)),S(0<=f&&4294967296>f),S(0<=p&&4294967296>p),this.s(f),this.s(p)},be.prototype.writeSplitFixed64=be.prototype.A,be.prototype.j=function(f){for(S(f==Math.floor(f)),S(0<=f&&4294967296>f);127<f;)this.a.push(f&127|128),f>>>=7;this.a.push(f)},be.prototype.writeUnsignedVarint32=be.prototype.j,be.prototype.M=function(f){if(S(f==Math.floor(f)),S(-2147483648<=f&&2147483648>f),0<=f)this.j(f);else{for(var p=0;9>p;p++)this.a.push(f&127|128),f>>=7;this.a.push(1)}},be.prototype.writeSignedVarint32=be.prototype.M,be.prototype.va=function(f){S(f==Math.floor(f)),S(0<=f&&18446744073709552e3>f),Ne(f),this.l(ue,we)},be.prototype.writeUnsignedVarint64=be.prototype.va,be.prototype.ua=function(f){S(f==Math.floor(f)),S(-9223372036854776e3<=f&&9223372036854776e3>f),Ne(f),this.l(ue,we)},be.prototype.writeSignedVarint64=be.prototype.ua,be.prototype.wa=function(f){S(f==Math.floor(f)),S(-2147483648<=f&&2147483648>f),this.j((f<<1^f>>31)>>>0)},be.prototype.writeZigzagVarint32=be.prototype.wa,be.prototype.xa=function(f){S(f==Math.floor(f)),S(-9223372036854776e3<=f&&9223372036854776e3>f),Ue(f),this.l(ue,we)},be.prototype.writeZigzagVarint64=be.prototype.xa,be.prototype.Ta=function(f){this.W(Ve(f))},be.prototype.writeZigzagVarint64String=be.prototype.Ta,be.prototype.W=function(f){var p=this;Re(f),hr(ue,we,function(m,k){p.l(m>>>0,k>>>0)})},be.prototype.writeZigzagVarintHash64=be.prototype.W,be.prototype.be=function(f){S(f==Math.floor(f)),S(0<=f&&256>f),this.a.push(f>>>0&255)},be.prototype.writeUint8=be.prototype.be,be.prototype.ae=function(f){S(f==Math.floor(f)),S(0<=f&&65536>f),this.a.push(f>>>0&255),this.a.push(f>>>8&255)},be.prototype.writeUint16=be.prototype.ae,be.prototype.s=function(f){S(f==Math.floor(f)),S(0<=f&&4294967296>f),this.a.push(f>>>0&255),this.a.push(f>>>8&255),this.a.push(f>>>16&255),this.a.push(f>>>24&255)},be.prototype.writeUint32=be.prototype.s,be.prototype.V=function(f){S(f==Math.floor(f)),S(0<=f&&18446744073709552e3>f),Ee(f),this.s(ue),this.s(we)},be.prototype.writeUint64=be.prototype.V,be.prototype.Qc=function(f){S(f==Math.floor(f)),S(-128<=f&&128>f),this.a.push(f>>>0&255)},be.prototype.writeInt8=be.prototype.Qc,be.prototype.Pc=function(f){S(f==Math.floor(f)),S(-32768<=f&&32768>f),this.a.push(f>>>0&255),this.a.push(f>>>8&255)},be.prototype.writeInt16=be.prototype.Pc,be.prototype.S=function(f){S(f==Math.floor(f)),S(-2147483648<=f&&2147483648>f),this.a.push(f>>>0&255),this.a.push(f>>>8&255),this.a.push(f>>>16&255),this.a.push(f>>>24&255)},be.prototype.writeInt32=be.prototype.S,be.prototype.T=function(f){S(f==Math.floor(f)),S(-9223372036854776e3<=f&&9223372036854776e3>f),Ne(f),this.A(ue,we)},be.prototype.writeInt64=be.prototype.T,be.prototype.ka=function(f){S(f==Math.floor(f)),S(-9223372036854776e3<=+f&&9223372036854776e3>+f),Re(Ve(f)),this.A(ue,we)},be.prototype.writeInt64String=be.prototype.ka,be.prototype.L=function(f){S(f===1/0||f===-1/0||isNaN(f)||-34028234663852886e22<=f&&34028234663852886e22>=f),ze(f),this.s(ue)},be.prototype.writeFloat=be.prototype.L,be.prototype.J=function(f){S(f===1/0||f===-1/0||isNaN(f)||-17976931348623157e292<=f&&17976931348623157e292>=f),Fe(f),this.s(ue),this.s(we)},be.prototype.writeDouble=be.prototype.J,be.prototype.I=function(f){S(typeof f=="boolean"||typeof f=="number"),this.a.push(f?1:0)},be.prototype.writeBool=be.prototype.I,be.prototype.R=function(f){S(f==Math.floor(f)),S(-2147483648<=f&&2147483648>f),this.M(f)},be.prototype.writeEnum=be.prototype.R,be.prototype.ja=function(f){this.a.push.apply(this.a,f)},be.prototype.writeBytes=be.prototype.ja,be.prototype.N=function(f){Re(f),this.l(ue,we)},be.prototype.writeVarintHash64=be.prototype.N,be.prototype.K=function(f){Re(f),this.s(ue),this.s(we)},be.prototype.writeFixedHash64=be.prototype.K,be.prototype.U=function(f){var p=this.a.length;T(f);for(var m=0;m<f.length;m++){var k=f.charCodeAt(m);if(128>k)this.a.push(k);else if(2048>k)this.a.push(k>>6|192),this.a.push(k&63|128);else if(65536>k)if(55296<=k&&56319>=k&&m+1<f.length){var K=f.charCodeAt(m+1);56320<=K&&57343>=K&&(k=1024*(k-55296)+K-56320+65536,this.a.push(k>>18|240),this.a.push(k>>12&63|128),this.a.push(k>>6&63|128),this.a.push(k&63|128),m++)}else this.a.push(k>>12|224),this.a.push(k>>6&63|128),this.a.push(k&63|128)}return this.a.length-p},be.prototype.writeString=be.prototype.U;function Me(f,p){this.lo=f,this.hi=p}h("jspb.arith.UInt64",Me,void 0),Me.prototype.cmp=function(f){return this.hi<f.hi||this.hi==f.hi&&this.lo<f.lo?-1:this.hi==f.hi&&this.lo==f.lo?0:1},Me.prototype.cmp=Me.prototype.cmp,Me.prototype.La=function(){return new Me((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},Me.prototype.rightShift=Me.prototype.La,Me.prototype.Da=function(){return new Me(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Me.prototype.leftShift=Me.prototype.Da,Me.prototype.cb=function(){return!!(this.hi&2147483648)},Me.prototype.msb=Me.prototype.cb,Me.prototype.Ob=function(){return!!(this.lo&1)},Me.prototype.lsb=Me.prototype.Ob,Me.prototype.Ua=function(){return this.lo==0&&this.hi==0},Me.prototype.zero=Me.prototype.Ua,Me.prototype.add=function(f){return new Me((this.lo+f.lo&4294967295)>>>0>>>0,((this.hi+f.hi&4294967295)>>>0)+(4294967296<=this.lo+f.lo?1:0)>>>0)},Me.prototype.add=Me.prototype.add,Me.prototype.sub=function(f){return new Me((this.lo-f.lo&4294967295)>>>0>>>0,((this.hi-f.hi&4294967295)>>>0)-(0>this.lo-f.lo?1:0)>>>0)},Me.prototype.sub=Me.prototype.sub;function wc(f,p){var m=f&65535;f>>>=16;var k=p&65535,K=p>>>16;for(p=m*k+65536*(m*K&65535)+65536*(f*k&65535),m=f*K+(m*K>>>16)+(f*k>>>16);4294967296<=p;)p-=4294967296,m+=1;return new Me(p>>>0,m>>>0)}Me.mul32x32=wc,Me.prototype.eb=function(f){var p=wc(this.lo,f);return f=wc(this.hi,f),f.hi=f.lo,f.lo=0,p.add(f)},Me.prototype.mul=Me.prototype.eb,Me.prototype.Xa=function(f){if(f==0)return[];var p=new Me(0,0),m=new Me(this.lo,this.hi);f=new Me(f,0);for(var k=new Me(1,0);!f.cb();)f=f.Da(),k=k.Da();for(;!k.Ua();)0>=f.cmp(m)&&(p=p.add(k),m=m.sub(f)),f=f.La(),k=k.La();return[p,m]},Me.prototype.div=Me.prototype.Xa,Me.prototype.toString=function(){for(var f="",p=this;!p.Ua();){p=p.Xa(10);var m=p[0];f=p[1].lo+f,p=m}return f==""&&(f="0"),f},Me.prototype.toString=Me.prototype.toString;function Ro(f){for(var p=new Me(0,0),m=new Me(0,0),k=0;k<f.length;k++){if("0">f[k]||"9"<f[k])return null;m.lo=parseInt(f[k],10),p=p.eb(10).add(m)}return p}Me.fromString=Ro,Me.prototype.clone=function(){return new Me(this.lo,this.hi)},Me.prototype.clone=Me.prototype.clone;function At(f,p){this.lo=f,this.hi=p}h("jspb.arith.Int64",At,void 0),At.prototype.add=function(f){return new At((this.lo+f.lo&4294967295)>>>0>>>0,((this.hi+f.hi&4294967295)>>>0)+(4294967296<=this.lo+f.lo?1:0)>>>0)},At.prototype.add=At.prototype.add,At.prototype.sub=function(f){return new At((this.lo-f.lo&4294967295)>>>0>>>0,((this.hi-f.hi&4294967295)>>>0)-(0>this.lo-f.lo?1:0)>>>0)},At.prototype.sub=At.prototype.sub,At.prototype.clone=function(){return new At(this.lo,this.hi)},At.prototype.clone=At.prototype.clone,At.prototype.toString=function(){var f=(this.hi&2147483648)!=0,p=new Me(this.lo,this.hi);return f&&(p=new Me(0,0).sub(p)),(f?"-":"")+p.toString()},At.prototype.toString=At.prototype.toString;function ge(f){var p=0<f.length&&f[0]=="-";return p&&(f=f.substring(1)),f=Ro(f),f===null?null:(p&&(f=new Me(0,0).sub(f)),new At(f.lo,f.hi))}At.fromString=ge;function V(){this.c=[],this.b=0,this.a=new be,this.h=[]}h("jspb.BinaryWriter",V,void 0);function Gu(f,p){var m=f.a.end();f.c.push(m),f.c.push(p),f.b+=m.length+p.length}function Le(f,p){return We(f,p,2),p=f.a.end(),f.c.push(p),f.b+=p.length,p.push(f.b),p}function it(f,p){var m=p.pop();for(m=f.b+f.a.length()-m,S(0<=m);127<m;)p.push(m&127|128),m>>>=7,f.b++;p.push(m),f.b++}V.prototype.pb=function(f,p,m){Gu(this,f.subarray(p,m))},V.prototype.writeSerializedMessage=V.prototype.pb,V.prototype.Pb=function(f,p,m){f!=null&&p!=null&&m!=null&&this.pb(f,p,m)},V.prototype.maybeWriteSerializedMessage=V.prototype.Pb,V.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},V.prototype.reset=V.prototype.reset,V.prototype.ab=function(){S(this.h.length==0);for(var f=new Uint8Array(this.b+this.a.length()),p=this.c,m=p.length,k=0,K=0;K<m;K++){var Q=p[K];f.set(Q,k),k+=Q.length}return p=this.a.end(),f.set(p,k),k+=p.length,S(k==f.length),this.c=[f],f},V.prototype.getResultBuffer=V.prototype.ab,V.prototype.Kb=function(f){return oe(this.ab(),f)},V.prototype.getResultBase64String=V.prototype.Kb,V.prototype.Va=function(f){this.h.push(Le(this,f))},V.prototype.beginSubMessage=V.prototype.Va,V.prototype.Ya=function(){S(0<=this.h.length),it(this,this.h.pop())},V.prototype.endSubMessage=V.prototype.Ya;function We(f,p,m){S(1<=p&&p==Math.floor(p)),f.a.j(8*p+m)}V.prototype.Nc=function(f,p,m){switch(f){case 1:this.J(p,m);break;case 2:this.L(p,m);break;case 3:this.T(p,m);break;case 4:this.V(p,m);break;case 5:this.S(p,m);break;case 6:this.Qa(p,m);break;case 7:this.Pa(p,m);break;case 8:this.I(p,m);break;case 9:this.U(p,m);break;case 10:C("Group field type not supported in writeAny()");break;case 11:C("Message field type not supported in writeAny()");break;case 12:this.ja(p,m);break;case 13:this.s(p,m);break;case 14:this.R(p,m);break;case 15:this.Ra(p,m);break;case 16:this.Sa(p,m);break;case 17:this.rb(p,m);break;case 18:this.sb(p,m);break;case 30:this.K(p,m);break;case 31:this.N(p,m);break;default:C("Invalid field type in writeAny()")}},V.prototype.writeAny=V.prototype.Nc;function ao(f,p,m){m!=null&&(We(f,p,0),f.a.j(m))}function Yi(f,p,m){m!=null&&(We(f,p,0),f.a.M(m))}V.prototype.S=function(f,p){p!=null&&(S(-2147483648<=p&&2147483648>p),Yi(this,f,p))},V.prototype.writeInt32=V.prototype.S,V.prototype.ob=function(f,p){p!=null&&(p=parseInt(p,10),S(-2147483648<=p&&2147483648>p),Yi(this,f,p))},V.prototype.writeInt32String=V.prototype.ob,V.prototype.T=function(f,p){p!=null&&(S(-9223372036854776e3<=p&&9223372036854776e3>p),p!=null&&(We(this,f,0),this.a.ua(p)))},V.prototype.writeInt64=V.prototype.T,V.prototype.ka=function(f,p){p!=null&&(p=ge(p),We(this,f,0),this.a.l(p.lo,p.hi))},V.prototype.writeInt64String=V.prototype.ka,V.prototype.s=function(f,p){p!=null&&(S(0<=p&&4294967296>p),ao(this,f,p))},V.prototype.writeUint32=V.prototype.s,V.prototype.ub=function(f,p){p!=null&&(p=parseInt(p,10),S(0<=p&&4294967296>p),ao(this,f,p))},V.prototype.writeUint32String=V.prototype.ub,V.prototype.V=function(f,p){p!=null&&(S(0<=p&&18446744073709552e3>p),p!=null&&(We(this,f,0),this.a.va(p)))},V.prototype.writeUint64=V.prototype.V,V.prototype.vb=function(f,p){p!=null&&(p=Ro(p),We(this,f,0),this.a.l(p.lo,p.hi))},V.prototype.writeUint64String=V.prototype.vb,V.prototype.rb=function(f,p){p!=null&&(S(-2147483648<=p&&2147483648>p),p!=null&&(We(this,f,0),this.a.wa(p)))},V.prototype.writeSint32=V.prototype.rb,V.prototype.sb=function(f,p){p!=null&&(S(-9223372036854776e3<=p&&9223372036854776e3>p),p!=null&&(We(this,f,0),this.a.xa(p)))},V.prototype.writeSint64=V.prototype.sb,V.prototype.$d=function(f,p){p!=null&&p!=null&&(We(this,f,0),this.a.W(p))},V.prototype.writeSintHash64=V.prototype.$d,V.prototype.Zd=function(f,p){p!=null&&p!=null&&(We(this,f,0),this.a.Ta(p))},V.prototype.writeSint64String=V.prototype.Zd,V.prototype.Pa=function(f,p){p!=null&&(S(0<=p&&4294967296>p),We(this,f,5),this.a.s(p))},V.prototype.writeFixed32=V.prototype.Pa,V.prototype.Qa=function(f,p){p!=null&&(S(0<=p&&18446744073709552e3>p),We(this,f,1),this.a.V(p))},V.prototype.writeFixed64=V.prototype.Qa,V.prototype.nb=function(f,p){p!=null&&(p=Ro(p),We(this,f,1),this.a.A(p.lo,p.hi))},V.prototype.writeFixed64String=V.prototype.nb,V.prototype.Ra=function(f,p){p!=null&&(S(-2147483648<=p&&2147483648>p),We(this,f,5),this.a.S(p))},V.prototype.writeSfixed32=V.prototype.Ra,V.prototype.Sa=function(f,p){p!=null&&(S(-9223372036854776e3<=p&&9223372036854776e3>p),We(this,f,1),this.a.T(p))},V.prototype.writeSfixed64=V.prototype.Sa,V.prototype.qb=function(f,p){p!=null&&(p=ge(p),We(this,f,1),this.a.A(p.lo,p.hi))},V.prototype.writeSfixed64String=V.prototype.qb,V.prototype.L=function(f,p){p!=null&&(We(this,f,5),this.a.L(p))},V.prototype.writeFloat=V.prototype.L,V.prototype.J=function(f,p){p!=null&&(We(this,f,1),this.a.J(p))},V.prototype.writeDouble=V.prototype.J,V.prototype.I=function(f,p){p!=null&&(S(typeof p=="boolean"||typeof p=="number"),We(this,f,0),this.a.I(p))},V.prototype.writeBool=V.prototype.I,V.prototype.R=function(f,p){p!=null&&(S(-2147483648<=p&&2147483648>p),We(this,f,0),this.a.M(p))},V.prototype.writeEnum=V.prototype.R,V.prototype.U=function(f,p){p!=null&&(f=Le(this,f),this.a.U(p),it(this,f))},V.prototype.writeString=V.prototype.U,V.prototype.ja=function(f,p){p!=null&&(p=q(p),We(this,f,2),this.a.j(p.length),Gu(this,p))},V.prototype.writeBytes=V.prototype.ja,V.prototype.Rc=function(f,p,m){p!=null&&(f=Le(this,f),m(p,this),it(this,f))},V.prototype.writeMessage=V.prototype.Rc,V.prototype.Sc=function(f,p,m){p!=null&&(We(this,1,3),We(this,2,0),this.a.M(f),f=Le(this,3),m(p,this),it(this,f),We(this,1,4))},V.prototype.writeMessageSet=V.prototype.Sc,V.prototype.Oc=function(f,p,m){p!=null&&(We(this,f,3),m(p,this),We(this,f,4))},V.prototype.writeGroup=V.prototype.Oc,V.prototype.K=function(f,p){p!=null&&(S(p.length==8),We(this,f,1),this.a.K(p))},V.prototype.writeFixedHash64=V.prototype.K,V.prototype.N=function(f,p){p!=null&&(S(p.length==8),We(this,f,0),this.a.N(p))},V.prototype.writeVarintHash64=V.prototype.N,V.prototype.A=function(f,p,m){We(this,f,1),this.a.A(p,m)},V.prototype.writeSplitFixed64=V.prototype.A,V.prototype.l=function(f,p,m){We(this,f,0),this.a.l(p,m)},V.prototype.writeSplitVarint64=V.prototype.l,V.prototype.tb=function(f,p,m){We(this,f,0);var k=this.a;hr(p,m,function(K,Q){k.l(K>>>0,Q>>>0)})},V.prototype.writeSplitZigzagVarint64=V.prototype.tb,V.prototype.Ed=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)Yi(this,f,p[m])},V.prototype.writeRepeatedInt32=V.prototype.Ed,V.prototype.Fd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.ob(f,p[m])},V.prototype.writeRepeatedInt32String=V.prototype.Fd,V.prototype.Gd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++){var k=p[m];k!=null&&(We(this,f,0),this.a.ua(k))}},V.prototype.writeRepeatedInt64=V.prototype.Gd,V.prototype.Qd=function(f,p,m,k){if(p!=null)for(var K=0;K<p.length;K++)this.A(f,m(p[K]),k(p[K]))},V.prototype.writeRepeatedSplitFixed64=V.prototype.Qd,V.prototype.Rd=function(f,p,m,k){if(p!=null)for(var K=0;K<p.length;K++)this.l(f,m(p[K]),k(p[K]))},V.prototype.writeRepeatedSplitVarint64=V.prototype.Rd,V.prototype.Sd=function(f,p,m,k){if(p!=null)for(var K=0;K<p.length;K++)this.tb(f,m(p[K]),k(p[K]))},V.prototype.writeRepeatedSplitZigzagVarint64=V.prototype.Sd,V.prototype.Hd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.ka(f,p[m])},V.prototype.writeRepeatedInt64String=V.prototype.Hd,V.prototype.Ud=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)ao(this,f,p[m])},V.prototype.writeRepeatedUint32=V.prototype.Ud,V.prototype.Vd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.ub(f,p[m])},V.prototype.writeRepeatedUint32String=V.prototype.Vd,V.prototype.Wd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++){var k=p[m];k!=null&&(We(this,f,0),this.a.va(k))}},V.prototype.writeRepeatedUint64=V.prototype.Wd,V.prototype.Xd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.vb(f,p[m])},V.prototype.writeRepeatedUint64String=V.prototype.Xd,V.prototype.Md=function(f,p){if(p!=null)for(var m=0;m<p.length;m++){var k=p[m];k!=null&&(We(this,f,0),this.a.wa(k))}},V.prototype.writeRepeatedSint32=V.prototype.Md,V.prototype.Nd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++){var k=p[m];k!=null&&(We(this,f,0),this.a.xa(k))}},V.prototype.writeRepeatedSint64=V.prototype.Nd,V.prototype.Od=function(f,p){if(p!=null)for(var m=0;m<p.length;m++){var k=p[m];k!=null&&(We(this,f,0),this.a.Ta(k))}},V.prototype.writeRepeatedSint64String=V.prototype.Od,V.prototype.Pd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++){var k=p[m];k!=null&&(We(this,f,0),this.a.W(k))}},V.prototype.writeRepeatedSintHash64=V.prototype.Pd,V.prototype.yd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.Pa(f,p[m])},V.prototype.writeRepeatedFixed32=V.prototype.yd,V.prototype.zd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.Qa(f,p[m])},V.prototype.writeRepeatedFixed64=V.prototype.zd,V.prototype.Ad=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.nb(f,p[m])},V.prototype.writeRepeatedFixed64String=V.prototype.Ad,V.prototype.Jd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.Ra(f,p[m])},V.prototype.writeRepeatedSfixed32=V.prototype.Jd,V.prototype.Kd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.Sa(f,p[m])},V.prototype.writeRepeatedSfixed64=V.prototype.Kd,V.prototype.Ld=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.qb(f,p[m])},V.prototype.writeRepeatedSfixed64String=V.prototype.Ld,V.prototype.Cd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.L(f,p[m])},V.prototype.writeRepeatedFloat=V.prototype.Cd,V.prototype.wd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.J(f,p[m])},V.prototype.writeRepeatedDouble=V.prototype.wd,V.prototype.ud=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.I(f,p[m])},V.prototype.writeRepeatedBool=V.prototype.ud,V.prototype.xd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.R(f,p[m])},V.prototype.writeRepeatedEnum=V.prototype.xd,V.prototype.Td=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.U(f,p[m])},V.prototype.writeRepeatedString=V.prototype.Td,V.prototype.vd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.ja(f,p[m])},V.prototype.writeRepeatedBytes=V.prototype.vd,V.prototype.Id=function(f,p,m){if(p!=null)for(var k=0;k<p.length;k++){var K=Le(this,f);m(p[k],this),it(this,K)}},V.prototype.writeRepeatedMessage=V.prototype.Id,V.prototype.Dd=function(f,p,m){if(p!=null)for(var k=0;k<p.length;k++)We(this,f,3),m(p[k],this),We(this,f,4)},V.prototype.writeRepeatedGroup=V.prototype.Dd,V.prototype.Bd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.K(f,p[m])},V.prototype.writeRepeatedFixedHash64=V.prototype.Bd,V.prototype.Yd=function(f,p){if(p!=null)for(var m=0;m<p.length;m++)this.N(f,p[m])},V.prototype.writeRepeatedVarintHash64=V.prototype.Yd,V.prototype.ad=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.M(p[m]);it(this,f)}},V.prototype.writePackedInt32=V.prototype.ad,V.prototype.bd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.M(parseInt(p[m],10));it(this,f)}},V.prototype.writePackedInt32String=V.prototype.bd,V.prototype.cd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.ua(p[m]);it(this,f)}},V.prototype.writePackedInt64=V.prototype.cd,V.prototype.md=function(f,p,m,k){if(p!=null){f=Le(this,f);for(var K=0;K<p.length;K++)this.a.A(m(p[K]),k(p[K]));it(this,f)}},V.prototype.writePackedSplitFixed64=V.prototype.md,V.prototype.nd=function(f,p,m,k){if(p!=null){f=Le(this,f);for(var K=0;K<p.length;K++)this.a.l(m(p[K]),k(p[K]));it(this,f)}},V.prototype.writePackedSplitVarint64=V.prototype.nd,V.prototype.od=function(f,p,m,k){if(p!=null){f=Le(this,f);for(var K=this.a,Q=0;Q<p.length;Q++)hr(m(p[Q]),k(p[Q]),function(de,$e){K.l(de>>>0,$e>>>0)});it(this,f)}},V.prototype.writePackedSplitZigzagVarint64=V.prototype.od,V.prototype.dd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++){var k=ge(p[m]);this.a.l(k.lo,k.hi)}it(this,f)}},V.prototype.writePackedInt64String=V.prototype.dd,V.prototype.pd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.j(p[m]);it(this,f)}},V.prototype.writePackedUint32=V.prototype.pd,V.prototype.qd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.j(parseInt(p[m],10));it(this,f)}},V.prototype.writePackedUint32String=V.prototype.qd,V.prototype.rd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.va(p[m]);it(this,f)}},V.prototype.writePackedUint64=V.prototype.rd,V.prototype.sd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++){var k=Ro(p[m]);this.a.l(k.lo,k.hi)}it(this,f)}},V.prototype.writePackedUint64String=V.prototype.sd,V.prototype.hd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.wa(p[m]);it(this,f)}},V.prototype.writePackedSint32=V.prototype.hd,V.prototype.jd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.xa(p[m]);it(this,f)}},V.prototype.writePackedSint64=V.prototype.jd,V.prototype.kd=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.W(Ve(p[m]));it(this,f)}},V.prototype.writePackedSint64String=V.prototype.kd,V.prototype.ld=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.W(p[m]);it(this,f)}},V.prototype.writePackedSintHash64=V.prototype.ld,V.prototype.Wc=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(4*p.length),f=0;f<p.length;f++)this.a.s(p[f])},V.prototype.writePackedFixed32=V.prototype.Wc,V.prototype.Xc=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(8*p.length),f=0;f<p.length;f++)this.a.V(p[f])},V.prototype.writePackedFixed64=V.prototype.Xc,V.prototype.Yc=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(8*p.length),f=0;f<p.length;f++){var m=Ro(p[f]);this.a.A(m.lo,m.hi)}},V.prototype.writePackedFixed64String=V.prototype.Yc,V.prototype.ed=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(4*p.length),f=0;f<p.length;f++)this.a.S(p[f])},V.prototype.writePackedSfixed32=V.prototype.ed,V.prototype.fd=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(8*p.length),f=0;f<p.length;f++)this.a.T(p[f])},V.prototype.writePackedSfixed64=V.prototype.fd,V.prototype.gd=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(8*p.length),f=0;f<p.length;f++)this.a.ka(p[f])},V.prototype.writePackedSfixed64String=V.prototype.gd,V.prototype.$c=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(4*p.length),f=0;f<p.length;f++)this.a.L(p[f])},V.prototype.writePackedFloat=V.prototype.$c,V.prototype.Uc=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(8*p.length),f=0;f<p.length;f++)this.a.J(p[f])},V.prototype.writePackedDouble=V.prototype.Uc,V.prototype.Tc=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(p.length),f=0;f<p.length;f++)this.a.I(p[f])},V.prototype.writePackedBool=V.prototype.Tc,V.prototype.Vc=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.R(p[m]);it(this,f)}},V.prototype.writePackedEnum=V.prototype.Vc,V.prototype.Zc=function(f,p){if(p!=null&&p.length)for(We(this,f,2),this.a.j(8*p.length),f=0;f<p.length;f++)this.a.K(p[f])},V.prototype.writePackedFixedHash64=V.prototype.Zc,V.prototype.td=function(f,p){if(p!=null&&p.length){f=Le(this,f);for(var m=0;m<p.length;m++)this.a.N(p[m]);it(this,f)}},V.prototype.writePackedVarintHash64=V.prototype.td,r.debug=tn,r.Map=D,r.Message=le,r.BinaryReader=$,r.BinaryWriter=V,r.ExtensionFieldInfo=pt,r.ExtensionFieldBinaryInfo=yt,r.exportSymbol=g,r.inherits=w,r.object={extend:P},r.typeOf=b}(es)),es}var O2;function T4(){return O2||(O2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("proto.google.protobuf.Any",null,o),proto.google.protobuf.Any=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(proto.google.protobuf.Any,e.Message),t.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),e.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(i){return proto.google.protobuf.Any.toObject(i,this)},proto.google.protobuf.Any.toObject=function(i,n){var s={typeUrl:e.Message.getFieldWithDefault(n,1,""),value:n.getValue_asB64()};return i&&(s.$jspbMessageInstance=n),s}),proto.google.protobuf.Any.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(s,n)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readString();i.setTypeUrl(a);break;case 2:var a=n.readBytes();i.setValue(a);break;default:n.skipField();break}}return i},proto.google.protobuf.Any.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getTypeUrl(),s.length>0&&n.writeString(1,s),s=i.getValue_asU8(),s.length>0&&n.writeBytes(2,s)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(i){return e.Message.setProto3StringField(this,1,i)},proto.google.protobuf.Any.prototype.getValue=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return e.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return e.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(i){return e.Message.setProto3BytesField(this,2,i)},t.object.extend(r,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(i,n,s){s||(s="type.googleapis.com/"),s.substr(-1)!="/"?this.setTypeUrl(s+"/"+n):this.setTypeUrl(s+n),this.setValue(i)},proto.google.protobuf.Any.prototype.unpack=function(i,n){return this.getTypeName()==n?i(this.getValue_asU8()):null}}(h0)),h0}var e9=T4();const t9=$s(e9);var p0={},R2;function _b(){return R2||(R2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),i=T4();t.object.extend(proto,i),t.exportSymbol("TronWebProto.Account",null,o),t.exportSymbol("TronWebProto.Account.AccountResource",null,o),t.exportSymbol("TronWebProto.Account.Frozen",null,o),t.exportSymbol("TronWebProto.AccountId",null,o),t.exportSymbol("TronWebProto.AccountType",null,o),t.exportSymbol("TronWebProto.DelegatedResource",null,o),t.exportSymbol("TronWebProto.Exchange",null,o),t.exportSymbol("TronWebProto.Key",null,o),t.exportSymbol("TronWebProto.MarketOrderDetail",null,o),t.exportSymbol("TronWebProto.Permission",null,o),t.exportSymbol("TronWebProto.Permission.PermissionType",null,o),t.exportSymbol("TronWebProto.Proposal",null,o),t.exportSymbol("TronWebProto.Proposal.State",null,o),t.exportSymbol("TronWebProto.Transaction",null,o),t.exportSymbol("TronWebProto.Transaction.Contract",null,o),t.exportSymbol("TronWebProto.Transaction.Contract.ContractType",null,o),t.exportSymbol("TronWebProto.Transaction.Result",null,o),t.exportSymbol("TronWebProto.Transaction.Result.code",null,o),t.exportSymbol("TronWebProto.Transaction.Result.contractResult",null,o),t.exportSymbol("TronWebProto.Transaction.raw",null,o),t.exportSymbol("TronWebProto.Vote",null,o),t.exportSymbol("TronWebProto.Votes",null,o),t.exportSymbol("TronWebProto.Witness",null,o),t.exportSymbol("TronWebProto.authority",null,o),TronWebProto.AccountId=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountId,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountId.displayName="TronWebProto.AccountId"),TronWebProto.Vote=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Vote,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Vote.displayName="TronWebProto.Vote"),TronWebProto.Proposal=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Proposal.repeatedFields_,null)},t.inherits(TronWebProto.Proposal,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Proposal.displayName="TronWebProto.Proposal"),TronWebProto.Exchange=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Exchange,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Exchange.displayName="TronWebProto.Exchange"),TronWebProto.Account=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Account.repeatedFields_,null)},t.inherits(TronWebProto.Account,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Account.displayName="TronWebProto.Account"),TronWebProto.Account.Frozen=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Account.Frozen,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Account.Frozen.displayName="TronWebProto.Account.Frozen"),TronWebProto.Account.AccountResource=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Account.AccountResource,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Account.AccountResource.displayName="TronWebProto.Account.AccountResource"),TronWebProto.Key=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Key,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Key.displayName="TronWebProto.Key"),TronWebProto.DelegatedResource=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.DelegatedResource,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.DelegatedResource.displayName="TronWebProto.DelegatedResource"),TronWebProto.authority=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.authority,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.authority.displayName="TronWebProto.authority"),TronWebProto.Permission=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Permission.repeatedFields_,null)},t.inherits(TronWebProto.Permission,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Permission.displayName="TronWebProto.Permission"),TronWebProto.Witness=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Witness,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Witness.displayName="TronWebProto.Witness"),TronWebProto.Votes=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Votes.repeatedFields_,null)},t.inherits(TronWebProto.Votes,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Votes.displayName="TronWebProto.Votes"),TronWebProto.MarketOrderDetail=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.MarketOrderDetail,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.MarketOrderDetail.displayName="TronWebProto.MarketOrderDetail"),TronWebProto.Transaction=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Transaction.repeatedFields_,null)},t.inherits(TronWebProto.Transaction,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Transaction.displayName="TronWebProto.Transaction"),TronWebProto.Transaction.Contract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.Transaction.Contract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Transaction.Contract.displayName="TronWebProto.Transaction.Contract"),TronWebProto.Transaction.Result=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Transaction.Result.repeatedFields_,null)},t.inherits(TronWebProto.Transaction.Result,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Transaction.Result.displayName="TronWebProto.Transaction.Result"),TronWebProto.Transaction.raw=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.Transaction.raw.repeatedFields_,null)},t.inherits(TronWebProto.Transaction.raw,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.Transaction.raw.displayName="TronWebProto.Transaction.raw"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountId.prototype.toObject=function(n){return TronWebProto.AccountId.toObject(n,this)},TronWebProto.AccountId.toObject=function(n,s){var a={name:s.getName_asB64(),address:s.getAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.AccountId.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountId;return TronWebProto.AccountId.deserializeBinaryFromReader(a,s)},TronWebProto.AccountId.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setName(c);break;case 2:var c=s.readBytes();n.setAddress(c);break;default:s.skipField();break}}return n},TronWebProto.AccountId.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountId.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountId.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getName_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getAddress_asU8(),a.length>0&&s.writeBytes(2,a)},TronWebProto.AccountId.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountId.prototype.getName_asB64=function(){return e.Message.bytesAsB64(this.getName())},TronWebProto.AccountId.prototype.getName_asU8=function(){return e.Message.bytesAsU8(this.getName())},TronWebProto.AccountId.prototype.setName=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.AccountId.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountId.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.AccountId.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.AccountId.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Vote.prototype.toObject=function(n){return TronWebProto.Vote.toObject(n,this)},TronWebProto.Vote.toObject=function(n,s){var a={voteAddress:s.getVoteAddress_asB64(),voteCount:e.Message.getFieldWithDefault(s,2,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Vote.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Vote;return TronWebProto.Vote.deserializeBinaryFromReader(a,s)},TronWebProto.Vote.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setVoteAddress(c);break;case 2:var c=s.readInt64();n.setVoteCount(c);break;default:s.skipField();break}}return n},TronWebProto.Vote.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Vote.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Vote.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getVoteAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getVoteCount(),a!==0&&s.writeInt64(2,a)},TronWebProto.Vote.prototype.getVoteAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.Vote.prototype.getVoteAddress_asB64=function(){return e.Message.bytesAsB64(this.getVoteAddress())},TronWebProto.Vote.prototype.getVoteAddress_asU8=function(){return e.Message.bytesAsU8(this.getVoteAddress())},TronWebProto.Vote.prototype.setVoteAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.Vote.prototype.getVoteCount=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Vote.prototype.setVoteCount=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.Proposal.repeatedFields_=[6],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Proposal.prototype.toObject=function(n){return TronWebProto.Proposal.toObject(n,this)},TronWebProto.Proposal.toObject=function(n,s){var a,c={proposalId:e.Message.getFieldWithDefault(s,1,0),proposerAddress:s.getProposerAddress_asB64(),parametersMap:(a=s.getParametersMap())?a.toObject(n,void 0):[],expirationTime:e.Message.getFieldWithDefault(s,4,0),createTime:e.Message.getFieldWithDefault(s,5,0),approvalsList:s.getApprovalsList_asB64(),state:e.Message.getFieldWithDefault(s,7,0)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.Proposal.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Proposal;return TronWebProto.Proposal.deserializeBinaryFromReader(a,s)},TronWebProto.Proposal.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setProposalId(c);break;case 2:var c=s.readBytes();n.setProposerAddress(c);break;case 3:var c=n.getParametersMap();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readInt64,e.BinaryReader.prototype.readInt64,null,0,0)});break;case 4:var c=s.readInt64();n.setExpirationTime(c);break;case 5:var c=s.readInt64();n.setCreateTime(c);break;case 6:var c=s.readBytes();n.addApprovals(c);break;case 7:var c=s.readEnum();n.setState(c);break;default:s.skipField();break}}return n},TronWebProto.Proposal.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Proposal.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Proposal.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getProposalId(),a!==0&&s.writeInt64(1,a),a=n.getProposerAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getParametersMap(!0),a&&a.getLength()>0&&a.serializeBinary(3,s,e.BinaryWriter.prototype.writeInt64,e.BinaryWriter.prototype.writeInt64),a=n.getExpirationTime(),a!==0&&s.writeInt64(4,a),a=n.getCreateTime(),a!==0&&s.writeInt64(5,a),a=n.getApprovalsList_asU8(),a.length>0&&s.writeRepeatedBytes(6,a),a=n.getState(),a!==0&&s.writeEnum(7,a)},TronWebProto.Proposal.State={PENDING:0,DISAPPROVED:1,APPROVED:2,CANCELED:3},TronWebProto.Proposal.prototype.getProposalId=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Proposal.prototype.setProposalId=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.Proposal.prototype.getProposerAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.Proposal.prototype.getProposerAddress_asB64=function(){return e.Message.bytesAsB64(this.getProposerAddress())},TronWebProto.Proposal.prototype.getProposerAddress_asU8=function(){return e.Message.bytesAsU8(this.getProposerAddress())},TronWebProto.Proposal.prototype.setProposerAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.Proposal.prototype.getParametersMap=function(n){return e.Message.getMapField(this,3,n,null)},TronWebProto.Proposal.prototype.clearParametersMap=function(){return this.getParametersMap().clear(),this},TronWebProto.Proposal.prototype.getExpirationTime=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.Proposal.prototype.setExpirationTime=function(n){return e.Message.setProto3IntField(this,4,n)},TronWebProto.Proposal.prototype.getCreateTime=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.Proposal.prototype.setCreateTime=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.Proposal.prototype.getApprovalsList=function(){return e.Message.getRepeatedField(this,6)},TronWebProto.Proposal.prototype.getApprovalsList_asB64=function(){return e.Message.bytesListAsB64(this.getApprovalsList())},TronWebProto.Proposal.prototype.getApprovalsList_asU8=function(){return e.Message.bytesListAsU8(this.getApprovalsList())},TronWebProto.Proposal.prototype.setApprovalsList=function(n){return e.Message.setField(this,6,n||[])},TronWebProto.Proposal.prototype.addApprovals=function(n,s){return e.Message.addToRepeatedField(this,6,n,s)},TronWebProto.Proposal.prototype.clearApprovalsList=function(){return this.setApprovalsList([])},TronWebProto.Proposal.prototype.getState=function(){return e.Message.getFieldWithDefault(this,7,0)},TronWebProto.Proposal.prototype.setState=function(n){return e.Message.setProto3EnumField(this,7,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Exchange.prototype.toObject=function(n){return TronWebProto.Exchange.toObject(n,this)},TronWebProto.Exchange.toObject=function(n,s){var a={exchangeId:e.Message.getFieldWithDefault(s,1,0),creatorAddress:s.getCreatorAddress_asB64(),createTime:e.Message.getFieldWithDefault(s,3,0),firstTokenId:s.getFirstTokenId_asB64(),firstTokenBalance:e.Message.getFieldWithDefault(s,7,0),secondTokenId:s.getSecondTokenId_asB64(),secondTokenBalance:e.Message.getFieldWithDefault(s,9,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Exchange.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Exchange;return TronWebProto.Exchange.deserializeBinaryFromReader(a,s)},TronWebProto.Exchange.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setExchangeId(c);break;case 2:var c=s.readBytes();n.setCreatorAddress(c);break;case 3:var c=s.readInt64();n.setCreateTime(c);break;case 6:var c=s.readBytes();n.setFirstTokenId(c);break;case 7:var c=s.readInt64();n.setFirstTokenBalance(c);break;case 8:var c=s.readBytes();n.setSecondTokenId(c);break;case 9:var c=s.readInt64();n.setSecondTokenBalance(c);break;default:s.skipField();break}}return n},TronWebProto.Exchange.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Exchange.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Exchange.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getExchangeId(),a!==0&&s.writeInt64(1,a),a=n.getCreatorAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getCreateTime(),a!==0&&s.writeInt64(3,a),a=n.getFirstTokenId_asU8(),a.length>0&&s.writeBytes(6,a),a=n.getFirstTokenBalance(),a!==0&&s.writeInt64(7,a),a=n.getSecondTokenId_asU8(),a.length>0&&s.writeBytes(8,a),a=n.getSecondTokenBalance(),a!==0&&s.writeInt64(9,a)},TronWebProto.Exchange.prototype.getExchangeId=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Exchange.prototype.setExchangeId=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.Exchange.prototype.getCreatorAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.Exchange.prototype.getCreatorAddress_asB64=function(){return e.Message.bytesAsB64(this.getCreatorAddress())},TronWebProto.Exchange.prototype.getCreatorAddress_asU8=function(){return e.Message.bytesAsU8(this.getCreatorAddress())},TronWebProto.Exchange.prototype.setCreatorAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.Exchange.prototype.getCreateTime=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.Exchange.prototype.setCreateTime=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.Exchange.prototype.getFirstTokenId=function(){return e.Message.getFieldWithDefault(this,6,"")},TronWebProto.Exchange.prototype.getFirstTokenId_asB64=function(){return e.Message.bytesAsB64(this.getFirstTokenId())},TronWebProto.Exchange.prototype.getFirstTokenId_asU8=function(){return e.Message.bytesAsU8(this.getFirstTokenId())},TronWebProto.Exchange.prototype.setFirstTokenId=function(n){return e.Message.setProto3BytesField(this,6,n)},TronWebProto.Exchange.prototype.getFirstTokenBalance=function(){return e.Message.getFieldWithDefault(this,7,0)},TronWebProto.Exchange.prototype.setFirstTokenBalance=function(n){return e.Message.setProto3IntField(this,7,n)},TronWebProto.Exchange.prototype.getSecondTokenId=function(){return e.Message.getFieldWithDefault(this,8,"")},TronWebProto.Exchange.prototype.getSecondTokenId_asB64=function(){return e.Message.bytesAsB64(this.getSecondTokenId())},TronWebProto.Exchange.prototype.getSecondTokenId_asU8=function(){return e.Message.bytesAsU8(this.getSecondTokenId())},TronWebProto.Exchange.prototype.setSecondTokenId=function(n){return e.Message.setProto3BytesField(this,8,n)},TronWebProto.Exchange.prototype.getSecondTokenBalance=function(){return e.Message.getFieldWithDefault(this,9,0)},TronWebProto.Exchange.prototype.setSecondTokenBalance=function(n){return e.Message.setProto3IntField(this,9,n)},TronWebProto.Account.repeatedFields_=[5,7,16,33],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Account.prototype.toObject=function(n){return TronWebProto.Account.toObject(n,this)},TronWebProto.Account.toObject=function(n,s){var a,c={accountName:s.getAccountName_asB64(),type:e.Message.getFieldWithDefault(s,2,0),address:s.getAddress_asB64(),balance:e.Message.getFieldWithDefault(s,4,0),votesList:e.Message.toObjectList(s.getVotesList(),TronWebProto.Vote.toObject,n),assetMap:(a=s.getAssetMap())?a.toObject(n,void 0):[],assetv2Map:(a=s.getAssetv2Map())?a.toObject(n,void 0):[],frozenList:e.Message.toObjectList(s.getFrozenList(),TronWebProto.Account.Frozen.toObject,n),netUsage:e.Message.getFieldWithDefault(s,8,0),acquiredDelegatedFrozenBalanceForBandwidth:e.Message.getFieldWithDefault(s,41,0),delegatedFrozenBalanceForBandwidth:e.Message.getFieldWithDefault(s,42,0),oldTronPower:e.Message.getFieldWithDefault(s,46,0),tronPower:(a=s.getTronPower())&&TronWebProto.Account.Frozen.toObject(n,a),assetOptimized:e.Message.getBooleanFieldWithDefault(s,60,!1),createTime:e.Message.getFieldWithDefault(s,9,0),latestOprationTime:e.Message.getFieldWithDefault(s,10,0),allowance:e.Message.getFieldWithDefault(s,11,0),latestWithdrawTime:e.Message.getFieldWithDefault(s,12,0),code:s.getCode_asB64(),isWitness:e.Message.getBooleanFieldWithDefault(s,14,!1),isCommittee:e.Message.getBooleanFieldWithDefault(s,15,!1),frozenSupplyList:e.Message.toObjectList(s.getFrozenSupplyList(),TronWebProto.Account.Frozen.toObject,n),assetIssuedName:s.getAssetIssuedName_asB64(),assetIssuedId:s.getAssetIssuedId_asB64(),latestAssetOperationTimeMap:(a=s.getLatestAssetOperationTimeMap())?a.toObject(n,void 0):[],latestAssetOperationTimev2Map:(a=s.getLatestAssetOperationTimev2Map())?a.toObject(n,void 0):[],freeNetUsage:e.Message.getFieldWithDefault(s,19,0),freeAssetNetUsageMap:(a=s.getFreeAssetNetUsageMap())?a.toObject(n,void 0):[],freeAssetNetUsagev2Map:(a=s.getFreeAssetNetUsagev2Map())?a.toObject(n,void 0):[],latestConsumeTime:e.Message.getFieldWithDefault(s,21,0),latestConsumeFreeTime:e.Message.getFieldWithDefault(s,22,0),accountId:s.getAccountId_asB64(),accountResource:(a=s.getAccountResource())&&TronWebProto.Account.AccountResource.toObject(n,a),codehash:s.getCodehash_asB64(),ownerPermission:(a=s.getOwnerPermission())&&TronWebProto.Permission.toObject(n,a),witnessPermission:(a=s.getWitnessPermission())&&TronWebProto.Permission.toObject(n,a),activePermissionList:e.Message.toObjectList(s.getActivePermissionList(),TronWebProto.Permission.toObject,n)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.Account.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Account;return TronWebProto.Account.deserializeBinaryFromReader(a,s)},TronWebProto.Account.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAccountName(c);break;case 2:var c=s.readEnum();n.setType(c);break;case 3:var c=s.readBytes();n.setAddress(c);break;case 4:var c=s.readInt64();n.setBalance(c);break;case 5:var c=new TronWebProto.Vote;s.readMessage(c,TronWebProto.Vote.deserializeBinaryFromReader),n.addVotes(c);break;case 6:var c=n.getAssetMap();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readInt64,null,"",0)});break;case 56:var c=n.getAssetv2Map();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readInt64,null,"",0)});break;case 7:var c=new TronWebProto.Account.Frozen;s.readMessage(c,TronWebProto.Account.Frozen.deserializeBinaryFromReader),n.addFrozen(c);break;case 8:var c=s.readInt64();n.setNetUsage(c);break;case 41:var c=s.readInt64();n.setAcquiredDelegatedFrozenBalanceForBandwidth(c);break;case 42:var c=s.readInt64();n.setDelegatedFrozenBalanceForBandwidth(c);break;case 46:var c=s.readInt64();n.setOldTronPower(c);break;case 47:var c=new TronWebProto.Account.Frozen;s.readMessage(c,TronWebProto.Account.Frozen.deserializeBinaryFromReader),n.setTronPower(c);break;case 60:var c=s.readBool();n.setAssetOptimized(c);break;case 9:var c=s.readInt64();n.setCreateTime(c);break;case 10:var c=s.readInt64();n.setLatestOprationTime(c);break;case 11:var c=s.readInt64();n.setAllowance(c);break;case 12:var c=s.readInt64();n.setLatestWithdrawTime(c);break;case 13:var c=s.readBytes();n.setCode(c);break;case 14:var c=s.readBool();n.setIsWitness(c);break;case 15:var c=s.readBool();n.setIsCommittee(c);break;case 16:var c=new TronWebProto.Account.Frozen;s.readMessage(c,TronWebProto.Account.Frozen.deserializeBinaryFromReader),n.addFrozenSupply(c);break;case 17:var c=s.readBytes();n.setAssetIssuedName(c);break;case 57:var c=s.readBytes();n.setAssetIssuedId(c);break;case 18:var c=n.getLatestAssetOperationTimeMap();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readInt64,null,"",0)});break;case 58:var c=n.getLatestAssetOperationTimev2Map();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readInt64,null,"",0)});break;case 19:var c=s.readInt64();n.setFreeNetUsage(c);break;case 20:var c=n.getFreeAssetNetUsageMap();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readInt64,null,"",0)});break;case 59:var c=n.getFreeAssetNetUsagev2Map();s.readMessage(c,function(u,l){e.Map.deserializeBinary(u,l,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readInt64,null,"",0)});break;case 21:var c=s.readInt64();n.setLatestConsumeTime(c);break;case 22:var c=s.readInt64();n.setLatestConsumeFreeTime(c);break;case 23:var c=s.readBytes();n.setAccountId(c);break;case 26:var c=new TronWebProto.Account.AccountResource;s.readMessage(c,TronWebProto.Account.AccountResource.deserializeBinaryFromReader),n.setAccountResource(c);break;case 30:var c=s.readBytes();n.setCodehash(c);break;case 31:var c=new TronWebProto.Permission;s.readMessage(c,TronWebProto.Permission.deserializeBinaryFromReader),n.setOwnerPermission(c);break;case 32:var c=new TronWebProto.Permission;s.readMessage(c,TronWebProto.Permission.deserializeBinaryFromReader),n.setWitnessPermission(c);break;case 33:var c=new TronWebProto.Permission;s.readMessage(c,TronWebProto.Permission.deserializeBinaryFromReader),n.addActivePermission(c);break;default:s.skipField();break}}return n},TronWebProto.Account.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Account.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Account.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAccountName_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getType(),a!==0&&s.writeEnum(2,a),a=n.getAddress_asU8(),a.length>0&&s.writeBytes(3,a),a=n.getBalance(),a!==0&&s.writeInt64(4,a),a=n.getVotesList(),a.length>0&&s.writeRepeatedMessage(5,a,TronWebProto.Vote.serializeBinaryToWriter),a=n.getAssetMap(!0),a&&a.getLength()>0&&a.serializeBinary(6,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeInt64),a=n.getAssetv2Map(!0),a&&a.getLength()>0&&a.serializeBinary(56,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeInt64),a=n.getFrozenList(),a.length>0&&s.writeRepeatedMessage(7,a,TronWebProto.Account.Frozen.serializeBinaryToWriter),a=n.getNetUsage(),a!==0&&s.writeInt64(8,a),a=n.getAcquiredDelegatedFrozenBalanceForBandwidth(),a!==0&&s.writeInt64(41,a),a=n.getDelegatedFrozenBalanceForBandwidth(),a!==0&&s.writeInt64(42,a),a=n.getOldTronPower(),a!==0&&s.writeInt64(46,a),a=n.getTronPower(),a!=null&&s.writeMessage(47,a,TronWebProto.Account.Frozen.serializeBinaryToWriter),a=n.getAssetOptimized(),a&&s.writeBool(60,a),a=n.getCreateTime(),a!==0&&s.writeInt64(9,a),a=n.getLatestOprationTime(),a!==0&&s.writeInt64(10,a),a=n.getAllowance(),a!==0&&s.writeInt64(11,a),a=n.getLatestWithdrawTime(),a!==0&&s.writeInt64(12,a),a=n.getCode_asU8(),a.length>0&&s.writeBytes(13,a),a=n.getIsWitness(),a&&s.writeBool(14,a),a=n.getIsCommittee(),a&&s.writeBool(15,a),a=n.getFrozenSupplyList(),a.length>0&&s.writeRepeatedMessage(16,a,TronWebProto.Account.Frozen.serializeBinaryToWriter),a=n.getAssetIssuedName_asU8(),a.length>0&&s.writeBytes(17,a),a=n.getAssetIssuedId_asU8(),a.length>0&&s.writeBytes(57,a),a=n.getLatestAssetOperationTimeMap(!0),a&&a.getLength()>0&&a.serializeBinary(18,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeInt64),a=n.getLatestAssetOperationTimev2Map(!0),a&&a.getLength()>0&&a.serializeBinary(58,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeInt64),a=n.getFreeNetUsage(),a!==0&&s.writeInt64(19,a),a=n.getFreeAssetNetUsageMap(!0),a&&a.getLength()>0&&a.serializeBinary(20,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeInt64),a=n.getFreeAssetNetUsagev2Map(!0),a&&a.getLength()>0&&a.serializeBinary(59,s,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeInt64),a=n.getLatestConsumeTime(),a!==0&&s.writeInt64(21,a),a=n.getLatestConsumeFreeTime(),a!==0&&s.writeInt64(22,a),a=n.getAccountId_asU8(),a.length>0&&s.writeBytes(23,a),a=n.getAccountResource(),a!=null&&s.writeMessage(26,a,TronWebProto.Account.AccountResource.serializeBinaryToWriter),a=n.getCodehash_asU8(),a.length>0&&s.writeBytes(30,a),a=n.getOwnerPermission(),a!=null&&s.writeMessage(31,a,TronWebProto.Permission.serializeBinaryToWriter),a=n.getWitnessPermission(),a!=null&&s.writeMessage(32,a,TronWebProto.Permission.serializeBinaryToWriter),a=n.getActivePermissionList(),a.length>0&&s.writeRepeatedMessage(33,a,TronWebProto.Permission.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Account.Frozen.prototype.toObject=function(n){return TronWebProto.Account.Frozen.toObject(n,this)},TronWebProto.Account.Frozen.toObject=function(n,s){var a={frozenBalance:e.Message.getFieldWithDefault(s,1,0),expireTime:e.Message.getFieldWithDefault(s,2,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Account.Frozen.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Account.Frozen;return TronWebProto.Account.Frozen.deserializeBinaryFromReader(a,s)},TronWebProto.Account.Frozen.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setFrozenBalance(c);break;case 2:var c=s.readInt64();n.setExpireTime(c);break;default:s.skipField();break}}return n},TronWebProto.Account.Frozen.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Account.Frozen.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Account.Frozen.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getFrozenBalance(),a!==0&&s.writeInt64(1,a),a=n.getExpireTime(),a!==0&&s.writeInt64(2,a)},TronWebProto.Account.Frozen.prototype.getFrozenBalance=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Account.Frozen.prototype.setFrozenBalance=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.Account.Frozen.prototype.getExpireTime=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Account.Frozen.prototype.setExpireTime=function(n){return e.Message.setProto3IntField(this,2,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Account.AccountResource.prototype.toObject=function(n){return TronWebProto.Account.AccountResource.toObject(n,this)},TronWebProto.Account.AccountResource.toObject=function(n,s){var a,c={energyUsage:e.Message.getFieldWithDefault(s,1,0),frozenBalanceForEnergy:(a=s.getFrozenBalanceForEnergy())&&TronWebProto.Account.Frozen.toObject(n,a),latestConsumeTimeForEnergy:e.Message.getFieldWithDefault(s,3,0),acquiredDelegatedFrozenBalanceForEnergy:e.Message.getFieldWithDefault(s,4,0),delegatedFrozenBalanceForEnergy:e.Message.getFieldWithDefault(s,5,0),storageLimit:e.Message.getFieldWithDefault(s,6,0),storageUsage:e.Message.getFieldWithDefault(s,7,0),latestExchangeStorageTime:e.Message.getFieldWithDefault(s,8,0)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.Account.AccountResource.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Account.AccountResource;return TronWebProto.Account.AccountResource.deserializeBinaryFromReader(a,s)},TronWebProto.Account.AccountResource.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setEnergyUsage(c);break;case 2:var c=new TronWebProto.Account.Frozen;s.readMessage(c,TronWebProto.Account.Frozen.deserializeBinaryFromReader),n.setFrozenBalanceForEnergy(c);break;case 3:var c=s.readInt64();n.setLatestConsumeTimeForEnergy(c);break;case 4:var c=s.readInt64();n.setAcquiredDelegatedFrozenBalanceForEnergy(c);break;case 5:var c=s.readInt64();n.setDelegatedFrozenBalanceForEnergy(c);break;case 6:var c=s.readInt64();n.setStorageLimit(c);break;case 7:var c=s.readInt64();n.setStorageUsage(c);break;case 8:var c=s.readInt64();n.setLatestExchangeStorageTime(c);break;default:s.skipField();break}}return n},TronWebProto.Account.AccountResource.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Account.AccountResource.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Account.AccountResource.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getEnergyUsage(),a!==0&&s.writeInt64(1,a),a=n.getFrozenBalanceForEnergy(),a!=null&&s.writeMessage(2,a,TronWebProto.Account.Frozen.serializeBinaryToWriter),a=n.getLatestConsumeTimeForEnergy(),a!==0&&s.writeInt64(3,a),a=n.getAcquiredDelegatedFrozenBalanceForEnergy(),a!==0&&s.writeInt64(4,a),a=n.getDelegatedFrozenBalanceForEnergy(),a!==0&&s.writeInt64(5,a),a=n.getStorageLimit(),a!==0&&s.writeInt64(6,a),a=n.getStorageUsage(),a!==0&&s.writeInt64(7,a),a=n.getLatestExchangeStorageTime(),a!==0&&s.writeInt64(8,a)},TronWebProto.Account.AccountResource.prototype.getEnergyUsage=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Account.AccountResource.prototype.setEnergyUsage=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.Account.AccountResource.prototype.getFrozenBalanceForEnergy=function(){return e.Message.getWrapperField(this,TronWebProto.Account.Frozen,2)},TronWebProto.Account.AccountResource.prototype.setFrozenBalanceForEnergy=function(n){return e.Message.setWrapperField(this,2,n)},TronWebProto.Account.AccountResource.prototype.clearFrozenBalanceForEnergy=function(){return this.setFrozenBalanceForEnergy(void 0)},TronWebProto.Account.AccountResource.prototype.hasFrozenBalanceForEnergy=function(){return e.Message.getField(this,2)!=null},TronWebProto.Account.AccountResource.prototype.getLatestConsumeTimeForEnergy=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.Account.AccountResource.prototype.setLatestConsumeTimeForEnergy=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.Account.AccountResource.prototype.getAcquiredDelegatedFrozenBalanceForEnergy=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.Account.AccountResource.prototype.setAcquiredDelegatedFrozenBalanceForEnergy=function(n){return e.Message.setProto3IntField(this,4,n)},TronWebProto.Account.AccountResource.prototype.getDelegatedFrozenBalanceForEnergy=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.Account.AccountResource.prototype.setDelegatedFrozenBalanceForEnergy=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.Account.AccountResource.prototype.getStorageLimit=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.Account.AccountResource.prototype.setStorageLimit=function(n){return e.Message.setProto3IntField(this,6,n)},TronWebProto.Account.AccountResource.prototype.getStorageUsage=function(){return e.Message.getFieldWithDefault(this,7,0)},TronWebProto.Account.AccountResource.prototype.setStorageUsage=function(n){return e.Message.setProto3IntField(this,7,n)},TronWebProto.Account.AccountResource.prototype.getLatestExchangeStorageTime=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.Account.AccountResource.prototype.setLatestExchangeStorageTime=function(n){return e.Message.setProto3IntField(this,8,n)},TronWebProto.Account.prototype.getAccountName=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.Account.prototype.getAccountName_asB64=function(){return e.Message.bytesAsB64(this.getAccountName())},TronWebProto.Account.prototype.getAccountName_asU8=function(){return e.Message.bytesAsU8(this.getAccountName())},TronWebProto.Account.prototype.setAccountName=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.Account.prototype.getType=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Account.prototype.setType=function(n){return e.Message.setProto3EnumField(this,2,n)},TronWebProto.Account.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.Account.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.Account.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.Account.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,3,n)},TronWebProto.Account.prototype.getBalance=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.Account.prototype.setBalance=function(n){return e.Message.setProto3IntField(this,4,n)},TronWebProto.Account.prototype.getVotesList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Vote,5)},TronWebProto.Account.prototype.setVotesList=function(n){return e.Message.setRepeatedWrapperField(this,5,n)},TronWebProto.Account.prototype.addVotes=function(n,s){return e.Message.addToRepeatedWrapperField(this,5,n,TronWebProto.Vote,s)},TronWebProto.Account.prototype.clearVotesList=function(){return this.setVotesList([])},TronWebProto.Account.prototype.getAssetMap=function(n){return e.Message.getMapField(this,6,n,null)},TronWebProto.Account.prototype.clearAssetMap=function(){return this.getAssetMap().clear(),this},TronWebProto.Account.prototype.getAssetv2Map=function(n){return e.Message.getMapField(this,56,n,null)},TronWebProto.Account.prototype.clearAssetv2Map=function(){return this.getAssetv2Map().clear(),this},TronWebProto.Account.prototype.getFrozenList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Account.Frozen,7)},TronWebProto.Account.prototype.setFrozenList=function(n){return e.Message.setRepeatedWrapperField(this,7,n)},TronWebProto.Account.prototype.addFrozen=function(n,s){return e.Message.addToRepeatedWrapperField(this,7,n,TronWebProto.Account.Frozen,s)},TronWebProto.Account.prototype.clearFrozenList=function(){return this.setFrozenList([])},TronWebProto.Account.prototype.getNetUsage=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.Account.prototype.setNetUsage=function(n){return e.Message.setProto3IntField(this,8,n)},TronWebProto.Account.prototype.getAcquiredDelegatedFrozenBalanceForBandwidth=function(){return e.Message.getFieldWithDefault(this,41,0)},TronWebProto.Account.prototype.setAcquiredDelegatedFrozenBalanceForBandwidth=function(n){return e.Message.setProto3IntField(this,41,n)},TronWebProto.Account.prototype.getDelegatedFrozenBalanceForBandwidth=function(){return e.Message.getFieldWithDefault(this,42,0)},TronWebProto.Account.prototype.setDelegatedFrozenBalanceForBandwidth=function(n){return e.Message.setProto3IntField(this,42,n)},TronWebProto.Account.prototype.getOldTronPower=function(){return e.Message.getFieldWithDefault(this,46,0)},TronWebProto.Account.prototype.setOldTronPower=function(n){return e.Message.setProto3IntField(this,46,n)},TronWebProto.Account.prototype.getTronPower=function(){return e.Message.getWrapperField(this,TronWebProto.Account.Frozen,47)},TronWebProto.Account.prototype.setTronPower=function(n){return e.Message.setWrapperField(this,47,n)},TronWebProto.Account.prototype.clearTronPower=function(){return this.setTronPower(void 0)},TronWebProto.Account.prototype.hasTronPower=function(){return e.Message.getField(this,47)!=null},TronWebProto.Account.prototype.getAssetOptimized=function(){return e.Message.getBooleanFieldWithDefault(this,60,!1)},TronWebProto.Account.prototype.setAssetOptimized=function(n){return e.Message.setProto3BooleanField(this,60,n)},TronWebProto.Account.prototype.getCreateTime=function(){return e.Message.getFieldWithDefault(this,9,0)},TronWebProto.Account.prototype.setCreateTime=function(n){return e.Message.setProto3IntField(this,9,n)},TronWebProto.Account.prototype.getLatestOprationTime=function(){return e.Message.getFieldWithDefault(this,10,0)},TronWebProto.Account.prototype.setLatestOprationTime=function(n){return e.Message.setProto3IntField(this,10,n)},TronWebProto.Account.prototype.getAllowance=function(){return e.Message.getFieldWithDefault(this,11,0)},TronWebProto.Account.prototype.setAllowance=function(n){return e.Message.setProto3IntField(this,11,n)},TronWebProto.Account.prototype.getLatestWithdrawTime=function(){return e.Message.getFieldWithDefault(this,12,0)},TronWebProto.Account.prototype.setLatestWithdrawTime=function(n){return e.Message.setProto3IntField(this,12,n)},TronWebProto.Account.prototype.getCode=function(){return e.Message.getFieldWithDefault(this,13,"")},TronWebProto.Account.prototype.getCode_asB64=function(){return e.Message.bytesAsB64(this.getCode())},TronWebProto.Account.prototype.getCode_asU8=function(){return e.Message.bytesAsU8(this.getCode())},TronWebProto.Account.prototype.setCode=function(n){return e.Message.setProto3BytesField(this,13,n)},TronWebProto.Account.prototype.getIsWitness=function(){return e.Message.getBooleanFieldWithDefault(this,14,!1)},TronWebProto.Account.prototype.setIsWitness=function(n){return e.Message.setProto3BooleanField(this,14,n)},TronWebProto.Account.prototype.getIsCommittee=function(){return e.Message.getBooleanFieldWithDefault(this,15,!1)},TronWebProto.Account.prototype.setIsCommittee=function(n){return e.Message.setProto3BooleanField(this,15,n)},TronWebProto.Account.prototype.getFrozenSupplyList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Account.Frozen,16)},TronWebProto.Account.prototype.setFrozenSupplyList=function(n){return e.Message.setRepeatedWrapperField(this,16,n)},TronWebProto.Account.prototype.addFrozenSupply=function(n,s){return e.Message.addToRepeatedWrapperField(this,16,n,TronWebProto.Account.Frozen,s)},TronWebProto.Account.prototype.clearFrozenSupplyList=function(){return this.setFrozenSupplyList([])},TronWebProto.Account.prototype.getAssetIssuedName=function(){return e.Message.getFieldWithDefault(this,17,"")},TronWebProto.Account.prototype.getAssetIssuedName_asB64=function(){return e.Message.bytesAsB64(this.getAssetIssuedName())},TronWebProto.Account.prototype.getAssetIssuedName_asU8=function(){return e.Message.bytesAsU8(this.getAssetIssuedName())},TronWebProto.Account.prototype.setAssetIssuedName=function(n){return e.Message.setProto3BytesField(this,17,n)},TronWebProto.Account.prototype.getAssetIssuedId=function(){return e.Message.getFieldWithDefault(this,57,"")},TronWebProto.Account.prototype.getAssetIssuedId_asB64=function(){return e.Message.bytesAsB64(this.getAssetIssuedId())},TronWebProto.Account.prototype.getAssetIssuedId_asU8=function(){return e.Message.bytesAsU8(this.getAssetIssuedId())},TronWebProto.Account.prototype.setAssetIssuedId=function(n){return e.Message.setProto3BytesField(this,57,n)},TronWebProto.Account.prototype.getLatestAssetOperationTimeMap=function(n){return e.Message.getMapField(this,18,n,null)},TronWebProto.Account.prototype.clearLatestAssetOperationTimeMap=function(){return this.getLatestAssetOperationTimeMap().clear(),this},TronWebProto.Account.prototype.getLatestAssetOperationTimev2Map=function(n){return e.Message.getMapField(this,58,n,null)},TronWebProto.Account.prototype.clearLatestAssetOperationTimev2Map=function(){return this.getLatestAssetOperationTimev2Map().clear(),this},TronWebProto.Account.prototype.getFreeNetUsage=function(){return e.Message.getFieldWithDefault(this,19,0)},TronWebProto.Account.prototype.setFreeNetUsage=function(n){return e.Message.setProto3IntField(this,19,n)},TronWebProto.Account.prototype.getFreeAssetNetUsageMap=function(n){return e.Message.getMapField(this,20,n,null)},TronWebProto.Account.prototype.clearFreeAssetNetUsageMap=function(){return this.getFreeAssetNetUsageMap().clear(),this},TronWebProto.Account.prototype.getFreeAssetNetUsagev2Map=function(n){return e.Message.getMapField(this,59,n,null)},TronWebProto.Account.prototype.clearFreeAssetNetUsagev2Map=function(){return this.getFreeAssetNetUsagev2Map().clear(),this},TronWebProto.Account.prototype.getLatestConsumeTime=function(){return e.Message.getFieldWithDefault(this,21,0)},TronWebProto.Account.prototype.setLatestConsumeTime=function(n){return e.Message.setProto3IntField(this,21,n)},TronWebProto.Account.prototype.getLatestConsumeFreeTime=function(){return e.Message.getFieldWithDefault(this,22,0)},TronWebProto.Account.prototype.setLatestConsumeFreeTime=function(n){return e.Message.setProto3IntField(this,22,n)},TronWebProto.Account.prototype.getAccountId=function(){return e.Message.getFieldWithDefault(this,23,"")},TronWebProto.Account.prototype.getAccountId_asB64=function(){return e.Message.bytesAsB64(this.getAccountId())},TronWebProto.Account.prototype.getAccountId_asU8=function(){return e.Message.bytesAsU8(this.getAccountId())},TronWebProto.Account.prototype.setAccountId=function(n){return e.Message.setProto3BytesField(this,23,n)},TronWebProto.Account.prototype.getAccountResource=function(){return e.Message.getWrapperField(this,TronWebProto.Account.AccountResource,26)},TronWebProto.Account.prototype.setAccountResource=function(n){return e.Message.setWrapperField(this,26,n)},TronWebProto.Account.prototype.clearAccountResource=function(){return this.setAccountResource(void 0)},TronWebProto.Account.prototype.hasAccountResource=function(){return e.Message.getField(this,26)!=null},TronWebProto.Account.prototype.getCodehash=function(){return e.Message.getFieldWithDefault(this,30,"")},TronWebProto.Account.prototype.getCodehash_asB64=function(){return e.Message.bytesAsB64(this.getCodehash())},TronWebProto.Account.prototype.getCodehash_asU8=function(){return e.Message.bytesAsU8(this.getCodehash())},TronWebProto.Account.prototype.setCodehash=function(n){return e.Message.setProto3BytesField(this,30,n)},TronWebProto.Account.prototype.getOwnerPermission=function(){return e.Message.getWrapperField(this,TronWebProto.Permission,31)},TronWebProto.Account.prototype.setOwnerPermission=function(n){return e.Message.setWrapperField(this,31,n)},TronWebProto.Account.prototype.clearOwnerPermission=function(){return this.setOwnerPermission(void 0)},TronWebProto.Account.prototype.hasOwnerPermission=function(){return e.Message.getField(this,31)!=null},TronWebProto.Account.prototype.getWitnessPermission=function(){return e.Message.getWrapperField(this,TronWebProto.Permission,32)},TronWebProto.Account.prototype.setWitnessPermission=function(n){return e.Message.setWrapperField(this,32,n)},TronWebProto.Account.prototype.clearWitnessPermission=function(){return this.setWitnessPermission(void 0)},TronWebProto.Account.prototype.hasWitnessPermission=function(){return e.Message.getField(this,32)!=null},TronWebProto.Account.prototype.getActivePermissionList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Permission,33)},TronWebProto.Account.prototype.setActivePermissionList=function(n){return e.Message.setRepeatedWrapperField(this,33,n)},TronWebProto.Account.prototype.addActivePermission=function(n,s){return e.Message.addToRepeatedWrapperField(this,33,n,TronWebProto.Permission,s)},TronWebProto.Account.prototype.clearActivePermissionList=function(){return this.setActivePermissionList([])},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Key.prototype.toObject=function(n){return TronWebProto.Key.toObject(n,this)},TronWebProto.Key.toObject=function(n,s){var a={address:s.getAddress_asB64(),weight:e.Message.getFieldWithDefault(s,2,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Key.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Key;return TronWebProto.Key.deserializeBinaryFromReader(a,s)},TronWebProto.Key.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAddress(c);break;case 2:var c=s.readInt64();n.setWeight(c);break;default:s.skipField();break}}return n},TronWebProto.Key.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Key.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Key.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getWeight(),a!==0&&s.writeInt64(2,a)},TronWebProto.Key.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.Key.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.Key.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.Key.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.Key.prototype.getWeight=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Key.prototype.setWeight=function(n){return e.Message.setProto3IntField(this,2,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.DelegatedResource.prototype.toObject=function(n){return TronWebProto.DelegatedResource.toObject(n,this)},TronWebProto.DelegatedResource.toObject=function(n,s){var a={from:s.getFrom_asB64(),to:s.getTo_asB64(),frozenBalanceForBandwidth:e.Message.getFieldWithDefault(s,3,0),frozenBalanceForEnergy:e.Message.getFieldWithDefault(s,4,0),expireTimeForBandwidth:e.Message.getFieldWithDefault(s,5,0),expireTimeForEnergy:e.Message.getFieldWithDefault(s,6,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.DelegatedResource.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.DelegatedResource;return TronWebProto.DelegatedResource.deserializeBinaryFromReader(a,s)},TronWebProto.DelegatedResource.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setFrom(c);break;case 2:var c=s.readBytes();n.setTo(c);break;case 3:var c=s.readInt64();n.setFrozenBalanceForBandwidth(c);break;case 4:var c=s.readInt64();n.setFrozenBalanceForEnergy(c);break;case 5:var c=s.readInt64();n.setExpireTimeForBandwidth(c);break;case 6:var c=s.readInt64();n.setExpireTimeForEnergy(c);break;default:s.skipField();break}}return n},TronWebProto.DelegatedResource.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.DelegatedResource.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.DelegatedResource.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getFrom_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getTo_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getFrozenBalanceForBandwidth(),a!==0&&s.writeInt64(3,a),a=n.getFrozenBalanceForEnergy(),a!==0&&s.writeInt64(4,a),a=n.getExpireTimeForBandwidth(),a!==0&&s.writeInt64(5,a),a=n.getExpireTimeForEnergy(),a!==0&&s.writeInt64(6,a)},TronWebProto.DelegatedResource.prototype.getFrom=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.DelegatedResource.prototype.getFrom_asB64=function(){return e.Message.bytesAsB64(this.getFrom())},TronWebProto.DelegatedResource.prototype.getFrom_asU8=function(){return e.Message.bytesAsU8(this.getFrom())},TronWebProto.DelegatedResource.prototype.setFrom=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.DelegatedResource.prototype.getTo=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.DelegatedResource.prototype.getTo_asB64=function(){return e.Message.bytesAsB64(this.getTo())},TronWebProto.DelegatedResource.prototype.getTo_asU8=function(){return e.Message.bytesAsU8(this.getTo())},TronWebProto.DelegatedResource.prototype.setTo=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.DelegatedResource.prototype.getFrozenBalanceForBandwidth=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.DelegatedResource.prototype.setFrozenBalanceForBandwidth=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.DelegatedResource.prototype.getFrozenBalanceForEnergy=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.DelegatedResource.prototype.setFrozenBalanceForEnergy=function(n){return e.Message.setProto3IntField(this,4,n)},TronWebProto.DelegatedResource.prototype.getExpireTimeForBandwidth=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.DelegatedResource.prototype.setExpireTimeForBandwidth=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.DelegatedResource.prototype.getExpireTimeForEnergy=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.DelegatedResource.prototype.setExpireTimeForEnergy=function(n){return e.Message.setProto3IntField(this,6,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.authority.prototype.toObject=function(n){return TronWebProto.authority.toObject(n,this)},TronWebProto.authority.toObject=function(n,s){var a,c={account:(a=s.getAccount())&&TronWebProto.AccountId.toObject(n,a),permissionName:s.getPermissionName_asB64()};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.authority.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.authority;return TronWebProto.authority.deserializeBinaryFromReader(a,s)},TronWebProto.authority.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=new TronWebProto.AccountId;s.readMessage(c,TronWebProto.AccountId.deserializeBinaryFromReader),n.setAccount(c);break;case 2:var c=s.readBytes();n.setPermissionName(c);break;default:s.skipField();break}}return n},TronWebProto.authority.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.authority.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.authority.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAccount(),a!=null&&s.writeMessage(1,a,TronWebProto.AccountId.serializeBinaryToWriter),a=n.getPermissionName_asU8(),a.length>0&&s.writeBytes(2,a)},TronWebProto.authority.prototype.getAccount=function(){return e.Message.getWrapperField(this,TronWebProto.AccountId,1)},TronWebProto.authority.prototype.setAccount=function(n){return e.Message.setWrapperField(this,1,n)},TronWebProto.authority.prototype.clearAccount=function(){return this.setAccount(void 0)},TronWebProto.authority.prototype.hasAccount=function(){return e.Message.getField(this,1)!=null},TronWebProto.authority.prototype.getPermissionName=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.authority.prototype.getPermissionName_asB64=function(){return e.Message.bytesAsB64(this.getPermissionName())},TronWebProto.authority.prototype.getPermissionName_asU8=function(){return e.Message.bytesAsU8(this.getPermissionName())},TronWebProto.authority.prototype.setPermissionName=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.Permission.repeatedFields_=[7],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Permission.prototype.toObject=function(n){return TronWebProto.Permission.toObject(n,this)},TronWebProto.Permission.toObject=function(n,s){var a={type:e.Message.getFieldWithDefault(s,1,0),id:e.Message.getFieldWithDefault(s,2,0),permissionName:e.Message.getFieldWithDefault(s,3,""),threshold:e.Message.getFieldWithDefault(s,4,0),parentId:e.Message.getFieldWithDefault(s,5,0),operations:s.getOperations_asB64(),keysList:e.Message.toObjectList(s.getKeysList(),TronWebProto.Key.toObject,n)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Permission.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Permission;return TronWebProto.Permission.deserializeBinaryFromReader(a,s)},TronWebProto.Permission.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readEnum();n.setType(c);break;case 2:var c=s.readInt32();n.setId(c);break;case 3:var c=s.readString();n.setPermissionName(c);break;case 4:var c=s.readInt64();n.setThreshold(c);break;case 5:var c=s.readInt32();n.setParentId(c);break;case 6:var c=s.readBytes();n.setOperations(c);break;case 7:var c=new TronWebProto.Key;s.readMessage(c,TronWebProto.Key.deserializeBinaryFromReader),n.addKeys(c);break;default:s.skipField();break}}return n},TronWebProto.Permission.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Permission.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Permission.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getType(),a!==0&&s.writeEnum(1,a),a=n.getId(),a!==0&&s.writeInt32(2,a),a=n.getPermissionName(),a.length>0&&s.writeString(3,a),a=n.getThreshold(),a!==0&&s.writeInt64(4,a),a=n.getParentId(),a!==0&&s.writeInt32(5,a),a=n.getOperations_asU8(),a.length>0&&s.writeBytes(6,a),a=n.getKeysList(),a.length>0&&s.writeRepeatedMessage(7,a,TronWebProto.Key.serializeBinaryToWriter)},TronWebProto.Permission.PermissionType={OWNER:0,WITNESS:1,ACTIVE:2},TronWebProto.Permission.prototype.getType=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Permission.prototype.setType=function(n){return e.Message.setProto3EnumField(this,1,n)},TronWebProto.Permission.prototype.getId=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Permission.prototype.setId=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.Permission.prototype.getPermissionName=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.Permission.prototype.setPermissionName=function(n){return e.Message.setProto3StringField(this,3,n)},TronWebProto.Permission.prototype.getThreshold=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.Permission.prototype.setThreshold=function(n){return e.Message.setProto3IntField(this,4,n)},TronWebProto.Permission.prototype.getParentId=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.Permission.prototype.setParentId=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.Permission.prototype.getOperations=function(){return e.Message.getFieldWithDefault(this,6,"")},TronWebProto.Permission.prototype.getOperations_asB64=function(){return e.Message.bytesAsB64(this.getOperations())},TronWebProto.Permission.prototype.getOperations_asU8=function(){return e.Message.bytesAsU8(this.getOperations())},TronWebProto.Permission.prototype.setOperations=function(n){return e.Message.setProto3BytesField(this,6,n)},TronWebProto.Permission.prototype.getKeysList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Key,7)},TronWebProto.Permission.prototype.setKeysList=function(n){return e.Message.setRepeatedWrapperField(this,7,n)},TronWebProto.Permission.prototype.addKeys=function(n,s){return e.Message.addToRepeatedWrapperField(this,7,n,TronWebProto.Key,s)},TronWebProto.Permission.prototype.clearKeysList=function(){return this.setKeysList([])},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Witness.prototype.toObject=function(n){return TronWebProto.Witness.toObject(n,this)},TronWebProto.Witness.toObject=function(n,s){var a={address:s.getAddress_asB64(),votecount:e.Message.getFieldWithDefault(s,2,0),pubkey:s.getPubkey_asB64(),url:e.Message.getFieldWithDefault(s,4,""),totalproduced:e.Message.getFieldWithDefault(s,5,0),totalmissed:e.Message.getFieldWithDefault(s,6,0),latestblocknum:e.Message.getFieldWithDefault(s,7,0),latestslotnum:e.Message.getFieldWithDefault(s,8,0),isjobs:e.Message.getBooleanFieldWithDefault(s,9,!1)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Witness.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Witness;return TronWebProto.Witness.deserializeBinaryFromReader(a,s)},TronWebProto.Witness.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAddress(c);break;case 2:var c=s.readInt64();n.setVotecount(c);break;case 3:var c=s.readBytes();n.setPubkey(c);break;case 4:var c=s.readString();n.setUrl(c);break;case 5:var c=s.readInt64();n.setTotalproduced(c);break;case 6:var c=s.readInt64();n.setTotalmissed(c);break;case 7:var c=s.readInt64();n.setLatestblocknum(c);break;case 8:var c=s.readInt64();n.setLatestslotnum(c);break;case 9:var c=s.readBool();n.setIsjobs(c);break;default:s.skipField();break}}return n},TronWebProto.Witness.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Witness.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Witness.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getVotecount(),a!==0&&s.writeInt64(2,a),a=n.getPubkey_asU8(),a.length>0&&s.writeBytes(3,a),a=n.getUrl(),a.length>0&&s.writeString(4,a),a=n.getTotalproduced(),a!==0&&s.writeInt64(5,a),a=n.getTotalmissed(),a!==0&&s.writeInt64(6,a),a=n.getLatestblocknum(),a!==0&&s.writeInt64(7,a),a=n.getLatestslotnum(),a!==0&&s.writeInt64(8,a),a=n.getIsjobs(),a&&s.writeBool(9,a)},TronWebProto.Witness.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.Witness.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.Witness.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.Witness.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.Witness.prototype.getVotecount=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Witness.prototype.setVotecount=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.Witness.prototype.getPubkey=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.Witness.prototype.getPubkey_asB64=function(){return e.Message.bytesAsB64(this.getPubkey())},TronWebProto.Witness.prototype.getPubkey_asU8=function(){return e.Message.bytesAsU8(this.getPubkey())},TronWebProto.Witness.prototype.setPubkey=function(n){return e.Message.setProto3BytesField(this,3,n)},TronWebProto.Witness.prototype.getUrl=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.Witness.prototype.setUrl=function(n){return e.Message.setProto3StringField(this,4,n)},TronWebProto.Witness.prototype.getTotalproduced=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.Witness.prototype.setTotalproduced=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.Witness.prototype.getTotalmissed=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.Witness.prototype.setTotalmissed=function(n){return e.Message.setProto3IntField(this,6,n)},TronWebProto.Witness.prototype.getLatestblocknum=function(){return e.Message.getFieldWithDefault(this,7,0)},TronWebProto.Witness.prototype.setLatestblocknum=function(n){return e.Message.setProto3IntField(this,7,n)},TronWebProto.Witness.prototype.getLatestslotnum=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.Witness.prototype.setLatestslotnum=function(n){return e.Message.setProto3IntField(this,8,n)},TronWebProto.Witness.prototype.getIsjobs=function(){return e.Message.getBooleanFieldWithDefault(this,9,!1)},TronWebProto.Witness.prototype.setIsjobs=function(n){return e.Message.setProto3BooleanField(this,9,n)},TronWebProto.Votes.repeatedFields_=[2,3],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Votes.prototype.toObject=function(n){return TronWebProto.Votes.toObject(n,this)},TronWebProto.Votes.toObject=function(n,s){var a={address:s.getAddress_asB64(),oldVotesList:e.Message.toObjectList(s.getOldVotesList(),TronWebProto.Vote.toObject,n),newVotesList:e.Message.toObjectList(s.getNewVotesList(),TronWebProto.Vote.toObject,n)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Votes.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Votes;return TronWebProto.Votes.deserializeBinaryFromReader(a,s)},TronWebProto.Votes.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAddress(c);break;case 2:var c=new TronWebProto.Vote;s.readMessage(c,TronWebProto.Vote.deserializeBinaryFromReader),n.addOldVotes(c);break;case 3:var c=new TronWebProto.Vote;s.readMessage(c,TronWebProto.Vote.deserializeBinaryFromReader),n.addNewVotes(c);break;default:s.skipField();break}}return n},TronWebProto.Votes.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Votes.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Votes.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getOldVotesList(),a.length>0&&s.writeRepeatedMessage(2,a,TronWebProto.Vote.serializeBinaryToWriter),a=n.getNewVotesList(),a.length>0&&s.writeRepeatedMessage(3,a,TronWebProto.Vote.serializeBinaryToWriter)},TronWebProto.Votes.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.Votes.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.Votes.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.Votes.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.Votes.prototype.getOldVotesList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Vote,2)},TronWebProto.Votes.prototype.setOldVotesList=function(n){return e.Message.setRepeatedWrapperField(this,2,n)},TronWebProto.Votes.prototype.addOldVotes=function(n,s){return e.Message.addToRepeatedWrapperField(this,2,n,TronWebProto.Vote,s)},TronWebProto.Votes.prototype.clearOldVotesList=function(){return this.setOldVotesList([])},TronWebProto.Votes.prototype.getNewVotesList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Vote,3)},TronWebProto.Votes.prototype.setNewVotesList=function(n){return e.Message.setRepeatedWrapperField(this,3,n)},TronWebProto.Votes.prototype.addNewVotes=function(n,s){return e.Message.addToRepeatedWrapperField(this,3,n,TronWebProto.Vote,s)},TronWebProto.Votes.prototype.clearNewVotesList=function(){return this.setNewVotesList([])},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.MarketOrderDetail.prototype.toObject=function(n){return TronWebProto.MarketOrderDetail.toObject(n,this)},TronWebProto.MarketOrderDetail.toObject=function(n,s){var a={makerorderid:s.getMakerorderid_asB64(),takerorderid:s.getTakerorderid_asB64(),fillsellquantity:e.Message.getFieldWithDefault(s,3,0),fillbuyquantity:e.Message.getFieldWithDefault(s,4,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.MarketOrderDetail.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.MarketOrderDetail;return TronWebProto.MarketOrderDetail.deserializeBinaryFromReader(a,s)},TronWebProto.MarketOrderDetail.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setMakerorderid(c);break;case 2:var c=s.readBytes();n.setTakerorderid(c);break;case 3:var c=s.readInt64();n.setFillsellquantity(c);break;case 4:var c=s.readInt64();n.setFillbuyquantity(c);break;default:s.skipField();break}}return n},TronWebProto.MarketOrderDetail.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.MarketOrderDetail.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.MarketOrderDetail.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getMakerorderid_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getTakerorderid_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getFillsellquantity(),a!==0&&s.writeInt64(3,a),a=n.getFillbuyquantity(),a!==0&&s.writeInt64(4,a)},TronWebProto.MarketOrderDetail.prototype.getMakerorderid=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.MarketOrderDetail.prototype.getMakerorderid_asB64=function(){return e.Message.bytesAsB64(this.getMakerorderid())},TronWebProto.MarketOrderDetail.prototype.getMakerorderid_asU8=function(){return e.Message.bytesAsU8(this.getMakerorderid())},TronWebProto.MarketOrderDetail.prototype.setMakerorderid=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.MarketOrderDetail.prototype.getTakerorderid=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.MarketOrderDetail.prototype.getTakerorderid_asB64=function(){return e.Message.bytesAsB64(this.getTakerorderid())},TronWebProto.MarketOrderDetail.prototype.getTakerorderid_asU8=function(){return e.Message.bytesAsU8(this.getTakerorderid())},TronWebProto.MarketOrderDetail.prototype.setTakerorderid=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.MarketOrderDetail.prototype.getFillsellquantity=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.MarketOrderDetail.prototype.setFillsellquantity=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.MarketOrderDetail.prototype.getFillbuyquantity=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.MarketOrderDetail.prototype.setFillbuyquantity=function(n){return e.Message.setProto3IntField(this,4,n)},TronWebProto.Transaction.repeatedFields_=[2,5],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.prototype.toObject=function(n){return TronWebProto.Transaction.toObject(n,this)},TronWebProto.Transaction.toObject=function(n,s){var a,c={rawData:(a=s.getRawData())&&TronWebProto.Transaction.raw.toObject(n,a),signatureList:s.getSignatureList_asB64(),retList:e.Message.toObjectList(s.getRetList(),TronWebProto.Transaction.Result.toObject,n)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.Transaction.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Transaction;return TronWebProto.Transaction.deserializeBinaryFromReader(a,s)},TronWebProto.Transaction.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=new TronWebProto.Transaction.raw;s.readMessage(c,TronWebProto.Transaction.raw.deserializeBinaryFromReader),n.setRawData(c);break;case 2:var c=s.readBytes();n.addSignature(c);break;case 5:var c=new TronWebProto.Transaction.Result;s.readMessage(c,TronWebProto.Transaction.Result.deserializeBinaryFromReader),n.addRet(c);break;default:s.skipField();break}}return n},TronWebProto.Transaction.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Transaction.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Transaction.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getRawData(),a!=null&&s.writeMessage(1,a,TronWebProto.Transaction.raw.serializeBinaryToWriter),a=n.getSignatureList_asU8(),a.length>0&&s.writeRepeatedBytes(2,a),a=n.getRetList(),a.length>0&&s.writeRepeatedMessage(5,a,TronWebProto.Transaction.Result.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.Contract.prototype.toObject=function(n){return TronWebProto.Transaction.Contract.toObject(n,this)},TronWebProto.Transaction.Contract.toObject=function(n,s){var a,c={type:e.Message.getFieldWithDefault(s,1,0),parameter:(a=s.getParameter())&&i.Any.toObject(n,a),provider:s.getProvider_asB64(),contractname:s.getContractname_asB64(),permissionId:e.Message.getFieldWithDefault(s,5,0)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.Transaction.Contract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Transaction.Contract;return TronWebProto.Transaction.Contract.deserializeBinaryFromReader(a,s)},TronWebProto.Transaction.Contract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readEnum();n.setType(c);break;case 2:var c=new i.Any;s.readMessage(c,i.Any.deserializeBinaryFromReader),n.setParameter(c);break;case 3:var c=s.readBytes();n.setProvider(c);break;case 4:var c=s.readBytes();n.setContractname(c);break;case 5:var c=s.readInt32();n.setPermissionId(c);break;default:s.skipField();break}}return n},TronWebProto.Transaction.Contract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Transaction.Contract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Transaction.Contract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getType(),a!==0&&s.writeEnum(1,a),a=n.getParameter(),a!=null&&s.writeMessage(2,a,i.Any.serializeBinaryToWriter),a=n.getProvider_asU8(),a.length>0&&s.writeBytes(3,a),a=n.getContractname_asU8(),a.length>0&&s.writeBytes(4,a),a=n.getPermissionId(),a!==0&&s.writeInt32(5,a)},TronWebProto.Transaction.Contract.ContractType={ACCOUNTCREATECONTRACT:0,TRANSFERCONTRACT:1,TRANSFERASSETCONTRACT:2,VOTEASSETCONTRACT:3,VOTEWITNESSCONTRACT:4,WITNESSCREATECONTRACT:5,ASSETISSUECONTRACT:6,WITNESSUPDATECONTRACT:8,PARTICIPATEASSETISSUECONTRACT:9,ACCOUNTUPDATECONTRACT:10,FREEZEBALANCECONTRACT:11,UNFREEZEBALANCECONTRACT:12,WITHDRAWBALANCECONTRACT:13,UNFREEZEASSETCONTRACT:14,UPDATEASSETCONTRACT:15,PROPOSALCREATECONTRACT:16,PROPOSALAPPROVECONTRACT:17,PROPOSALDELETECONTRACT:18,SETACCOUNTIDCONTRACT:19,CUSTOMCONTRACT:20,CREATESMARTCONTRACT:30,TRIGGERSMARTCONTRACT:31,GETCONTRACT:32,UPDATESETTINGCONTRACT:33,EXCHANGECREATECONTRACT:41,EXCHANGEINJECTCONTRACT:42,EXCHANGEWITHDRAWCONTRACT:43,EXCHANGETRANSACTIONCONTRACT:44,UPDATEENERGYLIMITCONTRACT:45,ACCOUNTPERMISSIONUPDATECONTRACT:46,CLEARABICONTRACT:48,UPDATEBROKERAGECONTRACT:49,SHIELDEDTRANSFERCONTRACT:51,MARKETSELLASSETCONTRACT:52,MARKETCANCELORDERCONTRACT:53,FREEZEBALANCEV2CONTRACT:54,UNFREEZEBALANCEV2CONTRACT:55,WITHDRAWEXPIREUNFREEZECONTRACT:56,DELEGATERESOURCECONTRACT:57,UNDELEGATERESOURCECONTRACT:58,CANCELALLUNFREEZEV2CONTRACT:59},TronWebProto.Transaction.Contract.prototype.getType=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Transaction.Contract.prototype.setType=function(n){return e.Message.setProto3EnumField(this,1,n)},TronWebProto.Transaction.Contract.prototype.getParameter=function(){return e.Message.getWrapperField(this,i.Any,2)},TronWebProto.Transaction.Contract.prototype.setParameter=function(n){return e.Message.setWrapperField(this,2,n)},TronWebProto.Transaction.Contract.prototype.clearParameter=function(){return this.setParameter(void 0)},TronWebProto.Transaction.Contract.prototype.hasParameter=function(){return e.Message.getField(this,2)!=null},TronWebProto.Transaction.Contract.prototype.getProvider=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.Transaction.Contract.prototype.getProvider_asB64=function(){return e.Message.bytesAsB64(this.getProvider())},TronWebProto.Transaction.Contract.prototype.getProvider_asU8=function(){return e.Message.bytesAsU8(this.getProvider())},TronWebProto.Transaction.Contract.prototype.setProvider=function(n){return e.Message.setProto3BytesField(this,3,n)},TronWebProto.Transaction.Contract.prototype.getContractname=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.Transaction.Contract.prototype.getContractname_asB64=function(){return e.Message.bytesAsB64(this.getContractname())},TronWebProto.Transaction.Contract.prototype.getContractname_asU8=function(){return e.Message.bytesAsU8(this.getContractname())},TronWebProto.Transaction.Contract.prototype.setContractname=function(n){return e.Message.setProto3BytesField(this,4,n)},TronWebProto.Transaction.Contract.prototype.getPermissionId=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.Transaction.Contract.prototype.setPermissionId=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.Transaction.Result.repeatedFields_=[26],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.Result.prototype.toObject=function(n){return TronWebProto.Transaction.Result.toObject(n,this)},TronWebProto.Transaction.Result.toObject=function(n,s){var a={fee:e.Message.getFieldWithDefault(s,1,0),ret:e.Message.getFieldWithDefault(s,2,0),contractret:e.Message.getFieldWithDefault(s,3,0),assetissueid:e.Message.getFieldWithDefault(s,14,""),withdrawAmount:e.Message.getFieldWithDefault(s,15,0),unfreezeAmount:e.Message.getFieldWithDefault(s,16,0),exchangeReceivedAmount:e.Message.getFieldWithDefault(s,18,0),exchangeInjectAnotherAmount:e.Message.getFieldWithDefault(s,19,0),exchangeWithdrawAnotherAmount:e.Message.getFieldWithDefault(s,20,0),exchangeId:e.Message.getFieldWithDefault(s,21,0),shieldedTransactionFee:e.Message.getFieldWithDefault(s,22,0),orderid:s.getOrderid_asB64(),orderdetailsList:e.Message.toObjectList(s.getOrderdetailsList(),TronWebProto.MarketOrderDetail.toObject,n)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Transaction.Result.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Transaction.Result;return TronWebProto.Transaction.Result.deserializeBinaryFromReader(a,s)},TronWebProto.Transaction.Result.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setFee(c);break;case 2:var c=s.readEnum();n.setRet(c);break;case 3:var c=s.readEnum();n.setContractret(c);break;case 14:var c=s.readString();n.setAssetissueid(c);break;case 15:var c=s.readInt64();n.setWithdrawAmount(c);break;case 16:var c=s.readInt64();n.setUnfreezeAmount(c);break;case 18:var c=s.readInt64();n.setExchangeReceivedAmount(c);break;case 19:var c=s.readInt64();n.setExchangeInjectAnotherAmount(c);break;case 20:var c=s.readInt64();n.setExchangeWithdrawAnotherAmount(c);break;case 21:var c=s.readInt64();n.setExchangeId(c);break;case 22:var c=s.readInt64();n.setShieldedTransactionFee(c);break;case 25:var c=s.readBytes();n.setOrderid(c);break;case 26:var c=new TronWebProto.MarketOrderDetail;s.readMessage(c,TronWebProto.MarketOrderDetail.deserializeBinaryFromReader),n.addOrderdetails(c);break;default:s.skipField();break}}return n},TronWebProto.Transaction.Result.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Transaction.Result.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Transaction.Result.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getFee(),a!==0&&s.writeInt64(1,a),a=n.getRet(),a!==0&&s.writeEnum(2,a),a=n.getContractret(),a!==0&&s.writeEnum(3,a),a=n.getAssetissueid(),a.length>0&&s.writeString(14,a),a=n.getWithdrawAmount(),a!==0&&s.writeInt64(15,a),a=n.getUnfreezeAmount(),a!==0&&s.writeInt64(16,a),a=n.getExchangeReceivedAmount(),a!==0&&s.writeInt64(18,a),a=n.getExchangeInjectAnotherAmount(),a!==0&&s.writeInt64(19,a),a=n.getExchangeWithdrawAnotherAmount(),a!==0&&s.writeInt64(20,a),a=n.getExchangeId(),a!==0&&s.writeInt64(21,a),a=n.getShieldedTransactionFee(),a!==0&&s.writeInt64(22,a),a=n.getOrderid_asU8(),a.length>0&&s.writeBytes(25,a),a=n.getOrderdetailsList(),a.length>0&&s.writeRepeatedMessage(26,a,TronWebProto.MarketOrderDetail.serializeBinaryToWriter)},TronWebProto.Transaction.Result.code={SUCESS:0,FAILED:1},TronWebProto.Transaction.Result.contractResult={DEFAULT:0,SUCCESS:1,REVERT:2,BAD_JUMP_DESTINATION:3,OUT_OF_MEMORY:4,PRECOMPILED_CONTRACT:5,STACK_TOO_SMALL:6,STACK_TOO_LARGE:7,ILLEGAL_OPERATION:8,STACK_OVERFLOW:9,OUT_OF_ENERGY:10,OUT_OF_TIME:11,JVM_STACK_OVER_FLOW:12,UNKNOWN:13,TRANSFER_FAILED:14,INVALID_CODE:15},TronWebProto.Transaction.Result.prototype.getFee=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.Transaction.Result.prototype.setFee=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.Transaction.Result.prototype.getRet=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.Transaction.Result.prototype.setRet=function(n){return e.Message.setProto3EnumField(this,2,n)},TronWebProto.Transaction.Result.prototype.getContractret=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.Transaction.Result.prototype.setContractret=function(n){return e.Message.setProto3EnumField(this,3,n)},TronWebProto.Transaction.Result.prototype.getAssetissueid=function(){return e.Message.getFieldWithDefault(this,14,"")},TronWebProto.Transaction.Result.prototype.setAssetissueid=function(n){return e.Message.setProto3StringField(this,14,n)},TronWebProto.Transaction.Result.prototype.getWithdrawAmount=function(){return e.Message.getFieldWithDefault(this,15,0)},TronWebProto.Transaction.Result.prototype.setWithdrawAmount=function(n){return e.Message.setProto3IntField(this,15,n)},TronWebProto.Transaction.Result.prototype.getUnfreezeAmount=function(){return e.Message.getFieldWithDefault(this,16,0)},TronWebProto.Transaction.Result.prototype.setUnfreezeAmount=function(n){return e.Message.setProto3IntField(this,16,n)},TronWebProto.Transaction.Result.prototype.getExchangeReceivedAmount=function(){return e.Message.getFieldWithDefault(this,18,0)},TronWebProto.Transaction.Result.prototype.setExchangeReceivedAmount=function(n){return e.Message.setProto3IntField(this,18,n)},TronWebProto.Transaction.Result.prototype.getExchangeInjectAnotherAmount=function(){return e.Message.getFieldWithDefault(this,19,0)},TronWebProto.Transaction.Result.prototype.setExchangeInjectAnotherAmount=function(n){return e.Message.setProto3IntField(this,19,n)},TronWebProto.Transaction.Result.prototype.getExchangeWithdrawAnotherAmount=function(){return e.Message.getFieldWithDefault(this,20,0)},TronWebProto.Transaction.Result.prototype.setExchangeWithdrawAnotherAmount=function(n){return e.Message.setProto3IntField(this,20,n)},TronWebProto.Transaction.Result.prototype.getExchangeId=function(){return e.Message.getFieldWithDefault(this,21,0)},TronWebProto.Transaction.Result.prototype.setExchangeId=function(n){return e.Message.setProto3IntField(this,21,n)},TronWebProto.Transaction.Result.prototype.getShieldedTransactionFee=function(){return e.Message.getFieldWithDefault(this,22,0)},TronWebProto.Transaction.Result.prototype.setShieldedTransactionFee=function(n){return e.Message.setProto3IntField(this,22,n)},TronWebProto.Transaction.Result.prototype.getOrderid=function(){return e.Message.getFieldWithDefault(this,25,"")},TronWebProto.Transaction.Result.prototype.getOrderid_asB64=function(){return e.Message.bytesAsB64(this.getOrderid())},TronWebProto.Transaction.Result.prototype.getOrderid_asU8=function(){return e.Message.bytesAsU8(this.getOrderid())},TronWebProto.Transaction.Result.prototype.setOrderid=function(n){return e.Message.setProto3BytesField(this,25,n)},TronWebProto.Transaction.Result.prototype.getOrderdetailsList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.MarketOrderDetail,26)},TronWebProto.Transaction.Result.prototype.setOrderdetailsList=function(n){return e.Message.setRepeatedWrapperField(this,26,n)},TronWebProto.Transaction.Result.prototype.addOrderdetails=function(n,s){return e.Message.addToRepeatedWrapperField(this,26,n,TronWebProto.MarketOrderDetail,s)},TronWebProto.Transaction.Result.prototype.clearOrderdetailsList=function(){return this.setOrderdetailsList([])},TronWebProto.Transaction.raw.repeatedFields_=[9,11],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.Transaction.raw.prototype.toObject=function(n){return TronWebProto.Transaction.raw.toObject(n,this)},TronWebProto.Transaction.raw.toObject=function(n,s){var a={refBlockBytes:s.getRefBlockBytes_asB64(),refBlockNum:e.Message.getFieldWithDefault(s,3,0),refBlockHash:s.getRefBlockHash_asB64(),expiration:e.Message.getFieldWithDefault(s,8,0),authsList:e.Message.toObjectList(s.getAuthsList(),TronWebProto.authority.toObject,n),data:s.getData_asB64(),contractList:e.Message.toObjectList(s.getContractList(),TronWebProto.Transaction.Contract.toObject,n),scripts:s.getScripts_asB64(),timestamp:e.Message.getFieldWithDefault(s,14,0),feeLimit:e.Message.getFieldWithDefault(s,18,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.Transaction.raw.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.Transaction.raw;return TronWebProto.Transaction.raw.deserializeBinaryFromReader(a,s)},TronWebProto.Transaction.raw.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setRefBlockBytes(c);break;case 3:var c=s.readInt64();n.setRefBlockNum(c);break;case 4:var c=s.readBytes();n.setRefBlockHash(c);break;case 8:var c=s.readInt64();n.setExpiration(c);break;case 9:var c=new TronWebProto.authority;s.readMessage(c,TronWebProto.authority.deserializeBinaryFromReader),n.addAuths(c);break;case 10:var c=s.readBytes();n.setData(c);break;case 11:var c=new TronWebProto.Transaction.Contract;s.readMessage(c,TronWebProto.Transaction.Contract.deserializeBinaryFromReader),n.addContract(c);break;case 12:var c=s.readBytes();n.setScripts(c);break;case 14:var c=s.readInt64();n.setTimestamp(c);break;case 18:var c=s.readInt64();n.setFeeLimit(c);break;default:s.skipField();break}}return n},TronWebProto.Transaction.raw.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.Transaction.raw.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.Transaction.raw.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getRefBlockBytes_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getRefBlockNum(),a!==0&&s.writeInt64(3,a),a=n.getRefBlockHash_asU8(),a.length>0&&s.writeBytes(4,a),a=n.getExpiration(),a!==0&&s.writeInt64(8,a),a=n.getAuthsList(),a.length>0&&s.writeRepeatedMessage(9,a,TronWebProto.authority.serializeBinaryToWriter),a=n.getData_asU8(),a.length>0&&s.writeBytes(10,a),a=n.getContractList(),a.length>0&&s.writeRepeatedMessage(11,a,TronWebProto.Transaction.Contract.serializeBinaryToWriter),a=n.getScripts_asU8(),a.length>0&&s.writeBytes(12,a),a=n.getTimestamp(),a!==0&&s.writeInt64(14,a),a=n.getFeeLimit(),a!==0&&s.writeInt64(18,a)},TronWebProto.Transaction.raw.prototype.getRefBlockBytes=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.Transaction.raw.prototype.getRefBlockBytes_asB64=function(){return e.Message.bytesAsB64(this.getRefBlockBytes())},TronWebProto.Transaction.raw.prototype.getRefBlockBytes_asU8=function(){return e.Message.bytesAsU8(this.getRefBlockBytes())},TronWebProto.Transaction.raw.prototype.setRefBlockBytes=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.Transaction.raw.prototype.getRefBlockNum=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.Transaction.raw.prototype.setRefBlockNum=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.Transaction.raw.prototype.getRefBlockHash=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.Transaction.raw.prototype.getRefBlockHash_asB64=function(){return e.Message.bytesAsB64(this.getRefBlockHash())},TronWebProto.Transaction.raw.prototype.getRefBlockHash_asU8=function(){return e.Message.bytesAsU8(this.getRefBlockHash())},TronWebProto.Transaction.raw.prototype.setRefBlockHash=function(n){return e.Message.setProto3BytesField(this,4,n)},TronWebProto.Transaction.raw.prototype.getExpiration=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.Transaction.raw.prototype.setExpiration=function(n){return e.Message.setProto3IntField(this,8,n)},TronWebProto.Transaction.raw.prototype.getAuthsList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.authority,9)},TronWebProto.Transaction.raw.prototype.setAuthsList=function(n){return e.Message.setRepeatedWrapperField(this,9,n)},TronWebProto.Transaction.raw.prototype.addAuths=function(n,s){return e.Message.addToRepeatedWrapperField(this,9,n,TronWebProto.authority,s)},TronWebProto.Transaction.raw.prototype.clearAuthsList=function(){return this.setAuthsList([])},TronWebProto.Transaction.raw.prototype.getData=function(){return e.Message.getFieldWithDefault(this,10,"")},TronWebProto.Transaction.raw.prototype.getData_asB64=function(){return e.Message.bytesAsB64(this.getData())},TronWebProto.Transaction.raw.prototype.getData_asU8=function(){return e.Message.bytesAsU8(this.getData())},TronWebProto.Transaction.raw.prototype.setData=function(n){return e.Message.setProto3BytesField(this,10,n)},TronWebProto.Transaction.raw.prototype.getContractList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Transaction.Contract,11)},TronWebProto.Transaction.raw.prototype.setContractList=function(n){return e.Message.setRepeatedWrapperField(this,11,n)},TronWebProto.Transaction.raw.prototype.addContract=function(n,s){return e.Message.addToRepeatedWrapperField(this,11,n,TronWebProto.Transaction.Contract,s)},TronWebProto.Transaction.raw.prototype.clearContractList=function(){return this.setContractList([])},TronWebProto.Transaction.raw.prototype.getScripts=function(){return e.Message.getFieldWithDefault(this,12,"")},TronWebProto.Transaction.raw.prototype.getScripts_asB64=function(){return e.Message.bytesAsB64(this.getScripts())},TronWebProto.Transaction.raw.prototype.getScripts_asU8=function(){return e.Message.bytesAsU8(this.getScripts())},TronWebProto.Transaction.raw.prototype.setScripts=function(n){return e.Message.setProto3BytesField(this,12,n)},TronWebProto.Transaction.raw.prototype.getTimestamp=function(){return e.Message.getFieldWithDefault(this,14,0)},TronWebProto.Transaction.raw.prototype.setTimestamp=function(n){return e.Message.setProto3IntField(this,14,n)},TronWebProto.Transaction.raw.prototype.getFeeLimit=function(){return e.Message.getFieldWithDefault(this,18,0)},TronWebProto.Transaction.raw.prototype.setFeeLimit=function(n){return e.Message.setProto3IntField(this,18,n)},TronWebProto.Transaction.prototype.getRawData=function(){return e.Message.getWrapperField(this,TronWebProto.Transaction.raw,1)},TronWebProto.Transaction.prototype.setRawData=function(n){return e.Message.setWrapperField(this,1,n)},TronWebProto.Transaction.prototype.clearRawData=function(){return this.setRawData(void 0)},TronWebProto.Transaction.prototype.hasRawData=function(){return e.Message.getField(this,1)!=null},TronWebProto.Transaction.prototype.getSignatureList=function(){return e.Message.getRepeatedField(this,2)},TronWebProto.Transaction.prototype.getSignatureList_asB64=function(){return e.Message.bytesListAsB64(this.getSignatureList())},TronWebProto.Transaction.prototype.getSignatureList_asU8=function(){return e.Message.bytesListAsU8(this.getSignatureList())},TronWebProto.Transaction.prototype.setSignatureList=function(n){return e.Message.setField(this,2,n||[])},TronWebProto.Transaction.prototype.addSignature=function(n,s){return e.Message.addToRepeatedField(this,2,n,s)},TronWebProto.Transaction.prototype.clearSignatureList=function(){return this.setSignatureList([])},TronWebProto.Transaction.prototype.getRetList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.Transaction.Result,5)},TronWebProto.Transaction.prototype.setRetList=function(n){return e.Message.setRepeatedWrapperField(this,5,n)},TronWebProto.Transaction.prototype.addRet=function(n,s){return e.Message.addToRepeatedWrapperField(this,5,n,TronWebProto.Transaction.Result,s)},TronWebProto.Transaction.prototype.clearRetList=function(){return this.setRetList([])},TronWebProto.AccountType={NORMAL:0,ASSETISSUE:1,CONTRACT:2},t.object.extend(r,TronWebProto)}(p0)),p0}_b();var g0={},y0={},M2;function A4(){return M2||(M2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("TronWebProto.ResourceCode",null,o),TronWebProto.ResourceCode={BANDWIDTH:0,ENERGY:1,TRON_POWER:2},t.object.extend(r,TronWebProto)}(y0)),y0}var N2;function r9(){return N2||(N2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),i=A4();t.object.extend(proto,i),t.exportSymbol("TronWebProto.AccountBalanceRequest",null,o),t.exportSymbol("TronWebProto.AccountBalanceResponse",null,o),t.exportSymbol("TronWebProto.AccountIdentifier",null,o),t.exportSymbol("TronWebProto.AccountTrace",null,o),t.exportSymbol("TronWebProto.BlockBalanceTrace",null,o),t.exportSymbol("TronWebProto.BlockBalanceTrace.BlockIdentifier",null,o),t.exportSymbol("TronWebProto.CancelAllUnfreezeV2Contract",null,o),t.exportSymbol("TronWebProto.DelegateResourceContract",null,o),t.exportSymbol("TronWebProto.FreezeBalanceContract",null,o),t.exportSymbol("TronWebProto.FreezeBalanceV2Contract",null,o),t.exportSymbol("TronWebProto.TransactionBalanceTrace",null,o),t.exportSymbol("TronWebProto.TransactionBalanceTrace.Operation",null,o),t.exportSymbol("TronWebProto.TransferContract",null,o),t.exportSymbol("TronWebProto.UnDelegateResourceContract",null,o),t.exportSymbol("TronWebProto.UnfreezeBalanceContract",null,o),t.exportSymbol("TronWebProto.UnfreezeBalanceV2Contract",null,o),t.exportSymbol("TronWebProto.WithdrawBalanceContract",null,o),t.exportSymbol("TronWebProto.WithdrawExpireUnfreezeContract",null,o),TronWebProto.FreezeBalanceContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.FreezeBalanceContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.FreezeBalanceContract.displayName="TronWebProto.FreezeBalanceContract"),TronWebProto.UnfreezeBalanceContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.UnfreezeBalanceContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeBalanceContract.displayName="TronWebProto.UnfreezeBalanceContract"),TronWebProto.WithdrawBalanceContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.WithdrawBalanceContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.WithdrawBalanceContract.displayName="TronWebProto.WithdrawBalanceContract"),TronWebProto.TransferContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.TransferContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.TransferContract.displayName="TronWebProto.TransferContract"),TronWebProto.TransactionBalanceTrace=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.TransactionBalanceTrace.repeatedFields_,null)},t.inherits(TronWebProto.TransactionBalanceTrace,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.TransactionBalanceTrace.displayName="TronWebProto.TransactionBalanceTrace"),TronWebProto.TransactionBalanceTrace.Operation=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.TransactionBalanceTrace.Operation,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.TransactionBalanceTrace.Operation.displayName="TronWebProto.TransactionBalanceTrace.Operation"),TronWebProto.BlockBalanceTrace=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.BlockBalanceTrace.repeatedFields_,null)},t.inherits(TronWebProto.BlockBalanceTrace,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.BlockBalanceTrace.displayName="TronWebProto.BlockBalanceTrace"),TronWebProto.BlockBalanceTrace.BlockIdentifier=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.BlockBalanceTrace.BlockIdentifier,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.BlockBalanceTrace.BlockIdentifier.displayName="TronWebProto.BlockBalanceTrace.BlockIdentifier"),TronWebProto.AccountTrace=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountTrace,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountTrace.displayName="TronWebProto.AccountTrace"),TronWebProto.AccountIdentifier=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountIdentifier,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountIdentifier.displayName="TronWebProto.AccountIdentifier"),TronWebProto.AccountBalanceRequest=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountBalanceRequest,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountBalanceRequest.displayName="TronWebProto.AccountBalanceRequest"),TronWebProto.AccountBalanceResponse=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountBalanceResponse,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountBalanceResponse.displayName="TronWebProto.AccountBalanceResponse"),TronWebProto.FreezeBalanceV2Contract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.FreezeBalanceV2Contract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.FreezeBalanceV2Contract.displayName="TronWebProto.FreezeBalanceV2Contract"),TronWebProto.UnfreezeBalanceV2Contract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.UnfreezeBalanceV2Contract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeBalanceV2Contract.displayName="TronWebProto.UnfreezeBalanceV2Contract"),TronWebProto.WithdrawExpireUnfreezeContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.WithdrawExpireUnfreezeContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.WithdrawExpireUnfreezeContract.displayName="TronWebProto.WithdrawExpireUnfreezeContract"),TronWebProto.DelegateResourceContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.DelegateResourceContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.DelegateResourceContract.displayName="TronWebProto.DelegateResourceContract"),TronWebProto.UnDelegateResourceContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.UnDelegateResourceContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UnDelegateResourceContract.displayName="TronWebProto.UnDelegateResourceContract"),TronWebProto.CancelAllUnfreezeV2Contract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.CancelAllUnfreezeV2Contract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.CancelAllUnfreezeV2Contract.displayName="TronWebProto.CancelAllUnfreezeV2Contract"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.FreezeBalanceContract.prototype.toObject=function(n){return TronWebProto.FreezeBalanceContract.toObject(n,this)},TronWebProto.FreezeBalanceContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),frozenBalance:e.Message.getFieldWithDefault(s,2,0),frozenDuration:e.Message.getFieldWithDefault(s,3,0),resource:e.Message.getFieldWithDefault(s,10,0),receiverAddress:s.getReceiverAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.FreezeBalanceContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.FreezeBalanceContract;return TronWebProto.FreezeBalanceContract.deserializeBinaryFromReader(a,s)},TronWebProto.FreezeBalanceContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readInt64();n.setFrozenBalance(c);break;case 3:var c=s.readInt64();n.setFrozenDuration(c);break;case 10:var c=s.readEnum();n.setResource(c);break;case 15:var c=s.readBytes();n.setReceiverAddress(c);break;default:s.skipField();break}}return n},TronWebProto.FreezeBalanceContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.FreezeBalanceContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.FreezeBalanceContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getFrozenBalance(),a!==0&&s.writeInt64(2,a),a=n.getFrozenDuration(),a!==0&&s.writeInt64(3,a),a=n.getResource(),a!==0&&s.writeEnum(10,a),a=n.getReceiverAddress_asU8(),a.length>0&&s.writeBytes(15,a)},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.FreezeBalanceContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.FreezeBalanceContract.prototype.getFrozenBalance=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.FreezeBalanceContract.prototype.setFrozenBalance=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.FreezeBalanceContract.prototype.getFrozenDuration=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.FreezeBalanceContract.prototype.setFrozenDuration=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.FreezeBalanceContract.prototype.getResource=function(){return e.Message.getFieldWithDefault(this,10,0)},TronWebProto.FreezeBalanceContract.prototype.setResource=function(n){return e.Message.setProto3EnumField(this,10,n)},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress=function(){return e.Message.getFieldWithDefault(this,15,"")},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress_asB64=function(){return e.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress_asU8=function(){return e.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.FreezeBalanceContract.prototype.setReceiverAddress=function(n){return e.Message.setProto3BytesField(this,15,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeBalanceContract.prototype.toObject=function(n){return TronWebProto.UnfreezeBalanceContract.toObject(n,this)},TronWebProto.UnfreezeBalanceContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),resource:e.Message.getFieldWithDefault(s,10,0),receiverAddress:s.getReceiverAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.UnfreezeBalanceContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.UnfreezeBalanceContract;return TronWebProto.UnfreezeBalanceContract.deserializeBinaryFromReader(a,s)},TronWebProto.UnfreezeBalanceContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 10:var c=s.readEnum();n.setResource(c);break;case 15:var c=s.readBytes();n.setReceiverAddress(c);break;default:s.skipField();break}}return n},TronWebProto.UnfreezeBalanceContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.UnfreezeBalanceContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.UnfreezeBalanceContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getResource(),a!==0&&s.writeEnum(10,a),a=n.getReceiverAddress_asU8(),a.length>0&&s.writeBytes(15,a)},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.UnfreezeBalanceContract.prototype.getResource=function(){return e.Message.getFieldWithDefault(this,10,0)},TronWebProto.UnfreezeBalanceContract.prototype.setResource=function(n){return e.Message.setProto3EnumField(this,10,n)},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress=function(){return e.Message.getFieldWithDefault(this,15,"")},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress_asB64=function(){return e.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress_asU8=function(){return e.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.UnfreezeBalanceContract.prototype.setReceiverAddress=function(n){return e.Message.setProto3BytesField(this,15,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.WithdrawBalanceContract.prototype.toObject=function(n){return TronWebProto.WithdrawBalanceContract.toObject(n,this)},TronWebProto.WithdrawBalanceContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.WithdrawBalanceContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.WithdrawBalanceContract;return TronWebProto.WithdrawBalanceContract.deserializeBinaryFromReader(a,s)},TronWebProto.WithdrawBalanceContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;default:s.skipField();break}}return n},TronWebProto.WithdrawBalanceContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.WithdrawBalanceContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.WithdrawBalanceContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a)},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WithdrawBalanceContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransferContract.prototype.toObject=function(n){return TronWebProto.TransferContract.toObject(n,this)},TronWebProto.TransferContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),toAddress:s.getToAddress_asB64(),amount:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.TransferContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.TransferContract;return TronWebProto.TransferContract.deserializeBinaryFromReader(a,s)},TronWebProto.TransferContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readBytes();n.setToAddress(c);break;case 3:var c=s.readInt64();n.setAmount(c);break;default:s.skipField();break}}return n},TronWebProto.TransferContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.TransferContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.TransferContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getToAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getAmount(),a!==0&&s.writeInt64(3,a)},TronWebProto.TransferContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransferContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TransferContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TransferContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.TransferContract.prototype.getToAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransferContract.prototype.getToAddress_asB64=function(){return e.Message.bytesAsB64(this.getToAddress())},TronWebProto.TransferContract.prototype.getToAddress_asU8=function(){return e.Message.bytesAsU8(this.getToAddress())},TronWebProto.TransferContract.prototype.setToAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.TransferContract.prototype.getAmount=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.TransferContract.prototype.setAmount=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.TransactionBalanceTrace.repeatedFields_=[2],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransactionBalanceTrace.prototype.toObject=function(n){return TronWebProto.TransactionBalanceTrace.toObject(n,this)},TronWebProto.TransactionBalanceTrace.toObject=function(n,s){var a={transactionIdentifier:s.getTransactionIdentifier_asB64(),operationList:e.Message.toObjectList(s.getOperationList(),TronWebProto.TransactionBalanceTrace.Operation.toObject,n),type:e.Message.getFieldWithDefault(s,3,""),status:e.Message.getFieldWithDefault(s,4,"")};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.TransactionBalanceTrace.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.TransactionBalanceTrace;return TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader(a,s)},TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setTransactionIdentifier(c);break;case 2:var c=new TronWebProto.TransactionBalanceTrace.Operation;s.readMessage(c,TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader),n.addOperation(c);break;case 3:var c=s.readString();n.setType(c);break;case 4:var c=s.readString();n.setStatus(c);break;default:s.skipField();break}}return n},TronWebProto.TransactionBalanceTrace.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getTransactionIdentifier_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getOperationList(),a.length>0&&s.writeRepeatedMessage(2,a,TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter),a=n.getType(),a.length>0&&s.writeString(3,a),a=n.getStatus(),a.length>0&&s.writeString(4,a)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransactionBalanceTrace.Operation.prototype.toObject=function(n){return TronWebProto.TransactionBalanceTrace.Operation.toObject(n,this)},TronWebProto.TransactionBalanceTrace.Operation.toObject=function(n,s){var a={operationIdentifier:e.Message.getFieldWithDefault(s,1,0),address:s.getAddress_asB64(),amount:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.TransactionBalanceTrace.Operation.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.TransactionBalanceTrace.Operation;return TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader(a,s)},TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setOperationIdentifier(c);break;case 2:var c=s.readBytes();n.setAddress(c);break;case 3:var c=s.readInt64();n.setAmount(c);break;default:s.skipField();break}}return n},TronWebProto.TransactionBalanceTrace.Operation.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOperationIdentifier(),a!==0&&s.writeInt64(1,a),a=n.getAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getAmount(),a!==0&&s.writeInt64(3,a)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getOperationIdentifier=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.TransactionBalanceTrace.Operation.prototype.setOperationIdentifier=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.TransactionBalanceTrace.Operation.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAmount=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.TransactionBalanceTrace.Operation.prototype.setAmount=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier_asB64=function(){return e.Message.bytesAsB64(this.getTransactionIdentifier())},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier_asU8=function(){return e.Message.bytesAsU8(this.getTransactionIdentifier())},TronWebProto.TransactionBalanceTrace.prototype.setTransactionIdentifier=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.TransactionBalanceTrace.prototype.getOperationList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.TransactionBalanceTrace.Operation,2)},TronWebProto.TransactionBalanceTrace.prototype.setOperationList=function(n){return e.Message.setRepeatedWrapperField(this,2,n)},TronWebProto.TransactionBalanceTrace.prototype.addOperation=function(n,s){return e.Message.addToRepeatedWrapperField(this,2,n,TronWebProto.TransactionBalanceTrace.Operation,s)},TronWebProto.TransactionBalanceTrace.prototype.clearOperationList=function(){return this.setOperationList([])},TronWebProto.TransactionBalanceTrace.prototype.getType=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.TransactionBalanceTrace.prototype.setType=function(n){return e.Message.setProto3StringField(this,3,n)},TronWebProto.TransactionBalanceTrace.prototype.getStatus=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.TransactionBalanceTrace.prototype.setStatus=function(n){return e.Message.setProto3StringField(this,4,n)},TronWebProto.BlockBalanceTrace.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.BlockBalanceTrace.prototype.toObject=function(n){return TronWebProto.BlockBalanceTrace.toObject(n,this)},TronWebProto.BlockBalanceTrace.toObject=function(n,s){var a,c={blockIdentifier:(a=s.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(n,a),timestamp:e.Message.getFieldWithDefault(s,2,0),transactionBalanceTraceList:e.Message.toObjectList(s.getTransactionBalanceTraceList(),TronWebProto.TransactionBalanceTrace.toObject,n)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.BlockBalanceTrace.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.BlockBalanceTrace;return TronWebProto.BlockBalanceTrace.deserializeBinaryFromReader(a,s)},TronWebProto.BlockBalanceTrace.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=new TronWebProto.BlockBalanceTrace.BlockIdentifier;s.readMessage(c,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),n.setBlockIdentifier(c);break;case 2:var c=s.readInt64();n.setTimestamp(c);break;case 3:var c=new TronWebProto.TransactionBalanceTrace;s.readMessage(c,TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader),n.addTransactionBalanceTrace(c);break;default:s.skipField();break}}return n},TronWebProto.BlockBalanceTrace.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.BlockBalanceTrace.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.BlockBalanceTrace.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getBlockIdentifier(),a!=null&&s.writeMessage(1,a,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter),a=n.getTimestamp(),a!==0&&s.writeInt64(2,a),a=n.getTransactionBalanceTraceList(),a.length>0&&s.writeRepeatedMessage(3,a,TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.toObject=function(n){return TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(n,this)},TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject=function(n,s){var a={hash:s.getHash_asB64(),number:e.Message.getFieldWithDefault(s,2,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.BlockBalanceTrace.BlockIdentifier;return TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader(a,s)},TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setHash(c);break;case 2:var c=s.readInt64();n.setNumber(c);break;default:s.skipField();break}}return n},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getHash_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getNumber(),a!==0&&s.writeInt64(2,a)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash_asB64=function(){return e.Message.bytesAsB64(this.getHash())},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash_asU8=function(){return e.Message.bytesAsU8(this.getHash())},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.setHash=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getNumber=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.setNumber=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.BlockBalanceTrace.prototype.getBlockIdentifier=function(){return e.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,1)},TronWebProto.BlockBalanceTrace.prototype.setBlockIdentifier=function(n){return e.Message.setWrapperField(this,1,n)},TronWebProto.BlockBalanceTrace.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.BlockBalanceTrace.prototype.hasBlockIdentifier=function(){return e.Message.getField(this,1)!=null},TronWebProto.BlockBalanceTrace.prototype.getTimestamp=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.BlockBalanceTrace.prototype.setTimestamp=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.BlockBalanceTrace.prototype.getTransactionBalanceTraceList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.TransactionBalanceTrace,3)},TronWebProto.BlockBalanceTrace.prototype.setTransactionBalanceTraceList=function(n){return e.Message.setRepeatedWrapperField(this,3,n)},TronWebProto.BlockBalanceTrace.prototype.addTransactionBalanceTrace=function(n,s){return e.Message.addToRepeatedWrapperField(this,3,n,TronWebProto.TransactionBalanceTrace,s)},TronWebProto.BlockBalanceTrace.prototype.clearTransactionBalanceTraceList=function(){return this.setTransactionBalanceTraceList([])},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountTrace.prototype.toObject=function(n){return TronWebProto.AccountTrace.toObject(n,this)},TronWebProto.AccountTrace.toObject=function(n,s){var a={balance:e.Message.getFieldWithDefault(s,1,0),placeholder:e.Message.getFieldWithDefault(s,99,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.AccountTrace.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountTrace;return TronWebProto.AccountTrace.deserializeBinaryFromReader(a,s)},TronWebProto.AccountTrace.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setBalance(c);break;case 99:var c=s.readInt64();n.setPlaceholder(c);break;default:s.skipField();break}}return n},TronWebProto.AccountTrace.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountTrace.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountTrace.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getBalance(),a!==0&&s.writeInt64(1,a),a=n.getPlaceholder(),a!==0&&s.writeInt64(99,a)},TronWebProto.AccountTrace.prototype.getBalance=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.AccountTrace.prototype.setBalance=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.AccountTrace.prototype.getPlaceholder=function(){return e.Message.getFieldWithDefault(this,99,0)},TronWebProto.AccountTrace.prototype.setPlaceholder=function(n){return e.Message.setProto3IntField(this,99,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountIdentifier.prototype.toObject=function(n){return TronWebProto.AccountIdentifier.toObject(n,this)},TronWebProto.AccountIdentifier.toObject=function(n,s){var a={address:s.getAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.AccountIdentifier.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountIdentifier;return TronWebProto.AccountIdentifier.deserializeBinaryFromReader(a,s)},TronWebProto.AccountIdentifier.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAddress(c);break;default:s.skipField();break}}return n},TronWebProto.AccountIdentifier.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountIdentifier.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountIdentifier.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAddress_asU8(),a.length>0&&s.writeBytes(1,a)},TronWebProto.AccountIdentifier.prototype.getAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountIdentifier.prototype.getAddress_asB64=function(){return e.Message.bytesAsB64(this.getAddress())},TronWebProto.AccountIdentifier.prototype.getAddress_asU8=function(){return e.Message.bytesAsU8(this.getAddress())},TronWebProto.AccountIdentifier.prototype.setAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountBalanceRequest.prototype.toObject=function(n){return TronWebProto.AccountBalanceRequest.toObject(n,this)},TronWebProto.AccountBalanceRequest.toObject=function(n,s){var a,c={accountIdentifier:(a=s.getAccountIdentifier())&&TronWebProto.AccountIdentifier.toObject(n,a),blockIdentifier:(a=s.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(n,a)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.AccountBalanceRequest.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountBalanceRequest;return TronWebProto.AccountBalanceRequest.deserializeBinaryFromReader(a,s)},TronWebProto.AccountBalanceRequest.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=new TronWebProto.AccountIdentifier;s.readMessage(c,TronWebProto.AccountIdentifier.deserializeBinaryFromReader),n.setAccountIdentifier(c);break;case 2:var c=new TronWebProto.BlockBalanceTrace.BlockIdentifier;s.readMessage(c,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),n.setBlockIdentifier(c);break;default:s.skipField();break}}return n},TronWebProto.AccountBalanceRequest.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountBalanceRequest.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountBalanceRequest.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAccountIdentifier(),a!=null&&s.writeMessage(1,a,TronWebProto.AccountIdentifier.serializeBinaryToWriter),a=n.getBlockIdentifier(),a!=null&&s.writeMessage(2,a,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter)},TronWebProto.AccountBalanceRequest.prototype.getAccountIdentifier=function(){return e.Message.getWrapperField(this,TronWebProto.AccountIdentifier,1)},TronWebProto.AccountBalanceRequest.prototype.setAccountIdentifier=function(n){return e.Message.setWrapperField(this,1,n)},TronWebProto.AccountBalanceRequest.prototype.clearAccountIdentifier=function(){return this.setAccountIdentifier(void 0)},TronWebProto.AccountBalanceRequest.prototype.hasAccountIdentifier=function(){return e.Message.getField(this,1)!=null},TronWebProto.AccountBalanceRequest.prototype.getBlockIdentifier=function(){return e.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,2)},TronWebProto.AccountBalanceRequest.prototype.setBlockIdentifier=function(n){return e.Message.setWrapperField(this,2,n)},TronWebProto.AccountBalanceRequest.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.AccountBalanceRequest.prototype.hasBlockIdentifier=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountBalanceResponse.prototype.toObject=function(n){return TronWebProto.AccountBalanceResponse.toObject(n,this)},TronWebProto.AccountBalanceResponse.toObject=function(n,s){var a,c={balance:e.Message.getFieldWithDefault(s,1,0),blockIdentifier:(a=s.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(n,a)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.AccountBalanceResponse.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountBalanceResponse;return TronWebProto.AccountBalanceResponse.deserializeBinaryFromReader(a,s)},TronWebProto.AccountBalanceResponse.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setBalance(c);break;case 2:var c=new TronWebProto.BlockBalanceTrace.BlockIdentifier;s.readMessage(c,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),n.setBlockIdentifier(c);break;default:s.skipField();break}}return n},TronWebProto.AccountBalanceResponse.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountBalanceResponse.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountBalanceResponse.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getBalance(),a!==0&&s.writeInt64(1,a),a=n.getBlockIdentifier(),a!=null&&s.writeMessage(2,a,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter)},TronWebProto.AccountBalanceResponse.prototype.getBalance=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.AccountBalanceResponse.prototype.setBalance=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.AccountBalanceResponse.prototype.getBlockIdentifier=function(){return e.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,2)},TronWebProto.AccountBalanceResponse.prototype.setBlockIdentifier=function(n){return e.Message.setWrapperField(this,2,n)},TronWebProto.AccountBalanceResponse.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.AccountBalanceResponse.prototype.hasBlockIdentifier=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.FreezeBalanceV2Contract.prototype.toObject=function(n){return TronWebProto.FreezeBalanceV2Contract.toObject(n,this)},TronWebProto.FreezeBalanceV2Contract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),frozenBalance:e.Message.getFieldWithDefault(s,2,0),resource:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.FreezeBalanceV2Contract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.FreezeBalanceV2Contract;return TronWebProto.FreezeBalanceV2Contract.deserializeBinaryFromReader(a,s)},TronWebProto.FreezeBalanceV2Contract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readInt64();n.setFrozenBalance(c);break;case 3:var c=s.readEnum();n.setResource(c);break;default:s.skipField();break}}return n},TronWebProto.FreezeBalanceV2Contract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.FreezeBalanceV2Contract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.FreezeBalanceV2Contract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getFrozenBalance(),a!==0&&s.writeInt64(2,a),a=n.getResource(),a!==0&&s.writeEnum(3,a)},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.FreezeBalanceV2Contract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.FreezeBalanceV2Contract.prototype.getFrozenBalance=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.FreezeBalanceV2Contract.prototype.setFrozenBalance=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.FreezeBalanceV2Contract.prototype.getResource=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.FreezeBalanceV2Contract.prototype.setResource=function(n){return e.Message.setProto3EnumField(this,3,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeBalanceV2Contract.prototype.toObject=function(n){return TronWebProto.UnfreezeBalanceV2Contract.toObject(n,this)},TronWebProto.UnfreezeBalanceV2Contract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),unfreezeBalance:e.Message.getFieldWithDefault(s,2,0),resource:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.UnfreezeBalanceV2Contract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.UnfreezeBalanceV2Contract;return TronWebProto.UnfreezeBalanceV2Contract.deserializeBinaryFromReader(a,s)},TronWebProto.UnfreezeBalanceV2Contract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readInt64();n.setUnfreezeBalance(c);break;case 3:var c=s.readEnum();n.setResource(c);break;default:s.skipField();break}}return n},TronWebProto.UnfreezeBalanceV2Contract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.UnfreezeBalanceV2Contract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.UnfreezeBalanceV2Contract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getUnfreezeBalance(),a!==0&&s.writeInt64(2,a),a=n.getResource(),a!==0&&s.writeEnum(3,a)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceV2Contract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getUnfreezeBalance=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.UnfreezeBalanceV2Contract.prototype.setUnfreezeBalance=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getResource=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.UnfreezeBalanceV2Contract.prototype.setResource=function(n){return e.Message.setProto3EnumField(this,3,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.WithdrawExpireUnfreezeContract.prototype.toObject=function(n){return TronWebProto.WithdrawExpireUnfreezeContract.toObject(n,this)},TronWebProto.WithdrawExpireUnfreezeContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.WithdrawExpireUnfreezeContract;return TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinaryFromReader(a,s)},TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;default:s.skipField();break}}return n},TronWebProto.WithdrawExpireUnfreezeContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.WithdrawExpireUnfreezeContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.WithdrawExpireUnfreezeContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a)},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WithdrawExpireUnfreezeContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.DelegateResourceContract.prototype.toObject=function(n){return TronWebProto.DelegateResourceContract.toObject(n,this)},TronWebProto.DelegateResourceContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),resource:e.Message.getFieldWithDefault(s,2,0),balance:e.Message.getFieldWithDefault(s,3,0),receiverAddress:s.getReceiverAddress_asB64(),lock:e.Message.getBooleanFieldWithDefault(s,5,!1),lockPeriod:e.Message.getFieldWithDefault(s,6,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.DelegateResourceContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.DelegateResourceContract;return TronWebProto.DelegateResourceContract.deserializeBinaryFromReader(a,s)},TronWebProto.DelegateResourceContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readEnum();n.setResource(c);break;case 3:var c=s.readInt64();n.setBalance(c);break;case 4:var c=s.readBytes();n.setReceiverAddress(c);break;case 5:var c=s.readBool();n.setLock(c);break;case 6:var c=s.readInt64();n.setLockPeriod(c);break;default:s.skipField();break}}return n},TronWebProto.DelegateResourceContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.DelegateResourceContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.DelegateResourceContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getResource(),a!==0&&s.writeEnum(2,a),a=n.getBalance(),a!==0&&s.writeInt64(3,a),a=n.getReceiverAddress_asU8(),a.length>0&&s.writeBytes(4,a),a=n.getLock(),a&&s.writeBool(5,a),a=n.getLockPeriod(),a!==0&&s.writeInt64(6,a)},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.DelegateResourceContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.DelegateResourceContract.prototype.getResource=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.DelegateResourceContract.prototype.setResource=function(n){return e.Message.setProto3EnumField(this,2,n)},TronWebProto.DelegateResourceContract.prototype.getBalance=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.DelegateResourceContract.prototype.setBalance=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress_asB64=function(){return e.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress_asU8=function(){return e.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.DelegateResourceContract.prototype.setReceiverAddress=function(n){return e.Message.setProto3BytesField(this,4,n)},TronWebProto.DelegateResourceContract.prototype.getLock=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},TronWebProto.DelegateResourceContract.prototype.setLock=function(n){return e.Message.setProto3BooleanField(this,5,n)},TronWebProto.DelegateResourceContract.prototype.getLockPeriod=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.DelegateResourceContract.prototype.setLockPeriod=function(n){return e.Message.setProto3IntField(this,6,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnDelegateResourceContract.prototype.toObject=function(n){return TronWebProto.UnDelegateResourceContract.toObject(n,this)},TronWebProto.UnDelegateResourceContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),resource:e.Message.getFieldWithDefault(s,2,0),balance:e.Message.getFieldWithDefault(s,3,0),receiverAddress:s.getReceiverAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.UnDelegateResourceContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.UnDelegateResourceContract;return TronWebProto.UnDelegateResourceContract.deserializeBinaryFromReader(a,s)},TronWebProto.UnDelegateResourceContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readEnum();n.setResource(c);break;case 3:var c=s.readInt64();n.setBalance(c);break;case 4:var c=s.readBytes();n.setReceiverAddress(c);break;default:s.skipField();break}}return n},TronWebProto.UnDelegateResourceContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.UnDelegateResourceContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.UnDelegateResourceContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getResource(),a!==0&&s.writeEnum(2,a),a=n.getBalance(),a!==0&&s.writeInt64(3,a),a=n.getReceiverAddress_asU8(),a.length>0&&s.writeBytes(4,a)},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnDelegateResourceContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.UnDelegateResourceContract.prototype.getResource=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.UnDelegateResourceContract.prototype.setResource=function(n){return e.Message.setProto3EnumField(this,2,n)},TronWebProto.UnDelegateResourceContract.prototype.getBalance=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.UnDelegateResourceContract.prototype.setBalance=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress_asB64=function(){return e.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress_asU8=function(){return e.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.UnDelegateResourceContract.prototype.setReceiverAddress=function(n){return e.Message.setProto3BytesField(this,4,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.CancelAllUnfreezeV2Contract.prototype.toObject=function(n){return TronWebProto.CancelAllUnfreezeV2Contract.toObject(n,this)},TronWebProto.CancelAllUnfreezeV2Contract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.CancelAllUnfreezeV2Contract;return TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinaryFromReader(a,s)},TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;default:s.skipField();break}}return n},TronWebProto.CancelAllUnfreezeV2Contract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.CancelAllUnfreezeV2Contract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.CancelAllUnfreezeV2Contract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a)},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.CancelAllUnfreezeV2Contract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},t.object.extend(r,TronWebProto)}(g0)),g0}r9();var b0={},$2;function n9(){return $2||($2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("TronWebProto.AssetIssueContract",null,o),t.exportSymbol("TronWebProto.AssetIssueContract.FrozenSupply",null,o),t.exportSymbol("TronWebProto.ParticipateAssetIssueContract",null,o),t.exportSymbol("TronWebProto.TransferAssetContract",null,o),t.exportSymbol("TronWebProto.UnfreezeAssetContract",null,o),t.exportSymbol("TronWebProto.UpdateAssetContract",null,o),TronWebProto.AssetIssueContract=function(i){e.Message.initialize(this,i,0,-1,TronWebProto.AssetIssueContract.repeatedFields_,null)},t.inherits(TronWebProto.AssetIssueContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AssetIssueContract.displayName="TronWebProto.AssetIssueContract"),TronWebProto.AssetIssueContract.FrozenSupply=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.AssetIssueContract.FrozenSupply,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AssetIssueContract.FrozenSupply.displayName="TronWebProto.AssetIssueContract.FrozenSupply"),TronWebProto.TransferAssetContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.TransferAssetContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.TransferAssetContract.displayName="TronWebProto.TransferAssetContract"),TronWebProto.UnfreezeAssetContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.UnfreezeAssetContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeAssetContract.displayName="TronWebProto.UnfreezeAssetContract"),TronWebProto.UpdateAssetContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.UpdateAssetContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UpdateAssetContract.displayName="TronWebProto.UpdateAssetContract"),TronWebProto.ParticipateAssetIssueContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ParticipateAssetIssueContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ParticipateAssetIssueContract.displayName="TronWebProto.ParticipateAssetIssueContract"),TronWebProto.AssetIssueContract.repeatedFields_=[5],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AssetIssueContract.prototype.toObject=function(i){return TronWebProto.AssetIssueContract.toObject(i,this)},TronWebProto.AssetIssueContract.toObject=function(i,n){var s={id:e.Message.getFieldWithDefault(n,41,""),ownerAddress:n.getOwnerAddress_asB64(),name:n.getName_asB64(),abbr:n.getAbbr_asB64(),totalSupply:e.Message.getFieldWithDefault(n,4,0),frozenSupplyList:e.Message.toObjectList(n.getFrozenSupplyList(),TronWebProto.AssetIssueContract.FrozenSupply.toObject,i),trxNum:e.Message.getFieldWithDefault(n,6,0),precision:e.Message.getFieldWithDefault(n,7,0),num:e.Message.getFieldWithDefault(n,8,0),startTime:e.Message.getFieldWithDefault(n,9,0),endTime:e.Message.getFieldWithDefault(n,10,0),order:e.Message.getFieldWithDefault(n,11,0),voteScore:e.Message.getFieldWithDefault(n,16,0),description:n.getDescription_asB64(),url:n.getUrl_asB64(),freeAssetNetLimit:e.Message.getFieldWithDefault(n,22,0),publicFreeAssetNetLimit:e.Message.getFieldWithDefault(n,23,0),publicFreeAssetNetUsage:e.Message.getFieldWithDefault(n,24,0),publicLatestFreeNetTime:e.Message.getFieldWithDefault(n,25,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.AssetIssueContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.AssetIssueContract;return TronWebProto.AssetIssueContract.deserializeBinaryFromReader(s,n)},TronWebProto.AssetIssueContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 41:var a=n.readString();i.setId(a);break;case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readBytes();i.setName(a);break;case 3:var a=n.readBytes();i.setAbbr(a);break;case 4:var a=n.readInt64();i.setTotalSupply(a);break;case 5:var a=new TronWebProto.AssetIssueContract.FrozenSupply;n.readMessage(a,TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader),i.addFrozenSupply(a);break;case 6:var a=n.readInt32();i.setTrxNum(a);break;case 7:var a=n.readInt32();i.setPrecision(a);break;case 8:var a=n.readInt32();i.setNum(a);break;case 9:var a=n.readInt64();i.setStartTime(a);break;case 10:var a=n.readInt64();i.setEndTime(a);break;case 11:var a=n.readInt64();i.setOrder(a);break;case 16:var a=n.readInt32();i.setVoteScore(a);break;case 20:var a=n.readBytes();i.setDescription(a);break;case 21:var a=n.readBytes();i.setUrl(a);break;case 22:var a=n.readInt64();i.setFreeAssetNetLimit(a);break;case 23:var a=n.readInt64();i.setPublicFreeAssetNetLimit(a);break;case 24:var a=n.readInt64();i.setPublicFreeAssetNetUsage(a);break;case 25:var a=n.readInt64();i.setPublicLatestFreeNetTime(a);break;default:n.skipField();break}}return i},TronWebProto.AssetIssueContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.AssetIssueContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.AssetIssueContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getId(),s.length>0&&n.writeString(41,s),s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getName_asU8(),s.length>0&&n.writeBytes(2,s),s=i.getAbbr_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getTotalSupply(),s!==0&&n.writeInt64(4,s),s=i.getFrozenSupplyList(),s.length>0&&n.writeRepeatedMessage(5,s,TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter),s=i.getTrxNum(),s!==0&&n.writeInt32(6,s),s=i.getPrecision(),s!==0&&n.writeInt32(7,s),s=i.getNum(),s!==0&&n.writeInt32(8,s),s=i.getStartTime(),s!==0&&n.writeInt64(9,s),s=i.getEndTime(),s!==0&&n.writeInt64(10,s),s=i.getOrder(),s!==0&&n.writeInt64(11,s),s=i.getVoteScore(),s!==0&&n.writeInt32(16,s),s=i.getDescription_asU8(),s.length>0&&n.writeBytes(20,s),s=i.getUrl_asU8(),s.length>0&&n.writeBytes(21,s),s=i.getFreeAssetNetLimit(),s!==0&&n.writeInt64(22,s),s=i.getPublicFreeAssetNetLimit(),s!==0&&n.writeInt64(23,s),s=i.getPublicFreeAssetNetUsage(),s!==0&&n.writeInt64(24,s),s=i.getPublicLatestFreeNetTime(),s!==0&&n.writeInt64(25,s)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AssetIssueContract.FrozenSupply.prototype.toObject=function(i){return TronWebProto.AssetIssueContract.FrozenSupply.toObject(i,this)},TronWebProto.AssetIssueContract.FrozenSupply.toObject=function(i,n){var s={frozenAmount:e.Message.getFieldWithDefault(n,1,0),frozenDays:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.AssetIssueContract.FrozenSupply;return TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader(s,n)},TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readInt64();i.setFrozenAmount(a);break;case 2:var a=n.readInt64();i.setFrozenDays(a);break;default:n.skipField();break}}return i},TronWebProto.AssetIssueContract.FrozenSupply.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getFrozenAmount(),s!==0&&n.writeInt64(1,s),s=i.getFrozenDays(),s!==0&&n.writeInt64(2,s)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.getFrozenAmount=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.setFrozenAmount=function(i){return e.Message.setProto3IntField(this,1,i)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.getFrozenDays=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.setFrozenDays=function(i){return e.Message.setProto3IntField(this,2,i)},TronWebProto.AssetIssueContract.prototype.getId=function(){return e.Message.getFieldWithDefault(this,41,"")},TronWebProto.AssetIssueContract.prototype.setId=function(i){return e.Message.setProto3StringField(this,41,i)},TronWebProto.AssetIssueContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.AssetIssueContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AssetIssueContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AssetIssueContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.AssetIssueContract.prototype.getName=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.AssetIssueContract.prototype.getName_asB64=function(){return e.Message.bytesAsB64(this.getName())},TronWebProto.AssetIssueContract.prototype.getName_asU8=function(){return e.Message.bytesAsU8(this.getName())},TronWebProto.AssetIssueContract.prototype.setName=function(i){return e.Message.setProto3BytesField(this,2,i)},TronWebProto.AssetIssueContract.prototype.getAbbr=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.AssetIssueContract.prototype.getAbbr_asB64=function(){return e.Message.bytesAsB64(this.getAbbr())},TronWebProto.AssetIssueContract.prototype.getAbbr_asU8=function(){return e.Message.bytesAsU8(this.getAbbr())},TronWebProto.AssetIssueContract.prototype.setAbbr=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.AssetIssueContract.prototype.getTotalSupply=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.AssetIssueContract.prototype.setTotalSupply=function(i){return e.Message.setProto3IntField(this,4,i)},TronWebProto.AssetIssueContract.prototype.getFrozenSupplyList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.AssetIssueContract.FrozenSupply,5)},TronWebProto.AssetIssueContract.prototype.setFrozenSupplyList=function(i){return e.Message.setRepeatedWrapperField(this,5,i)},TronWebProto.AssetIssueContract.prototype.addFrozenSupply=function(i,n){return e.Message.addToRepeatedWrapperField(this,5,i,TronWebProto.AssetIssueContract.FrozenSupply,n)},TronWebProto.AssetIssueContract.prototype.clearFrozenSupplyList=function(){return this.setFrozenSupplyList([])},TronWebProto.AssetIssueContract.prototype.getTrxNum=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.AssetIssueContract.prototype.setTrxNum=function(i){return e.Message.setProto3IntField(this,6,i)},TronWebProto.AssetIssueContract.prototype.getPrecision=function(){return e.Message.getFieldWithDefault(this,7,0)},TronWebProto.AssetIssueContract.prototype.setPrecision=function(i){return e.Message.setProto3IntField(this,7,i)},TronWebProto.AssetIssueContract.prototype.getNum=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.AssetIssueContract.prototype.setNum=function(i){return e.Message.setProto3IntField(this,8,i)},TronWebProto.AssetIssueContract.prototype.getStartTime=function(){return e.Message.getFieldWithDefault(this,9,0)},TronWebProto.AssetIssueContract.prototype.setStartTime=function(i){return e.Message.setProto3IntField(this,9,i)},TronWebProto.AssetIssueContract.prototype.getEndTime=function(){return e.Message.getFieldWithDefault(this,10,0)},TronWebProto.AssetIssueContract.prototype.setEndTime=function(i){return e.Message.setProto3IntField(this,10,i)},TronWebProto.AssetIssueContract.prototype.getOrder=function(){return e.Message.getFieldWithDefault(this,11,0)},TronWebProto.AssetIssueContract.prototype.setOrder=function(i){return e.Message.setProto3IntField(this,11,i)},TronWebProto.AssetIssueContract.prototype.getVoteScore=function(){return e.Message.getFieldWithDefault(this,16,0)},TronWebProto.AssetIssueContract.prototype.setVoteScore=function(i){return e.Message.setProto3IntField(this,16,i)},TronWebProto.AssetIssueContract.prototype.getDescription=function(){return e.Message.getFieldWithDefault(this,20,"")},TronWebProto.AssetIssueContract.prototype.getDescription_asB64=function(){return e.Message.bytesAsB64(this.getDescription())},TronWebProto.AssetIssueContract.prototype.getDescription_asU8=function(){return e.Message.bytesAsU8(this.getDescription())},TronWebProto.AssetIssueContract.prototype.setDescription=function(i){return e.Message.setProto3BytesField(this,20,i)},TronWebProto.AssetIssueContract.prototype.getUrl=function(){return e.Message.getFieldWithDefault(this,21,"")},TronWebProto.AssetIssueContract.prototype.getUrl_asB64=function(){return e.Message.bytesAsB64(this.getUrl())},TronWebProto.AssetIssueContract.prototype.getUrl_asU8=function(){return e.Message.bytesAsU8(this.getUrl())},TronWebProto.AssetIssueContract.prototype.setUrl=function(i){return e.Message.setProto3BytesField(this,21,i)},TronWebProto.AssetIssueContract.prototype.getFreeAssetNetLimit=function(){return e.Message.getFieldWithDefault(this,22,0)},TronWebProto.AssetIssueContract.prototype.setFreeAssetNetLimit=function(i){return e.Message.setProto3IntField(this,22,i)},TronWebProto.AssetIssueContract.prototype.getPublicFreeAssetNetLimit=function(){return e.Message.getFieldWithDefault(this,23,0)},TronWebProto.AssetIssueContract.prototype.setPublicFreeAssetNetLimit=function(i){return e.Message.setProto3IntField(this,23,i)},TronWebProto.AssetIssueContract.prototype.getPublicFreeAssetNetUsage=function(){return e.Message.getFieldWithDefault(this,24,0)},TronWebProto.AssetIssueContract.prototype.setPublicFreeAssetNetUsage=function(i){return e.Message.setProto3IntField(this,24,i)},TronWebProto.AssetIssueContract.prototype.getPublicLatestFreeNetTime=function(){return e.Message.getFieldWithDefault(this,25,0)},TronWebProto.AssetIssueContract.prototype.setPublicLatestFreeNetTime=function(i){return e.Message.setProto3IntField(this,25,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransferAssetContract.prototype.toObject=function(i){return TronWebProto.TransferAssetContract.toObject(i,this)},TronWebProto.TransferAssetContract.toObject=function(i,n){var s={assetName:n.getAssetName_asB64(),ownerAddress:n.getOwnerAddress_asB64(),toAddress:n.getToAddress_asB64(),amount:e.Message.getFieldWithDefault(n,4,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.TransferAssetContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.TransferAssetContract;return TronWebProto.TransferAssetContract.deserializeBinaryFromReader(s,n)},TronWebProto.TransferAssetContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setAssetName(a);break;case 2:var a=n.readBytes();i.setOwnerAddress(a);break;case 3:var a=n.readBytes();i.setToAddress(a);break;case 4:var a=n.readInt64();i.setAmount(a);break;default:n.skipField();break}}return i},TronWebProto.TransferAssetContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.TransferAssetContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.TransferAssetContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getAssetName_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(2,s),s=i.getToAddress_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getAmount(),s!==0&&n.writeInt64(4,s)},TronWebProto.TransferAssetContract.prototype.getAssetName=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransferAssetContract.prototype.getAssetName_asB64=function(){return e.Message.bytesAsB64(this.getAssetName())},TronWebProto.TransferAssetContract.prototype.getAssetName_asU8=function(){return e.Message.bytesAsU8(this.getAssetName())},TronWebProto.TransferAssetContract.prototype.setAssetName=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.TransferAssetContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransferAssetContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TransferAssetContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TransferAssetContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,2,i)},TronWebProto.TransferAssetContract.prototype.getToAddress=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.TransferAssetContract.prototype.getToAddress_asB64=function(){return e.Message.bytesAsB64(this.getToAddress())},TronWebProto.TransferAssetContract.prototype.getToAddress_asU8=function(){return e.Message.bytesAsU8(this.getToAddress())},TronWebProto.TransferAssetContract.prototype.setToAddress=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.TransferAssetContract.prototype.getAmount=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.TransferAssetContract.prototype.setAmount=function(i){return e.Message.setProto3IntField(this,4,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeAssetContract.prototype.toObject=function(i){return TronWebProto.UnfreezeAssetContract.toObject(i,this)},TronWebProto.UnfreezeAssetContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64()};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.UnfreezeAssetContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.UnfreezeAssetContract;return TronWebProto.UnfreezeAssetContract.deserializeBinaryFromReader(s,n)},TronWebProto.UnfreezeAssetContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;default:n.skipField();break}}return i},TronWebProto.UnfreezeAssetContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.UnfreezeAssetContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.UnfreezeAssetContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s)},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeAssetContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateAssetContract.prototype.toObject=function(i){return TronWebProto.UpdateAssetContract.toObject(i,this)},TronWebProto.UpdateAssetContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),description:n.getDescription_asB64(),url:n.getUrl_asB64(),newLimit:e.Message.getFieldWithDefault(n,4,0),newPublicLimit:e.Message.getFieldWithDefault(n,5,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.UpdateAssetContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.UpdateAssetContract;return TronWebProto.UpdateAssetContract.deserializeBinaryFromReader(s,n)},TronWebProto.UpdateAssetContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readBytes();i.setDescription(a);break;case 3:var a=n.readBytes();i.setUrl(a);break;case 4:var a=n.readInt64();i.setNewLimit(a);break;case 5:var a=n.readInt64();i.setNewPublicLimit(a);break;default:n.skipField();break}}return i},TronWebProto.UpdateAssetContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.UpdateAssetContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.UpdateAssetContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getDescription_asU8(),s.length>0&&n.writeBytes(2,s),s=i.getUrl_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getNewLimit(),s!==0&&n.writeInt64(4,s),s=i.getNewPublicLimit(),s!==0&&n.writeInt64(5,s)},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateAssetContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.UpdateAssetContract.prototype.getDescription=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateAssetContract.prototype.getDescription_asB64=function(){return e.Message.bytesAsB64(this.getDescription())},TronWebProto.UpdateAssetContract.prototype.getDescription_asU8=function(){return e.Message.bytesAsU8(this.getDescription())},TronWebProto.UpdateAssetContract.prototype.setDescription=function(i){return e.Message.setProto3BytesField(this,2,i)},TronWebProto.UpdateAssetContract.prototype.getUrl=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.UpdateAssetContract.prototype.getUrl_asB64=function(){return e.Message.bytesAsB64(this.getUrl())},TronWebProto.UpdateAssetContract.prototype.getUrl_asU8=function(){return e.Message.bytesAsU8(this.getUrl())},TronWebProto.UpdateAssetContract.prototype.setUrl=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.UpdateAssetContract.prototype.getNewLimit=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.UpdateAssetContract.prototype.setNewLimit=function(i){return e.Message.setProto3IntField(this,4,i)},TronWebProto.UpdateAssetContract.prototype.getNewPublicLimit=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.UpdateAssetContract.prototype.setNewPublicLimit=function(i){return e.Message.setProto3IntField(this,5,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ParticipateAssetIssueContract.prototype.toObject=function(i){return TronWebProto.ParticipateAssetIssueContract.toObject(i,this)},TronWebProto.ParticipateAssetIssueContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),toAddress:n.getToAddress_asB64(),assetName:n.getAssetName_asB64(),amount:e.Message.getFieldWithDefault(n,4,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ParticipateAssetIssueContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ParticipateAssetIssueContract;return TronWebProto.ParticipateAssetIssueContract.deserializeBinaryFromReader(s,n)},TronWebProto.ParticipateAssetIssueContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readBytes();i.setToAddress(a);break;case 3:var a=n.readBytes();i.setAssetName(a);break;case 4:var a=n.readInt64();i.setAmount(a);break;default:n.skipField();break}}return i},TronWebProto.ParticipateAssetIssueContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ParticipateAssetIssueContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ParticipateAssetIssueContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getToAddress_asU8(),s.length>0&&n.writeBytes(2,s),s=i.getAssetName_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getAmount(),s!==0&&n.writeInt64(4,s)},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress_asB64=function(){return e.Message.bytesAsB64(this.getToAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress_asU8=function(){return e.Message.bytesAsU8(this.getToAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.setToAddress=function(i){return e.Message.setProto3BytesField(this,2,i)},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName_asB64=function(){return e.Message.bytesAsB64(this.getAssetName())},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName_asU8=function(){return e.Message.bytesAsU8(this.getAssetName())},TronWebProto.ParticipateAssetIssueContract.prototype.setAssetName=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.ParticipateAssetIssueContract.prototype.getAmount=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.ParticipateAssetIssueContract.prototype.setAmount=function(i){return e.Message.setProto3IntField(this,4,i)},t.object.extend(r,TronWebProto)}(b0)),b0}n9();var w0={},F2;function o9(){return F2||(F2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),i=_b();t.object.extend(proto,i),t.exportSymbol("TronWebProto.ClearABIContract",null,o),t.exportSymbol("TronWebProto.ContractState",null,o),t.exportSymbol("TronWebProto.CreateSmartContract",null,o),t.exportSymbol("TronWebProto.SmartContract",null,o),t.exportSymbol("TronWebProto.SmartContract.ABI",null,o),t.exportSymbol("TronWebProto.SmartContract.ABI.Entry",null,o),t.exportSymbol("TronWebProto.SmartContract.ABI.Entry.EntryType",null,o),t.exportSymbol("TronWebProto.SmartContract.ABI.Entry.Param",null,o),t.exportSymbol("TronWebProto.SmartContract.ABI.Entry.StateMutabilityType",null,o),t.exportSymbol("TronWebProto.SmartContractDataWrapper",null,o),t.exportSymbol("TronWebProto.TriggerSmartContract",null,o),t.exportSymbol("TronWebProto.UpdateEnergyLimitContract",null,o),t.exportSymbol("TronWebProto.UpdateSettingContract",null,o),TronWebProto.SmartContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.SmartContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.displayName="TronWebProto.SmartContract"),TronWebProto.SmartContract.ABI=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.SmartContract.ABI.repeatedFields_,null)},t.inherits(TronWebProto.SmartContract.ABI,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.displayName="TronWebProto.SmartContract.ABI"),TronWebProto.SmartContract.ABI.Entry=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.SmartContract.ABI.Entry.repeatedFields_,null)},t.inherits(TronWebProto.SmartContract.ABI.Entry,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.Entry.displayName="TronWebProto.SmartContract.ABI.Entry"),TronWebProto.SmartContract.ABI.Entry.Param=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.SmartContract.ABI.Entry.Param,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.Entry.Param.displayName="TronWebProto.SmartContract.ABI.Entry.Param"),TronWebProto.ContractState=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.ContractState,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ContractState.displayName="TronWebProto.ContractState"),TronWebProto.CreateSmartContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.CreateSmartContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.CreateSmartContract.displayName="TronWebProto.CreateSmartContract"),TronWebProto.TriggerSmartContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.TriggerSmartContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.TriggerSmartContract.displayName="TronWebProto.TriggerSmartContract"),TronWebProto.ClearABIContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.ClearABIContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ClearABIContract.displayName="TronWebProto.ClearABIContract"),TronWebProto.UpdateSettingContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.UpdateSettingContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UpdateSettingContract.displayName="TronWebProto.UpdateSettingContract"),TronWebProto.UpdateEnergyLimitContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.UpdateEnergyLimitContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UpdateEnergyLimitContract.displayName="TronWebProto.UpdateEnergyLimitContract"),TronWebProto.SmartContractDataWrapper=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.SmartContractDataWrapper,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SmartContractDataWrapper.displayName="TronWebProto.SmartContractDataWrapper"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.prototype.toObject=function(n){return TronWebProto.SmartContract.toObject(n,this)},TronWebProto.SmartContract.toObject=function(n,s){var a,c={originAddress:s.getOriginAddress_asB64(),contractAddress:s.getContractAddress_asB64(),abi:(a=s.getAbi())&&TronWebProto.SmartContract.ABI.toObject(n,a),bytecode:s.getBytecode_asB64(),callValue:e.Message.getFieldWithDefault(s,5,0),consumeUserResourcePercent:e.Message.getFieldWithDefault(s,6,0),name:e.Message.getFieldWithDefault(s,7,""),originEnergyLimit:e.Message.getFieldWithDefault(s,8,0),codeHash:s.getCodeHash_asB64(),trxHash:s.getTrxHash_asB64(),version:e.Message.getFieldWithDefault(s,11,0)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.SmartContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.SmartContract;return TronWebProto.SmartContract.deserializeBinaryFromReader(a,s)},TronWebProto.SmartContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOriginAddress(c);break;case 2:var c=s.readBytes();n.setContractAddress(c);break;case 3:var c=new TronWebProto.SmartContract.ABI;s.readMessage(c,TronWebProto.SmartContract.ABI.deserializeBinaryFromReader),n.setAbi(c);break;case 4:var c=s.readBytes();n.setBytecode(c);break;case 5:var c=s.readInt64();n.setCallValue(c);break;case 6:var c=s.readInt64();n.setConsumeUserResourcePercent(c);break;case 7:var c=s.readString();n.setName(c);break;case 8:var c=s.readInt64();n.setOriginEnergyLimit(c);break;case 9:var c=s.readBytes();n.setCodeHash(c);break;case 10:var c=s.readBytes();n.setTrxHash(c);break;case 11:var c=s.readInt32();n.setVersion(c);break;default:s.skipField();break}}return n},TronWebProto.SmartContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.SmartContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.SmartContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOriginAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getContractAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getAbi(),a!=null&&s.writeMessage(3,a,TronWebProto.SmartContract.ABI.serializeBinaryToWriter),a=n.getBytecode_asU8(),a.length>0&&s.writeBytes(4,a),a=n.getCallValue(),a!==0&&s.writeInt64(5,a),a=n.getConsumeUserResourcePercent(),a!==0&&s.writeInt64(6,a),a=n.getName(),a.length>0&&s.writeString(7,a),a=n.getOriginEnergyLimit(),a!==0&&s.writeInt64(8,a),a=n.getCodeHash_asU8(),a.length>0&&s.writeBytes(9,a),a=n.getTrxHash_asU8(),a.length>0&&s.writeBytes(10,a),a=n.getVersion(),a!==0&&s.writeInt32(11,a)},TronWebProto.SmartContract.ABI.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.prototype.toObject=function(n){return TronWebProto.SmartContract.ABI.toObject(n,this)},TronWebProto.SmartContract.ABI.toObject=function(n,s){var a={entrysList:e.Message.toObjectList(s.getEntrysList(),TronWebProto.SmartContract.ABI.Entry.toObject,n)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.SmartContract.ABI.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.SmartContract.ABI;return TronWebProto.SmartContract.ABI.deserializeBinaryFromReader(a,s)},TronWebProto.SmartContract.ABI.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=new TronWebProto.SmartContract.ABI.Entry;s.readMessage(c,TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader),n.addEntrys(c);break;default:s.skipField();break}}return n},TronWebProto.SmartContract.ABI.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.SmartContract.ABI.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.SmartContract.ABI.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getEntrysList(),a.length>0&&s.writeRepeatedMessage(1,a,TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter)},TronWebProto.SmartContract.ABI.Entry.repeatedFields_=[4,5],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.Entry.prototype.toObject=function(n){return TronWebProto.SmartContract.ABI.Entry.toObject(n,this)},TronWebProto.SmartContract.ABI.Entry.toObject=function(n,s){var a={anonymous:e.Message.getBooleanFieldWithDefault(s,1,!1),constant:e.Message.getBooleanFieldWithDefault(s,2,!1),name:e.Message.getFieldWithDefault(s,3,""),inputsList:e.Message.toObjectList(s.getInputsList(),TronWebProto.SmartContract.ABI.Entry.Param.toObject,n),outputsList:e.Message.toObjectList(s.getOutputsList(),TronWebProto.SmartContract.ABI.Entry.Param.toObject,n),type:e.Message.getFieldWithDefault(s,6,0),payable:e.Message.getBooleanFieldWithDefault(s,7,!1),statemutability:e.Message.getFieldWithDefault(s,8,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.SmartContract.ABI.Entry.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.SmartContract.ABI.Entry;return TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader(a,s)},TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBool();n.setAnonymous(c);break;case 2:var c=s.readBool();n.setConstant(c);break;case 3:var c=s.readString();n.setName(c);break;case 4:var c=new TronWebProto.SmartContract.ABI.Entry.Param;s.readMessage(c,TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader),n.addInputs(c);break;case 5:var c=new TronWebProto.SmartContract.ABI.Entry.Param;s.readMessage(c,TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader),n.addOutputs(c);break;case 6:var c=s.readEnum();n.setType(c);break;case 7:var c=s.readBool();n.setPayable(c);break;case 8:var c=s.readEnum();n.setStatemutability(c);break;default:s.skipField();break}}return n},TronWebProto.SmartContract.ABI.Entry.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAnonymous(),a&&s.writeBool(1,a),a=n.getConstant(),a&&s.writeBool(2,a),a=n.getName(),a.length>0&&s.writeString(3,a),a=n.getInputsList(),a.length>0&&s.writeRepeatedMessage(4,a,TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter),a=n.getOutputsList(),a.length>0&&s.writeRepeatedMessage(5,a,TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter),a=n.getType(),a!==0&&s.writeEnum(6,a),a=n.getPayable(),a&&s.writeBool(7,a),a=n.getStatemutability(),a!==0&&s.writeEnum(8,a)},TronWebProto.SmartContract.ABI.Entry.EntryType={UNKNOWNENTRYTYPE:0,CONSTRUCTOR:1,FUNCTION:2,EVENT:3,FALLBACK:4,RECEIVE:5,ERROR:6},TronWebProto.SmartContract.ABI.Entry.StateMutabilityType={UNKNOWNMUTABILITYTYPE:0,PURE:1,VIEW:2,NONPAYABLE:3,PAYABLE:4},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.Entry.Param.prototype.toObject=function(n){return TronWebProto.SmartContract.ABI.Entry.Param.toObject(n,this)},TronWebProto.SmartContract.ABI.Entry.Param.toObject=function(n,s){var a={indexed:e.Message.getBooleanFieldWithDefault(s,1,!1),name:e.Message.getFieldWithDefault(s,2,""),type:e.Message.getFieldWithDefault(s,3,"")};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.SmartContract.ABI.Entry.Param;return TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader(a,s)},TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBool();n.setIndexed(c);break;case 2:var c=s.readString();n.setName(c);break;case 3:var c=s.readString();n.setType(c);break;default:s.skipField();break}}return n},TronWebProto.SmartContract.ABI.Entry.Param.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getIndexed(),a&&s.writeBool(1,a),a=n.getName(),a.length>0&&s.writeString(2,a),a=n.getType(),a.length>0&&s.writeString(3,a)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getIndexed=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setIndexed=function(n){return e.Message.setProto3BooleanField(this,1,n)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getName=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setName=function(n){return e.Message.setProto3StringField(this,2,n)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getType=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setType=function(n){return e.Message.setProto3StringField(this,3,n)},TronWebProto.SmartContract.ABI.Entry.prototype.getAnonymous=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setAnonymous=function(n){return e.Message.setProto3BooleanField(this,1,n)},TronWebProto.SmartContract.ABI.Entry.prototype.getConstant=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setConstant=function(n){return e.Message.setProto3BooleanField(this,2,n)},TronWebProto.SmartContract.ABI.Entry.prototype.getName=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.SmartContract.ABI.Entry.prototype.setName=function(n){return e.Message.setProto3StringField(this,3,n)},TronWebProto.SmartContract.ABI.Entry.prototype.getInputsList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry.Param,4)},TronWebProto.SmartContract.ABI.Entry.prototype.setInputsList=function(n){return e.Message.setRepeatedWrapperField(this,4,n)},TronWebProto.SmartContract.ABI.Entry.prototype.addInputs=function(n,s){return e.Message.addToRepeatedWrapperField(this,4,n,TronWebProto.SmartContract.ABI.Entry.Param,s)},TronWebProto.SmartContract.ABI.Entry.prototype.clearInputsList=function(){return this.setInputsList([])},TronWebProto.SmartContract.ABI.Entry.prototype.getOutputsList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry.Param,5)},TronWebProto.SmartContract.ABI.Entry.prototype.setOutputsList=function(n){return e.Message.setRepeatedWrapperField(this,5,n)},TronWebProto.SmartContract.ABI.Entry.prototype.addOutputs=function(n,s){return e.Message.addToRepeatedWrapperField(this,5,n,TronWebProto.SmartContract.ABI.Entry.Param,s)},TronWebProto.SmartContract.ABI.Entry.prototype.clearOutputsList=function(){return this.setOutputsList([])},TronWebProto.SmartContract.ABI.Entry.prototype.getType=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.SmartContract.ABI.Entry.prototype.setType=function(n){return e.Message.setProto3EnumField(this,6,n)},TronWebProto.SmartContract.ABI.Entry.prototype.getPayable=function(){return e.Message.getBooleanFieldWithDefault(this,7,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setPayable=function(n){return e.Message.setProto3BooleanField(this,7,n)},TronWebProto.SmartContract.ABI.Entry.prototype.getStatemutability=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.SmartContract.ABI.Entry.prototype.setStatemutability=function(n){return e.Message.setProto3EnumField(this,8,n)},TronWebProto.SmartContract.ABI.prototype.getEntrysList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry,1)},TronWebProto.SmartContract.ABI.prototype.setEntrysList=function(n){return e.Message.setRepeatedWrapperField(this,1,n)},TronWebProto.SmartContract.ABI.prototype.addEntrys=function(n,s){return e.Message.addToRepeatedWrapperField(this,1,n,TronWebProto.SmartContract.ABI.Entry,s)},TronWebProto.SmartContract.ABI.prototype.clearEntrysList=function(){return this.setEntrysList([])},TronWebProto.SmartContract.prototype.getOriginAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.SmartContract.prototype.getOriginAddress_asB64=function(){return e.Message.bytesAsB64(this.getOriginAddress())},TronWebProto.SmartContract.prototype.getOriginAddress_asU8=function(){return e.Message.bytesAsU8(this.getOriginAddress())},TronWebProto.SmartContract.prototype.setOriginAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.SmartContract.prototype.getContractAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContract.prototype.getContractAddress_asB64=function(){return e.Message.bytesAsB64(this.getContractAddress())},TronWebProto.SmartContract.prototype.getContractAddress_asU8=function(){return e.Message.bytesAsU8(this.getContractAddress())},TronWebProto.SmartContract.prototype.setContractAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.SmartContract.prototype.getAbi=function(){return e.Message.getWrapperField(this,TronWebProto.SmartContract.ABI,3)},TronWebProto.SmartContract.prototype.setAbi=function(n){return e.Message.setWrapperField(this,3,n)},TronWebProto.SmartContract.prototype.clearAbi=function(){return this.setAbi(void 0)},TronWebProto.SmartContract.prototype.hasAbi=function(){return e.Message.getField(this,3)!=null},TronWebProto.SmartContract.prototype.getBytecode=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.SmartContract.prototype.getBytecode_asB64=function(){return e.Message.bytesAsB64(this.getBytecode())},TronWebProto.SmartContract.prototype.getBytecode_asU8=function(){return e.Message.bytesAsU8(this.getBytecode())},TronWebProto.SmartContract.prototype.setBytecode=function(n){return e.Message.setProto3BytesField(this,4,n)},TronWebProto.SmartContract.prototype.getCallValue=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.SmartContract.prototype.setCallValue=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.SmartContract.prototype.getConsumeUserResourcePercent=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.SmartContract.prototype.setConsumeUserResourcePercent=function(n){return e.Message.setProto3IntField(this,6,n)},TronWebProto.SmartContract.prototype.getName=function(){return e.Message.getFieldWithDefault(this,7,"")},TronWebProto.SmartContract.prototype.setName=function(n){return e.Message.setProto3StringField(this,7,n)},TronWebProto.SmartContract.prototype.getOriginEnergyLimit=function(){return e.Message.getFieldWithDefault(this,8,0)},TronWebProto.SmartContract.prototype.setOriginEnergyLimit=function(n){return e.Message.setProto3IntField(this,8,n)},TronWebProto.SmartContract.prototype.getCodeHash=function(){return e.Message.getFieldWithDefault(this,9,"")},TronWebProto.SmartContract.prototype.getCodeHash_asB64=function(){return e.Message.bytesAsB64(this.getCodeHash())},TronWebProto.SmartContract.prototype.getCodeHash_asU8=function(){return e.Message.bytesAsU8(this.getCodeHash())},TronWebProto.SmartContract.prototype.setCodeHash=function(n){return e.Message.setProto3BytesField(this,9,n)},TronWebProto.SmartContract.prototype.getTrxHash=function(){return e.Message.getFieldWithDefault(this,10,"")},TronWebProto.SmartContract.prototype.getTrxHash_asB64=function(){return e.Message.bytesAsB64(this.getTrxHash())},TronWebProto.SmartContract.prototype.getTrxHash_asU8=function(){return e.Message.bytesAsU8(this.getTrxHash())},TronWebProto.SmartContract.prototype.setTrxHash=function(n){return e.Message.setProto3BytesField(this,10,n)},TronWebProto.SmartContract.prototype.getVersion=function(){return e.Message.getFieldWithDefault(this,11,0)},TronWebProto.SmartContract.prototype.setVersion=function(n){return e.Message.setProto3IntField(this,11,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ContractState.prototype.toObject=function(n){return TronWebProto.ContractState.toObject(n,this)},TronWebProto.ContractState.toObject=function(n,s){var a={energyUsage:e.Message.getFieldWithDefault(s,1,0),energyFactor:e.Message.getFieldWithDefault(s,2,0),updateCycle:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.ContractState.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.ContractState;return TronWebProto.ContractState.deserializeBinaryFromReader(a,s)},TronWebProto.ContractState.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readInt64();n.setEnergyUsage(c);break;case 2:var c=s.readInt64();n.setEnergyFactor(c);break;case 3:var c=s.readInt64();n.setUpdateCycle(c);break;default:s.skipField();break}}return n},TronWebProto.ContractState.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.ContractState.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.ContractState.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getEnergyUsage(),a!==0&&s.writeInt64(1,a),a=n.getEnergyFactor(),a!==0&&s.writeInt64(2,a),a=n.getUpdateCycle(),a!==0&&s.writeInt64(3,a)},TronWebProto.ContractState.prototype.getEnergyUsage=function(){return e.Message.getFieldWithDefault(this,1,0)},TronWebProto.ContractState.prototype.setEnergyUsage=function(n){return e.Message.setProto3IntField(this,1,n)},TronWebProto.ContractState.prototype.getEnergyFactor=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.ContractState.prototype.setEnergyFactor=function(n){return e.Message.setProto3IntField(this,2,n)},TronWebProto.ContractState.prototype.getUpdateCycle=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.ContractState.prototype.setUpdateCycle=function(n){return e.Message.setProto3IntField(this,3,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.CreateSmartContract.prototype.toObject=function(n){return TronWebProto.CreateSmartContract.toObject(n,this)},TronWebProto.CreateSmartContract.toObject=function(n,s){var a,c={ownerAddress:s.getOwnerAddress_asB64(),newContract:(a=s.getNewContract())&&TronWebProto.SmartContract.toObject(n,a),callTokenValue:e.Message.getFieldWithDefault(s,3,0),tokenId:e.Message.getFieldWithDefault(s,4,0)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.CreateSmartContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.CreateSmartContract;return TronWebProto.CreateSmartContract.deserializeBinaryFromReader(a,s)},TronWebProto.CreateSmartContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=new TronWebProto.SmartContract;s.readMessage(c,TronWebProto.SmartContract.deserializeBinaryFromReader),n.setNewContract(c);break;case 3:var c=s.readInt64();n.setCallTokenValue(c);break;case 4:var c=s.readInt64();n.setTokenId(c);break;default:s.skipField();break}}return n},TronWebProto.CreateSmartContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.CreateSmartContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.CreateSmartContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getNewContract(),a!=null&&s.writeMessage(2,a,TronWebProto.SmartContract.serializeBinaryToWriter),a=n.getCallTokenValue(),a!==0&&s.writeInt64(3,a),a=n.getTokenId(),a!==0&&s.writeInt64(4,a)},TronWebProto.CreateSmartContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.CreateSmartContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.CreateSmartContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.CreateSmartContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.CreateSmartContract.prototype.getNewContract=function(){return e.Message.getWrapperField(this,TronWebProto.SmartContract,2)},TronWebProto.CreateSmartContract.prototype.setNewContract=function(n){return e.Message.setWrapperField(this,2,n)},TronWebProto.CreateSmartContract.prototype.clearNewContract=function(){return this.setNewContract(void 0)},TronWebProto.CreateSmartContract.prototype.hasNewContract=function(){return e.Message.getField(this,2)!=null},TronWebProto.CreateSmartContract.prototype.getCallTokenValue=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.CreateSmartContract.prototype.setCallTokenValue=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.CreateSmartContract.prototype.getTokenId=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.CreateSmartContract.prototype.setTokenId=function(n){return e.Message.setProto3IntField(this,4,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.TriggerSmartContract.prototype.toObject=function(n){return TronWebProto.TriggerSmartContract.toObject(n,this)},TronWebProto.TriggerSmartContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),contractAddress:s.getContractAddress_asB64(),callValue:e.Message.getFieldWithDefault(s,3,0),data:s.getData_asB64(),callTokenValue:e.Message.getFieldWithDefault(s,5,0),tokenId:e.Message.getFieldWithDefault(s,6,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.TriggerSmartContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.TriggerSmartContract;return TronWebProto.TriggerSmartContract.deserializeBinaryFromReader(a,s)},TronWebProto.TriggerSmartContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readBytes();n.setContractAddress(c);break;case 3:var c=s.readInt64();n.setCallValue(c);break;case 4:var c=s.readBytes();n.setData(c);break;case 5:var c=s.readInt64();n.setCallTokenValue(c);break;case 6:var c=s.readInt64();n.setTokenId(c);break;default:s.skipField();break}}return n},TronWebProto.TriggerSmartContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.TriggerSmartContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.TriggerSmartContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getContractAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getCallValue(),a!==0&&s.writeInt64(3,a),a=n.getData_asU8(),a.length>0&&s.writeBytes(4,a),a=n.getCallTokenValue(),a!==0&&s.writeInt64(5,a),a=n.getTokenId(),a!==0&&s.writeInt64(6,a)},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TriggerSmartContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.TriggerSmartContract.prototype.getContractAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.TriggerSmartContract.prototype.getContractAddress_asB64=function(){return e.Message.bytesAsB64(this.getContractAddress())},TronWebProto.TriggerSmartContract.prototype.getContractAddress_asU8=function(){return e.Message.bytesAsU8(this.getContractAddress())},TronWebProto.TriggerSmartContract.prototype.setContractAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.TriggerSmartContract.prototype.getCallValue=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.TriggerSmartContract.prototype.setCallValue=function(n){return e.Message.setProto3IntField(this,3,n)},TronWebProto.TriggerSmartContract.prototype.getData=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.TriggerSmartContract.prototype.getData_asB64=function(){return e.Message.bytesAsB64(this.getData())},TronWebProto.TriggerSmartContract.prototype.getData_asU8=function(){return e.Message.bytesAsU8(this.getData())},TronWebProto.TriggerSmartContract.prototype.setData=function(n){return e.Message.setProto3BytesField(this,4,n)},TronWebProto.TriggerSmartContract.prototype.getCallTokenValue=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.TriggerSmartContract.prototype.setCallTokenValue=function(n){return e.Message.setProto3IntField(this,5,n)},TronWebProto.TriggerSmartContract.prototype.getTokenId=function(){return e.Message.getFieldWithDefault(this,6,0)},TronWebProto.TriggerSmartContract.prototype.setTokenId=function(n){return e.Message.setProto3IntField(this,6,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ClearABIContract.prototype.toObject=function(n){return TronWebProto.ClearABIContract.toObject(n,this)},TronWebProto.ClearABIContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),contractAddress:s.getContractAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.ClearABIContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.ClearABIContract;return TronWebProto.ClearABIContract.deserializeBinaryFromReader(a,s)},TronWebProto.ClearABIContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readBytes();n.setContractAddress(c);break;default:s.skipField();break}}return n},TronWebProto.ClearABIContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.ClearABIContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.ClearABIContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getContractAddress_asU8(),a.length>0&&s.writeBytes(2,a)},TronWebProto.ClearABIContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ClearABIContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ClearABIContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ClearABIContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.ClearABIContract.prototype.getContractAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.ClearABIContract.prototype.getContractAddress_asB64=function(){return e.Message.bytesAsB64(this.getContractAddress())},TronWebProto.ClearABIContract.prototype.getContractAddress_asU8=function(){return e.Message.bytesAsU8(this.getContractAddress())},TronWebProto.ClearABIContract.prototype.setContractAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateSettingContract.prototype.toObject=function(n){return TronWebProto.UpdateSettingContract.toObject(n,this)},TronWebProto.UpdateSettingContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),contractAddress:s.getContractAddress_asB64(),consumeUserResourcePercent:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.UpdateSettingContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.UpdateSettingContract;return TronWebProto.UpdateSettingContract.deserializeBinaryFromReader(a,s)},TronWebProto.UpdateSettingContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readBytes();n.setContractAddress(c);break;case 3:var c=s.readInt64();n.setConsumeUserResourcePercent(c);break;default:s.skipField();break}}return n},TronWebProto.UpdateSettingContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.UpdateSettingContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.UpdateSettingContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getContractAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getConsumeUserResourcePercent(),a!==0&&s.writeInt64(3,a)},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateSettingContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.UpdateSettingContract.prototype.getContractAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateSettingContract.prototype.getContractAddress_asB64=function(){return e.Message.bytesAsB64(this.getContractAddress())},TronWebProto.UpdateSettingContract.prototype.getContractAddress_asU8=function(){return e.Message.bytesAsU8(this.getContractAddress())},TronWebProto.UpdateSettingContract.prototype.setContractAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.UpdateSettingContract.prototype.getConsumeUserResourcePercent=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.UpdateSettingContract.prototype.setConsumeUserResourcePercent=function(n){return e.Message.setProto3IntField(this,3,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateEnergyLimitContract.prototype.toObject=function(n){return TronWebProto.UpdateEnergyLimitContract.toObject(n,this)},TronWebProto.UpdateEnergyLimitContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),contractAddress:s.getContractAddress_asB64(),originEnergyLimit:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.UpdateEnergyLimitContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.UpdateEnergyLimitContract;return TronWebProto.UpdateEnergyLimitContract.deserializeBinaryFromReader(a,s)},TronWebProto.UpdateEnergyLimitContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readBytes();n.setContractAddress(c);break;case 3:var c=s.readInt64();n.setOriginEnergyLimit(c);break;default:s.skipField();break}}return n},TronWebProto.UpdateEnergyLimitContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.UpdateEnergyLimitContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.UpdateEnergyLimitContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getContractAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getOriginEnergyLimit(),a!==0&&s.writeInt64(3,a)},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress_asB64=function(){return e.Message.bytesAsB64(this.getContractAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress_asU8=function(){return e.Message.bytesAsU8(this.getContractAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.setContractAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.UpdateEnergyLimitContract.prototype.getOriginEnergyLimit=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.UpdateEnergyLimitContract.prototype.setOriginEnergyLimit=function(n){return e.Message.setProto3IntField(this,3,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContractDataWrapper.prototype.toObject=function(n){return TronWebProto.SmartContractDataWrapper.toObject(n,this)},TronWebProto.SmartContractDataWrapper.toObject=function(n,s){var a,c={smartContract:(a=s.getSmartContract())&&TronWebProto.SmartContract.toObject(n,a),runtimecode:s.getRuntimecode_asB64(),contractState:(a=s.getContractState())&&TronWebProto.ContractState.toObject(n,a)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.SmartContractDataWrapper.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.SmartContractDataWrapper;return TronWebProto.SmartContractDataWrapper.deserializeBinaryFromReader(a,s)},TronWebProto.SmartContractDataWrapper.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=new TronWebProto.SmartContract;s.readMessage(c,TronWebProto.SmartContract.deserializeBinaryFromReader),n.setSmartContract(c);break;case 2:var c=s.readBytes();n.setRuntimecode(c);break;case 3:var c=new TronWebProto.ContractState;s.readMessage(c,TronWebProto.ContractState.deserializeBinaryFromReader),n.setContractState(c);break;default:s.skipField();break}}return n},TronWebProto.SmartContractDataWrapper.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.SmartContractDataWrapper.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.SmartContractDataWrapper.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getSmartContract(),a!=null&&s.writeMessage(1,a,TronWebProto.SmartContract.serializeBinaryToWriter),a=n.getRuntimecode_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getContractState(),a!=null&&s.writeMessage(3,a,TronWebProto.ContractState.serializeBinaryToWriter)},TronWebProto.SmartContractDataWrapper.prototype.getSmartContract=function(){return e.Message.getWrapperField(this,TronWebProto.SmartContract,1)},TronWebProto.SmartContractDataWrapper.prototype.setSmartContract=function(n){return e.Message.setWrapperField(this,1,n)},TronWebProto.SmartContractDataWrapper.prototype.clearSmartContract=function(){return this.setSmartContract(void 0)},TronWebProto.SmartContractDataWrapper.prototype.hasSmartContract=function(){return e.Message.getField(this,1)!=null},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode_asB64=function(){return e.Message.bytesAsB64(this.getRuntimecode())},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode_asU8=function(){return e.Message.bytesAsU8(this.getRuntimecode())},TronWebProto.SmartContractDataWrapper.prototype.setRuntimecode=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.SmartContractDataWrapper.prototype.getContractState=function(){return e.Message.getWrapperField(this,TronWebProto.ContractState,3)},TronWebProto.SmartContractDataWrapper.prototype.setContractState=function(n){return e.Message.setWrapperField(this,3,n)},TronWebProto.SmartContractDataWrapper.prototype.clearContractState=function(){return this.setContractState(void 0)},TronWebProto.SmartContractDataWrapper.prototype.hasContractState=function(){return e.Message.getField(this,3)!=null},t.object.extend(r,TronWebProto)}(w0)),w0}o9();A4();var m0={},U2;function i9(){return U2||(U2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("TronWebProto.VoteWitnessContract",null,o),t.exportSymbol("TronWebProto.VoteWitnessContract.Vote",null,o),t.exportSymbol("TronWebProto.WitnessCreateContract",null,o),t.exportSymbol("TronWebProto.WitnessUpdateContract",null,o),TronWebProto.WitnessCreateContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.WitnessCreateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.WitnessCreateContract.displayName="TronWebProto.WitnessCreateContract"),TronWebProto.WitnessUpdateContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.WitnessUpdateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.WitnessUpdateContract.displayName="TronWebProto.WitnessUpdateContract"),TronWebProto.VoteWitnessContract=function(i){e.Message.initialize(this,i,0,-1,TronWebProto.VoteWitnessContract.repeatedFields_,null)},t.inherits(TronWebProto.VoteWitnessContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.VoteWitnessContract.displayName="TronWebProto.VoteWitnessContract"),TronWebProto.VoteWitnessContract.Vote=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.VoteWitnessContract.Vote,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.VoteWitnessContract.Vote.displayName="TronWebProto.VoteWitnessContract.Vote"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.WitnessCreateContract.prototype.toObject=function(i){return TronWebProto.WitnessCreateContract.toObject(i,this)},TronWebProto.WitnessCreateContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),url:n.getUrl_asB64()};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.WitnessCreateContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.WitnessCreateContract;return TronWebProto.WitnessCreateContract.deserializeBinaryFromReader(s,n)},TronWebProto.WitnessCreateContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readBytes();i.setUrl(a);break;default:n.skipField();break}}return i},TronWebProto.WitnessCreateContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.WitnessCreateContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.WitnessCreateContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getUrl_asU8(),s.length>0&&n.writeBytes(2,s)},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WitnessCreateContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.WitnessCreateContract.prototype.getUrl=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.WitnessCreateContract.prototype.getUrl_asB64=function(){return e.Message.bytesAsB64(this.getUrl())},TronWebProto.WitnessCreateContract.prototype.getUrl_asU8=function(){return e.Message.bytesAsU8(this.getUrl())},TronWebProto.WitnessCreateContract.prototype.setUrl=function(i){return e.Message.setProto3BytesField(this,2,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.WitnessUpdateContract.prototype.toObject=function(i){return TronWebProto.WitnessUpdateContract.toObject(i,this)},TronWebProto.WitnessUpdateContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),updateUrl:n.getUpdateUrl_asB64()};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.WitnessUpdateContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.WitnessUpdateContract;return TronWebProto.WitnessUpdateContract.deserializeBinaryFromReader(s,n)},TronWebProto.WitnessUpdateContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 12:var a=n.readBytes();i.setUpdateUrl(a);break;default:n.skipField();break}}return i},TronWebProto.WitnessUpdateContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.WitnessUpdateContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.WitnessUpdateContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getUpdateUrl_asU8(),s.length>0&&n.writeBytes(12,s)},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WitnessUpdateContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl=function(){return e.Message.getFieldWithDefault(this,12,"")},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl_asB64=function(){return e.Message.bytesAsB64(this.getUpdateUrl())},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl_asU8=function(){return e.Message.bytesAsU8(this.getUpdateUrl())},TronWebProto.WitnessUpdateContract.prototype.setUpdateUrl=function(i){return e.Message.setProto3BytesField(this,12,i)},TronWebProto.VoteWitnessContract.repeatedFields_=[2],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.VoteWitnessContract.prototype.toObject=function(i){return TronWebProto.VoteWitnessContract.toObject(i,this)},TronWebProto.VoteWitnessContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),votesList:e.Message.toObjectList(n.getVotesList(),TronWebProto.VoteWitnessContract.Vote.toObject,i),support:e.Message.getBooleanFieldWithDefault(n,3,!1)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.VoteWitnessContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.VoteWitnessContract;return TronWebProto.VoteWitnessContract.deserializeBinaryFromReader(s,n)},TronWebProto.VoteWitnessContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=new TronWebProto.VoteWitnessContract.Vote;n.readMessage(a,TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader),i.addVotes(a);break;case 3:var a=n.readBool();i.setSupport(a);break;default:n.skipField();break}}return i},TronWebProto.VoteWitnessContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.VoteWitnessContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.VoteWitnessContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getVotesList(),s.length>0&&n.writeRepeatedMessage(2,s,TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter),s=i.getSupport(),s&&n.writeBool(3,s)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.VoteWitnessContract.Vote.prototype.toObject=function(i){return TronWebProto.VoteWitnessContract.Vote.toObject(i,this)},TronWebProto.VoteWitnessContract.Vote.toObject=function(i,n){var s={voteAddress:n.getVoteAddress_asB64(),voteCount:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.VoteWitnessContract.Vote.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.VoteWitnessContract.Vote;return TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader(s,n)},TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setVoteAddress(a);break;case 2:var a=n.readInt64();i.setVoteCount(a);break;default:n.skipField();break}}return i},TronWebProto.VoteWitnessContract.Vote.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getVoteAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getVoteCount(),s!==0&&n.writeInt64(2,s)},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress_asB64=function(){return e.Message.bytesAsB64(this.getVoteAddress())},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress_asU8=function(){return e.Message.bytesAsU8(this.getVoteAddress())},TronWebProto.VoteWitnessContract.Vote.prototype.setVoteAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteCount=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.VoteWitnessContract.Vote.prototype.setVoteCount=function(i){return e.Message.setProto3IntField(this,2,i)},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.VoteWitnessContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.VoteWitnessContract.prototype.getVotesList=function(){return e.Message.getRepeatedWrapperField(this,TronWebProto.VoteWitnessContract.Vote,2)},TronWebProto.VoteWitnessContract.prototype.setVotesList=function(i){return e.Message.setRepeatedWrapperField(this,2,i)},TronWebProto.VoteWitnessContract.prototype.addVotes=function(i,n){return e.Message.addToRepeatedWrapperField(this,2,i,TronWebProto.VoteWitnessContract.Vote,n)},TronWebProto.VoteWitnessContract.prototype.clearVotesList=function(){return this.setVotesList([])},TronWebProto.VoteWitnessContract.prototype.getSupport=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},TronWebProto.VoteWitnessContract.prototype.setSupport=function(i){return e.Message.setProto3BooleanField(this,3,i)},t.object.extend(r,TronWebProto)}(m0)),m0}i9();var x0={},k2;function s9(){return k2||(k2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("TronWebProto.BuyStorageBytesContract",null,o),t.exportSymbol("TronWebProto.BuyStorageContract",null,o),t.exportSymbol("TronWebProto.SellStorageContract",null,o),t.exportSymbol("TronWebProto.UpdateBrokerageContract",null,o),TronWebProto.BuyStorageBytesContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.BuyStorageBytesContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.BuyStorageBytesContract.displayName="TronWebProto.BuyStorageBytesContract"),TronWebProto.BuyStorageContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.BuyStorageContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.BuyStorageContract.displayName="TronWebProto.BuyStorageContract"),TronWebProto.SellStorageContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.SellStorageContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SellStorageContract.displayName="TronWebProto.SellStorageContract"),TronWebProto.UpdateBrokerageContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.UpdateBrokerageContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.UpdateBrokerageContract.displayName="TronWebProto.UpdateBrokerageContract"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.BuyStorageBytesContract.prototype.toObject=function(i){return TronWebProto.BuyStorageBytesContract.toObject(i,this)},TronWebProto.BuyStorageBytesContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),bytes:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.BuyStorageBytesContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.BuyStorageBytesContract;return TronWebProto.BuyStorageBytesContract.deserializeBinaryFromReader(s,n)},TronWebProto.BuyStorageBytesContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setBytes(a);break;default:n.skipField();break}}return i},TronWebProto.BuyStorageBytesContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.BuyStorageBytesContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.BuyStorageBytesContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getBytes(),s!==0&&n.writeInt64(2,s)},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.BuyStorageBytesContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.BuyStorageBytesContract.prototype.getBytes=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.BuyStorageBytesContract.prototype.setBytes=function(i){return e.Message.setProto3IntField(this,2,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.BuyStorageContract.prototype.toObject=function(i){return TronWebProto.BuyStorageContract.toObject(i,this)},TronWebProto.BuyStorageContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),quant:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.BuyStorageContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.BuyStorageContract;return TronWebProto.BuyStorageContract.deserializeBinaryFromReader(s,n)},TronWebProto.BuyStorageContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setQuant(a);break;default:n.skipField();break}}return i},TronWebProto.BuyStorageContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.BuyStorageContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.BuyStorageContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getQuant(),s!==0&&n.writeInt64(2,s)},TronWebProto.BuyStorageContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.BuyStorageContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.BuyStorageContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.BuyStorageContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.BuyStorageContract.prototype.getQuant=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.BuyStorageContract.prototype.setQuant=function(i){return e.Message.setProto3IntField(this,2,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SellStorageContract.prototype.toObject=function(i){return TronWebProto.SellStorageContract.toObject(i,this)},TronWebProto.SellStorageContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),storageBytes:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.SellStorageContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.SellStorageContract;return TronWebProto.SellStorageContract.deserializeBinaryFromReader(s,n)},TronWebProto.SellStorageContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setStorageBytes(a);break;default:n.skipField();break}}return i},TronWebProto.SellStorageContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.SellStorageContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.SellStorageContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getStorageBytes(),s!==0&&n.writeInt64(2,s)},TronWebProto.SellStorageContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.SellStorageContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.SellStorageContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.SellStorageContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.SellStorageContract.prototype.getStorageBytes=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.SellStorageContract.prototype.setStorageBytes=function(i){return e.Message.setProto3IntField(this,2,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateBrokerageContract.prototype.toObject=function(i){return TronWebProto.UpdateBrokerageContract.toObject(i,this)},TronWebProto.UpdateBrokerageContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),brokerage:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.UpdateBrokerageContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.UpdateBrokerageContract;return TronWebProto.UpdateBrokerageContract.deserializeBinaryFromReader(s,n)},TronWebProto.UpdateBrokerageContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt32();i.setBrokerage(a);break;default:n.skipField();break}}return i},TronWebProto.UpdateBrokerageContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.UpdateBrokerageContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.UpdateBrokerageContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getBrokerage(),s!==0&&n.writeInt32(2,s)},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateBrokerageContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.UpdateBrokerageContract.prototype.getBrokerage=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.UpdateBrokerageContract.prototype.setBrokerage=function(i){return e.Message.setProto3IntField(this,2,i)},t.object.extend(r,TronWebProto)}(x0)),x0}s9();var v0={},D2;function a9(){return D2||(D2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),i=_b();t.object.extend(proto,i),t.exportSymbol("TronWebProto.AccountCreateContract",null,o),t.exportSymbol("TronWebProto.AccountPermissionUpdateContract",null,o),t.exportSymbol("TronWebProto.AccountUpdateContract",null,o),t.exportSymbol("TronWebProto.SetAccountIdContract",null,o),TronWebProto.AccountCreateContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountCreateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountCreateContract.displayName="TronWebProto.AccountCreateContract"),TronWebProto.AccountUpdateContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.AccountUpdateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountUpdateContract.displayName="TronWebProto.AccountUpdateContract"),TronWebProto.SetAccountIdContract=function(n){e.Message.initialize(this,n,0,-1,null,null)},t.inherits(TronWebProto.SetAccountIdContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.SetAccountIdContract.displayName="TronWebProto.SetAccountIdContract"),TronWebProto.AccountPermissionUpdateContract=function(n){e.Message.initialize(this,n,0,-1,TronWebProto.AccountPermissionUpdateContract.repeatedFields_,null)},t.inherits(TronWebProto.AccountPermissionUpdateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.AccountPermissionUpdateContract.displayName="TronWebProto.AccountPermissionUpdateContract"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountCreateContract.prototype.toObject=function(n){return TronWebProto.AccountCreateContract.toObject(n,this)},TronWebProto.AccountCreateContract.toObject=function(n,s){var a={ownerAddress:s.getOwnerAddress_asB64(),accountAddress:s.getAccountAddress_asB64(),type:e.Message.getFieldWithDefault(s,3,0)};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.AccountCreateContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountCreateContract;return TronWebProto.AccountCreateContract.deserializeBinaryFromReader(a,s)},TronWebProto.AccountCreateContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=s.readBytes();n.setAccountAddress(c);break;case 3:var c=s.readEnum();n.setType(c);break;default:s.skipField();break}}return n},TronWebProto.AccountCreateContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountCreateContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountCreateContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getAccountAddress_asU8(),a.length>0&&s.writeBytes(2,a),a=n.getType(),a!==0&&s.writeEnum(3,a)},TronWebProto.AccountCreateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountCreateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountCreateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountCreateContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.AccountCreateContract.prototype.getAccountAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountCreateContract.prototype.getAccountAddress_asB64=function(){return e.Message.bytesAsB64(this.getAccountAddress())},TronWebProto.AccountCreateContract.prototype.getAccountAddress_asU8=function(){return e.Message.bytesAsU8(this.getAccountAddress())},TronWebProto.AccountCreateContract.prototype.setAccountAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.AccountCreateContract.prototype.getType=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.AccountCreateContract.prototype.setType=function(n){return e.Message.setProto3EnumField(this,3,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountUpdateContract.prototype.toObject=function(n){return TronWebProto.AccountUpdateContract.toObject(n,this)},TronWebProto.AccountUpdateContract.toObject=function(n,s){var a={accountName:s.getAccountName_asB64(),ownerAddress:s.getOwnerAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.AccountUpdateContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountUpdateContract;return TronWebProto.AccountUpdateContract.deserializeBinaryFromReader(a,s)},TronWebProto.AccountUpdateContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAccountName(c);break;case 2:var c=s.readBytes();n.setOwnerAddress(c);break;default:s.skipField();break}}return n},TronWebProto.AccountUpdateContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountUpdateContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountUpdateContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAccountName_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(2,a)},TronWebProto.AccountUpdateContract.prototype.getAccountName=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountUpdateContract.prototype.getAccountName_asB64=function(){return e.Message.bytesAsB64(this.getAccountName())},TronWebProto.AccountUpdateContract.prototype.getAccountName_asU8=function(){return e.Message.bytesAsU8(this.getAccountName())},TronWebProto.AccountUpdateContract.prototype.setAccountName=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountUpdateContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.SetAccountIdContract.prototype.toObject=function(n){return TronWebProto.SetAccountIdContract.toObject(n,this)},TronWebProto.SetAccountIdContract.toObject=function(n,s){var a={accountId:s.getAccountId_asB64(),ownerAddress:s.getOwnerAddress_asB64()};return n&&(a.$jspbMessageInstance=s),a}),TronWebProto.SetAccountIdContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.SetAccountIdContract;return TronWebProto.SetAccountIdContract.deserializeBinaryFromReader(a,s)},TronWebProto.SetAccountIdContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setAccountId(c);break;case 2:var c=s.readBytes();n.setOwnerAddress(c);break;default:s.skipField();break}}return n},TronWebProto.SetAccountIdContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.SetAccountIdContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.SetAccountIdContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getAccountId_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(2,a)},TronWebProto.SetAccountIdContract.prototype.getAccountId=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.SetAccountIdContract.prototype.getAccountId_asB64=function(){return e.Message.bytesAsB64(this.getAccountId())},TronWebProto.SetAccountIdContract.prototype.getAccountId_asU8=function(){return e.Message.bytesAsU8(this.getAccountId())},TronWebProto.SetAccountIdContract.prototype.setAccountId=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.SetAccountIdContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,2,n)},TronWebProto.AccountPermissionUpdateContract.repeatedFields_=[4],e.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountPermissionUpdateContract.prototype.toObject=function(n){return TronWebProto.AccountPermissionUpdateContract.toObject(n,this)},TronWebProto.AccountPermissionUpdateContract.toObject=function(n,s){var a,c={ownerAddress:s.getOwnerAddress_asB64(),owner:(a=s.getOwner())&&i.Permission.toObject(n,a),witness:(a=s.getWitness())&&i.Permission.toObject(n,a),activesList:e.Message.toObjectList(s.getActivesList(),i.Permission.toObject,n)};return n&&(c.$jspbMessageInstance=s),c}),TronWebProto.AccountPermissionUpdateContract.deserializeBinary=function(n){var s=new e.BinaryReader(n),a=new TronWebProto.AccountPermissionUpdateContract;return TronWebProto.AccountPermissionUpdateContract.deserializeBinaryFromReader(a,s)},TronWebProto.AccountPermissionUpdateContract.deserializeBinaryFromReader=function(n,s){for(;s.nextField()&&!s.isEndGroup();){var a=s.getFieldNumber();switch(a){case 1:var c=s.readBytes();n.setOwnerAddress(c);break;case 2:var c=new i.Permission;s.readMessage(c,i.Permission.deserializeBinaryFromReader),n.setOwner(c);break;case 3:var c=new i.Permission;s.readMessage(c,i.Permission.deserializeBinaryFromReader),n.setWitness(c);break;case 4:var c=new i.Permission;s.readMessage(c,i.Permission.deserializeBinaryFromReader),n.addActives(c);break;default:s.skipField();break}}return n},TronWebProto.AccountPermissionUpdateContract.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return TronWebProto.AccountPermissionUpdateContract.serializeBinaryToWriter(this,n),n.getResultBuffer()},TronWebProto.AccountPermissionUpdateContract.serializeBinaryToWriter=function(n,s){var a=void 0;a=n.getOwnerAddress_asU8(),a.length>0&&s.writeBytes(1,a),a=n.getOwner(),a!=null&&s.writeMessage(2,a,i.Permission.serializeBinaryToWriter),a=n.getWitness(),a!=null&&s.writeMessage(3,a,i.Permission.serializeBinaryToWriter),a=n.getActivesList(),a.length>0&&s.writeRepeatedMessage(4,a,i.Permission.serializeBinaryToWriter)},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountPermissionUpdateContract.prototype.setOwnerAddress=function(n){return e.Message.setProto3BytesField(this,1,n)},TronWebProto.AccountPermissionUpdateContract.prototype.getOwner=function(){return e.Message.getWrapperField(this,i.Permission,2)},TronWebProto.AccountPermissionUpdateContract.prototype.setOwner=function(n){return e.Message.setWrapperField(this,2,n)},TronWebProto.AccountPermissionUpdateContract.prototype.clearOwner=function(){return this.setOwner(void 0)},TronWebProto.AccountPermissionUpdateContract.prototype.hasOwner=function(){return e.Message.getField(this,2)!=null},TronWebProto.AccountPermissionUpdateContract.prototype.getWitness=function(){return e.Message.getWrapperField(this,i.Permission,3)},TronWebProto.AccountPermissionUpdateContract.prototype.setWitness=function(n){return e.Message.setWrapperField(this,3,n)},TronWebProto.AccountPermissionUpdateContract.prototype.clearWitness=function(){return this.setWitness(void 0)},TronWebProto.AccountPermissionUpdateContract.prototype.hasWitness=function(){return e.Message.getField(this,3)!=null},TronWebProto.AccountPermissionUpdateContract.prototype.getActivesList=function(){return e.Message.getRepeatedWrapperField(this,i.Permission,4)},TronWebProto.AccountPermissionUpdateContract.prototype.setActivesList=function(n){return e.Message.setRepeatedWrapperField(this,4,n)},TronWebProto.AccountPermissionUpdateContract.prototype.addActives=function(n,s){return e.Message.addToRepeatedWrapperField(this,4,n,TronWebProto.Permission,s)},TronWebProto.AccountPermissionUpdateContract.prototype.clearActivesList=function(){return this.setActivesList([])},t.object.extend(r,TronWebProto)}(v0)),v0}a9();var T0={},L2;function c9(){return L2||(L2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("TronWebProto.ProposalApproveContract",null,o),t.exportSymbol("TronWebProto.ProposalCreateContract",null,o),t.exportSymbol("TronWebProto.ProposalDeleteContract",null,o),TronWebProto.ProposalApproveContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ProposalApproveContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ProposalApproveContract.displayName="TronWebProto.ProposalApproveContract"),TronWebProto.ProposalCreateContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ProposalCreateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ProposalCreateContract.displayName="TronWebProto.ProposalCreateContract"),TronWebProto.ProposalDeleteContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ProposalDeleteContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ProposalDeleteContract.displayName="TronWebProto.ProposalDeleteContract"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalApproveContract.prototype.toObject=function(i){return TronWebProto.ProposalApproveContract.toObject(i,this)},TronWebProto.ProposalApproveContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),proposalId:e.Message.getFieldWithDefault(n,2,0),isAddApproval:e.Message.getBooleanFieldWithDefault(n,3,!1)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ProposalApproveContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ProposalApproveContract;return TronWebProto.ProposalApproveContract.deserializeBinaryFromReader(s,n)},TronWebProto.ProposalApproveContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setProposalId(a);break;case 3:var a=n.readBool();i.setIsAddApproval(a);break;default:n.skipField();break}}return i},TronWebProto.ProposalApproveContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ProposalApproveContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ProposalApproveContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getProposalId(),s!==0&&n.writeInt64(2,s),s=i.getIsAddApproval(),s&&n.writeBool(3,s)},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalApproveContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ProposalApproveContract.prototype.getProposalId=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.ProposalApproveContract.prototype.setProposalId=function(i){return e.Message.setProto3IntField(this,2,i)},TronWebProto.ProposalApproveContract.prototype.getIsAddApproval=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},TronWebProto.ProposalApproveContract.prototype.setIsAddApproval=function(i){return e.Message.setProto3BooleanField(this,3,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalCreateContract.prototype.toObject=function(i){return TronWebProto.ProposalCreateContract.toObject(i,this)},TronWebProto.ProposalCreateContract.toObject=function(i,n){var s,a={ownerAddress:n.getOwnerAddress_asB64(),parametersMap:(s=n.getParametersMap())?s.toObject(i,void 0):[]};return i&&(a.$jspbMessageInstance=n),a}),TronWebProto.ProposalCreateContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ProposalCreateContract;return TronWebProto.ProposalCreateContract.deserializeBinaryFromReader(s,n)},TronWebProto.ProposalCreateContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=i.getParametersMap();n.readMessage(a,function(c,u){e.Map.deserializeBinary(c,u,e.BinaryReader.prototype.readInt64,e.BinaryReader.prototype.readInt64,null,0,0)});break;default:n.skipField();break}}return i},TronWebProto.ProposalCreateContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ProposalCreateContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ProposalCreateContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getParametersMap(!0),s&&s.getLength()>0&&s.serializeBinary(2,n,e.BinaryWriter.prototype.writeInt64,e.BinaryWriter.prototype.writeInt64)},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalCreateContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ProposalCreateContract.prototype.getParametersMap=function(i){return e.Message.getMapField(this,2,i,null)},TronWebProto.ProposalCreateContract.prototype.clearParametersMap=function(){return this.getParametersMap().clear(),this},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalDeleteContract.prototype.toObject=function(i){return TronWebProto.ProposalDeleteContract.toObject(i,this)},TronWebProto.ProposalDeleteContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),proposalId:e.Message.getFieldWithDefault(n,2,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ProposalDeleteContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ProposalDeleteContract;return TronWebProto.ProposalDeleteContract.deserializeBinaryFromReader(s,n)},TronWebProto.ProposalDeleteContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setProposalId(a);break;default:n.skipField();break}}return i},TronWebProto.ProposalDeleteContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ProposalDeleteContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ProposalDeleteContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getProposalId(),s!==0&&n.writeInt64(2,s)},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalDeleteContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ProposalDeleteContract.prototype.getProposalId=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.ProposalDeleteContract.prototype.setProposalId=function(i){return e.Message.setProto3IntField(this,2,i)},t.object.extend(r,TronWebProto)}(T0)),T0}c9();var A0={},z2;function u9(){return z2||(z2=1,function(r){var e=io(),t=e,o=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof o<"u"&&o||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();t.exportSymbol("TronWebProto.ExchangeCreateContract",null,o),t.exportSymbol("TronWebProto.ExchangeInjectContract",null,o),t.exportSymbol("TronWebProto.ExchangeTransactionContract",null,o),t.exportSymbol("TronWebProto.ExchangeWithdrawContract",null,o),TronWebProto.ExchangeCreateContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ExchangeCreateContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ExchangeCreateContract.displayName="TronWebProto.ExchangeCreateContract"),TronWebProto.ExchangeInjectContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ExchangeInjectContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ExchangeInjectContract.displayName="TronWebProto.ExchangeInjectContract"),TronWebProto.ExchangeWithdrawContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ExchangeWithdrawContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ExchangeWithdrawContract.displayName="TronWebProto.ExchangeWithdrawContract"),TronWebProto.ExchangeTransactionContract=function(i){e.Message.initialize(this,i,0,-1,null,null)},t.inherits(TronWebProto.ExchangeTransactionContract,e.Message),t.DEBUG&&!COMPILED&&(TronWebProto.ExchangeTransactionContract.displayName="TronWebProto.ExchangeTransactionContract"),e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeCreateContract.prototype.toObject=function(i){return TronWebProto.ExchangeCreateContract.toObject(i,this)},TronWebProto.ExchangeCreateContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),firstTokenId:n.getFirstTokenId_asB64(),firstTokenBalance:e.Message.getFieldWithDefault(n,3,0),secondTokenId:n.getSecondTokenId_asB64(),secondTokenBalance:e.Message.getFieldWithDefault(n,5,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ExchangeCreateContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ExchangeCreateContract;return TronWebProto.ExchangeCreateContract.deserializeBinaryFromReader(s,n)},TronWebProto.ExchangeCreateContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readBytes();i.setFirstTokenId(a);break;case 3:var a=n.readInt64();i.setFirstTokenBalance(a);break;case 4:var a=n.readBytes();i.setSecondTokenId(a);break;case 5:var a=n.readInt64();i.setSecondTokenBalance(a);break;default:n.skipField();break}}return i},TronWebProto.ExchangeCreateContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ExchangeCreateContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ExchangeCreateContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getFirstTokenId_asU8(),s.length>0&&n.writeBytes(2,s),s=i.getFirstTokenBalance(),s!==0&&n.writeInt64(3,s),s=i.getSecondTokenId_asU8(),s.length>0&&n.writeBytes(4,s),s=i.getSecondTokenBalance(),s!==0&&n.writeInt64(5,s)},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeCreateContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId=function(){return e.Message.getFieldWithDefault(this,2,"")},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId_asB64=function(){return e.Message.bytesAsB64(this.getFirstTokenId())},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId_asU8=function(){return e.Message.bytesAsU8(this.getFirstTokenId())},TronWebProto.ExchangeCreateContract.prototype.setFirstTokenId=function(i){return e.Message.setProto3BytesField(this,2,i)},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenBalance=function(){return e.Message.getFieldWithDefault(this,3,0)},TronWebProto.ExchangeCreateContract.prototype.setFirstTokenBalance=function(i){return e.Message.setProto3IntField(this,3,i)},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId=function(){return e.Message.getFieldWithDefault(this,4,"")},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId_asB64=function(){return e.Message.bytesAsB64(this.getSecondTokenId())},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId_asU8=function(){return e.Message.bytesAsU8(this.getSecondTokenId())},TronWebProto.ExchangeCreateContract.prototype.setSecondTokenId=function(i){return e.Message.setProto3BytesField(this,4,i)},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenBalance=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.ExchangeCreateContract.prototype.setSecondTokenBalance=function(i){return e.Message.setProto3IntField(this,5,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeInjectContract.prototype.toObject=function(i){return TronWebProto.ExchangeInjectContract.toObject(i,this)},TronWebProto.ExchangeInjectContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),exchangeId:e.Message.getFieldWithDefault(n,2,0),tokenId:n.getTokenId_asB64(),quant:e.Message.getFieldWithDefault(n,4,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ExchangeInjectContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ExchangeInjectContract;return TronWebProto.ExchangeInjectContract.deserializeBinaryFromReader(s,n)},TronWebProto.ExchangeInjectContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setExchangeId(a);break;case 3:var a=n.readBytes();i.setTokenId(a);break;case 4:var a=n.readInt64();i.setQuant(a);break;default:n.skipField();break}}return i},TronWebProto.ExchangeInjectContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ExchangeInjectContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ExchangeInjectContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getExchangeId(),s!==0&&n.writeInt64(2,s),s=i.getTokenId_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getQuant(),s!==0&&n.writeInt64(4,s)},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeInjectContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ExchangeInjectContract.prototype.getExchangeId=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeInjectContract.prototype.setExchangeId=function(i){return e.Message.setProto3IntField(this,2,i)},TronWebProto.ExchangeInjectContract.prototype.getTokenId=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeInjectContract.prototype.getTokenId_asB64=function(){return e.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeInjectContract.prototype.getTokenId_asU8=function(){return e.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeInjectContract.prototype.setTokenId=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.ExchangeInjectContract.prototype.getQuant=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeInjectContract.prototype.setQuant=function(i){return e.Message.setProto3IntField(this,4,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeWithdrawContract.prototype.toObject=function(i){return TronWebProto.ExchangeWithdrawContract.toObject(i,this)},TronWebProto.ExchangeWithdrawContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),exchangeId:e.Message.getFieldWithDefault(n,2,0),tokenId:n.getTokenId_asB64(),quant:e.Message.getFieldWithDefault(n,4,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ExchangeWithdrawContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ExchangeWithdrawContract;return TronWebProto.ExchangeWithdrawContract.deserializeBinaryFromReader(s,n)},TronWebProto.ExchangeWithdrawContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setExchangeId(a);break;case 3:var a=n.readBytes();i.setTokenId(a);break;case 4:var a=n.readInt64();i.setQuant(a);break;default:n.skipField();break}}return i},TronWebProto.ExchangeWithdrawContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ExchangeWithdrawContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ExchangeWithdrawContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getExchangeId(),s!==0&&n.writeInt64(2,s),s=i.getTokenId_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getQuant(),s!==0&&n.writeInt64(4,s)},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeWithdrawContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ExchangeWithdrawContract.prototype.getExchangeId=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeWithdrawContract.prototype.setExchangeId=function(i){return e.Message.setProto3IntField(this,2,i)},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId_asB64=function(){return e.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId_asU8=function(){return e.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeWithdrawContract.prototype.setTokenId=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.ExchangeWithdrawContract.prototype.getQuant=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeWithdrawContract.prototype.setQuant=function(i){return e.Message.setProto3IntField(this,4,i)},e.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeTransactionContract.prototype.toObject=function(i){return TronWebProto.ExchangeTransactionContract.toObject(i,this)},TronWebProto.ExchangeTransactionContract.toObject=function(i,n){var s={ownerAddress:n.getOwnerAddress_asB64(),exchangeId:e.Message.getFieldWithDefault(n,2,0),tokenId:n.getTokenId_asB64(),quant:e.Message.getFieldWithDefault(n,4,0),expected:e.Message.getFieldWithDefault(n,5,0)};return i&&(s.$jspbMessageInstance=n),s}),TronWebProto.ExchangeTransactionContract.deserializeBinary=function(i){var n=new e.BinaryReader(i),s=new TronWebProto.ExchangeTransactionContract;return TronWebProto.ExchangeTransactionContract.deserializeBinaryFromReader(s,n)},TronWebProto.ExchangeTransactionContract.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();){var s=n.getFieldNumber();switch(s){case 1:var a=n.readBytes();i.setOwnerAddress(a);break;case 2:var a=n.readInt64();i.setExchangeId(a);break;case 3:var a=n.readBytes();i.setTokenId(a);break;case 4:var a=n.readInt64();i.setQuant(a);break;case 5:var a=n.readInt64();i.setExpected(a);break;default:n.skipField();break}}return i},TronWebProto.ExchangeTransactionContract.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return TronWebProto.ExchangeTransactionContract.serializeBinaryToWriter(this,i),i.getResultBuffer()},TronWebProto.ExchangeTransactionContract.serializeBinaryToWriter=function(i,n){var s=void 0;s=i.getOwnerAddress_asU8(),s.length>0&&n.writeBytes(1,s),s=i.getExchangeId(),s!==0&&n.writeInt64(2,s),s=i.getTokenId_asU8(),s.length>0&&n.writeBytes(3,s),s=i.getQuant(),s!==0&&n.writeInt64(4,s),s=i.getExpected(),s!==0&&n.writeInt64(5,s)},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress=function(){return e.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress_asB64=function(){return e.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress_asU8=function(){return e.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeTransactionContract.prototype.setOwnerAddress=function(i){return e.Message.setProto3BytesField(this,1,i)},TronWebProto.ExchangeTransactionContract.prototype.getExchangeId=function(){return e.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeTransactionContract.prototype.setExchangeId=function(i){return e.Message.setProto3IntField(this,2,i)},TronWebProto.ExchangeTransactionContract.prototype.getTokenId=function(){return e.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeTransactionContract.prototype.getTokenId_asB64=function(){return e.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeTransactionContract.prototype.getTokenId_asU8=function(){return e.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeTransactionContract.prototype.setTokenId=function(i){return e.Message.setProto3BytesField(this,3,i)},TronWebProto.ExchangeTransactionContract.prototype.getQuant=function(){return e.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeTransactionContract.prototype.setQuant=function(i){return e.Message.setProto3IntField(this,4,i)},TronWebProto.ExchangeTransactionContract.prototype.getExpected=function(){return e.Message.getFieldWithDefault(this,5,0)},TronWebProto.ExchangeTransactionContract.prototype.setExpected=function(i){return e.Message.setProto3IntField(this,5,i)},t.object.extend(r,TronWebProto)}(A0)),A0}u9();const{Transaction:Je,Permission:l9,Key:f9}=globalThis.TronWebProto,{TransferContract:d9,FreezeBalanceContract:h9,UnfreezeBalanceContract:p9,WithdrawBalanceContract:g9,FreezeBalanceV2Contract:E4,UnfreezeBalanceV2Contract:P4,CancelAllUnfreezeV2Contract:I4,WithdrawExpireUnfreezeContract:B4,DelegateResourceContract:C4,UnDelegateResourceContract:_4}=globalThis.TronWebProto,{TransferAssetContract:y9,ParticipateAssetIssueContract:b9,AssetIssueContract:q2,UpdateAssetContract:w9}=globalThis.TronWebProto,{TriggerSmartContract:S4,ClearABIContract:m9,UpdateEnergyLimitContract:x9,UpdateSettingContract:v9,CreateSmartContract:T9,SmartContract:ua}=globalThis.TronWebProto,{ResourceCode:ic}=globalThis.TronWebProto,{WitnessCreateContract:A9,VoteWitnessContract:j2}=globalThis.TronWebProto,{UpdateBrokerageContract:E9}=globalThis.TronWebProto,{AccountCreateContract:P9,AccountUpdateContract:I9,SetAccountIdContract:B9,AccountPermissionUpdateContract:C9}=globalThis.TronWebProto,{ProposalCreateContract:_9,ProposalDeleteContract:S9,ProposalApproveContract:W9}=globalThis.TronWebProto,{ExchangeCreateContract:O9,ExchangeInjectContract:R9,ExchangeWithdrawContract:M9,ExchangeTransactionContract:N9}=globalThis.TronWebProto,ke=r=>!r||r.length===0?new Uint8Array([]):new Uint8Array(Be.address.toHex(r).match(/.{1,2}/g).map(e=>parseInt(e,16))),kt=r=>!r||r.length===0?new Uint8Array([]):new Uint8Array((Fs(r)?r:Be.toHex(r)).replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16))),_s=(r,e)=>kt(e?Be.fromUtf8(r).replace(/^0x/,""):r.replace(/^0x/,"")),$9=(r,e=!0)=>(e?"0x":"")+Qe(qe.from(r,"utf-8")).toString().substring(2),st=(r,e,t,o)=>{const i=new t9.Any;i.pack(r.serializeBinary(),"protocol."+t);const n=new Je.Contract;n.setType(e),n.setParameter(i),o&&n.setPermissionId(o);const s=new Je.raw;s.addContract(n);const a=new Je;return a.setRawData(s),a},F9=(r,e)=>{const{to_address:t,owner_address:o,amount:i}=r,n=new d9;return n.setToAddress(ke(t)),n.setOwnerAddress(ke(o)),n.setAmount(i),st(n,Je.Contract.ContractType.TRANSFERCONTRACT,"TransferContract",e.Permission_id)},U9=(r,e)=>{const{to_address:t,owner_address:o,amount:i,asset_name:n}=r,s=new y9;return s.setToAddress(ke(t)),s.setOwnerAddress(ke(o)),s.setAssetName(_s(n,e.visible)),s.setAmount(i),st(s,Je.Contract.ContractType.TRANSFERASSETCONTRACT,"TransferAssetContract",e.Permission_id)},k9=(r,e)=>{const t=new b9;return t.setToAddress(ke(r.to_address)),t.setOwnerAddress(ke(r.owner_address)),t.setAssetName(_s(r.asset_name,e.visible)),t.setAmount(r.amount),st(t,Je.Contract.ContractType.PARTICIPATEASSETISSUECONTRACT,"ParticipateAssetIssueContract",e.Permission_id)},D9=(r,e)=>{const t=new S4,{owner_address:o,contract_address:i,parameter:n="",function_selector:s,call_value:a,call_token_value:c,token_id:u,data:l}=r;if(t.setOwnerAddress(ke(o)),t.setContractAddress(ke(i)),t.setCallValue(a),l)t.setData(kt(l));else if(s){const d=$9(s).substring(2,10)+n;t.setData(kt(d))}return u&&t.setTokenId(u),c&&t.setCallTokenValue(c),st(t,Je.Contract.ContractType.TRIGGERSMARTCONTRACT,"TriggerSmartContract",e.Permission_id)},L9=(r,e)=>{const t=new h9,{owner_address:o,frozen_balance:i,frozen_duration:n,resource:s,receiver_address:a}=r;return t.setOwnerAddress(ke(o)),t.setFrozenBalance(i),t.setFrozenDuration(n),s&&t.setResource(ic[s]),a&&t.setReceiverAddress(ke(a)),st(t,Je.Contract.ContractType.FREEZEBALANCECONTRACT,"FreezeBalanceContract",e.Permission_id)},z9=(r,e)=>{const t=new p9,{owner_address:o,resource:i,receiver_address:n}=r;return t.setOwnerAddress(ke(o)),i&&t.setResource(ic[i]),n&&t.setReceiverAddress(ke(n)),st(t,Je.Contract.ContractType.UNFREEZEBALANCECONTRACT,"UnfreezeBalanceContract",e.Permission_id)},q9=(r,e)=>{const t=new g9,{owner_address:o}=r;return t.setOwnerAddress(ke(o)),st(t,Je.Contract.ContractType.WITHDRAWBALANCECONTRACT,"WithdrawBalanceContract",e.Permission_id)},j9=(r,e)=>{const t=new E4,{owner_address:o,frozen_balance:i,resource:n}=r;return t.setOwnerAddress(ke(o)),t.setFrozenBalance(i),t.setResource(ic[n]),st(t,Je.Contract.ContractType.FREEZEBALANCEV2CONTRACT,"FreezeBalanceV2Contract",e.Permission_id)},V9=(r,e)=>{const t=new I4,{owner_address:o}=r;return t.setOwnerAddress(ke(o)),st(t,Je.Contract.ContractType.CANCELALLUNFREEZEV2CONTRACT,"CancelAllUnfreezeV2Contract",e.Permission_id)},H9=(r,e)=>{const t=new P4,{owner_address:o,unfreeze_balance:i,resource:n}=r;return t.setOwnerAddress(ke(o)),t.setUnfreezeBalance(i),t.setResource(ic[n]),st(t,Je.Contract.ContractType.UNFREEZEBALANCEV2CONTRACT,"UnfreezeBalanceV2Contract",e.Permission_id)},G9=(r,e)=>{const t=new C4,{owner_address:o,receiver_address:i,balance:n,resource:s,lock:a=!1,lock_period:c}=r;return t.setOwnerAddress(ke(o)),t.setBalance(n),t.setResource(ic[s]),t.setLock(a),t.setLockPeriod(c),t.setReceiverAddress(ke(i)),st(t,Je.Contract.ContractType.DELEGATERESOURCECONTRACT,"DelegateResourceContract",e.Permission_id)},K9=(r,e)=>{const t=new _4,{owner_address:o,receiver_address:i,balance:n,resource:s}=r;return t.setOwnerAddress(ke(o)),t.setBalance(n),t.setResource(ic[s]),t.setReceiverAddress(ke(i)),st(t,Je.Contract.ContractType.UNDELEGATERESOURCECONTRACT,"UnDelegateResourceContract",e.Permission_id)},Z9=(r,e)=>{const t=new B4,{owner_address:o}=r;return t.setOwnerAddress(ke(o)),st(t,Je.Contract.ContractType.WITHDRAWEXPIREUNFREEZECONTRACT,"WithdrawExpireUnfreezeContract",e.Permission_id)},Y9=(r,e)=>{const t=new A9,{owner_address:o,url:i}=r;return t.setOwnerAddress(ke(o)),t.setUrl(kt(i.replace(/^0x/,""))),st(t,Je.Contract.ContractType.WITNESSCREATECONTRACT,"WitnessCreateContract",e.Permission_id)},J9=(r,e)=>{const t=new j2,{owner_address:o,votes:i}=r;return t.setOwnerAddress(ke(o)),i.forEach(n=>{const s=new j2.Vote,{vote_address:a,vote_count:c}=n;s.setVoteAddress(ke(a));const u=parseInt(c);s.setVoteCount(u),t.addVotes(s)}),st(t,Je.Contract.ContractType.VOTEWITNESSCONTRACT,"VoteWitnessContract",e.Permission_id)},X9=(r,e)=>{const t=r?.new_contract?{owner_address:r.owner_address,call_token_value:r.call_token_value,token_id:r.token_id,...r.new_contract}:r,{owner_address:o,consume_user_resource_percent:i,origin_energy_limit:n,abi:s,bytecode:a="",parameter:c="",call_value:u,call_token_value:l,token_id:d,name:h}=t;let{origin_address:b}=t;const y=new T9;y.setOwnerAddress(ke(o)),d&&y.setTokenId(d),l&&y.setCallTokenValue(l);const g=new ua;if(s){let w;typeof s=="string"?w=JSON.parse(s):w=s?.entrys||[];const I=new ua.ABI,P=M=>{const O=new ua.ABI.Entry.Param,{indexed:W,name:S,type:T}=M;return W===!0&&O.setIndexed(!0),O.setName(S),O.setType(T),O},B=w.map(M=>{const{anonymous:O,constant:W,name:S,inputs:T,outputs:E,type:C,payable:N,stateMutability:U}=M,D=new ua.ABI.Entry;return D.setAnonymous(O),D.setConstant(W),D.setName(S),T&&D.setInputsList(T.map(L=>P(L))),E&&D.setOutputsList(E.map(L=>P(L))),C&&D.setType(ua.ABI.Entry.EntryType[C.toUpperCase()]),D.setPayable(N),U&&D.setStatemutability(ua.ABI.Entry.StateMutabilityType[U.toUpperCase()]),D});I.setEntrysList(B),g.setAbi(I)}if(u&&g.setCallValue(u),g.setConsumeUserResourcePercent(i),g.setOriginEnergyLimit(n),b||(b=o),g.setOriginAddress(ke(b)),a){const w=a.replace(/^0x/,"")+c.replace(/^0x/,"");g.setBytecode(kt(w))}return g.setName(h),y.setNewContract(g),st(y,Je.Contract.ContractType.CREATESMARTCONTRACT,"CreateSmartContract",e.Permission_id)},Q9=(r,e)=>{const{contract_address:t,owner_address:o}=r,i=new m9;return i.setOwnerAddress(ke(o)),i.setContractAddress(ke(t)),st(i,Je.Contract.ContractType.CLEARABICONTRACT,"ClearABIContract",e.Permission_id)},e7=(r,e)=>{const{brokerage:t,owner_address:o}=r,i=new E9;return i.setOwnerAddress(ke(o)),i.setBrokerage(t),st(i,Je.Contract.ContractType.UPDATEBROKERAGECONTRACT,"UpdateBrokerageContract",e.Permission_id)},t7=(r,e)=>{const{owner_address:t,name:o,abbr:i,description:n,url:s,total_supply:a,trx_num:c,num:u,start_time:l,end_time:d,precision:h,free_asset_net_limit:b,public_free_asset_net_limit:y,public_free_asset_net_usage:g=0,public_latest_free_net_time:w=0,vote_score:I=0,frozen_supply:P}=r,B=new q2;if(B.setOwnerAddress(ke(t)),o&&B.setName(kt(o.replace(/^0x/,""))),i&&B.setAbbr(kt(i.replace(/^0x/,""))),B.setTotalSupply(a),B.setNum(u),B.setEndTime(d),B.setStartTime(l),B.setTrxNum(c),B.setVoteScore(I),h&&B.setPrecision(h),w&&B.setPublicLatestFreeNetTime(w),n&&B.setDescription(kt(n.replace(/^0x/,""))),s&&B.setUrl(kt(s.replace(/^0x/,""))),B.setPublicFreeAssetNetUsage(g),B.setFreeAssetNetLimit(b),B.setPublicFreeAssetNetLimit(y),P){const M=new q2.FrozenSupply;M.setFrozenAmount(P.length?P[0].frozen_amount:P.frozen_amount),M.setFrozenDays(P.length?P[0].frozen_days:P.frozen_days),B.addFrozenSupply(M)}return st(B,Je.Contract.ContractType.ASSETISSUECONTRACT,"AssetIssueContract",e.Permission_id)},r7=(r,e)=>{const t=new P9,{account_address:o,owner_address:i}=r;return t.setOwnerAddress(ke(i)),t.setAccountAddress(ke(o.replace(/^0x/,""))),st(t,Je.Contract.ContractType.ACCOUNTCREATECONTRACT,"AccountCreateContract",e.Permission_id)},n7=(r,e)=>{const t=new I9,{account_name:o,owner_address:i}=r;return t.setOwnerAddress(ke(i)),t.setAccountName(kt(o.replace(/^0x/,""))),st(t,Je.Contract.ContractType.ACCOUNTUPDATECONTRACT,"AccountUpdateContract",e.Permission_id)},o7=(r,e)=>{const t=new B9,{account_id:o,owner_address:i}=r;return t.setOwnerAddress(ke(i)),t.setAccountId(kt(o.replace(/^0x/,""))),st(t,Je.Contract.ContractType.SETACCOUNTIDCONTRACT,"SetAccountIdContract",e.Permission_id)},i7=(r,e)=>{const t=new _9,{owner_address:o,parameters:i}=r;return t.setOwnerAddress(ke(o)),i.forEach(n=>{t.getParametersMap().set(n.key,n.value)}),st(t,Je.Contract.ContractType.PROPOSALCREATECONTRACT,"ProposalCreateContract",e.Permission_id)},s7=(r,e)=>{const t=new S9,{owner_address:o,proposal_id:i}=r;return t.setOwnerAddress(ke(o)),t.setProposalId(i),st(t,Je.Contract.ContractType.PROPOSALDELETECONTRACT,"ProposalDeleteContract",e.Permission_id)},a7=(r,e)=>{const t=new W9,{owner_address:o,proposal_id:i,is_add_approval:n}=r;return t.setOwnerAddress(ke(o)),t.setProposalId(i),t.setIsAddApproval(n),st(t,Je.Contract.ContractType.PROPOSALAPPROVECONTRACT,"ProposalApproveContract",e.Permission_id)},c7=(r,e)=>{const t=new O9,{owner_address:o,first_token_id:i,first_token_balance:n,second_token_id:s,second_token_balance:a}=r;return t.setOwnerAddress(ke(o)),t.setFirstTokenId(_s(i,e.visible)),t.setFirstTokenBalance(n),t.setSecondTokenId(_s(s,e.visible)),t.setSecondTokenBalance(a),st(t,Je.Contract.ContractType.EXCHANGECREATECONTRACT,"ExchangeCreateContract",e.Permission_id)},u7=(r,e)=>{const t=new R9,{owner_address:o,exchange_id:i,token_id:n,quant:s}=r;return t.setOwnerAddress(ke(o)),t.setExchangeId(i),t.setTokenId(_s(n,e.visible)),t.setQuant(s),st(t,Je.Contract.ContractType.EXCHANGEINJECTCONTRACT,"ExchangeInjectContract",e.Permission_id)},l7=(r,e)=>{const t=new M9,{owner_address:o,exchange_id:i,token_id:n,quant:s}=r;return t.setOwnerAddress(ke(o)),t.setExchangeId(i),t.setTokenId(_s(n,e.visible)),t.setQuant(s),st(t,Je.Contract.ContractType.EXCHANGEWITHDRAWCONTRACT,"ExchangeWithdrawContract",e.Permission_id)},f7=(r,e)=>{const t=new N9,{owner_address:o,exchange_id:i,token_id:n,quant:s,expected:a}=r;return t.setOwnerAddress(ke(o)),t.setExchangeId(i),t.setTokenId(_s(n,e.visible)),t.setQuant(s),t.setExpected(a),st(t,Je.Contract.ContractType.EXCHANGETRANSACTIONCONTRACT,"ExchangeTransactionContract",e.Permission_id)},d7=(r,e)=>{const t=new v9,{owner_address:o,contract_address:i,consume_user_resource_percent:n}=r;return t.setOwnerAddress(ke(o)),t.setContractAddress(ke(i)),t.setConsumeUserResourcePercent(n),st(t,Je.Contract.ContractType.UPDATESETTINGCONTRACT,"UpdateSettingContract",e.Permission_id)},h7=(r,e)=>{const t=new x9,{owner_address:o,contract_address:i,origin_energy_limit:n}=r;return t.setOwnerAddress(ke(o)),t.setContractAddress(ke(i)),t.setOriginEnergyLimit(n),st(t,Je.Contract.ContractType.UPDATEENERGYLIMITCONTRACT,"UpdateEnergyLimitContract",e.Permission_id)},p7=(r,e)=>{const t=new C9,{owner_address:o,owner:i,witness:n,actives:s}=r;t.setOwnerAddress(ke(o));const a=u=>isNaN(u)?u==="Active"?2:u==="Witness"?1:0:u,c=u=>{const l=new l9,{type:d,id:h,permission_name:b,threshold:y,parentId:g,operations:w,keys:I}=u;return l.setType(a(d)),l.setId(h),l.setPermissionName(b),l.setThreshold(y),g&&l.setParentId(g),w&&l.setOperations(kt(w)),I&&l.setKeysList(I.map(P=>{const B=new f9;return B.setAddress(ke(P.address)),B.setWeight(P.weight),B})),l};return i&&t.setOwner(c(i)),n&&t.setWitness(c(n)),s&&(Array.isArray(s)?t.setActivesList(s.map(u=>c(u))):t.setActivesList([c(s)])),st(t,Je.Contract.ContractType.ACCOUNTPERMISSIONUPDATECONTRACT,"AccountPermissionUpdateContract",e.Permission_id)},g7=(r,e)=>{const t=new w9,{owner_address:o,description:i,url:n,new_limit:s,new_public_limit:a}=r;return t.setOwnerAddress(ke(o)),i&&t.setDescription(kt(i.replace(/^0x/,""))),n&&t.setUrl(kt(n.replace(/^0x/,""))),s&&t.setNewLimit(s),a&&t.setNewPublicLimit(a),st(t,Je.Contract.ContractType.UPDATEASSETCONTRACT,"UpdateAssetContract",e.Permission_id)},W4=(r,e,t)=>{switch(r.type){case"TransferContract":return F9(e,t);case"TransferAssetContract":return U9(e,t);case"ParticipateAssetIssueContract":return k9(e,t);case"TriggerSmartContract":return D9(e,t);case"FreezeBalanceContract":return L9(e,t);case"UnfreezeBalanceContract":return z9(e,t);case"WithdrawBalanceContract":return q9(e,t);case"FreezeBalanceV2Contract":return j9(e,t);case"CancelAllUnfreezeV2Contract":return V9(e,t);case"UnfreezeBalanceV2Contract":return H9(e,t);case"DelegateResourceContract":return G9(e,t);case"UnDelegateResourceContract":return K9(e,t);case"WithdrawExpireUnfreezeContract":return Z9(e,t);case"WitnessCreateContract":return Y9(e,t);case"VoteWitnessContract":return J9(e,t);case"CreateSmartContract":return X9(e,t);case"ClearABIContract":return Q9(e,t);case"UpdateBrokerageContract":return e7(e,t);case"AssetIssueContract":return t7(e,t);case"AccountCreateContract":return r7(e,t);case"AccountUpdateContract":return n7(e,t);case"SetAccountIdContract":return o7(e,t);case"ProposalCreateContract":return i7(e,t);case"ProposalDeleteContract":return s7(e,t);case"ProposalApproveContract":return a7(e,t);case"ExchangeCreateContract":return c7(e,t);case"ExchangeInjectContract":return u7(e,t);case"ExchangeWithdrawContract":return l7(e,t);case"ExchangeTransactionContract":return f7(e,t);case"UpdateSettingContract":return d7(e,t);case"UpdateEnergyLimitContract":return h7(e,t);case"AccountPermissionUpdateContract":return p7(e,t);case"UpdateAssetContract":return g7(e,t)}},Sb=r=>{const e=r.raw_data,t=e.contract[0],o=t.parameter.value,i={Permission_id:t.Permission_id,visible:r.visible},n=W4(t,o,i),s=n.getRawData();return s.setRefBlockBytes(kt(e.ref_block_bytes)),s.setRefBlockHash(kt(e.ref_block_hash)),e.data&&s.setData(kt(e.data)),e.fee_limit&&s.setFeeLimit(e.fee_limit),e.expiration&&s.setExpiration(e.expiration),e.timestamp&&s.setTimestamp(e.timestamp),n.setRawData(s),n},O4=(r,e={},t={})=>{const o=r.raw_data,i=o.contract[0],n=W4(i,e,{Permission_id:e?.Permission_id}),s=n.getRawData();return s.setRefBlockBytes(kt(o.ref_block_bytes)),s.setRefBlockHash(kt(o.ref_block_hash)),t.data&&s.setData(kt(t.data.replace(/^0x/,""))),(t.fee_limit||e.fee_limit)&&s.setFeeLimit(t.fee_limit||e.fee_limit),o.expiration&&s.setExpiration(o.expiration),o.timestamp&&s.setTimestamp(o.timestamp),n.setRawData(s),n},R4=(r,e)=>{const t=e.getRawData().serializeBinary(),o=ft(t),i=Ar(t);return o.toLowerCase()===r.raw_data_hex.toLowerCase()&&i.replace(/^0x/,"").toLowerCase()===r.txID.replace(/^0x/,"").toLowerCase()},M4=r=>ft(r.getRawData().serializeBinary()),xd=r=>{const e=Sb(r);return R4(r,e)},Wb=(r,e,t)=>{const o=O4(r,e,t);return R4(r,o)},N4=r=>{const e=r.getRawData().serializeBinary();return Ar(e)},y7={0:"AccountCreateContract",1:"TransferContract",2:"TransferAssetContract",4:"VoteWitnessContract",5:"WitnessCreateContract",6:"AssetIssueContract",9:"ParticipateAssetIssueContract",10:"AccountUpdateContract",11:"FreezeBalanceContract",12:"UnfreezeBalanceContract",13:"WithdrawBalanceContract",15:"UpdateAssetContract",16:"ProposalCreateContract",17:"ProposalApproveContract",18:"ProposalDeleteContract",19:"SetAccountIdContract",30:"CreateSmartContract",31:"TriggerSmartContract",33:"UpdateSettingContract",41:"ExchangeCreateContract",42:"ExchangeInjectContract",43:"ExchangeWithdrawContract",44:"ExchangeTransactionContract",45:"UpdateEnergyLimitContract",46:"AccountPermissionUpdateContract",48:"ClearABIContract",49:"UpdateBrokerageContract",54:"FreezeBalanceV2Contract",55:"UnfreezeBalanceV2Contract",56:"WithdrawExpireUnfreezeContract",57:"DelegateResourceContract",58:"UnDelegateResourceContract",59:"CancelAllUnfreezeV2Contract"},b7=r=>r.getAuthsList().map(t=>{const o=ft(t.getPermissionName_asU8()),i=t.getAccount(),n={name:ft(i.getName_asU8()),address:ft(i.getAddress_asU8())};return{permission_name:o,account:n}}),Us=(r,e)=>{const t=Je.raw.deserializeBinary(Mr(e)),o=t.getContractList()[0],i=o.getParameter().getValue(),n=y7[o.getType()];if(r!==n)throw new Error(`type ${r} dismatches with rawDataHex type ${n}`);return[{contract:[{parameter:{value:{},type_url:o.getParameter().getTypeUrl()},type:r,Permission_id:o.getPermissionId()}],data:ft(t.getData()),fee_limit:t.getFeeLimit(),ref_block_bytes:ft(t.getRefBlockBytes_asU8()),ref_block_hash:ft(t.getRefBlockHash_asU8()),expiration:t.getExpiration(),timestamp:t.getTimestamp(),scripts:ft(t.getScripts_asU8()),auths:b7(t)},i]},w7=(r,e)=>{const[t,o]=Us(r,e),i=S4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8()),contract_address:ft(i.getContractAddress_asU8()),call_value:i.getCallValue(),data:ft(i.getData_asU8()),call_token_value:i.getCallTokenValue(),token_id:i.getTokenId()},t},_h=r=>{switch(r){case 0:return"BANDWIDTH";case 1:return"ENERGY";default:return"BANDWIDTH"}},m7=(r,e)=>{const[t,o]=Us(r,e),i=E4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8()),frozen_balance:i.getFrozenBalance(),resource:_h(i.getResource())},t},x7=(r,e)=>{const[t,o]=Us(r,e),i=P4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8()),unfreeze_balance:i.getUnfreezeBalance(),resource:_h(i.getResource())},t},v7=(r,e)=>{const[t,o]=Us(r,e),i=I4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8())},t},T7=(r,e)=>{const[t,o]=Us(r,e),i=C4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8()),balance:i.getBalance(),lock:i.getLock(),lock_period:i.getLockPeriod(),receiver_address:ft(i.getReceiverAddress_asU8()),resource:_h(i.getResource())},t},A7=(r,e)=>{const[t,o]=Us(r,e),i=_4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8()),balance:i.getBalance(),receiver_address:ft(i.getReceiverAddress_asU8()),resource:_h(i.getResource())},t},E7=(r,e)=>{const[t,o]=Us(r,e),i=B4.deserializeBinary(o);return t.contract[0].parameter.value={owner_address:ft(i.getOwnerAddress_asU8())},t},P7=(r,e)=>{if(!e)throw new Error("rawDataHex cannot be empty");if(!Fs(e))throw new Error("rawDataHex is not a valid hex string");switch(r){case"TriggerSmartContract":return w7(r,e);case"FreezeBalanceV2Contract":return m7(r,e);case"UnfreezeBalanceV2Contract":return x7(r,e);case"CancelAllUnfreezeV2Contract":return v7(r,e);case"DelegateResourceContract":return T7(r,e);case"UnDelegateResourceContract":return A7(r,e);case"WithdrawExpireUnfreezeContract":return E7(r,e);default:throw new Error(`trasaction ${r} not supported`)}},I7=Object.freeze(Object.defineProperty({__proto__:null,DeserializeTransaction:P7,txCheck:xd,txCheckWithArgs:Wb,txJsonToPb:Sb,txJsonToPbWithArgs:O4,txPbToRawDataHex:M4,txPbToTxID:N4},Symbol.toStringTag,{value:"Module"}));function Pr(r){return Be.fromUtf8(r).replace(/^0x/,"")}function E0(r){return JSON.parse(JSON.stringify(r))}function B7(r,e,t){if(r.Error)throw new Error(r.Error);if(r.result&&r.result.message)throw new Error(Be.toUtf8(r.result.message));if(Wb(r,e,t))return r;throw new Error("Invalid transaction")}function C7(r,e,t){if(r.Error)throw new Error(r.Error);if(r.result&&r.result.message)throw new Error(Be.toUtf8(r.result.message));if(!(t._isConstant||t.estimateEnergy)){if(Wb(r.transaction,e,t))return r;throw new Error("Invalid transaction")}return r}function _7(r,e){return"41"+Qe(qe.from(e+r,"hex")).toString().substring(2).slice(24)}function S7(r){return r.request("wallet/getblock",{detail:!1},"post").then(e=>({ref_block_bytes:e.block_header.raw_data.number.toString(16).slice(-4).padStart(4,"0"),ref_block_hash:e.blockID.slice(16,32),expiration:e.block_header.raw_data.timestamp+60*1e3,timestamp:e.block_header.raw_data.timestamp}))}function $4(r={}){if(typeof r.ref_block_bytes>"u"&&typeof r.ref_block_hash>"u"&&typeof r.expiration>"u"&&typeof r.timestamp>"u")return!1;if(typeof r.ref_block_bytes!="string")throw new Error("Invalid ref_block_bytes provided.");if(typeof r.ref_block_hash!="string")throw new Error("Invalid ref_block_hash provided.");if(typeof r.expiration!="number")throw new Error("Invalid expiration provided.");if(typeof r.timestamp!="number")throw new Error("Invalid timestamp provided.");return!0}async function et(r,e,t,o,i={}){const n={visible:!1,txID:"",raw_data_hex:"",raw_data:{contract:[{parameter:{value:t,type_url:`type.googleapis.com/protocol.${e}`},type:e}],...$4(i)?{}:await S7(r.fullNode),...i}};o&&(n.raw_data.contract[0].Permission_id=o);const s=Sb(n);return n.txID=N4(s).replace(/^0x/,""),n.raw_data_hex=M4(s).toLowerCase(),n}function ot(r={}){const e={};return $4(r.blockHeader)&&(e.ref_block_bytes=r.blockHeader.ref_block_bytes,e.ref_block_hash=r.blockHeader.ref_block_hash,e.expiration=r.blockHeader.expiration,e.timestamp=r.blockHeader.timestamp),e}class W7{tronWeb;validator;constructor(e){if(!e||!(e instanceof Be))throw new Error("Expected instance of TronWeb");this.tronWeb=e,this.validator=new v4}async sendTrx(e,t=0,o=this.tronWeb.defaultAddress.hex,i={}){t=parseInt(t),this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:o},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:t}]);const n={to_address:Se(e),owner_address:Se(o),amount:t},s=ot(i);return et(this.tronWeb,Xe.TransferContract,n,i?.permissionId,s)}async sendToken(e,t=0,o,i=this.tronWeb.defaultAddress.hex,n={}){t=parseInt(t),this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:i},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:t},{name:"token ID",type:"tokenId",value:o}]);const s={to_address:Se(e),owner_address:Se(i),asset_name:Pr(o),amount:t},a=ot(n);return et(this.tronWeb,Xe.TransferAssetContract,s,n?.permissionId,a)}async purchaseToken(e,t,o=0,i=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"buyer",type:"address",value:i},{name:"issuer",type:"address",value:e},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:o},{name:"token ID",type:"tokenId",value:t}]);const s={to_address:Se(e),owner_address:Se(i),asset_name:Pr(t),amount:parseInt(o)},a=ot(n);return et(this.tronWeb,Xe.ParticipateAssetIssueContract,s,n?.permissionId,a)}async freezeBalance(e=0,t=3,o="BANDWIDTH",i=this.tronWeb.defaultAddress.hex,n,s={}){this.validator.notValid([{name:"origin",type:"address",value:i},{name:"receiver",type:"address",value:n,optional:!0},{name:"amount",type:"integer",gt:0,value:e},{name:"duration",type:"integer",gte:3,value:t},{name:"resource",type:"resource",value:o,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const a={owner_address:Se(i),frozen_balance:parseInt(e),frozen_duration:parseInt(String(t))};o!=="BANDWIDTH"&&(a.resource=o),Ir(n)&&Se(n)!==Se(i)&&(a.receiver_address=Se(n));const c=ot(s);return et(this.tronWeb,Xe.FreezeBalanceContract,a,s?.permissionId,c)}async unfreezeBalance(e="BANDWIDTH",t=this.tronWeb.defaultAddress.hex,o,i={}){this.validator.notValid([{name:"origin",type:"address",value:t},{name:"receiver",type:"address",value:o,optional:!0},{name:"resource",type:"resource",value:e,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const n={owner_address:Se(t)};e!=="BANDWIDTH"&&(n.resource=e),Ir(o)&&Se(o)!==Se(t)&&(n.receiver_address=Se(o));const s=ot(i);return et(this.tronWeb,Xe.UnfreezeBalanceContract,n,i?.permissionId,s)}async freezeBalanceV2(e=0,t="BANDWIDTH",o=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"origin",type:"address",value:o},{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const n={owner_address:Se(o),frozen_balance:parseInt(e)};t!=="BANDWIDTH"&&(n.resource=t);const s=ot(i);return et(this.tronWeb,Xe.FreezeBalanceV2Contract,n,i?.permissionId,s)}async unfreezeBalanceV2(e=0,t="BANDWIDTH",o=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"origin",type:"address",value:o},{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);const n={owner_address:Se(o),unfreeze_balance:parseInt(e)};t!=="BANDWIDTH"&&(n.resource=t);const s=ot(i);return et(this.tronWeb,Xe.UnfreezeBalanceV2Contract,n,i?.permissionId,s)}async cancelUnfreezeBalanceV2(e=this.tronWeb.defaultAddress.hex,t={}){this.validator.notValid([{name:"origin",type:"address",value:e}]);const o={owner_address:Se(e)},i=ot(t);return et(this.tronWeb,Xe.CancelAllUnfreezeV2Contract,o,t?.permissionId,i)}async delegateResource(e=0,t,o="BANDWIDTH",i=this.tronWeb.defaultAddress.hex,n=!1,s,a={}){if(this.validator.notValid([{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:o,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'},{name:"receiver",type:"address",value:t},{name:"origin",type:"address",value:i},{name:"lock",type:"boolean",value:n},{name:"lock period",type:"integer",gte:0,value:s,optional:!0}]),Se(t)===Se(i))throw new Error("Receiver address must not be the same as owner address");const c={owner_address:Se(i),receiver_address:Se(t),balance:parseInt(e)};o!=="BANDWIDTH"&&(c.resource=o),n&&(c.lock=n,Ir(s)&&(c.lock_period=s));const u=ot(a);return et(this.tronWeb,Xe.DelegateResourceContract,c,a?.permissionId,u)}async undelegateResource(e=0,t,o="BANDWIDTH",i=this.tronWeb.defaultAddress.hex,n={}){if(this.validator.notValid([{name:"origin",type:"address",value:i},{name:"receiver",type:"address",value:t},{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:o,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]),Se(t)===Se(i))throw new Error("Receiver address must not be the same as owner address");const s={owner_address:Se(i),receiver_address:Se(t),balance:parseInt(e)};o!=="BANDWIDTH"&&(s.resource=o);const a=ot(n);return et(this.tronWeb,Xe.UnDelegateResourceContract,s,n?.permissionId,a)}async withdrawExpireUnfreeze(e=this.tronWeb.defaultAddress.hex,t={}){this.validator.notValid([{name:"origin",type:"address",value:e}]);const o={owner_address:Se(e)},i=ot(t);return et(this.tronWeb,Xe.WithdrawExpireUnfreezeContract,o,t?.permissionId,i)}async withdrawBlockRewards(e=this.tronWeb.defaultAddress.hex,t={}){this.validator.notValid([{name:"origin",type:"address",value:e}]);const o={owner_address:Se(e)},i=ot(t);return et(this.tronWeb,Xe.WithdrawBalanceContract,o,t?.permissionId,i)}async applyForSR(e=this.tronWeb.defaultAddress.hex,t="",o={}){this.validator.notValid([{name:"origin",type:"address",value:e},{name:"url",type:"url",value:t,msg:"Invalid url provided"},{name:"url",type:"string",value:t,lte:256,msg:"Invalid url provided"}]);const i={owner_address:Se(e),url:Pr(t)},n=ot(o);return et(this.tronWeb,Xe.WitnessCreateContract,i,o?.permissionId,n)}async vote(e={},t=this.tronWeb.defaultAddress.hex,o={}){this.validator.notValid([{name:"voter",type:"address",value:t},{name:"votes",type:"notEmptyObject",value:e}]);const i=Object.entries(e);for(const[c,u]of i)this.validator.notValid([{name:"SR",type:"address",value:c},{name:"vote count",type:"integer",gt:0,value:u,msg:"Invalid vote count provided for SR: "+c}]);const n=i.map(([c,u])=>({vote_address:Se(c),vote_count:parseInt(u)})),s={owner_address:Se(t),votes:n},a=ot(o);return et(this.tronWeb,Xe.VoteWitnessContract,s,o?.permissionId,a)}async createSmartContract(e={},t=this.tronWeb.defaultAddress.hex){const o=e.feeLimit||this.tronWeb.feeLimit;let i=e.userFeePercentage;typeof i!="number"&&!i&&(i=100);const n=e.originEnergyLimit||1e7,s=e.callValue||0,a=e.tokenValue,c=e.tokenId||e.token_id;let{abi:u}=e;const{parameters:l=[]}=e;let d="";const{bytecode:h=!1,name:b=""}=e;if(u&&Br(u))try{u=JSON.parse(u)}catch{throw new Error("Invalid options.abi provided")}const y=u;let g=y;if(y.entrys&&(g=y.entrys),!Sa(g))throw new Error("Invalid options.abi provided");const w=g.some(E=>E.type==="constructor"&&E.stateMutability.toLowerCase()==="payable");if(this.validator.notValid([{name:"bytecode",type:"hex",value:h},{name:"feeLimit",type:"integer",value:o,gt:0},{name:"callValue",type:"integer",value:s,gte:0},{name:"userFeePercentage",type:"integer",value:i,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:n,gte:0,lte:1e7},{name:"parameters",type:"array",value:l},{name:"issuer",type:"address",value:t},{name:"tokenValue",type:"integer",value:a,gte:0,optional:!0},{name:"tokenId",type:"integer",value:c,gte:0,optional:!0}]),!w&&(s>0||a>0))throw new Error("When contract is not payable, options.callValue and options.tokenValue must be 0");const{rawParameter:I,funcABIV2:P,parametersV2:B}=e;if(I&&Br(I))d=I.replace(/^(0x)/,"");else if(P)d=$d(P,B).replace(/^(0x)/,"");else{let E=g.find(C=>C.type==="constructor");if(typeof E<"u"&&E){const C=new oi,N=[],U=[];if(E=E.inputs,l.length!=E.length)throw new Error(`constructor needs ${E.length} but ${l.length} provided`);for(let D=0;D<l.length;D++){let L=E[D].type,x=l[D];if(!L||!Br(L)||!L.length)throw new Error("Invalid parameter type provided: "+L);const A=R=>Sa(R)?R.map(F=>A(F)):Se(R).replace(Ga,"0x");L==="address"||L.match(/^([^\x5b]*)(\x5b|$)/)?.[0]==="address["?x=A(x):/trcToken/.test(L)&&(L=L.replace(/trcToken/,"uint256")),N.push(L),U.push(x)}try{d=C.encode(N,U).replace(/^(0x)/,"")}catch(D){throw new Error(D)}}else d=""}const M={owner_address:Se(t),fee_limit:parseInt(o),call_value:parseInt(s),consume_user_resource_percent:i,origin_energy_limit:n,abi:JSON.stringify(g),bytecode:h,parameter:d,name:b};Ir(a)&&(M.call_token_value=parseInt(a)),Ir(c)&&(M.token_id=parseInt(c));const O={};O.owner_address=M.owner_address,Ir(M.call_token_value)&&(O.call_token_value=M.call_token_value),Ir(M.token_id)&&(O.token_id=M.token_id);const W=O.new_contract={};M.abi?W.abi={entrys:JSON.parse(M.abi)}:W.abi={},M.call_value&&(W.call_value=M.call_value),W.consume_user_resource_percent=M.consume_user_resource_percent,W.origin_energy_limit=M.origin_energy_limit,W.origin_address=M.origin_address??M.owner_address,M.bytecode+M.parameter&&(W.bytecode=(M.bytecode+M.parameter).replace(/^0x/,"")),Ir(M.name)&&(W.name=M.name);const S=ot(e),T=await et(this.tronWeb,Xe.CreateSmartContract,O,e?.permissionId,{...S,fee_limit:M.fee_limit});return T.contract_address=_7(M.owner_address,T.txID),T}async triggerSmartContract(e,t,o,i,n){const s=[e,t,o,i,n];return typeof s[2]!="object"&&(s[2]={feeLimit:s[2],callValue:s[3]},s.splice(3,1)),s[2]?.txLocal?this._triggerSmartContractLocal(...s):this._triggerSmartContract(...s)}async triggerConstantContract(e,t,o={},i=[],n=this.tronWeb.defaultAddress.hex){return o._isConstant=!0,this._triggerSmartContract(e,t,o,i,n)}async triggerConfirmedConstantContract(e,t,o={},i=[],n=this.tronWeb.defaultAddress.hex){return o._isConstant=!0,o.confirmed=!0,this._triggerSmartContract(e,t,o,i,n)}async estimateEnergy(e,t,o={},i=[],n=this.tronWeb.defaultAddress.hex){return o.estimateEnergy=!0,await this._triggerSmartContract(e,t,o,i,n)}async deployConstantContract(e={input:"",ownerAddress:""}){const{input:t,ownerAddress:o,tokenId:i,tokenValue:n,callValue:s=0}=e;this.validator.notValid([{name:"input",type:"not-empty-string",value:t},{name:"callValue",type:"integer",value:s,gte:0},{name:"owner",type:"address",value:o},{name:"tokenValue",type:"integer",value:n,gte:0,optional:!0},{name:"tokenId",type:"integer",value:i,gte:0,optional:!0}]);const a={data:t,owner_address:Se(o),call_value:s};i&&(a.token_id=i),n&&(a.call_token_value=n);const c=`wallet${e.confirmed?"solidity":""}/estimateenergy`,u=await this.tronWeb[e.confirmed?"solidityNode":"fullNode"].request(c,a,"post");if(u.Error)throw new Error(u.Error);if(u.result&&u.result.message)throw new Error(this.tronWeb.toUtf8(u.result.message));return u}_getTriggerSmartContractArgs(e,t,o,i,n,s,a,c,u){const l={contract_address:Se(e),owner_address:Se(n)};if(t&&Br(t)){t=t.replace(/\s*/g,"");let d;if(i.length){const h=new oi;let b=[];const y=[];for(let g=0;g<i.length;g++){let{value:w}=i[g];const{type:I}=i[g];if(!I||!Br(I)||!I.length)throw new Error("Invalid parameter type provided: "+I);const P=B=>Sa(B)?B.map(M=>P(M)):Se(B).replace(Ga,"0x");(I==="address"||I.match(/^([^\x5b]*)(\x5b|$)/)?.[0]==="address[")&&(w=P(w)),b.push(I),y.push(w)}try{b=b.map(g=>(/trcToken/.test(g)&&(g=g.replace(/trcToken/,"uint256")),g)),d=h.encode(b,y).replace(/^(0x)/,"")}catch(g){throw new Error(g)}}else d="";o.funcABIV2&&(d=$d(o.funcABIV2,o.parametersV2).replace(/^(0x)/,"")),o.shieldedParameter&&Br(o.shieldedParameter)&&(d=o.shieldedParameter.replace(/^(0x)/,"")),o.rawParameter&&Br(o.rawParameter)&&(d=o.rawParameter.replace(/^(0x)/,"")),l.function_selector=t,l.parameter=d}else o.input&&(l.data=o.input);return l.call_value=parseInt(c),Ir(s)&&(l.call_token_value=parseInt(s)),Ir(a)&&(l.token_id=parseInt(a)),o._isConstant||o.estimateEnergy||(l.fee_limit=parseInt(u)),o.permissionId&&(l.Permission_id=o.permissionId),l}async _triggerSmartContractLocal(e,t,o={},i=[],n=this.tronWeb.defaultAddress.hex){const{tokenValue:s,tokenId:a,callValue:c,feeLimit:u}=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},o);this.validator.notValid([{name:"feeLimit",type:"integer",value:u,gt:0},{name:"callValue",type:"integer",value:c,gte:0},{name:"parameters",type:"array",value:i},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:n,optional:!0},{name:"tokenValue",type:"integer",value:s,gte:0,optional:!0},{name:"tokenId",type:"integer",value:a,gte:0,optional:!0}]);const l=this._getTriggerSmartContractArgs(e,t,o,i,n,s,a,c,u);l.function_selector&&(l.data=Qe(qe.from(l.function_selector,"utf-8")).toString().substring(2,10)+l.parameter);const d={data:l.data,owner_address:l.owner_address,contract_address:l.contract_address};l.call_value&&(d.call_value=l.call_value),l.call_token_value&&(d.call_token_value=l.call_token_value),l.token_id&&(d.token_id=l.token_id);const h=ot(o),b=await et(this.tronWeb,Xe.TriggerSmartContract,d,o.permissionId,{...h,fee_limit:l.fee_limit});return{result:{result:!0},transaction:b}}async _triggerSmartContract(e,t,o={},i=[],n=this.tronWeb.defaultAddress.hex){const{tokenValue:s,tokenId:a,callValue:c,feeLimit:u}=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},o);this.validator.notValid([{name:"feeLimit",type:"integer",value:u,gt:0},{name:"callValue",type:"integer",value:c,gte:0},{name:"parameters",type:"array",value:i},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:n,optional:!0},{name:"tokenValue",type:"integer",value:s,gte:0,optional:!0},{name:"tokenId",type:"integer",value:a,gte:0,optional:!0}]);const l=this._getTriggerSmartContractArgs(e,t,o,i,n,s,a,c,u);let d="triggersmartcontract";o._isConstant?d="triggerconstantcontract":o.estimateEnergy&&(d="estimateenergy"),d=`wallet${o.confirmed?"solidity":""}/${d}`;const h=await this.tronWeb[o.confirmed?"solidityNode":"fullNode"].request(d,l,"post");return C7(h,l,o)}async clearABI(e,t=this.tronWeb.defaultAddress.hex,o={}){if(!Be.isAddress(e))throw new Error("Invalid contract address provided");if(!Be.isAddress(t))throw new Error("Invalid owner address provided");const i={contract_address:Se(e),owner_address:Se(t)};this.tronWeb.trx.cache.contracts[e]&&delete this.tronWeb.trx.cache.contracts[e];const n=ot(o);return et(this.tronWeb,Xe.ClearABIContract,i,o?.permissionId,n)}async updateBrokerage(e,t=this.tronWeb.defaultAddress.hex,o={}){if(!Ir(e))throw new Error("Invalid brokerage provided");if(!Ri(e)||e<0||e>100)throw new Error("Brokerage must be an integer between 0 and 100");if(!Be.isAddress(t))throw new Error("Invalid owner address provided");const i={brokerage:parseInt(e),owner_address:Se(t)},n=ot(o);return et(this.tronWeb,Xe.UpdateBrokerageContract,i,o?.permissionId,n)}async createToken(e={},t=this.tronWeb.defaultAddress.hex){const{name:o=!1,abbreviation:i=!1,description:n="",url:s=!1,totalSupply:a=0,trxRatio:c=1,tokenRatio:u=1,saleStart:l=Date.now(),saleEnd:d=!1,freeBandwidth:h=0,freeBandwidthLimit:b=0,frozenAmount:y=0,frozenDuration:g=0,voteScore:w,precision:I}=e;if(this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:a},{name:"TRX ratio",type:"positive-integer",value:c},{name:"Token ratio",type:"positive-integer",value:u},{name:"token abbreviation",type:"string",value:i,lte:32,gt:0},{name:"token name",type:"not-empty-string",value:o},{name:"token description",type:"string",value:n,lte:200},{name:"token url",type:"url",value:s},{name:"token url",type:"string",value:s,lte:256},{name:"issuer",type:"address",value:t},{name:"sale start timestamp",type:"integer",value:l,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:d,gt:l},{name:"Frozen supply",type:"integer",value:y,gte:0},{name:"Frozen duration",type:"integer",value:g,gte:0}]),Ir(w)&&(!Ri(w)||w<=0))throw new Error("voteScore must be a positive integer greater than 0");if(Ir(I)&&(!Ri(I)||I<0||I>6))throw new Error("precision must be a positive integer >= 0 and <= 6");const P={owner_address:Se(t),name:Pr(o),abbr:Pr(i),description:Pr(n),url:Pr(s),total_supply:parseInt(a),trx_num:parseInt(c),num:parseInt(u),start_time:parseInt(l),end_time:parseInt(d),frozen_supply:[{frozen_amount:parseInt(y),frozen_days:parseInt(g)}]};["name","abbr","description","url"].forEach(M=>{P[M]||delete P[M]}),parseInt(y)>0||delete P.frozen_supply,h&&!isNaN(parseInt(h))&&parseInt(h)>=0&&(P.free_asset_net_limit=parseInt(h)),b&&!isNaN(parseInt(b))&&parseInt(b)>=0&&(P.public_free_asset_net_limit=parseInt(b)),I&&!isNaN(parseInt(I))&&(P.precision=parseInt(I)),w&&!isNaN(parseInt(w))&&(P.vote_score=parseInt(w));const B=ot(e);return et(this.tronWeb,Xe.AssetIssueContract,P,e?.permissionId,B)}async createAccount(e,t=this.tronWeb.defaultAddress.hex,o={}){this.validator.notValid([{name:"account",type:"address",value:e},{name:"origin",type:"address",value:t}]);const i={owner_address:Se(t),account_address:Se(e)},n=ot(o);return et(this.tronWeb,Xe.AccountCreateContract,i,o?.permissionId,n)}async updateAccount(e,t=this.tronWeb.defaultAddress.hex,o={}){this.validator.notValid([{name:"Name",type:"string",lte:200,gt:0,value:e,msg:"Invalid accountName"},{name:"origin",type:"address",value:t}]);const i={account_name:Pr(e),owner_address:Se(t)},n=ot(o);return et(this.tronWeb,Xe.AccountUpdateContract,i,o?.permissionId,n)}async setAccountId(e,t=this.tronWeb.defaultAddress.hex,o={}){e&&Br(e)&&e.startsWith("0x")&&(e=e.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e},{name:"origin",type:"address",value:t}]);const i={account_id:e,owner_address:Se(t)},n=ot(o);return et(this.tronWeb,Xe.SetAccountIdContract,i,o?.permissionId,n)}async updateToken(e={},t=this.tronWeb.defaultAddress.hex){const{description:o="",url:i=!1,freeBandwidth:n=0,freeBandwidthLimit:s=0}=e;this.validator.notValid([{name:"token description",type:"string",value:o,lte:200},{name:"token url",type:"url",value:i},{name:"token url",type:"string",value:i,lte:256},{name:"issuer",type:"address",value:t}]);const a={owner_address:Se(t),description:Pr(o),url:Pr(i)};n&&!isNaN(parseInt(n))&&parseInt(n)>=0&&(a.new_limit=parseInt(n)),s&&!isNaN(parseInt(s))&&parseInt(s)>=0&&(a.new_public_limit=parseInt(s));const c=ot(e);return et(this.tronWeb,Xe.UpdateAssetContract,a,e?.permissionId,c)}async sendAsset(e,t=0,o,i=this.tronWeb.defaultAddress.hex,n={}){return this.sendToken(e,t,o,i,n)}async purchaseAsset(e,t,o=0,i=this.tronWeb.defaultAddress.hex,n={}){return this.purchaseToken(e,t,o,i,n)}async createAsset(e,t){return this.createToken(e,t)}async updateAsset(e={},t=this.tronWeb.defaultAddress.hex){return this.updateToken(e,t)}async createProposal(e,t=this.tronWeb.defaultAddress.hex,o={}){this.validator.notValid([{name:"issuer",type:"address",value:t}]);const i="Invalid proposal parameters provided";if(!e)throw new Error(i);const n=Sa(e)?e:[e];for(const c of n)if(!hu(c))throw new Error(i);const s={owner_address:Se(t),parameters:n},a=ot(o);return et(this.tronWeb,Xe.ProposalCreateContract,s,o?.permissionId,a)}async deleteProposal(e,t=this.tronWeb.defaultAddress.hex,o={}){this.validator.notValid([{name:"issuer",type:"address",value:t},{name:"proposalID",type:"integer",value:e,gte:0}]);const i={owner_address:Se(t),proposal_id:parseInt(e)},n=ot(o);return et(this.tronWeb,Xe.ProposalDeleteContract,i,o?.permissionId,n)}async voteProposal(e,t=!1,o=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"voter",type:"address",value:o},{name:"proposalID",type:"integer",value:e,gte:0},{name:"has approval",type:"boolean",value:t}]);const n={owner_address:Se(o),proposal_id:parseInt(e),is_add_approval:t},s=ot(i);return et(this.tronWeb,Xe.ProposalApproveContract,n,i?.permissionId,s)}async createTRXExchange(e,t,o,i=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"owner",type:"address",value:i},{name:"token name",type:"not-empty-string",value:e},{name:"token balance",type:"positive-integer",value:t},{name:"trx balance",type:"positive-integer",value:o}]);const s={owner_address:Se(i),first_token_id:Pr(e),first_token_balance:t,second_token_id:"5f",second_token_balance:o},a=ot(n);return et(this.tronWeb,Xe.ExchangeCreateContract,s,n?.permissionId,a)}async createTokenExchange(e,t,o,i,n=this.tronWeb.defaultAddress.hex,s={}){this.validator.notValid([{name:"owner",type:"address",value:n},{name:"first token name",type:"not-empty-string",value:e},{name:"second token name",type:"not-empty-string",value:o},{name:"first token balance",type:"positive-integer",value:t},{name:"second token balance",type:"positive-integer",value:i}]);const a={owner_address:Se(n),first_token_id:Pr(e),first_token_balance:t,second_token_id:Pr(o),second_token_balance:i},c=ot(s);return et(this.tronWeb,Xe.ExchangeCreateContract,a,s?.permissionId,c)}async injectExchangeTokens(e,t,o,i=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"owner",type:"address",value:i},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:o,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}]);const s={owner_address:Se(i),exchange_id:parseInt(e),token_id:Pr(t),quant:parseInt(o)},a=ot(n);return et(this.tronWeb,Xe.ExchangeInjectContract,s,n?.permissionId,a)}async withdrawExchangeTokens(e,t,o,i=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"owner",type:"address",value:i},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:o,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}]);const s={owner_address:Se(i),exchange_id:parseInt(e),token_id:Pr(t),quant:parseInt(o)},a=ot(n);return et(this.tronWeb,Xe.ExchangeWithdrawContract,s,n?.permissionId,a)}async tradeExchangeTokens(e,t,o,i,n=this.tronWeb.defaultAddress.hex,s={}){this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"tokenAmountSold",type:"integer",value:o,gte:1},{name:"tokenAmountExpected",type:"integer",value:i,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}]);const a={owner_address:Se(n),exchange_id:parseInt(e),token_id:Be.fromAscii(t).replace(/^0x/,""),quant:parseInt(o),expected:parseInt(i)},c=ot(s);return et(this.tronWeb,Xe.ExchangeTransactionContract,a,s?.permissionId,c)}async updateSetting(e,t,o=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"owner",type:"address",value:o},{name:"contract",type:"address",value:e},{name:"userFeePercentage",type:"integer",value:t,gte:0,lte:100}]);const n={owner_address:Se(o),contract_address:Se(e),consume_user_resource_percent:t},s=ot(i);return et(this.tronWeb,Xe.UpdateSettingContract,n,i?.permissionId,s)}async updateEnergyLimit(e,t=0,o=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"owner",type:"address",value:o},{name:"contract",type:"address",value:e},{name:"originEnergyLimit",type:"integer",value:t,gte:0,lte:1e7}]);const n={owner_address:Se(o),contract_address:Se(e),origin_energy_limit:t},s=ot(i);return et(this.tronWeb,Xe.UpdateEnergyLimitContract,n,i?.permissionId,s)}checkPermissions(e,t){if(e){if(e.type!==t||!e.permission_name||!Br(e.permission_name)||!Ri(e.threshold)||e.threshold<1||!e.keys)return!1;for(const o of e.keys)if(!Be.isAddress(o.address)||!Ri(o.weight)||o.weight>e.threshold||o.weight<1||t===2&&!e.operations)return!1}return!0}async updateAccountPermissions(e=this.tronWeb.defaultAddress.hex,t,o,i,n={}){if(!Be.isAddress(e))throw new Error("Invalid ownerAddress provided");if(!this.checkPermissions(t,0))throw new Error("Invalid ownerPermissions provided");if(!this.checkPermissions(o,1))throw new Error("Invalid witnessPermissions provided");Array.isArray(i)||(i=[i]);for(const c of i)if(!this.checkPermissions(c,2))throw new Error("Invalid activesPermissions provided");const s={owner_address:Se(e)};if(t){const c=E0(t);"type"in c&&delete c.type,c.keys=c.keys?.map(({address:u,weight:l})=>({address:this.tronWeb.address.toHex(u),weight:l})),s.owner=c}if(o){const c=E0(o);c.type="Witness",c.keys=c.keys.map(({address:u,weight:l})=>({address:this.tronWeb.address.toHex(u),weight:l})),s.witness=c}if(i){const c=E0(i);c.forEach(u=>{u.type="Active"}),c.forEach(u=>{u.keys=u.keys.map(({address:l,weight:d})=>({address:this.tronWeb.address.toHex(l),weight:d}))}),s.actives=c}const a=ot(n);return et(this.tronWeb,Xe.AccountPermissionUpdateContract,s,n?.permissionId,a)}async newTxID(e,t={}){if(t?.txLocal){const o=e.raw_data.contract[0];try{const i=await et(this.tronWeb,o.type,o.parameter.value,o.Permission_id,{fee_limit:e.raw_data.fee_limit,data:e.raw_data.data,ref_block_bytes:e.raw_data.ref_block_bytes,ref_block_hash:e.raw_data.ref_block_hash,expiration:e.raw_data.expiration,timestamp:e.raw_data.timestamp});return i.signature=e.signature,i.visible=e.visible,i}catch{throw new Error("Error generating a new transaction id.")}}try{const o=await this.tronWeb.fullNode.request("wallet/getsignweight",e,"post");return typeof e.visible=="boolean"&&(o.transaction.transaction.visible=e.visible),B7(o.transaction.transaction,{...e.raw_data.contract[0].parameter.value,Permission_id:e.raw_data.contract[0].Permission_id},{data:e.raw_data.data,fee_limit:e.raw_data.fee_limit})}catch{throw new Error("Error generating a new transaction id.")}}async alterTransaction(e,t={}){if(Reflect.has(e,"signature"))throw new Error("You can not extend the expiration of a signed transaction.");if(t.data){if(t.dataFormat!=="hex"&&(t.data=Be.toHex(t.data)),t.data=t.data.replace(/^0x/,""),t.data.length===0)throw new Error("Invalid data provided");e.raw_data.data=t.data}if(t.extension){if(t.extension=parseInt(t.extension*1e3),isNaN(t.extension)||e.raw_data.expiration+t.extension<=Date.now()+3e3)throw new Error("Invalid extension provided");e.raw_data.expiration+=t.extension}return await this.newTxID(e,{txLocal:t.txLocal})}async extendExpiration(e,t,o={}){return await this.alterTransaction(e,{extension:t,txLocal:o?.txLocal})}async addUpdateData(e,t,o="utf8",i={}){return this.alterTransaction(e,{data:t,dataFormat:o,txLocal:i?.txLocal})}}const V2=`TRON Signed Message:
32`,H2=`Ethereum Signed Message:
32`;function yi(r){return Be.address.toHex(r)}class Vo{tronWeb;cache;validator;signMessage;sendAsset;send;sendTrx;broadcast;broadcastHex;signTransaction;constructor(e){this.tronWeb=e,this.cache={contracts:{}},this.validator=new v4,this.signMessage=this.sign,this.sendAsset=this.sendToken,this.send=this.sendTransaction,this.sendTrx=this.sendTransaction,this.broadcast=this.sendRawTransaction,this.broadcastHex=this.sendHexTransaction,this.signTransaction=this.sign}_parseToken(e){return{...e,name:this.tronWeb.toUtf8(e.name),abbr:e.abbr&&this.tronWeb.toUtf8(e.abbr),description:e.description&&this.tronWeb.toUtf8(e.description),url:e.url&&this.tronWeb.toUtf8(e.url)}}getCurrentBlock(){return this.tronWeb.fullNode.request("wallet/getnowblock")}getConfirmedCurrentBlock(){return this.tronWeb.solidityNode.request("walletsolidity/getnowblock")}async getBlock(e=this.tronWeb.defaultBlock){if(e===!1)throw new Error("No block identifier provided");return e=="earliest"&&(e=0),e=="latest"?this.getCurrentBlock():isNaN(+e)&&Te.isHex(e.toString())?this.getBlockByHash(e):this.getBlockByNumber(e)}async getBlockByHash(e){const t=await this.tronWeb.fullNode.request("wallet/getblockbyid",{value:e},"post");if(!Object.keys(t).length)throw new Error("Block not found");return t}async getBlockByNumber(e){if(!Te.isInteger(e)||e<0)throw new Error("Invalid block number provided");return this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(e)},"post").then(t=>{if(!Object.keys(t).length)throw new Error("Block not found");return t})}async getBlockTransactionCount(e=this.tronWeb.defaultBlock){const{transactions:t=[]}=await this.getBlock(e);return t.length}async getTransactionFromBlock(e=this.tronWeb.defaultBlock,t){const{transactions:o}=await this.getBlock(e);if(!o)throw new Error("Transaction not found in block");if(t>=0&&t<o.length)return o[t];throw new Error("Invalid transaction index provided")}async getTransactionsFromBlock(e=this.tronWeb.defaultBlock){const{transactions:t}=await this.getBlock(e);if(!t)throw new Error("Transaction not found in block");return t}async getTransaction(e){const t=await this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:e},"post");if(!Object.keys(t).length)throw new Error("Transaction not found");return t}async getConfirmedTransaction(e){const t=await this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:e},"post");if(!Object.keys(t).length)throw new Error("Transaction not found");return t}getUnconfirmedTransactionInfo(e){return this.tronWeb.fullNode.request("wallet/gettransactioninfobyid",{value:e},"post")}getTransactionInfo(e){return this.tronWeb.solidityNode.request("walletsolidity/gettransactioninfobyid",{value:e},"post")}getTransactionsToAddress(e=this.tronWeb.defaultAddress.hex,t=30,o=0){return this.getTransactionsRelated(this.tronWeb.address.toHex(e),"to",t,o)}getTransactionsFromAddress(e=this.tronWeb.defaultAddress.hex,t=30,o=0){return this.getTransactionsRelated(this.tronWeb.address.toHex(e),"from",t,o)}async getTransactionsRelated(e=this.tronWeb.defaultAddress.hex,t="all",o=30,i=0){if(this.tronWeb.fullnodeSatisfies(">=4.1.1"))throw new Error("This api is not supported any more");if(!["to","from","all"].includes(t))throw new Error('Invalid direction provided: Expected "to", "from" or "all"');if(t=="all"){const[n,s]=await Promise.all([this.getTransactionsRelated(e,"from",o,i),this.getTransactionsRelated(e,"to",o,i)]);return[...n.map(a=>(a.direction="from",a)),...s.map(a=>(a.direction="to",a))].sort((a,c)=>c.raw_data.timestamp-a.raw_data.timestamp)}if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");if(!Te.isInteger(o)||o<0||i&&o<1)throw new Error("Invalid limit provided");if(!Te.isInteger(i)||i<0)throw new Error("Invalid offset provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.solidityNode.request(`walletextension/gettransactions${t}this`,{account:{address:e},offset:i,limit:o},"post").then(({transaction:n})=>n)}async getAccount(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:e},"post")}getAccountById(e){return this.getAccountInfoById(e,{confirmed:!0})}async getAccountInfoById(e,t){return this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e}]),e.startsWith("0x")&&(e=e.slice(2)),this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getaccountbyid`,{account_id:e},"post")}async getBalance(e=this.tronWeb.defaultAddress.hex){const{balance:t=0}=await this.getAccount(e);return t}async getUnconfirmedAccount(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getaccount",{address:e},"post")}getUnconfirmedAccountById(e){return this.getAccountInfoById(e,{confirmed:!1})}async getUnconfirmedBalance(e=this.tronWeb.defaultAddress.hex){const{balance:t=0}=await this.getUnconfirmedAccount(e);return t}async getBandwidth(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getaccountnet",{address:e},"post").then(({freeNetUsed:t=0,freeNetLimit:o=0,NetUsed:i=0,NetLimit:n=0})=>o-t+(n-i))}async getTokensIssuedByAddress(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:e},"post").then(({assetIssue:t})=>t?t.map(i=>this._parseToken(i)).reduce((i,n)=>(i[n.name]=n,i),{}):{})}async getTokenFromID(e){if(Te.isInteger(e)&&(e=e.toString()),!Te.isString(e)||!e.length)throw new Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(e)},"post").then(t=>{if(!t.name)throw new Error("Token does not exist");return this._parseToken(t)})}async listNodes(){const{nodes:e=[]}=await this.tronWeb.fullNode.request("wallet/listnodes");return e.map(({address:{host:t,port:o}})=>`${this.tronWeb.toUtf8(t)}:${o}`)}async getBlockRange(e=0,t=30){if(!Te.isInteger(e)||e<0)throw new Error("Invalid start of range provided");if(!Te.isInteger(t)||t<e)throw new Error("Invalid end of range provided");if(t+1-e>100)throw new Error("Invalid range size, which should be no more than 100.");return this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(e),endNum:parseInt(t)+1},"post").then(({block:o=[]})=>o)}async listSuperRepresentatives(){const{witnesses:e=[]}=await this.tronWeb.fullNode.request("wallet/listwitnesses");return e}async listTokens(e=0,t=0){if(!Te.isInteger(e)||e<0||t&&e<1)throw new Error("Invalid limit provided");if(!Te.isInteger(t)||t<0)throw new Error("Invalid offset provided");return e?this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(t),limit:parseInt(e)},"post").then(({assetIssue:o=[]})=>o.map(i=>this._parseToken(i))):this.tronWeb.fullNode.request("wallet/getassetissuelist").then(({assetIssue:o=[]})=>o.map(i=>this._parseToken(i)))}async timeUntilNextVoteCycle(){const{num:e=-1}=await this.tronWeb.fullNode.request("wallet/getnextmaintenancetime");if(e==-1)throw new Error("Failed to get time until next vote cycle");return Math.floor(e/1e3)}async getContract(e){if(!this.tronWeb.isAddress(e))throw new Error("Invalid contract address provided");if(this.cache.contracts[e])return this.cache.contracts[e];e=this.tronWeb.address.toHex(e);const t=await this.tronWeb.fullNode.request("wallet/getcontract",{value:e});if(t.Error)throw new Error("Contract does not exist");return this.cache.contracts[e]=t,t}ecRecover(e){return Vo.ecRecover(e)}static ecRecover(e){if(!xd(e))throw new Error("Invalid transaction");if(!e.signature?.length)throw new Error("Transaction is not signed");if(e.signature.length===1){const t=Jg(e.txID,e.signature[0]);return Be.address.fromHex(t)}return e.signature.map(t=>{const o=Jg(e.txID,t);return Be.address.fromHex(o)})}async verifyMessage(e,t,o=this.tronWeb.defaultAddress.base58,i=!0){if(!Te.isHex(e))throw new Error("Expected hex message input");if(Vo.verifySignature(e,o,t,i))return!0;throw new Error("Signature does not match")}static verifySignature(e,t,o,i=!0){e=e.replace(/^0x/,"");const n=[...Yr(i?V2:H2),...Te.code.hexStr2byteArray(e)],s=Qe(new Uint8Array(n)),a=Ha(s,St.from(`0x${o.replace(/^0x/,"")}`)),c=On+a.substr(2);return Be.address.fromHex(c)==Be.address.fromHex(t)}async verifyMessageV2(e,t){return Vo.verifyMessageV2(e,t)}static verifyMessageV2(e,t){return Te.message.verifyMessage(e,t)}verifyTypedData(e,t,o,i,n=this.tronWeb.defaultAddress.base58){if(Vo.verifyTypedData(e,t,o,i,n))return!0;throw new Error("Signature does not match")}static verifyTypedData(e,t,o,i,n){const s=Te._TypedDataEncoder.hash(e,t,o),a=Ha(s,St.from(`0x${i.replace(/^0x/,"")}`)),c=On+a.substr(2);return Be.address.fromHex(c)==Be.address.fromHex(n)}async sign(e,t=this.tronWeb.defaultPrivateKey,o=!0,i=!1){if(Te.isString(e)){if(!Te.isHex(e))throw new Error("Expected hex message input");return Vo.signString(e,t,o)}if(!Te.isObject(e))throw new Error("Invalid transaction provided");if(!i&&e.signature)throw new Error("Transaction is already signed");if(!i){if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(t)).toLowerCase()!==this.tronWeb.address.toHex(e.raw_data.contract[0].parameter.value.owner_address))throw new Error("Private key does not match address in transaction");if(!xd(e))throw new Error("Invalid transaction")}return Te.crypto.signTransaction(t,e)}static signString(e,t,o=!0){e=e.replace(/^0x/,"");const i=`0x${t.replace(/^0x/,"")}`,n=new cr(i),s=[...Yr(o?V2:H2),...Te.code.hexStr2byteArray(e)],a=Qe(new Uint8Array(s)),c=n.sign(a);return["0x",c.r.substring(2),c.s.substring(2),Number(c.v).toString(16)].join("")}signMessageV2(e,t=this.tronWeb.defaultPrivateKey){return Vo.signMessageV2(e,t)}static signMessageV2(e,t){return Te.message.signMessage(e,t)}_signTypedData(e,t,o,i=this.tronWeb.defaultPrivateKey){return Vo._signTypedData(e,t,o,i)}static _signTypedData(e,t,o,i){return Te.crypto._signTypedData(e,t,o,i)}async multiSign(e,t=this.tronWeb.defaultPrivateKey,o=0){if(!Te.isObject(e)||!e.raw_data||!e.raw_data.contract)throw new Error("Invalid transaction provided");if(!e.raw_data.contract[0].Permission_id&&o>0){e.raw_data.contract[0].Permission_id=o;const i=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(t)).toLowerCase(),n=await this.getSignWeight(e,o);if(n.result.code==="PERMISSION_ERROR")throw new Error(n.result.message);let s=!1;if(n.permission.keys.map(a=>{a.address===i&&(s=!0)}),!s)throw new Error(t+" has no permission to sign");if(n.approved_list&&n.approved_list.indexOf(i)!=-1)throw new Error(t+" already sign transaction");if(n.transaction&&n.transaction.transaction)e=n.transaction.transaction,o>0&&(e.raw_data.contract[0].Permission_id=o);else throw new Error("Invalid transaction provided")}if(!xd(e))throw new Error("Invalid transaction");return Te.crypto.signTransaction(t,e)}async getApprovedList(e){if(!Te.isObject(e))throw new Error("Invalid transaction provided");return this.tronWeb.fullNode.request("wallet/getapprovedlist",e,"post")}async getSignWeight(e,t){if(!Te.isObject(e)||!e.raw_data||!e.raw_data.contract)throw new Error("Invalid transaction provided");return Te.isInteger(t)?e.raw_data.contract[0].Permission_id=parseInt(t):typeof e.raw_data.contract[0].Permission_id!="number"&&(e.raw_data.contract[0].Permission_id=0),this.tronWeb.fullNode.request("wallet/getsignweight",e,"post")}async sendRawTransaction(e){if(!Te.isObject(e))throw new Error("Invalid transaction provided");if(!e.signature||!Te.isArray(e.signature))throw new Error("Transaction is not signed");return{...await this.tronWeb.fullNode.request("wallet/broadcasttransaction",e,"post"),transaction:e}}async sendHexTransaction(e){if(!Te.isHex(e))throw new Error("Invalid hex transaction provided");const t={transaction:e},o=await this.tronWeb.fullNode.request("wallet/broadcasthex",t,"post");return o.result?{...o,transaction:JSON.parse(o.transaction),hexTransaction:e}:o}async sendTransaction(e,t,o={}){if(typeof o=="string"&&(o={privateKey:o}),!this.tronWeb.isAddress(e))throw new Error("Invalid recipient provided");if(!Te.isInteger(t)||t<=0)throw new Error("Invalid amount provided");if(o={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...o},!o.privateKey&&!o.address)throw new Error("Function requires either a private key or address to be set");const i=o.privateKey?this.tronWeb.address.fromPrivateKey(o.privateKey):o.address,n=await this.tronWeb.transactionBuilder.sendTrx(e,t,i),s=await this.sign(n,o.privateKey);return await this.sendRawTransaction(s)}async sendToken(e,t,o,i={}){if(typeof i=="string"&&(i={privateKey:i}),!this.tronWeb.isAddress(e))throw new Error("Invalid recipient provided");if(!Te.isInteger(t)||t<=0)throw new Error("Invalid amount provided");if(Te.isInteger(o)&&(o=o.toString()),!Te.isString(o))throw new Error("Invalid token ID provided");if(i={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...i},!i.privateKey&&!i.address)throw new Error("Function requires either a private key or address to be set");const n=i.privateKey?this.tronWeb.address.fromPrivateKey(i.privateKey):i.address,s=await this.tronWeb.transactionBuilder.sendToken(e,t,o,n),a=await this.sign(s,i.privateKey);return await this.sendRawTransaction(a)}async freezeBalance(e=0,t=3,o="BANDWIDTH",i={},n){if(typeof i=="string"&&(i={privateKey:i}),!["BANDWIDTH","ENERGY"].includes(o))throw new Error('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"');if(!Te.isInteger(e)||e<=0)throw new Error("Invalid amount provided");if(!Te.isInteger(t)||t<3)throw new Error("Invalid duration provided, minimum of 3 days");if(i={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...i},!i.privateKey&&!i.address)throw new Error("Function requires either a private key or address to be set");const s=i.privateKey?this.tronWeb.address.fromPrivateKey(i.privateKey):i.address,a=await this.tronWeb.transactionBuilder.freezeBalance(e,t,o,s,n),c=await this.sign(a,i.privateKey);return await this.sendRawTransaction(c)}async unfreezeBalance(e="BANDWIDTH",t={},o){if(typeof t=="string"&&(t={privateKey:t}),!["BANDWIDTH","ENERGY"].includes(e))throw new Error('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"');if(t={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...t},!t.privateKey&&!t.address)throw new Error("Function requires either a private key or address to be set");const i=t.privateKey?this.tronWeb.address.fromPrivateKey(t.privateKey):t.address,n=await this.tronWeb.transactionBuilder.unfreezeBalance(e,i,o),s=await this.sign(n,t.privateKey);return await this.sendRawTransaction(s)}async updateAccount(e,t={}){if(typeof t=="string"&&(t={privateKey:t}),!Te.isString(e)||!e.length)throw new Error("Name must be a string");if(t={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...t},!t.privateKey&&!t.address)throw Error("Function requires either a private key or address to be set");const o=t.privateKey?this.tronWeb.address.fromPrivateKey(t.privateKey):t.address,i=await this.tronWeb.transactionBuilder.updateAccount(e,o),n=await this.sign(i,t.privateKey);return await this.sendRawTransaction(n)}async getProposal(e){if(!Te.isInteger(e)||e<0)throw new Error("Invalid proposalID provided");return this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(e)},"post")}async listProposals(){const{proposals:e=[]}=await this.tronWeb.fullNode.request("wallet/listproposals",{},"post");return e}async getChainParameters(){const{chainParameter:e=[]}=await this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post");return e}async getAccountResources(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(e)},"post")}async getDelegatedResourceV2(e=this.tronWeb.defaultAddress.hex,t=this.tronWeb.defaultAddress.hex,o={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");if(!this.tronWeb.isAddress(t))throw new Error("Invalid address provided");return this.tronWeb[o.confirmed?"solidityNode":"fullNode"].request(`wallet${o.confirmed?"solidity":""}/getdelegatedresourcev2`,{fromAddress:yi(e),toAddress:yi(t)},"post")}async getDelegatedResourceAccountIndexV2(e=this.tronWeb.defaultAddress.hex,t={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getdelegatedresourceaccountindexv2`,{value:yi(e)},"post")}async getCanDelegatedMaxSize(e=this.tronWeb.defaultAddress.hex,t="BANDWIDTH",o={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return this.validator.notValid([{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]),this.tronWeb[o.confirmed?"solidityNode":"fullNode"].request(`wallet${o.confirmed?"solidity":""}/getcandelegatedmaxsize`,{owner_address:yi(e),type:t==="ENERGY"?1:0},"post")}async getAvailableUnfreezeCount(e=this.tronWeb.defaultAddress.hex,t={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getavailableunfreezecount`,{owner_address:yi(e)},"post")}async getCanWithdrawUnfreezeAmount(e=this.tronWeb.defaultAddress.hex,t=Date.now(),o={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw new Error("Invalid address provided");if(!Te.isInteger(t)||t<0)throw new Error("Invalid timestamp provided");return this.tronWeb[o.confirmed?"solidityNode":"fullNode"].request(`wallet${o.confirmed?"solidity":""}/getcanwithdrawunfreezeamount`,{owner_address:yi(e),timestamp:t},"post")}async getExchangeByID(e){if(!Te.isInteger(e)||e<0)throw new Error("Invalid exchangeID provided");return this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:e},"post")}async listExchanges(){return this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then(({exchanges:e=[]})=>e)}async listExchangesPaginated(e=10,t=0){return this.tronWeb.fullNode.request("wallet/getpaginatedexchangelist",{limit:e,offset:t},"post").then(({exchanges:o=[]})=>o)}async getNodeInfo(){return this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post")}async getTokenListByName(e){if(Te.isInteger(e)&&(e=e.toString()),!Te.isString(e)||!e.length)throw new Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(e)},"post").then(t=>{if(Array.isArray(t.assetIssue))return t.assetIssue.map(o=>this._parseToken(o));if(!t.name)throw new Error("Token does not exist");return this._parseToken(t)})}getTokenByID(e){if(Te.isInteger(e)&&(e=e.toString()),!Te.isString(e)||!e.length)throw new Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:e},"post").then(t=>{if(!t.name)throw new Error("Token does not exist");return this._parseToken(t)})}async getReward(e,t={}){return t.confirmed=!0,this._getReward(e,t)}async getUnconfirmedReward(e,t={}){return t.confirmed=!1,this._getReward(e,t)}async getBrokerage(e,t={}){return t.confirmed=!0,this._getBrokerage(e,t)}async getUnconfirmedBrokerage(e,t={}){return t.confirmed=!1,this._getBrokerage(e,t)}async _getReward(e=this.tronWeb.defaultAddress.hex,t){this.validator.notValid([{name:"origin",type:"address",value:e}]);const o={address:yi(e)};return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getReward`,o,"post").then((i={reward:void 0})=>{if(typeof i.reward>"u")throw new Error("Not found.");return i.reward})}async _getBrokerage(e=this.tronWeb.defaultAddress.hex,t){this.validator.notValid([{name:"origin",type:"address",value:e}]);const o={address:yi(e)};return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getBrokerage`,o,"post").then((i={})=>{if(typeof i.brokerage>"u")throw new Error("Not found.");return i.brokerage})}async getBandwidthPrices(){return this.tronWeb.fullNode.request("wallet/getbandwidthprices",{},"post").then((e={})=>{if(typeof e.prices>"u")throw new Error("Not found.");return e.prices})}async getEnergyPrices(){return this.tronWeb.fullNode.request("wallet/getenergyprices",{},"post").then((e={})=>{if(typeof e.prices>"u")throw new Error("Not found.");return e.prices})}}const O7=r=>{if("stateMutability"in r&&(r.stateMutability=r.stateMutability?r.stateMutability.toLowerCase():"nonpayable"),r.type=r.type?r.type.toLowerCase():"",r.type==="fallback"||r.type==="receive")return"0x";const e=new Te.ethersUtils.Interface([r]);let t;if(r.type==="event"?t=e.getEvent(r.name):t=e.getFunction(r.name),t)return t.format("sighash");throw new Error("unknown function")},P0=(r,e)=>x4(r,e);class R7{tronWeb;contract;abi;name;inputs;outputs;functionSelector;signature;defaultOptions;constructor(e,t){this.tronWeb=e.tronWeb,this.contract=e,this.abi=t,this.name=t.name||t.type,this.inputs=t.inputs||[],this.outputs=[],"outputs"in t&&t.outputs&&(this.outputs=t.outputs),this.functionSelector=O7(t),this.signature=e3(this.functionSelector,!1).slice(0,8),this.defaultOptions={feeLimit:this.tronWeb.feeLimit,callValue:0,userFeePercentage:100,shouldPollResponse:!1}}decodeInput(e){const t=JSON.parse(JSON.stringify(this.abi));return t.outputs=t.inputs,P0(t,"0x"+e)}onMethod(...e){let t="";return this.abi&&!/event/i.test(this.abi.type)&&(t=$d(this.abi,e)),{call:async(o={})=>(o={...o,rawParameter:t},await this._call([],[],o)),send:async(o={},i=this.tronWeb.defaultPrivateKey)=>(o={...o,rawParameter:t},await this._send([],[],o,i))}}async _call(e,t,o={}){if(e.length!==t.length)throw new Error("Invalid argument count provided");if(!this.contract.address)throw new Error("Smart contract is missing address");if(!this.contract.deployed)throw new Error("Calling smart contracts requires you to load the contract first");if("stateMutability"in this.abi){const{stateMutability:c}=this.abi;if(c&&!["pure","view"].includes(c.toLowerCase()))throw new Error(`Methods with state mutability "${c}" must use send()`)}o={...this.defaultOptions,from:this.tronWeb.defaultAddress.hex,...o,_isConstant:!0};const i=t.map((c,u)=>({type:e[u],value:c})),n=await this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,o,i,o.from?this.tronWeb.address.toHex(o.from):void 0);if(!Te.hasProperty(n,"constant_result"))throw new Error("Failed to execute");const s=n.constant_result[0].length;if(s===0||s%64===8){let c="The call has been reverted or has thrown an error.";if(s!==0){c+=" Error message: ";let u="";const l=n.constant_result[0].substring(8);for(let d=0;d<s-8;d+=64)u+=this.tronWeb.toUtf8(l.substring(d,d+64));c+=u.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}throw new Error(c)}let a=P0(this.abi,"0x"+n.constant_result[0]);return a.length===1&&Object.keys(a).length===1&&(a=a[0]),a}async _send(e,t,o={},i=this.tronWeb.defaultPrivateKey){if(e.length!==t.length)throw new Error("Invalid argument count provided");if(!this.contract.address)throw new Error("Smart contract is missing address");if(!this.contract.deployed)throw new Error("Calling smart contracts requires you to load the contract first");const{stateMutability:n}=this.abi;if(["pure","view"].includes(n.toLowerCase()))throw new Error(`Methods with state mutability "${n}" must use call()`);["payable"].includes(n.toLowerCase())||(o.callValue=0),o={...this.defaultOptions,from:this.tronWeb.defaultAddress.hex,...o};const s=t.map((h,b)=>({type:e[b],value:h})),a=i?this.tronWeb.address.fromPrivateKey(i):this.tronWeb.defaultAddress.base58,c=await this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,o,s,this.tronWeb.address.toHex(a));if(!c.result||!c.result.result)throw new Error("Unknown error: "+JSON.stringify(c,null,2));const u=await this.tronWeb.trx.sign(c.transaction,i);if(!u.signature)throw i?new Error("Invalid private key provided"):new Error("Transaction was not signed properly");const l=await this.tronWeb.trx.sendRawTransaction(u);if(l.code){const h={error:l.code,message:l.code};l.message&&(h.message=this.tronWeb.toUtf8(l.message));const b=new Error(h.message);throw b.error=l.code,b}if(!o.shouldPollResponse)return u.txID;const d=async h=>{if(h===(o.pollTimes||20)){const g=new Error("Cannot find result in solidity node");throw g.error="Cannot find result in solidity node",g.transaction=u,g}const b=await this.tronWeb.trx.getTransactionInfo(u.txID);if(!Object.keys(b).length)return await new Promise(g=>setTimeout(g,3e3)),d(h+1);if(b.result&&b.result==="FAILED"){const g=new Error(this.tronWeb.toUtf8(b.resMessage));throw g.error=this.tronWeb.toUtf8(b.resMessage),g.transaction=u,g.output=b,g}if(!Te.hasProperty(b,"contractResult")){const g=new Error("Failed to execute: "+JSON.stringify(b,null,2));throw g.error="Failed to execute: "+JSON.stringify(b,null,2),g.transaction=u,g.output=b,g}if(o.rawResponse)return b;let y=P0(this.abi,"0x"+b.contractResult[0]);return y.length===1&&Object.keys(y).length===1&&(y=y[0]),o.keepTxID?[u.txID,y]:y};return d(0)}}class M7{tronWeb;abi;address;eventListener;bytecode;deployed;lastBlock;methods;methodInstances;props;constructor(e,t=[],o){if(!e||!(e instanceof Be))throw new Error("Expected instance of TronWeb");this.tronWeb=e,this.address=o,this.abi=t,this.eventListener=!1,this.bytecode=!1,this.deployed=!1,this.lastBlock=!1,this.methods={},this.methodInstances={},this.props=[],Te.address.isAddress(o)?this.deployed=!0:this.address=!1,this.loadAbi(t)}hasProperty(e){return this.hasOwnProperty(e)||this.__proto__.hasOwnProperty(e)}loadAbi(e){this.abi=e,this.methods={},this.props.forEach(t=>delete this[t]),e.forEach(t=>{if(!t.type||/constructor|error/i.test(t.type))return;const o=new R7(this,t),i=o.onMethod.bind(o),{name:n,functionSelector:s,signature:a}=o;this.methods[n]=i,this.methods[s]=i,this.methods[a]=i,this.methodInstances[n]=o,this.methodInstances[s]=o,this.methodInstances[a]=o,this.hasProperty(n)||(this[n]=i,this.props.push(n)),this.hasProperty(s)||(this[s]=i,this.props.push(s)),this.hasProperty(a)||(this[a]=i,this.props.push(a))})}decodeInput(e){const t=e.substring(0,8),o=e.substring(8);if(!this.methodInstances[t])throw new Error("Contract method "+t+" not found");return{name:this.methodInstances[t].name,params:this.methodInstances[t].decodeInput(o)}}async new(e,t=this.tronWeb.defaultPrivateKey){const o=this.tronWeb.address.fromPrivateKey(t),i=await this.tronWeb.transactionBuilder.createSmartContract(e,o),n=await this.tronWeb.trx.sign(i,t),s=await this.tronWeb.trx.sendRawTransaction(n);if(s.code)throw{error:s.code,message:this.tronWeb.toUtf8(s.message)};return await Te.sleep(3e3),this.at(n.contract_address)}async at(e){try{const t=await this.tronWeb.trx.getContract(e);if(!t.contract_address)throw new Error("Unknown error: "+JSON.stringify(t,null,2));return this.address=t.contract_address,this.bytecode=t.bytecode,this.deployed=!0,this.loadAbi(t.abi?t.abi.entrys?t.abi.entrys:[]:[]),this}catch(t){throw t.toString().includes("does not exist")?new Error("Contract has not been deployed on the network"):new Error(t)}}}class N7{tronWeb;pluginNoOverride;disablePlugins;constructor(e,t={}){if(!e||!(e instanceof Be))throw new Error("Expected instance of TronWeb");this.tronWeb=e,this.pluginNoOverride=["register"],this.disablePlugins=!!t.disablePlugins}register(e,t){let o={requires:"0.0.0",components:{}};const i={libs:[],plugged:[],skipped:[],error:void 0};if(this.disablePlugins)return i.error="This instance of TronWeb has plugins disabled.",i;const n=new e(this.tronWeb);if(Te.isFunction(n.pluginInterface)&&(o=n.pluginInterface(t)),w4.satisfies(Be.version,o.requires))if(o.fullClass){const s=n.constructor.name,a=s.substring(0,1).toLowerCase()+s.substring(1);s!==a&&(Object.assign(Be,{[s]:e}),Object.assign(this.tronWeb,{[a]:n}),i.libs.push(s))}else for(const s in o.components){if(!this.tronWeb.hasOwnProperty(s))continue;const a=o.components[s],c=this.tronWeb[s].pluginNoOverride||[];for(const u in a){if(u==="constructor"||this.tronWeb[s][u]&&(c.includes(u)||/^_/.test(u))){i.skipped.push(u);continue}this.tronWeb[s][u]=a[u].bind(this.tronWeb[s]),i.plugged.push(u)}}else throw new Error("The plugin is not compatible with this version of TronWeb");return i}}class $7{tronWeb;constructor(e){if(!e||!(e instanceof Be))throw new Error("Expected instance of TronWeb");this.tronWeb=e}setServer(e,t="healthcheck"){if(!e)return this.tronWeb.eventServer=void 0;if(Te.isString(e)&&(e=new h4(e)),!this.tronWeb.isValidProvider(e))throw new Error("Invalid event server provided");this.tronWeb.eventServer=e,this.tronWeb.eventServer.isConnected=()=>this.tronWeb.eventServer.request(t).then(()=>!0).catch(()=>!1)}async getEventsByContractAddress(e,t={}){const o=Object.assign({limit:20},t),{eventName:i,blockNumber:n,onlyUnconfirmed:s,onlyConfirmed:a,minBlockTimestamp:c,maxBlockTimestamp:u,orderBy:l,fingerprint:d}=o;let{limit:h}=o;if(!this.tronWeb.eventServer)throw new Error("No event server configured");if(!this.tronWeb.isAddress(e))throw new Error("Invalid contract address provided");if(typeof c<"u"&&!Te.isInteger(c))throw new Error("Invalid minBlockTimestamp provided");if(typeof u<"u"&&!Te.isInteger(u))throw new Error("Invalid maxBlockTimestamp provided");Te.isInteger(h)&&h>200&&(console.warn("Defaulting to maximum accepted limit: 200"),h=200);const b={};i&&(b.event_name=i),n&&(b.block_number=n),typeof s=="boolean"&&(b.only_unconfirmed=s),typeof a=="boolean"&&(b.only_confirmed=a),c&&(b.min_block_timestamp=c),u&&(b.max_block_timestamp=u),l&&(b.order_by=l),d&&(b.fingerprint=d),Te.isInteger(h)&&(b.limit=h);const y=await this.tronWeb.eventServer.request(`v1/contracts/${this.tronWeb.address.fromHex(e)}/events?${new URLSearchParams(b).toString()}`);if(y.success)return y;throw new Error(y.error)}async getEventsByTransactionID(e,t={}){if(!this.tronWeb.eventServer)throw new Error("No event server configured");const o={};return typeof t.only_unconfirmed=="boolean"&&(o.only_unconfirmed=t.only_unconfirmed),typeof t.only_confirmed=="boolean"&&(o.only_confirmed=t.only_confirmed),this.tronWeb.eventServer.request(`v1/transactions/${e}/events?${new URLSearchParams(o).toString()}`).then(i=>{if(i.success)return i;throw new Error(JSON.parse(i.error).message)})}async getEventsByBlockNumber(e,t={}){if(!this.tronWeb.eventServer)throw new Error("No event server configured");const o={};return typeof t.only_confirmed=="boolean"&&(o.only_confirmed=t.only_confirmed),t.limit&&(o.limit=t.limit),t.fingerprint&&(o.fingerprint=t.fingerprint),this.tronWeb.eventServer.request(`v1/blocks/${e}/events?${new URLSearchParams(o).toString()}`).then(i=>{if(i.success)return i;throw new Error(i.error)})}async getEventsOfLatestBlock(e={}){if(!this.tronWeb.eventServer)throw new Error("No event server configured");const t={};return typeof e.only_confirmed=="boolean"&&(t.only_confirmed=e.only_confirmed),this.tronWeb.eventServer.request(`v1/blocks/latest/events?${new URLSearchParams(t).toString()}`).then(o=>{if(o.success)return o;throw new Error(o.error)})}}const G2="4.7.1",F7=15e7,U7="6.0.3";function K2(r){return!!r&&typeof r=="object"&&(!!r.fullNode||!!r.fullHost)}class Be extends ER{providers;BigNumber;transactionBuilder;trx;plugin;event;version;static version=U7;utils;defaultBlock;defaultPrivateKey;defaultAddress;fullnodeVersion;feeLimit;fullNode;solidityNode;eventServer;constructor(e,t="",o,i=""){super();let n,s=!1,a=!1;K2(e)?(n=e.fullNode||e.fullHost,t=e.solidityNode||e.fullHost,o=e.eventServer||e.fullHost,s=e.headers||!1,a=e.eventHeaders||s,i=e.privateKey):n=e,Te.isString(n)&&(n=new rn.HttpProvider(n)),Te.isString(t)&&(t=new rn.HttpProvider(t)),Te.isString(o)&&(o=new rn.HttpProvider(o)),this.event=new $7(this),this.transactionBuilder=new W7(this),this.trx=new Vo(this),this.plugin=new N7(this,{disablePlugins:K2(e)?e.disablePlugins:!1}),this.utils=Te,this.setFullNode(n),this.setSolidityNode(t),this.setEventServer(o),this.providers=rn,this.BigNumber=dd,this.defaultBlock=!1,this.defaultPrivateKey=!1,this.defaultAddress={hex:!1,base58:!1},this.version=Be.version,this.sha3=Be.sha3,this.fromUtf8=Be.fromUtf8,this.address=Be.address,this.toAscii=Be.toAscii,this.toUtf8=Be.toUtf8,this.isAddress=Be.isAddress,this.fromAscii=Be.fromAscii,this.toHex=Be.toHex,this.toBigNumber=Be.toBigNumber,this.toDecimal=Be.toDecimal,this.fromDecimal=Be.fromDecimal,this.toSun=Be.toSun,this.fromSun=Be.fromSun,this.createAccount=Be.createAccount,this.createRandom=Be.createRandom,this.fromMnemonic=Be.fromMnemonic,i&&this.setPrivateKey(i),this.fullnodeVersion=G2,this.feeLimit=F7,s&&this.setFullNodeHeader(s),a&&this.setEventHeader(a)}async getFullnodeVersion(){try{const e=await this.trx.getNodeInfo();this.fullnodeVersion=e.configNodeInfo.codeVersion,this.fullnodeVersion.split(".").length===2&&(this.fullnodeVersion+=".0")}catch{this.fullnodeVersion=G2}}setDefaultBlock(e=!1){if([!1,"latest","earliest",0].includes(e))return this.defaultBlock=e;if(!Te.isInteger(e)||!e)throw new Error("Invalid block ID provided");return this.defaultBlock=Math.abs(e)}setPrivateKey(e){try{this.setAddress(Be.address.fromPrivateKey(e))}catch{throw new Error("Invalid private key provided")}this.defaultPrivateKey=e,this.emit("privateKeyChanged",e)}setAddress(e){if(!Be.isAddress(e))throw new Error("Invalid address provided");const t=Be.address.toHex(e),o=Be.address.fromHex(e);this.defaultPrivateKey&&Be.address.fromPrivateKey(this.defaultPrivateKey)!==o&&(this.defaultPrivateKey=!1),this.defaultAddress={hex:t,base58:o},this.emit("addressChanged",{hex:t,base58:o})}fullnodeSatisfies(e){return w4.satisfies(this.fullnodeVersion,e)}isValidProvider(e){return Object.values(rn).some(t=>e instanceof t)}setFullNode(e){if(Br(e)&&(e=new rn.HttpProvider(e)),!this.isValidProvider(e))throw new Error("Invalid full node provided");this.fullNode=e,this.fullNode.setStatusPage("wallet/getnowblock")}setSolidityNode(e){if(Te.isString(e)&&(e=new rn.HttpProvider(e)),!this.isValidProvider(e))throw new Error("Invalid solidity node provided");this.solidityNode=e,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}setEventServer(e,t){this.event.setServer(e,t)}setHeader(e={}){const t=new rn.HttpProvider(this.fullNode.host,3e4,"","",e),o=new rn.HttpProvider(this.solidityNode.host,3e4,"","",e),i=new rn.HttpProvider(this.eventServer.host,3e4,"","",e);this.setFullNode(t),this.setSolidityNode(o),this.setEventServer(i)}setFullNodeHeader(e={}){const t=new rn.HttpProvider(this.fullNode.host,3e4,"","",e),o=new rn.HttpProvider(this.solidityNode.host,3e4,"","",e);this.setFullNode(t),this.setSolidityNode(o)}setEventHeader(e={}){const t=new rn.HttpProvider(this.eventServer.host,3e4,"","",e);this.setEventServer(t)}currentProviders(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}currentProvider(){return this.currentProviders()}getEventResult(...e){return this.event.getEventsByContractAddress(...e)}getEventByTransactionID(...e){return this.event.getEventsByTransactionID(...e)}contract(e=[],t){return new M7(this,e,t)}address;static get address(){return{fromHex(e){return NI(e)},toHex(e){return Se(e)},toChecksumAddress(e){return mb(e)},isChecksumAddress(e){return $I(e)},fromPrivateKey(e,t=!1){return FI(e,t)}}}sha3;static sha3(e,t=!0){return(t?"0x":"")+Qe(qe.from(e,"utf-8")).toString().substring(2)}toHex;static toHex(e){if(Te.isBoolean(e))return Be.fromDecimal(+e);if(Te.isBigNumber(e))return Be.fromDecimal(e);if(typeof e=="object")return Be.fromUtf8(JSON.stringify(e));if(Te.isString(e)){if(/^(-|)0x/.test(e))return e;if(!isFinite(e)||/^\s*$/.test(e))return Be.fromUtf8(e)}const t=Be.fromDecimal(e);if(t==="0xNaN")throw new Error("The passed value is not convertible to a hex string");return t}toUtf8;static toUtf8(e){if(Te.isHex(e))return e=e.replace(/^0x/,""),qe.from(e,"hex").toString("utf8");throw new Error("The passed value is not a valid hex string")}fromUtf8;static fromUtf8(e){if(!Te.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+qe.from(e,"utf8").toString("hex")}toAscii;static toAscii(e){if(Te.isHex(e)){let t="",o=0;const i=e.length;for(e.substring(0,2)==="0x"&&(o=2);o<i;o+=2){const n=parseInt(e.substr(o,2),16);t+=String.fromCharCode(n)}return t}else throw new Error("The passed value is not a valid hex string")}fromAscii;static fromAscii(e,t){if(!Te.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+qe.from(e,"ascii").toString("hex").padEnd(t,"0")}toDecimal;static toDecimal(e){return Be.toBigNumber(e).toNumber()}fromDecimal;static fromDecimal(e){const t=Be.toBigNumber(e),o=t.toString(16);return t.isLessThan(0)?"-0x"+o.substr(1):"0x"+o}fromSun;static fromSun(e){const t=Be.toBigNumber(e).div(1e6);return Te.isBigNumber(e)?t:t.toString(10)}toSun;static toSun(e){const t=Be.toBigNumber(e).times(1e6);return Te.isBigNumber(e)?t:t.toString(10)}toBigNumber;static toBigNumber(e=0){return Te.isBigNumber(e)?e:Te.isString(e)&&/^(-|)0x/.test(e)?new dd(e.replace("0x",""),16):new dd(e.toString(10),10)}isAddress;static isAddress(e=""){return mu(e)}createAccount;static async createAccount(){return Te.accounts.generateAccount()}createRandom;static createRandom(...e){return Te.accounts.generateRandom(...e)}fromMnemonic;static fromMnemonic(...e){return Te.accounts.generateAccountWithMnemonic(...e)}async isConnected(){return{fullNode:await this.fullNode.isConnected(),solidityNode:await this.solidityNode.isConnected(),eventServer:this.eventServer&&await this.eventServer.isConnected()}}}function k7(r){return Be.address.toHex(r).replace(Ga,"0x")}function D7(r){return Be.address.toHex(r)}const F4=new Uint8Array(32);F4.fill(0);const L7=BigInt(-1),U4=BigInt(0),k4=BigInt(1),z7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function q7(r){const e=Ce(r),t=e.length%32;return t?wt([e,F4.slice(t)]):ve(e)}const j7=Qn(k4,32),V7=Qn(U4,32),Z2={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},I0=["name","version","chainId","verifyingContract","salt"];function Y2(r){return function(e){return X(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const H7={name:Y2("name"),version:Y2("version"),chainId:function(r){const e=bt(r,"domain.chainId");return X(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):JE(e)},verifyingContract:function(r){try{return D7(r).toLowerCase()}catch{}X(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=Ce(r,"domain.salt");return X(e.length===32,'invalid domain value "salt"',"domain.salt",r),ve(e)}};function vd(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",o=parseInt(e[2]||"256");X(o%8===0&&o!==0&&o<=256&&(e[2]==null||e[2]===String(o)),"invalid numeric width","type",r);const i=Ra(z7,t?o-1:o),n=t?(i+k4)*L7:U4;return function(s){const a=bt(s,"value");return X(a>=n&&a<=i,`value out-of-bounds for ${r}`,"value",a),Qn(t?Xy(a,256):a,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return X(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(o){const i=Ce(o);return X(i.length===t,`invalid length for ${r}`,"value",o),q7(o)}}}switch(r){case"trcToken":return vd("uint256");case"address":return function(e){return ki(k7(e),32)};case"bool":return function(e){return e?j7:V7};case"bytes":return function(e){return Qe(e)};case"string":return function(e){return eo(e)}}return null}function J2(r,e){return`${r}(${e.map(({name:t,type:o})=>o+" "+t).join(",")})`}class sn{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#e=JSON.stringify(e),this.#t=new Map,this.#r=new Map;const t=new Map,o=new Map,i=new Map;Object.keys(e).forEach(a=>{t.set(a,new Set),o.set(a,[]),i.set(a,new Set)});for(const a in e){const c=new Set;for(const u of e[a]){X(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),c.add(u.name);const l=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;X(l!==a,`circular type reference to ${JSON.stringify(l)}`,"types",e),!vd(l)&&(X(o.has(l),`unknown type ${JSON.stringify(l)}`,"types",e),o.get(l).push(a),t.get(a).add(l))}}const n=Array.from(o.keys()).filter(a=>o.get(a).length===0);X(n.length!==0,"missing primary type","types",e),X(n.length===1,`ambiguous primary types or unused types: ${n.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Ye(this,{primaryType:n[0]});function s(a,c){X(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),c.add(a);for(const u of t.get(a))if(o.has(u)){s(u,c);for(const l of c)i.get(l).add(u)}c.delete(a)}s(this.primaryType,new Set);for(const[a,c]of i){const u=Array.from(c);u.sort(),this.#t.set(a,J2(a,e[a])+u.map(l=>J2(l,e[l])).join(""))}}getEncoder(e){let t=this.#r.get(e);return t||(t=this.#n(e),this.#r.set(e,t)),t}#n(e){{const i=vd(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],n=this.getEncoder(i);return s=>{X(!t[3]||parseInt(t[3])===s.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",s);let a=s.map(n);return this.#t.has(i)&&(a=a.map(Qe)),Qe(wt(a))}}const o=this.types[e];if(o){const i=eo(this.#t.get(e));return n=>{const s=o.map(({name:a,type:c})=>{const u=this.getEncoder(c)(n[a]);return this.#t.has(c)?Qe(u):u});return s.unshift(i),wt(s)}}X(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return X(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Qe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,o){if(vd(e))return o(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return X(!i[3]||parseInt(i[3])===t.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",t),t.map(s=>this._visit(i[1],s,o));const n=this.types[e];if(n)return n.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,t[a],o),s),{});X(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new sn(e)}static getPrimaryType(e){return sn.from(e).primaryType}static hashStruct(e,t,o){return sn.from(t).hashStruct(e,o)}static hashDomain(e){const t=[];for(const o in e){if(e[o]==null)continue;const i=Z2[o];X(i,`invalid typed-data domain key: ${JSON.stringify(o)}`,"domain",e),t.push({name:o,type:i})}return t.sort((o,i)=>I0.indexOf(o.name)-I0.indexOf(i.name)),sn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,o){return wt(["0x1901",sn.hashDomain(e),sn.from(t).hash(o)])}static hash(e,t,o){return Qe(sn.encode(e,t,o))}static async resolveNames(e,t,o,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const n={};e.verifyingContract&&!Tr(e.verifyingContract,20)&&(n[e.verifyingContract]="0x");const s=sn.from(t);s.visit(o,(a,c)=>(a==="address"&&!Tr(c,20)&&(n[c]="0x"),c));for(const a in n)n[a]=await i(a);return e.verifyingContract&&n[e.verifyingContract]&&(e.verifyingContract=n[e.verifyingContract]),o=s.visit(o,(a,c)=>a==="address"&&n[c]?n[c]:c),{domain:e,value:o}}static getPayload(e,t,o){sn.hashDomain(e);const i={},n=[];I0.forEach(c=>{const u=e[c];u!=null&&(i[c]=H7[c](u),n.push({name:c,type:Z2[c]}))});const s=sn.from(t),a=Object.assign({},t);return X(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=n,s.encode(o),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(o,(c,u)=>{if(c.match(/^bytes(\d*)/))return ve(Ce(u));if(c.match(/^u?int/))return bt(u).toString();switch(c){case"trcToken":return bt(u).toString();case"address":return u.toLowerCase();case"bool":return!!u;case"string":return X(typeof u=="string","invalid string","value",u),u}X(!1,"unsupported type","type",c)})}}}function X2(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function G7(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Sh(r,...e){if(!G7(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${r.length}`)}function K7(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");X2(r.outputLen),X2(r.blockLen)}function Fd(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Z7(r,e){Sh(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const B0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C0=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),lo=(r,e)=>r<<32-e|r>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Y7(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Ob(r){return typeof r=="string"&&(r=Y7(r)),Sh(r),r}function J7(...r){let e=0;for(let o=0;o<r.length;o++){const i=r[o];Sh(i),e+=i.length}const t=new Uint8Array(e);for(let o=0,i=0;o<r.length;o++){const n=r[o];t.set(n,i),i+=n.length}return t}let D4=class{clone(){return this._cloneInto()}};function X7(r){const e=o=>r().update(Ob(o)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Q7(r=32){if(B0&&typeof B0.getRandomValues=="function")return B0.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}function eM(r,e,t,o){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,o);const i=BigInt(32),n=BigInt(4294967295),s=Number(t>>i&n),a=Number(t&n),c=o?4:0,u=o?0:4;r.setUint32(e+c,s,o),r.setUint32(e+u,a,o)}const tM=(r,e,t)=>r&e^~r&t,rM=(r,e,t)=>r&e^r&t^e&t;class nM extends D4{constructor(e,t,o,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C0(this.buffer)}update(e){Fd(this);const{view:t,buffer:o,blockLen:i}=this;e=Ob(e);const n=e.length;for(let s=0;s<n;){const a=Math.min(i-this.pos,n-s);if(a===i){const c=C0(e);for(;i<=n-s;s+=i)this.process(c,s);continue}o.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fd(this),Z7(e,this),this.finished=!0;const{buffer:t,view:o,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(o,0),s=0);for(let d=s;d<i;d++)t[d]=0;eM(o,i-8,BigInt(this.length*8),n),this.process(o,0);const a=C0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const o=e.slice(0,t);return this.destroy(),o}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:o,length:i,finished:n,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(o),e}}const oM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wi=new Uint32Array(64);let iM=class extends nM{constructor(){super(64,32,8,!1),this.A=bi[0]|0,this.B=bi[1]|0,this.C=bi[2]|0,this.D=bi[3]|0,this.E=bi[4]|0,this.F=bi[5]|0,this.G=bi[6]|0,this.H=bi[7]|0}get(){const{A:e,B:t,C:o,D:i,E:n,F:s,G:a,H:c}=this;return[e,t,o,i,n,s,a,c]}set(e,t,o,i,n,s,a,c){this.A=e|0,this.B=t|0,this.C=o|0,this.D=i|0,this.E=n|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)wi[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=wi[d-15],b=wi[d-2],y=lo(h,7)^lo(h,18)^h>>>3,g=lo(b,17)^lo(b,19)^b>>>10;wi[d]=g+wi[d-7]+y+wi[d-16]|0}let{A:o,B:i,C:n,D:s,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=lo(a,6)^lo(a,11)^lo(a,25),b=l+h+tM(a,c,u)+oM[d]+wi[d]|0,g=(lo(o,2)^lo(o,13)^lo(o,22))+rM(o,i,n)|0;l=u,u=c,c=a,a=s+b|0,s=n,n=i,i=o,o=b+g|0}o=o+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(o,i,n,s,a,c,u,l)}roundClean(){wi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sM=X7(()=>new iM);class L4 extends D4{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,K7(e);const o=Ob(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(o.length>i?e.create().update(o).digest():o);for(let s=0;s<n.length;s++)n[s]^=54;this.iHash.update(n),this.oHash=e.create();for(let s=0;s<n.length;s++)n[s]^=106;this.oHash.update(n),n.fill(0)}update(e){return Fd(this),this.iHash.update(e),this}digestInto(e){Fd(this),Sh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:o,finished:i,destroyed:n,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=o._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const z4=(r,e,t)=>new L4(r,e).update(t).digest();z4.create=(r,e)=>new L4(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q4=BigInt(0),Wh=BigInt(1),aM=BigInt(2);function Ss(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Au(r){if(!Ss(r))throw new Error("Uint8Array expected")}const cM=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Ka(r){Au(r);let e="";for(let t=0;t<r.length;t++)e+=cM[r[t]];return e}function j4(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Rb(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}const No={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Q2(r){if(r>=No._0&&r<=No._9)return r-No._0;if(r>=No._A&&r<=No._F)return r-(No._A-10);if(r>=No._a&&r<=No._f)return r-(No._a-10)}function Za(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const o=new Uint8Array(t);for(let i=0,n=0;i<t;i++,n+=2){const s=Q2(r.charCodeAt(n)),a=Q2(r.charCodeAt(n+1));if(s===void 0||a===void 0){const c=r[n]+r[n+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+n)}o[i]=s*16+a}return o}function Ps(r){return Rb(Ka(r))}function Mb(r){return Au(r),Rb(Ka(Uint8Array.from(r).reverse()))}function Ya(r,e){return Za(r.toString(16).padStart(e*2,"0"))}function Nb(r,e){return Ya(r,e).reverse()}function uM(r){return Za(j4(r))}function Zn(r,e,t){let o;if(typeof e=="string")try{o=Za(e)}catch(n){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${n}`)}else if(Ss(e))o=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const i=o.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return o}function ou(...r){let e=0;for(let o=0;o<r.length;o++){const i=r[o];Au(i),e+=i.length}const t=new Uint8Array(e);for(let o=0,i=0;o<r.length;o++){const n=r[o];t.set(n,i),i+=n.length}return t}function lM(r,e){if(r.length!==e.length)return!1;let t=0;for(let o=0;o<r.length;o++)t|=r[o]^e[o];return t===0}function fM(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function dM(r){let e;for(e=0;r>q4;r>>=Wh,e+=1);return e}function hM(r,e){return r>>BigInt(e)&Wh}function pM(r,e,t){return r|(t?Wh:q4)<<BigInt(e)}const $b=r=>(aM<<BigInt(r-1))-Wh,_0=r=>new Uint8Array(r),ev=r=>Uint8Array.from(r);function V4(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let o=_0(r),i=_0(r),n=0;const s=()=>{o.fill(1),i.fill(0),n=0},a=(...d)=>t(i,o,...d),c=(d=_0())=>{i=a(ev([0]),d),o=a(),d.length!==0&&(i=a(ev([1]),d),o=a())},u=()=>{if(n++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){o=a();const b=o.slice();h.push(b),d+=o.length}return ou(...h)};return(d,h)=>{s(),c(d);let b;for(;!(b=h(u()));)c();return s(),b}}const gM={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Ss(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Eu(r,e,t={}){const o=(i,n,s)=>{const a=gM[n];if(typeof a!="function")throw new Error(`Invalid validator "${n}", expected function`);const c=r[i];if(!(s&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${n}`)};for(const[i,n]of Object.entries(e))o(i,n,!1);for(const[i,n]of Object.entries(t))o(i,n,!0);return r}const yM=Object.freeze(Object.defineProperty({__proto__:null,abytes:Au,bitGet:hM,bitLen:dM,bitMask:$b,bitSet:pM,bytesToHex:Ka,bytesToNumberBE:Ps,bytesToNumberLE:Mb,concatBytes:ou,createHmacDrbg:V4,ensureBytes:Zn,equalBytes:lM,hexToBytes:Za,hexToNumber:Rb,isBytes:Ss,numberToBytesBE:Ya,numberToBytesLE:Nb,numberToHexUnpadded:j4,numberToVarBytesBE:uM,utf8ToBytes:fM,validateObject:Eu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),Ft=BigInt(1),us=BigInt(2),bM=BigInt(3),Gg=BigInt(4),tv=BigInt(5),rv=BigInt(8);BigInt(9);BigInt(16);function Hr(r,e){const t=r%e;return t>=tr?t:e+t}function wM(r,e,t){if(t<=tr||e<tr)throw new Error("Expected power/modulo > 0");if(t===Ft)return tr;let o=Ft;for(;e>tr;)e&Ft&&(o=o*r%t),r=r*r%t,e>>=Ft;return o}function bn(r,e,t){let o=r;for(;e-- >tr;)o*=o,o%=t;return o}function Kg(r,e){if(r===tr||e<=tr)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Hr(r,e),o=e,i=tr,n=Ft;for(;t!==tr;){const a=o/t,c=o%t,u=i-n*a;o=t,t=c,i=n,n=u}if(o!==Ft)throw new Error("invert: does not exist");return Hr(i,e)}function mM(r){const e=(r-Ft)/us;let t,o,i;for(t=r-Ft,o=0;t%us===tr;t/=us,o++);for(i=us;i<r&&wM(i,e,r)!==r-Ft;i++);if(o===1){const s=(r+Ft)/Gg;return function(c,u){const l=c.pow(u,s);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const n=(t+Ft)/us;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=o,l=a.pow(a.mul(a.ONE,i),t),d=a.pow(c,n),h=a.pow(c,t);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let b=1;for(let g=a.sqr(h);b<u&&!a.eql(g,a.ONE);b++)g=a.sqr(g);const y=a.pow(l,Ft<<BigInt(u-b-1));l=a.sqr(y),d=a.mul(d,y),h=a.mul(h,l),u=b}return d}}function xM(r){if(r%Gg===bM){const e=(r+Ft)/Gg;return function(o,i){const n=o.pow(i,e);if(!o.eql(o.sqr(n),i))throw new Error("Cannot find square root");return n}}if(r%rv===tv){const e=(r-tv)/rv;return function(o,i){const n=o.mul(i,us),s=o.pow(n,e),a=o.mul(i,s),c=o.mul(o.mul(a,us),s),u=o.mul(a,o.sub(c,o.ONE));if(!o.eql(o.sqr(u),i))throw new Error("Cannot find square root");return u}}return mM(r)}const vM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TM(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=vM.reduce((o,i)=>(o[i]="function",o),e);return Eu(r,t)}function AM(r,e,t){if(t<tr)throw new Error("Expected power > 0");if(t===tr)return r.ONE;if(t===Ft)return e;let o=r.ONE,i=e;for(;t>tr;)t&Ft&&(o=r.mul(o,i)),i=r.sqr(i),t>>=Ft;return o}function EM(r,e){const t=new Array(e.length),o=e.reduce((n,s,a)=>r.is0(s)?n:(t[a]=n,r.mul(n,s)),r.ONE),i=r.inv(o);return e.reduceRight((n,s,a)=>r.is0(s)?n:(t[a]=r.mul(n,t[a]),r.mul(n,s)),i),t}function H4(r,e){const t=e!==void 0?e:r.toString(2).length,o=Math.ceil(t/8);return{nBitLength:t,nByteLength:o}}function PM(r,e,t=!1,o={}){if(r<=tr)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:i,nByteLength:n}=H4(r,e);if(n>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=xM(r),a=Object.freeze({ORDER:r,BITS:i,BYTES:n,MASK:$b(i),ZERO:tr,ONE:Ft,create:c=>Hr(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return tr<=c&&c<r},is0:c=>c===tr,isOdd:c=>(c&Ft)===Ft,neg:c=>Hr(-c,r),eql:(c,u)=>c===u,sqr:c=>Hr(c*c,r),add:(c,u)=>Hr(c+u,r),sub:(c,u)=>Hr(c-u,r),mul:(c,u)=>Hr(c*u,r),pow:(c,u)=>AM(a,c,u),div:(c,u)=>Hr(c*Kg(u,r),r),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Kg(c,r),sqrt:o.sqrt||(c=>s(a,c)),invertBatch:c=>EM(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Nb(c,n):Ya(c,n),fromBytes:c=>{if(c.length!==n)throw new Error(`Fp.fromBytes: expected ${n}, got ${c.length}`);return t?Mb(c):Ps(c)}});return Object.freeze(a)}function G4(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function K4(r){const e=G4(r);return e+Math.ceil(e/2)}function IM(r,e,t=!1){const o=r.length,i=G4(e),n=K4(e);if(o<16||o<n||o>1024)throw new Error(`expected ${n}-1024 bytes of input, got ${o}`);const s=t?Ps(r):Mb(r),a=Hr(s,e-Ft)+Ft;return t?Nb(a,i):Ya(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BM=BigInt(0),S0=BigInt(1);function CM(r,e){const t=(i,n)=>{const s=n.negate();return i?s:n},o=i=>{const n=Math.ceil(e/i)+1,s=2**(i-1);return{windows:n,windowSize:s}};return{constTimeNegate:t,unsafeLadder(i,n){let s=r.ZERO,a=i;for(;n>BM;)n&S0&&(s=s.add(a)),a=a.double(),n>>=S0;return s},precomputeWindow(i,n){const{windows:s,windowSize:a}=o(n),c=[];let u=i,l=u;for(let d=0;d<s;d++){l=u,c.push(l);for(let h=1;h<a;h++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,n,s){const{windows:a,windowSize:c}=o(i);let u=r.ZERO,l=r.BASE;const d=BigInt(2**i-1),h=2**i,b=BigInt(i);for(let y=0;y<a;y++){const g=y*c;let w=Number(s&d);s>>=b,w>c&&(w-=h,s+=S0);const I=g,P=g+Math.abs(w)-1,B=y%2!==0,M=w<0;w===0?l=l.add(t(B,n[I])):u=u.add(t(M,n[P]))}return{p:u,f:l}},wNAFCached(i,n,s,a){const c=i._WINDOW_SIZE||1;let u=n.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&n.set(i,a(u))),this.wNAF(c,u,s)}}}function Z4(r){return TM(r.Fp),Eu(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...H4(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _M(r){const e=Z4(r);Eu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:o,a:i}=e;if(t){if(!o.eql(i,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:SM,hexToBytes:WM}=yM,ys={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=ys;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],o=r.subarray(2,t+2);if(!t||o.length!==t)throw new e("Invalid signature integer: wrong length");if(o[0]&128)throw new e("Invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:SM(o),l:r.subarray(t+2)}},toSig(r){const{Err:e}=ys,t=typeof r=="string"?WM(r):r;Au(t);let o=t.length;if(o<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==o-2)throw new e("Invalid signature: incorrect length");const{d:i,l:n}=ys._parseInt(t.subarray(2)),{d:s,l:a}=ys._parseInt(n);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(r){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},o=e(t(r.s)),i=e(t(r.r)),n=o.length/2,s=i.length/2,a=t(n),c=t(s);return`30${t(s+n+4)}02${c}${i}02${a}${o}`}},Yo=BigInt(0),Cn=BigInt(1);BigInt(2);const nv=BigInt(3);BigInt(4);function OM(r){const e=_M(r),{Fp:t}=e,o=e.toBytes||((y,g,w)=>{const I=g.toAffine();return ou(Uint8Array.from([4]),t.toBytes(I.x),t.toBytes(I.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),w=t.fromBytes(g.subarray(0,t.BYTES)),I=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x:w,y:I}});function n(y){const{a:g,b:w}=e,I=t.sqr(y),P=t.mul(I,y);return t.add(t.add(P,t.mul(y,g)),w)}if(!t.eql(t.sqr(e.Gy),n(e.Gx)))throw new Error("bad generator point: equation left != right");function s(y){return typeof y=="bigint"&&Yo<y&&y<e.n}function a(y){if(!s(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){const{allowedPrivateKeyLengths:g,nByteLength:w,wrapPrivateKey:I,n:P}=e;if(g&&typeof y!="bigint"){if(Ss(y)&&(y=Ka(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let B;try{B=typeof y=="bigint"?y:Ps(Zn("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return I&&(B=Hr(B,P)),a(B),B}const u=new Map;function l(y){if(!(y instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,w,I){if(this.px=g,this.py=w,this.pz=I,g==null||!t.isValid(g))throw new Error("x required");if(w==null||!t.isValid(w))throw new Error("y required");if(I==null||!t.isValid(I))throw new Error("z required")}static fromAffine(g){const{x:w,y:I}=g||{};if(!g||!t.isValid(w)||!t.isValid(I))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");const P=B=>t.eql(B,t.ZERO);return P(w)&&P(I)?d.ZERO:new d(w,I,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const w=t.invertBatch(g.map(I=>I.pz));return g.map((I,P)=>I.toAffine(w[P])).map(d.fromAffine)}static fromHex(g){const w=d.fromAffine(i(Zn("pointHex",g)));return w.assertValidity(),w}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:w}=this.toAffine();if(!t.isValid(g)||!t.isValid(w))throw new Error("bad point: x or y not FE");const I=t.sqr(w),P=n(g);if(!t.eql(I,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:w,py:I,pz:P}=this,{px:B,py:M,pz:O}=g,W=t.eql(t.mul(w,O),t.mul(B,P)),S=t.eql(t.mul(I,O),t.mul(M,P));return W&&S}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:w}=e,I=t.mul(w,nv),{px:P,py:B,pz:M}=this;let O=t.ZERO,W=t.ZERO,S=t.ZERO,T=t.mul(P,P),E=t.mul(B,B),C=t.mul(M,M),N=t.mul(P,B);return N=t.add(N,N),S=t.mul(P,M),S=t.add(S,S),O=t.mul(g,S),W=t.mul(I,C),W=t.add(O,W),O=t.sub(E,W),W=t.add(E,W),W=t.mul(O,W),O=t.mul(N,O),S=t.mul(I,S),C=t.mul(g,C),N=t.sub(T,C),N=t.mul(g,N),N=t.add(N,S),S=t.add(T,T),T=t.add(S,T),T=t.add(T,C),T=t.mul(T,N),W=t.add(W,T),C=t.mul(B,M),C=t.add(C,C),T=t.mul(C,N),O=t.sub(O,T),S=t.mul(C,E),S=t.add(S,S),S=t.add(S,S),new d(O,W,S)}add(g){l(g);const{px:w,py:I,pz:P}=this,{px:B,py:M,pz:O}=g;let W=t.ZERO,S=t.ZERO,T=t.ZERO;const E=e.a,C=t.mul(e.b,nv);let N=t.mul(w,B),U=t.mul(I,M),D=t.mul(P,O),L=t.add(w,I),x=t.add(B,M);L=t.mul(L,x),x=t.add(N,U),L=t.sub(L,x),x=t.add(w,P);let A=t.add(B,O);return x=t.mul(x,A),A=t.add(N,D),x=t.sub(x,A),A=t.add(I,P),W=t.add(M,O),A=t.mul(A,W),W=t.add(U,D),A=t.sub(A,W),T=t.mul(E,x),W=t.mul(C,D),T=t.add(W,T),W=t.sub(U,T),T=t.add(U,T),S=t.mul(W,T),U=t.add(N,N),U=t.add(U,N),D=t.mul(E,D),x=t.mul(C,x),U=t.add(U,D),D=t.sub(N,D),D=t.mul(E,D),x=t.add(x,D),N=t.mul(U,x),S=t.add(S,N),N=t.mul(A,x),W=t.mul(L,W),W=t.sub(W,N),N=t.mul(L,U),T=t.mul(A,T),T=t.add(T,N),new d(W,S,T)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return b.wNAFCached(this,u,g,w=>{const I=t.invertBatch(w.map(P=>P.pz));return w.map((P,B)=>P.toAffine(I[B])).map(d.fromAffine)})}multiplyUnsafe(g){const w=d.ZERO;if(g===Yo)return w;if(a(g),g===Cn)return this;const{endo:I}=e;if(!I)return b.unsafeLadder(this,g);let{k1neg:P,k1:B,k2neg:M,k2:O}=I.splitScalar(g),W=w,S=w,T=this;for(;B>Yo||O>Yo;)B&Cn&&(W=W.add(T)),O&Cn&&(S=S.add(T)),T=T.double(),B>>=Cn,O>>=Cn;return P&&(W=W.negate()),M&&(S=S.negate()),S=new d(t.mul(S.px,I.beta),S.py,S.pz),W.add(S)}multiply(g){a(g);let w=g,I,P;const{endo:B}=e;if(B){const{k1neg:M,k1:O,k2neg:W,k2:S}=B.splitScalar(w);let{p:T,f:E}=this.wNAF(O),{p:C,f:N}=this.wNAF(S);T=b.constTimeNegate(M,T),C=b.constTimeNegate(W,C),C=new d(t.mul(C.px,B.beta),C.py,C.pz),I=T.add(C),P=E.add(N)}else{const{p:M,f:O}=this.wNAF(w);I=M,P=O}return d.normalizeZ([I,P])[0]}multiplyAndAddUnsafe(g,w,I){const P=d.BASE,B=(O,W)=>W===Yo||W===Cn||!O.equals(P)?O.multiplyUnsafe(W):O.multiply(W),M=B(this,w).add(B(g,I));return M.is0()?void 0:M}toAffine(g){const{px:w,py:I,pz:P}=this,B=this.is0();g==null&&(g=B?t.ONE:t.inv(P));const M=t.mul(w,g),O=t.mul(I,g),W=t.mul(P,g);if(B)return{x:t.ZERO,y:t.ZERO};if(!t.eql(W,t.ONE))throw new Error("invZ was invalid");return{x:M,y:O}}isTorsionFree(){const{h:g,isTorsionFree:w}=e;if(g===Cn)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:w}=e;return g===Cn?this:w?w(d,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),o(d,this,g)}toHex(g=!0){return Ka(this.toRawBytes(g))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const h=e.nBitLength,b=CM(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:n,isWithinCurveOrder:s}}function RM(r){const e=Z4(r);return Eu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function MM(r){const e=RM(r),{Fp:t,n:o}=e,i=t.BYTES+1,n=2*t.BYTES+1;function s(x){return Yo<x&&x<t.ORDER}function a(x){return Hr(x,o)}function c(x){return Kg(x,o)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=OM({...e,toBytes(x,A,R){const F=A.toAffine(),z=t.toBytes(F.x),j=ou;return R?j(Uint8Array.from([A.hasEvenY()?2:3]),z):j(Uint8Array.from([4]),z,t.toBytes(F.y))},fromBytes(x){const A=x.length,R=x[0],F=x.subarray(1);if(A===i&&(R===2||R===3)){const z=Ps(F);if(!s(z))throw new Error("Point is not on curve");const j=d(z);let Z;try{Z=t.sqrt(j)}catch(ee){const te=ee instanceof Error?": "+ee.message:"";throw new Error("Point is not on curve"+te)}const J=(Z&Cn)===Cn;return(R&1)===1!==J&&(Z=t.neg(Z)),{x:z,y:Z}}else if(A===n&&R===4){const z=t.fromBytes(F.subarray(0,t.BYTES)),j=t.fromBytes(F.subarray(t.BYTES,2*t.BYTES));return{x:z,y:j}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${n} uncompressed bytes`)}}),b=x=>Ka(Ya(x,e.nByteLength));function y(x){const A=o>>Cn;return x>A}function g(x){return y(x)?a(-x):x}const w=(x,A,R)=>Ps(x.slice(A,R));class I{constructor(A,R,F){this.r=A,this.s=R,this.recovery=F,this.assertValidity()}static fromCompact(A){const R=e.nByteLength;return A=Zn("compactSignature",A,R*2),new I(w(A,0,R),w(A,R,2*R))}static fromDER(A){const{r:R,s:F}=ys.toSig(Zn("DER",A));return new I(R,F)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new I(this.r,this.s,A)}recoverPublicKey(A){const{r:R,s:F,recovery:z}=this,j=S(Zn("msgHash",A));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const Z=z===2||z===3?R+e.n:R;if(Z>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=(z&1)===0?"02":"03",oe=u.fromHex(J+b(Z)),ee=c(Z),te=a(-j*ee),ae=a(F*ee),ue=u.BASE.multiplyAndAddUnsafe(oe,te,ae);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Za(this.toDERHex())}toDERHex(){return ys.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Za(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const P={isValidPrivateKey(x){try{return l(x),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const x=K4(e.n);return IM(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function B(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function M(x){const A=Ss(x),R=typeof x=="string",F=(A||R)&&x.length;return A?F===i||F===n:R?F===2*i||F===2*n:x instanceof u}function O(x,A,R=!0){if(M(x))throw new Error("first arg must be private key");if(!M(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(l(x)).toRawBytes(R)}const W=e.bits2int||function(x){const A=Ps(x),R=x.length*8-e.nBitLength;return R>0?A>>BigInt(R):A},S=e.bits2int_modN||function(x){return a(W(x))},T=$b(e.nBitLength);function E(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(Yo<=x&&x<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ya(x,e.nByteLength)}function C(x,A,R=N){if(["recovered","canonical"].some(Ee=>Ee in R))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:z}=e;let{lowS:j,prehash:Z,extraEntropy:J}=R;j==null&&(j=!0),x=Zn("msgHash",x),Z&&(x=Zn("prehashed msgHash",F(x)));const oe=S(x),ee=l(A),te=[E(ee),E(oe)];if(J!=null&&J!==!1){const Ee=J===!0?z(t.BYTES):J;te.push(Zn("extraEntropy",Ee))}const ae=ou(...te),ue=oe;function we(Ee){const Ne=W(Ee);if(!h(Ne))return;const Ue=c(Ne),ze=u.BASE.multiply(Ne).toAffine(),Fe=a(ze.x);if(Fe===Yo)return;const Re=a(Ue*a(ue+Fe*ee));if(Re===Yo)return;let De=(ze.x===Fe?0:2)|Number(ze.y&Cn),mt=Re;return j&&y(Re)&&(mt=g(Re),De^=1),new I(Fe,mt,De)}return{seed:ae,k2sig:we}}const N={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function D(x,A,R=N){const{seed:F,k2sig:z}=C(x,A,R),j=e;return V4(j.hash.outputLen,j.nByteLength,j.hmac)(F,z)}u.BASE._setWindowSize(8);function L(x,A,R,F=U){const z=x;if(A=Zn("msgHash",A),R=Zn("publicKey",R),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:j,prehash:Z}=F;let J,oe;try{if(typeof z=="string"||Ss(z))try{J=I.fromDER(z)}catch(ze){if(!(ze instanceof ys.Err))throw ze;J=I.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:ze,s:Fe}=z;J=new I(ze,Fe)}else throw new Error("PARSE");oe=u.fromHex(R)}catch(ze){if(ze.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&J.hasHighS())return!1;Z&&(A=e.hash(A));const{r:ee,s:te}=J,ae=S(A),ue=c(te),we=a(ae*ue),Ee=a(ee*ue),Ne=u.BASE.multiplyAndAddUnsafe(oe,we,Ee)?.toAffine();return Ne?a(Ne.x)===ee:!1}return{CURVE:e,getPublicKey:B,getSharedSecret:O,sign:D,verify:L,ProjectivePoint:u,Signature:I,utils:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NM(r){return{hash:r,hmac:(e,...t)=>z4(r,e,J7(...t)),randomBytes:Q7}}function $M(r,e){const t=o=>MM({...r,...NM(o)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ov=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FM=BigInt(1),Zg=BigInt(2),iv=(r,e)=>(r+e/Zg)/e;function UM(r){const e=Y4,t=BigInt(3),o=BigInt(6),i=BigInt(11),n=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=r*r*r%e,l=u*u*r%e,d=bn(l,t,e)*l%e,h=bn(d,t,e)*l%e,b=bn(h,Zg,e)*u%e,y=bn(b,i,e)*b%e,g=bn(y,n,e)*y%e,w=bn(g,a,e)*g%e,I=bn(w,c,e)*w%e,P=bn(I,a,e)*g%e,B=bn(P,t,e)*l%e,M=bn(B,s,e)*y%e,O=bn(M,o,e)*u%e,W=bn(O,Zg,e);if(!Yg.eql(Yg.sqr(W),r))throw new Error("Cannot find square root");return W}const Yg=PM(Y4,void 0,void 0,{sqrt:UM}),Oh=$M({a:BigInt(0),b:BigInt(7),Fp:Yg,n:ov,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=ov,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-FM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=t,s=BigInt("0x100000000000000000000000000000000"),a=iv(n*r,e),c=iv(-o*r,e);let u=Hr(r-a*t-c*i,e),l=Hr(-a*o-c*n,e);const d=u>s,h=l>s;if(d&&(u=e-u),h&&(l=e-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},sM);BigInt(0);Oh.ProjectivePoint;function kM(r){return Mr(ft(r).padStart(64,"0"))}function Hi(r){const e=_o(r);let o=_o(e).slice(0,4);return o=r.concat(o),UI(o)}function J4(r){if(typeof r!="string"||r.length<=4)return!1;let e=yh(r);if(r.length<=4)return!1;const o=e.length-4,i=e.slice(o);e=e.slice(0,o);const n=_o(e),a=_o(n).slice(0,4);if(i[0]==a[0]&&i[1]==a[1]&&i[2]==a[2]&&i[3]==a[3])return e;throw new Error("Invalid address provided")}function DM(r,e){typeof r=="string"&&(r=Mr(r));const t=e.txID,o=Fb(Mr(t),r);return Array.isArray(e.signature)?e.signature.includes(o)||e.signature.push(o):e.signature=[o],e}function Jg(r,e){r="0x"+r.replace(/^0x/,""),e="0x"+e.replace(/^0x/,"");const t=Ha(WI(r),St.from(e));return On+t.substring(2)}function LM(r){return btoa(String.fromCharCode(...r))}function zM(r,e){typeof r=="string"&&(r=Mr(r));const t=_o(e);return Fb(t,r)}function qM(r,e,t,o){const i=`0x${o.replace(/^0x/,"")}`,n=new cr(i),s=sn.hash(r,e,t),a=n.sign(s);return["0x",a.r.substring(2),a.s.substring(2),Number(a.v).toString(16)].join("")}function jM(r){const e=Ns(r);return globalThis.proto.protocol.Transaction.deserializeBinary(e).getRawData().serializeBinary()}function X4(){const r=Oh.utils.randomPrivateKey();let e=ft(r);return e=e.padStart(64,"0"),Mr(e)}function Pu(r){r.length===65&&(r=r.slice(1));const e=Qe(new Uint8Array(r)).toString().substring(2),t=On+e.substring(24);return Mr(t)}function Rh(r){const e=sc(r);return Pu(e)}function VM(r){const e=yh(r);if(e.length<=4)return!1;const t=e.slice(0,e.length-4),o=_o(t),i=_o(o);return i[0]===e[t.length]&&i[1]===e[t.length+1]&&i[2]===e[t.length+2]&&i[3]===e[t.length+3]?t:!1}function Q4(r){if(typeof r!="string"||r.length!==OI)return!1;let e=yh(r);if(e.length!==25||e[0]!==RI)return!1;const t=e.slice(21);e=e.slice(0,21);const o=_o(e),n=_o(o).slice(0,4);return t[0]==n[0]&&t[1]==n[1]&&t[2]==n[2]&&t[3]==n[3]}function HM(r){const e=Ns(r),t=sc(e),o=Pu(t);return Hi(o)}function GM(r){const e=Ns(r),t=sc(e),o=Pu(t);return ft(o)}function KM(r){const e=Ns(r),t=sc(e),o=Pu(t);return jy(o)}function sc(r){const e=Oh.ProjectivePoint.fromPrivateKey(new Uint8Array(kM(r))),t=e.x,o=e.y,i=t.toString(16).padStart(64,"0"),n=o.toString(16).padStart(64,"0"),s=`04${i}${n}`;return Mr(s)}function Fb(r,e){const t=Oh.sign(ft(r),ft(e)),o=t.r.toString(16),i=t.s.toString(16),n=t.recovery+27;return o.padStart(64,"0")+i.padStart(64,"0")+Qd(n)}function _o(r){const e=ft(r),t=Ar("0x"+e).replace(/^0x/,"");return Mr(t)}function ZM(r){const e=Ns(r),t=Rh(e);return Hi(t)}function Mh(r,e=!1){const t=Mr(r,e),o=Rh(t);return Hi(o)}function e3(r,e=!0){return(e?"0x":"")+Qe(qe.from(r,"utf-8")).toString().substring(2)}const YM=Object.freeze(Object.defineProperty({__proto__:null,ECKeySign:Fb,SHA256:_o,_signTypedData:qM,arrayToBase64String:LM,computeAddress:Pu,decode58Check:VM,decodeBase58Address:J4,ecRecover:Jg,genPriKey:X4,getAddressFromPriKey:Rh,getAddressFromPriKeyBase64String:KM,getBase58CheckAddress:Hi,getBase58CheckAddressFromPriKeyBase64String:HM,getHexStrAddressFromPriKeyBase64String:GM,getPubKeyFromPriKey:sc,getRowBytesFromTransactionBase64:jM,isAddressValid:Q4,passwordToAddress:ZM,pkToAddress:Mh,sha3:e3,signBytes:zM,signTransaction:DM},Symbol.toStringTag,{value:"Module"})),JM="Invalid tron path provided";function XM(){const r=X4(),e=sc(r),t=Rh(r),o=ft(r),i=ft(e);return{privateKey:o,publicKey:i,address:{base58:Hi(t),hex:ft(t)}}}function QM(r="",e=wb,t){const o=Bn.createRandom(r,e,t);return{mnemonic:o.mnemonic,privateKey:o.privateKey,publicKey:o.signingKey.publicKey,address:Mh(o.privateKey.replace(/^0x/,"")),path:o.path}}function eN(r,e=wb,t="",o=null){if(!String(e).match(/^m\/44\'\/195\'/))throw new Error(JM);const i=Bn.fromMnemonic(zi.fromPhrase(r,t,o),e);return{mnemonic:i.mnemonic,privateKey:i.privateKey,publicKey:i.signingKey.publicKey,address:Mh(i.privateKey.replace(/^0x/,""))}}const tN=Object.freeze(Object.defineProperty({__proto__:null,generateAccount:XM,generateAccountWithMnemonic:eN,generateRandom:QM},Symbol.toStringTag,{value:"Module"})),t3=`TRON Signed Message:
`;function Ub(r){return typeof r=="string"?r=Yr(r):Array.isArray(r)&&(r=new Uint8Array(r)),Qe(wt([Yr(t3),Yr(String(r.length)),r]))}function rN(r,e){e.match(/^0x/)||(e="0x"+e);const t=new cr(e),o=Ub(r),i=t.sign(o);return SI(i)}function nN(r,e){e.match(/^0x/)||(e="0x"+e);const t=Ha(Ub(r),e);return Hi(Mr(t.replace(/^0x/,On)))}const oN=Object.freeze(Object.defineProperty({__proto__:null,TRON_MESSAGE_PREFIX:t3,hashMessage:Ub,signMessage:rN,verifyMessage:nN},Symbol.toStringTag,{value:"Module"})),Te={...H8,address:LO,code:iC,accounts:tN,base58:zO,bytes:VB,crypto:YM,abi:QR,message:oN,_TypedDataEncoder:sn,transaction:I7,ethersUtils:kO};var sv;(function(r){r[r.BANDWIDTH=0]="BANDWIDTH",r[r.ENERGY=1]="ENERGY",r[r.TRON_POWER=2]="TRON_POWER"})(sv||(sv={}));var av;(function(r){r.ENOUGH_PERMISSION="ENOUGH_PERMISSION",r.NOT_ENOUGH_PERMISSION="NOT_ENOUGH_PERMISSION",r.SIGNATURE_FORMAT_ERROR="SIGNATURE_FORMAT_ERROR",r.COMPUTE_ADDRESS_ERROR="COMPUTE_ADDRESS_ERROR",r.PERMISSION_ERROR="PERMISSION_ERROR",r.OTHER_ERROR="OTHER_ERROR"})(av||(av={}));var cv;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.SIGERROR=1]="SIGERROR",r[r.CONTRACT_VALIDATE_ERROR=2]="CONTRACT_VALIDATE_ERROR",r[r.CONTRACT_EXE_ERROR=3]="CONTRACT_EXE_ERROR",r[r.BANDWITH_ERROR=4]="BANDWITH_ERROR",r[r.DUP_TRANSACTION_ERROR=5]="DUP_TRANSACTION_ERROR",r[r.TAPOS_ERROR=6]="TAPOS_ERROR",r[r.TOO_BIG_TRANSACTION_ERROR=7]="TOO_BIG_TRANSACTION_ERROR",r[r.TRANSACTION_EXPIRATION_ERROR=8]="TRANSACTION_EXPIRATION_ERROR",r[r.SERVER_BUSY=9]="SERVER_BUSY",r[r.NO_CONNECTION=10]="NO_CONNECTION",r[r.NOT_ENOUGH_EFFECTIVE_CONNECTION=11]="NOT_ENOUGH_EFFECTIVE_CONNECTION",r[r.OTHER_ERROR=20]="OTHER_ERROR"})(cv||(cv={}));var uv;(function(r){r[r.PENDING=0]="PENDING",r[r.DISAPPROVED=1]="DISAPPROVED",r[r.APPROVED=2]="APPROVED",r[r.CANCELED=3]="CANCELED"})(uv||(uv={}));var Hf={exports:{}},lv;function iN(){if(lv)return Hf.exports;lv=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(O,W,S){return Function.prototype.apply.call(O,W,S)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:t=function(O){return Object.getOwnPropertyNames(O)};function o(M){console&&console.warn&&console.warn(M)}var i=Number.isNaN||function(O){return O!==O};function n(){n.init.call(this)}Hf.exports=n,Hf.exports.once=I,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var s=10;function a(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");s=M}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function c(M){return M._maxListeners===void 0?n.defaultMaxListeners:M._maxListeners}n.prototype.getMaxListeners=function(){return c(this)},n.prototype.emit=function(O){for(var W=[],S=1;S<arguments.length;S++)W.push(arguments[S]);var T=O==="error",E=this._events;if(E!==void 0)T=T&&E.error===void 0;else if(!T)return!1;if(T){var C;if(W.length>0&&(C=W[0]),C instanceof Error)throw C;var N=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw N.context=C,N}var U=E[O];if(U===void 0)return!1;if(typeof U=="function")e(U,this,W);else for(var D=U.length,L=y(U,D),S=0;S<D;++S)e(L[S],this,W);return!0};function u(M,O,W,S){var T,E,C;if(a(W),E=M._events,E===void 0?(E=M._events=Object.create(null),M._eventsCount=0):(E.newListener!==void 0&&(M.emit("newListener",O,W.listener?W.listener:W),E=M._events),C=E[O]),C===void 0)C=E[O]=W,++M._eventsCount;else if(typeof C=="function"?C=E[O]=S?[W,C]:[C,W]:S?C.unshift(W):C.push(W),T=c(M),T>0&&C.length>T&&!C.warned){C.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=M,N.type=O,N.count=C.length,o(N)}return M}n.prototype.addListener=function(O,W){return u(this,O,W,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(O,W){return u(this,O,W,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(M,O,W){var S={fired:!1,wrapFn:void 0,target:M,type:O,listener:W},T=l.bind(S);return T.listener=W,S.wrapFn=T,T}n.prototype.once=function(O,W){return a(W),this.on(O,d(this,O,W)),this},n.prototype.prependOnceListener=function(O,W){return a(W),this.prependListener(O,d(this,O,W)),this},n.prototype.removeListener=function(O,W){var S,T,E,C,N;if(a(W),T=this._events,T===void 0)return this;if(S=T[O],S===void 0)return this;if(S===W||S.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete T[O],T.removeListener&&this.emit("removeListener",O,S.listener||W));else if(typeof S!="function"){for(E=-1,C=S.length-1;C>=0;C--)if(S[C]===W||S[C].listener===W){N=S[C].listener,E=C;break}if(E<0)return this;E===0?S.shift():g(S,E),S.length===1&&(T[O]=S[0]),T.removeListener!==void 0&&this.emit("removeListener",O,N||W)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(O){var W,S,T;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[O]),this;if(arguments.length===0){var E=Object.keys(S),C;for(T=0;T<E.length;++T)C=E[T],C!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=S[O],typeof W=="function")this.removeListener(O,W);else if(W!==void 0)for(T=W.length-1;T>=0;T--)this.removeListener(O,W[T]);return this};function h(M,O,W){var S=M._events;if(S===void 0)return[];var T=S[O];return T===void 0?[]:typeof T=="function"?W?[T.listener||T]:[T]:W?w(T):y(T,T.length)}n.prototype.listeners=function(O){return h(this,O,!0)},n.prototype.rawListeners=function(O){return h(this,O,!1)},n.listenerCount=function(M,O){return typeof M.listenerCount=="function"?M.listenerCount(O):b.call(M,O)},n.prototype.listenerCount=b;function b(M){var O=this._events;if(O!==void 0){var W=O[M];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function y(M,O){for(var W=new Array(O),S=0;S<O;++S)W[S]=M[S];return W}function g(M,O){for(;O+1<M.length;O++)M[O]=M[O+1];M.pop()}function w(M){for(var O=new Array(M.length),W=0;W<O.length;++W)O[W]=M[W].listener||M[W];return O}function I(M,O){return new Promise(function(W,S){function T(C){M.removeListener(O,E),S(C)}function E(){typeof M.removeListener=="function"&&M.removeListener("error",T),W([].slice.call(arguments))}B(M,O,E,{once:!0}),O!=="error"&&P(M,T,{once:!0})})}function P(M,O,W){typeof M.on=="function"&&B(M,"error",O,W)}function B(M,O,W,S){if(typeof M.on=="function")S.once?M.once(O,W):M.on(O,W);else if(typeof M.addEventListener=="function")M.addEventListener(O,function T(E){S.once&&M.removeEventListener(O,T),W(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Hf.exports}var Nn=iN();const kb=$s(Nn);var W0={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xg=function(r,e){return Xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])},Xg(r,e)};function sN(r,e){Xg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qg=function(){return Qg=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++){t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Qg.apply(this,arguments)};function aN(r,e){var t={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(t[o[i]]=r[o[i]]);return t}function cN(r,e,t,o){var i=arguments.length,n=i<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,o);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(n=(i<3?s(n):i>3?s(e,t,n):s(e,t))||n);return i>3&&n&&Object.defineProperty(e,t,n),n}function uN(r,e){return function(t,o){e(t,o,r)}}function lN(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function fN(r,e,t,o){function i(n){return n instanceof t?n:new t(function(s){s(n)})}return new(t||(t=Promise))(function(n,s){function a(l){try{u(o.next(l))}catch(d){s(d)}}function c(l){try{u(o.throw(l))}catch(d){s(d)}}function u(l){l.done?n(l.value):i(l.value).then(a,c)}u((o=o.apply(r,e||[])).next())})}function dN(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(n=u[0]&2?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(u[0]===6&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function hN(r,e,t,o){o===void 0&&(o=t),r[o]=e[t]}function pN(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function ey(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function r3(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),i,n=[],s;try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)n.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(s)throw s.error}}return n}function gN(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(r3(arguments[e]));return r}function yN(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var o=Array(r),i=0,e=0;e<t;e++)for(var n=arguments[e],s=0,a=n.length;s<a;s++,i++)o[i]=n[s];return o}function iu(r){return this instanceof iu?(this.v=r,this):new iu(r)}function bN(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(r,e||[]),i,n=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){o[h]&&(i[h]=function(b){return new Promise(function(y,g){n.push([h,b,y,g])>1||a(h,b)})})}function a(h,b){try{c(o[h](b))}catch(y){d(n[0][3],y)}}function c(h){h.value instanceof iu?Promise.resolve(h.value.v).then(u,l):d(n[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,b){h(b),n.shift(),n.length&&a(n[0][0],n[0][1])}}function wN(r){var e,t;return e={},o("next"),o("throw",function(i){throw i}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(i,n){e[i]=r[i]?function(s){return(t=!t)?{value:iu(r[i](s)),done:i==="return"}:n?n(s):s}:n}}function mN(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof ey=="function"?ey(r):r[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=r[n]&&function(s){return new Promise(function(a,c){s=r[n](s),i(a,c,s.done,s.value)})}}function i(n,s,a,c){Promise.resolve(c).then(function(u){n({value:u,done:a})},s)}}function xN(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function vN(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function TN(r){return r&&r.__esModule?r:{default:r}}function AN(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function EN(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const PN=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Qg},__asyncDelegator:wN,__asyncGenerator:bN,__asyncValues:mN,__await:iu,__awaiter:fN,__classPrivateFieldGet:AN,__classPrivateFieldSet:EN,__createBinding:hN,__decorate:cN,__exportStar:pN,__extends:sN,__generator:dN,__importDefault:TN,__importStar:vN,__makeTemplateObject:xN,__metadata:lN,__param:uN,__read:r3,__rest:aN,__spread:gN,__spreadArrays:yN,__values:ey},Symbol.toStringTag,{value:"Module"})),Iu=aC(PN);var O0={},Ac={},fv;function IN(){if(fv)return Ac;fv=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return Ac.delay=r,Ac}var ts={},R0={},rs={},dv;function BN(){return dv||(dv=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.ONE_THOUSAND=rs.ONE_HUNDRED=void 0,rs.ONE_HUNDRED=100,rs.ONE_THOUSAND=1e3),rs}var M0={},hv;function CN(){return hv||(hv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(M0)),M0}var pv;function n3(){return pv||(pv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Iu;e.__exportStar(BN(),r),e.__exportStar(CN(),r)}(R0)),R0}var gv;function _N(){if(gv)return ts;gv=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.fromMiliseconds=ts.toMiliseconds=void 0;const r=n3();function e(o){return o*r.ONE_THOUSAND}ts.toMiliseconds=e;function t(o){return Math.floor(o/r.ONE_THOUSAND)}return ts.fromMiliseconds=t,ts}var yv;function SN(){return yv||(yv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Iu;e.__exportStar(IN(),r),e.__exportStar(_N(),r)}(O0)),O0}var la={},bv;function WN(){if(bv)return la;bv=1,Object.defineProperty(la,"__esModule",{value:!0}),la.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const o=this.get(t);if(typeof o.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-o.started;this.timestamps.set(t,{started:o.started,elapsed:i})}get(t){const o=this.timestamps.get(t);if(typeof o>"u")throw new Error(`No timestamp found for label: ${t}`);return o}elapsed(t){const o=this.get(t);return o.elapsed||Date.now()-o.started}}return la.Watch=r,la.default=r,la}var N0={},Ec={},wv;function ON(){if(wv)return Ec;wv=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.IWatch=void 0;class r{}return Ec.IWatch=r,Ec}var mv;function RN(){return mv||(mv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Iu.__exportStar(ON(),r)}(N0)),N0}var xv;function MN(){return xv||(xv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Iu;e.__exportStar(SN(),r),e.__exportStar(WN(),r),e.__exportStar(RN(),r),e.__exportStar(n3(),r)}(W0)),W0}var xe=MN();class ks{}let NN=class extends ks{constructor(e){super()}};const vv=xe.FIVE_SECONDS,Ds={pulse:"heartbeat_pulse"};let $N=class o3 extends NN{constructor(e){super(e),this.events=new Nn.EventEmitter,this.interval=vv,this.interval=e?.interval||vv}static async init(e){const t=new o3(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),xe.toMiliseconds(this.interval))}pulse(){this.events.emit(Ds.pulse)}};const FN=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,UN=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,kN=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function DN(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){LN(r);return}return e}function LN(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Gf(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const t=r.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!kN.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(FN.test(r)||UN.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,DN)}return JSON.parse(r)}catch(o){if(e.strict)throw o;return r}}function zN(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Jt(r,...e){try{return zN(r(...e))}catch(t){return Promise.reject(t)}}function qN(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function jN(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function Td(r){if(qN(r))return String(r);if(jN(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return Td(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const ty="base64:";function VN(r){return typeof r=="string"?r:ty+KN(r)}function HN(r){return typeof r!="string"||!r.startsWith(ty)?r:GN(r.slice(ty.length))}function GN(r){return globalThis.Buffer?qe.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function KN(r){return globalThis.Buffer?qe.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function zr(r){return r&&r.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function ZN(...r){return zr(r.join(":"))}function Kf(r){return r=zr(r),r?r+":":""}function YN(r,e){if(e===void 0)return!0;let t=0,o=r.indexOf(":");for(;o>-1;)t++,o=r.indexOf(":",o+1);return t<=e}function JN(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}const XN="memory",QN=()=>{const r=new Map;return{name:XN,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function e$(r={}){const e={mounts:{"":r.driver||QN()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=u=>{for(const l of e.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:u,driver:e.mounts[""]}},o=(u,l)=>e.mountpoints.filter(d=>d.startsWith(u)||l&&u.startsWith(d)).map(d=>({relativeBase:u.length>d.length?u.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(u,l)=>{if(e.watching){l=zr(l);for(const d of e.watchListeners)d(u,l)}},n=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await Tv(e.mounts[u],i,u)}},s=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,l,d)=>{const h=new Map,b=y=>{let g=h.get(y.base);return g||(g={driver:y.driver,base:y.base,items:[]},h.set(y.base,g)),g};for(const y of u){const g=typeof y=="string",w=zr(g?y:y.key),I=g?void 0:y.value,P=g||!y.options?l:{...l,...y.options},B=t(w);b(B).items.push({key:w,value:I,relativeKey:B.relativeKey,options:P})}return Promise.all([...h.values()].map(y=>d(y))).then(y=>y.flat())},c={hasItem(u,l={}){u=zr(u);const{relativeKey:d,driver:h}=t(u);return Jt(h.hasItem,d,l)},getItem(u,l={}){u=zr(u);const{relativeKey:d,driver:h}=t(u);return Jt(h.getItem,d,l).then(b=>Gf(b))},getItems(u,l={}){return a(u,l,d=>d.driver.getItems?Jt(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),l).then(h=>h.map(b=>({key:ZN(d.base,b.key),value:Gf(b.value)}))):Promise.all(d.items.map(h=>Jt(d.driver.getItem,h.relativeKey,h.options).then(b=>({key:h.key,value:Gf(b)})))))},getItemRaw(u,l={}){u=zr(u);const{relativeKey:d,driver:h}=t(u);return h.getItemRaw?Jt(h.getItemRaw,d,l):Jt(h.getItem,d,l).then(b=>HN(b))},async setItem(u,l,d={}){if(l===void 0)return c.removeItem(u);u=zr(u);const{relativeKey:h,driver:b}=t(u);b.setItem&&(await Jt(b.setItem,h,Td(l),d),b.watch||i("update",u))},async setItems(u,l){await a(u,l,async d=>{if(d.driver.setItems)return Jt(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:Td(h.value),options:h.options})),l);d.driver.setItem&&await Promise.all(d.items.map(h=>Jt(d.driver.setItem,h.relativeKey,Td(h.value),h.options)))})},async setItemRaw(u,l,d={}){if(l===void 0)return c.removeItem(u,d);u=zr(u);const{relativeKey:h,driver:b}=t(u);if(b.setItemRaw)await Jt(b.setItemRaw,h,l,d);else if(b.setItem)await Jt(b.setItem,h,VN(l),d);else return;b.watch||i("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=zr(u);const{relativeKey:d,driver:h}=t(u);h.removeItem&&(await Jt(h.removeItem,d,l),(l.removeMeta||l.removeMata)&&await Jt(h.removeItem,d+"$",l),h.watch||i("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=zr(u);const{relativeKey:d,driver:h}=t(u),b=Object.create(null);if(h.getMeta&&Object.assign(b,await Jt(h.getMeta,d,l)),!l.nativeOnly){const y=await Jt(h.getItem,d+"$",l).then(g=>Gf(g));y&&typeof y=="object"&&(typeof y.atime=="string"&&(y.atime=new Date(y.atime)),typeof y.mtime=="string"&&(y.mtime=new Date(y.mtime)),Object.assign(b,y))}return b},setMeta(u,l,d={}){return this.setItem(u+"$",l,d)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){u=Kf(u);const d=o(u,!0);let h=[];const b=[];let y=!0;for(const w of d){w.driver.flags?.maxDepth||(y=!1);const I=await Jt(w.driver.getKeys,w.relativeBase,l);for(const P of I){const B=w.mountpoint+zr(P);h.some(M=>B.startsWith(M))||b.push(B)}h=[w.mountpoint,...h.filter(P=>!P.startsWith(w.mountpoint))]}const g=l.maxDepth!==void 0&&!y;return b.filter(w=>(!g||YN(w,l.maxDepth))&&JN(w,u))},async clear(u,l={}){u=Kf(u),await Promise.all(o(u,!1).map(async d=>{if(d.driver.clear)return Jt(d.driver.clear,d.relativeBase,l);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",l);return Promise.all(h.map(b=>d.driver.removeItem(b,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>Av(u)))},async watch(u){return await n(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==u),e.watchListeners.length===0&&await s()}},async unwatch(){e.watchListeners=[],await s()},mount(u,l){if(u=Kf(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[u]=l,e.watching&&Promise.resolve(Tv(l,i,u)).then(d=>{e.unwatch[u]=d}).catch(console.error),c},async unmount(u,l=!0){u=Kf(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&(e.unwatch[u]?.(),delete e.unwatch[u]),l&&await Av(e.mounts[u]),e.mountpoints=e.mountpoints.filter(d=>d!==u),delete e.mounts[u])},getMount(u=""){u=zr(u)+":";const l=t(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=zr(u),o(u,l.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,d={})=>c.setItem(u,l,d),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function Tv(r,e,t){return r.watch?r.watch((o,i)=>e(o,t+i)):()=>{}}async function Av(r){typeof r.dispose=="function"&&await Jt(r.dispose)}function Ls(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function i3(r,e){let t;const o=()=>{if(t)return t;const i=indexedDB.open(r);return i.onupgradeneeded=()=>i.result.createObjectStore(e),t=Ls(i),t.then(n=>{n.onclose=()=>t=void 0},()=>{}),t};return(i,n)=>o().then(s=>n(s.transaction(e,i).objectStore(e)))}let $0;function Bu(){return $0||($0=i3("keyval-store","keyval")),$0}function Ev(r,e=Bu()){return e("readonly",t=>Ls(t.get(r)))}function t$(r,e,t=Bu()){return t("readwrite",o=>(o.put(e,r),Ls(o.transaction)))}function r$(r,e=Bu()){return e("readwrite",t=>(t.delete(r),Ls(t.transaction)))}function n$(r=Bu()){return r("readwrite",e=>(e.clear(),Ls(e.transaction)))}function o$(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ls(r.transaction)}function i$(r=Bu()){return r("readonly",e=>{if(e.getAllKeys)return Ls(e.getAllKeys());const t=[];return o$(e,o=>t.push(o.key)).then(()=>t)})}const s$=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),a$=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(o,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Ws(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return a$(r)}catch{return r}}function si(r){return typeof r=="string"?r:s$(r)||""}const c$="idb-keyval";var u$=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=i=>e+i;let o;return r.dbName&&r.storeName&&(o=i3(r.dbName,r.storeName)),{name:c$,options:r,async hasItem(i){return!(typeof await Ev(t(i),o)>"u")},async getItem(i){return await Ev(t(i),o)??null},setItem(i,n){return t$(t(i),n,o)},removeItem(i){return r$(t(i),o)},getKeys(){return i$(o)},clear(){return n$(o)}}};const l$="WALLET_CONNECT_V2_INDEXED_DB",f$="keyvaluestorage";let d$=class{constructor(){this.indexedDb=e$({driver:u$({dbName:l$,storeName:f$})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,si(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var F0=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},Ad={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,o){this[t]=String(o)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(o){t[o]=void 0,delete t[o]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof F0<"u"&&F0.localStorage?Ad.exports=F0.localStorage:typeof window<"u"&&window.localStorage?Ad.exports=window.localStorage:Ad.exports=new e})();function h$(r){var e;return[r[0],Ws((e=r[1])!=null?e:"")]}let p$=class{constructor(){this.localStorage=Ad.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(h$)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return Ws(t)}async setItem(e,t){this.localStorage.setItem(e,si(t))}async removeItem(e){this.localStorage.removeItem(e)}};const g$="wc_storage_version",Pv=1,y$=async(r,e,t)=>{const o=g$,i=await e.getItem(o);if(i&&i>=Pv){t(e);return}const n=await r.getKeys();if(!n.length){t(e);return}const s=[];for(;n.length;){const a=n.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await r.getItem(a);await e.setItem(a,u),s.push(a)}}await e.setItem(o,Pv),t(e),b$(r,s)},b$=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let w$=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new p$;this.storage=e;try{const t=new d$;y$(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var U0,Iv;function m$(){if(Iv)return U0;Iv=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}U0=e;function e(t,o,i){var n=i&&i.stringify||r,s=1;if(typeof t=="object"&&t!==null){var a=o.length+s;if(a===1)return t;var c=new Array(a);c[0]=n(t);for(var u=1;u<a;u++)c[u]=n(o[u]);return c.join(" ")}if(typeof t!="string")return t;var l=o.length;if(l===0)return t;for(var d="",h=1-s,b=-1,y=t&&t.length||0,g=0;g<y;){if(t.charCodeAt(g)===37&&g+1<y){switch(b=b>-1?b:0,t.charCodeAt(g+1)){case 100:case 102:if(h>=l||o[h]==null)break;b<g&&(d+=t.slice(b,g)),d+=Number(o[h]),b=g+2,g++;break;case 105:if(h>=l||o[h]==null)break;b<g&&(d+=t.slice(b,g)),d+=Math.floor(Number(o[h])),b=g+2,g++;break;case 79:case 111:case 106:if(h>=l||o[h]===void 0)break;b<g&&(d+=t.slice(b,g));var w=typeof o[h];if(w==="string"){d+="'"+o[h]+"'",b=g+2,g++;break}if(w==="function"){d+=o[h].name||"<anonymous>",b=g+2,g++;break}d+=n(o[h]),b=g+2,g++;break;case 115:if(h>=l)break;b<g&&(d+=t.slice(b,g)),d+=String(o[h]),b=g+2,g++;break;case 37:b<g&&(d+=t.slice(b,g)),d+="%",b=g+2,g++,h--;break}++h}++g}return b===-1?t:(b<y&&(d+=t.slice(b)),d)}return U0}var k0,Bv;function x$(){if(Bv)return k0;Bv=1;const r=m$();k0=i;const e=O().console||{},t={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:y,res:y,err:h};function o(W,S){return Array.isArray(W)?W.filter(function(E){return E!=="!stdSerializers.err"}):W===!0?Object.keys(S):!1}function i(W){W=W||{},W.browser=W.browser||{};const S=W.browser.transmit;if(S&&typeof S.send!="function")throw Error("pino: transmit option must have a send function");const T=W.browser.write||e;W.browser.write&&(W.browser.asObject=!0);const E=W.serializers||{},C=o(W.browser.serialize,E);let N=W.browser.serialize;Array.isArray(W.browser.serialize)&&W.browser.serialize.indexOf("!stdSerializers.err")>-1&&(N=!1);const U=["error","fatal","warn","info","debug","trace"];typeof T=="function"&&(T.error=T.fatal=T.warn=T.info=T.debug=T.trace=T),W.enabled===!1&&(W.level="silent");const D=W.level||"info",L=Object.create(T);L.log||(L.log=w),Object.defineProperty(L,"levelVal",{get:A}),Object.defineProperty(L,"level",{get:R,set:F});const x={transmit:S,serialize:C,asObject:W.browser.asObject,levels:U,timestamp:b(W)};L.levels=i.levels,L.level=D,L.setMaxListeners=L.getMaxListeners=L.emit=L.addListener=L.on=L.prependListener=L.once=L.prependOnceListener=L.removeListener=L.removeAllListeners=L.listeners=L.listenerCount=L.eventNames=L.write=L.flush=w,L.serializers=E,L._serialize=C,L._stdErrSerialize=N,L.child=z,S&&(L._logEvent=d());function A(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function F(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,n(x,L,"error","log"),n(x,L,"fatal","error"),n(x,L,"warn","error"),n(x,L,"info","log"),n(x,L,"debug","log"),n(x,L,"trace","log")}function z(j,Z){if(!j)throw new Error("missing bindings for child Pino");Z=Z||{},C&&j.serializers&&(Z.serializers=j.serializers);const J=Z.serializers;if(C&&J){var oe=Object.assign({},E,J),ee=W.browser.serialize===!0?Object.keys(oe):C;delete j.serializers,c([j],ee,oe,this._stdErrSerialize)}function te(ae){this._childLevel=(ae._childLevel|0)+1,this.error=u(ae,j,"error"),this.fatal=u(ae,j,"fatal"),this.warn=u(ae,j,"warn"),this.info=u(ae,j,"info"),this.debug=u(ae,j,"debug"),this.trace=u(ae,j,"trace"),oe&&(this.serializers=oe,this._serialize=ee),S&&(this._logEvent=d([].concat(ae._logEvent.bindings,j)))}return te.prototype=this,new te(this)}return L}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=t,i.stdTimeFunctions=Object.assign({},{nullTime:I,epochTime:P,unixTime:B,isoTime:M});function n(W,S,T,E){const C=Object.getPrototypeOf(S);S[T]=S.levelVal>S.levels.values[T]?w:C[T]?C[T]:e[T]||e[E]||w,s(W,S,T)}function s(W,S,T){!W.transmit&&S[T]===w||(S[T]=function(E){return function(){const N=W.timestamp(),U=new Array(arguments.length),D=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var L=0;L<U.length;L++)U[L]=arguments[L];if(W.serialize&&!W.asObject&&c(U,this._serialize,this.serializers,this._stdErrSerialize),W.asObject?E.call(D,a(this,T,U,N)):E.apply(D,U),W.transmit){const x=W.transmit.level||S.level,A=i.levels.values[x],R=i.levels.values[T];if(R<A)return;l(this,{ts:N,methodLevel:T,methodValue:R,transmitValue:i.levels.values[W.transmit.level||S.level],send:W.transmit.send,val:S.levelVal},U)}}}(S[T]))}function a(W,S,T,E){W._serialize&&c(T,W._serialize,W.serializers,W._stdErrSerialize);const C=T.slice();let N=C[0];const U={};E&&(U.time=E),U.level=i.levels.values[S];let D=(W._childLevel|0)+1;if(D<1&&(D=1),N!==null&&typeof N=="object"){for(;D--&&typeof C[0]=="object";)Object.assign(U,C.shift());N=C.length?r(C.shift(),C):void 0}else typeof N=="string"&&(N=r(C.shift(),C));return N!==void 0&&(U.msg=N),U}function c(W,S,T,E){for(const C in W)if(E&&W[C]instanceof Error)W[C]=i.stdSerializers.err(W[C]);else if(typeof W[C]=="object"&&!Array.isArray(W[C]))for(const N in W[C])S&&S.indexOf(N)>-1&&N in T&&(W[C][N]=T[N](W[C][N]))}function u(W,S,T){return function(){const E=new Array(1+arguments.length);E[0]=S;for(var C=1;C<E.length;C++)E[C]=arguments[C-1];return W[T].apply(this,E)}}function l(W,S,T){const E=S.send,C=S.ts,N=S.methodLevel,U=S.methodValue,D=S.val,L=W._logEvent.bindings;c(T,W._serialize||Object.keys(W.serializers),W.serializers,W._stdErrSerialize===void 0?!0:W._stdErrSerialize),W._logEvent.ts=C,W._logEvent.messages=T.filter(function(x){return L.indexOf(x)===-1}),W._logEvent.level.label=N,W._logEvent.level.value=U,E(N,W._logEvent,D),W._logEvent=d(L)}function d(W){return{ts:0,messages:[],bindings:W||[],level:{label:"",value:0}}}function h(W){const S={type:W.constructor.name,msg:W.message,stack:W.stack};for(const T in W)S[T]===void 0&&(S[T]=W[T]);return S}function b(W){return typeof W.timestamp=="function"?W.timestamp:W.timestamp===!1?I:P}function y(){return{}}function g(W){return W}function w(){}function I(){return!1}function P(){return Date.now()}function B(){return Math.round(Date.now()/1e3)}function M(){return new Date(Date.now()).toISOString()}function O(){function W(S){return typeof S<"u"&&S}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return W(self)||W(window)||W(this)||{}}}return k0}var Ca=x$();const Cu=$s(Ca),v$={level:"info"},_u="custom_context",Db=1e3*1024;let T$=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Cv=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new T$(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},s3=class{constructor(e,t=Db){this.level=e??"error",this.levelValue=Ca.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Cv(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===Ca.levels.values.error?console.error(e):t===Ca.levels.values.warn?console.warn(e):t===Ca.levels.values.debug?console.debug(e):t===Ca.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(si({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Cv(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(si({extraMetadata:e})),new Blob(t,{type:"application/json"})}},A$=class{constructor(e,t=Db){this.baseChunkLogger=new s3(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),o=document.createElement("a");o.href=t,o.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}},E$=class{constructor(e,t=Db){this.baseChunkLogger=new s3(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var P$=Object.defineProperty,I$=Object.defineProperties,B$=Object.getOwnPropertyDescriptors,_v=Object.getOwnPropertySymbols,C$=Object.prototype.hasOwnProperty,_$=Object.prototype.propertyIsEnumerable,Sv=(r,e,t)=>e in r?P$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ud=(r,e)=>{for(var t in e||(e={}))C$.call(e,t)&&Sv(r,t,e[t]);if(_v)for(var t of _v(e))_$.call(e,t)&&Sv(r,t,e[t]);return r},kd=(r,e)=>I$(r,B$(e));function Nh(r){return kd(Ud({},r),{level:r?.level||v$.level})}function S$(r,e=_u){return r[e]||""}function W$(r,e,t=_u){return r[t]=e,r}function en(r,e=_u){let t="";return typeof r.bindings>"u"?t=S$(r,e):t=r.bindings().context||"",t}function O$(r,e,t=_u){const o=en(r,t);return o.trim()?`${o}/${e}`:e}function Fr(r,e,t=_u){const o=O$(r,e,t),i=r.child({context:o});return W$(i,o,t)}function R$(r){var e,t;const o=new A$((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Cu(kd(Ud({},r.opts),{level:"trace",browser:kd(Ud({},(t=r.opts)==null?void 0:t.browser),{write:i=>o.write(i)})})),chunkLoggerController:o}}function M$(r){var e;const t=new E$((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Cu(kd(Ud({},r.opts),{level:"trace"}),t),chunkLoggerController:t}}function N$(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?R$(r):M$(r)}var $$=Object.defineProperty,F$=(r,e,t)=>e in r?$$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wv=(r,e,t)=>F$(r,typeof e!="symbol"?e+"":e,t);let U$=class extends ks{constructor(e){super(),this.opts=e,Wv(this,"protocol","wc"),Wv(this,"version",2)}};var k$=Object.defineProperty,D$=(r,e,t)=>e in r?k$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,L$=(r,e,t)=>D$(r,e+"",t);let z$=class extends ks{constructor(e,t){super(),this.core=e,this.logger=t,L$(this,"records",new Map)}},q$=class{constructor(e,t){this.logger=e,this.core=t}};class j$ extends ks{constructor(e,t){super(),this.relayer=e,this.logger=t}}let V$=class extends ks{constructor(e){super()}},H$=class{constructor(e,t,o,i){this.core=e,this.logger=t,this.name=o}},G$=class extends ks{constructor(e,t){super(),this.relayer=e,this.logger=t}},K$=class extends ks{constructor(e,t){super(),this.core=e,this.logger=t}},Z$=class{constructor(e,t,o){this.core=e,this.logger=t,this.store=o}},Y$=class{constructor(e,t){this.projectId=e,this.logger=t}},J$=class{constructor(e,t,o){this.core=e,this.logger=t,this.telemetryEnabled=o}};var X$=Object.defineProperty,Q$=(r,e,t)=>e in r?X$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ov=(r,e,t)=>Q$(r,typeof e!="symbol"?e+"":e,t);let eF=class{constructor(e){this.opts=e,Ov(this,"protocol","wc"),Ov(this,"version",2)}},tF=class{constructor(e){this.client=e}};function rF(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function a3(r,...e){if(!rF(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Rv(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function nF(r,e){a3(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const fa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D0=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function oF(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function c3(r){return typeof r=="string"&&(r=oF(r)),a3(r),r}let iF=class{clone(){return this._cloneInto()}};function sF(r){const e=o=>r().update(c3(o)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function u3(r=32){if(fa&&typeof fa.getRandomValues=="function")return fa.getRandomValues(new Uint8Array(r));if(fa&&typeof fa.randomBytes=="function")return fa.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function aF(r,e,t,o){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,o);const i=BigInt(32),n=BigInt(4294967295),s=Number(t>>i&n),a=Number(t&n),c=o?4:0,u=o?0:4;r.setUint32(e+c,s,o),r.setUint32(e+u,a,o)}let cF=class extends iF{constructor(e,t,o,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=D0(this.buffer)}update(e){Rv(this);const{view:t,buffer:o,blockLen:i}=this;e=c3(e);const n=e.length;for(let s=0;s<n;){const a=Math.min(i-this.pos,n-s);if(a===i){const c=D0(e);for(;i<=n-s;s+=i)this.process(c,s);continue}o.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rv(this),nF(e,this),this.finished=!0;const{buffer:t,view:o,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(o,0),s=0);for(let d=s;d<i;d++)t[d]=0;aF(o,i-8,BigInt(this.length*8),n),this.process(o,0);const a=D0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const o=e.slice(0,t);return this.destroy(),o}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:o,length:i,finished:n,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(o),e}};const Zf=BigInt(2**32-1),ry=BigInt(32);function l3(r,e=!1){return e?{h:Number(r&Zf),l:Number(r>>ry&Zf)}:{h:Number(r>>ry&Zf)|0,l:Number(r&Zf)|0}}function uF(r,e=!1){let t=new Uint32Array(r.length),o=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:n,l:s}=l3(r[i],e);[t[i],o[i]]=[n,s]}return[t,o]}const lF=(r,e)=>BigInt(r>>>0)<<ry|BigInt(e>>>0),fF=(r,e,t)=>r>>>t,dF=(r,e,t)=>r<<32-t|e>>>t,hF=(r,e,t)=>r>>>t|e<<32-t,pF=(r,e,t)=>r<<32-t|e>>>t,gF=(r,e,t)=>r<<64-t|e>>>t-32,yF=(r,e,t)=>r>>>t-32|e<<64-t,bF=(r,e)=>e,wF=(r,e)=>r,mF=(r,e,t)=>r<<t|e>>>32-t,xF=(r,e,t)=>e<<t|r>>>32-t,vF=(r,e,t)=>e<<t-32|r>>>64-t,TF=(r,e,t)=>r<<t-32|e>>>64-t;function AF(r,e,t,o){const i=(e>>>0)+(o>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const EF=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),PF=(r,e,t,o)=>e+t+o+(r/2**32|0)|0,IF=(r,e,t,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(o>>>0),BF=(r,e,t,o,i)=>e+t+o+i+(r/2**32|0)|0,CF=(r,e,t,o,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(o>>>0)+(i>>>0),_F=(r,e,t,o,i,n)=>e+t+o+i+n+(r/2**32|0)|0,Ze={fromBig:l3,split:uF,toBig:lF,shrSH:fF,shrSL:dF,rotrSH:hF,rotrSL:pF,rotrBH:gF,rotrBL:yF,rotr32H:bF,rotr32L:wF,rotlSH:mF,rotlSL:xF,rotlBH:vF,rotlBL:TF,add:AF,add3L:EF,add3H:PF,add4L:IF,add4H:BF,add5H:_F,add5L:CF},[SF,WF]=Ze.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),mi=new Uint32Array(80),xi=new Uint32Array(80);let OF=class extends cF{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:o,Bl:i,Ch:n,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:b,Gl:y,Hh:g,Hl:w}=this;return[e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w]}set(e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w){this.Ah=e|0,this.Al=t|0,this.Bh=o|0,this.Bl=i|0,this.Ch=n|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=b|0,this.Gl=y|0,this.Hh=g|0,this.Hl=w|0}process(e,t){for(let B=0;B<16;B++,t+=4)mi[B]=e.getUint32(t),xi[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){const M=mi[B-15]|0,O=xi[B-15]|0,W=Ze.rotrSH(M,O,1)^Ze.rotrSH(M,O,8)^Ze.shrSH(M,O,7),S=Ze.rotrSL(M,O,1)^Ze.rotrSL(M,O,8)^Ze.shrSL(M,O,7),T=mi[B-2]|0,E=xi[B-2]|0,C=Ze.rotrSH(T,E,19)^Ze.rotrBH(T,E,61)^Ze.shrSH(T,E,6),N=Ze.rotrSL(T,E,19)^Ze.rotrBL(T,E,61)^Ze.shrSL(T,E,6),U=Ze.add4L(S,N,xi[B-7],xi[B-16]),D=Ze.add4H(U,W,C,mi[B-7],mi[B-16]);mi[B]=D|0,xi[B]=U|0}let{Ah:o,Al:i,Bh:n,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:b,Fl:y,Gh:g,Gl:w,Hh:I,Hl:P}=this;for(let B=0;B<80;B++){const M=Ze.rotrSH(d,h,14)^Ze.rotrSH(d,h,18)^Ze.rotrBH(d,h,41),O=Ze.rotrSL(d,h,14)^Ze.rotrSL(d,h,18)^Ze.rotrBL(d,h,41),W=d&b^~d&g,S=h&y^~h&w,T=Ze.add5L(P,O,S,WF[B],xi[B]),E=Ze.add5H(T,I,M,W,SF[B],mi[B]),C=T|0,N=Ze.rotrSH(o,i,28)^Ze.rotrBH(o,i,34)^Ze.rotrBH(o,i,39),U=Ze.rotrSL(o,i,28)^Ze.rotrBL(o,i,34)^Ze.rotrBL(o,i,39),D=o&n^o&a^n&a,L=i&s^i&c^s&c;I=g|0,P=w|0,g=b|0,w=y|0,b=d|0,y=h|0,{h:d,l:h}=Ze.add(u|0,l|0,E|0,C|0),u=a|0,l=c|0,a=n|0,c=s|0,n=o|0,s=i|0;const x=Ze.add3L(C,U,L);o=Ze.add3H(x,E,N,D),i=x|0}({h:o,l:i}=Ze.add(this.Ah|0,this.Al|0,o|0,i|0)),{h:n,l:s}=Ze.add(this.Bh|0,this.Bl|0,n|0,s|0),{h:a,l:c}=Ze.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ze.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=Ze.add(this.Eh|0,this.El|0,d|0,h|0),{h:b,l:y}=Ze.add(this.Fh|0,this.Fl|0,b|0,y|0),{h:g,l:w}=Ze.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:I,l:P}=Ze.add(this.Hh|0,this.Hl|0,I|0,P|0),this.set(o,i,n,s,a,c,u,l,d,h,b,y,g,w,I,P)}roundClean(){mi.fill(0),xi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const RF=sF(()=>new OF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lb=BigInt(0),f3=BigInt(1),MF=BigInt(2);function zb(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function qb(r){if(!zb(r))throw new Error("Uint8Array expected")}function L0(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const NF=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function jb(r){qb(r);let e="";for(let t=0;t<r.length;t++)e+=NF[r[t]];return e}function d3(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Lb:BigInt("0x"+r)}const $o={_0:48,_9:57,A:65,F:70,a:97,f:102};function Mv(r){if(r>=$o._0&&r<=$o._9)return r-$o._0;if(r>=$o.A&&r<=$o.F)return r-($o.A-10);if(r>=$o.a&&r<=$o.f)return r-($o.a-10)}function h3(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const o=new Uint8Array(t);for(let i=0,n=0;i<t;i++,n+=2){const s=Mv(r.charCodeAt(n)),a=Mv(r.charCodeAt(n+1));if(s===void 0||a===void 0){const c=r[n]+r[n+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+n)}o[i]=s*16+a}return o}function $F(r){return d3(jb(r))}function Ed(r){return qb(r),d3(jb(Uint8Array.from(r).reverse()))}function p3(r,e){return h3(r.toString(16).padStart(e*2,"0"))}function ny(r,e){return p3(r,e).reverse()}function Fo(r,e,t){let o;if(typeof e=="string")try{o=h3(e)}catch(n){throw new Error(r+" must be hex string or Uint8Array, cause: "+n)}else if(zb(e))o=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=o.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return o}function Nv(...r){let e=0;for(let o=0;o<r.length;o++){const i=r[o];qb(i),e+=i.length}const t=new Uint8Array(e);for(let o=0,i=0;o<r.length;o++){const n=r[o];t.set(n,i),i+=n.length}return t}const z0=r=>typeof r=="bigint"&&Lb<=r;function FF(r,e,t){return z0(r)&&z0(e)&&z0(t)&&e<=r&&r<t}function Pc(r,e,t,o){if(!FF(e,t,o))throw new Error("expected valid "+r+": "+t+" <= n < "+o+", got "+e)}function UF(r){let e;for(e=0;r>Lb;r>>=f3,e+=1);return e}const kF=r=>(MF<<BigInt(r-1))-f3,DF={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||zb(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Vb(r,e,t={}){const o=(i,n,s)=>{const a=DF[n];if(typeof a!="function")throw new Error("invalid validator function");const c=r[i];if(!(s&&c===void 0)&&!a(c,r))throw new Error("param "+String(i)+" is invalid. Expected "+n+", got "+c)};for(const[i,n]of Object.entries(e))o(i,n,!1);for(const[i,n]of Object.entries(t))o(i,n,!0);return r}function $v(r){const e=new WeakMap;return(t,...o)=>{const i=e.get(t);if(i!==void 0)return i;const n=r(t,...o);return e.set(t,n),n}}const rr=BigInt(0),Ut=BigInt(1),ls=BigInt(2),LF=BigInt(3),oy=BigInt(4),Fv=BigInt(5),Uv=BigInt(8);function Gt(r,e){const t=r%e;return t>=rr?t:e+t}function zF(r,e,t){if(e<rr)throw new Error("invalid exponent, negatives unsupported");if(t<=rr)throw new Error("invalid modulus");if(t===Ut)return rr;let o=Ut;for(;e>rr;)e&Ut&&(o=o*r%t),r=r*r%t,e>>=Ut;return o}function fo(r,e,t){let o=r;for(;e-- >rr;)o*=o,o%=t;return o}function kv(r,e){if(r===rr)throw new Error("invert: expected non-zero number");if(e<=rr)throw new Error("invert: expected positive modulus, got "+e);let t=Gt(r,e),o=e,i=rr,n=Ut;for(;t!==rr;){const s=o/t,a=o%t,c=i-n*s;o=t,t=a,i=n,n=c}if(o!==Ut)throw new Error("invert: does not exist");return Gt(i,e)}function qF(r){const e=(r-Ut)/ls;let t,o,i;for(t=r-Ut,o=0;t%ls===rr;t/=ls,o++);for(i=ls;i<r&&zF(i,e,r)!==r-Ut;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(o===1){const s=(r+Ut)/oy;return function(a,c){const u=a.pow(c,s);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const n=(t+Ut)/ls;return function(s,a){if(s.pow(a,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=o,u=s.pow(s.mul(s.ONE,i),t),l=s.pow(a,n),d=s.pow(a,t);for(;!s.eql(d,s.ONE);){if(s.eql(d,s.ZERO))return s.ZERO;let h=1;for(let y=s.sqr(d);h<c&&!s.eql(y,s.ONE);h++)y=s.sqr(y);const b=s.pow(u,Ut<<BigInt(c-h-1));u=s.sqr(b),l=s.mul(l,b),d=s.mul(d,u),c=h}return l}}function jF(r){if(r%oy===LF){const e=(r+Ut)/oy;return function(t,o){const i=t.pow(o,e);if(!t.eql(t.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%Uv===Fv){const e=(r-Fv)/Uv;return function(t,o){const i=t.mul(o,ls),n=t.pow(i,e),s=t.mul(o,n),a=t.mul(t.mul(s,ls),n),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),o))throw new Error("Cannot find square root");return c}}return qF(r)}const VF=(r,e)=>(Gt(r,e)&Ut)===Ut,HF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function GF(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=HF.reduce((o,i)=>(o[i]="function",o),e);return Vb(r,t)}function KF(r,e,t){if(t<rr)throw new Error("invalid exponent, negatives unsupported");if(t===rr)return r.ONE;if(t===Ut)return e;let o=r.ONE,i=e;for(;t>rr;)t&Ut&&(o=r.mul(o,i)),i=r.sqr(i),t>>=Ut;return o}function ZF(r,e){const t=new Array(e.length),o=e.reduce((n,s,a)=>r.is0(s)?n:(t[a]=n,r.mul(n,s)),r.ONE),i=r.inv(o);return e.reduceRight((n,s,a)=>r.is0(s)?n:(t[a]=r.mul(n,t[a]),r.mul(n,s)),i),t}function g3(r,e){const t=e!==void 0?e:r.toString(2).length,o=Math.ceil(t/8);return{nBitLength:t,nByteLength:o}}function y3(r,e,t=!1,o={}){if(r<=rr)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:i,nByteLength:n}=g3(r,e);if(n>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:r,isLE:t,BITS:i,BYTES:n,MASK:kF(i),ZERO:rr,ONE:Ut,create:c=>Gt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return rr<=c&&c<r},is0:c=>c===rr,isOdd:c=>(c&Ut)===Ut,neg:c=>Gt(-c,r),eql:(c,u)=>c===u,sqr:c=>Gt(c*c,r),add:(c,u)=>Gt(c+u,r),sub:(c,u)=>Gt(c-u,r),mul:(c,u)=>Gt(c*u,r),pow:(c,u)=>KF(a,c,u),div:(c,u)=>Gt(c*kv(u,r),r),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>kv(c,r),sqrt:o.sqrt||(c=>(s||(s=jF(r)),s(a,c))),invertBatch:c=>ZF(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?ny(c,n):p3(c,n),fromBytes:c=>{if(c.length!==n)throw new Error("Field.fromBytes: expected "+n+" bytes, got "+c.length);return t?Ed(c):$F(c)}});return Object.freeze(a)}const Dv=BigInt(0),Yf=BigInt(1);function q0(r,e){const t=e.negate();return r?t:e}function b3(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function j0(r,e){b3(r,e);const t=Math.ceil(e/r)+1,o=2**(r-1);return{windows:t,windowSize:o}}function YF(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,o)=>{if(!(t instanceof e))throw new Error("invalid point at index "+o)})}function JF(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,o)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+o)})}const V0=new WeakMap,w3=new WeakMap;function H0(r){return w3.get(r)||1}function XF(r,e){return{constTimeNegate:q0,hasPrecomputes(t){return H0(t)!==1},unsafeLadder(t,o,i=r.ZERO){let n=t;for(;o>Dv;)o&Yf&&(i=i.add(n)),n=n.double(),o>>=Yf;return i},precomputeWindow(t,o){const{windows:i,windowSize:n}=j0(o,e),s=[];let a=t,c=a;for(let u=0;u<i;u++){c=a,s.push(c);for(let l=1;l<n;l++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(t,o,i){const{windows:n,windowSize:s}=j0(t,e);let a=r.ZERO,c=r.BASE;const u=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let h=0;h<n;h++){const b=h*s;let y=Number(i&u);i>>=d,y>s&&(y-=l,i+=Yf);const g=b,w=b+Math.abs(y)-1,I=h%2!==0,P=y<0;y===0?c=c.add(q0(I,o[g])):a=a.add(q0(P,o[w]))}return{p:a,f:c}},wNAFUnsafe(t,o,i,n=r.ZERO){const{windows:s,windowSize:a}=j0(t,e),c=BigInt(2**t-1),u=2**t,l=BigInt(t);for(let d=0;d<s;d++){const h=d*a;if(i===Dv)break;let b=Number(i&c);if(i>>=l,b>a&&(b-=u,i+=Yf),b===0)continue;let y=o[h+Math.abs(b)-1];b<0&&(y=y.negate()),n=n.add(y)}return n},getPrecomputes(t,o,i){let n=V0.get(o);return n||(n=this.precomputeWindow(o,t),t!==1&&V0.set(o,i(n))),n},wNAFCached(t,o,i){const n=H0(t);return this.wNAF(n,this.getPrecomputes(n,t,i),o)},wNAFCachedUnsafe(t,o,i,n){const s=H0(t);return s===1?this.unsafeLadder(t,o,n):this.wNAFUnsafe(s,this.getPrecomputes(s,t,i),o,n)},setWindowSize(t,o){b3(o,e),w3.set(t,o),V0.delete(t)}}}function QF(r,e,t,o){if(YF(t,r),JF(o,e),t.length!==o.length)throw new Error("arrays of points and scalars must have equal length");const i=r.ZERO,n=UF(BigInt(t.length)),s=n>12?n-3:n>4?n-2:n?2:1,a=(1<<s)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/s)*s;let l=i;for(let d=u;d>=0;d-=s){c.fill(i);for(let b=0;b<o.length;b++){const y=o[b],g=Number(y>>BigInt(d)&BigInt(a));c[g]=c[g].add(t[b])}let h=i;for(let b=c.length-1,y=i;b>0;b--)y=y.add(c[b]),h=h.add(y);if(l=l.add(h),d!==0)for(let b=0;b<s;b++)l=l.double()}return l}function eU(r){return GF(r.Fp),Vb(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...g3(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const Dn=BigInt(0),Ur=BigInt(1),Jf=BigInt(2),tU=BigInt(8),rU={zip215:!0};function nU(r){const e=eU(r);return Vb(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function oU(r){const e=nU(r),{Fp:t,n:o,prehash:i,hash:n,randomBytes:s,nByteLength:a,h:c}=e,u=Jf<<BigInt(a*8)-Ur,l=t.create,d=y3(e.n,e.nBitLength),h=e.uvRatio||((x,A)=>{try{return{isValid:!0,value:t.sqrt(x*t.inv(A))}}catch{return{isValid:!1,value:Dn}}}),b=e.adjustScalarBytes||(x=>x),y=e.domain||((x,A,R)=>{if(L0("phflag",R),A.length||R)throw new Error("Contexts/pre-hash are not supported");return x});function g(x,A){Pc("coordinate "+x,A,Dn,u)}function w(x){if(!(x instanceof B))throw new Error("ExtendedPoint expected")}const I=$v((x,A)=>{const{ex:R,ey:F,ez:z}=x,j=x.is0();A==null&&(A=j?tU:t.inv(z));const Z=l(R*A),J=l(F*A),oe=l(z*A);if(j)return{x:Dn,y:Ur};if(oe!==Ur)throw new Error("invZ was invalid");return{x:Z,y:J}}),P=$v(x=>{const{a:A,d:R}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:F,ey:z,ez:j,et:Z}=x,J=l(F*F),oe=l(z*z),ee=l(j*j),te=l(ee*ee),ae=l(J*A),ue=l(ee*l(ae+oe)),we=l(te+l(R*l(J*oe)));if(ue!==we)throw new Error("bad point: equation left != right (1)");const Ee=l(F*z),Ne=l(j*Z);if(Ee!==Ne)throw new Error("bad point: equation left != right (2)");return!0});class B{constructor(A,R,F,z){this.ex=A,this.ey=R,this.ez=F,this.et=z,g("x",A),g("y",R),g("z",F),g("t",z),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof B)throw new Error("extended point not allowed");const{x:R,y:F}=A||{};return g("x",R),g("y",F),new B(R,F,Ur,l(R*F))}static normalizeZ(A){const R=t.invertBatch(A.map(F=>F.ez));return A.map((F,z)=>F.toAffine(R[z])).map(B.fromAffine)}static msm(A,R){return QF(B,d,A,R)}_setWindowSize(A){W.setWindowSize(this,A)}assertValidity(){P(this)}equals(A){w(A);const{ex:R,ey:F,ez:z}=this,{ex:j,ey:Z,ez:J}=A,oe=l(R*J),ee=l(j*z),te=l(F*J),ae=l(Z*z);return oe===ee&&te===ae}is0(){return this.equals(B.ZERO)}negate(){return new B(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:A}=e,{ex:R,ey:F,ez:z}=this,j=l(R*R),Z=l(F*F),J=l(Jf*l(z*z)),oe=l(A*j),ee=R+F,te=l(l(ee*ee)-j-Z),ae=oe+Z,ue=ae-J,we=oe-Z,Ee=l(te*ue),Ne=l(ae*we),Ue=l(te*we),ze=l(ue*ae);return new B(Ee,Ne,ze,Ue)}add(A){w(A);const{a:R,d:F}=e,{ex:z,ey:j,ez:Z,et:J}=this,{ex:oe,ey:ee,ez:te,et:ae}=A;if(R===BigInt(-1)){const Y=l((j-z)*(ee+oe)),re=l((j+z)*(ee-oe)),fe=l(re-Y);if(fe===Dn)return this.double();const ce=l(Z*Jf*ae),pe=l(J*Jf*te),Pe=pe+ce,Oe=re+Y,Ve=pe-ce,ht=l(Pe*fe),Ot=l(Oe*Ve),pr=l(Pe*Ve),q=l(fe*Oe);return new B(ht,Ot,q,pr)}const ue=l(z*oe),we=l(j*ee),Ee=l(J*F*ae),Ne=l(Z*te),Ue=l((z+j)*(oe+ee)-ue-we),ze=Ne-Ee,Fe=Ne+Ee,Re=l(we-R*ue),De=l(Ue*ze),mt=l(Fe*Re),hr=l(Ue*Re),G=l(ze*Fe);return new B(De,mt,G,hr)}subtract(A){return this.add(A.negate())}wNAF(A){return W.wNAFCached(this,A,B.normalizeZ)}multiply(A){const R=A;Pc("scalar",R,Ur,o);const{p:F,f:z}=this.wNAF(R);return B.normalizeZ([F,z])[0]}multiplyUnsafe(A,R=B.ZERO){const F=A;return Pc("scalar",F,Dn,o),F===Dn?O:this.is0()||F===Ur?this:W.wNAFCachedUnsafe(this,F,B.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return W.unsafeLadder(this,o).is0()}toAffine(A){return I(this,A)}clearCofactor(){const{h:A}=e;return A===Ur?this:this.multiplyUnsafe(A)}static fromHex(A,R=!1){const{d:F,a:z}=e,j=t.BYTES;A=Fo("pointHex",A,j),L0("zip215",R);const Z=A.slice(),J=A[j-1];Z[j-1]=J&-129;const oe=Ed(Z),ee=R?u:t.ORDER;Pc("pointHex.y",oe,Dn,ee);const te=l(oe*oe),ae=l(te-Ur),ue=l(F*te-z);let{isValid:we,value:Ee}=h(ae,ue);if(!we)throw new Error("Point.fromHex: invalid y coordinate");const Ne=(Ee&Ur)===Ur,Ue=(J&128)!==0;if(!R&&Ee===Dn&&Ue)throw new Error("Point.fromHex: x=0 and x_0=1");return Ue!==Ne&&(Ee=l(-Ee)),B.fromAffine({x:Ee,y:oe})}static fromPrivateKey(A){return E(A).point}toRawBytes(){const{x:A,y:R}=this.toAffine(),F=ny(R,t.BYTES);return F[F.length-1]|=A&Ur?128:0,F}toHex(){return jb(this.toRawBytes())}}B.BASE=new B(e.Gx,e.Gy,Ur,l(e.Gx*e.Gy)),B.ZERO=new B(Dn,Ur,Ur,Dn);const{BASE:M,ZERO:O}=B,W=XF(B,a*8);function S(x){return Gt(x,o)}function T(x){return S(Ed(x))}function E(x){const A=t.BYTES;x=Fo("private key",x,A);const R=Fo("hashed private key",n(x),2*A),F=b(R.slice(0,A)),z=R.slice(A,2*A),j=T(F),Z=M.multiply(j),J=Z.toRawBytes();return{head:F,prefix:z,scalar:j,point:Z,pointBytes:J}}function C(x){return E(x).pointBytes}function N(x=new Uint8Array,...A){const R=Nv(...A);return T(n(y(R,Fo("context",x),!!i)))}function U(x,A,R={}){x=Fo("message",x),i&&(x=i(x));const{prefix:F,scalar:z,pointBytes:j}=E(A),Z=N(R.context,F,x),J=M.multiply(Z).toRawBytes(),oe=N(R.context,J,j,x),ee=S(Z+oe*z);Pc("signature.s",ee,Dn,o);const te=Nv(J,ny(ee,t.BYTES));return Fo("result",te,t.BYTES*2)}const D=rU;function L(x,A,R,F=D){const{context:z,zip215:j}=F,Z=t.BYTES;x=Fo("signature",x,2*Z),A=Fo("message",A),R=Fo("publicKey",R,Z),j!==void 0&&L0("zip215",j),i&&(A=i(A));const J=Ed(x.slice(Z,2*Z));let oe,ee,te;try{oe=B.fromHex(R,j),ee=B.fromHex(x.slice(0,Z),j),te=M.multiplyUnsafe(J)}catch{return!1}if(!j&&oe.isSmallOrder())return!1;const ae=N(z,ee.toRawBytes(),oe.toRawBytes(),A);return ee.add(oe.multiplyUnsafe(ae)).subtract(te).clearCofactor().equals(B.ZERO)}return M._setWindowSize(8),{CURVE:e,getPublicKey:C,sign:U,verify:L,ExtendedPoint:B,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>s(t.BYTES),precompute(x=8,A=B.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const Hb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Lv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const iU=BigInt(1),zv=BigInt(2);BigInt(3);const sU=BigInt(5),aU=BigInt(8);function cU(r){const e=BigInt(10),t=BigInt(20),o=BigInt(40),i=BigInt(80),n=Hb,s=r*r%n*r%n,a=fo(s,zv,n)*s%n,c=fo(a,iU,n)*r%n,u=fo(c,sU,n)*c%n,l=fo(u,e,n)*u%n,d=fo(l,t,n)*l%n,h=fo(d,o,n)*d%n,b=fo(h,i,n)*h%n,y=fo(b,i,n)*h%n,g=fo(y,e,n)*u%n;return{pow_p_5_8:fo(g,zv,n)*r%n,b2:s}}function uU(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function lU(r,e){const t=Hb,o=Gt(e*e*e,t),i=Gt(o*o*e,t),n=cU(r*i).pow_p_5_8;let s=Gt(r*o*n,t);const a=Gt(e*s*s,t),c=s,u=Gt(s*Lv,t),l=a===r,d=a===Gt(-r,t),h=a===Gt(-r*Lv,t);return l&&(s=c),(d||h)&&(s=u),VF(s,t)&&(s=Gt(-s,t)),{isValid:l||d,value:s}}const fU=y3(Hb,void 0,!0),dU={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:fU,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:aU,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:RF,randomBytes:u3,adjustScalarBytes:uU,uvRatio:lU},m3=oU(dU),hU="EdDSA",pU="JWT",Dd=".",$h="base64url",x3="utf8",v3="utf8",gU=":",yU="did",bU="key",qv="base58btc",wU="z",mU="K36",xU=32;function Gb(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function T3(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Gb(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function A3(r,e){e||(e=r.reduce((i,n)=>i+n.length,0));const t=T3(e);let o=0;for(const i of r)t.set(i,o),o+=i.length;return Gb(t)}function vU(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),o=0;o<t.length;o++)t[o]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);if(t[s]!==255)throw new TypeError(n+" is ambiguous");t[s]=i}var a=r.length,c=r.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,w=0,I=0,P=y.length;I!==P&&y[I]===0;)I++,g++;for(var B=(P-I)*l+1>>>0,M=new Uint8Array(B);I!==P;){for(var O=y[I],W=0,S=B-1;(O!==0||W<w)&&S!==-1;S--,W++)O+=256*M[S]>>>0,M[S]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");w=W,I++}for(var T=B-w;T!==B&&M[T]===0;)T++;for(var E=c.repeat(g);T<B;++T)E+=r.charAt(M[T]);return E}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var g=0;if(y[g]!==" "){for(var w=0,I=0;y[g]===c;)w++,g++;for(var P=(y.length-g)*u+1>>>0,B=new Uint8Array(P);y[g];){var M=t[y.charCodeAt(g)];if(M===255)return;for(var O=0,W=P-1;(M!==0||O<I)&&W!==-1;W--,O++)M+=a*B[W]>>>0,B[W]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");I=O,g++}if(y[g]!==" "){for(var S=P-I;S!==P&&B[S]===0;)S++;for(var T=new Uint8Array(w+(P-S)),E=w;S!==P;)T[E++]=B[S++];return T}}}function b(y){var g=h(y);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:b}}var TU=vU,AU=TU;const E3=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},EU=r=>new TextEncoder().encode(r),PU=r=>new TextDecoder().decode(r);let IU=class{constructor(e,t,o){this.name=e,this.prefix=t,this.baseEncode=o}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},BU=class{constructor(e,t,o){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=o}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return P3(this,e)}},CU=class{constructor(e){this.decoders=e}or(e){return P3(this,e)}decode(e){const t=e[0],o=this.decoders[t];if(o)return o.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const P3=(r,e)=>new CU({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let _U=class{constructor(e,t,o,i){this.name=e,this.prefix=t,this.baseEncode=o,this.baseDecode=i,this.encoder=new IU(e,t,o),this.decoder=new BU(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Fh=({name:r,prefix:e,encode:t,decode:o})=>new _U(r,e,t,o),Su=({prefix:r,name:e,alphabet:t})=>{const{encode:o,decode:i}=AU(t,e);return Fh({prefix:r,name:e,encode:o,decode:n=>E3(i(n))})},SU=(r,e,t,o)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let n=r.length;for(;r[n-1]==="=";)--n;const s=new Uint8Array(n*t/8|0);let a=0,c=0,u=0;for(let l=0;l<n;++l){const d=i[r[l]];if(d===void 0)throw new SyntaxError(`Non-${o} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},WU=(r,e,t)=>{const o=e[e.length-1]==="=",i=(1<<t)-1;let n="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>t;)s-=t,n+=e[i&a>>s];if(s&&(n+=e[i&a<<t-s]),o)for(;n.length*t&7;)n+="=";return n},lr=({name:r,prefix:e,bitsPerChar:t,alphabet:o})=>Fh({prefix:e,name:r,encode(i){return WU(i,o,t)},decode(i){return SU(i,o,t,r)}}),OU=Fh({prefix:"\0",name:"identity",encode:r=>PU(r),decode:r=>EU(r)});var RU=Object.freeze({__proto__:null,identity:OU});const MU=lr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var NU=Object.freeze({__proto__:null,base2:MU});const $U=lr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var FU=Object.freeze({__proto__:null,base8:$U});const UU=Su({prefix:"9",name:"base10",alphabet:"0123456789"});var kU=Object.freeze({__proto__:null,base10:UU});const DU=lr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),LU=lr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var zU=Object.freeze({__proto__:null,base16:DU,base16upper:LU});const qU=lr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jU=lr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),VU=lr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),HU=lr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),GU=lr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),KU=lr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ZU=lr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),YU=lr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),JU=lr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var XU=Object.freeze({__proto__:null,base32:qU,base32upper:jU,base32pad:VU,base32padupper:HU,base32hex:GU,base32hexupper:KU,base32hexpad:ZU,base32hexpadupper:YU,base32z:JU});const QU=Su({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ek=Su({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tk=Object.freeze({__proto__:null,base36:QU,base36upper:ek});const rk=Su({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),nk=Su({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ok=Object.freeze({__proto__:null,base58btc:rk,base58flickr:nk});const ik=lr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sk=lr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ak=lr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ck=lr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var uk=Object.freeze({__proto__:null,base64:ik,base64pad:sk,base64url:ak,base64urlpad:ck});const I3=Array.from("ððªâð°ðððððððððððððâð»ð¥ð¾ð¿ðâ¤ðð¤£ðððð­ðððððð¥ð¥°ðððð¢ð¤ðððªðâºðð¤ððððð¹ð¤¦ððââ¨ð¤·ð±ðð¸ððððððððð¤©ððð¤ðð¯ððð¶ðð¤­â£ððððªðð¥ððð©ð¡ð¤ªðð¥³ð¥ð¤¤ððð³âððð´ðð¬ððð·ð»ðâ­âð¥ºððð¤ð¦âð£ððâ¹ððð âððºðð»ððððð¹ð£ð«ðððµð¤ðð´ð¤ð¼ð«â½ð¤âðð¤«ðð®ðð»ðð¶ðð²ð¿ð§¡ðâ¡ððââðð°ð¤¨ð¶ð¤ð¶ð°ðð¢ð¤ðð¨ð¨ð¤¬âððºð¤ððð±ðð¶ð¥´â¶â¡âðð¸â¬ð¨ðð¦ð·ðºâ ðððµðð¤²ð¤ ð¤§ððµðð§ð¾ððð¤ðð¤¯ð·âð§ð¯ððð¤ððâð´ð£ð¸ððð¥ð¤¢ðð¡ð©ðð¸ð»ð¤ð¤®ð¼ð¥µð©ððð¼ðð£ð¥"),lk=I3.reduce((r,e,t)=>(r[t]=e,r),[]),fk=I3.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function dk(r){return r.reduce((e,t)=>(e+=lk[t],e),"")}function hk(r){const e=[];for(const t of r){const o=fk[t.codePointAt(0)];if(o===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(o)}return new Uint8Array(e)}const pk=Fh({prefix:"ð",name:"base256emoji",encode:dk,decode:hk});var gk=Object.freeze({__proto__:null,base256emoji:pk}),yk=B3,jv=128,bk=-128,wk=Math.pow(2,31);function B3(r,e,t){e=e||[],t=t||0;for(var o=t;r>=wk;)e[t++]=r&255|jv,r/=128;for(;r&bk;)e[t++]=r&255|jv,r>>>=7;return e[t]=r|0,B3.bytes=t-o+1,e}var mk=iy,xk=128,Vv=127;function iy(r,o){var t=0,o=o||0,i=0,n=o,s,a=r.length;do{if(n>=a)throw iy.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&Vv)<<i:(s&Vv)*Math.pow(2,i),i+=7}while(s>=xk);return iy.bytes=n-o,t}var vk=Math.pow(2,7),Tk=Math.pow(2,14),Ak=Math.pow(2,21),Ek=Math.pow(2,28),Pk=Math.pow(2,35),Ik=Math.pow(2,42),Bk=Math.pow(2,49),Ck=Math.pow(2,56),_k=Math.pow(2,63),Sk=function(r){return r<vk?1:r<Tk?2:r<Ak?3:r<Ek?4:r<Pk?5:r<Ik?6:r<Bk?7:r<Ck?8:r<_k?9:10},Wk={encode:yk,decode:mk,encodingLength:Sk},C3=Wk;const Hv=(r,e,t=0)=>(C3.encode(r,e,t),e),Gv=r=>C3.encodingLength(r),sy=(r,e)=>{const t=e.byteLength,o=Gv(r),i=o+Gv(t),n=new Uint8Array(i+t);return Hv(r,n,0),Hv(t,n,o),n.set(e,i),new Ok(r,t,e,n)};let Ok=class{constructor(e,t,o,i){this.code=e,this.size=t,this.digest=o,this.bytes=i}};const _3=({name:r,code:e,encode:t})=>new Rk(r,e,t);let Rk=class{constructor(e,t,o){this.name=e,this.code=t,this.encode=o}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?sy(this.code,t):t.then(o=>sy(this.code,o))}else throw Error("Unknown type, must be binary type")}};const S3=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Mk=_3({name:"sha2-256",code:18,encode:S3("SHA-256")}),Nk=_3({name:"sha2-512",code:19,encode:S3("SHA-512")});var $k=Object.freeze({__proto__:null,sha256:Mk,sha512:Nk});const W3=0,Fk="identity",O3=E3,Uk=r=>sy(W3,O3(r)),kk={code:W3,name:Fk,encode:O3,digest:Uk};var Dk=Object.freeze({__proto__:null,identity:kk});new TextEncoder,new TextDecoder;const Kv={...RU,...NU,...FU,...kU,...zU,...XU,...tk,...ok,...uk,...gk};({...$k,...Dk});function R3(r,e,t,o){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:o}}}const Zv=R3("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),G0=R3("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=T3(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),M3={utf8:Zv,"utf-8":Zv,hex:Kv.base16,latin1:G0,ascii:G0,binary:G0,...Kv};function Uh(r,e="utf8"){const t=M3[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function ac(r,e="utf8"){const t=M3[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Gb(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Yv(r){return Ws(Uh(ac(r,$h),x3))}function Ld(r){return Uh(ac(si(r),x3),$h)}function N3(r){const e=ac(mU,qv),t=wU+Uh(A3([e,r]),qv);return[yU,bU,t].join(gU)}function Lk(r){return Uh(r,$h)}function zk(r){return ac(r,$h)}function qk(r){return ac([Ld(r.header),Ld(r.payload)].join(Dd),v3)}function jk(r){return[Ld(r.header),Ld(r.payload),Lk(r.signature)].join(Dd)}function ay(r){const e=r.split(Dd),t=Yv(e[0]),o=Yv(e[1]),i=zk(e[2]),n=ac(e.slice(0,2).join(Dd),v3);return{header:t,payload:o,signature:i,data:n}}function Jv(r=u3(xU)){const e=m3.getPublicKey(r);return{secretKey:A3([r,e]),publicKey:e}}async function Vk(r,e,t,o,i=xe.fromMiliseconds(Date.now())){const n={alg:hU,typ:pU},s=N3(o.publicKey),a=i+t,c={iss:s,sub:r,aud:e,iat:i,exp:a},u=qk({header:n,payload:c}),l=m3.sign(u,o.secretKey.slice(0,32));return jk({header:n,payload:c,signature:l})}var Xv=function(r,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,n;o<i;o++)(n||!(o in e))&&(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return r.concat(n||Array.prototype.slice.call(e))},Hk=function(){function r(e,t,o){this.name=e,this.version=t,this.os=o,this.type="browser"}return r}(),Gk=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=Wr.platform}return r}(),Kk=function(){function r(e,t,o,i){this.name=e,this.version=t,this.os=o,this.bot=i,this.type="bot-device"}return r}(),Zk=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),Yk=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),Jk=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Xk=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Qv=3,Qk=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Jk]],eT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function eD(r){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Yk:typeof navigator<"u"?rD(navigator.userAgent):oD()}function tD(r){return r!==""&&Qk.reduce(function(e,t){var o=t[0],i=t[1];if(e)return e;var n=i.exec(r);return!!n&&[o,n]},!1)}function rD(r){var e=tD(r);if(!e)return null;var t=e[0],o=e[1];if(t==="searchbot")return new Zk;var i=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);i?i.length<Qv&&(i=Xv(Xv([],i,!0),iD(Qv-i.length),!0)):i=[];var n=i.join("."),s=nD(r),a=Xk.exec(r);return a&&a[1]?new Kk(t,n,s,a[1]):new Hk(t,n,s)}function nD(r){for(var e=0,t=eT.length;e<t;e++){var o=eT[e],i=o[0],n=o[1],s=n.exec(r);if(s)return i}return null}function oD(){var r=typeof Wr<"u"&&Wr.version;return r?new Gk(Wr.version.slice(1)):null}function iD(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var xt={},tT;function $3(){if(tT)return xt;tT=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.getLocalStorage=xt.getLocalStorageOrThrow=xt.getCrypto=xt.getCryptoOrThrow=xt.getLocation=xt.getLocationOrThrow=xt.getNavigator=xt.getNavigatorOrThrow=xt.getDocument=xt.getDocumentOrThrow=xt.getFromWindowOrThrow=xt.getFromWindow=void 0;function r(h){let b;return typeof window<"u"&&typeof window[h]<"u"&&(b=window[h]),b}xt.getFromWindow=r;function e(h){const b=r(h);if(!b)throw new Error(`${h} is not defined in Window`);return b}xt.getFromWindowOrThrow=e;function t(){return e("document")}xt.getDocumentOrThrow=t;function o(){return r("document")}xt.getDocument=o;function i(){return e("navigator")}xt.getNavigatorOrThrow=i;function n(){return r("navigator")}xt.getNavigator=n;function s(){return e("location")}xt.getLocationOrThrow=s;function a(){return r("location")}xt.getLocation=a;function c(){return e("crypto")}xt.getCryptoOrThrow=c;function u(){return r("crypto")}xt.getCrypto=u;function l(){return e("localStorage")}xt.getLocalStorageOrThrow=l;function d(){return r("localStorage")}return xt.getLocalStorage=d,xt}var ai=$3(),Ic={},rT;function sD(){if(rT)return Ic;rT=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.getWindowMetadata=void 0;const r=$3();function e(){let t,o;try{t=r.getDocumentOrThrow(),o=r.getLocationOrThrow()}catch{return null}function i(){const b=t.getElementsByTagName("link"),y=[];for(let g=0;g<b.length;g++){const w=b[g],I=w.getAttribute("rel");if(I&&I.toLowerCase().indexOf("icon")>-1){const P=w.getAttribute("href");if(P)if(P.toLowerCase().indexOf("https:")===-1&&P.toLowerCase().indexOf("http:")===-1&&P.indexOf("//")!==0){let B=o.protocol+"//"+o.host;if(P.indexOf("/")===0)B+=P;else{const M=o.pathname.split("/");M.pop();const O=M.join("/");B+=O+"/"+P}y.push(B)}else if(P.indexOf("//")===0){const B=o.protocol+P;y.push(B)}else y.push(P)}}return y}function n(...b){const y=t.getElementsByTagName("meta");for(let g=0;g<y.length;g++){const w=y[g],I=["itemprop","property","name"].map(P=>w.getAttribute(P)).filter(P=>P?b.includes(P):!1);if(I.length&&I){const P=w.getAttribute("content");if(P)return P}}return""}function s(){let b=n("name","og:site_name","og:title","twitter:title");return b||(b=t.title),b}function a(){return n("description","og:description","twitter:description","keywords")}const c=s(),u=a(),l=o.origin,d=i();return{description:u,url:l,icons:d,name:c}}return Ic.getWindowMetadata=e,Ic}var aD=sD();function su(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function cy(r){return su(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}const F3="2.31.0";let K0={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:t})=>e?`${r??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${F3}`};class Os extends Error{constructor(e,t={}){const o=t.cause instanceof Os?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof Os&&t.cause.docsPath||t.docsPath,n=K0.getDocsUrl?.({...t,docsPath:i}),s=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: ${n}`]:[],...o?[`Details: ${o}`]:[],...K0.version?[`Version: ${K0.version}`]:[]].join(`
`);super(s,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=o,this.docsPath=i,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=F3}walk(e){return U3(this,e)}}function U3(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?U3(r.cause,e):e?null:r}class k3 extends Os{constructor({size:e,targetSize:t,type:o}){super(`${o.charAt(0).toUpperCase()}${o.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function cc(r,{dir:e,size:t=32}={}){return typeof r=="string"?cD(r,{dir:e,size:t}):uD(r,{dir:e,size:t})}function cD(r,{dir:e,size:t=32}={}){if(t===null)return r;const o=r.replace("0x","");if(o.length>t*2)throw new k3({size:Math.ceil(o.length/2),targetSize:t,type:"hex"});return`0x${o[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function uD(r,{dir:e,size:t=32}={}){if(t===null)return r;if(r.length>t)throw new k3({size:r.length,targetSize:t,type:"bytes"});const o=new Uint8Array(t);for(let i=0;i<t;i++){const n=e==="right";o[n?i:t-i-1]=r[n?i:r.length-i-1]}return o}class lD extends Os{constructor({max:e,min:t,signed:o,size:i,value:n}){super(`Number "${n}" is not in safe ${i?`${i*8}-bit ${o?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class fD extends Os{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function uc(r,{size:e}){if(cy(r)>e)throw new fD({givenSize:cy(r),maxSize:e})}function uy(r,e={}){const{signed:t}=e;e.size&&uc(r,{size:e.size});const o=BigInt(r);if(!t)return o;const i=(r.length-2)/2,n=(1n<<BigInt(i)*8n-1n)-1n;return o<=n?o:o-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function dD(r,e={}){return Number(uy(r,e))}const hD=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function ly(r,e={}){return typeof r=="number"||typeof r=="bigint"?L3(r,e):typeof r=="string"?yD(r,e):typeof r=="boolean"?pD(r,e):D3(r,e)}function pD(r,e={}){const t=`0x${Number(r)}`;return typeof e.size=="number"?(uc(t,{size:e.size}),cc(t,{size:e.size})):t}function D3(r,e={}){let t="";for(let i=0;i<r.length;i++)t+=hD[r[i]];const o=`0x${t}`;return typeof e.size=="number"?(uc(o,{size:e.size}),cc(o,{dir:"right",size:e.size})):o}function L3(r,e={}){const{signed:t,size:o}=e,i=BigInt(r);let n;o?t?n=(1n<<BigInt(o)*8n-1n)-1n:n=2n**(BigInt(o)*8n)-1n:typeof r=="number"&&(n=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof n=="bigint"&&t?-n-1n:0;if(n&&i>n||i<s){const c=typeof r=="bigint"?"n":"";throw new lD({max:n?`${n}${c}`:void 0,min:`${s}${c}`,signed:t,size:o,value:`${r}${c}`})}const a=`0x${(t&&i<0?(1n<<BigInt(o*8))+BigInt(i):i).toString(16)}`;return o?cc(a,{size:o}):a}const gD=new TextEncoder;function yD(r,e={}){const t=gD.encode(r);return D3(t,e)}const bD=new TextEncoder;function wD(r,e={}){return typeof r=="number"||typeof r=="bigint"?xD(r,e):typeof r=="boolean"?mD(r,e):su(r)?z3(r,e):q3(r,e)}function mD(r,e={}){const t=new Uint8Array(1);return t[0]=Number(r),typeof e.size=="number"?(uc(t,{size:e.size}),cc(t,{size:e.size})):t}const Uo={zero:48,nine:57,A:65,F:70,a:97,f:102};function nT(r){if(r>=Uo.zero&&r<=Uo.nine)return r-Uo.zero;if(r>=Uo.A&&r<=Uo.F)return r-(Uo.A-10);if(r>=Uo.a&&r<=Uo.f)return r-(Uo.a-10)}function z3(r,e={}){let t=r;e.size&&(uc(t,{size:e.size}),t=cc(t,{dir:"right",size:e.size}));let o=t.slice(2);o.length%2&&(o=`0${o}`);const i=o.length/2,n=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const c=nT(o.charCodeAt(a++)),u=nT(o.charCodeAt(a++));if(c===void 0||u===void 0)throw new Os(`Invalid byte sequence ("${o[a-2]}${o[a-1]}" in "${o}").`);n[s]=c*16+u}return n}function xD(r,e){const t=L3(r,e);return z3(t)}function q3(r,e={}){const t=bD.encode(r);return typeof e.size=="number"?(uc(t,{size:e.size}),cc(t,{dir:"right",size:e.size})):t}const Xf=BigInt(2**32-1),oT=BigInt(32);function vD(r,e=!1){return e?{h:Number(r&Xf),l:Number(r>>oT&Xf)}:{h:Number(r>>oT&Xf)|0,l:Number(r&Xf)|0}}function TD(r,e=!1){const t=r.length;let o=new Uint32Array(t),i=new Uint32Array(t);for(let n=0;n<t;n++){const{h:s,l:a}=vD(r[n],e);[o[n],i[n]]=[s,a]}return[o,i]}const AD=(r,e,t)=>r<<t|e>>>32-t,ED=(r,e,t)=>e<<t|r>>>32-t,PD=(r,e,t)=>e<<t-32|r>>>64-t,ID=(r,e,t)=>r<<t-32|e>>>64-t,da=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BD(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function zd(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function au(r,...e){if(!BD(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Eee(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zd(r.outputLen),zd(r.blockLen)}function iT(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function CD(r,e){au(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function _D(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function j3(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function Pee(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Iee(r,e){return r<<32-e|r>>>e}const SD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function WD(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function OD(r){for(let e=0;e<r.length;e++)r[e]=WD(r[e]);return r}const sT=SD?r=>r:OD;function RD(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function V3(r){return typeof r=="string"&&(r=RD(r)),au(r),r}function Bee(...r){let e=0;for(let o=0;o<r.length;o++){const i=r[o];au(i),e+=i.length}const t=new Uint8Array(e);for(let o=0,i=0;o<r.length;o++){const n=r[o];t.set(n,i),i+=n.length}return t}class MD{}function ND(r){const e=o=>r().update(V3(o)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Cee(r=32){if(da&&typeof da.getRandomValues=="function")return da.getRandomValues(new Uint8Array(r));if(da&&typeof da.randomBytes=="function")return Uint8Array.from(da.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}const $D=BigInt(0),Bc=BigInt(1),FD=BigInt(2),UD=BigInt(7),kD=BigInt(256),DD=BigInt(113),H3=[],G3=[],K3=[];for(let r=0,e=Bc,t=1,o=0;r<24;r++){[t,o]=[o,(2*t+3*o)%5],H3.push(2*(5*o+t)),G3.push((r+1)*(r+2)/2%64);let i=$D;for(let n=0;n<7;n++)e=(e<<Bc^(e>>UD)*DD)%kD,e&FD&&(i^=Bc<<(Bc<<BigInt(n))-Bc);K3.push(i)}const Z3=TD(K3,!0),LD=Z3[0],zD=Z3[1],aT=(r,e,t)=>t>32?PD(r,e,t):AD(r,e,t),cT=(r,e,t)=>t>32?ID(r,e,t):ED(r,e,t);function qD(r,e=24){const t=new Uint32Array(10);for(let o=24-e;o<24;o++){for(let s=0;s<10;s++)t[s]=r[s]^r[s+10]^r[s+20]^r[s+30]^r[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,u=t[c],l=t[c+1],d=aT(u,l,1)^t[a],h=cT(u,l,1)^t[a+1];for(let b=0;b<50;b+=10)r[s+b]^=d,r[s+b+1]^=h}let i=r[2],n=r[3];for(let s=0;s<24;s++){const a=G3[s],c=aT(i,n,a),u=cT(i,n,a),l=H3[s];i=r[l],n=r[l+1],r[l]=c,r[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=r[s+a];for(let a=0;a<10;a++)r[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=LD[o],r[1]^=zD[o]}j3(t)}class Kb extends MD{constructor(e,t,o,i=!1,n=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=o,this.enableXOF=i,this.rounds=n,zd(o),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=_D(this.state)}clone(){return this._cloneInto()}keccak(){sT(this.state32),qD(this.state32,this.rounds),sT(this.state32),this.posOut=0,this.pos=0}update(e){iT(this),e=V3(e),au(e);const{blockLen:t,state:o}=this,i=e.length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let a=0;a<s;a++)o[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:o,blockLen:i}=this;e[o]^=t,(t&128)!==0&&o===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){iT(this,!1),au(e),this.finish();const t=this.state,{blockLen:o}=this;for(let i=0,n=e.length;i<n;){this.posOut>=o&&this.keccak();const s=Math.min(o-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(CD(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,j3(this.state)}_cloneInto(e){const{blockLen:t,suffix:o,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new Kb(t,o,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=o,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const jD=(r,e,t)=>ND(()=>new Kb(e,r,t)),VD=jD(1,136,256/8);function Y3(r,e){const t=e||"hex",o=VD(su(r,{strict:!1})?wD(r):r);return t==="bytes"?o:ly(o)}class HD extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const o=this.keys().next().value;o&&this.delete(o)}return this}}const Z0=new HD(8192);function GD(r,e){if(Z0.has(`${r}.${e}`))return Z0.get(`${r}.${e}`);const t=r.substring(2).toLowerCase(),o=Y3(q3(t),"bytes"),i=t.split("");for(let s=0;s<40;s+=2)o[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(o[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const n=`0x${i.join("")}`;return Z0.set(`${r}.${e}`,n),n}function KD(r){const e=Y3(`0x${r.substring(4)}`).substring(26);return GD(`0x${e}`)}async function ZD({hash:r,signature:e}){const t=su(r)?r:ly(r),{secp256k1:o}=await LB(async()=>{const{secp256k1:s}=await import("./secp256k1-CvcWhAe3.js");return{secp256k1:s}},__vite__mapDeps([0,1,2]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:l,v:d,yParity:h}=e,b=Number(h??d),y=uT(b);return new o.Signature(uy(u),uy(l)).addRecoveryBit(y)}const s=su(e)?e:ly(e);if(cy(s)!==65)throw new Error("invalid signature length");const a=dD(`0x${s.slice(130)}`),c=uT(a);return o.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function uT(r){if(r===0||r===1)return r;if(r===27)return 0;if(r===28)return 1;throw new Error("Invalid yParityOrV value")}async function YD({hash:r,signature:e}){return KD(await ZD({hash:r,signature:e}))}function JD(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<r.length;u++){const l=r.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const t=r.length,o=r.charAt(0),i=Math.log(t)/Math.log(256),n=Math.log(256)/Math.log(t);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,h=0;const b=u.length;for(;h!==b&&u[h]===0;)h++,l++;const y=(b-h)*n+1>>>0,g=new Uint8Array(y);for(;h!==b;){let P=u[h],B=0;for(let M=y-1;(P!==0||B<d)&&M!==-1;M--,B++)P+=256*g[M]>>>0,g[M]=P%t>>>0,P=P/t>>>0;if(P!==0)throw new Error("Non-zero carry");d=B,h++}let w=y-d;for(;w!==y&&g[w]===0;)w++;let I=o.repeat(l);for(;w<y;++w)I+=r.charAt(g[w]);return I}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,h=0;for(;u[l]===o;)d++,l++;const b=(u.length-l)*i+1>>>0,y=new Uint8Array(b);for(;l<u.length;){const P=u.charCodeAt(l);if(P>255)return;let B=e[P];if(B===255)return;let M=0;for(let O=b-1;(B!==0||M<h)&&O!==-1;O--,M++)B+=t*y[O]>>>0,y[O]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");h=M,l++}let g=b-h;for(;g!==b&&y[g]===0;)g++;const w=new Uint8Array(d+(b-g));let I=d;for(;g!==b;)w[I++]=y[g++];return w}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+t+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var XD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Wu=JD(XD);function QD(r){const e=r.length;let t=0,o=0;for(;o<e;){let i=r.charCodeAt(o++);if((i&4294967168)===0){t++;continue}else if((i&4294965248)===0)t+=2;else{if(i>=55296&&i<=56319&&o<e){const n=r.charCodeAt(o);(n&64512)===56320&&(++o,i=((i&1023)<<10)+(n&1023)+65536)}(i&4294901760)===0?t+=3:t+=4}}return t}function eL(r,e,t){const o=r.length;let i=t,n=0;for(;n<o;){let s=r.charCodeAt(n++);if((s&4294967168)===0){e[i++]=s;continue}else if((s&4294965248)===0)e[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&n<o){const a=r.charCodeAt(n);(a&64512)===56320&&(++n,s=((s&1023)<<10)+(a&1023)+65536)}(s&4294901760)===0?(e[i++]=s>>12&15|224,e[i++]=s>>6&63|128):(e[i++]=s>>18&7|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128)}e[i++]=s&63|128}}const tL=new TextEncoder,rL=50;function nL(r,e,t){tL.encodeInto(r,e.subarray(t))}function oL(r,e,t){r.length>rL?nL(r,e,t):eL(r,e,t)}const iL=4096;function J3(r,e,t){let o=e;const i=o+t,n=[];let s="";for(;o<i;){const a=r[o++];if((a&128)===0)n.push(a);else if((a&224)===192){const c=r[o++]&63;n.push((a&31)<<6|c)}else if((a&240)===224){const c=r[o++]&63,u=r[o++]&63;n.push((a&31)<<12|c<<6|u)}else if((a&248)===240){const c=r[o++]&63,u=r[o++]&63,l=r[o++]&63;let d=(a&7)<<18|c<<12|u<<6|l;d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|d&1023),n.push(d)}else n.push(a);n.length>=iL&&(s+=String.fromCharCode(...n),n.length=0)}return n.length>0&&(s+=String.fromCharCode(...n)),s}const sL=new TextDecoder,aL=200;function cL(r,e,t){const o=r.subarray(e,e+t);return sL.decode(o)}function uL(r,e,t){return t>aL?cL(r,e,t):J3(r,e,t)}class Qf{constructor(e,t){this.type=e,this.data=t}}class an extends Error{constructor(e){super(e);const t=Object.create(an.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:an.name})}}const Cc=4294967295;function lL(r,e,t){const o=t/4294967296,i=t;r.setUint32(e,o),r.setUint32(e+4,i)}function X3(r,e,t){const o=Math.floor(t/4294967296),i=t;r.setUint32(e,o),r.setUint32(e+4,i)}function Q3(r,e){const t=r.getInt32(e),o=r.getUint32(e+4);return t*4294967296+o}function fL(r,e){const t=r.getUint32(e),o=r.getUint32(e+4);return t*4294967296+o}const dL=-1,hL=4294967296-1,pL=17179869184-1;function gL({sec:r,nsec:e}){if(r>=0&&e>=0&&r<=pL)if(e===0&&r<=hL){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,r),t}else{const t=r/4294967296,o=r&4294967295,i=new Uint8Array(8),n=new DataView(i.buffer);return n.setUint32(0,e<<2|t&3),n.setUint32(4,o),i}else{const t=new Uint8Array(12),o=new DataView(t.buffer);return o.setUint32(0,e),X3(o,4,r),t}}function yL(r){const e=r.getTime(),t=Math.floor(e/1e3),o=(e-t*1e3)*1e6,i=Math.floor(o/1e9);return{sec:t+i,nsec:o-i*1e9}}function bL(r){if(r instanceof Date){const e=yL(r);return gL(e)}else return null}function wL(r){const e=new DataView(r.buffer,r.byteOffset,r.byteLength);switch(r.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0),o=e.getUint32(4),i=(t&3)*4294967296+o,n=t>>>2;return{sec:i,nsec:n}}case 12:{const t=Q3(e,4),o=e.getUint32(0);return{sec:t,nsec:o}}default:throw new an(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${r.length}`)}}function mL(r){const e=wL(r);return new Date(e.sec*1e3+e.nsec/1e6)}const xL={type:dL,encode:bL,decode:mL};class qd{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(xL)}register({type:e,encode:t,decode:o}){if(e>=0)this.encoders[e]=t,this.decoders[e]=o;else{const i=-1-e;this.builtInEncoders[i]=t,this.builtInDecoders[i]=o}}tryToEncode(e,t){for(let o=0;o<this.builtInEncoders.length;o++){const i=this.builtInEncoders[o];if(i!=null){const n=i(e,t);if(n!=null){const s=-1-o;return new Qf(s,n)}}}for(let o=0;o<this.encoders.length;o++){const i=this.encoders[o];if(i!=null){const n=i(e,t);if(n!=null){const s=o;return new Qf(s,n)}}}return e instanceof Qf?e:null}decode(e,t,o){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,o):new Qf(t,e)}}qd.defaultCodec=new qd;function vL(r){return r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer}function fy(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):vL(r)?new Uint8Array(r):Uint8Array.from(r)}const TL=100,AL=2048;let EL=class e6{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??qd.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??TL,this.initialBufferSize=e?.initialBufferSize??AL,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new e6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)}resizeBuffer(e){const t=new ArrayBuffer(e),o=new Uint8Array(t),i=new DataView(t);o.set(this.bytes),this.view=i,this.bytes=o}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const o=QD(e);this.ensureBufferSizeToWrite(5+o),this.writeStringHeader(o),oL(e,this.bytes,this.pos),this.pos+=o}encodeObject(e,t){const o=this.extensionCodec.tryToEncode(e,this.context);if(o!=null)this.encodeExtension(o);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error(`Too large binary: ${t}`);const o=fy(e);this.writeU8a(o)}encodeArray(e,t){const o=e.length;if(o<16)this.writeU8(144+o);else if(o<65536)this.writeU8(220),this.writeU16(o);else if(o<4294967296)this.writeU8(221),this.writeU32(o);else throw new Error(`Too large array: ${o}`);for(const i of e)this.doEncode(i,t+1)}countWithoutUndefined(e,t){let o=0;for(const i of t)e[i]!==void 0&&o++;return o}encodeMap(e,t){const o=Object.keys(e);this.sortKeys&&o.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,o):o.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const n of o){const s=e[n];this.ignoreUndefined&&s===void 0||(this.encodeString(n),this.doEncode(s,t+1))}}encodeExtension(e){if(typeof e.data=="function"){const o=e.data(this.pos+6),i=o.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(o);return}const t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),lL(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),X3(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function PL(r,e){return new EL(e).encodeSharedRef(r)}function Y0(r){return`${r<0?"-":""}0x${Math.abs(r).toString(16).padStart(2,"0")}`}const IL=16,BL=16;class CL{constructor(e=IL,t=BL){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let o=0;o<this.maxKeyLength;o++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,o){const i=this.caches[o-1];e:for(const n of i){const s=n.bytes;for(let a=0;a<o;a++)if(s[a]!==e[t+a])continue e;return n.str}return null}store(e,t){const o=this.caches[e.length-1],i={bytes:e,str:t};o.length>=this.maxLengthPerKey?o[Math.random()*o.length|0]=i:o.push(i)}decode(e,t,o){const i=this.find(e,t,o);if(i!=null)return this.hit++,i;this.miss++;const n=J3(e,t,o),s=Uint8Array.prototype.slice.call(e,t,t+o);return this.store(s,n),n}}const dy="array",jc="map_key",t6="map_value",_L=r=>{if(typeof r=="string"||typeof r=="number")return r;throw new an("The type of key must be string or number but "+typeof r)};class SL{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=dy,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=jc,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===dy){const o=e;o.size=0,o.array=void 0,o.position=0,o.type=void 0}if(e.type===jc||e.type===t6){const o=e;o.size=0,o.map=void 0,o.readCount=0,o.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const _c=-1,Zb=new DataView(new ArrayBuffer(0)),WL=new Uint8Array(Zb.buffer);try{Zb.getInt8(0)}catch(r){if(!(r instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const lT=new RangeError("Insufficient data"),OL=new CL;let RL=class r6{constructor(e){this.totalPos=0,this.pos=0,this.view=Zb,this.bytes=WL,this.headByte=_c,this.stack=new SL,this.entered=!1,this.extensionCodec=e?.extensionCodec??qd.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Cc,this.maxBinLength=e?.maxBinLength??Cc,this.maxArrayLength=e?.maxArrayLength??Cc,this.maxMapLength=e?.maxMapLength??Cc,this.maxExtLength=e?.maxExtLength??Cc,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:OL,this.mapKeyConverter=e?.mapKeyConverter??_L}clone(){return new r6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=_c,this.stack.reset()}setBuffer(e){const t=fy(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===_c&&!this.hasRemaining(1))this.setBuffer(e);else{const t=this.bytes.subarray(this.pos),o=fy(e),i=new Uint8Array(t.length+o.length);i.set(t),i.set(o,t.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:o}=this;return new RangeError(`Extra ${t.byteLength-o} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t=!1,o;for await(const a of e){if(t)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{o=this.doDecodeSync(),t=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return o}const{headByte:i,pos:n,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${Y0(i)} at ${s} (${n} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){yield*this.clone().decodeMultiAsync(e,t);return}try{this.entered=!0;let o=t,i=-1;for await(const n of e){if(t&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(n),o&&(i=this.readArraySize(),o=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else{const i=e-160;t=this.decodeString(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)this.useBigInt64?t=this.readU64AsBigInt():t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)this.useBigInt64?t=this.readI64AsBigInt():t=this.readI64();else if(e===217){const i=this.lookU8();t=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();t=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();t=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e===196){const i=this.lookU8();t=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();t=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();t=this.decodeBinary(i,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();t=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();t=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();t=this.decodeExtension(i,4)}else throw new an(`Unrecognized type byte: ${Y0(e)}`);this.complete();const o=this.stack;for(;o.length>0;){const i=o.top();if(i.type===dy)if(i.array[i.position]=t,i.position++,i.position===i.size)t=i.array,o.release(i);else continue e;else if(i.type===jc){if(t==="__proto__")throw new an("The key __proto__ is not allowed");i.key=this.mapKeyConverter(t),i.type=t6;continue e}else if(i.map[i.key]=t,i.readCount++,i.readCount===i.size)t=i.map,o.release(i);else{i.key=null,i.type=jc;continue e}}return t}}readHeadByte(){return this.headByte===_c&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=_c}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new an(`Unrecognized array type byte: ${Y0(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new an(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new an(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new an(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw lT;const o=this.pos+t;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,o,e):i=uL(this.bytes,o,e),this.pos+=t+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===jc:!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new an(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw lT;const o=this.pos+t,i=this.bytes.subarray(o,o+e);return this.pos+=t+e,i}decodeExtension(e,t){if(e>this.maxExtLength)throw new an(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const o=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,o,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=fL(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Q3(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function ML(r,e){return new RL(e).decode(r)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NL(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function n6(r,e){return Array.isArray(e)?e.length===0?!0:r?e.every(t=>typeof t=="string"):e.every(t=>Number.isSafeInteger(t)):!1}function jd(r,e){if(typeof e!="string")throw new Error(`${r}: string expected`);return!0}function Yb(r){if(!Number.isSafeInteger(r))throw new Error(`invalid integer: ${r}`)}function hy(r){if(!Array.isArray(r))throw new Error("array expected")}function Vd(r,e){if(!n6(!0,e))throw new Error(`${r}: array of strings expected`)}function $L(r,e){if(!n6(!1,e))throw new Error(`${r}: array of numbers expected`)}function FL(...r){const e=n=>n,t=(n,s)=>a=>n(s(a)),o=r.map(n=>n.encode).reduceRight(t,e),i=r.map(n=>n.decode).reduce(t,e);return{encode:o,decode:i}}function UL(r){const e=typeof r=="string"?r.split(""):r,t=e.length;Vd("alphabet",e);const o=new Map(e.map((i,n)=>[i,n]));return{encode:i=>(hy(i),i.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${r}`);return e[n]})),decode:i=>(hy(i),i.map(n=>{jd("alphabet.decode",n);const s=o.get(n);if(s===void 0)throw new Error(`Unknown letter: "${n}". Allowed: ${r}`);return s}))}}function kL(r=""){return jd("join",r),{encode:e=>(Vd("join.decode",e),e.join(r)),decode:e=>(jd("join.decode",e),e.split(r))}}function DL(r,e="="){return Yb(r),jd("padding",e),{encode(t){for(Vd("padding.encode",t);t.length*r%8;)t.push(e);return t},decode(t){Vd("padding.decode",t);let o=t.length;if(o*r%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;o>0&&t[o-1]===e;o--)if((o-1)*r%8===0)throw new Error("padding: invalid, string has too much padding");return t.slice(0,o)}}}const o6=(r,e)=>e===0?r:o6(e,r%e),Hd=(r,e)=>r+(e-o6(r,e)),J0=(()=>{let r=[];for(let e=0;e<40;e++)r.push(2**e);return r})();function fT(r,e,t,o){if(hy(r),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(Hd(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${Hd(e,t)}`);let i=0,n=0;const s=J0[e],a=J0[t]-1,c=[];for(const u of r){if(Yb(u),u>=s)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,n+e>32)throw new Error(`convertRadix2: carry overflow pos=${n} from=${e}`);for(n+=e;n>=t;n-=t)c.push((i>>n-t&a)>>>0);const l=J0[n];if(l===void 0)throw new Error("invalid carry");i&=l-1}if(i=i<<t-n&a,!o&&n>=e)throw new Error("Excess padding");if(!o&&i>0)throw new Error(`Non-zero padding: ${i}`);return o&&n>0&&c.push(i>>>0),c}function LL(r,e=!1){if(Yb(r),r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if(Hd(8,r)>32||Hd(r,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!NL(t))throw new Error("radix2.encode input should be Uint8Array");return fT(Array.from(t),8,r,!e)},decode:t=>($L("radix2.decode",t),Uint8Array.from(fT(t,r,8,e)))}}const zL=FL(LL(5),UL("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),DL(5),kL(""));function Jb(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function i6(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Jb(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Vc(r,e){e||(e=r.reduce((i,n)=>i+n.length,0));const t=i6(e);let o=0;for(const i of r)t.set(i,o),o+=i.length;return Jb(t)}function qL(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),o=0;o<t.length;o++)t[o]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);if(t[s]!==255)throw new TypeError(n+" is ambiguous");t[s]=i}var a=r.length,c=r.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,w=0,I=0,P=y.length;I!==P&&y[I]===0;)I++,g++;for(var B=(P-I)*l+1>>>0,M=new Uint8Array(B);I!==P;){for(var O=y[I],W=0,S=B-1;(O!==0||W<w)&&S!==-1;S--,W++)O+=256*M[S]>>>0,M[S]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");w=W,I++}for(var T=B-w;T!==B&&M[T]===0;)T++;for(var E=c.repeat(g);T<B;++T)E+=r.charAt(M[T]);return E}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var g=0;if(y[g]!==" "){for(var w=0,I=0;y[g]===c;)w++,g++;for(var P=(y.length-g)*u+1>>>0,B=new Uint8Array(P);y[g];){var M=t[y.charCodeAt(g)];if(M===255)return;for(var O=0,W=P-1;(M!==0||O<I)&&W!==-1;W--,O++)M+=a*B[W]>>>0,B[W]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");I=O,g++}if(y[g]!==" "){for(var S=P-I;S!==P&&B[S]===0;)S++;for(var T=new Uint8Array(w+(P-S)),E=w;S!==P;)T[E++]=B[S++];return T}}}function b(y){var g=h(y);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:b}}var jL=qL,VL=jL;const HL=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},GL=r=>new TextEncoder().encode(r),KL=r=>new TextDecoder().decode(r);class ZL{constructor(e,t,o){this.name=e,this.prefix=t,this.baseEncode=o}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class YL{constructor(e,t,o){this.name=e,this.prefix=t,this.baseDecode=o}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){const t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new Xb(t)}}class Xb{constructor(e){this.decoders=e}or(e){const t=e.decoders||{[e.prefix]:e};return new Xb({...this.decoders,...t})}decode(e){const t=e[0],o=this.decoders[t];if(o)return o.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class JL{constructor(e,t,o,i){this.name=e,this.prefix=t,this.baseEncode=o,this.baseDecode=i,this.encoder=new ZL(e,t,o),this.decoder=new YL(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Qb=({name:r,prefix:e,encode:t,decode:o})=>new JL(r,e,t,o),Ou=({prefix:r,name:e,alphabet:t})=>{const{encode:o,decode:i}=VL(t,e);return Qb({prefix:r,name:e,encode:o,decode:n=>HL(i(n))})},XL=(r,e,t,o)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let n=r.length;for(;r[n-1]==="=";)--n;const s=new Uint8Array(n*t/8|0);let a=0,c=0,u=0;for(let l=0;l<n;++l){const d=i[r[l]];if(d===void 0)throw new SyntaxError(`Non-${o} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},QL=(r,e,t)=>{const o=e[e.length-1]==="=",i=(1<<t)-1;let n="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>t;)s-=t,n+=e[i&a>>s];if(s&&(n+=e[i&a<<t-s]),o)for(;n.length*t&7;)n+="=";return n},fr=({name:r,prefix:e,bitsPerChar:t,alphabet:o})=>Qb({prefix:e,name:r,encode(i){return QL(i,o,t)},decode(i){return XL(i,o,t,r)}}),ez=Qb({prefix:"\0",name:"identity",encode:r=>KL(r),decode:r=>GL(r)}),tz=Object.freeze(Object.defineProperty({__proto__:null,identity:ez},Symbol.toStringTag,{value:"Module"})),rz=fr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),nz=Object.freeze(Object.defineProperty({__proto__:null,base2:rz},Symbol.toStringTag,{value:"Module"})),oz=fr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),iz=Object.freeze(Object.defineProperty({__proto__:null,base8:oz},Symbol.toStringTag,{value:"Module"})),sz=Ou({prefix:"9",name:"base10",alphabet:"0123456789"}),az=Object.freeze(Object.defineProperty({__proto__:null,base10:sz},Symbol.toStringTag,{value:"Module"})),cz=fr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uz=fr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),lz=Object.freeze(Object.defineProperty({__proto__:null,base16:cz,base16upper:uz},Symbol.toStringTag,{value:"Module"})),fz=fr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dz=fr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hz=fr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pz=fr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gz=fr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yz=fr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bz=fr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wz=fr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mz=fr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xz=Object.freeze(Object.defineProperty({__proto__:null,base32:fz,base32hex:gz,base32hexpad:bz,base32hexpadupper:wz,base32hexupper:yz,base32pad:hz,base32padupper:pz,base32upper:dz,base32z:mz},Symbol.toStringTag,{value:"Module"})),vz=Ou({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Tz=Ou({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Az=Object.freeze(Object.defineProperty({__proto__:null,base36:vz,base36upper:Tz},Symbol.toStringTag,{value:"Module"})),Ez=Ou({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Pz=Ou({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Iz=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Ez,base58flickr:Pz},Symbol.toStringTag,{value:"Module"})),Bz=fr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cz=fr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_z=fr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Sz=fr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Wz=Object.freeze(Object.defineProperty({__proto__:null,base64:Bz,base64pad:Cz,base64url:_z,base64urlpad:Sz},Symbol.toStringTag,{value:"Module"})),dT={...tz,...nz,...iz,...az,...lz,...xz,...Az,...Iz,...Wz};function s6(r,e,t,o){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:o}}}const hT=s6("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),X0=s6("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=i6(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),a6={utf8:hT,"utf-8":hT,hex:dT.base16,latin1:X0,ascii:X0,binary:X0,...dT};function Wn(r,e="utf8"){const t=a6[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Jb(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Xr(r,e="utf8"){const t=a6[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}const Oz={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Q0,pT;function c6(){if(pT)return Q0;pT=1;const r="Input must be an string, Buffer or Uint8Array";function e(s){let a;if(s instanceof Uint8Array)a=s;else if(typeof s=="string")a=new TextEncoder().encode(s);else throw new Error(r);return a}function t(s){return Array.prototype.map.call(s,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function o(s){return(4294967296+s).toString(16).substring(1)}function i(s,a,c){let u=`
`+s+" = ";for(let l=0;l<a.length;l+=2){if(c===32)u+=o(a[l]).toUpperCase(),u+=" ",u+=o(a[l+1]).toUpperCase();else if(c===64)u+=o(a[l+1]).toUpperCase(),u+=o(a[l]).toUpperCase();else throw new Error("Invalid size "+c);l%6===4?u+=`
`+new Array(s.length+4).join(" "):l<a.length-2&&(u+=" ")}console.log(u)}function n(s,a,c){let u=new Date().getTime();const l=new Uint8Array(a);for(let h=0;h<a;h++)l[h]=h%256;const d=new Date().getTime();console.log("Generated random input in "+(d-u)+"ms"),u=d;for(let h=0;h<c;h++){const b=s(l),y=new Date().getTime(),g=y-u;u=y,console.log("Hashed in "+g+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return Q0={normalizeInput:e,toHex:t,debugPrint:i,testSpeed:n},Q0}var eg,gT;function Rz(){if(gT)return eg;gT=1;const r=c6();function e(I,P,B){const M=I[P]+I[B];let O=I[P+1]+I[B+1];M>=4294967296&&O++,I[P]=M,I[P+1]=O}function t(I,P,B,M){let O=I[P]+B;B<0&&(O+=4294967296);let W=I[P+1]+M;O>=4294967296&&W++,I[P]=O,I[P+1]=W}function o(I,P){return I[P]^I[P+1]<<8^I[P+2]<<16^I[P+3]<<24}function i(I,P,B,M,O,W){const S=u[O],T=u[O+1],E=u[W],C=u[W+1];e(c,I,P),t(c,I,S,T);let N=c[M]^c[I],U=c[M+1]^c[I+1];c[M]=U,c[M+1]=N,e(c,B,M),N=c[P]^c[B],U=c[P+1]^c[B+1],c[P]=N>>>24^U<<8,c[P+1]=U>>>24^N<<8,e(c,I,P),t(c,I,E,C),N=c[M]^c[I],U=c[M+1]^c[I+1],c[M]=N>>>16^U<<16,c[M+1]=U>>>16^N<<16,e(c,B,M),N=c[P]^c[B],U=c[P+1]^c[B+1],c[P]=U>>>31^N<<1,c[P+1]=N>>>31^U<<1}const n=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(s.map(function(I){return I*2})),c=new Uint32Array(32),u=new Uint32Array(32);function l(I,P){let B=0;for(B=0;B<16;B++)c[B]=I.h[B],c[B+16]=n[B];for(c[24]=c[24]^I.t,c[25]=c[25]^I.t/4294967296,P&&(c[28]=~c[28],c[29]=~c[29]),B=0;B<32;B++)u[B]=o(I.b,4*B);for(B=0;B<12;B++)i(0,8,16,24,a[B*16+0],a[B*16+1]),i(2,10,18,26,a[B*16+2],a[B*16+3]),i(4,12,20,28,a[B*16+4],a[B*16+5]),i(6,14,22,30,a[B*16+6],a[B*16+7]),i(0,10,20,30,a[B*16+8],a[B*16+9]),i(2,12,22,24,a[B*16+10],a[B*16+11]),i(4,14,16,26,a[B*16+12],a[B*16+13]),i(6,8,18,28,a[B*16+14],a[B*16+15]);for(B=0;B<16;B++)I.h[B]=I.h[B]^c[B]^c[B+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(I,P,B,M){if(I===0||I>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(P&&P.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(B&&B.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(M&&M.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const O={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:I};d.fill(0),d[0]=I,P&&(d[1]=P.length),d[2]=1,d[3]=1,B&&d.set(B,32),M&&d.set(M,48);for(let W=0;W<16;W++)O.h[W]=n[W]^o(d,W*4);return P&&(b(O,P),O.c=128),O}function b(I,P){for(let B=0;B<P.length;B++)I.c===128&&(I.t+=I.c,l(I,!1),I.c=0),I.b[I.c++]=P[B]}function y(I){for(I.t+=I.c;I.c<128;)I.b[I.c++]=0;l(I,!0);const P=new Uint8Array(I.outlen);for(let B=0;B<I.outlen;B++)P[B]=I.h[B>>2]>>8*(B&3);return P}function g(I,P,B,M,O){B=B||64,I=r.normalizeInput(I),M&&(M=r.normalizeInput(M)),O&&(O=r.normalizeInput(O));const W=h(B,P,M,O);return b(W,I),y(W)}function w(I,P,B,M,O){const W=g(I,P,B,M,O);return r.toHex(W)}return eg={blake2b:g,blake2bHex:w,blake2bInit:h,blake2bUpdate:b,blake2bFinal:y},eg}var tg,yT;function Mz(){if(yT)return tg;yT=1;const r=c6();function e(y,g){return y[g]^y[g+1]<<8^y[g+2]<<16^y[g+3]<<24}function t(y,g,w,I,P,B){s[y]=s[y]+s[g]+P,s[I]=o(s[I]^s[y],16),s[w]=s[w]+s[I],s[g]=o(s[g]^s[w],12),s[y]=s[y]+s[g]+B,s[I]=o(s[I]^s[y],8),s[w]=s[w]+s[I],s[g]=o(s[g]^s[w],7)}function o(y,g){return y>>>g^y<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),n=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),s=new Uint32Array(16),a=new Uint32Array(16);function c(y,g){let w=0;for(w=0;w<8;w++)s[w]=y.h[w],s[w+8]=i[w];for(s[12]^=y.t,s[13]^=y.t/4294967296,g&&(s[14]=~s[14]),w=0;w<16;w++)a[w]=e(y.b,4*w);for(w=0;w<10;w++)t(0,4,8,12,a[n[w*16+0]],a[n[w*16+1]]),t(1,5,9,13,a[n[w*16+2]],a[n[w*16+3]]),t(2,6,10,14,a[n[w*16+4]],a[n[w*16+5]]),t(3,7,11,15,a[n[w*16+6]],a[n[w*16+7]]),t(0,5,10,15,a[n[w*16+8]],a[n[w*16+9]]),t(1,6,11,12,a[n[w*16+10]],a[n[w*16+11]]),t(2,7,8,13,a[n[w*16+12]],a[n[w*16+13]]),t(3,4,9,14,a[n[w*16+14]],a[n[w*16+15]]);for(w=0;w<8;w++)y.h[w]^=s[w]^s[w+8]}function u(y,g){if(!(y>0&&y<=32))throw new Error("Incorrect output length, should be in [1, 32]");const w=g?g.length:0;if(g&&!(w>0&&w<=32))throw new Error("Incorrect key length, should be in [1, 32]");const I={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:y};return I.h[0]^=16842752^w<<8^y,w>0&&(l(I,g),I.c=64),I}function l(y,g){for(let w=0;w<g.length;w++)y.c===64&&(y.t+=y.c,c(y,!1),y.c=0),y.b[y.c++]=g[w]}function d(y){for(y.t+=y.c;y.c<64;)y.b[y.c++]=0;c(y,!0);const g=new Uint8Array(y.outlen);for(let w=0;w<y.outlen;w++)g[w]=y.h[w>>2]>>8*(w&3)&255;return g}function h(y,g,w){w=w||32,y=r.normalizeInput(y);const I=u(w,g);return l(I,y),d(I)}function b(y,g,w){const I=h(y,g,w);return r.toHex(I)}return tg={blake2s:h,blake2sHex:b,blake2sInit:u,blake2sUpdate:l,blake2sFinal:d},tg}var rg,bT;function Nz(){if(bT)return rg;bT=1;const r=Rz(),e=Mz();return rg={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},rg}var $z=Nz(),Fz={};const Uz=":";function ka(r){const[e,t]=r.split(Uz);return{namespace:e,reference:t}}function u6(r,e){return r.includes(":")?[r]:e.chains||[]}var kz=Object.defineProperty,Dz=Object.defineProperties,Lz=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,zz=Object.prototype.hasOwnProperty,qz=Object.prototype.propertyIsEnumerable,py=(r,e,t)=>e in r?kz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mT=(r,e)=>{for(var t in e||(e={}))zz.call(e,t)&&py(r,t,e[t]);if(wT)for(var t of wT(e))qz.call(e,t)&&py(r,t,e[t]);return r},jz=(r,e)=>Dz(r,Lz(e)),xT=(r,e,t)=>py(r,typeof e!="symbol"?e+"":e,t);const Vz="ReactNative",un={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Hz="js";function Gd(){return typeof Wr<"u"&&typeof Wr.versions<"u"&&typeof Wr.versions.node<"u"}function Gi(){return!ai.getDocument()&&!!ai.getNavigator()&&navigator.product===Vz}function Gz(){return Gi()&&typeof window<"u"&&typeof window?.Platform<"u"&&window?.Platform.OS==="android"}function Kz(){return Gi()&&typeof window<"u"&&typeof window?.Platform<"u"&&window?.Platform.OS==="ios"}function lc(){return!Gd()&&!!ai.getNavigator()&&!!ai.getDocument()}function Ru(){return Gi()?un.reactNative:Gd()?un.node:lc()?un.browser:un.unknown}function vT(){var r;try{return Gi()&&typeof window<"u"&&typeof window?.Application<"u"?(r=window.Application)==null?void 0:r.applicationId:void 0}catch{return}}function Zz(r,e){const t=new URLSearchParams(r);for(const o of Object.keys(e).sort())if(e.hasOwnProperty(o)){const i=e[o];i!==void 0&&t.set(o,i)}return t.toString()}function Yz(r){var e,t;const o=l6();try{return r!=null&&r.url&&o.url&&new URL(r.url).host!==new URL(o.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${r.url} differs from the actual page url:${o.url}. This is probably unintended and can lead to issues.`),r.url=o.url),(e=r?.icons)!=null&&e.length&&r.icons.length>0&&(r.icons=r.icons.filter(i=>i!=="")),jz(mT(mT({},o),r),{url:r?.url||o.url,name:r?.name||o.name,description:r?.description||o.description,icons:(t=r?.icons)!=null&&t.length&&r.icons.length>0?r.icons:o.icons})}catch(i){return console.warn("Error populating app metadata",i),r||o}}function l6(){return aD.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Jz(){if(Ru()===un.reactNative&&typeof window<"u"&&typeof window?.Platform<"u"){const{OS:t,Version:o}=window.Platform;return[t,o].join("-")}const r=eD();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function Xz(){var r;const e=Ru();return e===un.browser?[e,((r=ai.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function f6(r,e,t){const o=Jz(),i=Xz();return[[r,e].join("-"),[Hz,t].join("-"),o,i].join("/")}function Qz({protocol:r,version:e,relayUrl:t,sdkVersion:o,auth:i,projectId:n,useOnCloseEvent:s,bundleId:a,packageName:c}){const u=t.split("?"),l=f6(r,e,o),d={auth:i,ua:l,projectId:n,useOnCloseEvent:s,packageName:c||void 0,bundleId:a||void 0},h=Zz(u[1]||"",d);return u[0]+"?"+h}function bs(r,e){return r.filter(t=>e.includes(t)).length===r.length}function gy(r){return Object.fromEntries(r.entries())}function yy(r){return new Map(Object.entries(r))}function ss(r=xe.FIVE_MINUTES,e){const t=xe.toMiliseconds(r||xe.FIVE_MINUTES);let o,i,n,s;return{resolve:a=>{n&&o&&(clearTimeout(n),o(a),s=Promise.resolve(a))},reject:a=>{n&&i&&(clearTimeout(n),i(a))},done:()=>new Promise((a,c)=>{if(s)return a(s);n=setTimeout(()=>{const u=new Error(e);s=Promise.reject(u),c(u)},t),o=a,i=c})}}function Ni(r,e,t){return new Promise(async(o,i)=>{const n=setTimeout(()=>i(new Error(t)),e);try{const s=await r;o(s)}catch(s){i(s)}clearTimeout(n)})}function d6(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function eq(r){return d6("topic",r)}function tq(r){return d6("id",r)}function h6(r){const[e,t]=r.split(":"),o={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")o.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))o.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return o}function Ht(r,e){return xe.fromMiliseconds(Date.now()+xe.toMiliseconds(r))}function _i(r){return Date.now()>=xe.toMiliseconds(r)}function gt(r,e){return`${r}${e?`:${e}`:""}`}function Bo(r=[],e=[]){return[...new Set([...r,...e])]}async function rq({id:r,topic:e,wcDeepLink:t}){var o;try{if(!t)return;const i=typeof t=="string"?JSON.parse(t):t,n=i?.href;if(typeof n!="string")return;const s=nq(n,r,e),a=Ru();if(a===un.browser){if(!((o=ai.getDocument())!=null&&o.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}oq(s)}else a===un.reactNative&&typeof window?.Linking<"u"&&await window.Linking.openURL(s)}catch(i){console.error(i)}}function nq(r,e,t){const o=`requestId=${e}&sessionTopic=${t}`;r.endsWith("/")&&(r=r.slice(0,-1));let i=`${r}`;if(r.startsWith("https://t.me")){const n=r.includes("?")?"&startapp=":"?startapp=";i=`${i}${n}${cq(o,!0)}`}else i=`${i}/wc?${o}`;return i}function oq(r){let e="_self";aq()?e="_top":(sq()||r.startsWith("https://")||r.startsWith("http://"))&&(e="_blank"),window.open(r,e,"noreferrer noopener")}async function iq(r,e){let t="";try{if(lc()&&(t=localStorage.getItem(e),t))return t;t=await r.getItem(e)}catch(o){console.error(o)}return t}function TT(r,e){if(!r.includes(e))return null;const t=r.split(/([&,?,=])/),o=t.indexOf(e);return t[o+2]}function AT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function e1(){return typeof Wr<"u"&&Fz.IS_VITEST==="true"}function sq(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function aq(){try{return window.self!==window.top}catch{return!1}}function cq(r,e=!1){const t=qe.from(r).toString("base64");return e?t.replace(/[=]/g,""):t}function p6(r){return qe.from(r,"base64").toString("utf-8")}function uq(r){return new Promise(e=>setTimeout(e,r))}let lq=class{constructor({limit:e}){xT(this,"limit"),xT(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const t=this.set.values().next().value;t&&this.set.delete(t)}this.set.add(e)}}has(e){return this.set.has(e)}};const ed=BigInt(2**32-1),ET=BigInt(32);function g6(r,e=!1){return e?{h:Number(r&ed),l:Number(r>>ET&ed)}:{h:Number(r>>ET&ed)|0,l:Number(r&ed)|0}}function y6(r,e=!1){const t=r.length;let o=new Uint32Array(t),i=new Uint32Array(t);for(let n=0;n<t;n++){const{h:s,l:a}=g6(r[n],e);[o[n],i[n]]=[s,a]}return[o,i]}const PT=(r,e,t)=>r>>>t,IT=(r,e,t)=>r<<32-t|e>>>t,Si=(r,e,t)=>r>>>t|e<<32-t,Wi=(r,e,t)=>r<<32-t|e>>>t,kc=(r,e,t)=>r<<64-t|e>>>t-32,Dc=(r,e,t)=>r>>>t-32|e<<64-t,fq=(r,e)=>e,dq=(r,e)=>r,hq=(r,e,t)=>r<<t|e>>>32-t,pq=(r,e,t)=>e<<t|r>>>32-t,gq=(r,e,t)=>e<<t-32|r>>>64-t,yq=(r,e,t)=>r<<t-32|e>>>64-t;function Gn(r,e,t,o){const i=(e>>>0)+(o>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const t1=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),r1=(r,e,t,o)=>e+t+o+(r/2**32|0)|0,bq=(r,e,t,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(o>>>0),wq=(r,e,t,o,i)=>e+t+o+i+(r/2**32|0)|0,mq=(r,e,t,o,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(o>>>0)+(i>>>0),xq=(r,e,t,o,i,n)=>e+t+o+i+n+(r/2**32|0)|0,ha=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function n1(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function ci(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Rn(r,...e){if(!n1(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function o1(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ci(r.outputLen),ci(r.blockLen)}function qi(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function i1(r,e){Rn(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function cu(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Mn(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function ng(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function ho(r,e){return r<<32-e|r>>>e}const b6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w6(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}const zo=b6?r=>r:r=>w6(r);function vq(r){for(let e=0;e<r.length;e++)r[e]=w6(r[e]);return r}const Oi=b6?r=>r:vq,m6=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Tq=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function uu(r){if(Rn(r),m6)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=Tq[r[t]];return e}const ko={_0:48,_9:57,A:65,F:70,a:97,f:102};function BT(r){if(r>=ko._0&&r<=ko._9)return r-ko._0;if(r>=ko.A&&r<=ko.F)return r-(ko.A-10);if(r>=ko.a&&r<=ko.f)return r-(ko.a-10)}function s1(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(m6)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const o=new Uint8Array(t);for(let i=0,n=0;i<t;i++,n+=2){const s=BT(r.charCodeAt(n)),a=BT(r.charCodeAt(n+1));if(s===void 0||a===void 0){const c=r[n]+r[n+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+n)}o[i]=s*16+a}return o}function Aq(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function Xn(r){return typeof r=="string"&&(r=Aq(r)),Rn(r),r}function ws(...r){let e=0;for(let o=0;o<r.length;o++){const i=r[o];Rn(i),e+=i.length}const t=new Uint8Array(e);for(let o=0,i=0;o<r.length;o++){const n=r[o];t.set(n,i),i+=n.length}return t}let kh=class{};function Mu(r){const e=o=>r().update(Xn(o)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Eq(r){const e=(o,i)=>r(i).update(Xn(o)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=o=>r(o),e}function fc(r=32){if(ha&&typeof ha.getRandomValues=="function")return ha.getRandomValues(new Uint8Array(r));if(ha&&typeof ha.randomBytes=="function")return Uint8Array.from(ha.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}const Pq=BigInt(0),Sc=BigInt(1),Iq=BigInt(2),Bq=BigInt(7),Cq=BigInt(256),_q=BigInt(113),x6=[],v6=[],T6=[];for(let r=0,e=Sc,t=1,o=0;r<24;r++){[t,o]=[o,(2*t+3*o)%5],x6.push(2*(5*o+t)),v6.push((r+1)*(r+2)/2%64);let i=Pq;for(let n=0;n<7;n++)e=(e<<Sc^(e>>Bq)*_q)%Cq,e&Iq&&(i^=Sc<<(Sc<<BigInt(n))-Sc);T6.push(i)}const A6=y6(T6,!0),Sq=A6[0],Wq=A6[1],CT=(r,e,t)=>t>32?gq(r,e,t):hq(r,e,t),_T=(r,e,t)=>t>32?yq(r,e,t):pq(r,e,t);function Oq(r,e=24){const t=new Uint32Array(10);for(let o=24-e;o<24;o++){for(let s=0;s<10;s++)t[s]=r[s]^r[s+10]^r[s+20]^r[s+30]^r[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,u=t[c],l=t[c+1],d=CT(u,l,1)^t[a],h=_T(u,l,1)^t[a+1];for(let b=0;b<50;b+=10)r[s+b]^=d,r[s+b+1]^=h}let i=r[2],n=r[3];for(let s=0;s<24;s++){const a=v6[s],c=CT(i,n,a),u=_T(i,n,a),l=x6[s];i=r[l],n=r[l+1],r[l]=c,r[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=r[s+a];for(let a=0;a<10;a++)r[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=Sq[o],r[1]^=Wq[o]}Mn(t)}let Rq=class E6 extends kh{constructor(e,t,o,i=!1,n=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=o,this.enableXOF=i,this.rounds=n,ci(o),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=cu(this.state)}clone(){return this._cloneInto()}keccak(){Oi(this.state32),Oq(this.state32,this.rounds),Oi(this.state32),this.posOut=0,this.pos=0}update(e){qi(this),e=Xn(e),Rn(e);const{blockLen:t,state:o}=this,i=e.length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let a=0;a<s;a++)o[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:o,blockLen:i}=this;e[o]^=t,(t&128)!==0&&o===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){qi(this,!1),Rn(e),this.finish();const t=this.state,{blockLen:o}=this;for(let i=0,n=e.length;i<n;){this.posOut>=o&&this.keccak();const s=Math.min(o-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ci(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i1(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mn(this.state)}_cloneInto(e){const{blockLen:t,suffix:o,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new E6(t,o,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=o,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Mq=(r,e,t)=>Mu(()=>new Rq(e,r,t)),Nq=Mq(1,136,256/8);function $q(r,e,t,o){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,o);const i=BigInt(32),n=BigInt(4294967295),s=Number(t>>i&n),a=Number(t&n),c=o?4:0,u=o?0:4;r.setUint32(e+c,s,o),r.setUint32(e+u,a,o)}function Fq(r,e,t){return r&e^~r&t}function Uq(r,e,t){return r&e^r&t^e&t}let P6=class extends kh{constructor(e,t,o,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=o,this.isLE=i,this.buffer=new Uint8Array(e),this.view=ng(this.buffer)}update(e){qi(this),e=Xn(e),Rn(e);const{view:t,buffer:o,blockLen:i}=this,n=e.length;for(let s=0;s<n;){const a=Math.min(i-this.pos,n-s);if(a===i){const c=ng(e);for(;i<=n-s;s+=i)this.process(c,s);continue}o.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qi(this),i1(e,this),this.finished=!0;const{buffer:t,view:o,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,Mn(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(o,0),s=0);for(let d=s;d<i;d++)t[d]=0;$q(o,i-8,BigInt(this.length*8),n),this.process(o,0);const a=ng(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const o=e.slice(0,t);return this.destroy(),o}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:o,length:i,finished:n,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=n,e.length=i,e.pos=a,i%t&&e.buffer.set(o),e}clone(){return this._cloneInto()}};const vi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),br=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kq=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ti=new Uint32Array(64);let Dq=class extends P6{constructor(e=32){super(64,e,8,!1),this.A=vi[0]|0,this.B=vi[1]|0,this.C=vi[2]|0,this.D=vi[3]|0,this.E=vi[4]|0,this.F=vi[5]|0,this.G=vi[6]|0,this.H=vi[7]|0}get(){const{A:e,B:t,C:o,D:i,E:n,F:s,G:a,H:c}=this;return[e,t,o,i,n,s,a,c]}set(e,t,o,i,n,s,a,c){this.A=e|0,this.B=t|0,this.C=o|0,this.D=i|0,this.E=n|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Ti[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=Ti[d-15],b=Ti[d-2],y=ho(h,7)^ho(h,18)^h>>>3,g=ho(b,17)^ho(b,19)^b>>>10;Ti[d]=g+Ti[d-7]+y+Ti[d-16]|0}let{A:o,B:i,C:n,D:s,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=ho(a,6)^ho(a,11)^ho(a,25),b=l+h+Fq(a,c,u)+kq[d]+Ti[d]|0,y=(ho(o,2)^ho(o,13)^ho(o,22))+Uq(o,i,n)|0;l=u,u=c,c=a,a=s+b|0,s=n,n=i,i=o,o=b+y|0}o=o+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(o,i,n,s,a,c,u,l)}roundClean(){Mn(Ti)}destroy(){this.set(0,0,0,0,0,0,0,0),Mn(this.buffer)}};const I6=y6(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Lq=I6[0],zq=I6[1],Ai=new Uint32Array(80),Ei=new Uint32Array(80);let a1=class extends P6{constructor(e=64){super(128,e,16,!1),this.Ah=br[0]|0,this.Al=br[1]|0,this.Bh=br[2]|0,this.Bl=br[3]|0,this.Ch=br[4]|0,this.Cl=br[5]|0,this.Dh=br[6]|0,this.Dl=br[7]|0,this.Eh=br[8]|0,this.El=br[9]|0,this.Fh=br[10]|0,this.Fl=br[11]|0,this.Gh=br[12]|0,this.Gl=br[13]|0,this.Hh=br[14]|0,this.Hl=br[15]|0}get(){const{Ah:e,Al:t,Bh:o,Bl:i,Ch:n,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:b,Gl:y,Hh:g,Hl:w}=this;return[e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w]}set(e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w){this.Ah=e|0,this.Al=t|0,this.Bh=o|0,this.Bl=i|0,this.Ch=n|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=b|0,this.Gl=y|0,this.Hh=g|0,this.Hl=w|0}process(e,t){for(let B=0;B<16;B++,t+=4)Ai[B]=e.getUint32(t),Ei[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){const M=Ai[B-15]|0,O=Ei[B-15]|0,W=Si(M,O,1)^Si(M,O,8)^PT(M,O,7),S=Wi(M,O,1)^Wi(M,O,8)^IT(M,O,7),T=Ai[B-2]|0,E=Ei[B-2]|0,C=Si(T,E,19)^kc(T,E,61)^PT(T,E,6),N=Wi(T,E,19)^Dc(T,E,61)^IT(T,E,6),U=bq(S,N,Ei[B-7],Ei[B-16]),D=wq(U,W,C,Ai[B-7],Ai[B-16]);Ai[B]=D|0,Ei[B]=U|0}let{Ah:o,Al:i,Bh:n,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:b,Fl:y,Gh:g,Gl:w,Hh:I,Hl:P}=this;for(let B=0;B<80;B++){const M=Si(d,h,14)^Si(d,h,18)^kc(d,h,41),O=Wi(d,h,14)^Wi(d,h,18)^Dc(d,h,41),W=d&b^~d&g,S=h&y^~h&w,T=mq(P,O,S,zq[B],Ei[B]),E=xq(T,I,M,W,Lq[B],Ai[B]),C=T|0,N=Si(o,i,28)^kc(o,i,34)^kc(o,i,39),U=Wi(o,i,28)^Dc(o,i,34)^Dc(o,i,39),D=o&n^o&a^n&a,L=i&s^i&c^s&c;I=g|0,P=w|0,g=b|0,w=y|0,b=d|0,y=h|0,{h:d,l:h}=Gn(u|0,l|0,E|0,C|0),u=a|0,l=c|0,a=n|0,c=s|0,n=o|0,s=i|0;const x=t1(C,U,L);o=r1(x,E,N,D),i=x|0}({h:o,l:i}=Gn(this.Ah|0,this.Al|0,o|0,i|0)),{h:n,l:s}=Gn(this.Bh|0,this.Bl|0,n|0,s|0),{h:a,l:c}=Gn(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Gn(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=Gn(this.Eh|0,this.El|0,d|0,h|0),{h:b,l:y}=Gn(this.Fh|0,this.Fl|0,b|0,y|0),{h:g,l:w}=Gn(this.Gh|0,this.Gl|0,g|0,w|0),{h:I,l:P}=Gn(this.Hh|0,this.Hl|0,I|0,P|0),this.set(o,i,n,s,a,c,u,l,d,h,b,y,g,w,I,P)}roundClean(){Mn(Ai,Ei)}destroy(){Mn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},qq=class extends a1{constructor(){super(48),this.Ah=yr[0]|0,this.Al=yr[1]|0,this.Bh=yr[2]|0,this.Bl=yr[3]|0,this.Ch=yr[4]|0,this.Cl=yr[5]|0,this.Dh=yr[6]|0,this.Dl=yr[7]|0,this.Eh=yr[8]|0,this.El=yr[9]|0,this.Fh=yr[10]|0,this.Fl=yr[11]|0,this.Gh=yr[12]|0,this.Gl=yr[13]|0,this.Hh=yr[14]|0,this.Hl=yr[15]|0}};const wr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class jq extends a1{constructor(){super(32),this.Ah=wr[0]|0,this.Al=wr[1]|0,this.Bh=wr[2]|0,this.Bl=wr[3]|0,this.Ch=wr[4]|0,this.Cl=wr[5]|0,this.Dh=wr[6]|0,this.Dl=wr[7]|0,this.Eh=wr[8]|0,this.El=wr[9]|0,this.Fh=wr[10]|0,this.Fl=wr[11]|0,this.Gh=wr[12]|0,this.Gl=wr[13]|0,this.Hh=wr[14]|0,this.Hl=wr[15]|0}}const Dh=Mu(()=>new Dq),Vq=Mu(()=>new a1),Hq=Mu(()=>new qq),Gq=Mu(()=>new jq),Kq=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Vt=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ae=new Uint32Array(32);function Pi(r,e,t,o,i,n){const s=i[n],a=i[n+1];let c=Ae[2*r],u=Ae[2*r+1],l=Ae[2*e],d=Ae[2*e+1],h=Ae[2*t],b=Ae[2*t+1],y=Ae[2*o],g=Ae[2*o+1],w=t1(c,l,s);u=r1(w,u,d,a),c=w|0,{Dh:g,Dl:y}={Dh:g^u,Dl:y^c},{Dh:g,Dl:y}={Dh:fq(g,y),Dl:dq(g)},{h:b,l:h}=Gn(b,h,g,y),{Bh:d,Bl:l}={Bh:d^b,Bl:l^h},{Bh:d,Bl:l}={Bh:Si(d,l,24),Bl:Wi(d,l,24)},Ae[2*r]=c,Ae[2*r+1]=u,Ae[2*e]=l,Ae[2*e+1]=d,Ae[2*t]=h,Ae[2*t+1]=b,Ae[2*o]=y,Ae[2*o+1]=g}function Ii(r,e,t,o,i,n){const s=i[n],a=i[n+1];let c=Ae[2*r],u=Ae[2*r+1],l=Ae[2*e],d=Ae[2*e+1],h=Ae[2*t],b=Ae[2*t+1],y=Ae[2*o],g=Ae[2*o+1],w=t1(c,l,s);u=r1(w,u,d,a),c=w|0,{Dh:g,Dl:y}={Dh:g^u,Dl:y^c},{Dh:g,Dl:y}={Dh:Si(g,y,16),Dl:Wi(g,y,16)},{h:b,l:h}=Gn(b,h,g,y),{Bh:d,Bl:l}={Bh:d^b,Bl:l^h},{Bh:d,Bl:l}={Bh:kc(d,l,63),Bl:Dc(d,l,63)},Ae[2*r]=c,Ae[2*r+1]=u,Ae[2*e]=l,Ae[2*e+1]=d,Ae[2*t]=h,Ae[2*t+1]=b,Ae[2*o]=y,Ae[2*o+1]=g}function Zq(r,e={},t,o,i){if(ci(t),r<0||r>t)throw new Error("outputLen bigger than keyLen");const{key:n,salt:s,personalization:a}=e;if(n!==void 0&&(n.length<1||n.length>t))throw new Error("key length must be undefined or 1.."+t);if(s!==void 0&&s.length!==o)throw new Error("salt must be undefined or "+o);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class Yq extends kh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ci(e),ci(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=cu(this.buffer)}update(e){qi(this),e=Xn(e),Rn(e);const{blockLen:t,buffer:o,buffer32:i}=this,n=e.length,s=e.byteOffset,a=e.buffer;for(let c=0;c<n;){this.pos===t&&(Oi(i),this.compress(i,0,!1),Oi(i),this.pos=0);const u=Math.min(t-this.pos,n-c),l=s+c;if(u===t&&!(l%4)&&c+u<n){const d=new Uint32Array(a,l,Math.floor((n-c)/4));Oi(d);for(let h=0;c+t<n;h+=i.length,c+=t)this.length+=t,this.compress(d,h,!1);Oi(d);continue}o.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){qi(this),i1(e,this);const{pos:t,buffer32:o}=this;this.finished=!0,Mn(this.buffer.subarray(t)),Oi(o),this.compress(o,0,!0),Oi(o);const i=cu(e);this.get().forEach((n,s)=>i[s]=zo(n))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const o=e.slice(0,t);return this.destroy(),o}_cloneInto(e){const{buffer:t,length:o,finished:i,destroyed:n,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=n,e.finished=i,e.length=o,e.pos=a,e.outputLen=s,e}clone(){return this._cloneInto()}}class Jq extends Yq{constructor(e={}){const t=e.dkLen===void 0?64:e.dkLen;super(128,t),this.v0l=Vt[0]|0,this.v0h=Vt[1]|0,this.v1l=Vt[2]|0,this.v1h=Vt[3]|0,this.v2l=Vt[4]|0,this.v2h=Vt[5]|0,this.v3l=Vt[6]|0,this.v3h=Vt[7]|0,this.v4l=Vt[8]|0,this.v4h=Vt[9]|0,this.v5l=Vt[10]|0,this.v5h=Vt[11]|0,this.v6l=Vt[12]|0,this.v6h=Vt[13]|0,this.v7l=Vt[14]|0,this.v7h=Vt[15]|0,Zq(t,e,64,16,16);let{key:o,personalization:i,salt:n}=e,s=0;if(o!==void 0&&(o=Xn(o),s=o.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,n!==void 0){n=Xn(n);const a=cu(n);this.v4l^=zo(a[0]),this.v4h^=zo(a[1]),this.v5l^=zo(a[2]),this.v5h^=zo(a[3])}if(i!==void 0){i=Xn(i);const a=cu(i);this.v6l^=zo(a[0]),this.v6h^=zo(a[1]),this.v7l^=zo(a[2]),this.v7h^=zo(a[3])}if(o!==void 0){const a=new Uint8Array(this.blockLen);a.set(o),this.update(a)}}get(){let{v0l:e,v0h:t,v1l:o,v1h:i,v2l:n,v2h:s,v3l:a,v3h:c,v4l:u,v4h:l,v5l:d,v5h:h,v6l:b,v6h:y,v7l:g,v7h:w}=this;return[e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w]}set(e,t,o,i,n,s,a,c,u,l,d,h,b,y,g,w){this.v0l=e|0,this.v0h=t|0,this.v1l=o|0,this.v1h=i|0,this.v2l=n|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=d|0,this.v5h=h|0,this.v6l=b|0,this.v6h=y|0,this.v7l=g|0,this.v7h=w|0}compress(e,t,o){this.get().forEach((c,u)=>Ae[u]=c),Ae.set(Vt,16);let{h:i,l:n}=g6(BigInt(this.length));Ae[24]=Vt[8]^n,Ae[25]=Vt[9]^i,o&&(Ae[28]=~Ae[28],Ae[29]=~Ae[29]);let s=0;const a=Kq;for(let c=0;c<12;c++)Pi(0,4,8,12,e,t+2*a[s++]),Ii(0,4,8,12,e,t+2*a[s++]),Pi(1,5,9,13,e,t+2*a[s++]),Ii(1,5,9,13,e,t+2*a[s++]),Pi(2,6,10,14,e,t+2*a[s++]),Ii(2,6,10,14,e,t+2*a[s++]),Pi(3,7,11,15,e,t+2*a[s++]),Ii(3,7,11,15,e,t+2*a[s++]),Pi(0,5,10,15,e,t+2*a[s++]),Ii(0,5,10,15,e,t+2*a[s++]),Pi(1,6,11,12,e,t+2*a[s++]),Ii(1,6,11,12,e,t+2*a[s++]),Pi(2,7,8,13,e,t+2*a[s++]),Ii(2,7,8,13,e,t+2*a[s++]),Pi(3,4,9,14,e,t+2*a[s++]),Ii(3,4,9,14,e,t+2*a[s++]);this.v0l^=Ae[0]^Ae[16],this.v0h^=Ae[1]^Ae[17],this.v1l^=Ae[2]^Ae[18],this.v1h^=Ae[3]^Ae[19],this.v2l^=Ae[4]^Ae[20],this.v2h^=Ae[5]^Ae[21],this.v3l^=Ae[6]^Ae[22],this.v3h^=Ae[7]^Ae[23],this.v4l^=Ae[8]^Ae[24],this.v4h^=Ae[9]^Ae[25],this.v5l^=Ae[10]^Ae[26],this.v5h^=Ae[11]^Ae[27],this.v6l^=Ae[12]^Ae[28],this.v6h^=Ae[13]^Ae[29],this.v7l^=Ae[14]^Ae[30],this.v7h^=Ae[15]^Ae[31],Mn(Ae)}destroy(){this.destroyed=!0,Mn(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Xq=Eq(r=>new Jq(r)),Qq="https://rpc.walletconnect.org/v1";function B6(r){const e=`Ethereum Signed Message:
${r.length}`,t=new TextEncoder().encode(e+r);return"0x"+qe.from(Nq(t)).toString("hex")}async function ej(r,e,t,o,i,n){switch(t.t){case"eip191":return await tj(r,e,t.s);case"eip1271":return await rj(r,e,t.s,o,i,n);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}async function tj(r,e,t){return(await YD({hash:B6(e),signature:t})).toLowerCase()===r.toLowerCase()}async function rj(r,e,t,o,i,n){const s=ka(o);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${o}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u=t.substring(2),l=(u.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:B6(e)).substring(2),h=a+d+c+l+u,b=await fetch(`${n||Qq}/?chainId=${o}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:nj(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:h},"latest"]})}),{result:y}=await b.json();return y?y.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function nj(){return Date.now()+Math.floor(Math.random()*1e3)}function oj(r){const e=atob(r),t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);const o=t[0];if(o===0)throw new Error("No signatures found");const i=1+o*64;if(t.length<i)throw new Error("Transaction data too short for claimed signature count");if(t.length<100)throw new Error("Transaction too short");const n=qe.from(r,"base64").slice(1,65);return Wu.encode(n)}function ij(r){const e=new Uint8Array(qe.from(r,"base64")),t=Array.from("TransactionData::").map(n=>n.charCodeAt(0)),o=new Uint8Array(t.length+e.length);o.set(t),o.set(e,t.length);const i=Xq(o,{dkLen:32});return Wu.encode(i)}function ST(r){const e=new Uint8Array(Dh(sj(r)));return Wu.encode(e)}function sj(r){if(r instanceof Uint8Array)return r;if(Array.isArray(r))return new Uint8Array(r);if(typeof r=="object"&&r!=null&&r.data)return new Uint8Array(Object.values(r.data));if(typeof r=="object"&&r)return new Uint8Array(Object.values(r));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function WT(r){const e=qe.from(r,"base64"),t=ML(e).txn;if(!t)throw new Error("Invalid signed transaction: missing 'txn' field");const o=PL(t),i=qe.from("TX"),n=qe.concat([i,qe.from(o)]),s=Gq(n);return zL.encode(s).replace(/=+$/,"")}function og(r){const e=[];let t=BigInt(r);for(;t>=BigInt(128);)e.push(Number(t&BigInt(127)|BigInt(128))),t>>=BigInt(7);return e.push(Number(t)),qe.from(e)}function aj(r){const e=qe.from(r.signed.bodyBytes,"base64"),t=qe.from(r.signed.authInfoBytes,"base64"),o=qe.from(r.signature.signature,"base64"),i=[];i.push(qe.from([10])),i.push(og(e.length)),i.push(e),i.push(qe.from([18])),i.push(og(t.length)),i.push(t),i.push(qe.from([26])),i.push(og(o.length)),i.push(o);const n=qe.concat(i),s=Dh(n);return qe.from(s).toString("hex").toUpperCase()}var cj=Object.defineProperty,uj=Object.defineProperties,lj=Object.getOwnPropertyDescriptors,OT=Object.getOwnPropertySymbols,fj=Object.prototype.hasOwnProperty,dj=Object.prototype.propertyIsEnumerable,RT=(r,e,t)=>e in r?cj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hj=(r,e)=>{for(var t in e||(e={}))fj.call(e,t)&&RT(r,t,e[t]);if(OT)for(var t of OT(e))dj.call(e,t)&&RT(r,t,e[t]);return r},pj=(r,e)=>uj(r,lj(e));const gj="did:pkh:",c1=r=>r?.split(":"),yj=r=>{const e=r&&c1(r);if(e)return r.includes(gj)?e[3]:e[1]},by=r=>{const e=r&&c1(r);if(e)return e[2]+":"+e[3]},Kd=r=>{const e=r&&c1(r);if(e)return e.pop()};async function MT(r){const{cacao:e,projectId:t}=r,{s:o,p:i}=e,n=C6(i,i.iss),s=Kd(i.iss);return await ej(s,n,o,by(i.iss),t)}const C6=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,o=Kd(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=r.statement||void 0;const n=`URI: ${r.aud||r.uri}`,s=`Version: ${r.version}`,a=`Chain ID: ${yj(e)}`,c=`Nonce: ${r.nonce}`,u=`Issued At: ${r.iat}`,l=r.exp?`Expiration Time: ${r.exp}`:void 0,d=r.nbf?`Not Before: ${r.nbf}`:void 0,h=r.requestId?`Request ID: ${r.requestId}`:void 0,b=r.resources?`Resources:${r.resources.map(g=>`
- ${g}`).join("")}`:void 0,y=Pd(r.resources);if(y){const g=lu(y);i=Pj(i,g)}return[t,o,"",i,"",n,s,a,c,u,l,d,h,b].filter(g=>g!=null).join(`
`)};function bj(r){return qe.from(JSON.stringify(r)).toString("base64")}function wj(r){return JSON.parse(qe.from(r,"base64").toString("utf-8"))}function Rs(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const o=r.att[t];if(Array.isArray(o))throw new Error(`Resource must be an object: ${t}`);if(typeof o!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(o).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(o).forEach(i=>{const n=o[i];if(!Array.isArray(n))throw new Error(`Ability limits ${i} must be an array of objects, found: ${n}`);if(!n.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);n.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${s}`)})})})}function mj(r,e,t,o={}){return t?.sort((i,n)=>i.localeCompare(n)),{att:{[r]:xj(e,t,o)}}}function xj(r,e,t={}){e=e?.sort((i,n)=>i.localeCompare(n));const o=e.map(i=>({[`${r}/${i}`]:[t]}));return Object.assign({},...o)}function _6(r){return Rs(r),`urn:recap:${bj(r).replace(/=/g,"")}`}function lu(r){const e=wj(r.replace("urn:recap:",""));return Rs(e),e}function vj(r,e,t){const o=mj(r,e,t);return _6(o)}function Tj(r){return r&&r.includes("urn:recap:")}function Aj(r,e){const t=lu(r),o=lu(e),i=Ej(t,o);return _6(i)}function Ej(r,e){Rs(r),Rs(e);const t=Object.keys(r.att).concat(Object.keys(e.att)).sort((i,n)=>i.localeCompare(n)),o={att:{}};return t.forEach(i=>{var n,s;Object.keys(((n=r.att)==null?void 0:n[i])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;o.att[i]=pj(hj({},o.att[i]),{[a]:((c=r.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),o}function Pj(r="",e){Rs(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(t))return r;const o=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const u={};c.forEach(d=>{u[d.ability]||(u[d.ability]=[]),u[d.ability].push(d.action)});const l=Object.keys(u).map(d=>(i++,`(${i}) '${d}': '${u[d].join("', '")}' for '${a}'.`));o.push(l.join(", ").replace(".,","."))});const n=o.join(" "),s=`${t}${n}`;return`${r?r+" ":""}${s}`}function NT(r){var e;const t=lu(r);Rs(t);const o=(e=t.att)==null?void 0:e.eip155;return o?Object.keys(o).map(i=>i.split("/")[1]):[]}function $T(r){const e=lu(r);Rs(e);const t=[];return Object.values(e.att).forEach(o=>{Object.values(o).forEach(i=>{var n;(n=i?.[0])!=null&&n.chains&&t.push(i[0].chains)})}),[...new Set(t.flat())]}function Pd(r){if(!r)return;const e=r?.[r.length-1];return Tj(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function S6(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function wy(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}function ig(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Gr(r,...e){if(!S6(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function FT(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Ij(r,e){Gr(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Ui(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Ja(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function Bj(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}const Cj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _j(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function my(r){if(typeof r=="string")r=_j(r);else if(S6(r))r=xy(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function Sj(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function Wj(r,e){if(r.length!==e.length)return!1;let t=0;for(let o=0;o<r.length;o++)t|=r[o]^e[o];return t===0}const Oj=(r,e)=>{function t(o,...i){if(Gr(o),!Cj)throw new Error("Non little-endian hardware is not yet supported");if(r.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");r.varSizeNonce?Gr(u):Gr(u,r.nonceLength)}const n=r.tagLength;n&&i[1]!==void 0&&Gr(i[1]);const s=e(o,...i),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");Gr(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Gr(u),a(s.encrypt.length,l),s.encrypt(u,l)},decrypt(u,l){if(Gr(u),n&&u.length<n)throw new Error("invalid ciphertext length: smaller than tagLength="+n);return a(s.decrypt.length,l),s.decrypt(u,l)}}}return Object.assign(t,r),t};function UT(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!Mj(e))throw new Error("invalid output, must be aligned");return e}function kT(r,e,t,o){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,o);const i=BigInt(32),n=BigInt(4294967295),s=Number(t>>i&n),a=Number(t&n);r.setUint32(e+4,s,o),r.setUint32(e+0,a,o)}function Rj(r,e,t){wy(t);const o=new Uint8Array(16),i=Bj(o);return kT(i,0,BigInt(e),t),kT(i,8,BigInt(r),t),o}function Mj(r){return r.byteOffset%4===0}function xy(r){return Uint8Array.from(r)}const W6=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),Nj=W6("expand 16-byte k"),$j=W6("expand 32-byte k"),Fj=Ui(Nj),Uj=Ui($j);function ut(r,e){return r<<e|r>>>32-e}function vy(r){return r.byteOffset%4===0}const td=64,kj=16,O6=2**32-1,DT=new Uint32Array;function Dj(r,e,t,o,i,n,s,a){const c=i.length,u=new Uint8Array(td),l=Ui(u),d=vy(i)&&vy(n),h=d?Ui(i):DT,b=d?Ui(n):DT;for(let y=0;y<c;s++){if(r(e,t,o,l,s,a),s>=O6)throw new Error("arx: counter overflow");const g=Math.min(td,c-y);if(d&&g===td){const w=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let I=0,P;I<kj;I++)P=w+I,b[P]=h[P]^l[I];y+=td;continue}for(let w=0,I;w<g;w++)I=y+w,n[I]=i[I]^u[w];y+=g}}function Lj(r,e){const{allowShortKeys:t,extendNonceFn:o,counterLength:i,counterRight:n,rounds:s}=Sj({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return ig(i),ig(s),wy(n),wy(t),(a,c,u,l,d=0)=>{Gr(a),Gr(c),Gr(u);const h=u.length;if(l===void 0&&(l=new Uint8Array(h)),Gr(l),ig(d),d<0||d>=O6)throw new Error("arx: counter overflow");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const b=[];let y=a.length,g,w;if(y===32)b.push(g=xy(a)),w=Uj;else if(y===16&&t)g=new Uint8Array(32),g.set(a),g.set(a,16),w=Fj,b.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);vy(c)||b.push(c=xy(c));const I=Ui(g);if(o){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");o(w,I,Ui(c.subarray(0,16)),I),c=c.subarray(16)}const P=16-i;if(P!==c.length)throw new Error(`arx: nonce must be ${P} or 16 bytes`);if(P!==12){const M=new Uint8Array(12);M.set(c,n?0:12-c.length),c=M,b.push(c)}const B=Ui(c);return Dj(r,w,I,B,u,l,d,s),Ja(...b),l}}const or=(r,e)=>r[e++]&255|(r[e++]&255)<<8;class zj{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=my(e),Gr(e,32);const t=or(e,0),o=or(e,2),i=or(e,4),n=or(e,6),s=or(e,8),a=or(e,10),c=or(e,12),u=or(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|o<<3)&8191,this.r[2]=(o>>>10|i<<6)&7939,this.r[3]=(i>>>7|n<<9)&8191,this.r[4]=(n>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=or(e,16+2*l)}process(e,t,o=!1){const i=o?0:2048,{h:n,r:s}=this,a=s[0],c=s[1],u=s[2],l=s[3],d=s[4],h=s[5],b=s[6],y=s[7],g=s[8],w=s[9],I=or(e,t+0),P=or(e,t+2),B=or(e,t+4),M=or(e,t+6),O=or(e,t+8),W=or(e,t+10),S=or(e,t+12),T=or(e,t+14);let E=n[0]+(I&8191),C=n[1]+((I>>>13|P<<3)&8191),N=n[2]+((P>>>10|B<<6)&8191),U=n[3]+((B>>>7|M<<9)&8191),D=n[4]+((M>>>4|O<<12)&8191),L=n[5]+(O>>>1&8191),x=n[6]+((O>>>14|W<<2)&8191),A=n[7]+((W>>>11|S<<5)&8191),R=n[8]+((S>>>8|T<<8)&8191),F=n[9]+(T>>>5|i),z=0,j=z+E*a+C*(5*w)+N*(5*g)+U*(5*y)+D*(5*b);z=j>>>13,j&=8191,j+=L*(5*h)+x*(5*d)+A*(5*l)+R*(5*u)+F*(5*c),z+=j>>>13,j&=8191;let Z=z+E*c+C*a+N*(5*w)+U*(5*g)+D*(5*y);z=Z>>>13,Z&=8191,Z+=L*(5*b)+x*(5*h)+A*(5*d)+R*(5*l)+F*(5*u),z+=Z>>>13,Z&=8191;let J=z+E*u+C*c+N*a+U*(5*w)+D*(5*g);z=J>>>13,J&=8191,J+=L*(5*y)+x*(5*b)+A*(5*h)+R*(5*d)+F*(5*l),z+=J>>>13,J&=8191;let oe=z+E*l+C*u+N*c+U*a+D*(5*w);z=oe>>>13,oe&=8191,oe+=L*(5*g)+x*(5*y)+A*(5*b)+R*(5*h)+F*(5*d),z+=oe>>>13,oe&=8191;let ee=z+E*d+C*l+N*u+U*c+D*a;z=ee>>>13,ee&=8191,ee+=L*(5*w)+x*(5*g)+A*(5*y)+R*(5*b)+F*(5*h),z+=ee>>>13,ee&=8191;let te=z+E*h+C*d+N*l+U*u+D*c;z=te>>>13,te&=8191,te+=L*a+x*(5*w)+A*(5*g)+R*(5*y)+F*(5*b),z+=te>>>13,te&=8191;let ae=z+E*b+C*h+N*d+U*l+D*u;z=ae>>>13,ae&=8191,ae+=L*c+x*a+A*(5*w)+R*(5*g)+F*(5*y),z+=ae>>>13,ae&=8191;let ue=z+E*y+C*b+N*h+U*d+D*l;z=ue>>>13,ue&=8191,ue+=L*u+x*c+A*a+R*(5*w)+F*(5*g),z+=ue>>>13,ue&=8191;let we=z+E*g+C*y+N*b+U*h+D*d;z=we>>>13,we&=8191,we+=L*l+x*u+A*c+R*a+F*(5*w),z+=we>>>13,we&=8191;let Ee=z+E*w+C*g+N*y+U*b+D*h;z=Ee>>>13,Ee&=8191,Ee+=L*d+x*l+A*u+R*c+F*a,z+=Ee>>>13,Ee&=8191,z=(z<<2)+z|0,z=z+j|0,j=z&8191,z=z>>>13,Z+=z,n[0]=j,n[1]=Z,n[2]=J,n[3]=oe,n[4]=ee,n[5]=te,n[6]=ae,n[7]=ue,n[8]=we,n[9]=Ee}finalize(){const{h:e,pad:t}=this,o=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,o[0]=e[0]+5,i=o[0]>>>13,o[0]&=8191;for(let a=1;a<10;a++)o[a]=e[a]+i,i=o[a]>>>13,o[a]&=8191;o[9]-=8192;let n=(i^1)-1;for(let a=0;a<10;a++)o[a]&=n;n=~n;for(let a=0;a<10;a++)e[a]=e[a]&n|o[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+t[0];e[0]=s&65535;for(let a=1;a<8;a++)s=(e[a]+t[a]|0)+(s>>>16)|0,e[a]=s&65535;Ja(o)}update(e){FT(this),e=my(e),Gr(e);const{buffer:t,blockLen:o}=this,i=e.length;for(let n=0;n<i;){const s=Math.min(o-this.pos,i-n);if(s===o){for(;o<=i-n;n+=o)this.process(e,n);continue}t.set(e.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===o&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){Ja(this.h,this.r,this.buffer,this.pad)}digestInto(e){FT(this),Ij(e,this),this.finished=!0;const{buffer:t,h:o}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let s=0;s<8;s++)e[n++]=o[s]>>>0,e[n++]=o[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const o=e.slice(0,t);return this.destroy(),o}}function qj(r){const e=(o,i)=>r(i).update(my(o)).digest(),t=r(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=o=>r(o),e}const jj=qj(r=>new zj(r));function Vj(r,e,t,o,i,n=20){let s=r[0],a=r[1],c=r[2],u=r[3],l=e[0],d=e[1],h=e[2],b=e[3],y=e[4],g=e[5],w=e[6],I=e[7],P=i,B=t[0],M=t[1],O=t[2],W=s,S=a,T=c,E=u,C=l,N=d,U=h,D=b,L=y,x=g,A=w,R=I,F=P,z=B,j=M,Z=O;for(let oe=0;oe<n;oe+=2)W=W+C|0,F=ut(F^W,16),L=L+F|0,C=ut(C^L,12),W=W+C|0,F=ut(F^W,8),L=L+F|0,C=ut(C^L,7),S=S+N|0,z=ut(z^S,16),x=x+z|0,N=ut(N^x,12),S=S+N|0,z=ut(z^S,8),x=x+z|0,N=ut(N^x,7),T=T+U|0,j=ut(j^T,16),A=A+j|0,U=ut(U^A,12),T=T+U|0,j=ut(j^T,8),A=A+j|0,U=ut(U^A,7),E=E+D|0,Z=ut(Z^E,16),R=R+Z|0,D=ut(D^R,12),E=E+D|0,Z=ut(Z^E,8),R=R+Z|0,D=ut(D^R,7),W=W+N|0,Z=ut(Z^W,16),A=A+Z|0,N=ut(N^A,12),W=W+N|0,Z=ut(Z^W,8),A=A+Z|0,N=ut(N^A,7),S=S+U|0,F=ut(F^S,16),R=R+F|0,U=ut(U^R,12),S=S+U|0,F=ut(F^S,8),R=R+F|0,U=ut(U^R,7),T=T+D|0,z=ut(z^T,16),L=L+z|0,D=ut(D^L,12),T=T+D|0,z=ut(z^T,8),L=L+z|0,D=ut(D^L,7),E=E+C|0,j=ut(j^E,16),x=x+j|0,C=ut(C^x,12),E=E+C|0,j=ut(j^E,8),x=x+j|0,C=ut(C^x,7);let J=0;o[J++]=s+W|0,o[J++]=a+S|0,o[J++]=c+T|0,o[J++]=u+E|0,o[J++]=l+C|0,o[J++]=d+N|0,o[J++]=h+U|0,o[J++]=b+D|0,o[J++]=y+L|0,o[J++]=g+x|0,o[J++]=w+A|0,o[J++]=I+R|0,o[J++]=P+F|0,o[J++]=B+z|0,o[J++]=M+j|0,o[J++]=O+Z|0}const Hj=Lj(Vj,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Gj=new Uint8Array(16),LT=(r,e)=>{r.update(e);const t=e.length%16;t&&r.update(Gj.subarray(t))},Kj=new Uint8Array(32);function zT(r,e,t,o,i){const n=r(e,t,Kj),s=jj.create(n);i&&LT(s,i),LT(s,o);const a=Rj(o.length,i?i.length:0,!0);s.update(a);const c=s.digest();return Ja(n,a),c}const Zj=r=>(e,t,o)=>({encrypt(i,n){const s=i.length;n=UT(s+16,n,!1),n.set(i);const a=n.subarray(0,-16);r(e,t,a,a,1);const c=zT(r,e,t,a,o);return n.set(c,s),Ja(c),n},decrypt(i,n){n=UT(i.length-16,n,!1);const s=i.subarray(0,-16),a=i.subarray(-16),c=zT(r,e,t,s,o);if(!Wj(a,c))throw new Error("invalid tag");return n.set(i.subarray(0,-16)),r(e,t,n,n,1),Ja(c),n}}),R6=Oj({blockSize:64,nonceLength:12,tagLength:16},Zj(Hj));let M6=class extends kh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,o1(e);const o=Xn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(o.length>i?e.create().update(o).digest():o);for(let s=0;s<n.length;s++)n[s]^=54;this.iHash.update(n),this.oHash=e.create();for(let s=0;s<n.length;s++)n[s]^=106;this.oHash.update(n),Mn(n)}update(e){return qi(this),this.iHash.update(e),this}digestInto(e){qi(this),Rn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:o,finished:i,destroyed:n,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=o._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Lh=(r,e,t)=>new M6(r,e).update(t).digest();Lh.create=(r,e)=>new M6(r,e);function Yj(r,e,t){return o1(r),t===void 0&&(t=new Uint8Array(r.outputLen)),Lh(r,Xn(t),Xn(e))}const sg=Uint8Array.from([0]),qT=Uint8Array.of();function Jj(r,e,t,o=32){o1(r),ci(o);const i=r.outputLen;if(o>255*i)throw new Error("Length should be <= 255*HashLen");const n=Math.ceil(o/i);t===void 0&&(t=qT);const s=new Uint8Array(n*i),a=Lh.create(r,e),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let l=0;l<n;l++)sg[0]=l+1,c.update(l===0?qT:u).update(t).update(sg).digestInto(u),s.set(u,i*l),a._cloneInto(c);return a.destroy(),c.destroy(),Mn(u,sg),s.slice(0,o)}const Xj=(r,e,t,o,i)=>Jj(r,Yj(r,e,t),o,i),zh=Dh,u1=BigInt(0),Ty=BigInt(1);function Zd(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}function rd(r){const e=r.toString(16);return e.length&1?"0"+e:e}function N6(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?u1:BigInt("0x"+r)}function qh(r){return N6(uu(r))}function Yd(r){return Rn(r),N6(uu(Uint8Array.from(r).reverse()))}function l1(r,e){return s1(r.toString(16).padStart(e*2,"0"))}function f1(r,e){return l1(r,e).reverse()}function jr(r,e,t){let o;if(typeof e=="string")try{o=s1(e)}catch(n){throw new Error(r+" must be hex string or Uint8Array, cause: "+n)}else if(n1(e))o=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=o.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return o}const ag=r=>typeof r=="bigint"&&u1<=r;function Qj(r,e,t){return ag(r)&&ag(e)&&ag(t)&&e<=r&&r<t}function Ay(r,e,t,o){if(!Qj(e,t,o))throw new Error("expected valid "+r+": "+t+" <= n < "+o+", got "+e)}function eV(r){let e;for(e=0;r>u1;r>>=Ty,e+=1);return e}const jh=r=>(Ty<<BigInt(r))-Ty;function tV(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const o=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let n=o(r),s=o(r),a=0;const c=()=>{n.fill(1),s.fill(0),a=0},u=(...h)=>t(s,n,...h),l=(h=o(0))=>{s=u(i(0),h),n=u(),h.length!==0&&(s=u(i(1),h),n=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const b=[];for(;h<e;){n=u();const y=n.slice();b.push(y),h+=n.length}return ws(...b)};return(h,b)=>{c(),l(h);let y;for(;!(y=b(d()));)l();return c(),y}}function Vh(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function o(i,n,s){const a=r[i];if(s&&a===void 0)return;const c=typeof a;if(c!==n||a===null)throw new Error(`param "${i}" is invalid: expected ${n}, got ${c}`)}Object.entries(e).forEach(([i,n])=>o(i,n,!1)),Object.entries(t).forEach(([i,n])=>o(i,n,!0))}function jT(r){const e=new WeakMap;return(t,...o)=>{const i=e.get(t);if(i!==void 0)return i;const n=r(t,...o);return e.set(t,n),n}}const Zr=BigInt(0),Or=BigInt(1),ms=BigInt(2),rV=BigInt(3),$6=BigInt(4),F6=BigInt(5),U6=BigInt(8);function Sn(r,e){const t=r%e;return t>=Zr?t:e+t}function Hn(r,e,t){let o=r;for(;e-- >Zr;)o*=o,o%=t;return o}function VT(r,e){if(r===Zr)throw new Error("invert: expected non-zero number");if(e<=Zr)throw new Error("invert: expected positive modulus, got "+e);let t=Sn(r,e),o=e,i=Zr,n=Or;for(;t!==Zr;){const s=o/t,a=o%t,c=i-n*s;o=t,t=a,i=n,n=c}if(o!==Or)throw new Error("invert: does not exist");return Sn(i,e)}function k6(r,e){const t=(r.ORDER+Or)/$6,o=r.pow(e,t);if(!r.eql(r.sqr(o),e))throw new Error("Cannot find square root");return o}function nV(r,e){const t=(r.ORDER-F6)/U6,o=r.mul(e,ms),i=r.pow(o,t),n=r.mul(e,i),s=r.mul(r.mul(n,ms),i),a=r.mul(n,r.sub(s,r.ONE));if(!r.eql(r.sqr(a),e))throw new Error("Cannot find square root");return a}function oV(r){if(r<BigInt(3))throw new Error("sqrt is not defined for small field");let e=r-Or,t=0;for(;e%ms===Zr;)e/=ms,t++;let o=ms;const i=dc(r);for(;HT(i,o)===1;)if(o++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return k6;let n=i.pow(o,e);const s=(e+Or)/ms;return function(a,c){if(a.is0(c))return c;if(HT(a,c)!==1)throw new Error("Cannot find square root");let u=t,l=a.mul(a.ONE,n),d=a.pow(c,e),h=a.pow(c,s);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let b=1,y=a.sqr(d);for(;!a.eql(y,a.ONE);)if(b++,y=a.sqr(y),b===u)throw new Error("Cannot find square root");const g=Or<<BigInt(u-b-1),w=a.pow(l,g);u=b,l=a.sqr(w),d=a.mul(d,l),h=a.mul(h,w)}return h}}function iV(r){return r%$6===rV?k6:r%U6===F6?nV:oV(r)}const sV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aV(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=sV.reduce((o,i)=>(o[i]="function",o),e);return Vh(r,t),r}function cV(r,e,t){if(t<Zr)throw new Error("invalid exponent, negatives unsupported");if(t===Zr)return r.ONE;if(t===Or)return e;let o=r.ONE,i=e;for(;t>Zr;)t&Or&&(o=r.mul(o,i)),i=r.sqr(i),t>>=Or;return o}function D6(r,e,t=!1){const o=new Array(e.length).fill(t?r.ZERO:void 0),i=e.reduce((s,a,c)=>r.is0(a)?s:(o[c]=s,r.mul(s,a)),r.ONE),n=r.inv(i);return e.reduceRight((s,a,c)=>r.is0(a)?s:(o[c]=r.mul(s,o[c]),r.mul(s,a)),n),o}function HT(r,e){const t=(r.ORDER-Or)/ms,o=r.pow(e,t),i=r.eql(o,r.ONE),n=r.eql(o,r.ZERO),s=r.eql(o,r.neg(r.ONE));if(!i&&!n&&!s)throw new Error("invalid Legendre symbol result");return i?1:n?0:-1}function uV(r,e){e!==void 0&&ci(e);const t=e!==void 0?e:r.toString(2).length,o=Math.ceil(t/8);return{nBitLength:t,nByteLength:o}}function dc(r,e,t=!1,o={}){if(r<=Zr)throw new Error("invalid field: expected ORDER > 0, got "+r);let i,n;if(typeof e=="object"&&e!=null){if(o.sqrt||t)throw new Error("cannot specify opts in two arguments");const l=e;l.BITS&&(i=l.BITS),l.sqrt&&(n=l.sqrt),typeof l.isLE=="boolean"&&(t=l.isLE)}else typeof e=="number"&&(i=e),o.sqrt&&(n=o.sqrt);const{nBitLength:s,nByteLength:a}=uV(r,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:r,isLE:t,BITS:s,BYTES:a,MASK:jh(s),ZERO:Zr,ONE:Or,create:l=>Sn(l,r),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Zr<=l&&l<r},is0:l=>l===Zr,isValidNot0:l=>!u.is0(l)&&u.isValid(l),isOdd:l=>(l&Or)===Or,neg:l=>Sn(-l,r),eql:(l,d)=>l===d,sqr:l=>Sn(l*l,r),add:(l,d)=>Sn(l+d,r),sub:(l,d)=>Sn(l-d,r),mul:(l,d)=>Sn(l*d,r),pow:(l,d)=>cV(u,l,d),div:(l,d)=>Sn(l*VT(d,r),r),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>VT(l,r),sqrt:n||(l=>(c||(c=iV(r)),c(u,l))),toBytes:l=>t?f1(l,a):l1(l,a),fromBytes:l=>{if(l.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+l.length);return t?Yd(l):qh(l)},invertBatch:l=>D6(u,l),cmov:(l,d,h)=>h?d:l});return Object.freeze(u)}function L6(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function z6(r){const e=L6(r);return e+Math.ceil(e/2)}function lV(r,e,t=!1){const o=r.length,i=L6(e),n=z6(e);if(o<16||o<n||o>1024)throw new Error("expected "+n+"-1024 bytes of input, got "+o);const s=t?Yd(r):qh(r),a=Sn(s,e-Or)+Or;return t?f1(a,i):l1(a,i)}const Xa=BigInt(0),xs=BigInt(1);function Hc(r,e){const t=e.negate();return r?t:e}function fV(r,e,t){const o=n=>n.pz,i=D6(r.Fp,t.map(o));return t.map((n,s)=>n.toAffine(i[s])).map(r.fromAffine)}function q6(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function cg(r,e){q6(r,e);const t=Math.ceil(e/r)+1,o=2**(r-1),i=2**r,n=jh(r),s=BigInt(r);return{windows:t,windowSize:o,mask:n,maxNumber:i,shiftBy:s}}function GT(r,e,t){const{windowSize:o,mask:i,maxNumber:n,shiftBy:s}=t;let a=Number(r&i),c=r>>s;a>o&&(a-=n,c+=xs);const u=e*o,l=u+Math.abs(a)-1,d=a===0,h=a<0,b=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:h,isNegF:b,offsetF:u}}function dV(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,o)=>{if(!(t instanceof e))throw new Error("invalid point at index "+o)})}function hV(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,o)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+o)})}const ug=new WeakMap,j6=new WeakMap;function lg(r){return j6.get(r)||1}function KT(r){if(r!==Xa)throw new Error("invalid wNAF")}function pV(r,e){return{constTimeNegate:Hc,hasPrecomputes(t){return lg(t)!==1},unsafeLadder(t,o,i=r.ZERO){let n=t;for(;o>Xa;)o&xs&&(i=i.add(n)),n=n.double(),o>>=xs;return i},precomputeWindow(t,o){const{windows:i,windowSize:n}=cg(o,e),s=[];let a=t,c=a;for(let u=0;u<i;u++){c=a,s.push(c);for(let l=1;l<n;l++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(t,o,i){let n=r.ZERO,s=r.BASE;const a=cg(t,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:h,isNegF:b,offsetF:y}=GT(i,c,a);i=u,d?s=s.add(Hc(b,o[y])):n=n.add(Hc(h,o[l]))}return KT(i),{p:n,f:s}},wNAFUnsafe(t,o,i,n=r.ZERO){const s=cg(t,e);for(let a=0;a<s.windows&&i!==Xa;a++){const{nextN:c,offset:u,isZero:l,isNeg:d}=GT(i,a,s);if(i=c,!l){const h=o[u];n=n.add(d?h.negate():h)}}return KT(i),n},getPrecomputes(t,o,i){let n=ug.get(o);return n||(n=this.precomputeWindow(o,t),t!==1&&(typeof i=="function"&&(n=i(n)),ug.set(o,n))),n},wNAFCached(t,o,i){const n=lg(t);return this.wNAF(n,this.getPrecomputes(n,t,i),o)},wNAFCachedUnsafe(t,o,i,n){const s=lg(t);return s===1?this.unsafeLadder(t,o,n):this.wNAFUnsafe(s,this.getPrecomputes(s,t,i),o,n)},setWindowSize(t,o){q6(o,e),j6.set(t,o),ug.delete(t)}}}function gV(r,e,t,o){let i=e,n=r.ZERO,s=r.ZERO;for(;t>Xa||o>Xa;)t&xs&&(n=n.add(i)),o&xs&&(s=s.add(i)),i=i.double(),t>>=xs,o>>=xs;return{p1:n,p2:s}}function yV(r,e,t,o){dV(t,r),hV(o,e);const i=t.length,n=o.length;if(i!==n)throw new Error("arrays of points and scalars must have equal length");const s=r.ZERO,a=eV(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=jh(c),l=new Array(Number(u)+1).fill(s),d=Math.floor((e.BITS-1)/c)*c;let h=s;for(let b=d;b>=0;b-=c){l.fill(s);for(let g=0;g<n;g++){const w=o[g],I=Number(w>>BigInt(b)&u);l[I]=l[I].add(t[g])}let y=s;for(let g=l.length-1,w=s;g>0;g--)w=w.add(l[g]),y=y.add(w);if(h=h.add(y),b!==0)for(let g=0;g<c;g++)h=h.double()}return h}function ZT(r,e){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return aV(e),e}else return dc(r)}function bV(r,e,t={}){if(!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const s of["p","n","h"]){const a=e[s];if(!(typeof a=="bigint"&&a>Xa))throw new Error(`CURVE.${s} must be positive bigint`)}const o=ZT(e.p,t.Fp),i=ZT(e.n,t.Fn),n=["Gx","Gy","a","b"];for(const s of n)if(!o.isValid(e[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:o,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Wc=BigInt(0),pa=BigInt(1),nd=BigInt(2);function wV(r){return Vh(r,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...r})}function mV(r){const e=wV(r),{P:t,type:o,adjustScalarBytes:i,powPminus2:n,randomBytes:s}=e,a=o==="x25519";if(!a&&o!=="x448")throw new Error("invalid type");const c=s||fc,u=a?255:448,l=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),b=a?nd**BigInt(254):nd**BigInt(447),y=a?BigInt(8)*nd**BigInt(251)-pa:BigInt(4)*nd**BigInt(445)-pa,g=b+y+pa,w=E=>Sn(E,t),I=P(d);function P(E){return f1(w(E),l)}function B(E){const C=jr("u coordinate",E,l);return a&&(C[31]&=127),w(Yd(C))}function M(E){return Yd(i(jr("scalar",E,l)))}function O(E,C){const N=T(B(C),M(E));if(N===Wc)throw new Error("invalid private or public key received");return P(N)}function W(E){return O(E,I)}function S(E,C,N){const U=w(E*(C-N));return C=w(C-U),N=w(N+U),{x_2:C,x_3:N}}function T(E,C){Ay("u",E,Wc,t),Ay("scalar",C,b,g);const N=C,U=E;let D=pa,L=Wc,x=E,A=pa,R=Wc;for(let z=BigInt(u-1);z>=Wc;z--){const j=N>>z&pa;R^=j,{x_2:D,x_3:x}=S(R,D,x),{x_2:L,x_3:A}=S(R,L,A),R=j;const Z=D+L,J=w(Z*Z),oe=D-L,ee=w(oe*oe),te=J-ee,ae=x+A,ue=x-A,we=w(ue*Z),Ee=w(ae*oe),Ne=we+Ee,Ue=we-Ee;x=w(Ne*Ne),A=w(U*w(Ue*Ue)),D=w(J*ee),L=w(te*(J+w(h*te)))}({x_2:D,x_3:x}=S(R,D,x)),{x_2:L,x_3:A}=S(R,L,A);const F=n(L);return w(D*F)}return{scalarMult:O,scalarMultBase:W,getSharedSecret:(E,C)=>O(E,C),getPublicKey:E=>W(E),utils:{randomPrivateKey:()=>c(l)},GuBytes:I.slice()}}BigInt(0);const xV=BigInt(1),YT=BigInt(2),vV=BigInt(3),TV=BigInt(5);BigInt(8);const V6={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function AV(r){const e=BigInt(10),t=BigInt(20),o=BigInt(40),i=BigInt(80),n=V6.p,s=r*r%n*r%n,a=Hn(s,YT,n)*s%n,c=Hn(a,xV,n)*r%n,u=Hn(c,TV,n)*c%n,l=Hn(u,e,n)*u%n,d=Hn(l,t,n)*l%n,h=Hn(d,o,n)*d%n,b=Hn(h,i,n)*h%n,y=Hn(b,i,n)*h%n,g=Hn(y,e,n)*u%n;return{pow_p_5_8:Hn(g,YT,n)*r%n,b2:s}}function EV(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Ey=(()=>{const r=V6.p;return mV({P:r,type:"x25519",powPminus2:e=>{const{pow_p_5_8:t,b2:o}=AV(e);return Sn(Hn(t,vV,r)*o,r)},adjustScalarBytes:EV})})();function JT(r){r.lowS!==void 0&&Zd("lowS",r.lowS),r.prehash!==void 0&&Zd("prehash",r.prehash)}class PV extends Error{constructor(e=""){super(e)}}const Ko={Err:PV,_tlv:{encode:(r,e)=>{const{Err:t}=Ko;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const o=e.length/2,i=rd(o);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const n=o>127?rd(i.length/2|128):"";return rd(r)+n+i+e},decode(r,e){const{Err:t}=Ko;let o=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[o++]!==r)throw new t("tlv.decode: wrong tlv");const i=e[o++],n=!!(i&128);let s=0;if(!n)s=i;else{const c=i&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const u=e.subarray(o,o+c);if(u.length!==c)throw new t("tlv.decode: length bytes not complete");if(u[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const l of u)s=s<<8|l;if(o+=c,s<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(o,o+s);if(a.length!==s)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(o+s)}}},_int:{encode(r){const{Err:e}=Ko;if(r<Gc)throw new e("integer: negative integers are not allowed");let t=rd(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Ko;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return qh(r)}},toSig(r){const{Err:e,_int:t,_tlv:o}=Ko,i=jr("signature",r),{v:n,l:s}=o.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=o.decode(2,n),{v:u,l}=o.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(u)}},hexFromSig(r){const{_tlv:e,_int:t}=Ko,o=e.encode(2,t.encode(r.r)),i=e.encode(2,t.encode(r.s)),n=o+i;return e.encode(48,n)}},Gc=BigInt(0),Kc=BigInt(1),IV=BigInt(2),od=BigInt(3),BV=BigInt(4);function CV(r,e,t){function o(i){const n=r.sqr(i),s=r.mul(n,i);return r.add(r.add(s,r.mul(i,e)),t)}return o}function H6(r,e,t){const{BYTES:o}=r;function i(n){let s;if(typeof n=="bigint")s=n;else{let a=jr("private key",n);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(o);c.set(a,c.length-a.length),a=c}try{s=r.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${o}, got ${typeof n}`)}}if(t&&(s=r.create(s)),!r.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function _V(r,e={}){const{Fp:t,Fn:o}=bV("weierstrass",r,e),{h:i,n}=r;Vh(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!t.is0(r.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!t.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(T,E,C){const{x:N,y:U}=E.toAffine(),D=t.toBytes(N);if(Zd("isCompressed",C),C){a();const L=!t.isOdd(U);return ws(G6(L),D)}else return ws(Uint8Array.of(4),D,t.toBytes(U))}function u(T){Rn(T);const E=t.BYTES,C=E+1,N=2*E+1,U=T.length,D=T[0],L=T.subarray(1);if(U===C&&(D===2||D===3)){const x=t.fromBytes(L);if(!t.isValid(x))throw new Error("bad point: is not on curve, wrong x");const A=h(x);let R;try{R=t.sqrt(A)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}a();const F=t.isOdd(R);return(D&1)===1!==F&&(R=t.neg(R)),{x,y:R}}else if(U===N&&D===4){const x=t.fromBytes(L.subarray(E*0,E*1)),A=t.fromBytes(L.subarray(E*1,E*2));if(!b(x,A))throw new Error("bad point: is not on curve");return{x,y:A}}else throw new Error(`bad point: got length ${U}, expected compressed=${C} or uncompressed=${N}`)}const l=e.toBytes||c,d=e.fromBytes||u,h=CV(t,r.a,r.b);function b(T,E){const C=t.sqr(E),N=h(T);return t.eql(C,N)}if(!b(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const y=t.mul(t.pow(r.a,od),BV),g=t.mul(t.sqr(r.b),BigInt(27));if(t.is0(t.add(y,g)))throw new Error("bad curve params: a or b");function w(T,E,C=!1){if(!t.isValid(E)||C&&t.is0(E))throw new Error(`bad point coordinate ${T}`);return E}function I(T){if(!(T instanceof O))throw new Error("ProjectivePoint expected")}const P=jT((T,E)=>{const{px:C,py:N,pz:U}=T;if(t.eql(U,t.ONE))return{x:C,y:N};const D=T.is0();E==null&&(E=D?t.ONE:t.inv(U));const L=t.mul(C,E),x=t.mul(N,E),A=t.mul(U,E);if(D)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:L,y:x}}),B=jT(T=>{if(T.is0()){if(e.allowInfinityPoint&&!t.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:E,y:C}=T.toAffine();if(!t.isValid(E)||!t.isValid(C))throw new Error("bad point: x or y not field elements");if(!b(E,C))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M(T,E,C,N,U){return C=new O(t.mul(C.px,T),C.py,C.pz),E=Hc(N,E),C=Hc(U,C),E.add(C)}class O{constructor(E,C,N){this.px=w("x",E),this.py=w("y",C,!0),this.pz=w("z",N),Object.freeze(this)}static fromAffine(E){const{x:C,y:N}=E||{};if(!E||!t.isValid(C)||!t.isValid(N))throw new Error("invalid affine point");if(E instanceof O)throw new Error("projective point not allowed");return t.is0(C)&&t.is0(N)?O.ZERO:new O(C,N,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){return fV(O,"pz",E)}static fromBytes(E){return Rn(E),O.fromHex(E)}static fromHex(E){const C=O.fromAffine(d(jr("pointHex",E)));return C.assertValidity(),C}static fromPrivateKey(E){const C=H6(o,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return O.BASE.multiply(C(E))}static msm(E,C){return yV(O,o,E,C)}precompute(E=8,C=!0){return S.setWindowSize(this,E),C||this.multiply(od),this}_setWindowSize(E){this.precompute(E)}assertValidity(){B(this)}hasEvenY(){const{y:E}=this.toAffine();if(!t.isOdd)throw new Error("Field doesn't support isOdd");return!t.isOdd(E)}equals(E){I(E);const{px:C,py:N,pz:U}=this,{px:D,py:L,pz:x}=E,A=t.eql(t.mul(C,x),t.mul(D,U)),R=t.eql(t.mul(N,x),t.mul(L,U));return A&&R}negate(){return new O(this.px,t.neg(this.py),this.pz)}double(){const{a:E,b:C}=r,N=t.mul(C,od),{px:U,py:D,pz:L}=this;let x=t.ZERO,A=t.ZERO,R=t.ZERO,F=t.mul(U,U),z=t.mul(D,D),j=t.mul(L,L),Z=t.mul(U,D);return Z=t.add(Z,Z),R=t.mul(U,L),R=t.add(R,R),x=t.mul(E,R),A=t.mul(N,j),A=t.add(x,A),x=t.sub(z,A),A=t.add(z,A),A=t.mul(x,A),x=t.mul(Z,x),R=t.mul(N,R),j=t.mul(E,j),Z=t.sub(F,j),Z=t.mul(E,Z),Z=t.add(Z,R),R=t.add(F,F),F=t.add(R,F),F=t.add(F,j),F=t.mul(F,Z),A=t.add(A,F),j=t.mul(D,L),j=t.add(j,j),F=t.mul(j,Z),x=t.sub(x,F),R=t.mul(j,z),R=t.add(R,R),R=t.add(R,R),new O(x,A,R)}add(E){I(E);const{px:C,py:N,pz:U}=this,{px:D,py:L,pz:x}=E;let A=t.ZERO,R=t.ZERO,F=t.ZERO;const z=r.a,j=t.mul(r.b,od);let Z=t.mul(C,D),J=t.mul(N,L),oe=t.mul(U,x),ee=t.add(C,N),te=t.add(D,L);ee=t.mul(ee,te),te=t.add(Z,J),ee=t.sub(ee,te),te=t.add(C,U);let ae=t.add(D,x);return te=t.mul(te,ae),ae=t.add(Z,oe),te=t.sub(te,ae),ae=t.add(N,U),A=t.add(L,x),ae=t.mul(ae,A),A=t.add(J,oe),ae=t.sub(ae,A),F=t.mul(z,te),A=t.mul(j,oe),F=t.add(A,F),A=t.sub(J,F),F=t.add(J,F),R=t.mul(A,F),J=t.add(Z,Z),J=t.add(J,Z),oe=t.mul(z,oe),te=t.mul(j,te),J=t.add(J,oe),oe=t.sub(Z,oe),oe=t.mul(z,oe),te=t.add(te,oe),Z=t.mul(J,te),R=t.add(R,Z),Z=t.mul(ae,te),A=t.mul(ee,A),A=t.sub(A,Z),Z=t.mul(ee,J),F=t.mul(ae,F),F=t.add(F,Z),new O(A,R,F)}subtract(E){return this.add(E.negate())}is0(){return this.equals(O.ZERO)}multiply(E){const{endo:C}=e;if(!o.isValidNot0(E))throw new Error("invalid scalar: out of range");let N,U;const D=L=>S.wNAFCached(this,L,O.normalizeZ);if(C){const{k1neg:L,k1:x,k2neg:A,k2:R}=C.splitScalar(E),{p:F,f:z}=D(x),{p:j,f:Z}=D(R);U=z.add(Z),N=M(C.beta,F,j,L,A)}else{const{p:L,f:x}=D(E);N=L,U=x}return O.normalizeZ([N,U])[0]}multiplyUnsafe(E){const{endo:C}=e,N=this;if(!o.isValid(E))throw new Error("invalid scalar: out of range");if(E===Gc||N.is0())return O.ZERO;if(E===Kc)return N;if(S.hasPrecomputes(this))return this.multiply(E);if(C){const{k1neg:U,k1:D,k2neg:L,k2:x}=C.splitScalar(E),{p1:A,p2:R}=gV(O,N,D,x);return M(C.beta,A,R,U,L)}else return S.wNAFCachedUnsafe(N,E)}multiplyAndAddUnsafe(E,C,N){const U=this.multiplyUnsafe(C).add(E.multiplyUnsafe(N));return U.is0()?void 0:U}toAffine(E){return P(this,E)}isTorsionFree(){const{isTorsionFree:E}=e;return i===Kc?!0:E?E(O,this):S.wNAFCachedUnsafe(this,n).is0()}clearCofactor(){const{clearCofactor:E}=e;return i===Kc?this:E?E(O,this):this.multiplyUnsafe(i)}toBytes(E=!0){return Zd("isCompressed",E),this.assertValidity(),l(O,this,E)}toRawBytes(E=!0){return this.toBytes(E)}toHex(E=!0){return uu(this.toBytes(E))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(r.Gx,r.Gy,t.ONE),O.ZERO=new O(t.ZERO,t.ONE,t.ZERO),O.Fp=t,O.Fn=o;const W=o.BITS,S=pV(O,e.endo?Math.ceil(W/2):W);return O}function G6(r){return Uint8Array.of(r?2:3)}function SV(r,e,t={}){Vh(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const o=e.randomBytes||fc,i=e.hmac||((N,...U)=>Lh(e.hash,N,ws(...U))),{Fp:n,Fn:s}=r,{ORDER:a,BITS:c}=s;function u(N){const U=a>>Kc;return N>U}function l(N){return u(N)?s.neg(N):N}function d(N,U){if(!s.isValidNot0(U))throw new Error(`invalid signature ${N}: out of range 1..CURVE.n`)}class h{constructor(U,D,L){d("r",U),d("s",D),this.r=U,this.s=D,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(U){const D=s.BYTES,L=jr("compactSignature",U,D*2);return new h(s.fromBytes(L.subarray(0,D)),s.fromBytes(L.subarray(D,D*2)))}static fromDER(U){const{r:D,s:L}=Ko.toSig(jr("DER",U));return new h(D,L)}assertValidity(){}addRecoveryBit(U){return new h(this.r,this.s,U)}recoverPublicKey(U){const D=n.ORDER,{r:L,s:x,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(a*IV<D&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const R=A===2||A===3?L+a:L;if(!n.isValid(R))throw new Error("recovery id 2 or 3 invalid");const F=n.toBytes(R),z=r.fromHex(ws(G6((A&1)===0),F)),j=s.inv(R),Z=B(jr("msgHash",U)),J=s.create(-Z*j),oe=s.create(x*j),ee=r.BASE.multiplyUnsafe(J).add(z.multiplyUnsafe(oe));if(ee.is0())throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(U){if(U==="compact")return ws(s.toBytes(this.r),s.toBytes(this.s));if(U==="der")return s1(Ko.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return uu(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return uu(this.toBytes("compact"))}}const b=H6(s,t.allowedPrivateKeyLengths,t.wrapPrivateKey),y={isValidPrivateKey(N){try{return b(N),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const N=a;return lV(o(z6(N)),N)},precompute(N=8,U=r.BASE){return U.precompute(N,!1)}};function g(N,U=!0){return r.fromPrivateKey(N).toBytes(U)}function w(N){if(typeof N=="bigint")return!1;if(N instanceof r)return!0;const U=jr("key",N).length,D=n.BYTES,L=D+1,x=2*D+1;if(!(t.allowedPrivateKeyLengths||s.BYTES===L))return U===L||U===x}function I(N,U,D=!0){if(w(N)===!0)throw new Error("first arg must be private key");if(w(U)===!1)throw new Error("second arg must be public key");return r.fromHex(U).multiply(b(N)).toBytes(D)}const P=e.bits2int||function(N){if(N.length>8192)throw new Error("input is too large");const U=qh(N),D=N.length*8-c;return D>0?U>>BigInt(D):U},B=e.bits2int_modN||function(N){return s.create(P(N))},M=jh(c);function O(N){return Ay("num < 2^"+c,N,Gc,M),s.toBytes(N)}function W(N,U,D=S){if(["recovered","canonical"].some(ee=>ee in D))throw new Error("sign() legacy options not supported");const{hash:L}=e;let{lowS:x,prehash:A,extraEntropy:R}=D;x==null&&(x=!0),N=jr("msgHash",N),JT(D),A&&(N=jr("prehashed msgHash",L(N)));const F=B(N),z=b(U),j=[O(z),O(F)];if(R!=null&&R!==!1){const ee=R===!0?o(n.BYTES):R;j.push(jr("extraEntropy",ee))}const Z=ws(...j),J=F;function oe(ee){const te=P(ee);if(!s.isValidNot0(te))return;const ae=s.inv(te),ue=r.BASE.multiply(te).toAffine(),we=s.create(ue.x);if(we===Gc)return;const Ee=s.create(ae*s.create(J+we*z));if(Ee===Gc)return;let Ne=(ue.x===we?0:2)|Number(ue.y&Kc),Ue=Ee;return x&&u(Ee)&&(Ue=l(Ee),Ne^=1),new h(we,Ue,Ne)}return{seed:Z,k2sig:oe}}const S={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function E(N,U,D=S){const{seed:L,k2sig:x}=W(N,U,D);return tV(e.hash.outputLen,s.BYTES,i)(L,x)}r.BASE.precompute(8);function C(N,U,D,L=T){const x=N;U=jr("msgHash",U),D=jr("publicKey",D),JT(L);const{lowS:A,prehash:R,format:F}=L;if("strict"in L)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&!["compact","der","js"].includes(F))throw new Error('format must be "compact", "der" or "js"');const z=typeof x=="string"||n1(x),j=!z&&!F&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!z&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,J;try{if(j)if(F===void 0||F==="js")Z=new h(x.r,x.s);else throw new Error("invalid format");if(z){try{F!=="compact"&&(Z=h.fromDER(x))}catch(Ne){if(!(Ne instanceof Ko.Err))throw Ne}!Z&&F!=="der"&&(Z=h.fromCompact(x))}J=r.fromHex(D)}catch{return!1}if(!Z||A&&Z.hasHighS())return!1;R&&(U=e.hash(U));const{r:oe,s:ee}=Z,te=B(U),ae=s.inv(ee),ue=s.create(te*ae),we=s.create(oe*ae),Ee=r.BASE.multiplyUnsafe(ue).add(J.multiplyUnsafe(we));return Ee.is0()?!1:s.create(Ee.x)===oe}return Object.freeze({getPublicKey:g,getSharedSecret:I,sign:E,verify:C,utils:y,Point:r,Signature:h})}function WV(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,o=dc(e.n,r.nBitLength),i={Fp:t,Fn:o,allowedPrivateKeyLengths:r.allowedPrivateKeyLengths,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,wrapPrivateKey:r.wrapPrivateKey,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:i}}function OV(r){const{CURVE:e,curveOpts:t}=WV(r),o={hash:r.hash,hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,ecdsaOpts:o}}function RV(r,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:r})}function MV(r){const{CURVE:e,curveOpts:t,ecdsaOpts:o}=OV(r),i=_V(e,t),n=SV(i,o,t);return RV(r,n)}function Py(r,e){const t=o=>MV({...r,hash:o});return{...t(e),create:t}}const K6={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Z6={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Y6={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},NV=dc(K6.p),$V=dc(Z6.p),FV=dc(Y6.p),UV=Py({...K6,Fp:NV,lowS:!1},Dh);Py({...Z6,Fp:$V,lowS:!1},Hq),Py({...Y6,Fp:FV,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Vq);const kV=UV,J6="base10",Rr="base16",Jn="base64pad",Mi="base64url",Nu="utf8",X6=0,ri=1,$u=2,DV=0,XT=1,Zc=12,d1=32;function LV(){const r=Ey.utils.randomPrivateKey(),e=Ey.getPublicKey(r);return{privateKey:Xr(r,Rr),publicKey:Xr(e,Rr)}}function Iy(){const r=fc(d1);return Xr(r,Rr)}function zV(r,e){const t=Ey.getSharedSecret(Wn(r,Rr),Wn(e,Rr)),o=Xj(zh,t,void 0,void 0,d1);return Xr(o,Rr)}function Id(r){const e=zh(Wn(r,Rr));return Xr(e,Rr)}function Ao(r){const e=zh(Wn(r,Nu));return Xr(e,Rr)}function Q6(r){return Wn(`${r}`,J6)}function Ms(r){return Number(Xr(r,J6))}function eB(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function tB(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4;return e+"=".repeat(t)}function qV(r){const e=Q6(typeof r.type<"u"?r.type:X6);if(Ms(e)===ri&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?Wn(r.senderPublicKey,Rr):void 0,o=typeof r.iv<"u"?Wn(r.iv,Rr):fc(Zc),i=Wn(r.symKey,Rr),n=R6(i,o).encrypt(Wn(r.message,Nu)),s=rB({type:e,sealed:n,iv:o,senderPublicKey:t});return r.encoding===Mi?eB(s):s}function jV(r){const e=Wn(r.symKey,Rr),{sealed:t,iv:o}=fu({encoded:r.encoded,encoding:r.encoding}),i=R6(e,o).decrypt(t);if(i===null)throw new Error("Failed to decrypt");return Xr(i,Nu)}function VV(r,e){const t=Q6($u),o=fc(Zc),i=Wn(r,Nu),n=rB({type:t,sealed:i,iv:o});return e===Mi?eB(n):n}function HV(r,e){const{sealed:t}=fu({encoded:r,encoding:e});return Xr(t,Nu)}function rB(r){if(Ms(r.type)===$u)return Xr(Vc([r.type,r.sealed]),Jn);if(Ms(r.type)===ri){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Xr(Vc([r.type,r.senderPublicKey,r.iv,r.sealed]),Jn)}return Xr(Vc([r.type,r.iv,r.sealed]),Jn)}function fu(r){const e=(r.encoding||Jn)===Mi?tB(r.encoded):r.encoded,t=Wn(e,Jn),o=t.slice(DV,XT),i=XT;if(Ms(o)===ri){const c=i+d1,u=c+Zc,l=t.slice(i,c),d=t.slice(c,u),h=t.slice(u);return{type:o,sealed:h,iv:d,senderPublicKey:l}}if(Ms(o)===$u){const c=t.slice(i),u=fc(Zc);return{type:o,sealed:c,iv:u}}const n=i+Zc,s=t.slice(i,n),a=t.slice(n);return{type:o,sealed:a,iv:s}}function GV(r,e){const t=fu({encoded:r,encoding:e?.encoding});return nB({type:Ms(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Xr(t.senderPublicKey,Rr):void 0,receiverPublicKey:e?.receiverPublicKey})}function nB(r){const e=r?.type||X6;if(e===ri){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function QT(r){return r.type===ri&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}function eA(r){return r.type===$u}function KV(r){const e=qe.from(r.x,"base64"),t=qe.from(r.y,"base64");return Vc([new Uint8Array([4]),e,t])}function ZV(r,e){const[t,o,i]=r.split("."),n=qe.from(tB(i),"base64");if(n.length!==64)throw new Error("Invalid signature length");const s=n.slice(0,32),a=n.slice(32,64),c=`${t}.${o}`,u=zh(c),l=KV(e);if(!kV.verify(Vc([s,a]),u,l))throw new Error("Invalid signature");return ay(r).payload}const YV="irn";function Jd(r){return r?.relay||{protocol:YV}}function Lc(r){const e=Oz[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}function JV(r,e="-"){const t={},o="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(o)){const n=i.replace(o,""),s=r[i];t[n]=s}}),t}function tA(r){if(!r.includes("wc:")){const u=p6(r);u!=null&&u.includes("wc:")&&(r=u)}r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,o=r.substring(0,e),i=r.substring(e+1,t).split("@"),n=typeof t<"u"?r.substring(t):"",s=new URLSearchParams(n),a={};s.forEach((u,l)=>{a[l]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:o,topic:XV(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:JV(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function XV(r){return r.startsWith("//")?r.substring(2):r}function QV(r,e="-"){const t="relay",o={};return Object.keys(r).forEach(i=>{const n=i,s=t+e+n;r[n]&&(o[s]=r[n])}),o}function rA(r){const e=new URLSearchParams,t=QV(r.relay);Object.keys(t).sort().forEach(i=>{e.set(i,t[i])}),e.set("symKey",r.symKey),r.expiryTimestamp&&e.set("expiryTimestamp",r.expiryTimestamp.toString()),r.methods&&e.set("methods",r.methods.join(","));const o=e.toString();return`${r.protocol}:${r.topic}@${r.version}?${o}`}function id(r,e,t){return`${r}?wc_ev=${t}&topic=${e}`}var eH=Object.defineProperty,tH=Object.defineProperties,rH=Object.getOwnPropertyDescriptors,nA=Object.getOwnPropertySymbols,nH=Object.prototype.hasOwnProperty,oH=Object.prototype.propertyIsEnumerable,oA=(r,e,t)=>e in r?eH(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iH=(r,e)=>{for(var t in e||(e={}))nH.call(e,t)&&oA(r,t,e[t]);if(nA)for(var t of nA(e))oH.call(e,t)&&oA(r,t,e[t]);return r},sH=(r,e)=>tH(r,rH(e));function hc(r){const e=[];return r.forEach(t=>{const[o,i]=t.split(":");e.push(`${o}:${i}`)}),e}function aH(r){const e=[];return Object.values(r).forEach(t=>{e.push(...hc(t.accounts))}),e}function cH(r,e){const t=[];return Object.values(r).forEach(o=>{hc(o.accounts).includes(e)&&t.push(...o.methods)}),t}function uH(r,e){const t=[];return Object.values(r).forEach(o=>{hc(o.accounts).includes(e)&&t.push(...o.events)}),t}function Hh(r){return r.includes(":")}function Na(r){return Hh(r)?r.split(":")[0]:r}function iA(r){var e,t,o;const i={};if(!Co(r))return i;for(const[n,s]of Object.entries(r)){const a=Hh(n)?[n]:s.chains,c=s.methods||[],u=s.events||[],l=Na(n);i[l]=sH(iH({},i[l]),{chains:Bo(a,(e=i[l])==null?void 0:e.chains),methods:Bo(c,(t=i[l])==null?void 0:t.methods),events:Bo(u,(o=i[l])==null?void 0:o.events)})}return i}function lH(r){const e={};return r?.forEach(t=>{var o;const[i,n]=t.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(t),(o=e[i].chains)==null||o.push(`${i}:${n}`)}),e}function sA(r,e){e=e.map(o=>o.replace("did:pkh:",""));const t=lH(e);for(const[o,i]of Object.entries(t))i.methods?i.methods=Bo(i.methods,r):i.methods=r,i.events=["chainChanged","accountsChanged"];return t}function fH(r,e){var t,o,i,n,s,a;const c=iA(r),u=iA(e),l={},d=Object.keys(c).concat(Object.keys(u));for(const h of d)l[h]={chains:Bo((t=c[h])==null?void 0:t.chains,(o=u[h])==null?void 0:o.chains),methods:Bo((i=c[h])==null?void 0:i.methods,(n=u[h])==null?void 0:n.methods),events:Bo((s=c[h])==null?void 0:s.events,(a=u[h])==null?void 0:a.events)};return l}const dH={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},hH={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function me(r,e){const{message:t,code:o}=hH[r];return{message:e?`${t} ${e}`:t,code:o}}function Bt(r,e){const{message:t,code:o}=dH[r];return{message:e?`${t} ${e}`:t,code:o}}function ni(r,e){return!!Array.isArray(r)}function Co(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function ar(r){return typeof r>"u"}function jt(r,e){return e&&ar(r)?!0:typeof r=="string"&&!!r.trim().length}function h1(r,e){return e&&ar(r)?!0:typeof r=="number"&&!isNaN(r)}function pH(r,e){const{requiredNamespaces:t}=e,o=Object.keys(r.namespaces),i=Object.keys(t);let n=!0;return bs(i,o)?(o.forEach(s=>{const{accounts:a,methods:c,events:u}=r.namespaces[s],l=hc(a),d=t[s];(!bs(u6(s,d),l)||!bs(d.methods,c)||!bs(d.events,u))&&(n=!1)}),n):!1}function Xd(r){return jt(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function gH(r){if(jt(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&Xd(t)}}return!1}function yH(r){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(jt(r,!1)){if(e(r))return!0;const t=p6(r);return e(t)}}catch{}return!1}function bH(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function wH(r){return r?.topic}function mH(r,e){let t=null;return jt(r?.publicKey,!1)||(t=me("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function aA(r){let e=!0;return ni(r)?r.length&&(e=r.every(t=>jt(t,!1))):e=!1,e}function xH(r,e,t){let o=null;return ni(e)&&e.length?e.forEach(i=>{o||Xd(i)||(o=Bt("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Xd(r)||(o=Bt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),o}function vH(r,e,t){let o=null;return Object.entries(r).forEach(([i,n])=>{if(o)return;const s=xH(i,u6(i,n),`${e} ${t}`);s&&(o=s)}),o}function TH(r,e){let t=null;return ni(r)?r.forEach(o=>{t||gH(o)||(t=Bt("UNSUPPORTED_ACCOUNTS",`${e}, account ${o} should be a string and conform to "namespace:chainId:address" format`))}):t=Bt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function AH(r,e){let t=null;return Object.values(r).forEach(o=>{if(t)return;const i=TH(o?.accounts,`${e} namespace`);i&&(t=i)}),t}function EH(r,e){let t=null;return aA(r?.methods)?aA(r?.events)||(t=Bt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Bt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function oB(r,e){let t=null;return Object.values(r).forEach(o=>{if(t)return;const i=EH(o,`${e}, namespace`);i&&(t=i)}),t}function PH(r,e,t){let o=null;if(r&&Co(r)){const i=oB(r,e);i&&(o=i);const n=vH(r,e,t);n&&(o=n)}else o=me("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return o}function fg(r,e){let t=null;if(r&&Co(r)){const o=oB(r,e);o&&(t=o);const i=AH(r,e);i&&(t=i)}else t=me("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function iB(r){return jt(r.protocol,!0)}function IH(r,e){let t=!1;return r?r&&ni(r)&&r.length&&r.forEach(o=>{t=iB(o)}):t=!0,t}function BH(r){return typeof r=="number"}function qr(r){return typeof r<"u"&&typeof r!==null}function CH(r){return!(!r||typeof r!="object"||!r.code||!h1(r.code,!1)||!r.message||!jt(r.message,!1))}function _H(r){return!(ar(r)||!jt(r.method,!1))}function SH(r){return!(ar(r)||ar(r.result)&&ar(r.error)||!h1(r.id,!1)||!jt(r.jsonrpc,!1))}function WH(r){return!(ar(r)||!jt(r.name,!1))}function cA(r,e){return!(!Xd(e)||!aH(r).includes(e))}function OH(r,e,t){return jt(t,!1)?cH(r,e).includes(t):!1}function RH(r,e,t){return jt(t,!1)?uH(r,e).includes(t):!1}function uA(r,e,t){let o=null;const i=MH(r),n=NH(e),s=Object.keys(i),a=Object.keys(n),c=lA(Object.keys(r)),u=lA(Object.keys(e)),l=c.filter(d=>!u.includes(d));return l.length&&(o=me("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),bs(s,a)||(o=me("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||o)return;const h=hc(e[d].accounts);h.includes(d)||(o=me("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),s.forEach(d=>{o||(bs(i[d].methods,n[d].methods)?bs(i[d].events,n[d].events)||(o=me("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${d}`)):o=me("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${d}`))}),o}function MH(r){const e={};return Object.keys(r).forEach(t=>{var o;t.includes(":")?e[t]=r[t]:(o=r[t].chains)==null||o.forEach(i=>{e[i]={methods:r[t].methods,events:r[t].events}})}),e}function lA(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function NH(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:hc(r[t].accounts)?.forEach(i=>{e[i]={accounts:r[t].accounts.filter(n=>n.includes(`${i}:`)),methods:r[t].methods,events:r[t].events}})}),e}function $H(r,e){return h1(r,!1)&&r<=e.max&&r>=e.min}function fA(){const r=Ru();return new Promise(e=>{switch(r){case un.browser:e(FH());break;case un.reactNative:e(UH());break;case un.node:e(kH());break;default:e(!0)}})}function FH(){return lc()&&navigator?.onLine}async function UH(){return Gi()&&typeof window<"u"&&window!=null&&window.NetInfo?(await window?.NetInfo.fetch())?.isConnected:!0}function kH(){return!0}function DH(r){switch(Ru()){case un.browser:LH(r);break;case un.reactNative:zH(r);break}}function LH(r){!Gi()&&lc()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function zH(r){Gi()&&typeof window<"u"&&window!=null&&window.NetInfo&&window?.NetInfo.addEventListener(e=>r(e?.isConnected))}function qH(){var r;return lc()&&ai.getDocument()?((r=ai.getDocument())==null?void 0:r.visibilityState)==="visible":!0}const dg={};class Oc{static get(e){return dg[e]}static set(e,t){dg[e]=t}static delete(e){delete dg[e]}}function jH(r){const e=Wu.decode(r);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function VH({publicKey:r,signature:e,payload:t}){var o;const i=By(t.method),n=128|parseInt(((o=t.version)==null?void 0:o.toString())||"4"),s=KH(t.address),a=t.era==="00"?new Uint8Array([0]):By(t.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(t.nonce,16),u=new Uint8Array([c&255,c>>8&255]),l=BigInt(`0x${GH(t.tip)}`),d=YH(l),h=new Uint8Array([0,...r,s,...e,...a,...u,...d,...i]),b=ZH(h.length+1);return new Uint8Array([...b,n,...h])}function HH(r){const e=By(r),t=$z.blake2b(e,void 0,32);return"0x"+qe.from(t).toString("hex")}function By(r){return new Uint8Array(r.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function GH(r){return r.startsWith("0x")?r.slice(2):r}function KH(r){const e=Wu.decode(r)[0];return e===42?0:e===60?2:1}function ZH(r){if(r<64)return new Uint8Array([r<<2]);if(r<16384){const e=r<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(r<1<<30){const e=r<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function YH(r){if(r<BigInt(1)<<BigInt(6))return new Uint8Array([Number(r<<BigInt(2))]);if(r<BigInt(1)<<BigInt(14)){const e=r<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(r<BigInt(1)<<BigInt(30)){const e=r<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function JH(r){const e=Uint8Array.from(qe.from(r.signature,"hex")),t=jH(r.transaction.address),o=VH({publicKey:t,signature:e,payload:r.transaction}),i=qe.from(o).toString("hex");return HH(i)}const XH="PARSE_ERROR",QH="INVALID_REQUEST",eG="METHOD_NOT_FOUND",tG="INVALID_PARAMS",sB="INTERNAL_ERROR",p1="SERVER_ERROR",rG=[-32700,-32600,-32601,-32602,-32603],Yc={[XH]:{code:-32700,message:"Parse error"},[QH]:{code:-32600,message:"Invalid Request"},[eG]:{code:-32601,message:"Method not found"},[tG]:{code:-32602,message:"Invalid params"},[sB]:{code:-32603,message:"Internal error"},[p1]:{code:-32e3,message:"Server error"}},aB=p1;function nG(r){return rG.includes(r)}function dA(r){return Object.keys(Yc).includes(r)?Yc[r]:Yc[aB]}function oG(r){const e=Object.values(Yc).find(t=>t.code===r);return e||Yc[aB]}function cB(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var hg={},Do={},hA;function iG(){if(hA)return Do;hA=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.isBrowserCryptoAvailable=Do.getSubtleCrypto=Do.getBrowerCrypto=void 0;function r(){return window?.crypto||window?.msCrypto||{}}Do.getBrowerCrypto=r;function e(){const o=r();return o.subtle||o.webkitSubtle}Do.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return Do.isBrowserCryptoAvailable=t,Do}var Lo={},pA;function sG(){if(pA)return Lo;pA=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.isBrowser=Lo.isNode=Lo.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Lo.isReactNative=r;function e(){return typeof Wr<"u"&&typeof Wr.versions<"u"&&typeof Wr.versions.node<"u"}Lo.isNode=e;function t(){return!r()&&!e()}return Lo.isBrowser=t,Lo}var gA;function aG(){return gA||(gA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Iu;e.__exportStar(iG(),r),e.__exportStar(sG(),r)}(hg)),hg}var cG=aG();function wo(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function vs(r=6){return BigInt(wo(r))}function $i(r,e,t){return{id:t||wo(),jsonrpc:"2.0",method:r,params:e}}function Gh(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Kh(r,e,t){return{id:r,jsonrpc:"2.0",error:uG(e)}}function uG(r,e){return typeof r>"u"?dA(sB):(typeof r=="string"&&(r=Object.assign(Object.assign({},dA(p1)),{message:r})),nG(r.code)&&(r=oG(r.code)),r)}class lG{}class fG extends lG{constructor(){super()}}class dG extends fG{constructor(e){super()}}const hG="^https?:",pG="^wss?:";function gG(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function uB(r,e){const t=gG(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function yA(r){return uB(r,hG)}function bA(r){return uB(r,pG)}function yG(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function lB(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function g1(r){return lB(r)&&"method"in r}function Zh(r){return lB(r)&&(mo(r)||_n(r))}function mo(r){return"result"in r}function _n(r){return"error"in r}let $n=class extends dG{constructor(e){super(e),this.events=new Nn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict($i(e.method,e.params||[],e.id||vs().toString()),t)}async requestStrict(e,t){return new Promise(async(o,i)=>{if(!this.connection.connected)try{await this.open()}catch(n){i(n)}this.events.on(`${e.id}`,n=>{_n(n)?i(n.error):o(n.result)});try{await this.connection.send(e,t)}catch(n){i(n)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Zh(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bG=()=>typeof WebSocket<"u"?WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),wG=()=>typeof WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",wA=r=>r.split("?")[0],mA=10,mG=bG();let xG=class{constructor(e){if(this.url=e,this.events=new Nn.EventEmitter,this.registering=!1,!bA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=o=>{this.onClose(o),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(si(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!bA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((o,i)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),i(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));o(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,o)=>{const i=cG.isReactNative()?void 0:{rejectUnauthorized:!yG(e)},n=new mG(e,[],i);wG()?n.onerror=s=>{const a=s;o(this.emitError(a.error))}:n.on("error",s=>{o(this.emitError(s))}),n.onopen=()=>{this.onOpen(n),t(n)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Ws(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const o=this.parseError(t),i=o.message||o.toString(),n=Kh(e,i);this.events.emit("payload",n)}parseError(e,t=this.url){return cB(e,wA(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>mA&&this.events.setMaxListeners(mA)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${wA(this.url)}`));return this.events.emit("register_error",t),t}};var vG={};const fB="wc",dB=2,Cy="core",So=`${fB}@2:${Cy}:`,TG={logger:"error"},AG={database:":memory:"},EG="crypto",xA="client_ed25519_seed",PG=xe.ONE_DAY,IG="keychain",BG="0.3",CG="messages",_G="0.3",vA=xe.SIX_HOURS,SG="publisher",hB="irn",WG="error",pB="wss://relay.walletconnect.org",OG="relayer",Qt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},RG="_subscription",wn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},MG=.1,_y="2.21.4",Pt={link_mode:"link_mode",relay:"relay"},Bd={inbound:"inbound",outbound:"outbound"},NG="0.3",$G="WALLETCONNECT_CLIENT_ID",TA="WALLETCONNECT_LINK_MODE_APPS",on={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},FG="subscription",UG="0.3",kG="pairing",DG="0.3",Rc={wc_pairingDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:0},res:{ttl:xe.ONE_DAY,prompt:!1,tag:0}}},fs={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ln={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},LG="history",zG="0.3",qG="expirer",En={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},jG="0.3",VG="verify-api",HG="https://verify.walletconnect.com",gB="https://verify.walletconnect.org",Jc=gB,GG=`${Jc}/v3`,KG=[HG,gB],ZG="echo",YG="https://echo.walletconnect.com",bo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},qo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},zn={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ns={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},os={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Mc={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},JG=.1,XG="event-client",QG=86400,eK="https://pulse.walletconnect.org/batch";function tK(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),o=0;o<t.length;o++)t[o]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);if(t[s]!==255)throw new TypeError(n+" is ambiguous");t[s]=i}var a=r.length,c=r.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,w=0,I=0,P=y.length;I!==P&&y[I]===0;)I++,g++;for(var B=(P-I)*l+1>>>0,M=new Uint8Array(B);I!==P;){for(var O=y[I],W=0,S=B-1;(O!==0||W<w)&&S!==-1;S--,W++)O+=256*M[S]>>>0,M[S]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");w=W,I++}for(var T=B-w;T!==B&&M[T]===0;)T++;for(var E=c.repeat(g);T<B;++T)E+=r.charAt(M[T]);return E}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var g=0;if(y[g]!==" "){for(var w=0,I=0;y[g]===c;)w++,g++;for(var P=(y.length-g)*u+1>>>0,B=new Uint8Array(P);y[g];){var M=t[y.charCodeAt(g)];if(M===255)return;for(var O=0,W=P-1;(M!==0||O<I)&&W!==-1;W--,O++)M+=a*B[W]>>>0,B[W]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");I=O,g++}if(y[g]!==" "){for(var S=P-I;S!==P&&B[S]===0;)S++;for(var T=new Uint8Array(w+(P-S)),E=w;S!==P;)T[E++]=B[S++];return T}}}function b(y){var g=h(y);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:b}}var rK=tK,nK=rK;const yB=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},oK=r=>new TextEncoder().encode(r),iK=r=>new TextDecoder().decode(r);class sK{constructor(e,t,o){this.name=e,this.prefix=t,this.baseEncode=o}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aK{constructor(e,t,o){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=o}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return bB(this,e)}}class cK{constructor(e){this.decoders=e}or(e){return bB(this,e)}decode(e){const t=e[0],o=this.decoders[t];if(o)return o.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const bB=(r,e)=>new cK({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class uK{constructor(e,t,o,i){this.name=e,this.prefix=t,this.baseEncode=o,this.baseDecode=i,this.encoder=new sK(e,t,o),this.decoder=new aK(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Yh=({name:r,prefix:e,encode:t,decode:o})=>new uK(r,e,t,o),Fu=({prefix:r,name:e,alphabet:t})=>{const{encode:o,decode:i}=nK(t,e);return Yh({prefix:r,name:e,encode:o,decode:n=>yB(i(n))})},lK=(r,e,t,o)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let n=r.length;for(;r[n-1]==="=";)--n;const s=new Uint8Array(n*t/8|0);let a=0,c=0,u=0;for(let l=0;l<n;++l){const d=i[r[l]];if(d===void 0)throw new SyntaxError(`Non-${o} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},fK=(r,e,t)=>{const o=e[e.length-1]==="=",i=(1<<t)-1;let n="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>t;)s-=t,n+=e[i&a>>s];if(s&&(n+=e[i&a<<t-s]),o)for(;n.length*t&7;)n+="=";return n},dr=({name:r,prefix:e,bitsPerChar:t,alphabet:o})=>Yh({prefix:e,name:r,encode(i){return fK(i,o,t)},decode(i){return lK(i,o,t,r)}}),dK=Yh({prefix:"\0",name:"identity",encode:r=>iK(r),decode:r=>oK(r)});var hK=Object.freeze({__proto__:null,identity:dK});const pK=dr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gK=Object.freeze({__proto__:null,base2:pK});const yK=dr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bK=Object.freeze({__proto__:null,base8:yK});const wK=Fu({prefix:"9",name:"base10",alphabet:"0123456789"});var mK=Object.freeze({__proto__:null,base10:wK});const xK=dr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vK=dr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var TK=Object.freeze({__proto__:null,base16:xK,base16upper:vK});const AK=dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),EK=dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),PK=dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),IK=dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),BK=dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),CK=dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_K=dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SK=dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),WK=dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var OK=Object.freeze({__proto__:null,base32:AK,base32upper:EK,base32pad:PK,base32padupper:IK,base32hex:BK,base32hexupper:CK,base32hexpad:_K,base32hexpadupper:SK,base32z:WK});const RK=Fu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),MK=Fu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var NK=Object.freeze({__proto__:null,base36:RK,base36upper:MK});const $K=Fu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),FK=Fu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var UK=Object.freeze({__proto__:null,base58btc:$K,base58flickr:FK});const kK=dr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),DK=dr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),LK=dr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zK=dr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qK=Object.freeze({__proto__:null,base64:kK,base64pad:DK,base64url:LK,base64urlpad:zK});const wB=Array.from("ððªâð°ðððððððððððððâð»ð¥ð¾ð¿ðâ¤ðð¤£ðððð­ðððððð¥ð¥°ðððð¢ð¤ðððªðâºðð¤ððððð¹ð¤¦ððââ¨ð¤·ð±ðð¸ððððððððð¤©ððð¤ðð¯ððð¶ðð¤­â£ððððªðð¥ððð©ð¡ð¤ªðð¥³ð¥ð¤¤ððð³âððð´ðð¬ððð·ð»ðâ­âð¥ºððð¤ð¦âð£ððâ¹ððð âððºðð»ððððð¹ð£ð«ðððµð¤ðð´ð¤ð¼ð«â½ð¤âðð¤«ðð®ðð»ðð¶ðð²ð¿ð§¡ðâ¡ððââðð°ð¤¨ð¶ð¤ð¶ð°ðð¢ð¤ðð¨ð¨ð¤¬âððºð¤ððð±ðð¶ð¥´â¶â¡âðð¸â¬ð¨ðð¦ð·ðºâ ðððµðð¤²ð¤ ð¤§ððµðð§ð¾ððð¤ðð¤¯ð·âð§ð¯ððð¤ððâð´ð£ð¸ððð¥ð¤¢ðð¡ð©ðð¸ð»ð¤ð¤®ð¼ð¥µð©ððð¼ðð£ð¥"),jK=wB.reduce((r,e,t)=>(r[t]=e,r),[]),VK=wB.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function HK(r){return r.reduce((e,t)=>(e+=jK[t],e),"")}function GK(r){const e=[];for(const t of r){const o=VK[t.codePointAt(0)];if(o===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(o)}return new Uint8Array(e)}const KK=Yh({prefix:"ð",name:"base256emoji",encode:HK,decode:GK});var ZK=Object.freeze({__proto__:null,base256emoji:KK}),YK=mB,AA=128,JK=-128,XK=Math.pow(2,31);function mB(r,e,t){e=e||[],t=t||0;for(var o=t;r>=XK;)e[t++]=r&255|AA,r/=128;for(;r&JK;)e[t++]=r&255|AA,r>>>=7;return e[t]=r|0,mB.bytes=t-o+1,e}var QK=Sy,eZ=128,EA=127;function Sy(r,o){var t=0,o=o||0,i=0,n=o,s,a=r.length;do{if(n>=a)throw Sy.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&EA)<<i:(s&EA)*Math.pow(2,i),i+=7}while(s>=eZ);return Sy.bytes=n-o,t}var tZ=Math.pow(2,7),rZ=Math.pow(2,14),nZ=Math.pow(2,21),oZ=Math.pow(2,28),iZ=Math.pow(2,35),sZ=Math.pow(2,42),aZ=Math.pow(2,49),cZ=Math.pow(2,56),uZ=Math.pow(2,63),lZ=function(r){return r<tZ?1:r<rZ?2:r<nZ?3:r<oZ?4:r<iZ?5:r<sZ?6:r<aZ?7:r<cZ?8:r<uZ?9:10},fZ={encode:YK,decode:QK,encodingLength:lZ},xB=fZ;const PA=(r,e,t=0)=>(xB.encode(r,e,t),e),IA=r=>xB.encodingLength(r),Wy=(r,e)=>{const t=e.byteLength,o=IA(r),i=o+IA(t),n=new Uint8Array(i+t);return PA(r,n,0),PA(t,n,o),n.set(e,i),new dZ(r,t,e,n)};class dZ{constructor(e,t,o,i){this.code=e,this.size=t,this.digest=o,this.bytes=i}}const vB=({name:r,code:e,encode:t})=>new hZ(r,e,t);class hZ{constructor(e,t,o){this.name=e,this.code=t,this.encode=o}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Wy(this.code,t):t.then(o=>Wy(this.code,o))}else throw Error("Unknown type, must be binary type")}}const TB=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),pZ=vB({name:"sha2-256",code:18,encode:TB("SHA-256")}),gZ=vB({name:"sha2-512",code:19,encode:TB("SHA-512")});var yZ=Object.freeze({__proto__:null,sha256:pZ,sha512:gZ});const AB=0,bZ="identity",EB=yB,wZ=r=>Wy(AB,EB(r)),mZ={code:AB,name:bZ,encode:EB,digest:wZ};var xZ=Object.freeze({__proto__:null,identity:mZ});new TextEncoder,new TextDecoder;const BA={...hK,...gK,...bK,...mK,...TK,...OK,...NK,...UK,...qK,...ZK};({...yZ,...xZ});function PB(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function vZ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?PB(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function IB(r,e,t,o){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:o}}}const CA=IB("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),pg=IB("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=vZ(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),TZ={utf8:CA,"utf-8":CA,hex:BA.base16,latin1:pg,ascii:pg,binary:pg,...BA};function AZ(r,e="utf8"){const t=TZ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?PB(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var EZ=Object.defineProperty,PZ=(r,e,t)=>e in r?EZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,po=(r,e,t)=>PZ(r,typeof e!="symbol"?e+"":e,t);class IZ{constructor(e,t){this.core=e,this.logger=t,po(this,"keychain",new Map),po(this,"name",IG),po(this,"version",BG),po(this,"initialized",!1),po(this,"storagePrefix",So),po(this,"init",async()=>{if(!this.initialized){const o=await this.getKeyChain();typeof o<"u"&&(this.keychain=o),this.initialized=!0}}),po(this,"has",o=>(this.isInitialized(),this.keychain.has(o))),po(this,"set",async(o,i)=>{this.isInitialized(),this.keychain.set(o,i),await this.persist()}),po(this,"get",o=>{this.isInitialized();const i=this.keychain.get(o);if(typeof i>"u"){const{message:n}=me("NO_MATCHING_KEY",`${this.name}: ${o}`);throw new Error(n)}return i}),po(this,"del",async o=>{this.isInitialized(),this.keychain.delete(o),await this.persist()}),this.core=e,this.logger=Fr(t,this.name)}get context(){return en(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,gy(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?yy(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var BZ=Object.defineProperty,CZ=(r,e,t)=>e in r?BZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ir=(r,e,t)=>CZ(r,typeof e!="symbol"?e+"":e,t);class _Z{constructor(e,t,o){this.core=e,this.logger=t,ir(this,"name",EG),ir(this,"keychain"),ir(this,"randomSessionIdentifier",Iy()),ir(this,"initialized",!1),ir(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ir(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ir(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),n=Jv(i);return N3(n.publicKey)}),ir(this,"generateKeyPair",()=>{this.isInitialized();const i=LV();return this.setPrivateKey(i.publicKey,i.privateKey)}),ir(this,"signJWT",async i=>{this.isInitialized();const n=await this.getClientSeed(),s=Jv(n),a=this.randomSessionIdentifier;return await Vk(a,i,PG,s)}),ir(this,"generateSharedKey",(i,n,s)=>{this.isInitialized();const a=this.getPrivateKey(i),c=zV(a,n);return this.setSymKey(c,s)}),ir(this,"setSymKey",async(i,n)=>{this.isInitialized();const s=n||Id(i);return await this.keychain.set(s,i),s}),ir(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ir(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ir(this,"encode",async(i,n,s)=>{this.isInitialized();const a=nB(s),c=si(n);if(eA(a))return VV(c,s?.encoding);if(QT(a)){const h=a.senderPublicKey,b=a.receiverPublicKey;i=await this.generateSharedKey(h,b)}const u=this.getSymKey(i),{type:l,senderPublicKey:d}=a;return qV({type:l,symKey:u,message:c,senderPublicKey:d,encoding:s?.encoding})}),ir(this,"decode",async(i,n,s)=>{this.isInitialized();const a=GV(n,s);if(eA(a)){const c=HV(n,s?.encoding);return Ws(c)}if(QT(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=jV({symKey:c,encoded:n,encoding:s?.encoding});return Ws(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ir(this,"getPayloadType",(i,n=Jn)=>{const s=fu({encoded:i,encoding:n});return Ms(s.type)}),ir(this,"getPayloadSenderPublicKey",(i,n=Jn)=>{const s=fu({encoded:i,encoding:n});return s.senderPublicKey?Xr(s.senderPublicKey,Rr):void 0}),this.core=e,this.logger=Fr(t,this.name),this.keychain=o||new IZ(this.core,this.logger)}get context(){return en(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(xA)}catch{e=Iy(),await this.keychain.set(xA,e)}return AZ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var SZ=Object.defineProperty,WZ=Object.defineProperties,OZ=Object.getOwnPropertyDescriptors,_A=Object.getOwnPropertySymbols,RZ=Object.prototype.hasOwnProperty,MZ=Object.prototype.propertyIsEnumerable,Oy=(r,e,t)=>e in r?SZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,NZ=(r,e)=>{for(var t in e||(e={}))RZ.call(e,t)&&Oy(r,t,e[t]);if(_A)for(var t of _A(e))MZ.call(e,t)&&Oy(r,t,e[t]);return r},$Z=(r,e)=>WZ(r,OZ(e)),nn=(r,e,t)=>Oy(r,typeof e!="symbol"?e+"":e,t);class FZ extends q${constructor(e,t){super(e,t),this.logger=e,this.core=t,nn(this,"messages",new Map),nn(this,"messagesWithoutClientAck",new Map),nn(this,"name",CG),nn(this,"version",_G),nn(this,"initialized",!1),nn(this,"storagePrefix",So),nn(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const o=await this.getRelayerMessages();typeof o<"u"&&(this.messages=o);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(o){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(o)}finally{this.initialized=!0}}}),nn(this,"set",async(o,i,n)=>{this.isInitialized();const s=Ao(i);let a=this.messages.get(o);if(typeof a>"u"&&(a={}),typeof a[s]<"u")return s;if(a[s]=i,this.messages.set(o,a),n===Bd.inbound){const c=this.messagesWithoutClientAck.get(o)||{};this.messagesWithoutClientAck.set(o,$Z(NZ({},c),{[s]:i}))}return await this.persist(),s}),nn(this,"get",o=>{this.isInitialized();let i=this.messages.get(o);return typeof i>"u"&&(i={}),i}),nn(this,"getWithoutAck",o=>{this.isInitialized();const i={};for(const n of o){const s=this.messagesWithoutClientAck.get(n)||{};i[n]=Object.values(s)}return i}),nn(this,"has",(o,i)=>{this.isInitialized();const n=this.get(o),s=Ao(i);return typeof n[s]<"u"}),nn(this,"ack",async(o,i)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(o);if(typeof n>"u")return;const s=Ao(i);delete n[s],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(o):this.messagesWithoutClientAck.set(o,n),await this.persist()}),nn(this,"del",async o=>{this.isInitialized(),this.messages.delete(o),this.messagesWithoutClientAck.delete(o),await this.persist()}),this.logger=Fr(e,this.name),this.core=t}get context(){return en(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,gy(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,gy(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?yy(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?yy(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var UZ=Object.defineProperty,kZ=Object.defineProperties,DZ=Object.getOwnPropertyDescriptors,SA=Object.getOwnPropertySymbols,LZ=Object.prototype.hasOwnProperty,zZ=Object.prototype.propertyIsEnumerable,Ry=(r,e,t)=>e in r?UZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sd=(r,e)=>{for(var t in e||(e={}))LZ.call(e,t)&&Ry(r,t,e[t]);if(SA)for(var t of SA(e))zZ.call(e,t)&&Ry(r,t,e[t]);return r},gg=(r,e)=>kZ(r,DZ(e)),qn=(r,e,t)=>Ry(r,typeof e!="symbol"?e+"":e,t);class qZ extends j${constructor(e,t){super(e,t),this.relayer=e,this.logger=t,qn(this,"events",new Nn.EventEmitter),qn(this,"name",SG),qn(this,"queue",new Map),qn(this,"publishTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),qn(this,"initialPublishTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),qn(this,"needsTransportRestart",!1),qn(this,"publish",async(o,i,n)=>{var s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:o,message:i,opts:n}});const a=n?.ttl||vA,c=Jd(n),u=n?.prompt||!1,l=n?.tag||0,d=n?.id||vs().toString(),h={topic:o,message:i,opts:{ttl:a,relay:c,prompt:u,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}},b=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const y=new Promise(async g=>{const w=({id:P})=>{h.opts.id===P&&(this.removeRequestFromQueue(P),this.relayer.events.removeListener(Qt.publish,w),g(h))};this.relayer.events.on(Qt.publish,w);const I=Ni(new Promise((P,B)=>{this.rpcPublish({topic:o,message:i,ttl:a,prompt:u,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(P).catch(M=>{this.logger.warn(M,M?.message),B(M)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await I,this.events.removeListener(Qt.publish,w)}catch(P){this.queue.set(d,gg(sd({},h),{attempt:1})),this.logger.warn(P,P?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:o,message:i,opts:n}}),await Ni(y,this.publishTimeout,b)}catch(y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(y),(s=n?.internal)!=null&&s.throwOnFailedPublish)throw y}finally{this.queue.delete(d)}}),qn(this,"on",(o,i)=>{this.events.on(o,i)}),qn(this,"once",(o,i)=>{this.events.once(o,i)}),qn(this,"off",(o,i)=>{this.events.off(o,i)}),qn(this,"removeListener",(o,i)=>{this.events.removeListener(o,i)}),this.relayer=e,this.logger=Fr(t,this.name),this.registerEventListeners()}get context(){return en(this.logger)}async rpcPublish(e){var t,o,i,n;const{topic:s,message:a,ttl:c=vA,prompt:u,tag:l,id:d,attestation:h,tvf:b}=e,y={method:Lc(Jd().protocol).publish,params:sd({topic:s,message:a,ttl:c,prompt:u,tag:l,attestation:h},b),id:d};ar((t=y.params)==null?void 0:t.prompt)&&((o=y.params)==null||delete o.prompt),ar((i=y.params)==null?void 0:i.tag)&&((n=y.params)==null||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:y});const g=await this.relayer.request(y);return this.relayer.events.emit(Qt.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const o=e.attempt+1;this.queue.set(t,gg(sd({},e),{attempt:o}));const{topic:i,message:n,opts:s,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${o}`),await this.rpcPublish(gg(sd({},e),{topic:i,message:n,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:a,tvf:s.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ds.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Qt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Qt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var jZ=Object.defineProperty,VZ=(r,e,t)=>e in r?jZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ga=(r,e,t)=>VZ(r,typeof e!="symbol"?e+"":e,t);class HZ{constructor(){ga(this,"map",new Map),ga(this,"set",(e,t)=>{const o=this.get(e);this.exists(e,t)||this.map.set(e,[...o,t])}),ga(this,"get",e=>this.map.get(e)||[]),ga(this,"exists",(e,t)=>this.get(e).includes(t)),ga(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const o=this.get(e);if(!this.exists(e,t))return;const i=o.filter(n=>n!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),ga(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var GZ=Object.defineProperty,KZ=Object.defineProperties,ZZ=Object.getOwnPropertyDescriptors,WA=Object.getOwnPropertySymbols,YZ=Object.prototype.hasOwnProperty,JZ=Object.prototype.propertyIsEnumerable,My=(r,e,t)=>e in r?GZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Nc=(r,e)=>{for(var t in e||(e={}))YZ.call(e,t)&&My(r,t,e[t]);if(WA)for(var t of WA(e))JZ.call(e,t)&&My(r,t,e[t]);return r},yg=(r,e)=>KZ(r,ZZ(e)),vt=(r,e,t)=>My(r,typeof e!="symbol"?e+"":e,t);class XZ extends G${constructor(e,t){super(e,t),this.relayer=e,this.logger=t,vt(this,"subscriptions",new Map),vt(this,"topicMap",new HZ),vt(this,"events",new Nn.EventEmitter),vt(this,"name",FG),vt(this,"version",UG),vt(this,"pending",new Map),vt(this,"cached",[]),vt(this,"initialized",!1),vt(this,"storagePrefix",So),vt(this,"subscribeTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),vt(this,"initialSubscribeTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),vt(this,"clientId"),vt(this,"batchSubscribeTopicsLimit",500),vt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),vt(this,"subscribe",async(o,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:o,opts:i}});try{const n=Jd(i),s={topic:o,relay:n,transportType:i?.transportType};this.pending.set(o,s);const a=await this.rpcSubscribe(o,n,i);return typeof a=="string"&&(this.onSubscribe(a,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:o,opts:i}})),a}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}}),vt(this,"unsubscribe",async(o,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(o,i.id,i):await this.unsubscribeByTopic(o,i)}),vt(this,"isSubscribed",o=>new Promise(i=>{i(this.topicMap.topics.includes(o))})),vt(this,"isKnownTopic",o=>new Promise(i=>{i(this.topicMap.topics.includes(o)||this.pending.has(o)||this.cached.some(n=>n.topic===o))})),vt(this,"on",(o,i)=>{this.events.on(o,i)}),vt(this,"once",(o,i)=>{this.events.once(o,i)}),vt(this,"off",(o,i)=>{this.events.off(o,i)}),vt(this,"removeListener",(o,i)=>{this.events.removeListener(o,i)}),vt(this,"start",async()=>{await this.onConnect()}),vt(this,"stop",async()=>{await this.onDisconnect()}),vt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),vt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const o=[];this.pending.forEach(i=>{o.push(i)}),await this.batchSubscribe(o)}),vt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ds.pulse,async()=>{await this.checkPending()}),this.events.on(on.created,async o=>{const i=on.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:o}),await this.persist()}),this.events.on(on.deleted,async o=>{const i=on.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:o}),await this.persist()})}),this.relayer=e,this.logger=Fr(t,this.name),this.clientId=""}get context(){return en(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let o=!1;try{o=this.getSubscription(e).topic===t}catch{}return o}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const o=this.topicMap.get(e);await Promise.all(o.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,o){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:o}});try{const i=Jd(o);await this.restartToComplete({topic:e,id:t,relay:i}),await this.rpcUnsubscribe(e,t,i);const n=Bt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:o}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t,o){var i;(!o||o?.transportType===Pt.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:Lc(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const s=(i=o?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(o?.transportType===Pt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l))},xe.toMiliseconds(xe.ONE_SECOND)),a;const c=new Promise(async l=>{const d=h=>{h.topic===e&&(this.events.removeListener(on.created,d),l(h.id))};this.events.on(on.created,d);try{const h=await Ni(new Promise((b,y)=>{this.relayer.request(n).catch(g=>{this.logger.warn(g,g?.message),y(g)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(on.created,d),l(h)}catch{}}),u=await Ni(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&s)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Qt.connection_stalled),s)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,o={method:Lc(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});try{await await Ni(new Promise(i=>{this.relayer.request(o).catch(n=>this.logger.warn(n)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Qt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,o={method:Lc(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});let i;try{i=await await Ni(new Promise((n,s)=>{this.relayer.request(o).catch(a=>{this.logger.warn(a),s(a)}).then(n)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Qt.connection_stalled)}return i}rpcUnsubscribe(e,t,o){const i={method:Lc(o.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,yg(Nc({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Nc({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,o){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,o),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,Nc({},t)),this.topicMap.set(t.topic,e),this.events.emit(on.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:o}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(o)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const o=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(o.topic,e),this.events.emit(on.deleted,yg(Nc({},o),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(on.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let o=0;o<t;o++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(on.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>yg(Nc({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await uq(xe.toMiliseconds(xe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ao(e+await this.getClientId())}}var QZ=Object.defineProperty,OA=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,tY=Object.prototype.propertyIsEnumerable,Ny=(r,e,t)=>e in r?QZ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,RA=(r,e)=>{for(var t in e||(e={}))eY.call(e,t)&&Ny(r,t,e[t]);if(OA)for(var t of OA(e))tY.call(e,t)&&Ny(r,t,e[t]);return r},lt=(r,e,t)=>Ny(r,typeof e!="symbol"?e+"":e,t);class rY extends V${constructor(e){super(e),lt(this,"protocol","wc"),lt(this,"version",2),lt(this,"core"),lt(this,"logger"),lt(this,"events",new Nn.EventEmitter),lt(this,"provider"),lt(this,"messages"),lt(this,"subscriber"),lt(this,"publisher"),lt(this,"name",OG),lt(this,"transportExplicitlyClosed",!1),lt(this,"initialized",!1),lt(this,"connectionAttemptInProgress",!1),lt(this,"relayUrl"),lt(this,"projectId"),lt(this,"packageName"),lt(this,"bundleId"),lt(this,"hasExperiencedNetworkDisruption",!1),lt(this,"pingTimeout"),lt(this,"heartBeatTimeout",xe.toMiliseconds(xe.THIRTY_SECONDS+xe.FIVE_SECONDS)),lt(this,"reconnectTimeout"),lt(this,"connectPromise"),lt(this,"reconnectInProgress",!1),lt(this,"requestsInFlight",[]),lt(this,"connectTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),lt(this,"request",async t=>{var o,i;this.logger.debug("Publishing Request Payload");const n=t.id||vs().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(o=t.params)==null?void 0:o.topic},"relayer.request - publishing...");const s=`${n}:${((i=t.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(s);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==s),a}catch(s){throw this.logger.debug(`Failed to Publish Request: ${n}`),s}}),lt(this,"resetPingTimeout",()=>{Gd()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,o,i,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(n=(i=(o=(t=this.provider)==null?void 0:t.connection)==null?void 0:o.socket)==null?void 0:i.terminate)==null||n.call(i)}catch(s){this.logger.warn(s,s?.message)}},this.heartBeatTimeout))}),lt(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),lt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected ð"),this.startPingTimeout(),this.events.emit(Qt.connect)}),lt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected ð"),this.requestsInFlight=[],this.onProviderDisconnect()}),lt(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(Qt.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),lt(this,"registerProviderListeners",()=>{this.provider.on(wn.payload,this.onPayloadHandler),this.provider.on(wn.connect,this.onConnectHandler),this.provider.on(wn.disconnect,this.onDisconnectHandler),this.provider.on(wn.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Fr(e.logger,this.name):Cu(Nh({level:e.logger||WG})),this.messages=new FZ(this.logger,e.core),this.subscriber=new XZ(this,this.logger),this.publisher=new qZ(this,this.logger),this.relayUrl=e?.relayUrl||pB,this.projectId=e.projectId,Gz()?this.packageName=vT():Kz()&&(this.bundleId=vT()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return en(this.logger)}get connected(){var e,t,o;return((o=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:o.readyState)===1||!1}get connecting(){var e,t,o;return((o=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:o.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,o){this.isInitialized(),await this.publisher.publish(e,t,o),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Pt.relay},Bd.outbound)}async subscribe(e,t){var o,i,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const s=typeof((o=t?.internal)==null?void 0:o.throwOnFailedPublish)>"u"?!0:(i=t?.internal)==null?void 0:i.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",c;const u=l=>{l.topic===e&&(this.subscriber.off(on.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(on.created,u)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,RA({internal:{throwOnFailedPublish:s}},t)).catch(h=>{s&&d(h)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ni(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,o)=>{await this.connect(e).then(t).catch(o).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await fA())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((o,i)=>o.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const o of t)try{await this.onMessageEvent(o)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:o}=e;if(!t.sessionExists){const i=Ht(xe.FIVE_MINUTES),n={topic:o,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(o,n)}this.events.emit(Qt.message,e),await this.recordMessageEvent(e,Bd.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(o,i)=>{const n=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(wn.disconnect,n),await Ni(new Promise((s,a)=>{this.provider.connect().then(s).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{i(s)}).finally(()=>{this.provider.off(wn.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(s,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(wn.disconnect,c),await this.subscriber.start().then(s).catch(a).finally(()=>{this.provider.off(wn.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,o()})}catch(o){await this.subscriber.stop();const i=o;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(o=>setTimeout(o,xe.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,o,i,n;if(Gd())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(i=(o=this.provider)==null?void 0:o.connection)==null?void 0:i.socket)==null||n.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,s?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new $n(new xG(Qz({sdkVersion:_y,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:o,message:i}=e;await this.messages.set(o,i,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:o}=e;if(!o||o.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${o}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const i=this.messages.has(t,o);return i&&this.logger.warn(`Ignoring duplicate message: ${o}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),g1(e)){if(!e.method.endsWith(RG))return;const t=e.params,{topic:o,message:i,publishedAt:n,attestation:s}=t.data,a={topic:o,message:i,publishedAt:n,transportType:Pt.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(RA({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Zh(e)&&this.events.emit(Qt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Bd.inbound),this.events.emit(Qt.message,e))}async acknowledgePayload(e){const t=Gh(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(wn.payload,this.onPayloadHandler),this.provider.off(wn.connect,this.onConnectHandler),this.provider.off(wn.disconnect,this.onDisconnectHandler),this.provider.off(wn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await fA();DH(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(o=>this.logger.error(o,o?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ds.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&qH())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Qt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},xe.toMiliseconds(MG)))))}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function nY(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function MA(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function NA(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const oY="[object RegExp]",iY="[object String]",sY="[object Number]",aY="[object Boolean]",$A="[object Arguments]",cY="[object Symbol]",uY="[object Date]",lY="[object Map]",fY="[object Set]",dY="[object Array]",hY="[object Function]",pY="[object ArrayBuffer]",bg="[object Object]",gY="[object Error]",yY="[object DataView]",bY="[object Uint8Array]",wY="[object Uint8ClampedArray]",mY="[object Uint16Array]",xY="[object Uint32Array]",vY="[object BigUint64Array]",TY="[object Int8Array]",AY="[object Int16Array]",EY="[object Int32Array]",PY="[object BigInt64Array]",IY="[object Float32Array]",BY="[object Float64Array]";function CY(){}function FA(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function _Y(r,e,t){return zc(r,e,void 0,void 0,void 0,void 0,t)}function zc(r,e,t,o,i,n,s){const a=s(r,e,t,o,i,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return r===e;case"number":return r===e||Object.is(r,e);case"function":return r===e;case"object":return Xc(r,e,n,s)}return Xc(r,e,n,s)}function Xc(r,e,t,o){if(Object.is(r,e))return!0;let i=NA(r),n=NA(e);if(i===$A&&(i=bg),n===$A&&(n=bg),i!==n)return!1;switch(i){case iY:return r.toString()===e.toString();case sY:{const c=r.valueOf(),u=e.valueOf();return nY(c,u)}case aY:case uY:case cY:return Object.is(r.valueOf(),e.valueOf());case oY:return r.source===e.source&&r.flags===e.flags;case hY:return r===e}t=t??new Map;const s=t.get(r),a=t.get(e);if(s!=null&&a!=null)return s===e;t.set(r,e),t.set(e,r);try{switch(i){case lY:{if(r.size!==e.size)return!1;for(const[c,u]of r.entries())if(!e.has(c)||!zc(u,e.get(c),c,r,e,t,o))return!1;return!0}case fY:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),u=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],h=u.findIndex(b=>zc(d,b,void 0,r,e,t,o));if(h===-1)return!1;u.splice(h,1)}return!0}case dY:case bY:case wY:case mY:case xY:case vY:case TY:case AY:case EY:case PY:case IY:case BY:{if(typeof qe<"u"&&qe.isBuffer(r)!==qe.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!zc(r[c],e[c],c,r,e,t,o))return!1;return!0}case pY:return r.byteLength!==e.byteLength?!1:Xc(new Uint8Array(r),new Uint8Array(e),t,o);case yY:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:Xc(new Uint8Array(r),new Uint8Array(e),t,o);case gY:return r.name===e.name&&r.message===e.message;case bg:{if(!(Xc(r.constructor,e.constructor,t,o)||FA(r)&&FA(e)))return!1;const c=[...Object.keys(r),...MA(r)],u=[...Object.keys(e),...MA(e)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const d=c[l],h=r[d];if(!Object.hasOwn(e,d))return!1;const b=e[d];if(!zc(h,b,d,r,e,t,o))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function SY(r,e){return _Y(r,e,CY)}var WY=Object.defineProperty,UA=Object.getOwnPropertySymbols,OY=Object.prototype.hasOwnProperty,RY=Object.prototype.propertyIsEnumerable,$y=(r,e,t)=>e in r?WY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kA=(r,e)=>{for(var t in e||(e={}))OY.call(e,t)&&$y(r,t,e[t]);if(UA)for(var t of UA(e))RY.call(e,t)&&$y(r,t,e[t]);return r},kr=(r,e,t)=>$y(r,typeof e!="symbol"?e+"":e,t);class zs extends H${constructor(e,t,o,i=So,n=void 0){super(e,t,o,i),this.core=e,this.logger=t,this.name=o,kr(this,"map",new Map),kr(this,"version",NG),kr(this,"cached",[]),kr(this,"initialized",!1),kr(this,"getKey"),kr(this,"storagePrefix",So),kr(this,"recentlyDeleted",[]),kr(this,"recentlyDeletedLimit",200),kr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!ar(s)?this.map.set(this.getKey(s),s):bH(s)?this.map.set(s.id,s):wH(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)}),kr(this,"set",async(s,a)=>{this.isInitialized(),this.map.has(s)?await this.update(s,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:a}),this.map.set(s,a),await this.persist())}),kr(this,"get",s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s))),kr(this,"getAll",s=>(this.isInitialized(),s?this.values.filter(a=>Object.keys(s).every(c=>SY(a[c],s[c]))):this.values)),kr(this,"update",async(s,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:a});const c=kA(kA({},this.getData(s)),a);this.map.set(s,c),await this.persist()}),kr(this,"delete",async(s,a)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:a}),this.map.delete(s),this.addToRecentlyDeleted(s),await this.persist())}),this.logger=Fr(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return en(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:i}=me("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:o}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(o),new Error(o)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var MY=Object.defineProperty,NY=(r,e,t)=>e in r?MY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tt=(r,e,t)=>NY(r,typeof e!="symbol"?e+"":e,t);class $Y{constructor(e,t){this.core=e,this.logger=t,tt(this,"name",kG),tt(this,"version",DG),tt(this,"events",new kb),tt(this,"pairings"),tt(this,"initialized",!1),tt(this,"storagePrefix",So),tt(this,"ignoredPayloadTypes",[ri]),tt(this,"registeredMethods",[]),tt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),tt(this,"register",({methods:o})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...o])]}),tt(this,"create",async o=>{this.isInitialized();const i=Iy(),n=await this.core.crypto.setSymKey(i),s=Ht(xe.FIVE_MINUTES),a={protocol:hB},c={topic:n,expiry:s,relay:a,active:!1,methods:o?.methods},u=rA({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:a,expiryTimestamp:s,methods:o?.methods});return this.events.emit(fs.create,c),this.core.expirer.set(n,s),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:o?.transportType}),{topic:n,uri:u}}),tt(this,"pair",async o=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:o?.uri,trace:[bo.pairing_started]}});this.isValidPair(o,i);const{topic:n,symKey:s,relay:a,expiryTimestamp:c,methods:u}=tA(o.uri);i.props.properties.topic=n,i.addTrace(bo.pairing_uri_validation_success),i.addTrace(bo.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),i.addTrace(bo.existing_pairing),l.active)throw i.setError(qo.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);i.addTrace(bo.pairing_not_expired)}const d=c||Ht(xe.FIVE_MINUTES),h={topic:n,relay:a,expiry:d,active:!1,methods:u};this.core.expirer.set(n,d),await this.pairings.set(n,h),i.addTrace(bo.store_new_pairing),o.activatePairing&&await this.activate({topic:n}),this.events.emit(fs.create,h),i.addTrace(bo.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(s,n),i.addTrace(bo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(qo.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(b){throw i.setError(qo.subscribe_pairing_topic_failure),b}return i.addTrace(bo.subscribe_pairing_topic_success),h}),tt(this,"activate",async({topic:o})=>{this.isInitialized();const i=Ht(xe.FIVE_MINUTES);this.core.expirer.set(o,i),await this.pairings.update(o,{active:!0,expiry:i})}),tt(this,"ping",async o=>{this.isInitialized(),await this.isValidPing(o),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=o;if(this.pairings.keys.includes(i)){const n=await this.sendRequest(i,"wc_pairingPing",{}),{done:s,resolve:a,reject:c}=ss();this.events.once(gt("pairing_ping",n),({error:u})=>{u?c(u):a()}),await s()}}),tt(this,"updateExpiry",async({topic:o,expiry:i})=>{this.isInitialized(),await this.pairings.update(o,{expiry:i})}),tt(this,"updateMetadata",async({topic:o,metadata:i})=>{this.isInitialized(),await this.pairings.update(o,{peerMetadata:i})}),tt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),tt(this,"disconnect",async o=>{this.isInitialized(),await this.isValidDisconnect(o);const{topic:i}=o;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Bt("USER_DISCONNECTED")),await this.deletePairing(i))}),tt(this,"formatUriFromPairing",o=>{this.isInitialized();const{topic:i,relay:n,expiry:s,methods:a}=o,c=this.core.crypto.keychain.get(i);return rA({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:n,expiryTimestamp:s,methods:a})}),tt(this,"sendRequest",async(o,i,n)=>{const s=$i(i,n),a=await this.core.crypto.encode(o,s),c=Rc[i].req;return this.core.history.set(o,s),this.core.relayer.publish(o,a,c),s.id}),tt(this,"sendResult",async(o,i,n)=>{const s=Gh(o,n),a=await this.core.crypto.encode(i,s),c=(await this.core.history.get(i,o)).request.method,u=Rc[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(s)}),tt(this,"sendError",async(o,i,n)=>{const s=Kh(o,n),a=await this.core.crypto.encode(i,s),c=(await this.core.history.get(i,o)).request.method,u=Rc[c]?Rc[c].res:Rc.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(s)}),tt(this,"deletePairing",async(o,i)=>{await this.core.relayer.unsubscribe(o),await Promise.all([this.pairings.delete(o,Bt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(o),i?Promise.resolve():this.core.expirer.del(o)])}),tt(this,"cleanup",async()=>{const o=this.pairings.getAll().filter(i=>_i(i.expiry));await Promise.all(o.map(i=>this.deletePairing(i.topic)))}),tt(this,"onRelayEventRequest",async o=>{const{topic:i,payload:n}=o;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,n);default:return await this.onUnknownRpcMethodRequest(i,n)}}),tt(this,"onRelayEventResponse",async o=>{const{topic:i,payload:n}=o,s=(await this.core.history.get(i,n.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(i,n);default:return this.onUnknownRpcMethodResponse(s)}}),tt(this,"onPairingPingRequest",async(o,i)=>{const{id:n}=i;try{this.isValidPing({topic:o}),await this.sendResult(n,o,!0),this.events.emit(fs.ping,{id:n,topic:o})}catch(s){await this.sendError(n,o,s),this.logger.error(s)}}),tt(this,"onPairingPingResponse",(o,i)=>{const{id:n}=i;setTimeout(()=>{mo(i)?this.events.emit(gt("pairing_ping",n),{}):_n(i)&&this.events.emit(gt("pairing_ping",n),{error:i.error})},500)}),tt(this,"onPairingDeleteRequest",async(o,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:o}),await this.deletePairing(o),this.events.emit(fs.delete,{id:n,topic:o})}catch(s){await this.sendError(n,o,s),this.logger.error(s)}}),tt(this,"onUnknownRpcMethodRequest",async(o,i)=>{const{id:n,method:s}=i;try{if(this.registeredMethods.includes(s))return;const a=Bt("WC_METHOD_UNSUPPORTED",s);await this.sendError(n,o,a),this.logger.error(a)}catch(a){await this.sendError(n,o,a),this.logger.error(a)}}),tt(this,"onUnknownRpcMethodResponse",o=>{this.registeredMethods.includes(o)||this.logger.error(Bt("WC_METHOD_UNSUPPORTED",o))}),tt(this,"isValidPair",(o,i)=>{var n;if(!qr(o)){const{message:a}=me("MISSING_OR_INVALID",`pair() params: ${o}`);throw i.setError(qo.malformed_pairing_uri),new Error(a)}if(!yH(o.uri)){const{message:a}=me("MISSING_OR_INVALID",`pair() uri: ${o.uri}`);throw i.setError(qo.malformed_pairing_uri),new Error(a)}const s=tA(o?.uri);if(!((n=s?.relay)!=null&&n.protocol)){const{message:a}=me("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(qo.malformed_pairing_uri),new Error(a)}if(!(s!=null&&s.symKey)){const{message:a}=me("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(qo.malformed_pairing_uri),new Error(a)}if(s!=null&&s.expiryTimestamp&&xe.toMiliseconds(s?.expiryTimestamp)<Date.now()){i.setError(qo.pairing_expired);const{message:a}=me("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),tt(this,"isValidPing",async o=>{if(!qr(o)){const{message:n}=me("MISSING_OR_INVALID",`ping() params: ${o}`);throw new Error(n)}const{topic:i}=o;await this.isValidPairingTopic(i)}),tt(this,"isValidDisconnect",async o=>{if(!qr(o)){const{message:n}=me("MISSING_OR_INVALID",`disconnect() params: ${o}`);throw new Error(n)}const{topic:i}=o;await this.isValidPairingTopic(i)}),tt(this,"isValidPairingTopic",async o=>{if(!jt(o,!1)){const{message:i}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${o}`);throw new Error(i)}if(!this.pairings.keys.includes(o)){const{message:i}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${o}`);throw new Error(i)}if(_i(this.pairings.get(o).expiry)){await this.deletePairing(o);const{message:i}=me("EXPIRED",`pairing topic: ${o}`);throw new Error(i)}}),this.core=e,this.logger=Fr(t,this.name),this.pairings=new zs(this.core,this.logger,this.name,this.storagePrefix)}get context(){return en(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Qt.message,async e=>{const{topic:t,message:o,transportType:i}=e;if(this.pairings.keys.includes(t)&&i!==Pt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(o)))try{const n=await this.core.crypto.decode(t,o);g1(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):Zh(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,o)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(En.expired,async e=>{const{topic:t}=h6(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(fs.expire,{topic:t}))})}}var FY=Object.defineProperty,UY=(r,e,t)=>e in r?FY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sr=(r,e,t)=>UY(r,typeof e!="symbol"?e+"":e,t);class kY extends z${constructor(e,t){super(e,t),this.core=e,this.logger=t,sr(this,"records",new Map),sr(this,"events",new Nn.EventEmitter),sr(this,"name",LG),sr(this,"version",zG),sr(this,"cached",[]),sr(this,"initialized",!1),sr(this,"storagePrefix",So),sr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>this.records.set(o.id,o)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sr(this,"set",(o,i,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:o,request:i,chainId:n}),this.records.has(i.id))return;const s={id:i.id,topic:o,request:{method:i.method,params:i.params||null},chainId:n,expiry:Ht(xe.THIRTY_DAYS)};this.records.set(s.id,s),this.persist(),this.events.emit(Ln.created,s)}),sr(this,"resolve",async o=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:o}),!this.records.has(o.id))return;const i=await this.getRecord(o.id);typeof i.response>"u"&&(i.response=_n(o)?{error:o.error}:{result:o.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ln.updated,i))}),sr(this,"get",async(o,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:o,id:i}),await this.getRecord(i))),sr(this,"delete",(o,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(n=>{if(n.topic===o){if(typeof i<"u"&&n.id!==i)return;this.records.delete(n.id),this.events.emit(Ln.deleted,n)}}),this.persist()}),sr(this,"exists",async(o,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===o:!1)),sr(this,"on",(o,i)=>{this.events.on(o,i)}),sr(this,"once",(o,i)=>{this.events.once(o,i)}),sr(this,"off",(o,i)=>{this.events.off(o,i)}),sr(this,"removeListener",(o,i)=>{this.events.removeListener(o,i)}),this.logger=Fr(t,this.name)}get context(){return en(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const o={topic:t.topic,request:$i(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(o)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:o}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(o)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ln.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ln.created,e=>{const t=Ln.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ln.updated,e=>{const t=Ln.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ln.deleted,e=>{const t=Ln.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Ds.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{xe.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Ln.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var DY=Object.defineProperty,LY=(r,e,t)=>e in r?DY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mr=(r,e,t)=>LY(r,typeof e!="symbol"?e+"":e,t);class zY extends K${constructor(e,t){super(e,t),this.core=e,this.logger=t,mr(this,"expirations",new Map),mr(this,"events",new Nn.EventEmitter),mr(this,"name",qG),mr(this,"version",jG),mr(this,"cached",[]),mr(this,"initialized",!1),mr(this,"storagePrefix",So),mr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>this.expirations.set(o.target,o)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),mr(this,"has",o=>{try{const i=this.formatTarget(o);return typeof this.getExpiration(i)<"u"}catch{return!1}}),mr(this,"set",(o,i)=>{this.isInitialized();const n=this.formatTarget(o),s={target:n,expiry:i};this.expirations.set(n,s),this.checkExpiry(n,s),this.events.emit(En.created,{target:n,expiration:s})}),mr(this,"get",o=>{this.isInitialized();const i=this.formatTarget(o);return this.getExpiration(i)}),mr(this,"del",o=>{if(this.isInitialized(),this.has(o)){const i=this.formatTarget(o),n=this.getExpiration(i);this.expirations.delete(i),this.events.emit(En.deleted,{target:i,expiration:n})}}),mr(this,"on",(o,i)=>{this.events.on(o,i)}),mr(this,"once",(o,i)=>{this.events.once(o,i)}),mr(this,"off",(o,i)=>{this.events.off(o,i)}),mr(this,"removeListener",(o,i)=>{this.events.removeListener(o,i)}),this.logger=Fr(t,this.name)}get context(){return en(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return eq(e);if(typeof e=="number")return tq(e);const{message:t}=me("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(En.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:o}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(o),new Error(o)}return t}checkExpiry(e,t){const{expiry:o}=t;xe.toMiliseconds(o)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(En.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ds.pulse,()=>this.checkExpirations()),this.events.on(En.created,e=>{const t=En.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(En.expired,e=>{const t=En.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(En.deleted,e=>{const t=En.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qY=Object.defineProperty,jY=(r,e,t)=>e in r?qY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zt=(r,e,t)=>jY(r,typeof e!="symbol"?e+"":e,t);class VY extends Z${constructor(e,t,o){super(e,t,o),this.core=e,this.logger=t,this.store=o,zt(this,"name",VG),zt(this,"abortController"),zt(this,"isDevEnv"),zt(this,"verifyUrlV3",GG),zt(this,"storagePrefix",So),zt(this,"version",dB),zt(this,"publicKey"),zt(this,"fetchPromise"),zt(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&xe.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),zt(this,"register",async i=>{if(!lc()||this.isDevEnv)return;const n=window.location.origin,{id:s,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${s}&decryptedId=${a}`;try{const u=ai.getDocument(),l=this.startAbortTimer(xe.ONE_SECOND*5),d=await new Promise((h,b)=>{const y=()=>{window.removeEventListener("message",w),u.body.removeChild(g),b("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const g=u.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",y,{signal:this.abortController.signal});const w=I=>{if(I.data&&typeof I.data=="string")try{const P=JSON.parse(I.data);if(P.type==="verify_attestation"){if(ay(P.attestation).payload.id!==s)return;clearInterval(l),u.body.removeChild(g),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",w),h(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};u.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(u){this.logger.warn(u)}return""}),zt(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:n,hash:s,encryptedId:a}=i;if(n===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(n){if(ay(n).payload.id!==a)return;const u=await this.isValidJwtAttestation(n);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!s)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(s,c)}),zt(this,"fetchAttestation",async(i,n)=>{this.logger.debug(`resolving attestation: ${i} from url: ${n}`);const s=this.startAbortTimer(xe.ONE_SECOND*5),a=await fetch(`${n}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(s),a.status===200?await a.json():void 0}),zt(this,"getVerifyUrl",i=>{let n=i||Jc;return KG.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${Jc}`),n=Jc),n}),zt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(xe.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await n.json()}catch(i){this.logger.warn(i)}}),zt(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),zt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),zt(this,"isValidJwtAttestation",async i=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(i,n)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const s=await this.fetchAndPersistPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),zt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),zt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const s=await this.fetchPublicKey();s&&(await this.persistPublicKey(s),n(s))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),zt(this,"validateAttestation",(i,n)=>{const s=ZV(i,n.publicKey),a={hasExpired:xe.toMiliseconds(s.exp)<Date.now(),payload:s};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Fr(t,this.name),this.abortController=new AbortController,this.isDevEnv=e1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return en(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),xe.toMiliseconds(e))}}var HY=Object.defineProperty,GY=(r,e,t)=>e in r?HY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DA=(r,e,t)=>GY(r,typeof e!="symbol"?e+"":e,t);class KY extends Y${constructor(e,t){super(e,t),this.projectId=e,this.logger=t,DA(this,"context",ZG),DA(this,"registerDeviceToken",async o=>{const{clientId:i,token:n,notificationType:s,enableEncrypted:a=!1}=o,c=`${YG}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:s,token:n,always_raw:a})})}),this.logger=Fr(t,this.context)}}var ZY=Object.defineProperty,LA=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,JY=Object.prototype.propertyIsEnumerable,Fy=(r,e,t)=>e in r?ZY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$c=(r,e)=>{for(var t in e||(e={}))YY.call(e,t)&&Fy(r,t,e[t]);if(LA)for(var t of LA(e))JY.call(e,t)&&Fy(r,t,e[t]);return r},Zt=(r,e,t)=>Fy(r,typeof e!="symbol"?e+"":e,t);class XY extends J${constructor(e,t,o=!0){super(e,t,o),this.core=e,this.logger=t,Zt(this,"context",XG),Zt(this,"storagePrefix",So),Zt(this,"storageVersion",JG),Zt(this,"events",new Map),Zt(this,"shouldPersist",!1),Zt(this,"init",async()=>{if(!e1())try{const i={eventId:AT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:f6(this.core.relayer.protocol,this.core.relayer.version,_y)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Zt(this,"createEvent",i=>{const{event:n="ERROR",type:s="",properties:{topic:a,trace:c}}=i,u=AT(),l=this.core.projectId||"",d=Date.now(),h=$c({eventId:u,timestamp:d,props:{event:n,type:s,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,h),this.shouldPersist=!0),h}),Zt(this,"getEvent",i=>{const{eventId:n,topic:s}=i;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===s);if(a)return $c($c({},a),this.setMethods(a.eventId))}),Zt(this,"deleteEvent",i=>{const{eventId:n}=i;this.events.delete(n),this.shouldPersist=!0}),Zt(this,"setEventListeners",()=>{this.core.heartbeat.on(Ds.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{xe.fromMiliseconds(Date.now())-xe.fromMiliseconds(i.timestamp)>QG&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Zt(this,"setMethods",i=>({addTrace:n=>this.addTrace(i,n),setError:n=>this.setError(i,n)})),Zt(this,"addTrace",(i,n)=>{const s=this.events.get(i);s&&(s.props.properties.trace.push(n),this.events.set(i,s),this.shouldPersist=!0)}),Zt(this,"setError",(i,n)=>{const s=this.events.get(i);s&&(s.props.type=n,s.timestamp=Date.now(),this.events.set(i,s),this.shouldPersist=!0)}),Zt(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Zt(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(n=>{this.events.set(n.eventId,$c($c({},n),this.setMethods(n.eventId)))})}catch(i){this.logger.warn(i)}}),Zt(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[n,s]of this.events)s.props.type&&i.push(s);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const n of i)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),Zt(this,"sendEvent",async i=>{const n=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${eK}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_y}${n}`,{method:"POST",body:JSON.stringify(i)})}),Zt(this,"getAppDomain",()=>l6().url),this.logger=Fr(t,this.context),this.telemetryEnabled=o,o?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var QY=Object.defineProperty,zA=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,Uy=(r,e,t)=>e in r?QY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qA=(r,e)=>{for(var t in e||(e={}))eJ.call(e,t)&&Uy(r,t,e[t]);if(zA)for(var t of zA(e))tJ.call(e,t)&&Uy(r,t,e[t]);return r},Tt=(r,e,t)=>Uy(r,typeof e!="symbol"?e+"":e,t);let rJ=class BB extends U${constructor(e){var t;super(e),Tt(this,"protocol",fB),Tt(this,"version",dB),Tt(this,"name",Cy),Tt(this,"relayUrl"),Tt(this,"projectId"),Tt(this,"customStoragePrefix"),Tt(this,"events",new Nn.EventEmitter),Tt(this,"logger"),Tt(this,"heartbeat"),Tt(this,"relayer"),Tt(this,"crypto"),Tt(this,"storage"),Tt(this,"history"),Tt(this,"expirer"),Tt(this,"pairing"),Tt(this,"verify"),Tt(this,"echoClient"),Tt(this,"linkModeSupportedApps"),Tt(this,"eventClient"),Tt(this,"initialized",!1),Tt(this,"logChunkController"),Tt(this,"on",(a,c)=>this.events.on(a,c)),Tt(this,"once",(a,c)=>this.events.once(a,c)),Tt(this,"off",(a,c)=>this.events.off(a,c)),Tt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Tt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:Pt.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const o=this.getGlobalCore(e?.customStoragePrefix);if(o)try{return this.customStoragePrefix=o.customStoragePrefix,this.logger=o.logger,this.heartbeat=o.heartbeat,this.crypto=o.crypto,this.history=o.history,this.expirer=o.expirer,this.storage=o.storage,this.relayer=o.relayer,this.pairing=o.pairing,this.verify=o.verify,this.echoClient=o.echoClient,this.linkModeSupportedApps=o.linkModeSupportedApps,this.eventClient=o.eventClient,this.initialized=o.initialized,this.logChunkController=o.logChunkController,o}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||pB,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Nh({level:typeof e?.logger=="string"&&e.logger?e.logger:TG.logger,name:Cy}),{logger:n,chunkLoggerController:s}=N$({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Fr(n,this.name),this.heartbeat=new $N,this.crypto=new _Z(this,this.logger,e?.keychain),this.history=new kY(this,this.logger),this.expirer=new zY(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new w$(qA(qA({},AG),e?.storageOptions)),this.relayer=new rY({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new $Y(this,this.logger),this.verify=new VY(this,this.logger,this.storage),this.echoClient=new KY(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new XY(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new BB(e);await t.initialize();const o=await t.crypto.getClientId();return await t.storage.setItem($G,o),t}get context(){return en(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(TA,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(TA)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,o=`${t}_count`;return globalThis[o]=(globalThis[o]||0)+1,globalThis[o]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[o]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const o=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[o]=e}catch(o){console.warn("Failed to set global WalletConnect core",o)}}isGlobalCoreDisabled(){try{return typeof Wr<"u"&&vG.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const nJ=rJ,CB="wc",_B=2,SB="client",y1=`${CB}@${_B}:${SB}:`,wg={name:SB,logger:"error"},jA="WALLETCONNECT_DEEPLINK_CHOICE",oJ="proposal",VA="Proposal expired",iJ="session",ya=xe.SEVEN_DAYS,sJ="engine",Yt={wc_sessionPropose:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:xe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:xe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1119}}},mg={min:xe.FIVE_MINUTES,max:xe.SEVEN_DAYS},go={idle:"IDLE",active:"ACTIVE"},aJ={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},cJ="request",uJ=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],lJ="wc",fJ="auth",dJ="authKeys",hJ="pairingTopics",pJ="requests",Jh=`${lJ}@${1.5}:${fJ}:`,Cd=`${Jh}:PUB_KEY`;var gJ=Object.defineProperty,yJ=Object.defineProperties,bJ=Object.getOwnPropertyDescriptors,HA=Object.getOwnPropertySymbols,wJ=Object.prototype.hasOwnProperty,mJ=Object.prototype.propertyIsEnumerable,ky=(r,e,t)=>e in r?gJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Et=(r,e)=>{for(var t in e||(e={}))wJ.call(e,t)&&ky(r,t,e[t]);if(HA)for(var t of HA(e))mJ.call(e,t)&&ky(r,t,e[t]);return r},Dr=(r,e)=>yJ(r,bJ(e)),he=(r,e,t)=>ky(r,typeof e!="symbol"?e+"":e,t);class xJ extends tF{constructor(e){super(e),he(this,"name",sJ),he(this,"events",new kb),he(this,"initialized",!1),he(this,"requestQueue",{state:go.idle,queue:[]}),he(this,"sessionRequestQueue",{state:go.idle,queue:[]}),he(this,"emittedSessionRequests",new lq({limit:500})),he(this,"requestQueueDelay",xe.ONE_SECOND),he(this,"expectedPairingMethodMap",new Map),he(this,"recentlyDeletedMap",new Map),he(this,"recentlyDeletedLimit",200),he(this,"relayMessageCache",[]),he(this,"pendingSessions",new Map),he(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Yt)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay)))}),he(this,"connect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const o=Dr(Et({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(o),o.optionalNamespaces=fH(o.requiredNamespaces,o.optionalNamespaces),o.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:a,scopedProperties:c,relays:u}=o;let l=i,d,h=!1;try{if(l){const W=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=W.active}}catch(W){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),W}if(!l||!h){const{topic:W,uri:S}=await this.client.core.pairing.create();l=W,d=S}if(!l){const{message:W}=me("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(W)}const b=await this.client.core.crypto.generateKeyPair(),y=Yt.wc_sessionPropose.req.ttl||xe.FIVE_MINUTES,g=Ht(y),w=Dr(Et(Et({requiredNamespaces:n,optionalNamespaces:s,relays:u??[{protocol:hB}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:wo()}),I=gt("session_connect",w.id),{reject:P,resolve:B,done:M}=ss(y,VA),O=({id:W})=>{W===w.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(w.id),this.events.emit(I,{error:{message:VA,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(I,({error:W,session:S})=>{this.client.events.off("proposal_expire",O),W?P(W):S&&B(S)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:M}}),he(this,"pair",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(o){throw this.client.logger.error("pair() failed"),o}}),he(this,"approve",async t=>{var o,i,n;const s=this.client.core.eventClient.createEvent({properties:{topic:(o=t?.id)==null?void 0:o.toString(),trace:[zn.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(E){throw s.setError(ns.no_internet_connection),E}try{await this.isValidProposalId(t?.id)}catch(E){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),s.setError(ns.proposal_not_found),E}try{await this.isValidApprove(t)}catch(E){throw this.client.logger.error("approve() -> isValidApprove() failed"),s.setError(ns.session_approve_namespace_validation_failure),E}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:h}=t,b=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:s.eventId});const{pairingTopic:y,proposer:g,requiredNamespaces:w,optionalNamespaces:I}=b;let P=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:y});P||(P=(n=this.client.core.eventClient)==null?void 0:n.createEvent({type:zn.session_approve_started,properties:{topic:y,trace:[zn.session_approve_started,zn.session_namespaces_validation_success]}}));const B=await this.client.core.crypto.generateKeyPair(),M=g.publicKey,O=await this.client.core.crypto.generateSharedKey(B,M),W=Et(Et(Et({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:B,metadata:this.client.metadata},expiry:Ht(ya)},l&&{sessionProperties:l}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=Pt.relay;P.addTrace(zn.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:S})}catch(E){throw P.setError(ns.subscribe_session_topic_failure),E}P.addTrace(zn.subscribe_session_topic_success);const T=Dr(Et({},W),{topic:O,requiredNamespaces:w,optionalNamespaces:I,pairingTopic:y,acknowledged:!1,self:W.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:B,transportType:Pt.relay});await this.client.session.set(O,T),P.addTrace(zn.store_session);try{P.addTrace(zn.publishing_session_settle),await this.sendRequest({topic:O,method:"wc_sessionSettle",params:W,throwOnFailedPublish:!0}).catch(E=>{throw P?.setError(ns.session_settle_publish_failure),E}),P.addTrace(zn.session_settle_publish_success),P.addTrace(zn.publishing_session_approve),await this.sendResult({id:a,topic:y,result:{relay:{protocol:c??"irn"},responderPublicKey:B},throwOnFailedPublish:!0}).catch(E=>{throw P?.setError(ns.session_approve_publish_failure),E}),P.addTrace(zn.session_approve_publish_success)}catch(E){throw this.client.logger.error(E),this.client.session.delete(O,Bt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),E}return this.client.core.eventClient.deleteEvent({eventId:P.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(O,Ht(ya)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),he(this,"reject",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(s){throw this.client.logger.error("reject() -> isValidReject() failed"),s}const{id:o,reason:i}=t;let n;try{n=this.client.proposal.get(o).pairingTopic}catch(s){throw this.client.logger.error(`reject() -> proposal.get(${o}) failed`),s}n&&await this.sendError({id:o,topic:n,error:i,rpcOpts:Yt.wc_sessionPropose.reject}),await this.deleteProposal(o)}),he(this,"update",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:o,namespaces:i}=t,{done:n,resolve:s,reject:a}=ss(),c=wo(),u=vs().toString(),l=this.client.session.get(o).namespaces;return this.events.once(gt("session_update",c),({error:d})=>{d?a(d):s()}),await this.client.session.update(o,{namespaces:i}),await this.sendRequest({topic:o,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(d=>{this.client.logger.error(d),this.client.session.update(o,{namespaces:l}),a(d)}),{acknowledged:n}}),he(this,"extend",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:o}=t,i=wo(),{done:n,resolve:s,reject:a}=ss();return this.events.once(gt("session_extend",i),({error:c})=>{c?a(c):s()}),await this.setExpiry(o,Ht(ya)),this.sendRequest({topic:o,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:n}}),he(this,"request",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:o,request:i,topic:n,expiry:s=Yt.wc_sessionRequest.req.ttl}=t,a=this.client.session.get(n);a?.transportType===Pt.relay&&await this.confirmOnlineStateOrThrow();const c=wo(),u=vs().toString(),{done:l,resolve:d,reject:h}=ss(s,"Request expired. Please try again.");this.events.once(gt("session_request",c),({error:w,result:I})=>{w?h(w):d(I)});const b="wc_sessionRequest",y=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(y)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:n,method:b,params:{request:Dr(Et({},i),{expiryTimestamp:Ht(s)}),chainId:o},expiry:s,throwOnFailedPublish:!0,appLink:y}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:n,request:i,chainId:o,id:c}),await l();const g={request:Dr(Et({},i),{expiryTimestamp:Ht(s)}),chainId:o};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:n,method:b,params:g,expiry:s,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(I=>h(I)),this.client.events.emit("session_request_sent",{topic:n,request:i,chainId:o,id:c}),w()}),new Promise(async w=>{var I;if(!((I=a.sessionConfig)!=null&&I.disableDeepLink)){const P=await iq(this.client.core.storage,jA);await rq({id:c,topic:n,wcDeepLink:P})}w()}),l()]).then(w=>w[2])}),he(this,"respond",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:o,response:i}=t,{id:n}=i,s=this.client.session.get(o);s.transportType===Pt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);mo(i)?await this.sendResult({id:n,topic:o,result:i.result,throwOnFailedPublish:!0,appLink:a}):_n(i)&&await this.sendError({id:n,topic:o,error:i.error,appLink:a}),this.cleanupAfterResponse(t)}),he(this,"ping",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:o}=t;if(this.client.session.keys.includes(o)){const i=wo(),n=vs().toString(),{done:s,resolve:a,reject:c}=ss();this.events.once(gt("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:o,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:n}),s()])}else this.client.core.pairing.pairings.keys.includes(o)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:o}))}),he(this,"emit",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:o,event:i,chainId:n}=t,s=vs().toString(),a=wo();await this.sendRequest({topic:o,method:"wc_sessionEvent",params:{event:i,chainId:n},throwOnFailedPublish:!0,relayRpcId:s,clientRpcId:a})}),he(this,"disconnect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:o}=t;if(this.client.session.keys.includes(o))await this.sendRequest({topic:o,method:"wc_sessionDelete",params:Bt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:o,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(o))await this.client.core.pairing.disconnect({topic:o});else{const{message:i}=me("MISMATCHED_TOPIC",`Session or pairing topic not found: ${o}`);throw new Error(i)}}),he(this,"find",t=>(this.isInitialized(),this.client.session.getAll().filter(o=>pH(o,t)))),he(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),he(this,"authenticate",async(t,o)=>{var i;this.isInitialized(),this.isValidAuthenticate(t);const n=o&&this.client.core.linkModeSupportedApps.includes(o)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),s=n?Pt.link_mode:Pt.relay;s===Pt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:d,type:h,exp:b,nbf:y,methods:g=[],expiry:w}=t,I=[...t.resources||[]],{topic:P,uri:B}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:P,uri:B}});const M=await this.client.core.crypto.generateKeyPair(),O=Id(M);if(await Promise.all([this.client.auth.authKeys.set(Cd,{responseTopic:O,publicKey:M}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:P})]),await this.client.core.relayer.subscribe(O,{transportType:s}),this.client.logger.info(`sending request to new pairing topic: ${P}`),g.length>0){const{namespace:z}=ka(a[0]);let j=vj(z,"request",g);Pd(I)&&(j=Aj(j,I.pop())),I.push(j)}const W=w&&w>Yt.wc_sessionAuthenticate.req.ttl?w:Yt.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:d,iat:new Date().toISOString(),exp:b,nbf:y,resources:I},requester:{publicKey:M,metadata:this.client.metadata},expiryTimestamp:Ht(W)},T={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},E={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:P,proposer:{publicKey:M,metadata:this.client.metadata},expiryTimestamp:Ht(Yt.wc_sessionPropose.req.ttl),id:wo()},{done:C,resolve:N,reject:U}=ss(W,"Request expired"),D=wo(),L=gt("session_connect",E.id),x=gt("session_request",D),A=async({error:z,session:j})=>{this.events.off(x,R),z?U(z):j&&N({session:j})},R=async z=>{var j,Z,J;if(await this.deletePendingAuthRequest(D,{message:"fulfilled",code:0}),z.error){const Ee=Bt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return z.error.code===Ee.code?void 0:(this.events.off(L,A),U(z.error.message))}await this.deleteProposal(E.id),this.events.off(L,A);const{cacaos:oe,responder:ee}=z.result,te=[],ae=[];for(const Ee of oe){await MT({cacao:Ee,projectId:this.client.core.projectId})||(this.client.logger.error(Ee,"Signature verification failed"),U(Bt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ne}=Ee,Ue=Pd(Ne.resources),ze=[by(Ne.iss)],Fe=Kd(Ne.iss);if(Ue){const Re=NT(Ue),De=$T(Ue);te.push(...Re),ze.push(...De)}for(const Re of ze)ae.push(`${Re}:${Fe}`)}const ue=await this.client.core.crypto.generateSharedKey(M,ee.publicKey);let we;te.length>0&&(we={topic:ue,acknowledged:!0,self:{publicKey:M,metadata:this.client.metadata},peer:ee,controller:ee.publicKey,expiry:Ht(ya),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:P,namespaces:sA([...new Set(te)],[...new Set(ae)]),transportType:s},await this.client.core.relayer.subscribe(ue,{transportType:s}),await this.client.session.set(ue,we),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:ee.metadata}),we=this.client.session.get(ue)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(Z=ee.metadata.redirect)!=null&&Z.linkMode&&(J=ee.metadata.redirect)!=null&&J.universal&&o&&(this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.session.update(ue,{transportType:Pt.link_mode})),N({auths:oe,session:we})};this.events.once(L,A),this.events.once(x,R);let F;try{if(n){const z=$i("wc_sessionAuthenticate",S,D);this.client.core.history.set(P,z);const j=await this.client.core.crypto.encode("",z,{type:$u,encoding:Mi});F=id(o,P,j)}else await Promise.all([this.sendRequest({topic:P,method:"wc_sessionAuthenticate",params:S,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:D}),this.sendRequest({topic:P,method:"wc_sessionPropose",params:E,expiry:Yt.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:E.id})])}catch(z){throw this.events.off(L,A),this.events.off(x,R),z}return await this.setProposal(E.id,E),await this.setAuthRequest(D,{request:Dr(Et({},S),{verifyContext:{}}),pairingTopic:P,transportType:s}),{uri:F??B,response:C}}),he(this,"approveSessionAuthenticate",async t=>{const{id:o,auths:i}=t,n=this.client.core.eventClient.createEvent({properties:{topic:o.toString(),trace:[os.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw n.setError(Mc.no_internet_connection),w}const s=this.getPendingAuthRequest(o);if(!s)throw n.setError(Mc.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${o}`);const a=s.transportType||Pt.relay;a===Pt.relay&&await this.confirmOnlineStateOrThrow();const c=s.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=Id(c),d={type:ri,receiverPublicKey:c,senderPublicKey:u},h=[],b=[];for(const w of i){if(!await MT({cacao:w,projectId:this.client.core.projectId})){n.setError(Mc.invalid_cacao);const O=Bt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:o,topic:l,error:O,encodeOpts:d}),new Error(O.message)}n.addTrace(os.cacaos_verified);const{p:I}=w,P=Pd(I.resources),B=[by(I.iss)],M=Kd(I.iss);if(P){const O=NT(P),W=$T(P);h.push(...O),B.push(...W)}for(const O of B)b.push(`${O}:${M}`)}const y=await this.client.core.crypto.generateSharedKey(u,c);n.addTrace(os.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:y,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:s.requester.metadata},controller:c,expiry:Ht(ya),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:sA([...new Set(h)],[...new Set(b)]),transportType:a},n.addTrace(os.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:a})}catch(w){throw n.setError(Mc.subscribe_authenticated_session_topic_failure),w}n.addTrace(os.subscribe_authenticated_session_topic_success),await this.client.session.set(y,g),n.addTrace(os.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}n.addTrace(os.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:o,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,a)})}catch(w){throw n.setError(Mc.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(o,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:g}}),he(this,"rejectSessionAuthenticate",async t=>{this.isInitialized();const{id:o,reason:i}=t,n=this.getPendingAuthRequest(o);if(!n)throw new Error(`Could not find pending auth request with id ${o}`);n.transportType===Pt.relay&&await this.confirmOnlineStateOrThrow();const s=n.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Id(s),u={type:ri,receiverPublicKey:s,senderPublicKey:a};await this.sendError({id:o,topic:c,error:i,encodeOpts:u,rpcOpts:Yt.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(o,{message:"rejected",code:0}),await this.deleteProposal(o)}),he(this,"formatAuthMessage",t=>{this.isInitialized();const{request:o,iss:i}=t;return C6(o,i)}),he(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),he(this,"cleanupDuplicatePairings",async t=>{if(t.pairingTopic)try{const o=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(n=>{var s,a;return((s=n.peerMetadata)==null?void 0:s.url)&&((a=n.peerMetadata)==null?void 0:a.url)===t.peer.metadata.url&&n.topic&&n.topic!==o.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(n=>this.client.core.pairing.disconnect({topic:n.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(o){this.client.logger.error(o)}}),he(this,"deleteSession",async t=>{var o;const{topic:i,expirerHasDeleted:n=!1,emitEvent:s=!0,id:a=0}=t,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Bt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),n||this.client.core.expirer.del(i),this.client.core.storage.removeItem(jA).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Bt("USER_DISCONNECTED"))}),i===((o=this.sessionRequestQueue.queue[0])==null?void 0:o.topic)&&(this.sessionRequestQueue.state=go.idle),s&&this.client.events.emit("session_delete",{id:a,topic:i})}),he(this,"deleteProposal",async(t,o)=>{if(o)try{const i=this.client.proposal.get(t);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(ns.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,Bt("USER_DISCONNECTED")),o?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")}),he(this,"deletePendingSessionRequest",async(t,o,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,o),i?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(n=>n.id!==t),i&&(this.sessionRequestQueue.state=go.idle,this.client.events.emit("session_request_expire",{id:t}))}),he(this,"deletePendingAuthRequest",async(t,o,i=!1)=>{await Promise.all([this.client.auth.requests.delete(t,o),i?Promise.resolve():this.client.core.expirer.del(t)])}),he(this,"setExpiry",async(t,o)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,o),await this.client.session.update(t,{expiry:o}))}),he(this,"setProposal",async(t,o)=>{this.client.core.expirer.set(t,Ht(Yt.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,o)}),he(this,"setAuthRequest",async(t,o)=>{const{request:i,pairingTopic:n,transportType:s=Pt.relay}=o;this.client.core.expirer.set(t,i.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:t,pairingTopic:n,verifyContext:i.verifyContext,transportType:s})}),he(this,"setPendingSessionRequest",async t=>{const{id:o,topic:i,params:n,verifyContext:s}=t,a=n.request.expiryTimestamp||Ht(Yt.wc_sessionRequest.req.ttl);this.client.core.expirer.set(o,a),await this.client.pendingRequest.set(o,{id:o,topic:i,params:n,verifyContext:s})}),he(this,"sendRequest",async t=>{const{topic:o,method:i,params:n,expiry:s,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:d}=t,h=$i(i,n,c);let b;const y=!!l;try{const I=y?Mi:Jn;b=await this.client.core.crypto.encode(o,h,{encoding:I})}catch(I){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${o} failed`),I}let g;if(uJ.includes(i)){const I=Ao(JSON.stringify(h)),P=Ao(b);g=await this.client.core.verify.register({id:P,decryptedId:I})}const w=Yt[i].req;if(w.attestation=g,s&&(w.ttl=s),a&&(w.id=a),this.client.core.history.set(o,h),y){const I=id(l,o,b);await window.Linking.openURL(I,this.client.name)}else{const I=Yt[i].req;s&&(I.ttl=s),a&&(I.id=a),I.tvf=Dr(Et({},d),{correlationId:h.id}),u?(I.internal=Dr(Et({},I.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,b,I)):this.client.core.relayer.publish(o,b,I).catch(P=>this.client.logger.error(P))}return h.id}),he(this,"sendResult",async t=>{const{id:o,topic:i,result:n,throwOnFailedPublish:s,encodeOpts:a,appLink:c}=t,u=Gh(o,n);let l;const d=c&&typeof window?.Linking<"u";try{const y=d?Mi:Jn;l=await this.client.core.crypto.encode(i,u,Dr(Et({},a||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),y}let h,b;try{h=await this.client.core.history.get(i,o);const y=h.request;try{b=this.getTVFParams(o,y.params,n)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${o}) failed`),y}if(d){const y=id(c,i,l);await window.Linking.openURL(y,this.client.name)}else{const y=h.request.method,g=Yt[y].res;g.tvf=Dr(Et({},b),{correlationId:o}),s?(g.internal=Dr(Et({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,g)):this.client.core.relayer.publish(i,l,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(u)}),he(this,"sendError",async t=>{const{id:o,topic:i,error:n,encodeOpts:s,rpcOpts:a,appLink:c}=t,u=Kh(o,n);let l;const d=c&&typeof window?.Linking<"u";try{const b=d?Mi:Jn;l=await this.client.core.crypto.encode(i,u,Dr(Et({},s||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let h;try{h=await this.client.core.history.get(i,o)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${o}) failed`),b}if(d){const b=id(c,i,l);await window.Linking.openURL(b,this.client.name)}else{const b=h.request.method,y=a||Yt[b].res;this.client.core.relayer.publish(i,l,y)}await this.client.core.history.resolve(u)}),he(this,"cleanup",async()=>{const t=[],o=[];this.client.session.getAll().forEach(i=>{let n=!1;_i(i.expiry)&&(n=!0),this.client.core.crypto.keychain.has(i.topic)||(n=!0),n&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{_i(i.expiryTimestamp)&&o.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession({topic:i})),...o.map(i=>this.deleteProposal(i))])}),he(this,"onProviderMessageEvent",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),he(this,"onRelayEventRequest",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),he(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===go.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=go.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(o){this.client.logger.warn(o)}}this.requestQueue.state=go.idle}),he(this,"processRequest",async t=>{const{topic:o,payload:i,attestation:n,transportType:s,encryptedId:a}=t,c=i.method;if(!this.shouldIgnorePairingRequest({topic:o,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:o,payload:i,attestation:n,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(o,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(o,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(o,i);case"wc_sessionPing":return await this.onSessionPingRequest(o,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(o,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:o,payload:i,attestation:n,encryptedId:a,transportType:s});case"wc_sessionEvent":return await this.onSessionEventRequest(o,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:o,payload:i,attestation:n,encryptedId:a,transportType:s});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),he(this,"onRelayEventResponse",async t=>{const{topic:o,payload:i,transportType:n}=t,s=(await this.client.core.history.get(o,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(o,i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(o,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(o,i);case"wc_sessionExtend":return this.onSessionExtendResponse(o,i);case"wc_sessionPing":return this.onSessionPingResponse(o,i);case"wc_sessionRequest":return this.onSessionRequestResponse(o,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(o,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}}),he(this,"onRelayEventUnknownPayload",t=>{const{topic:o}=t,{message:i}=me("MISSING_OR_INVALID",`Decoded payload on topic ${o} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),he(this,"shouldIgnorePairingRequest",t=>{const{topic:o,requestMethod:i}=t,n=this.expectedPairingMethodMap.get(o);return!n||n.includes(i)?!1:!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),he(this,"onSessionProposeRequest",async t=>{const{topic:o,payload:i,attestation:n,encryptedId:s}=t,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:o});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(qo.proposal_listener_not_found)),this.isValidConnect(Et({},i.params));const l=a.expiryTimestamp||Ht(Yt.wc_sessionPropose.req.ttl),d=Et({id:c,pairingTopic:o,expiryTimestamp:l,attestation:n,encryptedId:s},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:n,hash:Ao(JSON.stringify(i)),encryptedId:s,metadata:d.proposer.metadata});u?.addTrace(bo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(u){await this.sendError({id:c,topic:o,error:u,rpcOpts:Yt.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),he(this,"onSessionProposeResponse",async(t,o,i)=>{const{id:n}=o;if(mo(o)){const{result:s}=o;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const a=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(n,{sessionTopic:l,pairingTopic:t,proposalId:n,publicKey:c});const d=await this.client.core.relayer.subscribe(l,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:t})}else if(_n(o)){await this.deleteProposal(n);const s=gt("session_connect",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(s,{error:o.error})}}),he(this,"onSessionSettleRequest",async(t,o)=>{const{id:i,params:n}=o;try{this.isValidSessionSettleRequest(n);const{relay:s,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:h}=o.params,b=[...this.pendingSessions.values()].find(w=>w.sessionTopic===t);if(!b)return this.client.logger.error(`Pending session not found for topic ${t}`);const y=this.client.proposal.get(b.proposalId),g=Dr(Et(Et(Et({topic:t,relay:s,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:a.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Pt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(gt("session_connect",b.proposalId),{session:g}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:o.id,topic:t,result:!0})}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}}),he(this,"onSessionSettleResponse",async(t,o)=>{const{id:i}=o;mo(o)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(gt("session_approve",i),{})):_n(o)&&(await this.client.session.delete(t,Bt("USER_DISCONNECTED")),this.events.emit(gt("session_approve",i),{error:o.error}))}),he(this,"onSessionUpdateRequest",async(t,o)=>{const{params:i,id:n}=o;try{const s=`${t}_session_update`,a=Oc.get(s);if(a&&this.isRequestOutOfSync(a,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:t,error:Bt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Et({topic:t},i));try{Oc.set(s,n),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:n,topic:t,result:!0})}catch(c){throw Oc.delete(s),c}this.client.events.emit("session_update",{id:n,topic:t,params:i})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}}),he(this,"isRequestOutOfSync",(t,o)=>o.toString().slice(0,-3)<t.toString().slice(0,-3)),he(this,"onSessionUpdateResponse",(t,o)=>{const{id:i}=o,n=gt("session_update",i);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);mo(o)?this.events.emit(gt("session_update",i),{}):_n(o)&&this.events.emit(gt("session_update",i),{error:o.error})}),he(this,"onSessionExtendRequest",async(t,o)=>{const{id:i}=o;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Ht(ya)),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(n){await this.sendError({id:i,topic:t,error:n}),this.client.logger.error(n)}}),he(this,"onSessionExtendResponse",(t,o)=>{const{id:i}=o,n=gt("session_extend",i);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);mo(o)?this.events.emit(gt("session_extend",i),{}):_n(o)&&this.events.emit(gt("session_extend",i),{error:o.error})}),he(this,"onSessionPingRequest",async(t,o)=>{const{id:i}=o;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(n){await this.sendError({id:i,topic:t,error:n}),this.client.logger.error(n)}}),he(this,"onSessionPingResponse",(t,o)=>{const{id:i}=o,n=gt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners 2176`);mo(o)?this.events.emit(gt("session_ping",i),{}):_n(o)&&this.events.emit(gt("session_ping",i),{error:o.error})},500)}),he(this,"onSessionDeleteRequest",async(t,o)=>{const{id:i}=o;try{this.isValidDisconnect({topic:t,reason:o.params}),Promise.all([new Promise(n=>{this.client.core.relayer.once(Qt.publish,async()=>{n(await this.deleteSession({topic:t,id:i}))})}),this.sendResult({id:i,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:Bt("USER_DISCONNECTED")})]).catch(n=>this.client.logger.error(n))}catch(n){this.client.logger.error(n)}}),he(this,"onSessionRequest",async t=>{var o,i,n;const{topic:s,payload:a,attestation:c,encryptedId:u,transportType:l}=t,{id:d,params:h}=a;try{await this.isValidRequest(Et({topic:s},h));const b=this.client.session.get(s),y=await this.getVerifyContext({attestationId:c,hash:Ao(JSON.stringify($i("wc_sessionRequest",h,d))),encryptedId:u,metadata:b.peer.metadata,transportType:l}),g={id:d,topic:s,params:h,verifyContext:y};await this.setPendingSessionRequest(g),l===Pt.link_mode&&(o=b.peer.metadata.redirect)!=null&&o.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(n=this.client.signConfig)!=null&&n.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(b){await this.sendError({id:d,topic:s,error:b}),this.client.logger.error(b)}}),he(this,"onSessionRequestResponse",(t,o)=>{const{id:i}=o,n=gt("session_request",i);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);mo(o)?this.events.emit(gt("session_request",i),{result:o.result}):_n(o)&&this.events.emit(gt("session_request",i),{error:o.error})}),he(this,"onSessionEventRequest",async(t,o)=>{const{id:i,params:n}=o;try{const s=`${t}_session_event_${n.event.name}`,a=Oc.get(s);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Et({topic:t},n)),this.client.events.emit("session_event",{id:i,topic:t,params:n}),Oc.set(s,i)}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}}),he(this,"onSessionAuthenticateResponse",(t,o)=>{const{id:i}=o;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:o}),mo(o)?this.events.emit(gt("session_request",i),{result:o.result}):_n(o)&&this.events.emit(gt("session_request",i),{error:o.error})}),he(this,"onSessionAuthenticateRequest",async t=>{var o;const{topic:i,payload:n,attestation:s,encryptedId:a,transportType:c}=t;try{const{requester:u,authPayload:l,expiryTimestamp:d}=n.params,h=await this.getVerifyContext({attestationId:s,hash:Ao(JSON.stringify(n)),encryptedId:a,metadata:u.metadata,transportType:c}),b={requester:u,pairingTopic:i,id:n.id,authPayload:l,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(n.id,{request:b,pairingTopic:i,transportType:c}),c===Pt.link_mode&&(o=u.metadata.redirect)!=null&&o.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:n.params,id:n.id,verifyContext:h})}catch(u){this.client.logger.error(u);const l=n.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(n.params.requester.metadata,c),b={type:ri,receiverPublicKey:l,senderPublicKey:d};await this.sendError({id:n.id,topic:i,error:u,encodeOpts:b,rpcOpts:Yt.wc_sessionAuthenticate.autoReject,appLink:h})}}),he(this,"addSessionRequestToSessionRequestQueue",t=>{this.sessionRequestQueue.queue.push(t)}),he(this,"cleanupAfterResponse",t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=go.idle,this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay))}),he(this,"cleanupPendingSentRequestsForTopic",({topic:t,error:o})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(n=>n.topic===t&&n.request.method==="wc_sessionRequest").forEach(n=>{const s=n.request.id,a=gt("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(gt("session_request",n.request.id),{error:o})})}),he(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===go.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(t)}catch(o){this.client.logger.error(o)}}),he(this,"emitSessionRequest",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=go.active,this.emittedSessionRequests.add(t.id),this.client.events.emit("session_request",t)}),he(this,"onPairingCreated",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const o=this.client.proposal.getAll().find(i=>i.pairingTopic===t.topic);o&&this.onSessionProposeRequest({topic:t.topic,payload:$i("wc_sessionPropose",Dr(Et({},o),{requiredNamespaces:o.requiredNamespaces,optionalNamespaces:o.optionalNamespaces,relays:o.relays,proposer:o.proposer,sessionProperties:o.sessionProperties,scopedProperties:o.scopedProperties}),o.id),attestation:o.attestation,encryptedId:o.encryptedId})}),he(this,"isValidConnect",async t=>{if(!qr(t)){const{message:u}=me("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(u)}const{pairingTopic:o,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:s,scopedProperties:a,relays:c}=t;if(ar(o)||await this.isValidPairingTopic(o),!IH(c)){const{message:u}=me("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!ar(i)&&Co(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!ar(n)&&Co(n)!==0&&this.validateNamespaces(n,"optionalNamespaces"),ar(s)||this.validateSessionProps(s,"sessionProperties"),!ar(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(n||{}));if(!Object.keys(a).every(l=>u.includes(l.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),he(this,"validateNamespaces",(t,o)=>{const i=PH(t,"connect()",o);if(i)throw new Error(i.message)}),he(this,"isValidApprove",async t=>{if(!qr(t))throw new Error(me("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:o,namespaces:i,relayProtocol:n,sessionProperties:s,scopedProperties:a}=t;this.checkRecentlyDeleted(o),await this.isValidProposalId(o);const c=this.client.proposal.get(o),u=fg(i,"approve()");if(u)throw new Error(u.message);const l=uA(c.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!jt(n,!0)){const{message:d}=me("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(d)}if(ar(s)||this.validateSessionProps(s,"sessionProperties"),!ar(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),he(this,"isValidReject",async t=>{if(!qr(t)){const{message:n}=me("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(n)}const{id:o,reason:i}=t;if(this.checkRecentlyDeleted(o),await this.isValidProposalId(o),!CH(i)){const{message:n}=me("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(n)}}),he(this,"isValidSessionSettleRequest",t=>{if(!qr(t)){const{message:u}=me("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(u)}const{relay:o,controller:i,namespaces:n,expiry:s}=t;if(!iB(o)){const{message:u}=me("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=mH(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=fg(n,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(_i(s)){const{message:u}=me("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),he(this,"isValidUpdate",async t=>{if(!qr(t)){const{message:c}=me("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}const{topic:o,namespaces:i}=t;this.checkRecentlyDeleted(o),await this.isValidSessionTopic(o);const n=this.client.session.get(o),s=fg(i,"update()");if(s)throw new Error(s.message);const a=uA(n.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),he(this,"isValidExtend",async t=>{if(!qr(t)){const{message:i}=me("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}const{topic:o}=t;this.checkRecentlyDeleted(o),await this.isValidSessionTopic(o)}),he(this,"isValidRequest",async t=>{if(!qr(t)){const{message:c}=me("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(c)}const{topic:o,request:i,chainId:n,expiry:s}=t;this.checkRecentlyDeleted(o),await this.isValidSessionTopic(o);const{namespaces:a}=this.client.session.get(o);if(!cA(a,n)){const{message:c}=me("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(c)}if(!_H(i)){const{message:c}=me("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!OH(a,n,i.method)){const{message:c}=me("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(s&&!$H(s,mg)){const{message:c}=me("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${mg.min} and ${mg.max}`);throw new Error(c)}}),he(this,"isValidRespond",async t=>{var o;if(!qr(t)){const{message:s}=me("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}const{topic:i,response:n}=t;try{await this.isValidSessionTopic(i)}catch(s){throw(o=t?.response)!=null&&o.id&&this.cleanupAfterResponse(t),s}if(!SH(n)){const{message:s}=me("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}}),he(this,"isValidPing",async t=>{if(!qr(t)){const{message:i}=me("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}const{topic:o}=t;await this.isValidSessionOrPairingTopic(o)}),he(this,"isValidEmit",async t=>{if(!qr(t)){const{message:a}=me("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}const{topic:o,event:i,chainId:n}=t;await this.isValidSessionTopic(o);const{namespaces:s}=this.client.session.get(o);if(!cA(s,n)){const{message:a}=me("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(a)}if(!WH(i)){const{message:a}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!RH(s,n,i.name)){const{message:a}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),he(this,"isValidDisconnect",async t=>{if(!qr(t)){const{message:i}=me("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}const{topic:o}=t;await this.isValidSessionOrPairingTopic(o)}),he(this,"isValidAuthenticate",t=>{const{chains:o,uri:i,domain:n,nonce:s}=t;if(!Array.isArray(o)||o.length===0)throw new Error("chains is required and must be a non-empty array");if(!jt(i,!1))throw new Error("uri is required parameter");if(!jt(n,!1))throw new Error("domain is required parameter");if(!jt(s,!1))throw new Error("nonce is required parameter");if([...new Set(o.map(c=>ka(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=ka(o[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),he(this,"getVerifyContext",async t=>{const{attestationId:o,hash:i,encryptedId:n,metadata:s,transportType:a}=t,c={verified:{verifyUrl:s.verifyUrl||Jc,validation:"UNKNOWN",origin:s.url||""}};try{if(a===Pt.link_mode){const l=this.getAppLinkIfEnabled(s,a);return c.verified.validation=l&&new URL(l).origin===new URL(s.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:o,hash:i,encryptedId:n,verifyUrl:s.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),he(this,"validateSessionProps",(t,o)=>{Object.values(t).forEach((i,n)=>{if(i==null){const{message:s}=me("MISSING_OR_INVALID",`${o} must contain an existing value for each key. Received: ${i} for key ${Object.keys(t)[n]}`);throw new Error(s)}})}),he(this,"getPendingAuthRequest",t=>{const o=this.client.auth.requests.get(t);return typeof o=="object"?o:void 0}),he(this,"addToRecentlyDeleted",(t,o)=>{if(this.recentlyDeletedMap.set(t,o),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const n=this.recentlyDeletedLimit/2;for(const s of this.recentlyDeletedMap.keys()){if(i++>=n)break;this.recentlyDeletedMap.delete(s)}}}),he(this,"checkRecentlyDeleted",t=>{const o=this.recentlyDeletedMap.get(t);if(o){const{message:i}=me("MISSING_OR_INVALID",`Record was recently deleted - ${o}: ${t}`);throw new Error(i)}}),he(this,"isLinkModeEnabled",(t,o)=>{var i,n,s,a,c,u,l,d,h;return!t||o!==Pt.link_mode?!1:((n=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:n.linkMode)===!0&&((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=t?.redirect)==null?void 0:l.universal)!==void 0&&((d=t?.redirect)==null?void 0:d.universal)!==""&&((h=t?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof window?.Linking<"u"}),he(this,"getAppLinkIfEnabled",(t,o)=>{var i;return this.isLinkModeEnabled(t,o)?(i=t?.redirect)==null?void 0:i.universal:void 0}),he(this,"handleLinkModeMessage",({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const o=TT(t,"topic")||"",i=decodeURIComponent(TT(t,"wc_ev")||""),n=this.client.session.keys.includes(o);n&&this.client.session.update(o,{transportType:Pt.link_mode}),this.client.core.dispatchEnvelope({topic:o,message:i,sessionExists:n})}),he(this,"registerLinkModeListeners",async()=>{var t;if(e1()||Gi()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const o=window?.Linking;if(typeof o<"u"){o.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await o.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),he(this,"getTVFParams",(t,o,i)=>{var n,s,a;if(!((n=o.request)!=null&&n.method))return{};const c={correlationId:t,rpcMethods:[o.request.method],chainId:o.chainId};try{const u=this.extractTxHashesFromResult(o.request,i);c.txHashes=u,c.contractAddresses=this.isValidContractData(o.request.params)?[(a=(s=o.request.params)==null?void 0:s[0])==null?void 0:a.to]:[]}catch(u){this.client.logger.warn("Error getting TVF params",u)}return c}),he(this,"isValidContractData",t=>{var o;if(!t)return!1;try{const i=t?.data||((o=t?.[0])==null?void 0:o.data);if(!i.startsWith("0x"))return!1;const n=i.slice(2);return/^[0-9a-fA-F]*$/.test(n)?n.length%2===0:!1}catch{}return!1}),he(this,"extractTxHashesFromResult",(t,o)=>{var i;try{if(!o)return[];const n=t.method,s=aJ[n];if(n==="sui_signTransaction")return[ij(o.transactionBytes)];if(n==="near_signTransaction")return[ST(o)];if(n==="near_signTransactions")return o.map(c=>ST(c));if(n==="xrpl_signTransactionFor"||n==="xrpl_signTransaction")return[(i=o.tx_json)==null?void 0:i.hash];if(n==="polkadot_signTransaction")return[JH({transaction:t.params.transactionPayload,signature:o.signature})];if(n==="algo_signTxn")return ni(o)?o.map(c=>WT(c)):[WT(o)];if(n==="cosmos_signDirect")return[aj(o)];if(typeof o=="string")return[o];const a=o[s.key];if(ni(a))return n==="solana_signAllTransactions"?a.map(c=>oj(c)):a;if(typeof a=="string")return[a]}catch(n){this.client.logger.warn("Error extracting tx hashes from result",n)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[o,i]of Object.entries(t))for(const n of i)try{await this.onProviderMessageEvent({topic:o,message:n,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${o}, message: ${n}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Qt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:o,attestation:i,transportType:n}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(Cd)?this.client.auth.authKeys.get(Cd):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(t,o,{receiverPublicKey:s,encoding:n===Pt.link_mode?Mi:Jn});g1(a)?(this.client.core.history.set(t,a),await this.onRelayEventRequest({topic:t,payload:a,attestation:i,transportType:n,encryptedId:Ao(o)})):Zh(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:t,payload:a,transportType:n}),this.client.core.history.delete(t,a.id)):await this.onRelayEventUnknownPayload({topic:t,payload:a,transportType:n}),await this.client.core.relayer.messages.ack(t,o)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(En.expired,async e=>{const{topic:t,id:o}=h6(e.target);if(o&&this.client.pendingRequest.keys.includes(o))return await this.deletePendingSessionRequest(o,me("EXPIRED"),!0);if(o&&this.client.auth.requests.keys.includes(o))return await this.deletePendingAuthRequest(o,me("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):o&&(await this.deleteProposal(o,!0),this.client.events.emit("proposal_expire",{id:o}))})}registerPairingEvents(){this.client.core.pairing.events.on(fs.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(fs.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!jt(e,!1)){const{message:t}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(_i(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=me("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!jt(e,!1)){const{message:t}=me("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=me("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(_i(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=me("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=me("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(jt(e,!1)){const{message:t}=me("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=me("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!BH(e)){const{message:t}=me("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=me("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(_i(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=me("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class vJ extends zs{constructor(e,t){super(e,t,oJ,y1),this.core=e,this.logger=t}}let TJ=class extends zs{constructor(e,t){super(e,t,iJ,y1),this.core=e,this.logger=t}};class AJ extends zs{constructor(e,t){super(e,t,cJ,y1,o=>o.id),this.core=e,this.logger=t}}class EJ extends zs{constructor(e,t){super(e,t,dJ,Jh,()=>Cd),this.core=e,this.logger=t}}class PJ extends zs{constructor(e,t){super(e,t,hJ,Jh),this.core=e,this.logger=t}}class IJ extends zs{constructor(e,t){super(e,t,pJ,Jh,o=>o.id),this.core=e,this.logger=t}}var BJ=Object.defineProperty,CJ=(r,e,t)=>e in r?BJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xg=(r,e,t)=>CJ(r,typeof e!="symbol"?e+"":e,t);class _J{constructor(e,t){this.core=e,this.logger=t,xg(this,"authKeys"),xg(this,"pairingTopics"),xg(this,"requests"),this.authKeys=new EJ(this.core,this.logger),this.pairingTopics=new PJ(this.core,this.logger),this.requests=new IJ(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var SJ=Object.defineProperty,WJ=(r,e,t)=>e in r?SJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rt=(r,e,t)=>WJ(r,typeof e!="symbol"?e+"":e,t);let OJ=class WB extends eF{constructor(e){super(e),rt(this,"protocol",CB),rt(this,"version",_B),rt(this,"name",wg.name),rt(this,"metadata"),rt(this,"core"),rt(this,"logger"),rt(this,"events",new Nn.EventEmitter),rt(this,"engine"),rt(this,"session"),rt(this,"proposal"),rt(this,"pendingRequest"),rt(this,"auth"),rt(this,"signConfig"),rt(this,"on",(o,i)=>this.events.on(o,i)),rt(this,"once",(o,i)=>this.events.once(o,i)),rt(this,"off",(o,i)=>this.events.off(o,i)),rt(this,"removeListener",(o,i)=>this.events.removeListener(o,i)),rt(this,"removeAllListeners",o=>this.events.removeAllListeners(o)),rt(this,"connect",async o=>{try{return await this.engine.connect(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"pair",async o=>{try{return await this.engine.pair(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"approve",async o=>{try{return await this.engine.approve(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"reject",async o=>{try{return await this.engine.reject(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"update",async o=>{try{return await this.engine.update(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"extend",async o=>{try{return await this.engine.extend(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"request",async o=>{try{return await this.engine.request(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"respond",async o=>{try{return await this.engine.respond(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"ping",async o=>{try{return await this.engine.ping(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"emit",async o=>{try{return await this.engine.emit(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"disconnect",async o=>{try{return await this.engine.disconnect(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"find",o=>{try{return this.engine.find(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(o){throw this.logger.error(o.message),o}}),rt(this,"authenticate",async(o,i)=>{try{return await this.engine.authenticate(o,i)}catch(n){throw this.logger.error(n.message),n}}),rt(this,"formatAuthMessage",o=>{try{return this.engine.formatAuthMessage(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"approveSessionAuthenticate",async o=>{try{return await this.engine.approveSessionAuthenticate(o)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"rejectSessionAuthenticate",async o=>{try{return await this.engine.rejectSessionAuthenticate(o)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||wg.name,this.metadata=Yz(e?.metadata),this.signConfig=e?.signConfig;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Cu(Nh({level:e?.logger||wg.logger}));this.core=e?.core||new nJ(e),this.logger=Fr(t,this.name),this.session=new TJ(this.core,this.logger),this.proposal=new vJ(this.core,this.logger),this.pendingRequest=new AJ(this.core,this.logger),this.engine=new xJ(this),this.auth=new _J(this.core,this.logger)}static async init(e){const t=new WB(e);return await t.initialize(),t}get context(){return en(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var ad={exports:{}},GA;function RJ(){return GA||(GA=1,function(r,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window,o=function(){function n(){this.fetch=!1,this.DOMException=t.DOMException}return n.prototype=t,new n}();(function(n){(function(s){var a=typeof n<"u"&&n||typeof self<"u"&&self||typeof window<"u"&&window||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(x){return x&&DataView.prototype.isPrototypeOf(x)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(x){return x&&l.indexOf(Object.prototype.toString.call(x))>-1};function h(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function b(x){return typeof x!="string"&&(x=String(x)),x}function y(x){var A={next:function(){var R=x.shift();return{done:R===void 0,value:R}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function g(x){this.map={},x instanceof g?x.forEach(function(A,R){this.append(R,A)},this):Array.isArray(x)?x.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(A){this.append(A,x[A])},this)}g.prototype.append=function(x,A){x=h(x),A=b(A);var R=this.map[x];this.map[x]=R?R+", "+A:A},g.prototype.delete=function(x){delete this.map[h(x)]},g.prototype.get=function(x){return x=h(x),this.has(x)?this.map[x]:null},g.prototype.has=function(x){return this.map.hasOwnProperty(h(x))},g.prototype.set=function(x,A){this.map[h(x)]=b(A)},g.prototype.forEach=function(x,A){for(var R in this.map)this.map.hasOwnProperty(R)&&x.call(A,this.map[R],R,this)},g.prototype.keys=function(){var x=[];return this.forEach(function(A,R){x.push(R)}),y(x)},g.prototype.values=function(){var x=[];return this.forEach(function(A){x.push(A)}),y(x)},g.prototype.entries=function(){var x=[];return this.forEach(function(A,R){x.push([R,A])}),y(x)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function I(x){return new Promise(function(A,R){x.onload=function(){A(x.result)},x.onerror=function(){R(x.error)}})}function P(x){var A=new FileReader,R=I(A);return A.readAsArrayBuffer(x),R}function B(x){var A=new FileReader,R=I(A),F=/charset=([A-Za-z0-9_-]+)/.exec(x.type),z=F?F[1]:"utf-8";return A.readAsText(x,z),R}function M(x){for(var A=new Uint8Array(x),R=new Array(A.length),F=0;F<A.length;F++)R[F]=String.fromCharCode(A[F]);return R.join("")}function O(x){if(x.slice)return x.slice(0);var A=new Uint8Array(x.byteLength);return A.set(new Uint8Array(x)),A.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:c.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:c.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():c.arrayBuffer&&c.blob&&u(x)?(this._bodyArrayBuffer=O(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||d(x))?this._bodyArrayBuffer=O(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=w(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(P);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(x){var A=x.toUpperCase();return S.indexOf(A)>-1?A:x}function E(x,A){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var R=A.body;if(x instanceof E){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,A.headers||(this.headers=new g(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!R&&x._bodyInit!=null&&(R=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new g(A.headers)),this.method=T(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var F=/([?&])_=[^&]*/;if(F.test(this.url))this.url=this.url.replace(F,"$1_="+new Date().getTime());else{var z=/\?/;this.url+=(z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function C(x){var A=new FormData;return x.trim().split("&").forEach(function(R){if(R){var F=R.split("="),z=F.shift().replace(/\+/g," "),j=F.join("=").replace(/\+/g," ");A.append(decodeURIComponent(z),decodeURIComponent(j))}}),A}function N(x){var A=new g,R=x.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(F){return F.indexOf(`
`)===0?F.substr(1,F.length):F}).forEach(function(F){var z=F.split(":"),j=z.shift().trim();if(j){var Z=z.join(":").trim();try{A.append(j,Z)}catch(J){console.warn("Response "+J.message)}}}),A}W.call(E.prototype);function U(x,A){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new g(A.headers),this.url=A.url||"",this._initBody(x)}W.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},U.error=function(){var x=new U(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var D=[301,302,303,307,308];U.redirect=function(x,A){if(D.indexOf(A)===-1)throw new RangeError("Invalid status code");return new U(null,{status:A,headers:{location:x}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(A,R){this.message=A,this.name=R;var F=Error(A);this.stack=F.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function L(x,A){return new Promise(function(R,F){var z=new E(x,A);if(z.signal&&z.signal.aborted)return F(new s.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function Z(){j.abort()}j.onload=function(){var ee={statusText:j.statusText,headers:N(j.getAllResponseHeaders()||"")};z.url.indexOf("file://")===0&&(j.status<200||j.status>599)?ee.status=200:ee.status=j.status,ee.url="responseURL"in j?j.responseURL:ee.headers.get("X-Request-URL");var te="response"in j?j.response:j.responseText;setTimeout(function(){R(new U(te,ee))},0)},j.onerror=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){F(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){F(new s.DOMException("Aborted","AbortError"))},0)};function J(ee){try{return ee===""&&a.location.href?a.location.href:ee}catch{return ee}}if(j.open(z.method,J(z.url),!0),z.credentials==="include"?j.withCredentials=!0:z.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof g||a.Headers&&A.headers instanceof a.Headers)){var oe=[];Object.getOwnPropertyNames(A.headers).forEach(function(ee){oe.push(h(ee)),j.setRequestHeader(ee,b(A.headers[ee]))}),z.headers.forEach(function(ee,te){oe.indexOf(te)===-1&&j.setRequestHeader(te,ee)})}else z.headers.forEach(function(ee,te){j.setRequestHeader(te,ee)});z.signal&&(z.signal.addEventListener("abort",Z),j.onreadystatechange=function(){j.readyState===4&&z.signal.removeEventListener("abort",Z)}),j.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return L.polyfill=!0,a.fetch||(a.fetch=L,a.Headers=g,a.Request=E,a.Response=U),s.Headers=g,s.Request=E,s.Response=U,s.fetch=L,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=t.fetch?t:o;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e}(ad,ad.exports)),ad.exports}var MJ=RJ();const KA=$s(MJ);var NJ=Object.defineProperty,$J=Object.defineProperties,FJ=Object.getOwnPropertyDescriptors,ZA=Object.getOwnPropertySymbols,UJ=Object.prototype.hasOwnProperty,kJ=Object.prototype.propertyIsEnumerable,YA=(r,e,t)=>e in r?NJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,JA=(r,e)=>{for(var t in e||(e={}))UJ.call(e,t)&&YA(r,t,e[t]);if(ZA)for(var t of ZA(e))kJ.call(e,t)&&YA(r,t,e[t]);return r},XA=(r,e)=>$J(r,FJ(e));const DJ={Accept:"application/json","Content-Type":"application/json"},LJ="POST",QA={headers:DJ,method:LJ},eE=10;let so=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new Nn.EventEmitter,this.isAvailable=!1,this.registering=!1,!yA(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=si(e),o=await(await KA(this.url,XA(JA({},QA),{body:t}))).json();this.onPayload({data:o})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!yA(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((o,i)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),i(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));o()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=si({id:1,jsonrpc:"2.0",method:"test",params:[]});await KA(e,XA(JA({},QA),{body:t}))}this.onOpen()}catch(t){const o=this.parseError(t);throw this.events.emit("register_error",o),this.onClose(),o}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Ws(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const o=this.parseError(t),i=o.message||o.toString(),n=Kh(e,i);this.events.emit("payload",n)}parseError(e,t=this.url){return cB(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>eE&&this.events.setMaxListeners(eE)}};const tE="error",zJ="wss://relay.walletconnect.org",qJ="wc",jJ="universal_provider",cd=`${qJ}@2:${jJ}:`,OB="https://rpc.walletconnect.org/v1/",_a="generic",VJ=`${OB}bundler`,Fn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function b1(r){return r==null||typeof r!="object"&&typeof r!="function"}function RB(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function MB(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const HJ="[object RegExp]",NB="[object String]",$B="[object Number]",FB="[object Boolean]",UB="[object Arguments]",GJ="[object Symbol]",KJ="[object Date]",ZJ="[object Map]",YJ="[object Set]",JJ="[object Array]",XJ="[object ArrayBuffer]",QJ="[object Object]",eX="[object DataView]",tX="[object Uint8Array]",rX="[object Uint8ClampedArray]",nX="[object Uint16Array]",oX="[object Uint32Array]",iX="[object Int8Array]",sX="[object Int16Array]",aX="[object Int32Array]",cX="[object Float32Array]",uX="[object Float64Array]";function w1(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function lX(r,e){return $a(r,void 0,r,new Map,e)}function $a(r,e,t,o=new Map,i=void 0){const n=i?.(r,e,t,o);if(n!=null)return n;if(b1(r))return r;if(o.has(r))return o.get(r);if(Array.isArray(r)){const s=new Array(r.length);o.set(r,s);for(let a=0;a<r.length;a++)s[a]=$a(r[a],a,t,o,i);return Object.hasOwn(r,"index")&&(s.index=r.index),Object.hasOwn(r,"input")&&(s.input=r.input),s}if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp){const s=new RegExp(r.source,r.flags);return s.lastIndex=r.lastIndex,s}if(r instanceof Map){const s=new Map;o.set(r,s);for(const[a,c]of r)s.set(a,$a(c,a,t,o,i));return s}if(r instanceof Set){const s=new Set;o.set(r,s);for(const a of r)s.add($a(a,void 0,t,o,i));return s}if(typeof qe<"u"&&qe.isBuffer(r))return r.subarray();if(w1(r)){const s=new(Object.getPrototypeOf(r)).constructor(r.length);o.set(r,s);for(let a=0;a<r.length;a++)s[a]=$a(r[a],a,t,o,i);return s}if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);if(r instanceof DataView){const s=new DataView(r.buffer.slice(0),r.byteOffset,r.byteLength);return o.set(r,s),ds(s,r,t,o,i),s}if(typeof File<"u"&&r instanceof File){const s=new File([r],r.name,{type:r.type});return o.set(r,s),ds(s,r,t,o,i),s}if(r instanceof Blob){const s=new Blob([r],{type:r.type});return o.set(r,s),ds(s,r,t,o,i),s}if(r instanceof Error){const s=new r.constructor;return o.set(r,s),s.message=r.message,s.name=r.name,s.stack=r.stack,s.cause=r.cause,ds(s,r,t,o,i),s}if(typeof r=="object"&&fX(r)){const s=Object.create(Object.getPrototypeOf(r));return o.set(r,s),ds(s,r,t,o,i),s}return r}function ds(r,e,t=r,o,i){const n=[...Object.keys(e),...RB(e)];for(let s=0;s<n.length;s++){const a=n[s],c=Object.getOwnPropertyDescriptor(r,a);(c==null||c.writable)&&(r[a]=$a(e[a],a,t,o,i))}}function fX(r){switch(MB(r)){case UB:case JJ:case XJ:case eX:case FB:case KJ:case cX:case uX:case iX:case sX:case aX:case ZJ:case $B:case QJ:case HJ:case YJ:case NB:case GJ:case tX:case rX:case nX:case oX:return!0;default:return!1}}function dX(r,e){return lX(r,(t,o,i,n)=>{if(typeof r=="object")switch(Object.prototype.toString.call(r)){case $B:case NB:case FB:{const s=new r.constructor(r?.valueOf());return ds(s,r),s}case UB:{const s={};return ds(s,r),s.length=r.length,s[Symbol.iterator]=r[Symbol.iterator],s}default:return}})}function rE(r){return dX(r)}function nE(r){return r!==null&&typeof r=="object"&&MB(r)==="[object Arguments]"}function oE(r){return typeof r=="object"&&r!==null}function hX(){}function pX(r){return w1(r)}function gX(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const t=r[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${t}]`}let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function yX(r){if(b1(r))return r;if(Array.isArray(r)||w1(r)||r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);const e=Object.getPrototypeOf(r),t=e.constructor;if(r instanceof Date||r instanceof Map||r instanceof Set)return new t(r);if(r instanceof RegExp){const o=new t(r);return o.lastIndex=r.lastIndex,o}if(r instanceof DataView)return new t(r.buffer.slice(0));if(r instanceof Error){const o=new t(r.message);return o.stack=r.stack,o.name=r.name,o.cause=r.cause,o}if(typeof File<"u"&&r instanceof File)return new t([r],r.name,{type:r.type,lastModified:r.lastModified});if(typeof r=="object"){const o=Object.create(e);return Object.assign(o,r)}return r}function bX(r,...e){const t=e.slice(0,-1),o=e[e.length-1];let i=r;for(let n=0;n<t.length;n++){const s=t[n];i=Dy(i,s,o,new Map)}return i}function Dy(r,e,t,o){if(b1(r)&&(r=Object(r)),e==null||typeof e!="object")return r;if(o.has(e))return yX(o.get(e));if(o.set(e,r),Array.isArray(e)){e=e.slice();for(let n=0;n<e.length;n++)e[n]=e[n]??void 0}const i=[...Object.keys(e),...RB(e)];for(let n=0;n<i.length;n++){const s=i[n];let a=e[s],c=r[s];if(nE(a)&&(a={...a}),nE(c)&&(c={...c}),typeof qe<"u"&&qe.isBuffer(a)&&(a=rE(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const b=d[h];l[b]=c[b]}c=l}else c=[];const u=t(c,a,s,r,e,o);u!=null?r[s]=u:Array.isArray(a)||oE(c)&&oE(a)?r[s]=Dy(c,a,t,o):c==null&&gX(a)?r[s]=Dy({},a,t,o):c==null&&pX(a)?r[s]=rE(a):(c===void 0||a!==void 0)&&(r[s]=a)}return r}function wX(r,...e){return bX(r,...e,hX)}var mX=Object.defineProperty,xX=Object.defineProperties,vX=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,TX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,sE=(r,e,t)=>e in r?mX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ud=(r,e)=>{for(var t in e||(e={}))TX.call(e,t)&&sE(r,t,e[t]);if(iE)for(var t of iE(e))AX.call(e,t)&&sE(r,t,e[t]);return r},EX=(r,e)=>xX(r,vX(e));function dn(r,e,t){var o;const i=ka(r);return((o=e.rpcMap)==null?void 0:o[i.reference])||`${OB}?chainId=${i.namespace}:${i.reference}&projectId=${t}`}function qs(r){return r.includes(":")?r.split(":")[1]:r}function kB(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function PX(r,e){const t=Object.keys(e.namespaces).filter(i=>i.includes(r));if(!t.length)return[];const o=[];return t.forEach(i=>{const n=e.namespaces[i].accounts;o.push(...n)}),o}function ld(r={},e={}){const t=aE(r),o=aE(e);return wX(t,o)}function aE(r){var e,t,o,i,n;const s={};if(!Co(r))return s;for(const[a,c]of Object.entries(r)){const u=Hh(a)?[a]:c.chains,l=c.methods||[],d=c.events||[],h=c.rpcMap||{},b=Na(a);s[b]=EX(ud(ud({},s[b]),c),{chains:Bo(u,(e=s[b])==null?void 0:e.chains),methods:Bo(l,(t=s[b])==null?void 0:t.methods),events:Bo(d,(o=s[b])==null?void 0:o.events)}),(Co(h)||Co(((i=s[b])==null?void 0:i.rpcMap)||{}))&&(s[b].rpcMap=ud(ud({},h),(n=s[b])==null?void 0:n.rpcMap))}return s}function cE(r){return r.includes(":")?r.split(":")[2]:r}function uE(r){const e={};for(const[t,o]of Object.entries(r)){const i=o.methods||[],n=o.events||[],s=o.accounts||[],a=Hh(t)?[t]:o.chains?o.chains:kB(o.accounts);e[t]={chains:a,methods:i,events:n,accounts:s}}return e}function vg(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const DB={},dt=r=>DB[r],Tg=(r,e)=>{DB[r]=e};var IX=Object.defineProperty,lE=Object.getOwnPropertySymbols,BX=Object.prototype.hasOwnProperty,CX=Object.prototype.propertyIsEnumerable,fE=(r,e,t)=>e in r?IX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dE=(r,e)=>{for(var t in e||(e={}))BX.call(e,t)&&fE(r,t,e[t]);if(lE)for(var t of lE(e))CX.call(e,t)&&fE(r,t,e[t]);return r};const hE="eip155",_X=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],SX=r=>r&&r.startsWith("0x")?BigInt(r).toString(10):r,Ag=r=>r&&r.startsWith("0x")?r:`0x${BigInt(r).toString(16)}`,pE=r=>Object.keys(r).filter(e=>_X.includes(e)).reduce((e,t)=>(e[t]=r[t],e),{}),WX=(r,e,t)=>{const{sessionProperties:o={},scopedProperties:i={}}=r,n={};if(!Co(i)&&!Co(o))return;const s=pE(o);for(const a of t){const c=SX(a);if(!c)continue;n[Ag(c)]=s;const u=i?.[`${hE}:${c}`];if(u){const l=u?.[`${hE}:${c}:${e}`];n[Ag(c)]=dE(dE({},n[Ag(c)]),pE(l||u))}}for(const[a,c]of Object.entries(n))Object.keys(c).length===0&&delete n[a];return Object.keys(n).length>0?n:void 0};var OX=Object.defineProperty,RX=(r,e,t)=>e in r?OX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ba=(r,e,t)=>RX(r,typeof e!="symbol"?e+"":e,t);class MX{constructor(e){ba(this,"name","polkadot"),ba(this,"client"),ba(this,"httpProviders"),ba(this,"events"),ba(this,"namespace"),ba(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;const i=qs(t);e[i]=this.createHttpProvider(i,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var NX=Object.defineProperty,$X=Object.defineProperties,FX=Object.getOwnPropertyDescriptors,gE=Object.getOwnPropertySymbols,UX=Object.prototype.hasOwnProperty,kX=Object.prototype.propertyIsEnumerable,Ly=(r,e,t)=>e in r?NX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yE=(r,e)=>{for(var t in e||(e={}))UX.call(e,t)&&Ly(r,t,e[t]);if(gE)for(var t of gE(e))kX.call(e,t)&&Ly(r,t,e[t]);return r},bE=(r,e)=>$X(r,FX(e)),wa=(r,e,t)=>Ly(r,typeof e!="symbol"?e+"":e,t);class DX{constructor(e){wa(this,"name","eip155"),wa(this,"client"),wa(this,"chainId"),wa(this,"namespace"),wa(this,"httpProviders"),wa(this,"events"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const o=t||dn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;const i=parseInt(qs(t));e[i]=this.createHttpProvider(i,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,o;let i=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const n=parseInt(i,16);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(o=this.namespace.chains)==null?void 0:o[0]}),this.setDefaultChain(`${n}`);else throw new Error(`Failed to switch to chain 'eip155:${n}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,o,i,n,s;const a=(o=(t=e.request)==null?void 0:t.params)==null?void 0:o[0],c=((n=(i=e.request)==null?void 0:i.params)==null?void 0:n[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),l=((s=u?.sessionProperties)==null?void 0:s.capabilities)||{},d=`${a}${c.join(",")}`,h=l?.[d];if(h)return h;let b;try{b=WX(u,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(b)return b;const y=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:bE(yE({},u.sessionProperties||{}),{capabilities:bE(yE({},l||{}),{[d]:y})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return y}async getCallStatus(e){var t,o;const i=this.client.session.get(e.topic),n=(t=i.sessionProperties)==null?void 0:t.bundler_name;if(n){const a=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const s=(o=i.sessionProperties)==null?void 0:o.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var o;const i=new URL(e),n=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($i("eth_getUserOperationReceipt",[(o=t.request.params)==null?void 0:o[0]]))});if(!n.ok)throw new Error(`Failed to fetch user operation receipt - ${n.status}`);return await n.json()}getBundlerUrl(e,t){return`${VJ}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var LX=Object.defineProperty,zX=(r,e,t)=>e in r?LX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ma=(r,e,t)=>zX(r,typeof e!="symbol"?e+"":e,t);class qX{constructor(e){ma(this,"name","solana"),ma(this,"client"),ma(this,"httpProviders"),ma(this,"events"),ma(this,"namespace"),ma(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;const i=qs(t);e[i]=this.createHttpProvider(i,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var jX=Object.defineProperty,VX=(r,e,t)=>e in r?jX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xa=(r,e,t)=>VX(r,typeof e!="symbol"?e+"":e,t);class HX{constructor(e){xa(this,"name","cosmos"),xa(this,"client"),xa(this,"httpProviders"),xa(this,"events"),xa(this,"namespace"),xa(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;const i=qs(t);e[i]=this.createHttpProvider(i,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var GX=Object.defineProperty,KX=(r,e,t)=>e in r?GX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,va=(r,e,t)=>KX(r,typeof e!="symbol"?e+"":e,t);class ZX{constructor(e){va(this,"name","algorand"),va(this,"client"),va(this,"httpProviders"),va(this,"events"),va(this,"namespace"),va(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const o=t||dn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,o)}this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;e[t]=this.createHttpProvider(t,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new $n(new so(o,dt("disableProviderPing")))}}var YX=Object.defineProperty,JX=(r,e,t)=>e in r?YX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ta=(r,e,t)=>JX(r,typeof e!="symbol"?e+"":e,t);class XX{constructor(e){Ta(this,"name","cip34"),Ta(this,"client"),Ta(this,"httpProviders"),Ta(this,"events"),Ta(this,"namespace"),Ta(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const o=this.getCardanoRPCUrl(t),i=qs(t);e[i]=this.createHttpProvider(i,o)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||this.getCardanoRPCUrl(e);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var QX=Object.defineProperty,eQ=(r,e,t)=>e in r?QX(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Aa=(r,e,t)=>eQ(r,typeof e!="symbol"?e+"":e,t);class tQ{constructor(e){Aa(this,"name","elrond"),Aa(this,"client"),Aa(this,"httpProviders"),Aa(this,"events"),Aa(this,"namespace"),Aa(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;const i=qs(t);e[i]=this.createHttpProvider(i,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var rQ=Object.defineProperty,nQ=(r,e,t)=>e in r?rQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ea=(r,e,t)=>nQ(r,typeof e!="symbol"?e+"":e,t);class oQ{constructor(e){Ea(this,"name","multiversx"),Ea(this,"client"),Ea(this,"httpProviders"),Ea(this,"events"),Ea(this,"namespace"),Ea(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;const i=qs(t);e[i]=this.createHttpProvider(i,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var iQ=Object.defineProperty,sQ=(r,e,t)=>e in r?iQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pa=(r,e,t)=>sQ(r,typeof e!="symbol"?e+"":e,t);class aQ{constructor(e){Pa(this,"name","near"),Pa(this,"client"),Pa(this,"httpProviders"),Pa(this,"events"),Pa(this,"namespace"),Pa(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const o=t||dn(`${this.name}:${e}`,this.namespace);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,o)}this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var o;e[t]=this.createHttpProvider(t,(o=this.namespace.rpcMap)==null?void 0:o[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace);return typeof o>"u"?void 0:new $n(new so(o,dt("disableProviderPing")))}}var cQ=Object.defineProperty,uQ=(r,e,t)=>e in r?cQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ia=(r,e,t)=>uQ(r,typeof e!="symbol"?e+"":e,t);class lQ{constructor(e){Ia(this,"name","tezos"),Ia(this,"client"),Ia(this,"httpProviders"),Ia(this,"events"),Ia(this,"namespace"),Ia(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const o=t||dn(`${this.name}:${e}`,this.namespace);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,o)}this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace);return typeof o>"u"?void 0:new $n(new so(o))}}var fQ=Object.defineProperty,dQ=(r,e,t)=>e in r?fQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ba=(r,e,t)=>dQ(r,typeof e!="symbol"?e+"":e,t);class hQ{constructor(e){Ba(this,"name",_a),Ba(this,"client"),Ba(this,"httpProviders"),Ba(this,"events"),Ba(this,"namespace"),Ba(this,"chainId"),this.namespace=e.namespace,this.events=dt("events"),this.client=dt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Fn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const o={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(i=>{const n=ka(i);o[`${n.namespace}:${n.reference}`]=this.createHttpProvider(i)}),o}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const o=this.createHttpProvider(e,t);o&&(this.httpProviders[e]=o)}createHttpProvider(e,t){const o=t||dn(e,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${e}`);return new $n(new so(o,dt("disableProviderPing")))}}var pQ=Object.defineProperty,gQ=Object.defineProperties,yQ=Object.getOwnPropertyDescriptors,wE=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,zy=(r,e,t)=>e in r?pQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fd=(r,e)=>{for(var t in e||(e={}))bQ.call(e,t)&&zy(r,t,e[t]);if(wE)for(var t of wE(e))wQ.call(e,t)&&zy(r,t,e[t]);return r},Eg=(r,e)=>gQ(r,yQ(e)),mn=(r,e,t)=>zy(r,typeof e!="symbol"?e+"":e,t);class m1{constructor(e){mn(this,"client"),mn(this,"namespaces"),mn(this,"optionalNamespaces"),mn(this,"sessionProperties"),mn(this,"scopedProperties"),mn(this,"events",new kb),mn(this,"rpcProviders",{}),mn(this,"session"),mn(this,"providerOpts"),mn(this,"logger"),mn(this,"uri"),mn(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Cu(Nh({level:e?.logger||tE})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new m1(e);return await t.initialize(),t}async request(e,t,o){const[i,n]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:fd({},e),chainId:`${i}:${n}`,topic:this.session.topic,expiry:o})}sendAsync(e,t,o,i){const n=new Date().getTime();this.request(e,o,i).then(s=>t(null,Gh(n,s))).catch(s=>t(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Bt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:o,response:i}=await this.client.authenticate(e,t);o&&(this.uri=o,this.events.emit("display_uri",o));const n=await i();if(this.session=n.session,this.session){const s=uE(this.session.namespaces);this.namespaces=ld(this.namespaces,s),await this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:o}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const i=await o();this.session=i;const n=uE(i.namespaces);return this.namespaces=ld(this.namespaces,n),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[o,i]=this.validateChain(e),n=this.getProvider(o);n.name===_a?n.setDefaultChain(`${o}:${i}`,t):n.setDefaultChain(i,t)}catch(o){if(!/Please call connect/.test(o.message))throw o}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(ni(t)){for(const o of t)e.deletePairings?this.client.core.expirer.set(o.topic,0):await this.client.core.relayer.subscriber.unsubscribe(o.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await OJ.init({core:this.providerOpts.core,logger:this.providerOpts.logger||tE,relayUrl:this.providerOpts.relayUrl||zJ,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(o){throw this.logger.error("Failed to get session",o),new Error(`The provided session: ${(t=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:t.topic} doesn't exist in the Sign client`)}else{const o=this.client.session.getAll();this.session=o[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>Na(t)))];Tg("client",this.client),Tg("events",this.events),Tg("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const o=PX(t,this.session),i=kB(o),n=ld(this.namespaces,this.optionalNamespaces),s=Eg(fd({},n[t]),{accounts:o,chains:i});switch(t){case"eip155":this.rpcProviders[t]=new DX({namespace:s});break;case"algorand":this.rpcProviders[t]=new ZX({namespace:s});break;case"solana":this.rpcProviders[t]=new qX({namespace:s});break;case"cosmos":this.rpcProviders[t]=new HX({namespace:s});break;case"polkadot":this.rpcProviders[t]=new MX({namespace:s});break;case"cip34":this.rpcProviders[t]=new XX({namespace:s});break;case"elrond":this.rpcProviders[t]=new tQ({namespace:s});break;case"multiversx":this.rpcProviders[t]=new oQ({namespace:s});break;case"near":this.rpcProviders[t]=new aQ({namespace:s});break;case"tezos":this.rpcProviders[t]=new lQ({namespace:s});break;default:this.rpcProviders[_a]?this.rpcProviders[_a].updateNamespace(s):this.rpcProviders[_a]=new hQ({namespace:s})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:o}=e;o===((t=this.session)==null?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:o,topic:i}=e;if(i!==((t=this.session)==null?void 0:t.topic))return;const{event:n}=o;if(n.name==="accountsChanged"){const s=n.data;s&&ni(s)&&this.events.emit("accountsChanged",s.map(cE))}else if(n.name==="chainChanged"){const s=o.chainId,a=o.event.data,c=Na(s),u=vg(s)!==vg(a)?`${c}:${vg(a)}`:s;this.onChainChanged(u)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var o,i;if(e!==((o=this.session)==null?void 0:o.topic))return;const{namespaces:n}=t,s=(i=this.client)==null?void 0:i.session.get(e);this.session=Eg(fd({},s),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===((t=this.session)==null?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Eg(fd({},Bt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Fn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[_a]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:o={},sessionProperties:i,scopedProperties:n}=e;this.optionalNamespaces=ld(t,o),this.sessionProperties=i,this.scopedProperties=n}validateChain(e){const[t,o]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,o];if(t&&!Object.keys(this.namespaces||{}).map(s=>Na(s)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&o)return[t,o];const i=Na(Object.keys(this.namespaces)[0]),n=this.rpcProviders[i].getDefaultChain();return[i,n]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;const[o,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(o,i),this.events.emit("chainChanged",i);const n=this.getProvider(o).getDefaultChain();t||this.getProvider(o).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:o,previousChainId:n,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:o}){var i,n;try{if(t===o)return;const s=(n=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:n.accounts;if(!s)return;const a=s.filter(c=>c.includes(`${o}:`)).map(cE);if(!ni(a))return;this.events.emit("accountsChanged",a)}catch(s){this.logger.warn("Failed to emit accountsChanged on chain change",s)}}updateNamespaceChain(e,t){if(!this.namespaces)return;const o=this.namespaces[e]?e:`${e}:${t}`,i={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[o]?this.namespaces[o]&&(this.namespaces[o].defaultChain=t):this.namespaces[o]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var o;const i=((o=this.session)==null?void 0:o.topic)||"";await this.client.core.storage.setItem(`${cd}/${e}${i}`,t)}async getFromStore(e){var t;const o=((t=this.session)==null?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${cd}/${e}${o}`)}async deleteFromStore(e){var t;const o=((t=this.session)==null?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${cd}/${e}${o}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const o of t)o.startsWith(cd)&&await this.client.core.storage.removeItem(o)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}}const mQ={__name:"trustWallet",setup(r){const e=async()=>{try{const t=await m1.init({projectId:"d62159d9e1551f0c5d9c4be3764ac563",metadata:{name:"My H5 DApp",description:"Tron USDT transfer",url:"https://zh759897854.github.io",icons:["https://example.com/logo.png"]}});t.on("display_uri",o=>{console.log("WalletConnect URI:",o);const i=`https://link.trustwallet.com/wc?uri=${encodeURIComponent(o)}`,n=document.createElement("button");n.textContent="æå¼é±å",n.onclick=()=>{window.open(i,"_blank")},document.body.appendChild(n)}),t.on("connect",async o=>{console.log("é±åå·²è¿æ¥",o),console.log(window.tronWeb,"window.tronWeb");const{session:i}=o,s=i.namespaces.tron.accounts[0].split(":")[2];if(console.log("Tron å°å:",s),!s)throw new Error("é±ååæ²¡æ Tron å°å");const a=new Be({fullHost:"https://api.trongrid.io"});a.setAddress(s),console.log("tronWeb",a);const c="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",u=a.address.toHex(c),d=await(await a.contract().at(c)).methods.balanceOf(s).call();console.log("balance",a.fromSun(d.toString()));const h="TDZWA4Pq2dGXMXneJi3PyFNUy1S6FwccRn",b=5*1e6,y=[{type:"address",value:h},{type:"uint256",value:b}],g={feeLimit:1e6,callValue:0,shouldPollResponse:!1},w=await a.transactionBuilder.triggerSmartContract(u,"transfer(address,uint256)",g,y,s);console.log(w,"tx");const I=await a.trx.sign(w.transaction);console.log(I,"signedTx");const P=await a.trx.sendRawTransaction(I);console.log(P)}),await t.connect({namespaces:{tron:{methods:["tron_signTransaction","tron_signMessage","tron_sendTransaction","personal_sign"],chains:["tron:0x2b6653dc"],events:["chainChanged","accountsChanged"],rpcMap:{"tron:0x2b6653dc":"https://api.trongrid.io"}}}})}catch(t){console.error("è¿æ¥å¤±è´¥:",t)}};return(t,o)=>(jB(),qB("button",{class:"connect",onClick:e},"Trust Wallet H5"))}},xQ=zB(mQ,[["__scopeId","data-v-82756263"]]),Dee=Object.freeze(Object.defineProperty({__proto__:null,default:xQ},Symbol.toStringTag,{value:"Module"}));export{MD as H,iT as a,au as b,Pee as c,CD as d,j3 as e,ND as f,Eee as g,zd as h,Cee as i,Bee as j,Dee as k,Iee as r,V3 as t};
